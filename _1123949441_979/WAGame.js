this.__wxLibrary={fileName:"WAGame.js",envType:"Service",contextType:"Game:MainContext",execStart:Date.now(),mayHaveSnapshot:!0};var __WAGameStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2023.8.3 23:35:47",version:"3.0.0",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,wkFeatureVersion:4,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,expt:["clicfg_appbrand_ios_native_download_new","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_android_tcp_buffer","clicfg_appbrand_ios_tcp_buffer","clicfg_weapp_weak_net_predict_local","clicfg_wa_ar_iosurface_switch","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_free_httpdns_sdk_cache","clicfg_appbrand_android_free_httpdns_sdk_cache","clicfg_appbrand_ios_inneraudio2webaudio","clicfg_appbrand_android_inneraudio2webaudio","clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio","clicfg_appbrand_android_inneraudio2webaudio_usewebaudio","clicfg_appbrand_ios_allow_multi_context_worker","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_ios_arkit2wevision_usewevision","clicfg_appbrand_ios_enable_async_create_request_task","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_android_inneraudio2webaudio_stream","clicfg_appbrand_ios_inneraudio2webaudio_stream","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_android_use_fake_native_get_phone_number","clicfg_appbrand_ios_use_fake_native_get_phone_number","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_android_forbid_sharedcanvas_defineproperty"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}}},debugOptions:{}},r=e.Function,n=r,a={};(()=>{var e={5803:(e,t,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=5803},7386:(e,t,r)=>{"use strict";function n(e,t,r,n,a){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r.r(t),r.d(t,{default:()=>n})},8921:(e,t,r)=>{"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,u,"next",e)}function u(e){n(o,a,i,s,u,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>a})},8704:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9651:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},8680:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},2844:(e,t,r)=>{var n=r(5835),a=r(1501),i=r(6724),o=r(1703),s=i.data,u=i.normalize,c="USE_FUNCTION_CONSTRUCTOR",l="AsyncIteratorPrototype",d=function(e,t){if(a(e))for(var r=0;r<e.length;r++)s[u(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,i.NATIVE),d(e.usePolyfill,i.POLYFILL),d(e.useFeatureDetection,null),n(e,c)&&(o[c]=!!e[c]),n(e,l)&&(o[c]=e[l]))}},9573:(e,t,r)=>{var n=r(9548),a=r(1002),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(a(e)+" is not a function")}},7663:(e,t,r)=>{var n=r(1908),a=r(1002),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(a(e)+" is not a constructor")}},8055:(e,t,r)=>{var n=r(9548),a=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+a(e)+" as a prototype")}},8153:(e,t,r)=>{var n=r(6501).has;e.exports=function(e){return n(e),e}},6539:(e,t,r)=>{var n=r(6619),a=r(8995),i=r(7981),o=r(9799),s=r(2317),u=r(6250),c=u("asyncDispose"),l=u("dispose"),d=n([].push),p=function(e,t,r){return a(r||function(e,t){return"async-dispose"==t&&s(e,c)||s(e,l)}(e,t),e)};e.exports=function(e,t,r,n){var a;if(n)a=o(t)?p(void 0,r,n):p(i(t),r,n);else{if(o(t))return;a=p(t,r)}d(e.stack,a)}},4014:(e,t,r)=>{var n=r(6250),a=r(3583),i=r(2468).f,o=n("unscopables"),s=Array.prototype;null==s[o]&&i(s,o,{configurable:!0,value:a(null)}),e.exports=function(e){s[o][e]=!0}},5563:(e,t,r)=>{"use strict";var n=r(4637).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},3949:(e,t,r)=>{var n=r(631),a=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw a("Incorrect invocation")}},7981:(e,t,r)=>{var n=r(3021),a=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(a(e)+" is not an object")}},3860:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7854:(e,t,r)=>{"use strict";var a,i,o,s=r(3860),u=r(8521),c=r(2689),l=r(9548),d=r(3021),p=r(5835),f=r(7221),h=r(1002),g=r(1720),v=r(9146),m=r(4173),y=r(631),b=r(5616),_=r(1672),w=r(6250),I=r(5567),S=r(7832),k=S.enforce,C=S.get,T=c.Int8Array,A=T&&T.prototype,P=c.Uint8ClampedArray,E=P&&P.prototype,x=T&&b(T),M=A&&b(A),D=Object.prototype,R=c.TypeError,L=w("toStringTag"),O=I("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",j=s&&!!_&&"Opera"!==f(c.opera),B=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=b(e);if(d(t)){var r=C(t);return r&&p(r,N)?r[N]:W(t)}},G=function(e){if(!d(e))return!1;var t=f(e);return p(F,t)||p(U,t)};for(a in F)(o=(i=c[a])&&i.prototype)?k(o)[N]=i:j=!1;for(a in U)(o=(i=c[a])&&i.prototype)&&(k(o)[N]=i);if((!j||!l(x)||x===n.prototype)&&(x=function(){throw R("Incorrect invocation")},j))for(a in F)c[a]&&_(c[a],x);if((!j||!M||M===D)&&(M=x.prototype,j))for(a in F)c[a]&&_(c[a].prototype,M);if(j&&b(E)!==M&&_(E,M),u&&!p(M,L))for(a in B=!0,m(M,L,{configurable:!0,get:function(){return d(this)?this[O]:void 0}}),F)c[a]&&g(c[a],O,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:B&&O,aTypedArray:function(e){if(G(e))return e;throw R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!_||y(x,e)))return e;throw R(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(u){if(r)for(var a in F){var i=c[a];if(i&&p(i.prototype,e))try{delete i.prototype[e]}catch(r){try{i.prototype[e]=t}catch(e){}}}M[e]&&!r||v(M,e,r?t:j&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,a;if(u){if(_){if(r)for(n in F)if((a=c[n])&&p(a,e))try{delete a[e]}catch(e){}if(x[e]&&!r)return;try{return v(x,e,r?t:j&&x[e]||t)}catch(e){}}for(n in F)!(a=c[n])||a[e]&&!r||v(a,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!d(e))return!1;var t=f(e);return"DataView"===t||p(F,t)||p(U,t)},isTypedArray:G,TypedArray:x,TypedArrayPrototype:M}},819:(e,t,r)=>{"use strict";var n=r(2689),a=r(6619),i=r(8521),o=r(3860),s=r(4046),u=r(1720),c=r(4173),l=r(2669),d=r(9835),p=r(3949),f=r(8299),h=r(6443),g=r(1169),v=r(8763),m=r(5616),y=r(1672),b=r(4161).f,_=r(5035),w=r(6283),I=r(4029),S=r(7832),k=s.PROPER,C=s.CONFIGURABLE,T="ArrayBuffer",A="DataView",P="prototype",E="Wrong index",x=S.getterFor(T),M=S.getterFor(A),D=S.set,R=n[T],L=R,O=L&&L[P],N=n[A],j=N&&N[P],B=Object.prototype,F=n.Array,U=n.RangeError,W=a(_),G=a([].reverse),V=v.pack,$=v.unpack,q=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},K=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},J=function(e){return V(e,23,4)},Y=function(e){return V(e,52,8)},Q=function(e,t,r){c(e[P],t,{configurable:!0,get:function(){return r(this)[t]}})},Z=function(e,t,r,n){var a=g(r),i=M(e);if(a+t>i.byteLength)throw U(E);var o=i.bytes,s=a+i.byteOffset,u=w(o,s,s+t);return n?u:G(u)},X=function(e,t,r,n,a,i){var o=g(r),s=M(e);if(o+t>s.byteLength)throw U(E);for(var u=s.bytes,c=o+s.byteOffset,l=n(+a),d=0;d<t;d++)u[c+d]=l[i?d:t-d-1]};if(o){var ee=k&&R.name!==T;if(d((function(){R(1)}))&&d((function(){new R(-1)}))&&!d((function(){return new R,new R(1.5),new R(NaN),1!=R.length||ee&&!C})))ee&&C&&u(R,"name",T);else{(L=function(e){return p(this,O),new R(g(e))})[P]=O;for(var te,re=b(R),ne=0;re.length>ne;)(te=re[ne++])in L||u(L,te,R[te]);O.constructor=L}y&&m(j)!==B&&y(j,B);var ae=new N(new L(2)),ie=a(j.setInt8);ae.setInt8(0,2147483648),ae.setInt8(1,2147483649),!ae.getInt8(0)&&ae.getInt8(1)||l(j,{setInt8:function(e,t){ie(this,e,t<<24>>24)},setUint8:function(e,t){ie(this,e,t<<24>>24)}},{unsafe:!0})}else O=(L=function(e){p(this,O);var t=g(e);D(this,{type:T,bytes:W(F(t),0),byteLength:t}),i||(this.byteLength=t,this.detached=!1)})[P],j=(N=function(e,t,r){p(this,j),p(e,O);var n=x(e),a=n.byteLength,o=f(t);if(o<0||o>a)throw U("Wrong offset");if(o+(r=void 0===r?a-o:h(r))>a)throw U("Wrong length");D(this,{type:A,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),i||(this.buffer=e,this.byteLength=r,this.byteOffset=o)})[P],i&&(Q(L,"byteLength",x),Q(N,"buffer",M),Q(N,"byteLength",M),Q(N,"byteOffset",M)),l(j,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return H(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return H(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return $(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return $(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,q,t)},setUint8:function(e,t){X(this,1,e,q,t)},setInt16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,z,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,K,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Y,t,arguments.length>2?arguments[2]:void 0)}});I(L,T),I(N,A),e.exports={ArrayBuffer:L,DataView:N}},5035:(e,t,r)=>{"use strict";var n=r(18),a=r(3610),i=r(56);e.exports=function(e){for(var t=n(this),r=i(t),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:a(u,r);c>s;)t[s++]=e;return t}},778:(e,t,r)=>{"use strict";var n=r(8995),a=r(6619),i=r(18),o=r(1908),s=r(6249),u=r(8631),c=r(6302),l=r(5569),d=r(2317),p=r(9682),f=r(2555),h=r(6250),g=r(2429),v=r(9937).toArray,m=h("asyncIterator"),y=a(p("Array").values),b=a(y([]).next),_=function(){return new w(this)},w=function(e){this.iterator=y(e)};w.prototype.next=function(){return b(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,a=r>1?arguments[1]:void 0,p=r>2?arguments[2]:void 0;return new(f("Promise"))((function(r){var f=i(e);void 0!==a&&(a=n(a,p));var h=d(f,m),y=h?void 0:l(f)||_,b=o(t)?new t:[],w=h?s(f,h):new g(c(u(f,y)));r(v(w,a,b))}))}},113:(e,t,r)=>{var n=r(56);e.exports=function(e,t){for(var r=0,a=n(t),i=new e(a);a>r;)i[r]=t[r++];return i}},5931:(e,t,r)=>{"use strict";var n=r(8995),a=r(6619),i=r(8582),o=r(18),s=r(56),u=r(8017),c=u.Map,l=u.get,d=u.has,p=u.set,f=a([].push);e.exports=function(e){for(var t,r,a=o(this),u=i(a),h=n(e,arguments.length>1?arguments[1]:void 0),g=new c,v=s(u),m=0;v>m;m++)t=h(r=u[m],m,a),d(g,t)?f(l(g,t),r):p(g,t,[r]);return g}},9639:(e,t,r)=>{var n=r(8995),a=r(6619),i=r(8582),o=r(18),s=r(7880),u=r(56),c=r(3583),l=r(113),d=Array,p=a([].push);e.exports=function(e,t,r,a){for(var f,h,g,v=o(e),m=i(v),y=n(t,r),b=c(null),_=u(m),w=0;_>w;w++)g=m[w],(h=s(y(g,w,v)))in b?p(b[h],g):b[h]=[g];if(a&&(f=a(v))!==d)for(h in b)b[h]=l(f,b[h]);return b}},5379:(e,t,r)=>{var n=r(7417),a=r(3610),i=r(56),o=function(e){return function(t,r,o){var s,u=n(t),c=i(u),l=a(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},3792:(e,t,r)=>{var n=r(8995),a=r(8582),i=r(18),o=r(56),s=function(e){var t=1==e;return function(r,s,u){for(var c,l=i(r),d=a(l),p=n(s,u),f=o(d);f-- >0;)if(p(c=d[f],f,l))switch(e){case 0:return c;case 1:return f}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},8250:(e,t,r)=>{var n=r(8995),a=r(6619),i=r(8582),o=r(18),s=r(56),u=r(3848),c=a([].push),l=function(e){var t=1==e,r=2==e,a=3==e,l=4==e,d=6==e,p=7==e,f=5==e||d;return function(h,g,v,m){for(var y,b,_=o(h),w=i(_),I=n(g,v),S=s(w),k=0,C=m||u,T=t?C(h,S):r||p?C(h,0):void 0;S>k;k++)if((f||k in w)&&(b=I(y=w[k],k,_),e))if(t)T[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c(T,y)}else switch(e){case 4:return!1;case 7:c(T,y)}return d?-1:a||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6732:(e,t,r)=>{"use strict";var n=r(9835);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3447:(e,t,r)=>{"use strict";var n=r(8521),a=r(1501),i=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(a(e)&&!o(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6283:(e,t,r)=>{var n=r(3610),a=r(56),i=r(9117),o=Array,s=Math.max;e.exports=function(e,t,r){for(var u=a(e),c=n(t,u),l=n(void 0===r?u:r,u),d=o(s(l-c,0)),p=0;c<l;c++,p++)i(d,p,e[c]);return d.length=p,d}},7687:(e,t,r)=>{var n=r(6619);e.exports=n([].slice)},2026:(e,t,r)=>{var n=r(6283),a=Math.floor,i=function(e,t){var r=e.length,u=a(r/2);return r<8?o(e,t):s(e,i(n(e,0,u),t),i(n(e,u),t),t)},o=function(e,t){for(var r,n,a=e.length,i=1;i<a;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var a=t.length,i=r.length,o=0,s=0;o<a||s<i;)e[o+s]=o<a&&s<i?n(t[o],r[s])<=0?t[o++]:r[s++]:o<a?t[o++]:r[s++];return e};e.exports=i},2028:(e,t,r)=>{var n=r(1501),a=r(1908),i=r(3021),o=r(6250)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(a(t)&&(t===s||n(t.prototype))||i(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},3848:(e,t,r)=>{var n=r(2028);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},6203:(e,t,r)=>{var n=r(56);e.exports=function(e,t){for(var r=n(e),a=new t(r),i=0;i<r;i++)a[i]=e[r-i-1];return a}},4784:(e,t,r)=>{var n=r(56),a=r(8299),i=RangeError;e.exports=function(e,t,r,o){var s=n(e),u=a(r),c=u<0?s+u:u;if(c>=s||c<0)throw i("Incorrect index");for(var l=new t(s),d=0;d<s;d++)l[d]=d===c?o:e[d];return l}},2429:(e,t,r)=>{"use strict";var n=r(970),a=r(7981),i=r(3583),o=r(2317),s=r(2669),u=r(7832),c=r(2555),l=r(2342),d=r(2549),p=c("Promise"),f="AsyncFromSyncIterator",h=u.set,g=u.getterFor(f),v=function(e,t,r){var n=e.done;p.resolve(e.value).then((function(e){t(d(e,n))}),r)},m=function(e){e.type=f,h(this,e)};m.prototype=s(i(l),{next:function(){var e=g(this);return new p((function(t,r){var i=a(n(e.next,e.iterator));v(i,t,r)}))},return:function(){var e=g(this).iterator;return new p((function(t,r){var i=o(e,"return");if(void 0===i)return t(d(void 0,!0));var s=a(n(i,e));v(s,t,r)}))}}),e.exports=m},86:(e,t,r)=>{var n=r(970),a=r(2555),i=r(2317);e.exports=function(e,t,r,o){try{var s=i(e,"return");if(s)return a("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){o(e)}))}catch(e){return o(e)}t(r)}},5817:(e,t,r)=>{"use strict";var n=r(970),a=r(3576),i=r(7981),o=r(3583),s=r(1720),u=r(2669),c=r(6250),l=r(7832),d=r(2555),p=r(2317),f=r(2342),h=r(2549),g=r(7087),v=d("Promise"),m=c("toStringTag"),y="AsyncIteratorHelper",b="WrapForValidAsyncIterator",_=l.set,w=function(e){var t=!e,r=l.getterFor(e?b:y),s=function(e){var n=a((function(){return r(e)})),i=n.error,o=n.value;return i||t&&o.done?{exit:!0,value:i?v.reject(o):v.resolve(h(void 0,!0))}:{exit:!1,value:o}};return u(o(f),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=a((function(){return i(t.nextHandler(v))})),n=r.error,o=r.value;return n&&(t.done=!0),n?v.reject(o):v.resolve(o)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var o,u,c=r.iterator,l=a((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(c,"throw",e)}return p(c,"return")}));return o=u=l.value,l.error?v.reject(u):void 0===o?v.resolve(h(void 0,!0)):(u=(l=a((function(){return n(o,c)}))).value,l.error?v.reject(u):e?v.resolve(u):v.resolve(u).then((function(e){return i(e),h(void 0,!0)})))}})},I=w(!0),S=w(!1);s(S,m,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?b:y,n.nextHandler=e,n.counter=0,n.done=!1,_(this,n)};return r.prototype=t?I:S,r}},9937:(e,t,r)=>{"use strict";var n=r(970),a=r(9573),i=r(7981),o=r(3021),s=r(5396),u=r(2555),c=r(6302),l=r(86),d=function(e){var t=0==e,r=1==e,d=2==e,p=3==e;return function(e,f,h){var g=c(e),v=u("Promise"),m=g.iterator,y=g.next,b=0,_=void 0!==f;return!_&&t||a(f),new v((function(e,a){var u=function(e){l(m,a,e,a)},c=function(){try{if(_)try{s(b)}catch(e){u(e)}v.resolve(i(n(y,m))).then((function(n){try{if(i(n).done)t?(h.length=b,e(h)):e(!p&&(d||void 0));else{var s=n.value;try{if(_){var g=f(s,b),y=function(n){if(r)c();else if(d)n?c():l(m,e,!1,a);else if(t)try{h[b++]=n,c()}catch(e){u(e)}else n?l(m,e,p||s,a):c()};o(g)?v.resolve(g).then(y,u):y(g)}else h[b++]=s,c()}catch(e){u(e)}}}catch(e){a(e)}}),a)}catch(e){a(e)}};c()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},3101:(e,t,r)=>{"use strict";var n=r(970),a=r(9573),i=r(7981),o=r(3021),s=r(6302),u=r(5817),c=r(2549),l=r(86),d=u((function(e){var t=this,r=t.iterator,a=t.mapper;return new e((function(s,u){var d=function(e){t.done=!0,u(e)},p=function(e){l(r,d,e,d)};e.resolve(i(n(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,s(c(void 0,!0));else{var n=r.value;try{var u=a(n,t.counter++),l=function(e){s(c(e,!1))};o(u)?e.resolve(u).then(l,p):l(u)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return new d(s(this),{mapper:a(e)})}},2342:(e,t,r)=>{var a,i,o=r(2689),s=r(1703),u=r(9548),c=r(3583),l=r(5616),d=r(9146),p=r(6250),f=r(5231),h="USE_FUNCTION_CONSTRUCTOR",g=p("asyncIterator"),v=o.AsyncIterator,m=s.AsyncIteratorPrototype;if(m)a=m;else if(u(v))a=v.prototype;else if(s[h]||o[h])try{i=l(l(l(n("return async function*(){}()")()))),l(i)===Object.prototype&&(a=i)}catch(e){}a?f&&(a=c(a)):a={},u(a[g])||d(a,g,(function(){return this})),e.exports=a},6784:(e,t,r)=>{var n=r(970),a=r(5817);e.exports=a((function(){return n(this.next,this.iterator)}),!0)},579:(e,t,r)=>{var n=r(7981),a=r(7087);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){a(e,"throw",t)}}},2176:(e,t,r)=>{var n=r(6250)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},1335:(e,t,r)=>{var n=r(6619),a=n({}.toString),i=n("".slice);e.exports=function(e){return i(a(e),8,-1)}},7221:(e,t,r)=>{var n=r(8024),a=r(9548),i=r(1335),o=r(6250)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:u?i(t):"Object"==(n=i(t))&&a(t.callee)?"Arguments":n}},4361:(e,t,r)=>{var n=r(5835),a=r(313),i=r(7812),o=r(2468);e.exports=function(e,t,r){for(var s=a(t),u=o.f,c=i.f,l=0;l<s.length;l++){var d=s[l];n(e,d)||r&&n(r,d)||u(e,d,c(t,d))}}},1086:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2549:e=>{e.exports=function(e,t){return{value:e,done:t}}},1720:(e,t,r)=>{var n=r(8521),a=r(2468),i=r(3179);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},3179:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9117:(e,t,r)=>{"use strict";var n=r(7880),a=r(2468),i=r(3179);e.exports=function(e,t,r){var o=n(t);o in e?a.f(e,o,i(0,r)):e[o]=r}},4173:(e,t,r)=>{var n=r(9424),a=r(2468);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),a.f(e,t,r)}},9146:(e,t,r)=>{var n=r(9548),a=r(2468),i=r(9424),o=r(4017);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&i(r,c,s),s.global)u?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:a.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},2669:(e,t,r)=>{var n=r(9146);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},4017:(e,t,r)=>{var n=r(2689),a=Object.defineProperty;e.exports=function(e,t){try{a(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9580:(e,t,r)=>{"use strict";var n=r(1002),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw a("Cannot delete property "+n(t)+" of "+n(e))}},8521:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},806:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},7345:(e,t,r)=>{var n=r(2689),a=r(3021),i=n.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},5396:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3262:(e,t,r)=>{var n=r(350).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},9529:(e,t,r)=>{var n=r(687),a=r(8976);e.exports=!n&&!a&&"object"==typeof window&&"object"==typeof document},687:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1353:(e,t,r)=>{var n=r(350);e.exports=/MSIE|Trident/.test(n)},4556:(e,t,r)=>{var n=r(350);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},8604:(e,t,r)=>{var n=r(350);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},8976:(e,t,r)=>{var n=r(1335);e.exports="undefined"!=typeof process&&"process"==n(process)},5114:(e,t,r)=>{var n=r(350);e.exports=/web0s(?!.*chrome)/i.test(n)},350:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9168:(e,t,r)=>{var n,a,i=r(2689),o=r(350),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(a=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(a=+n[1]),e.exports=a},2842:(e,t,r)=>{var n=r(350).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},9682:(e,t,r)=>{var n=r(2689);e.exports=function(e){return n[e].prototype}},8288:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1496:(e,t,r)=>{var n=r(6619),a=Error,i=n("".replace),o=String(a("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(o);e.exports=function(e,t){if(u&&"string"==typeof e&&!a.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},9431:(e,t,r)=>{var n=r(1720),a=r(1496),i=r(9764),o=Error.captureStackTrace;e.exports=function(e,t,r,s){i&&(o?o(e,t):n(e,"stack",a(r,s)))}},9764:(e,t,r)=>{var n=r(9835),a=r(3179);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)}))},5077:(e,t,r)=>{var n=r(2689),a=r(7812).f,i=r(1720),o=r(9146),s=r(4017),u=r(4361),c=r(6724);e.exports=function(e,t){var r,l,d,p,f,h=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(f=a(r,l))&&f.value:r[l],!c(g?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&i(p,"sham",!0),o(r,l,p,e)}}},9835:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},1552:(e,t,r)=>{"use strict";r(5403);var n=r(3482),a=r(9146),i=r(8627),o=r(9835),s=r(6250),u=r(1720),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var p=s(e),f=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=f&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!f||!h||r){var g=n(/./[p]),v=t(p,""[e],(function(e,t,r,a,o){var s=n(e),u=t.exec;return u===i||u===l.exec?f&&!o?{done:!0,value:g(t,r,a)}:{done:!0,value:s(r,t,a)}:{done:!1}}));a(String.prototype,e,v[0]),a(l,p,v[1])}d&&u(l[p],"sham",!0)}},352:(e,t,r)=>{var a=r(9966),i=n.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(o):function(){return s.apply(o,arguments)})},8995:(e,t,r)=>{var n=r(3482),a=r(9573),i=r(9966),o=n(n.bind);e.exports=function(e,t){return a(e),void 0===t?e:i?o(e,t):function(){return e.apply(t,arguments)}}},9966:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},970:(e,t,r)=>{var a=r(9966),i=n.prototype.call;e.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},4046:(e,t,r)=>{var a=r(8521),i=r(5835),o=n.prototype,s=a&&Object.getOwnPropertyDescriptor,u=i(o,"name"),c=u&&"something"===function(){}.name,l=u&&(!a||a&&s(o,"name").configurable);e.exports={EXISTS:u,PROPER:c,CONFIGURABLE:l}},2221:(e,t,r)=>{var n=r(6619),a=r(9573);e.exports=function(e,t,r){try{return n(a(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},3482:(e,t,r)=>{var n=r(1335),a=r(6619);e.exports=function(e){if("Function"===n(e))return a(e)}},6619:(e,t,r)=>{var a=r(9966),i=n.prototype,o=i.call,s=a&&i.bind.bind(o,o);e.exports=a?s:function(e){return function(){return o.apply(e,arguments)}}},5968:(e,t,r)=>{var n=r(970),a=r(9548),i=r(7981),o=r(6302),s=r(5569),u=r(2317),c=r(6250),l=r(2429),d=c("asyncIterator");e.exports=function(e){var t,r=i(e),c=!0,p=u(r,d);return a(p)||(p=s(r),c=!1),a(p)?t=n(p,r):(t=r,c=!0),i(t),o(c?t:new l(o(t)))}},6249:(e,t,r)=>{var n=r(970),a=r(2429),i=r(7981),o=r(8631),s=r(6302),u=r(2317),c=r(6250)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?u(e,c):t;return r?i(n(r,e)):new a(s(o(e)))}},2555:(e,t,r)=>{var n=r(2689),a=r(9548);e.exports=function(e,t){return arguments.length<2?(r=n[e],a(r)?r:void 0):n[e]&&n[e][t];var r}},6302:(e,t,r)=>{var n=r(9573),a=r(7981);e.exports=function(e){return{iterator:e,next:n(a(e).next)}}},894:(e,t,r)=>{var n=r(970),a=r(9548),i=r(7981),o=r(6302),s=r(5569);e.exports=function(e){var t=i(e),r=s(t);return o(i(a(r)?n(r,t):t))}},5569:(e,t,r)=>{var n=r(7221),a=r(2317),i=r(9799),o=r(807),s=r(6250)("iterator");e.exports=function(e){if(!i(e))return a(e,s)||a(e,"@@iterator")||o[n(e)]}},8631:(e,t,r)=>{var n=r(970),a=r(9573),i=r(7981),o=r(1002),s=r(5569),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(a(r))return i(n(r,e));throw u(o(e)+" is not iterable")}},3849:(e,t,r)=>{var n=r(6619),a=r(1501),i=r(9548),o=r(1335),s=r(9013),u=n([].push);e.exports=function(e){if(i(e))return e;if(a(e)){for(var t=e.length,r=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||u(r,s(c))}var l=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(a(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}}},2317:(e,t,r)=>{var n=r(9573),a=r(9799);e.exports=function(e,t){var r=e[t];return a(r)?void 0:n(r)}},1958:(e,t,r)=>{var n=r(9573),a=r(7981),i=r(970),o=r(8299),s=TypeError,u=Math.max,c=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};c.prototype={getIterator:function(){return a(i(this.keys,this.set))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){a(e);var t=+e.size;if(t!=t)throw s("Invalid size");return new c(e,u(o(t),0),n(e.has),n(e.keys))}},2754:(e,t,r)=>{var n=r(6619),a=r(18),i=Math.floor,o=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var f=r+e.length,h=n.length,g=l;return void 0!==d&&(d=a(d),g=c),s(p,g,(function(a,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,f);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return a;if(l>h){var p=i(l/10);return 0===p?a:p<=h?void 0===n[p-1]?o(s,1):n[p-1]+o(s,1):a}c=n[l-1]}return void 0===c?"":c}))}},2689:(e,t,r)=>{var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r.g&&r.g)||function(){return this}()||n("return this")()},5835:(e,t,r)=>{var n=r(6619),a=r(18),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(a(e),t)}},1553:e=>{e.exports={}},7416:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},9856:(e,t,r)=>{var n=r(2555);e.exports=n("document","documentElement")},1910:(e,t,r)=>{var n=r(8521),a=r(9835),i=r(7345);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8763:e=>{var t=Array,r=Math.abs,n=Math.pow,a=Math.floor,i=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,d,p=t(u),f=8*u-s-1,h=(1<<f)-1,g=h>>1,v=23===s?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=a(i(e)/o),e*(d=n(2,-c))<1&&(c--,d*=2),(e+=c+g>=1?v/d:v*n(2,1-g))*d>=2&&(c++,d/=2),c+g>=h?(l=0,c=h):c+g>=1?(l=(e*d-1)*n(2,s),c+=g):(l=e*n(2,g-1)*n(2,s),c=0));s>=8;)p[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,f+=s;f>0;)p[y++]=255&c,c/=256,f-=8;return p[--y]|=128*m,p},unpack:function(e,t){var r,a=e.length,i=8*a-t-1,o=(1<<i)-1,s=o>>1,u=i-7,c=a-1,l=e[c--],d=127&l;for(l>>=7;u>0;)d=256*d+e[c--],u-=8;for(r=d&(1<<-u)-1,d>>=-u,u+=t;u>0;)r=256*r+e[c--],u-=8;if(0===d)d=1-s;else{if(d===o)return r?NaN:l?-1/0:1/0;r+=n(2,t),d-=s}return(l?-1:1)*r*n(2,d-t)}}},8582:(e,t,r)=>{var n=r(6619),a=r(9835),i=r(1335),o=Object,s=n("".split);e.exports=a((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):o(e)}:o},3570:(e,t,r)=>{var n=r(9548),a=r(3021),i=r(1672);e.exports=function(e,t,r){var o,s;return i&&n(o=t.constructor)&&o!==r&&a(s=o.prototype)&&s!==r.prototype&&i(e,s),e}},2958:(e,t,r)=>{var a=r(6619),i=r(9548),o=r(1703),s=a(n.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},5016:(e,t,r)=>{var n=r(3021),a=r(1720);e.exports=function(e,t){n(t)&&"cause"in t&&a(e,"cause",t.cause)}},7832:(e,t,r)=>{var n,a,i,o=r(1894),s=r(2689),u=r(3021),c=r(1720),l=r(5835),d=r(1703),p=r(5923),f=r(1553),h="Object already initialized",g=s.TypeError,v=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw g(h);return t.facade=e,m.set(e,t),t},a=function(e){return m.get(e)||{}},i=function(e){return m.has(e)}}else{var y=p("state");f[y]=!0,n=function(e,t){if(l(e,y))throw g(h);return t.facade=e,c(e,y,t),t},a=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:a,has:i,enforce:function(e){return i(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=a(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},4713:(e,t,r)=>{var n=r(6250),a=r(807),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},1501:(e,t,r)=>{var n=r(1335);e.exports=Array.isArray||function(e){return"Array"==n(e)}},2488:(e,t,r)=>{var n=r(7221);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},9548:(e,t,r)=>{var n=r(806),a=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===a}:function(e){return"function"==typeof e}},1908:(e,t,r)=>{var n=r(6619),a=r(9835),i=r(9548),o=r(7221),s=r(2555),u=r(2958),c=function(){},l=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),h=!p.exec(c),g=function(e){if(!i(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}},v=function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||a((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},6724:(e,t,r)=>{var n=r(9835),a=r(9548),i=/#|\.prototype\./,o=function(e,t){var r=u[s(e)];return r==l||r!=c&&(a(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},3781:(e,t,r)=>{var n=r(3021),a=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&a(e)===e}},9799:e=>{e.exports=function(e){return null==e}},3021:(e,t,r)=>{var n=r(9548),a=r(806),i=a.all;e.exports=a.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},5231:e=>{e.exports=!1},5781:(e,t,r)=>{var n=r(3021),a=r(1335),i=r(6250)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},7870:(e,t,r)=>{var n=r(2555),a=r(9548),i=r(631),o=r(7079),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return a(t)&&i(t.prototype,s(e))}},1700:(e,t,r)=>{var n=r(970);e.exports=function(e,t,r){for(var a,i,o=r||e.next;!(a=n(o,e)).done;)if(void 0!==(i=t(a.value)))return i}},4760:(e,t,r)=>{var n=r(8995),a=r(970),i=r(7981),o=r(1002),s=r(4713),u=r(56),c=r(631),l=r(8631),d=r(5569),p=r(7087),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},g=h.prototype;e.exports=function(e,t,r){var v,m,y,b,_,w,I,S=r&&r.that,k=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),P=n(t,S),E=function(e){return v&&p(v,"normal",e),new h(!0,e)},x=function(e){return k?(i(e),A?P(e[0],e[1],E):P(e[0],e[1])):A?P(e,E):P(e)};if(C)v=e.iterator;else if(T)v=e;else{if(!(m=d(e)))throw f(o(e)+" is not iterable");if(s(m)){for(y=0,b=u(e);b>y;y++)if((_=x(e[y]))&&c(g,_))return _;return new h(!1)}v=l(e,m)}for(w=C?e.next:v.next;!(I=a(w,v)).done;){try{_=x(I.value)}catch(e){p(v,"throw",e)}if("object"==typeof _&&_&&c(g,_))return _}return new h(!1)}},7087:(e,t,r)=>{var n=r(970),a=r(7981),i=r(2317);e.exports=function(e,t,r){var o,s;a(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return a(o),r}},4610:(e,t,r)=>{"use strict";var n=r(7357).IteratorPrototype,a=r(3583),i=r(3179),o=r(4029),s=r(807),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=a(n,{next:i(+!c,r)}),o(e,l,!1,!0),s[l]=u,e}},3389:(e,t,r)=>{"use strict";var n=r(970),a=r(3583),i=r(1720),o=r(2669),s=r(6250),u=r(7832),c=r(2317),l=r(7357).IteratorPrototype,d=r(2549),p=r(7087),f=s("toStringTag"),h="IteratorHelper",g="WrapForValidIterator",v=u.set,m=function(e){var t=u.getterFor(e?g:h);return o(a(l),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return d(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),a=r.iterator;if(r.done=!0,e){var i=c(a,"return");return i?n(i,a):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(e){return p(a,"throw",e)}return p(a,"normal"),d(void 0,!0)}})},y=m(!0),b=m(!1);i(b,f,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?g:h,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?y:b,r}},5504:(e,t,r)=>{"use strict";var n=r(970),a=r(9573),i=r(7981),o=r(6302),s=r(3389),u=r(579),c=s((function(){var e=this.iterator,t=i(n(this.next,e));if(!(this.done=!!t.done))return u(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return new c(o(this),{mapper:a(e)})}},7357:(e,t,r)=>{"use strict";var n,a,i,o=r(9835),s=r(9548),u=r(3021),c=r(3583),l=r(5616),d=r(9146),p=r(6250),f=r(5231),h=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(a=l(l(i)))!==Object.prototype&&(n=a):g=!0),!u(n)||o((function(){var e={};return n[h].call(e)!==e}))?n={}:f&&(n=c(n)),s(n[h])||d(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},807:e=>{e.exports={}},56:(e,t,r)=>{var n=r(6443);e.exports=function(e){return n(e.length)}},9424:(e,t,r)=>{var a=r(6619),i=r(9835),o=r(9548),s=r(5835),u=r(8521),c=r(4046).CONFIGURABLE,l=r(2958),d=r(7832),p=d.enforce,f=d.get,h=String,g=Object.defineProperty,v=a("".slice),m=a("".replace),y=a([].join),b=u&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),_=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===v(h(t),0,7)&&(t="["+m(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(u?g(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&s(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?u&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=p(e);return s(n,"source")||(n.source=y(_,"string"==typeof t?t:"")),e};n.prototype.toString=w((function(){return o(this)&&f(this).source||l(this)}),"toString")},8017:(e,t,r)=>{var n=r(6619),a=Map.prototype;e.exports={Map:Map,set:n(a.set),get:n(a.get),has:n(a.has),remove:n(a.delete),proto:a}},2707:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},9722:(e,t,r)=>{var n,a,i,o,s,u=r(2689),c=r(8995),l=r(7812).f,d=r(3233).set,p=r(2576),f=r(8604),h=r(4556),g=r(5114),v=r(8976),m=u.MutationObserver||u.WebKitMutationObserver,y=u.document,b=u.process,_=u.Promise,w=l(u,"queueMicrotask"),I=w&&w.value;if(!I){var S=new p,k=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&n(),e}e&&e.enter()};f||v||g||!m||!y?!h&&_&&_.resolve?((o=_.resolve(void 0)).constructor=_,s=c(o.then,o),n=function(){s(k)}):v?n=function(){b.nextTick(k)}:(d=c(d,u),n=function(){d(k)}):(a=!0,i=y.createTextNode(""),new m(k).observe(i,{characterData:!0}),n=function(){i.data=a=!a}),I=function(e){S.head||n(),S.add(e)}}e.exports=I},9203:(e,t,r)=>{"use strict";var n=r(9573),a=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw a("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},8364:(e,t,r)=>{var n=r(9013);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},9024:e=>{var t=RangeError;e.exports=function(e){if(e==e)return e;throw t("NaN is not allowed")}},3583:(e,t,r)=>{var n,a=r(7981),i=r(4002),o=r(8288),s=r(1553),u=r(9856),c=r(7345),l=r(5923),d="prototype",p="script",f=l("IE_PROTO"),h=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+p+":",t.style.display="none",u.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(n);for(var a=o.length;a--;)delete m[d][o[a]];return m()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[d]=a(e),r=new h,h[d]=null,r[f]=e):r=m(),void 0===t?r:i.f(r,t)}},4002:(e,t,r)=>{var n=r(8521),a=r(6144),i=r(2468),o=r(7981),s=r(7417),u=r(549);t.f=n&&!a?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),a=u(t),c=a.length,l=0;c>l;)i.f(e,r=a[l++],n[r]);return e}},2468:(e,t,r)=>{var n=r(8521),a=r(1910),i=r(6144),o=r(7981),s=r(7880),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=n?i?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var n=l(e,t);n&&n[f]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),a)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7812:(e,t,r)=>{var n=r(8521),a=r(970),i=r(4423),o=r(3179),s=r(7417),u=r(7880),c=r(5835),l=r(1910),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return o(!a(i.f,e,t),e[t])}},4161:(e,t,r)=>{var n=r(5147),a=r(8288).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},4644:(e,t)=>{t.f=Object.getOwnPropertySymbols},5616:(e,t,r)=>{var n=r(5835),a=r(9548),i=r(18),o=r(5923),s=r(1086),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},631:(e,t,r)=>{var n=r(6619);e.exports=n({}.isPrototypeOf)},5147:(e,t,r)=>{var n=r(6619),a=r(5835),i=r(7417),o=r(5379).indexOf,s=r(1553),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!a(s,r)&&a(n,r)&&u(l,r);for(;t.length>c;)a(n,r=t[c++])&&(~o(l,r)||u(l,r));return l}},549:(e,t,r)=>{var n=r(5147),a=r(8288);e.exports=Object.keys||function(e){return n(e,a)}},4423:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},1672:(e,t,r)=>{var n=r(2221),a=r(7981),i=r(8055);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},6082:(e,t,r)=>{var n=r(970),a=r(9548),i=r(3021),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&a(r=e.toString)&&!i(s=n(r,e)))return s;if(a(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&a(r=e.toString)&&!i(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}},313:(e,t,r)=>{var n=r(2555),a=r(6619),i=r(4161),o=r(4644),s=r(7981),u=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=o.f;return r?u(t,r(e)):t}},1626:(e,t,r)=>{var n=r(2689);e.exports=n},3576:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3984:(e,t,r)=>{var n=r(2689),a=r(9512),i=r(9548),o=r(6724),s=r(2958),u=r(6250),c=r(9529),l=r(687),d=r(5231),p=r(9168),f=a&&a.prototype,h=u("species"),g=!1,v=i(n.PromiseRejectionEvent),m=o("Promise",(function(){var e=s(a),t=e!==String(a);if(!t&&66===p)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new a((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(g=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!v}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:g}},9512:(e,t,r)=>{var n=r(2689);e.exports=n.Promise},2988:(e,t,r)=>{var n=r(7981),a=r(3021),i=r(9203);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},5774:(e,t,r)=>{var n=r(9512),a=r(2176),i=r(3984).CONSTRUCTOR;e.exports=i||!a((function(e){n.all(e).then(void 0,(function(){}))}))},2756:(e,t,r)=>{var n=r(2468).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},2576:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},8343:(e,t,r)=>{var n=r(970),a=r(7981),i=r(9548),o=r(1335),s=r(8627),u=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var c=n(r,e,t);return null!==c&&a(c),c}if("RegExp"===o(e))return n(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},8627:(e,t,r)=>{"use strict";var n,a,i=r(970),o=r(6619),s=r(9013),u=r(9811),c=r(6340),l=r(969),d=r(3583),p=r(7832).get,f=r(7050),h=r(1897),g=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,y=o("".charAt),b=o("".indexOf),_=o("".replace),w=o("".slice),I=(a=/b*/g,i(v,n=/a/,"a"),i(v,a,"a"),0!==n.lastIndex||0!==a.lastIndex),S=c.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(I||k||S||f||h)&&(m=function(e){var t,r,n,a,o,c,l,f=this,h=p(f),C=s(e),T=h.raw;if(T)return T.lastIndex=f.lastIndex,t=i(m,T,C),f.lastIndex=T.lastIndex,t;var A=h.groups,P=S&&f.sticky,E=i(u,f),x=f.source,M=0,D=C;if(P&&(E=_(E,"y",""),-1===b(E,"g")&&(E+="g"),D=w(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(C,f.lastIndex-1))&&(x="(?: "+x+")",D=" "+D,M++),r=new RegExp("^(?:"+x+")",E)),k&&(r=new RegExp("^"+x+"$(?!\\s)",E)),I&&(n=f.lastIndex),a=i(v,P?r:f,D),P?a?(a.input=w(a.input,M),a[0]=w(a[0],M),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:I&&a&&(f.lastIndex=f.global?a.index+a[0].length:n),k&&a&&a.length>1&&i(g,a[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&A)for(a.groups=c=d(null),o=0;o<A.length;o++)c[(l=A[o])[0]]=a[l[1]];return a}),e.exports=m},9811:(e,t,r)=>{"use strict";var n=r(7981);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3715:(e,t,r)=>{var n=r(970),a=r(5835),i=r(631),o=r(9811),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||a(e,"flags")||!i(s,e)?t:n(o,e)}},6340:(e,t,r)=>{var n=r(9835),a=r(2689).RegExp,i=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=i||n((function(){return!a("a","y").sticky})),s=i||n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:i}},7050:(e,t,r)=>{var n=r(9835),a=r(2689).RegExp;e.exports=n((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},1897:(e,t,r)=>{var n=r(9835),a=r(2689).RegExp;e.exports=n((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8602:(e,t,r)=>{var n=r(9799),a=TypeError;e.exports=function(e){if(n(e))throw a("Can't call method on "+e);return e}},1558:(e,t,r)=>{var n=r(6501),a=r(7717),i=n.Set,o=n.add;e.exports=function(e){var t=new i;return a(e,(function(e){o(t,e)})),t}},3472:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501),i=r(1558),o=r(1255),s=r(1958),u=r(7717),c=r(1700),l=a.has,d=a.remove;e.exports=function(e){var t=n(this),r=s(e),a=i(t);return o(t)<=r.size?u(t,(function(e){r.includes(e)&&d(a,e)})):c(r.getIterator(),(function(e){l(t,e)&&d(a,e)})),a}},6501:(e,t,r)=>{var n=r(6619),a=Set.prototype;e.exports={Set:Set,add:n(a.add),has:n(a.has),remove:n(a.delete),proto:a,$has:a.has,$keys:a.keys}},4228:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501),i=r(1255),o=r(1958),s=r(7717),u=r(1700),c=a.Set,l=a.add,d=a.has,p=a.$has,f=a.$keys;e.exports=function(e){var t,r=n(this),a=o(e),h=new c;if(((t=a).has!==p||t.keys!==f)&&i(r)>a.size){if(u(a.getIterator(),(function(e){d(r,e)&&l(h,e)})),i(h)<2)return h;var g=h;h=new c,s(r,(function(e){d(g,e)&&l(h,e)}))}else s(r,(function(e){a.includes(e)&&l(h,e)}));return h}},9728:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501).has,i=r(1255),o=r(1958),s=r(7717),u=r(1700),c=r(7087);e.exports=function(e){var t=n(this),r=o(e);if(i(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var l=r.getIterator();return!1!==u(l,(function(e){if(a(t,e))return c(l,"normal",!1)}))}},7214:(e,t,r)=>{"use strict";var n=r(8153),a=r(1255),i=r(7717),o=r(1958);e.exports=function(e){var t=n(this),r=o(e);return!(a(t)>r.size)&&!1!==i(t,(function(e){if(!r.includes(e))return!1}),!0)}},6781:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501).has,i=r(1255),o=r(1958),s=r(1700),u=r(7087);e.exports=function(e){var t=n(this),r=o(e);if(i(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!a(t,e))return u(c,"normal",!1)}))}},7717:(e,t,r)=>{var n=r(6619),a=r(1700),i=r(6501),o=i.Set,s=i.proto,u=n(s.forEach),c=n(s.keys),l=c(new o).next;e.exports=function(e,t,r){return r?a(c(e),t,l):u(e,t)}},4001:(e,t,r)=>{var n=r(2555);e.exports=function(e){try{return(new(n("Set")))[e]({size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}),!0}catch(e){return!1}}},1255:(e,t,r)=>{var n=r(2221),a=r(6501);e.exports=n(a.proto,"size","get")||function(e){return e.size}},7025:(e,t,r)=>{"use strict";var n=r(2555),a=r(4173),i=r(6250),o=r(8521),s=i("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&a(t,s,{configurable:!0,get:function(){return this}})}},7418:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501),i=r(1558),o=r(1958),s=r(1700),u=a.add,c=a.has,l=a.remove;e.exports=function(e){var t=n(this),r=o(e).getIterator(),a=i(t);return s(r,(function(e){c(t,e)?l(a,e):u(a,e)})),a}},4029:(e,t,r)=>{var n=r(2468).f,a=r(5835),i=r(6250)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!a(e,i)&&n(e,i,{configurable:!0,value:t})}},3268:(e,t,r)=>{"use strict";var n=r(8153),a=r(6501).add,i=r(1558),o=r(1958),s=r(1700);e.exports=function(e){var t=n(this),r=o(e).getIterator(),u=i(t);return s(r,(function(e){a(u,e)})),u}},5923:(e,t,r)=>{var n=r(969),a=r(5567),i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},1703:(e,t,r)=>{var n=r(2689),a=r(4017),i="__core-js_shared__",o=n[i]||a(i,{});e.exports=o},969:(e,t,r)=>{var n=r(5231),a=r(1703);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5667:(e,t,r)=>{var n=r(7981),a=r(7663),i=r(9799),o=r(6250)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||i(r=n(s)[o])?t:a(r)}},4637:(e,t,r)=>{var n=r(6619),a=r(8299),i=r(9013),o=r(8602),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,d=i(o(t)),p=a(r),f=d.length;return p<0||p>=f?e?"":void 0:(n=u(d,p))<55296||n>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?e?s(d,p):n:e?c(d,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},9133:(e,t,r)=>{"use strict";var n=r(5272).end,a=r(5238);e.exports=a("trimEnd")?function(){return n(this)}:"".trimEnd},5238:(e,t,r)=>{var n=r(4046).PROPER,a=r(9835),i=r(8689);e.exports=function(e){return a((function(){return!!i[e]()||"​᠎"!=="​᠎"[e]()||n&&i[e].name!==e}))}},5272:(e,t,r)=>{var n=r(6619),a=r(8602),i=r(9013),o=r(8689),s=n("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var r=i(a(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,c,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},4427:(e,t,r)=>{var n=r(9168),a=r(9835);e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3233:(e,t,r)=>{var n,a,i,o,s=r(2689),u=r(352),c=r(8995),l=r(9548),d=r(5835),p=r(9835),f=r(9856),h=r(7687),g=r(7345),v=r(1150),m=r(8604),y=r(8976),b=s.setImmediate,_=s.clearImmediate,w=s.process,I=s.Dispatch,S=s.Function,k=s.MessageChannel,C=s.String,T=0,A={},P="onreadystatechange";p((function(){n=s.location}));var E=function(e){if(d(A,e)){var t=A[e];delete A[e],t()}},x=function(e){return function(){E(e)}},M=function(e){E(e.data)},D=function(e){s.postMessage(C(e),n.protocol+"//"+n.host)};b&&_||(b=function(e){v(arguments.length,1);var t=l(e)?e:S(e),r=h(arguments,1);return A[++T]=function(){u(t,void 0,r)},a(T),T},_=function(e){delete A[e]},y?a=function(e){w.nextTick(x(e))}:I&&I.now?a=function(e){I.now(x(e))}:k&&!m?(o=(i=new k).port2,i.port1.onmessage=M,a=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(D)?(a=D,s.addEventListener("message",M,!1)):a=P in g("script")?function(e){f.appendChild(g("script"))[P]=function(){f.removeChild(this),E(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:b,clear:_}},3610:(e,t,r)=>{var n=r(8299),a=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},710:(e,t,r)=>{var n=r(3912),a=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw a("Can't convert number to bigint");return BigInt(t)}},1169:(e,t,r)=>{var n=r(8299),a=r(6443),i=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw i("Wrong length or index");return r}},7417:(e,t,r)=>{var n=r(8582),a=r(8602);e.exports=function(e){return n(a(e))}},8299:(e,t,r)=>{var n=r(2707);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},6443:(e,t,r)=>{var n=r(8299),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},18:(e,t,r)=>{var n=r(8602),a=Object;e.exports=function(e){return a(n(e))}},3092:(e,t,r)=>{var n=r(6382),a=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw a("Wrong offset");return r}},6382:(e,t,r)=>{var n=r(8299),a=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw a("The argument can't be less than 0");return t}},3912:(e,t,r)=>{var n=r(970),a=r(3021),i=r(7870),o=r(2317),s=r(6082),u=r(6250),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!a(e)||i(e))return e;var r,u=o(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!a(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7880:(e,t,r)=>{var n=r(3912),a=r(7870);e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},8024:(e,t,r)=>{var n={};n[r(6250)("toStringTag")]="z",e.exports="[object z]"===String(n)},9013:(e,t,r)=>{var n=r(7221),a=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},1002:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9919:(e,t,r)=>{"use strict";var n=r(5077),a=r(2689),i=r(970),o=r(8521),s=r(3471),u=r(7854),c=r(819),l=r(3949),d=r(3179),p=r(1720),f=r(3781),h=r(6443),g=r(1169),v=r(3092),m=r(7880),y=r(5835),b=r(7221),_=r(3021),w=r(7870),I=r(3583),S=r(631),k=r(1672),C=r(4161).f,T=r(8382),A=r(8250).forEach,P=r(7025),E=r(4173),x=r(2468),M=r(7812),D=r(7832),R=r(3570),L=D.get,O=D.set,N=D.enforce,j=x.f,B=M.f,F=Math.round,U=a.RangeError,W=c.ArrayBuffer,G=W.prototype,V=c.DataView,$=u.NATIVE_ARRAY_BUFFER_VIEWS,q=u.TYPED_ARRAY_TAG,z=u.TypedArray,K=u.TypedArrayPrototype,H=u.aTypedArrayConstructor,J=u.isTypedArray,Y="BYTES_PER_ELEMENT",Q="Wrong length",Z=function(e,t){H(e);for(var r=0,n=t.length,a=new e(n);n>r;)a[r]=t[r++];return a},X=function(e,t){E(e,t,{configurable:!0,get:function(){return L(this)[t]}})},ee=function(e){var t;return S(G,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},te=function(e,t){return J(e)&&!w(t)&&t in e&&f(+t)&&t>=0},re=function(e,t){return t=m(t),te(e,t)?d(2,e[t]):B(e,t)},ne=function(e,t,r){return t=m(t),!(te(e,t)&&_(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?j(e,t,r):(e[t]=r.value,e)};o?($||(M.f=re,x.f=ne,X(K,"buffer"),X(K,"byteOffset"),X(K,"byteLength"),X(K,"length")),n({target:"Object",stat:!0,forced:!$},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var o=e.match(/\d+/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,f=a[u],m=f,y=m&&m.prototype,b={},w=function(e,t){j(e,t,{get:function(){return function(e,t){var r=L(e);return r.view[c](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var a=L(e);r&&(n=(n=F(n))<0?0:n>255?255:255&n),a.view[d](t*o+a.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};$?s&&(m=t((function(e,t,r,n){return l(e,y),R(_(t)?ee(t)?void 0!==n?new f(t,v(r,o),n):void 0!==r?new f(t,v(r,o)):new f(t):J(t)?Z(m,t):i(T,m,t):new f(g(t)),e,m)})),k&&k(m,z),A(C(f),(function(e){e in m||p(m,e,f[e])})),m.prototype=y):(m=t((function(e,t,r,n){l(e,y);var a,s,u,c=0,d=0;if(_(t)){if(!ee(t))return J(t)?Z(m,t):i(T,m,t);a=t,d=v(r,o);var p=t.byteLength;if(void 0===n){if(p%o)throw U(Q);if((s=p-d)<0)throw U(Q)}else if((s=h(n)*o)+d>p)throw U(Q);u=s/o}else u=g(t),a=new W(s=u*o);for(O(e,{buffer:a,byteOffset:d,byteLength:s,length:u,view:new V(a)});c<u;)w(e,c++)})),k&&k(m,z),y=m.prototype=I(K)),y.constructor!==m&&p(y,"constructor",m),N(y).TypedArrayConstructor=m,q&&p(y,q,u);var S=m!=f;b[u]=m,n({global:!0,constructor:!0,forced:S,sham:!$},b),Y in m||p(m,Y,o),Y in y||p(y,Y,o),P(u)}):e.exports=function(){}},3471:(e,t,r)=>{var n=r(2689),a=r(9835),i=r(2176),o=r(7854).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!o||!a((function(){u(1)}))||!a((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||a((function(){return 1!==new u(new s(2),1,void 0).length}))},8382:(e,t,r)=>{var n=r(8995),a=r(970),i=r(7663),o=r(18),s=r(56),u=r(8631),c=r(5569),l=r(4713),d=r(2488),p=r(7854).aTypedArrayConstructor,f=r(710);e.exports=function(e){var t,r,h,g,v,m,y,b,_=i(this),w=o(e),I=arguments.length,S=I>1?arguments[1]:void 0,k=void 0!==S,C=c(w);if(C&&!l(C))for(b=(y=u(w,C)).next,w=[];!(m=a(b,y)).done;)w.push(m.value);for(k&&I>2&&(S=n(S,arguments[2])),r=s(w),h=new(p(_))(r),g=d(h),t=0;r>t;t++)v=k?S(w[t],t):w[t],h[t]=g?f(v):+v;return h}},5567:(e,t,r)=>{var n=r(6619),a=0,i=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++a+i,36)}},7079:(e,t,r)=>{var n=r(4427);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6144:(e,t,r)=>{var n=r(8521),a=r(9835);e.exports=n&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1150:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},1894:(e,t,r)=>{var n=r(2689),a=r(9548),i=n.WeakMap;e.exports=a(i)&&/native code/.test(String(i))},1274:(e,t,r)=>{var n=r(1626),a=r(5835),i=r(7411),o=r(2468).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},7411:(e,t,r)=>{var n=r(6250);t.f=n},6250:(e,t,r)=>{var n=r(2689),a=r(969),i=r(5835),o=r(5567),s=r(4427),u=r(7079),c=n.Symbol,l=a("wks"),d=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return i(l,e)||(l[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),l[e]}},8689:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},884:(e,t,r)=>{"use strict";var n=r(2555),a=r(5835),i=r(1720),o=r(631),s=r(1672),u=r(4361),c=r(2756),l=r(3570),d=r(8364),p=r(5016),f=r(9431),h=r(8521),g=r(5231);e.exports=function(e,t,r,v){var m="stackTraceLimit",y=v?2:1,b=e.split("."),_=b[b.length-1],w=n.apply(null,b);if(w){var I=w.prototype;if(!g&&a(I,"cause")&&delete I.cause,!r)return w;var S=n("Error"),k=t((function(e,t){var r=d(v?t:e,void 0),n=v?new w(e):new w;return void 0!==r&&i(n,"message",r),f(n,k,n.stack,2),this&&o(I,this)&&l(n,this,k),arguments.length>y&&p(n,arguments[y]),n}));if(k.prototype=I,"Error"!==_?s?s(k,S):u(k,S,{name:!0}):h&&m in w&&(c(k,w,m),c(k,w,"prepareStackTrace")),u(k,w),!g)try{I.name!==_&&i(I,"name",_),I.constructor=k}catch(e){}return k}}},2894:(e,t,r)=>{var n=r(5077),a=r(2555),i=r(352),o=r(9835),s=r(884),u="AggregateError",c=a(u),l=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],u,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:s(u,(function(e){return function(t,r){return i(e,this,arguments)}}),l,!0)})},6598:(e,t,r)=>{"use strict";var n=r(5077),a=r(631),i=r(5616),o=r(1672),s=r(4361),u=r(3583),c=r(1720),l=r(3179),d=r(5016),p=r(9431),f=r(4760),h=r(8364),g=r(6250)("toStringTag"),v=Error,m=[].push,y=function(e,t){var r,n=a(b,this);o?r=o(v(),n?i(this):b):(r=n?this:u(b),c(r,g,"Error")),void 0!==t&&c(r,"message",h(t)),p(r,y,r.stack,1),arguments.length>2&&d(r,arguments[2]);var s=[];return f(e,m,{that:s}),c(r,"errors",s),r};o?o(y,v):s(y,v,{name:!0});var b=y.prototype=u(v.prototype,{constructor:l(1,y),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},4006:(e,t,r)=>{r(6598)},3665:(e,t,r)=>{"use strict";var n=r(5077),a=r(3482),i=r(9835),o=r(819),s=r(7981),u=r(3610),c=r(6443),l=r(5667),d=o.ArrayBuffer,p=o.DataView,f=p.prototype,h=a(d.prototype.slice),g=a(f.getUint8),v=a(f.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(s(this),e);for(var r=s(this).byteLength,n=u(e,r),a=u(void 0===t?r:t,r),i=new(l(this,d))(c(a-n)),o=new p(this),f=new p(i),m=0;n<a;)v(f,m++,g(o,n++));return i}})},6291:(e,t,r)=>{"use strict";var n=r(5077),a=r(18),i=r(56),o=r(8299),s=r(4014);n({target:"Array",proto:!0},{at:function(e){var t=a(this),r=i(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},2495:(e,t,r)=>{"use strict";var n=r(5077),a=r(3792).findLastIndex,i=r(4014);n({target:"Array",proto:!0},{findLastIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLastIndex")},2933:(e,t,r)=>{"use strict";var n=r(5077),a=r(3792).findLast,i=r(4014);n({target:"Array",proto:!0},{findLast:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},628:(e,t,r)=>{"use strict";var n=r(5077),a=r(18),i=r(56),o=r(3447),s=r(5396);n({target:"Array",proto:!0,arity:1,forced:r(9835)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=a(this),r=i(t),n=arguments.length;s(r+n);for(var u=0;u<n;u++)t[r]=arguments[u],r++;return o(t,r),r}})},611:(e,t,r)=>{"use strict";var n=r(5077),a=r(6619),i=r(1501),o=a([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o(this)}})},503:(e,t,r)=>{"use strict";var n=r(5077),a=r(6203),i=r(7417),o=r(4014),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return a(i(this),s)}}),o("toReversed")},624:(e,t,r)=>{"use strict";var n=r(5077),a=r(6619),i=r(9573),o=r(7417),s=r(113),u=r(9682),c=r(4014),l=Array,d=a(u("Array").sort);n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&i(e);var t=o(this),r=s(l,t);return d(r,e)}}),c("toSorted")},9349:(e,t,r)=>{"use strict";var n=r(5077),a=r(4014),i=r(5396),o=r(56),s=r(3610),u=r(7417),c=r(8299),l=Array,d=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,a,f,h=u(this),g=o(h),v=s(e,g),m=arguments.length,y=0;for(0===m?r=n=0:1===m?(r=0,n=g-v):(r=m-2,n=p(d(c(t),0),g-v)),a=i(g+r-n),f=l(a);y<v;y++)f[y]=h[y];for(;y<v+r;y++)f[y]=arguments[y-v+2];for(;y<a;y++)f[y]=h[y+n-r];return f}}),a("toSpliced")},3823:(e,t,r)=>{r(4014)("flatMap")},4166:(e,t,r)=>{r(4014)("flat")},922:(e,t,r)=>{"use strict";var n=r(5077),a=r(18),i=r(56),o=r(3447),s=r(9580),u=r(5396);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=a(this),r=i(t),n=arguments.length;if(n){u(r+n);for(var c=r;c--;){var l=c+n;c in t?t[l]=t[c]:s(t,l)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,r+n)}})},1398:(e,t,r)=>{"use strict";var n=r(5077),a=r(4784),i=r(7417),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return a(i(this),o,e,t)}})},5932:(e,t,r)=>{var n=r(5077),a=r(2689),i=r(352),o=r(884),s="WebAssembly",u=a[s],c=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(u&&u[e]){var r={};r[e]=o(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},3194:(e,t,r)=>{var n=r(5077),a=r(2689);n({global:!0,forced:a.globalThis!==a},{globalThis:a})},3322:(e,t,r)=>{var n=r(5077),a=r(2555),i=r(352),o=r(970),s=r(6619),u=r(9835),c=r(9548),l=r(7870),d=r(7687),p=r(3849),f=r(4427),h=String,g=a("JSON","stringify"),v=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),_=s(1..toString),w=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,k=!f||u((function(){var e=a("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),C=u((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),T=function(e,t){var r=d(arguments),n=p(t);if(c(n)||void 0!==e&&!l(e))return r[1]=function(e,t){if(c(n)&&(t=o(n,this,h(e),t)),!l(t))return t},i(g,null,r)},A=function(e,t,r){var n=m(r,t-1),a=m(r,t+1);return v(I,e)&&!v(S,a)||v(S,e)&&!v(I,n)?"\\u"+_(y(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:k||C},{stringify:function(e,t,r){var n=d(arguments),a=i(k?T:g,null,n);return C&&"string"==typeof a?b(a,w,A):a}})},9219:(e,t,r)=>{var n=r(5077),a=r(4760),i=r(9117);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},9696:(e,t,r)=>{r(5077)({target:"Object",stat:!0},{hasOwn:r(5835)})},4371:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(9203),s=r(3576),u=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),o=[],s=0,c=1;u(e,(function(e){var i=s++,u=!1;c++,a(r,t,e).then((function(e){u||(u=!0,o[i]={status:"fulfilled",value:e},--c||n(o))}),(function(e){u||(u=!0,o[i]={status:"rejected",reason:e},--c||n(o))}))})),--c||n(o)}));return l.error&&c(l.value),r.promise}})},890:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(9203),s=r(3576),u=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),o=[],s=0,l=1;u(e,(function(e){var i=s++,u=!1;l++,a(r,t,e).then((function(e){u||(u=!0,o[i]=e,--l||n(o))}),c)})),--l||n(o)}));return l.error&&c(l.value),r.promise}})},5422:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(2555),s=r(9203),u=r(3576),c=r(4760),l=r(5774),d="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),l=n.resolve,p=n.reject,f=u((function(){var n=i(t.resolve),o=[],s=0,u=1,f=!1;c(e,(function(e){var i=s++,c=!1;u++,a(n,t,e).then((function(e){c||f||(f=!0,l(e))}),(function(e){c||f||(c=!0,o[i]=e,--u||p(new r(o,d)))}))})),--u||p(new r(o,d))}));return f.error&&p(f.value),n.promise}})},4745:(e,t,r)=>{"use strict";var n=r(5077),a=r(5231),i=r(3984).CONSTRUCTOR,o=r(9512),s=r(2555),u=r(9548),c=r(9146),l=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!a&&u(o)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},1546:(e,t,r)=>{"use strict";var n,a,i,o=r(5077),s=r(5231),u=r(8976),c=r(2689),l=r(970),d=r(9146),p=r(1672),f=r(4029),h=r(7025),g=r(9573),v=r(9548),m=r(3021),y=r(3949),b=r(5667),_=r(3233).set,w=r(9722),I=r(7416),S=r(3576),k=r(2576),C=r(7832),T=r(9512),A=r(3984),P=r(9203),E="Promise",x=A.CONSTRUCTOR,M=A.REJECTION_EVENT,D=A.SUBCLASSING,R=C.getterFor(E),L=C.set,O=T&&T.prototype,N=T,j=O,B=c.TypeError,F=c.document,U=c.process,W=P.f,G=W,V=!!(F&&F.createEvent&&c.dispatchEvent),$="unhandledrejection",q=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},z=function(e,t){var r,n,a,i=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Q(t),t.rejection=1),!0===s?r=i:(d&&d.enter(),r=s(i),d&&(d.exit(),a=!0)),r===e.promise?c(B("Promise-chain cycle")):(n=q(r))?l(n,r,u,c):u(r)):c(i)}catch(e){d&&!a&&d.exit(),c(e)}},K=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,n=e.reactions;r=n.get();)z(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},H=function(e,t,r){var n,a;V?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!M&&(a=c["on"+e])?a(n):e===$&&I("Unhandled promise rejection",r)},J=function(e){l(_,c,(function(){var t,r=e.facade,n=e.value;if(Y(e)&&(t=S((function(){u?U.emit("unhandledRejection",n,r):H($,r,n)})),e.rejection=u||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(_,c,(function(){var t=e.facade;u?U.emit("rejectionHandled",t):H("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(n){e(t,n,r)}},X=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw B("Promise can't be resolved itself");var n=q(t);n?w((function(){var r={done:!1};try{l(n,t,Z(ee,r,e),Z(X,r,e))}catch(t){X(r,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){X({done:!1},t,e)}}};if(x&&(j=(N=function(e){y(this,j),g(e),l(n,this);var t=R(this);try{e(Z(ee,t),Z(X,t))}catch(e){X(t,e)}}).prototype,(n=function(e){L(this,{type:E,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=d(j,"then",(function(e,t){var r=R(this),n=W(b(this,N));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=u?U.domain:void 0,0==r.state?r.reactions.add(n):w((function(){z(n,r)})),n.promise})),a=function(){var e=new n,t=R(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(X,t)},P.f=W=function(e){return e===N||undefined===e?new a(e):G(e)},!s&&v(T)&&O!==Object.prototype)){i=O.then,D||d(O,"then",(function(e,t){var r=this;return new N((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(e){}p&&p(O,j)}o({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:N}),f(N,E,!1,!0),h(E)},3366:(e,t,r)=>{"use strict";var n=r(5077),a=r(5231),i=r(9512),o=r(9835),s=r(2555),u=r(9548),c=r(5667),l=r(2988),d=r(9146),p=i&&i.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!a&&u(i)){var f=s("Promise").prototype.finally;p.finally!==f&&d(p,"finally",f,{unsafe:!0})}},2167:(e,t,r)=>{r(1546),r(890),r(4745),r(4947),r(8237),r(8085)},4947:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(9203),s=r(3576),u=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=i(t.resolve);u(e,(function(e){a(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},8237:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9203);n({target:"Promise",stat:!0,forced:r(3984).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return a(t.reject,void 0,e),t.promise}})},8085:(e,t,r)=>{"use strict";var n=r(5077),a=r(2555),i=r(5231),o=r(9512),s=r(3984).CONSTRUCTOR,u=r(2988),c=a("Promise"),l=i&&!s;n({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},3517:(e,t,r)=>{var n=r(5077),a=r(2689),i=r(4029);n({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)},5403:(e,t,r)=>{"use strict";var n=r(5077),a=r(8627);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},909:(e,t,r)=>{var n=r(2689),a=r(8521),i=r(4173),o=r(9811),s=r(9835),u=n.RegExp,c=u.prototype;a&&s((function(){var e=!0;try{u(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",a=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(i.hasIndices="d"),i)a(o,i[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&i(c,"flags",{configurable:!0,get:o})},4744:(e,t,r)=>{"use strict";var n=r(5077),a=r(6619),i=r(8602),o=r(8299),s=r(9013),u=r(9835),c=a("".charAt);n({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(i(this)),r=t.length,n=o(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:c(t,a)}})},164:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(3482),o=r(4610),s=r(2549),u=r(8602),c=r(6443),l=r(9013),d=r(7981),p=r(9799),f=r(1335),h=r(5781),g=r(3715),v=r(2317),m=r(9146),y=r(9835),b=r(6250),_=r(5667),w=r(5563),I=r(8343),S=r(7832),k=r(5231),C=b("matchAll"),T="RegExp String",A=T+" Iterator",P=S.set,E=S.getterFor(A),x=RegExp.prototype,M=TypeError,D=i("".indexOf),R=i("".matchAll),L=!!R&&!y((function(){R("a",/./)})),O=o((function(e,t,r,n){P(this,{type:A,regexp:e,string:t,global:r,unicode:n,done:!1})}),T,(function(){var e=E(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=I(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===l(n[0])&&(t.lastIndex=w(r,c(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),N=function(e){var t,r,n,a=d(this),i=l(e),o=_(a,RegExp),s=l(g(a));return t=new o(o===RegExp?a.source:a,s),r=!!~D(s,"g"),n=!!~D(s,"u"),t.lastIndex=c(a.lastIndex),new O(t,i,r,n)};n({target:"String",proto:!0,forced:L},{matchAll:function(e){var t,r,n,i,o=u(this);if(p(e)){if(L)return R(o,e)}else{if(h(e)&&(t=l(u(g(e))),!~D(t,"g")))throw M("`.matchAll` does not allow non-global regexes");if(L)return R(o,e);if(void 0===(n=v(e,C))&&k&&"RegExp"==f(e)&&(n=N),n)return a(n,e,o)}return r=l(o),i=new RegExp(e,"g"),k?a(N,i,r):i[C](r)}}),k||C in x||m(x,C,N)},4481:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(6619),o=r(8602),s=r(9548),u=r(9799),c=r(5781),l=r(9013),d=r(2317),p=r(3715),f=r(2754),h=r(6250),g=r(5231),v=h("replace"),m=TypeError,y=i("".indexOf),b=i("".replace),_=i("".slice),w=Math.max,I=function(e,t,r){return r>e.length?-1:""===t?r:y(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,i,h,S,k,C,T,A,P=o(this),E=0,x=0,M="";if(!u(e)){if((r=c(e))&&(n=l(o(p(e))),!~y(n,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(i=d(e,v))return a(i,e,P,t);if(g&&r)return b(l(P),e,t)}for(h=l(P),S=l(e),(k=s(t))||(t=l(t)),C=S.length,T=w(1,C),E=I(h,S,0);-1!==E;)A=k?l(t(S,E,h)):f(S,h,E,[],void 0,t),M+=_(h,x,E)+A,x=E+C,E=I(h,S,E+T);return x<h.length&&(M+=_(h,x)),M}})},1943:(e,t,r)=>{"use strict";var n=r(352),a=r(970),i=r(6619),o=r(1552),s=r(9835),u=r(7981),c=r(9548),l=r(9799),d=r(8299),p=r(6443),f=r(9013),h=r(8602),g=r(5563),v=r(2317),m=r(2754),y=r(8343),b=r(6250)("replace"),_=Math.max,w=Math.min,I=i([].concat),S=i([].push),k=i("".indexOf),C=i("".slice),T="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,r){var i=A?"$":"$0";return[function(e,r){var n=h(this),i=l(e)?void 0:v(e,b);return i?a(i,e,n,r):a(t,f(n),e,r)},function(e,a){var o=u(this),s=f(e);if("string"==typeof a&&-1===k(a,i)&&-1===k(a,"$<")){var l=r(t,o,s,a);if(l.done)return l.value}var h=c(a);h||(a=f(a));var v=o.global;if(v){var b=o.unicode;o.lastIndex=0}for(var T=[];;){var A=y(o,s);if(null===A)break;if(S(T,A),!v)break;""===f(A[0])&&(o.lastIndex=g(s,p(o.lastIndex),b))}for(var P,E="",x=0,M=0;M<T.length;M++){for(var D=f((A=T[M])[0]),R=_(w(d(A.index),s.length),0),L=[],O=1;O<A.length;O++)S(L,void 0===(P=A[O])?P:String(P));var N=A.groups;if(h){var j=I([D],L,R,s);void 0!==N&&S(j,N);var B=f(n(a,void 0,j))}else B=m(D,s,R,L,N,a);R>=x&&(E+=C(s,x,R)+B,x=R+D.length)}return E+C(s,x)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||A)},5149:(e,t,r)=>{r(4458);var n=r(5077),a=r(9133);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==a},{trimEnd:a})},4458:(e,t,r)=>{var n=r(5077),a=r(9133);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==a},{trimRight:a})},9228:(e,t,r)=>{"use strict";var n=r(5077),a=r(5272).trim;n({target:"String",proto:!0,forced:r(5238)("trim")},{trim:function(){return a(this)}})},889:(e,t,r)=>{"use strict";var n=r(5077),a=r(8521),i=r(2689),o=r(6619),s=r(5835),u=r(9548),c=r(631),l=r(9013),d=r(4173),p=r(4361),f=i.Symbol,h=f&&f.prototype;if(a&&u(f)&&(!("description"in h)||void 0!==f().description)){var g={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};p(v,f),v.prototype=h,h.constructor=v;var m="Symbol(test)"==String(f("test")),y=o(h.valueOf),b=o(h.toString),_=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),I=o("".slice);d(h,"description",{configurable:!0,get:function(){var e=y(this);if(s(g,e))return"";var t=b(e),r=m?I(t,7,-1):w(t,_,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},9778:(e,t,r)=>{r(1274)("matchAll")},7841:(e,t,r)=>{"use strict";var n=r(7854),a=r(56),i=r(8299),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=a(t),n=i(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},5906:(e,t,r)=>{"use strict";var n=r(7854),a=r(5035),i=r(710),o=r(7221),s=r(970),u=r(6619),c=r(9835),l=n.aTypedArray,d=n.exportTypedArrayMethod,p=u("".slice);d("fill",(function(e){var t=arguments.length;l(this);var r="Big"===p(o(this),0,3)?i(e):+e;return s(a,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},5822:(e,t,r)=>{"use strict";var n=r(7854),a=r(3792).findLastIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return a(i(this),e,arguments.length>1?arguments[1]:void 0)}))},3719:(e,t,r)=>{"use strict";var n=r(7854),a=r(3792).findLast,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return a(i(this),e,arguments.length>1?arguments[1]:void 0)}))},2815:(e,t,r)=>{r(9919)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},5595:(e,t,r)=>{r(9919)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},1189:(e,t,r)=>{"use strict";var n=r(3471);(0,r(7854).exportTypedArrayStaticMethod)("from",r(8382),n)},8931:(e,t,r)=>{r(9919)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3209:(e,t,r)=>{r(9919)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},950:(e,t,r)=>{r(9919)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},7017:(e,t,r)=>{"use strict";var n=r(7854),a=r(3471),i=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(i(this))(t);t>e;)r[e]=arguments[e++];return r}),a)},9589:(e,t,r)=>{"use strict";var n=r(2689),a=r(970),i=r(7854),o=r(56),s=r(3092),u=r(18),c=r(9835),l=n.RangeError,d=n.Int8Array,p=d&&d.prototype,f=p&&p.set,h=i.aTypedArray,g=i.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return a(f,e,{length:1,0:3},1),3!==e[1]})),m=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=u(e);if(v)return a(f,this,r,t);var n=this.length,i=o(r),c=0;if(i+t>n)throw l("Wrong length");for(;c<i;)this[t+c]=r[c++]}),!v||m)},5428:(e,t,r)=>{"use strict";var n=r(2689),a=r(3482),i=r(9835),o=r(9573),s=r(2026),u=r(7854),c=r(3262),l=r(1353),d=r(9168),p=r(2842),f=u.aTypedArray,h=u.exportTypedArrayMethod,g=n.Uint16Array,v=g&&a(g.prototype.sort),m=!(!v||i((function(){v(new g(2),null)}))&&i((function(){v(new g(2),{})}))),y=!!v&&!i((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},6706:(e,t,r)=>{"use strict";var n=r(6203),a=r(7854),i=a.aTypedArray,o=a.exportTypedArrayMethod,s=a.getTypedArrayConstructor;o("toReversed",(function(){return n(i(this),s(this))}))},3002:(e,t,r)=>{"use strict";var n=r(7854),a=r(6619),i=r(9573),o=r(113),s=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,l=a(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&i(e);var t=s(this),r=o(u(t),t);return l(r,e)}))},6469:(e,t,r)=>{r(9919)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4730:(e,t,r)=>{r(9919)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},968:(e,t,r)=>{r(9919)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},55:(e,t,r)=>{r(9919)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},9303:(e,t,r)=>{"use strict";var n=r(4784),a=r(7854),i=r(2488),o=r(8299),s=r(710),u=a.aTypedArray,c=a.getTypedArrayConstructor,l=a.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var r=u(this),a=o(e),l=i(r)?s(t):+t;return n(r,c(r),a,l)}}.with,!d)},4570:(e,t,r)=>{r(4006)},1339:(e,t,r)=>{r(6291)},3785:(e,t,r)=>{r(2495)},472:(e,t,r)=>{r(2933)},5957:(e,t,r)=>{r(5077)({target:"Array",stat:!0},{fromAsync:r(778)})},27:(e,t,r)=>{var n=r(5077),a=r(6732),i=r(4014),o=r(5931);n({target:"Array",proto:!0,name:"groupToMap",forced:r(5231)||!a("groupByToMap")},{groupByToMap:o}),i("groupByToMap")},8569:(e,t,r)=>{"use strict";var n=r(5077),a=r(9639),i=r(6732),o=r(4014);n({target:"Array",proto:!0,forced:!i("groupBy")},{groupBy:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},146:(e,t,r)=>{var n=r(5077),a=r(4014),i=r(5931);n({target:"Array",proto:!0,forced:r(5231)},{groupToMap:i}),a("groupToMap")},3924:(e,t,r)=>{"use strict";var n=r(5077),a=r(9639),i=r(4014);n({target:"Array",proto:!0},{group:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("group")},699:(e,t,r)=>{r(503)},5544:(e,t,r)=>{r(624)},7712:(e,t,r)=>{r(9349)},7515:(e,t,r)=>{r(1398)},2048:(e,t,r)=>{"use strict";var n=r(5077),a=r(3949),i=r(1720),o=r(5835),s=r(6250),u=r(2342),c=r(5231),l=s("toStringTag"),d=function(){a(this,u)};d.prototype=u,o(u,l)||i(u,l,"AsyncIterator"),!c&&o(u,"constructor")&&u.constructor!==Object||i(u,"constructor",d),n({global:!0,constructor:!0,forced:c},{AsyncIterator:d})},3818:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(7981),o=r(6302),s=r(9024),u=r(6382),c=r(5817),l=r(2549),d=c((function(e){var t=this;return new e((function(r,n){var o=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(i(a(t.next,t.iterator))).then((function(e){try{i(e).done?(t.done=!0,r(l(void 0,!0))):t.remaining?(t.remaining--,s()):r(l(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new d(o(this),{remaining:u(s(+e))})}})},1199:(e,t,r)=>{"use strict";var n=r(5077),a=r(9937).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return a(this,e)}})},8973:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(7981),s=r(3021),u=r(6302),c=r(5817),l=r(2549),d=r(86),p=c((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(i,u){var c=function(e){t.done=!0,u(e)},p=function(e){d(r,c,e,c)},f=function(){try{e.resolve(o(a(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,i(l(void 0,!0));else{var a=r.value;try{var u=n(a,t.counter++),d=function(e){e?i(l(a,!1)):f()};s(u)?e.resolve(u).then(d,p):d(u)}catch(e){p(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}};f()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new p(u(this),{predicate:i(e)})}})},8360:(e,t,r)=>{"use strict";var n=r(5077),a=r(9937).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return a(this,e)}})},8294:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(7981),s=r(3021),u=r(6302),c=r(5817),l=r(2549),d=r(5968),p=r(86),f=c((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(i,u){var c=function(e){t.done=!0,u(e)},f=function(e){p(r,c,e,c)},h=function(){try{e.resolve(o(a(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,i(l(void 0,!0));else{var a=r.value;try{var u=n(a,t.counter++),p=function(e){try{t.inner=d(e),g()}catch(e){f(e)}};s(u)?e.resolve(u).then(p,f):p(u)}catch(e){f(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(o(a(r.next,r.iterator))).then((function(e){try{o(e).done?(t.inner=null,h()):i(l(e.value,!1))}catch(e){f(e)}}),f)}catch(e){f(e)}else h()};g()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new f(u(this),{mapper:i(e),inner:null})}})},5358:(e,t,r)=>{"use strict";var n=r(5077),a=r(9937).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return a(this,e)}})},4255:(e,t,r)=>{var n=r(5077),a=r(18),i=r(631),o=r(5968),s=r(2342),u=r(6784);n({target:"AsyncIterator",stat:!0},{from:function(e){var t=o("string"==typeof e?a(e):e);return i(s,t.iterator)?t.iterator:new u(t)}})},7022:(e,t,r)=>{r(5077)({target:"AsyncIterator",proto:!0,real:!0},{map:r(3101)})},3586:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(7981),s=r(3021),u=r(2555),c=r(6302),l=r(86),d=u("Promise"),p=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=c(this),r=t.iterator,n=t.next,u=arguments.length<2,f=u?void 0:arguments[1],h=0;return i(e),new d((function(t,i){var c=function(e){l(r,i,e,i)},g=function(){try{d.resolve(o(a(n,r))).then((function(r){try{if(o(r).done)u?i(p("Reduce of empty iterator with no initial value")):t(f);else{var n=r.value;if(u)u=!1,f=n,g();else try{var a=e(f,n,h),l=function(e){f=e,g()};s(a)?d.resolve(a).then(l,c):l(a)}catch(e){c(e)}}h++}catch(e){i(e)}}),i)}catch(e){i(e)}};g()}))}})},3588:(e,t,r)=>{"use strict";var n=r(5077),a=r(9937).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return a(this,e)}})},6570:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(7981),o=r(6302),s=r(9024),u=r(6382),c=r(5817),l=r(2549),d=c((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var o=l(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(a(t,n,void 0)).then((function(){return o})):o}return e.resolve(a(r.next,n)).then((function(e){return i(e).done?(r.done=!0,l(void 0,!0)):l(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new d(o(this),{remaining:u(s(+e))})}})},281:(e,t,r)=>{"use strict";var n=r(5077),a=r(9937).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return a(this,void 0,[])}})},289:(e,t,r)=>{"use strict";var n=r(5077),a=r(8521),i=r(2555),o=r(9573),s=r(3949),u=r(9146),c=r(2669),l=r(4173),d=r(6250),p=r(7832),f=r(6539),h=i("SuppressedError"),g=ReferenceError,v=d("dispose"),m=d("toStringTag"),y="DisposableStack",b=p.set,_=p.getterFor(y),w="sync-dispose",I="disposed",S=y+" already disposed",k=function(){b(s(this,C),{type:y,state:"pending",stack:[]}),a||(this.disposed=!1)},C=k.prototype;c(C,{dispose:function(){var e=_(this);if(e.state!=I){e.state=I,a||(this.disposed=!0);for(var t,r=e.stack,n=r.length,i=!1;n;){var o=r[--n];r[n]=null;try{o()}catch(e){i?t=new h(e,t):(i=!0,t=e)}}if(e.stack=null,i)throw t}},use:function(e){var t=_(this);if(t.state==I)throw g(S);return f(t,e,w),e},adopt:function(e,t){var r=_(this);if(r.state==I)throw g(S);return o(t),f(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=_(this);if(t.state==I)throw g(S);o(e),f(t,void 0,w,e)},move:function(){var e=_(this);if(e.state==I)throw g(S);var t=new k;return _(t).stack=e.stack,e.stack=[],t}}),a&&l(C,"disposed",{configurable:!0,get:function(){return _(this).state==I}}),u(C,v,C.dispose,{name:"dispose"}),u(C,m,y,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:k})},1313:(e,t,r)=>{r(3194)},6032:(e,t,r)=>{"use strict";var n=r(5077),a=r(2689),i=r(3949),o=r(9548),s=r(1720),u=r(9835),c=r(5835),l=r(6250),d=r(7357).IteratorPrototype,p=r(5231),f=l("toStringTag"),h=a.Iterator,g=p||!o(h)||h.prototype!==d||!u((function(){h({})})),v=function(){i(this,d)};c(d,f)||s(d,f,"Iterator"),!g&&c(d,"constructor")&&d.constructor!==Object||s(d,"constructor",v),v.prototype=d,n({global:!0,constructor:!0,forced:g},{Iterator:v})},1865:(e,t,r)=>{"use strict";var n=r(970),a=r(9146),i=r(2317),o=r(5835),s=r(6250),u=r(7357).IteratorPrototype,c=s("dispose");o(u,c)||a(u,c,(function(){var e=i(this,"return");e&&n(e,this)}))},3182:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(7981),o=r(6302),s=r(9024),u=r(6382),c=r(3389)((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=i(a(r,t)),this.done=!!e.done)return;if(e=i(a(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new c(o(this),{remaining:u(s(+e))})}})},6936:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{every:function(e){var t=o(this),r=0;return i(e),!a(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7217:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(7981),s=r(6302),u=r(3389),c=r(579),l=u((function(){for(var e,t,r=this.iterator,n=this.predicate,i=this.next;;){if(e=o(a(i,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new l(s(this),{predicate:i(e)})}})},2491:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{find:function(e){var t=o(this),r=0;return i(e),a(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},8215:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(9573),o=r(7981),s=r(6302),u=r(894),c=r(3389),l=r(7087),d=c((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=o(a(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){l(r,"throw",e)}if(e=o(a(this.next,r)),this.done=!!e.done)return;try{this.inner=u(n(e.value,this.counter++))}catch(e){l(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new d(s(this),{mapper:i(e),inner:null})}})},7153:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){var t=o(this),r=0;i(e),a(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},7279:(e,t,r)=>{var n=r(5077),a=r(970),i=r(18),o=r(631),s=r(7357).IteratorPrototype,u=r(3389),c=r(894),l=u((function(){return a(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0},{from:function(e){var t=c("string"==typeof e?i(e):e);return o(s,t.iterator)?t.iterator:new l(t)}})},9833:(e,t,r)=>{r(5077)({target:"Iterator",proto:!0,real:!0},{map:r(5504)})},9183:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(9573),o=r(6302),s=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){var t=o(this);i(e);var r=arguments.length<2,n=r?void 0:arguments[1],u=0;if(a(t,(function(t){r?(r=!1,n=t):n=e(n,t,u),u++}),{IS_RECORD:!0}),r)throw s("Reduce of empty iterator with no initial value");return n}})},6916:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{some:function(e){var t=o(this),r=0;return i(e),a(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9988:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(7981),o=r(6302),s=r(9024),u=r(6382),c=r(3389),l=r(7087),d=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,l(e,"normal",void 0);var t=i(a(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0},{take:function(e){return new d(o(this),{remaining:u(s(+e))})}})},1716:(e,t,r)=>{"use strict";var n=r(5077),a=r(4760),i=r(6302),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(i(this),o,{that:e,IS_RECORD:!0}),e}})},673:(e,t,r)=>{"use strict";var n=r(5077),a=r(2429),i=r(6784),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{toAsync:function(){return new i(o(new a(o(this))))}})},2858:(e,t,r)=>{r(9696)},332:(e,t,r)=>{r(4371)},5475:(e,t,r)=>{r(5422)},5628:(e,t,r)=>{var n=r(5077),a=r(3472);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("difference")},{difference:a})},5827:(e,t,r)=>{var n=r(5077),a=r(4228);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("intersection")},{intersection:a})},1361:(e,t,r)=>{var n=r(5077),a=r(9728);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isDisjointFrom")},{isDisjointFrom:a})},5996:(e,t,r)=>{var n=r(5077),a=r(7214);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isSubsetOf")},{isSubsetOf:a})},6366:(e,t,r)=>{var n=r(5077),a=r(6781);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isSupersetOf")},{isSupersetOf:a})},7151:(e,t,r)=>{var n=r(5077),a=r(7418);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("symmetricDifference")},{symmetricDifference:a})},1903:(e,t,r)=>{var n=r(5077),a=r(3268);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("union")},{union:a})},977:(e,t,r)=>{"use strict";var n=r(5077),a=r(6619),i=r(8602),o=r(9013),s=a("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(i(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},3680:(e,t,r)=>{r(164)},6194:(e,t,r)=>{r(4481)},532:(e,t,r)=>{"use strict";var n=r(5077),a=r(970),i=r(6619),o=r(8602),s=r(9013),u=r(9835),c=Array,l=i("".charAt),d=i("".charCodeAt),p=i([].join),f="".toWellFormed,h=f&&u((function(){return"1"!==a(f,1)}));n({target:"String",proto:!0,forced:h},{toWellFormed:function(){var e=s(o(this));if(h)return a(f,e);for(var t=e.length,r=c(t),n=0;n<t;n++){var i=d(e,n);55296!=(63488&i)?r[n]=l(e,n):i>=56320||n+1>=t||56320!=(64512&d(e,n+1))?r[n]="�":(r[n]=l(e,n),r[++n]=l(e,n))}return p(r,"")}})},6753:(e,t,r)=>{"use strict";var n=r(5077),a=r(631),i=r(5616),o=r(1672),s=r(4361),u=r(3583),c=r(1720),l=r(3179),d=r(9431),p=r(8364),f=r(6250)("toStringTag"),h=Error,g=function(e,t,r){var n,s=a(v,this);return o?n=o(h(),s?i(this):v):(n=s?this:u(v),c(n,f,"Error")),void 0!==r&&c(n,"message",p(r)),d(n,g,n.stack,1),c(n,"error",e),c(n,"suppressed",t),n};o?o(g,h):s(g,h,{name:!0});var v=g.prototype=u(h.prototype,{constructor:l(1,g),message:l(1,""),name:l(1,"SuppressedError")});n({global:!0,constructor:!0,arity:3},{SuppressedError:g})},7835:(e,t,r)=>{r(1274)("dispose")},9321:(e,t,r)=>{r(7841)},2804:(e,t,r)=>{r(5822)},959:(e,t,r)=>{r(3719)},4775:(e,t,r)=>{r(6706)},2170:(e,t,r)=>{r(3002)},978:(e,t,r)=>{"use strict";var n=r(7854),a=r(56),i=r(2488),o=r(3610),s=r(710),u=r(8299),c=r(9835),l=n.aTypedArray,d=n.getTypedArrayConstructor,p=n.exportTypedArrayMethod,f=Math.max,h=Math.min;p("toSpliced",(function(e,t){var r,n,c,p,g,v,m,y=l(this),b=d(y),_=a(y),w=o(e,_),I=arguments.length,S=0;if(0===I)r=n=0;else if(1===I)r=0,n=_-w;else if(n=h(f(u(t),0),_-w),r=I-2){p=new b(r),c=i(p);for(var k=2;k<I;k++)g=arguments[k],p[k-2]=c?s(g):+g}for(m=new b(v=_+r-n);S<w;S++)m[S]=y[S];for(;S<w+r;S++)m[S]=p[S-w];for(;S<v;S++)m[S]=y[S+n-r];return m}),!!c((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},3807:(e,t,r)=>{r(9303)},4844:(e,t,r)=>{var n=r(5803);n.keys().forEach((e=>{a[e.substr(2)]=n(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(889),r(9778),r(5932),r(4006),r(2894),r(6291),r(2933),r(2495),r(628),r(611),r(4166),r(3823),r(922),r(3665),r(3194),r(3322),r(9219),r(9696),r(2167),r(4371),r(5422),r(3366),r(3517),r(909),r(4744),r(164),r(1943),r(4481),r(9228),r(5149),r(2815),r(5595),r(950),r(8931),r(3209),r(968),r(55),r(6469),r(4730),r(7841),r(5906),r(3719),r(5822),r(1189),r(7017),r(9589),r(5428),r(4570),r(1339),r(472),r(3785),r(1313),r(2858),r(332),r(5475),r(3680),r(6194),r(9321),r(959),r(2804),r(6753),r(5957),r(3924),r(8569),r(27),r(146),r(699),r(5544),r(7712),r(7515),r(2048),r(3818),r(1199),r(8973),r(8360),r(8294),r(5358),r(4255),r(7022),r(3586),r(3588),r(6570),r(281),r(289),r(6032),r(1865),r(3182),r(6936),r(7217),r(2491),r(8215),r(7153),r(7279),r(9833),r(9183),r(6916),r(9988),r(1716),r(673),r(5628),r(5827),r(1361),r(5996),r(6366),r(7151),r(1903),r(977),r(532),r(7835),r(4775),r(2170),r(978),r(3807);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()&&(e=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var t=navigator.userAgent.toLowerCase();(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&(e=!0)}var n=[];e&&(r.g.Promise=void 0,n.push("Promise")),r(2844)({usePolyfill:n,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var i,o,s=function(e){e()};(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{e.d(a,{default:()=>rt});var o={};e.r(o),e.d(o,{convertToErrorObj:()=>Z,emitFrameworkError:()=>re,emitUnhandledError:()=>ne,emitUnhandledRejection:()=>X,onFrameworkError:()=>ie,onUnhandledError:()=>oe,onUnhandledRejection:()=>ae});var s=e.g.__wxLibrary,l=e.g.__wxConfig,d=s.envType,p=s.contextType,f="Service"===d,g="WebView"===d,v="Worker"===d,m=g||f&&0===p.indexOf("App:"),y=f&&0===p.indexOf("Game:"),b=!!l.isIsolateContext,w=b&&f&&p.indexOf("MainContext")>=0,I=b&&f&&p.indexOf("SubContext")>=0,k=I&&p.indexOf("Safe")>=0,C=w||I,T="wxlib"===l.workerContentType,A=g||w||k||T,P=function(e,t){var r=l.platform;if(!r&&"string"==typeof(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)){var n=window.navigator.userAgent.toLowerCase();n.indexOf("devtools")>=0?r="devtools":n.indexOf("miniprogramenv/windows")>=0?r="windows":n.indexOf("miniprogramenv/mac")>=0?r="mac":n.indexOf("miniprogramenv/mina")>=0?r="mina":n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?r="ios":n.indexOf("android")>=0&&(r="android")}return(r||"unknown").toLowerCase()}(),E=void 0===t||"develop"===t.version?"9.9.9":t.version,x=!!s.mayHaveSnapshot,M=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const D={platform:P,SDKVersion:E,isIsolateContext:C,isGame:y,isApp:m,isMainContext:w,isSubContext:I,isSafeEnv:A,isService:f,isWebView:g,isWorker:v,isWidget:!1,typeStr:I?"SubContext":d,fileName:s.fileName,isWXLibWorker:T,workerType:"user",contextName:"",mayHaveSnapShot:x,isWKGame:!!M};var R=()=>{},L="devtools"===D.platform;"undefined"!=typeof performance&&performance.now;function O(e,t=(()=>R)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function N(){var t=i||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var j=()=>{},B=["log","info","warn","error","debug"];const F=O(B);var U=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],W=(()=>{var e=O(U);return e})();const G=W;var V=Symbol("error"),$=Symbol("slow");class q{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(V,e),this}onSlow(e){return this.onInternalEvent($,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var a,i=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();a=o.cb(...r);var u=Date.now();u-s>q.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate($,e,s,u,o.cb)}catch(t){if(!this.emitPrivate(V,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(i=!0),!1===a&&t.cancelable)break}return i&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var a={count:r,cb:t},i=this.$[e];return i?n.prepend?i.unshift(a):i.push(a):this.$[e]=[a],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}q.SLOW_CALLBACK_THRESHOLD=50;var z=new q,K="unhandlederror",H="unhandledrejection",J="frameworkerror",Y=new WeakMap;var Q=Object.prototype.hasOwnProperty;function Z(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function X(e,t){e=Z(e),Be.onLoad((()=>{z.emit(H,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var ee=!1,te=!1;function re(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Z(e),i.isSnapshoting)throw e;Be.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive framework error detected.",e);else{ee=!0;try{z.emit(J,e)||ne(e)}catch(e){console.error("Framework",e)}ee=!1}}))}function ne(e){if(e=Z(e),i.isSnapshoting)throw e;Be.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{te=!0;try{z.emit(K,e)||("windows"!==i.platform&&"mac"!==i.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==i.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}te=!1}}))}function ae(e){z.on(H,e)}function ie(e){z.on(J,e)}function oe(e){z.on(K,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(e=>{X(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;ne(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Q.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(Y.has(r)||setTimeout((()=>{var e=Y.get(r);0===(null==e?void 0:e.type)&&X(e.reason,e.promise),Y.delete(r)}),0),Y.set(r,t))):X(e.reason,e.promise)}})}(e.g);var se,ue=JSON.parse,ce=JSON.stringify,le=9782784e5;function de(e){return ue(ce(e))}function pe(e){e.platform=D.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=D.SDKVersion,e.isReady=!1,e.onReady=Be.onStart}function fe(e){var r;pe(e),D.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;n&&(e.expt=Object.assign(e.expt||{},n))}function he(e){if(fe(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+le-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var a=n.split("&").filter((e=>0===e.indexOf("ts=")));a.length>0&&(r=parseInt(a[0].slice(3),10))}catch(e){re(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ge=!(null===(se=t.features)||void 0===se||!se.pruneWxConfigByPage),ve=Object.defineProperty,me=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,n){ve(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{var e;F.warn("[__wxConfig usage] developer uses __wxConfig."+r),"function"==typeof(null===(e=_)||void 0===e?void 0:e.reportKeyValue)&&_.reportKeyValue({key:"DeprecatedAPI",value:"__wxConfig."+r,force:!0})}catch(e){re(e,"report __wxConfig usage")}try{return"function"!=typeof n?n:n()}catch(e){return void re(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var be=D.isSafeEnv,_e=Object.create(null),we=D.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return Reflect.set(e,t,r,n);var a=Reflect.get(e,"__siblings__",n);return Array.isArray(a)?(a.length>1&&F.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`),a.forEach((e=>{Reflect.set(e,t,r)})),!0):Reflect.set(e,t,r,n)}})}(_e):_e,Ie=e=>{},Se="wxConfig:updatePage";function ke(t,r=!1){return Ie(!1),_e.currentPhase="onStart",void 0===t||(r?(Object.assign(_e,t),Object.defineProperty(_e,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(_e,be?t:de(t)),he(_e),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var a=t.subPackages||t.subpackages;Array.isArray(a)&&a.length>0&&(a.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=a),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ge&&(D.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(_e,((e,t)=>{Be.emit(Se,{key:e,value:t})})),Object.defineProperty(_e,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(_e.__siblings__)&&_e.__siblings__.push(_e),_e.onPageUpdate((({key:e,value:t})=>{_e.page=_e.page||{},_e.page[e]=_e.page[e+".html"]=t,n&&(n[e+".html"]=de(t))})),be||(n=function(){var t=e.g.__wxConfig,r={},n={},a=ge?{}:t.page||{};try{ye(n,r,"deprecated",!0),me.forEach((e=>{if(e in t){var i=t[e];switch(e){case"page":ye(n,r,e,a);break;case"env":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:i.USER_DATA_PATH})));break;case"accountInfo":ye(n,r,e,{appId:i.appId,icon:i.icon,nickname:i.nickname});break;case"appLaunchInfo":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),S&&"function"==typeof S.getLaunchOptionsSync?S.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(n,r,e,{maxRequestConcurrent:i.maxRequestConcurrent,maxUploadConcurrent:i.maxUploadConcurrent,maxDownloadConcurrent:i.maxDownloadConcurrent,maxWorkerConcurrent:i.maxWorkerConcurrent,maxWebsocketConnect:i.maxWebsocketConnect});break;default:ye(n,r,e,i)}}})),e.g.__wxConfig=n}catch(r){re(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return a}())),we;var n}var Ce=new q,Te=new q,Ae={},Pe="WeixinJSBridgeReady",Ee="libraryEnd",xe="load",Me="postLoad",De="start",Re="postStart";function Le(e,t){var r=void 0!==u,n=()=>{try{r&&u.traceBegin("Framework",`LibLifeCycle.${e} @ ${D.fileName}`),t(Ae[e])}catch(t){re(t,"LifeCycle."+e)}finally{r&&u.traceEnd()}};e in Ae?n():Te.once(e,n)}function Oe(e,t){var r,n;if(e in Ae)return!1;Ae[e]=t,null===(r=h)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${D.fileName}`);var a=Te.emit(e,t);return null===(n=h)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${D.fileName}`),a}var Ne,je=e=>{D.mayHaveSnapShot?Le(xe,e):e()},Be={EventEmitter:q,on:Ce.on.bind(Ce),emit:Ce.emit.bind(Ce),once:Ce.once.bind(Ce),getIsLoaded:()=>xe in Ae,getIsStarted:()=>De in Ae,onBridgeReady(e){Le(Pe,e)},setWeixinJSBridge(e){Oe(Pe,e)},onLibraryEnd:Le.bind(null,Ee),onCreate(e){e()},onLoadInstant:je,onLoad:je,_onPostLoad:Le.bind(null,Me),onStart:Le.bind(null,De),onPostStart:Le.bind(null,Re)};Te.onError(((e,t)=>{F.error(`[LifeCycle/${D.typeStr}] ${e.toString()} failed: `,t),re(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{G.warn(`[LifeCycle/${D.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){Oe(Ee),D.mayHaveSnapShot||We()},Ne=e.g.__wxConfig,_e.currentPhase="onCreate",void 0===Ne||(Ie(!1),Object.assign(_e,be?Ne:de(Ne)),pe(_e),Ie(!0));var Fe=!1,Ue=!1;function We(){Fe||Ue?re(new Error(`LifeCycle error: undesired onLoad(${Fe}/${Ue})`)):(Fe=!0,i=function(e){return _e.currentPhase="onLoad",void 0===e||(Ie(!1),Object.assign(_e,be?e:de(e)),_e.onPageUpdate=Be.on.bind(null,Se),fe(_e),Ie(!0)),we}(e.g.__wxConfig),Oe(xe,i),D.isSubContext?i.__readyHandler=e=>{Ge(e,!0)}:!0===i.preload?Be.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ge(e.g.__wxConfig)}))})):Be.onLibraryEnd((()=>{Ge(e.g.__wxConfig)})),Oe(Me,i))}function Ge(e,t=!1){if(Fe&&!Ue){Ue=!0;var r=Date.now();"onReadyStart"in(i=ke(e,t))||(i.onReadyStart=r),Oe(De,i),i.onReadyEnd=Date.now(),Oe(Re,i)}else re(new Error(`LifeCycle error: undesired onStart(${Fe}/${Ue})`))}(i=we).isSnapshoting?(D.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,i.isSnapshoting=!1,We()}}):D.mayHaveSnapShot&&Be.onLibraryEnd(We);class Ve{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:j}}var $e={ALL:new Ve(Number.MIN_VALUE,"ALL"),DEBUG:new Ve(5e3,"DEBUG",console.debug),LOG:new Ve(1e4,"LOG",console.log),INFO:new Ve(2e4,"INFO",console.info),WARN:new Ve(3e4,"WARN",console.warn),ERROR:new Ve(4e4,"ERROR",console.error),OFF:new Ve(Number.MAX_VALUE,"OFF")},qe=(e,t)=>({debug:e($e.DEBUG,t),log:e($e.LOG,t),info:e($e.INFO,t),warn:e($e.WARN,t),error:e($e.ERROR,t)}),ze=$e.INFO,Ke=(()=>{if(D.isWorker||D.isWidget){return Object.assign({createLogger:function(){return F}},F)}return D.isSubContext&&D.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=h.__isFromMainContext?h.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Be.onStart(r),{...qe(t),createLogger:e=>qe(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=D.platform,t="android"!==e,r=[],n=function(t){"android"!==e?c.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,n=("0"+(r.getMonth()+1)).slice(-2),a=("0"+r.getDate()).slice(-2),i=("0"+r.getHours()).slice(-2),o=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),u=("00"+r.getMilliseconds()).slice(-3),c=r.getFullYear()+"-"+n+"-"+a,l=i+":"+o+":"+s+"."+u,"ios"===e?c+" "+l+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):c+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+l} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,n,a,i,o,s,u,c,l}))}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},i=function(e,i){return function(...o){var s;if(i&&Array.prototype.unshift.call(o,"["+i+"]"),(N()||e.num>=$e.WARN.num)&&(null===(s=F[e.type.toLowerCase()])||void 0===s||s.call(F,...o)),e.num>=ze.num){var u=Array.prototype.slice.call(o).map(a).join(" ");if(t){var c=new Date;r&&r.length>1024&&r.shift(),r.push({date:c,level:e,content:u})}else n([{level:e,content:u}])}}};return Be.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(n(r),r=[])}),4e3)})),{...qe(i),createLogger:function(e){return qe(i,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;i(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();Be.onLoad((()=>{Ke.info(`[BaseLibVersion] ${D.fileName}: ${t.version} (${t.updateTime})}`)}));const He=Ke;const Je=O(["log","info","warn","error"],(e=>function(...t){(L||N())&&console[e]("[system]",...t)}));var Ye;function Qe(){return Ye||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Be.onLoad((()=>{Ye=Qe()}));var Ze=Object.create(null);Object.defineProperty(Ze,"WebAssembly",{enumerable:!0,get:Qe});const Xe=Ze;var et=e.g,tt={env:D,global:et,get isConfigReady(){return Be.getIsStarted()},get isStarted(){return Be.getIsStarted()},get isLoaded(){return Be.getIsLoaded()},...Be,...o,wxConsole:F,wxPerfConsole:G,wxNativeConsole:He,libConsole:Je,libGlobal:Xe,globalShare:{}};void 0!==r&&(n=function(){return"return this"===arguments[arguments.length-1]?function(){return et}:new r(...arguments)},n.prototype=r.prototype);const rt=tt})(),o=a.default})();var u,c,l,d,p,f=o.wxConsole,h=(o.wxPerfConsole,o.wxNativeConsole);o.libConsole,o.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>n});var r={traceBegin(){},traceEnd(){},traceInstant(){}};o.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):h.warn("[Trace] TraceGlobal not found")}));const n=r})(),u=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>P});class r{constructor(e=0){this.id=e,this.$={}}add(e){var t=this.id++;return"function"==typeof e&&(this.$[t]=e),t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class a{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t)}}var s=()=>{},u=JSON.parse,d=JSON.stringify,p="custom_event_",f=0,h=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function g(t){var n=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),c=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=s),o.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:s,invokeThirdHandler:s},f=1<<25),e.g.WeixinJSCore={invokeHandler:s,publishHandler:s,setTimerHandler:s,clearTimerHandler:s},t}(),g=new r(f),v=new a,m=new a;function y(e,t){if(void 0!==e&&g.has(t)&&""!==e&&null!==e){if("string"==typeof e)try{e=u(e),e=l.unpack(e)}catch(t){e={}}g.callAndRemove(t,e)}}var b={},_={},w=0;function I(e,t,r){var n,a=++w;b[a]=r;try{n=c.invokeThirdHandler(e,t,a)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof b[a]&&""!==n&&null!==n){if("string"==typeof n)try{n=u(n)}catch(e){n={}}var i=b[a];delete b[a],"function"==typeof i&&i(n)}}var S=function(e,t){_[e]=t},k=(e,t)=>{var r=_[e];r&&r(t)},C=(e,t,r,n)=>{var a=b[e];delete b[e],"function"==typeof a&&a(t)};return{invoke(e,r,a,s={}){var u=r;s.keepOriginalParams||t.directInvokeJS||(s.notPack?delete s.notPack:r=l.pack(r),("ios"!==i.platform||h||1!==Number(i.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(u=d(r||{}))),delete s.keepOriginalParams;var p=g.add(a);return s.highPerformance&&(s.highPerformance[p]=r,delete s.highPerformance),function(e,r,a,s={}){if(c){var u,l;y("splashad"===o.env.workerType||i.supportInvokeWithAppId?null===(u=c.invokeHandler)||void 0===u?void 0:u.call(c,e,r,a,s):null===(l=c.invokeHandler)||void 0===l?void 0:l.call(c,e,r,a),a)}else{var p={event:e,paramsString:r,callbackId:a,privateArgs:d(s)};if(t.isWebMiniGame)y(prompt("webgame_invoke",d(p)),a);else{var f=null==n?void 0:n.messageHandlers.invokeHandler.postMessage(p);null!=f&&f.catch&&f.catch((t=>{var n=console.error.bind(console);n("webkit.messageHandlers.invokeHandler.postMessage fail"),n(`event=${e}`),n("params=",r),n("err=",t),n("err.code=",t.code),n("err.message=",t.message),n("err.name=",t.name)}))}}}(e,u,p,s),p},on(e,t){v.set(e,t)},subscribe(e,t){m.set(p+e,t)},publish(e,r,a){e=p+e;var i=a,o=r;t.directInvokeJS||(o=d(r),i=d(a)),function(e,t,r){if(c){var a;null===(a=c.publishHandler)||void 0===a||a.call(c,e,t,r)}else{var i=null==n?void 0:n.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=i&&i.catch&&i.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,o,i)},invokeCallbackHandler:function(e,t){t=l.unpack(t),g.callAndRemove(e,t)},subscribeHandler:function(e,t,r,n){t=l.unpack(t),-1!==e.indexOf(p)?m.emit(e,t,r,n||{}):v.emit(e,t,r,n||{})},get invokeThird(){return I},get onThird(){return S},get subscribeThirdHandler(){return k},get invokeThirdCallbackHandler(){return C}}}var v=!0,m={},y={},b=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);o.onPostStart((()=>{v=!1,m={},y={}}));var _=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var w=null;var I=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},S=I.ready.bind(I),k=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new o.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{_.has(e)?S((r=>{r.on(e,t.emitCancelable.bind(t,e))})):S((r=>{r.on(e,t.emit.bind(t,e))}))})),C=()=>{},T=[],A={on(e,t){_.has(e)?k.add(e,t):k.setSingle(e,t)},addEventListener(e,t,r){k.add(e,t,r)},removeEventListener(e,t){k.remove(e,t)},invoke(e,t,r,n={}){var a=!0,i=!1,o=[],s=e=>{for(var t of(i||(a=!1),o))t(e,a);null==r||r(e)};if(w){var u=e=>{o.push(e)};for(var c of T){var l=c(e,t,u);if(l)return l instanceof Promise?(l.then((e=>{s(e)})),!0):(s(l),!1)}w.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return i=!0,a},pureInvoke:(e,t,r,n={})=>w.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=w)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=w)||void 0===e?void 0:e.subscribeHandler},publish:C,subscribe:C,addSubscribeListener:C,removeSubscribeListener:C,addInvokeInterceptor(e){return T.push(e),this},get invokeThird(){var e;return null===(e=w)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=w)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null}};o.onLoad((()=>{!function(t){if(!("devtools"===o.env.platform&&!o.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){var r=g({directInvokeJS:!!i.wmpfDirectInvokeJs,isWebMiniGame:!!i.isWK}),n={get invokeCallbackHandler(){return r.invokeCallbackHandler},get subscribeHandler(){return r.subscribeHandler},get subscribeThirdHandler(){return r.subscribeThirdHandler},get invokeThirdCallbackHandler(){return r.invokeThirdCallbackHandler}};return i.clientDebug&&o.onLibraryEnd((()=>{Object.assign(n,{on:A.on,publish:A.publish,invoke:A.invoke,subscribe:A.subscribe}),e.g.WeixinJSBridge=n})),e.g.WeixinJSBridge=n,t(r,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{w=t,r&&e.g.WeixinJSBridge===c&&Object.keys(t).forEach((e=>{e in A||(A[e]=(...r)=>t[e](...r))})),I.done(w)}))})),A.addInvokeInterceptor((e=>{if(!o.isStarted&&"splashad"!==o.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(v&&b.has(e)){if(e in m)return m[e];if(e in y)return y[e];if(b.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete y[e],m[e]=r)}))}));y[e]=n}}}));new Map;o.setWeixinJSBridge(A);const P=A;c=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>_});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,a=String(e),i="",o=0,s=r;a.charAt(0|o)||(s="=",o%1);i+=s.charAt(63&t>>8-o%1*8)){if((n=a.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return i}(t)}function a(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var a,i,o=0,s=0;i=t.charAt(s++);~i&&(a=o%4?64*a+i:i,o++%4)?n+=String.fromCharCode(255&a>>(-2*o&6)):0)i=r.indexOf(i);return n}(e),n=t.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=t.charCodeAt(i);return a.buffer}var s,u=i.platform,c="ios"===u,l="android"===u||"windows"===u||"mac"===u||"mina"===u;c&&(s=e.g.WeixinNativeBuffer);var d=null;function p(e,t=!1){var r={};if(d&&!t){var a=!1,i=Object.getPrototypeOf(e);i!==ArrayBuffer.prototype&&(a=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=d.create(e),a&&Object.setPrototypeOf(e,i)}else r.base64=n(e);return r}function f(e){if(null!=e)return d&&void 0!==e.id?d.get(e.id):void 0!==e.base64?a(e.base64):void 0}o.onLoad((()=>{d=function(e){var t=s,r=e.getNativeBufferId,n=e.setNativeBuffer,a=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return l&&"function"==typeof r&&"function"==typeof n&&"function"==typeof a&&i.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>a(e),useCompatibleMode(){}}:c&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var h=Object.prototype.toString;function g(e){return"[object Array]"===h.call(e)}function v(e){return"[object ArrayBuffer]"===h.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],a=e,i=0;i<r.length-1;i++){if(!a)return null;a=a[r[i]]}return[a,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,a=function(e,r,i=[]){var o,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var u in e){var c=e[u];if(o=c,"[object Object]"===h.call(o)||g(c)){var l=[...i];l.push(u),a(c,r,l)}else if(v(c)){if(e._sabId)continue;var d=p(c,t),f=Array.prototype.concat.call(i,u).join(".");d.key=f,delete e[u],r.push(d)}}};return a(e,r),r}(e,r);else{for(var a in n=[],e){var i=e[a];if(v(i)){var o=p(i,r);o.key=a,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function b(e,t=!1){if(null==e||null==e.__nativeBuffers__)return e;var r=e.__nativeBuffers__;delete e.__nativeBuffers__;var n=[];for(var a of r)if(null!=a){var i=f(a);if(v(i)){if(t){var o=m(e,a.key);if(!o)return;var[s,u]=o;s[u]=i}else e[a.key]=i;n.push(a.key)}}return e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=n,e}const _={new:p,get:f,useCompatibleMode:function(e){var t;null===(t=d)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:b,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>b(e,!0)}})(),l=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>C});var r,a,s=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],u=i.supportWorkerMultiContext||i.supoortWorkerMultiContext,c=()=>{if("windows"===i.platform||"mac"===i.platform)return!0;var e="ios"===i.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!e||1===Number(i.expt&&i.expt[e])},p=[],f=[],h=[],g={},v=function(e){return g[e]},m=function(e,t){g[e]=t},y=function(e){e=l.unpackPostMessage(e),f.forEach((t=>{"function"==typeof t&&t(e)}))},b=function(e,t){t=l.unpackPostMessage(t),p.forEach((r=>{"function"==typeof r&&r(e,t)}))},_=function(e,t){h.forEach((r=>{"function"==typeof r&&r(e,t)}))},w=(e,t)=>{a.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},I=function(e,t){WORKER_RUNTIME&&u&&c()?w(e,t):o.emitUnhandledError(e)},S={get appServiceMsgHandler(){return y},get workerMsgHandler(){return b},get workerCreatedHandler(){return _},get errorHandler(){return I},get __workerId__(){return a.__workerId__}},k={create:function(e,t){var n,i,o=!(!(t=t||{}).useExperimentalWorker||!r);if(o?(i=r,n=JSON.stringify(t)):(i=a,n={APIList:s,pluginId:t.PluginId}),"function"==typeof i.create){var u=i.create.call(i,e,n);return m(u,i),{workerId:u,useWKWorker:o}}return{workerId:-1,useWKWorker:o}},createWXLibWorker:function(e,t){var r={APIList:s};t.APIList&&(r.APIList=s.concat(t.APIList)),t.type&&(r.type=t.type);var n=a;if("function"==typeof n.createWXLibWorker){var i=n.createWXLibWorker.call(n,e,JSON.stringify(r));return m(i,n),{workerId:i}}return{workerId:-1}},terminate:function(e){var t=v(e);if("function"==typeof(null==t?void 0:t.terminate))return function(e){delete g[e]}(e),t.terminate.call(t,e)},postMsgToAppService:function(e,t){if(o.env.isWKGame)a.sendMsgToAppService(e);else if("ios"===o.env.platform&&1===Number(i.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=l.packPostMessage(e,!1),a.sendMsgToAppService(e);else try{!1!==t&&(e=l.packPostMessage(e),e=JSON.stringify(e)),a.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,n){var a=v(e);if(o.env.isWKGame)null==a||a.sendMsgToWorker(e,t);else if("ios"!==o.env.platform||1!==Number(i.expt.clicfg_appbrand_ios_allow_worker_binding_message)||n)try{!1!==r&&(t=l.packPostMessage(t,n),t=JSON.stringify(t)),null==a||a.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=l.packPostMessage(t,!1),null==a||a.sendMsgToWorker(e,t)},onWorkerMsg:function(e){p.push(e)},onWorkerCreated:function(e){h.push(e)},onAppServiceMsg:function(e){f.push(e)},get WebAssembly(){return a.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof a.createWXLibWorker}};o.onLoadInstant((()=>{r=e.g.WeAppWorker,a=e.g.WeixinWorker,e.g.WeixinWorker=S,e.g.WeAppWorker=S,("devtools"===i.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&u&&c())&&(k.appServiceMsgHandler=S.appServiceMsgHandler,k.workerMsgHandler=S.workerMsgHandler,k.errorHandler=S.errorHandler,k.__workerId__=S.__workerId__)}));const C=k;d=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>k,require:()=>E,requireOnce:()=>x,requirePlugin:()=>M});var r=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],n=()=>"devtools"===i.platform,a=(e,t)=>{var a="__APP__"===e;a||"/"===e.slice(-1)||(e+="/"),n()?(h.info(`[WxModule] injectSubPackages: ${e}`),c.invoke("injectSubPackages",{subPackages:[e]},t)):(h.info(`[WxModule] loadSubpackage: ${e}`),w.loadSubpackage({name:e,success(){var n=i.subPackages.find((t=>t.root===e||t.root===e.slice(0,-1))),o=Object.assign({},null==n?void 0:n.plugins);a&&Object.assign(o,i.plugins);var s=Object.keys(o||{}).map((e=>{var t=o[e].provider,n="__plugin__/"+t;return{plugin_id:t,prefix_path:r.includes(t)?null:n}}));y.injectEntryFile(a?"":e,s),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){h.error(`[WxModule] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))},o=e=>{for(var t,r,n=null!==(t=null===(r=i)||void 0===r?void 0:r.subPackages)&&void 0!==t?t:[],a=0;a<n.length;++a){var o=n[a].root||"";if(o&&"/"!==o.slice(-1)&&(o+="/"),e.slice(0,o.length)===o)return{subPackage:o,independent:!!n[a].independent}}return{subPackage:"__APP__",independent:!1}},s=e=>{for(var t=[],r=e.split("/"),n=0,a=r.length;n<a;++n){var i=r[n];if(""!==i&&"."!==i)if(".."===i){if(0===t.length){t=[];break}t.pop()}else n+1<a&&".."===r[n+1]?n++:t.push(i)}return t},u={UNLOAD:1,LOADED:2},l={},d=(e,t)=>{l[e]=t},f=e=>l[e];var g=new class{constructor(e){this._$requireQueues=null,this._$blockingStatus=0,this._$scope=void 0,this._$err=e=>new Error(`Framework inner error: ${e} (scope: ${this._$scope}, status: ${this._$blockingStatus})`),this._$scope=e}isBlocking(){return 1===this._$blockingStatus}block(){if(!n())if(0===this._$blockingStatus)this._$requireQueues=[],this._$blockingStatus=1;else{if(2!==this._$blockingStatus)throw this._$err("trying to block require at wrong time");this._$blockingStatus=1}}queue(e,t){if(!this.isBlocking())throw this._$err("trying to queue an require when not blocking");this._$requireQueues.push([e,t])}unblock(){if(!n()){if(!this.isBlocking())throw this._$err("trying to unblock require queue when not blocking");this._$blockingStatus=2}}flushQueue(){if(!n()){if(2!==this._$blockingStatus)throw this._$err("require queue flushing must be unblocked");var e=this._$requireQueues;this._$blockingStatus=0,this._$requireQueues=null,e.forEach((e=>{try{e[0].apply(null,e[1])}catch(t){console.error(`Error during evaluating file "${e[1][0]}": `),console.error(t.message),console.error(t.stack)}}))}}}("/");if(globalThis.wxModuleVersion){var v=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>v}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var m=!1,b=[],I=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var n=e[t];e[t].endsWith("*")&&(n=n.slice(0,-1)),b.push({key:r,value:n})}))};"function"==typeof i.onReady?i.onReady((()=>{"object"==typeof i.resolveAlias&&(m=!!Object.keys(i.resolveAlias).length)&&I(i.resolveAlias)})):"object"==typeof i.resolveAlias&&(m=!!Object.keys(i.resolveAlias).length)&&I(i.resolveAlias);var S={};function k(e,t){if(f(e)&&f(e).factory){var r=f(e),n=t.toString();r.factoryString||(r.factoryString=r.factory.toString()),n!==r.factoryString&&d(e,{status:u.UNLOAD,factory:t,factoryString:n})}else d(e,{status:u.UNLOAD,factory:t})}var C=e=>{if(e&&i.subPackages)for(var t=0,r=i.subPackages.length;t<r;t++)if(0===e.indexOf(i.subPackages[t].root))return i.subPackages[t]},T=e=>{var t=s(e+"/index.js").join("/");return f(t)?t:(t=s(e).join("/"),/\.js$/.test(t)||(t+=".js"),f(t)?t:"")},A=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"})(e),r=function(r,n,a){var o,u=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?o=s(r).join("/"):(m&&(o=(e=>{var t={key:"",value:""},r=!1;if(b.forEach((n=>{e.startsWith(n.key)&&t.key.length<n.key.length&&(t=n,r=!0)})),r){var n=e.replace(t.key,t.value);return"/"===n[0]&&(n=n.slice(1)),n}})(r)),void 0!==o?(u="",o=s(o).join("/")):o=s(u+"/"+r).join("/")),!o)throw new Error(`can not find module : ${o}, require args is ${r}`);try{var c=((e,t,r)=>{var n=e;if(/\.js$/.test(n)||(n+=".js"),"string"==typeof n&&f(n))return n;var a=s(t);if(!a)throw new Error("can not find module : "+r);for(var i,o,u=e.substring(a.join("/").length);a.length&&(o=a.join("/")+"/miniprogram_npm"+u,!(i=T(o)));)a.pop();return i||(u="/"===u[0]?u:"/"+u,i=T(o="miniprogram_npm"+u)),i||e})(o,u,r),l=e=>"functional-pages"===s(e)[0];if(l(c)!==l(e)&&_.thirdErrorReport({error:new Error(`should not require across "functional-pages" folder, at require("${r}") in ${e}`)}),"devtools"===i.platform&&i.subPackages&&void 0===n){var d=C(c),p=C(e);d&&d!==p&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return E(c,void 0,n,r,t,a)}catch(e){throw e}};return r.async=e=>new Promise(((t,n)=>{try{return r(e,t,n)}catch(e){n(e)}})),r},P=new class{constructor(e){this._$flags={},this._$global=void 0,this.fileStacks=[],this._$global=e}current(){return{__wxRoute:this._$global.__wxRoute,__wxAppCurrentFile__:this._$global.__wxAppCurrentFile__,__wxRouteBegin:this._$global.__wxRouteBegin}}restore(e){void 0!==e&&(this._$global.__wxRoute=e.__wxRoute,this._$global.__wxAppCurrentFile__=e.__wxAppCurrentFile__,this._$global.__wxRouteBegin=e.__wxRouteBegin)}saveAndClear(e){this._$flags[e]=this.current(),this._$global.__wxRoute="",this._$global.__wxAppCurrentFile__="",this._$global.__wxRouteBegin=""}runWith(e,t){this.restore(this._$flags[e]),this.fileStacks.push(this._$flags[e]);var r,n=!1;try{t()}catch(e){n=!0,r=e}if(this.fileStacks.pop(),this.restore(this.fileStacks[this.fileStacks.length-1]),n)throw r}}(globalThis);function E(e,t,r,n="",s,c){if(g.isBlocking())return P.saveAndClear(e),void g.queue(E,[e,t,r,n,s,c]);if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var l=f(e);if(!l){var d=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(d="miniprogram_npm/"+d)||(d+=".js"),l=f(d)}if(e.endsWith(".js")||(e+=".js"),!l&&"devtools"!==i.platform&&void 0!==y&&i.isLazyLoad){var p=e.slice(0,e.length-3),h=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[p]?__LAZY_CODE_LOADING_CHUNK_MAP__[p]:p}.appservice.js`,v=y.loadJsFiles([h],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});l=f(e),null==v||v(!!l)}if("function"!=typeof r){if(!l)throw new Error(`module '${e}' is not defined, require args is '${""===n?e:n}'`);var m={exports:{}},b=l.factory;if(!t||S[e])return delete l.exports,l.status=u.UNLOAD,S[e]=!0,P.runWith(e,(()=>{null==b||b(A(e),m,m.exports)})),m.exports;if(l.status===u.UNLOAD){var _;l.exports=m.exports,l.status=u.LOADED;try{P.runWith(e,(()=>{b&&(_=b(A(e),m,m.exports))}))}catch(e){throw l.status=u.UNLOAD,e}l.exports=void 0!==m.exports?m.exports:_}return l.exports}var w=t=>{var r="async require: fail";"object"==typeof t&&t&&t.message&&(r=t.message),null==c||c({errMsg:r,mod:e})},I=function(...e){try{var t=E(...e);r(t)}catch(e){w(e)}};if(l)setTimeout((()=>I(e)));else{var k="string"==typeof s&&o(s).independent,{subPackage:C,independent:T}=o(e);!T&&k?a("__APP__",(t=>{t&&!1===t.loaded?w(new Error("loadSubPackage: fail, subPackage: __APP__")):"__APP__"!==C?a(C,(t=>{t&&!1===t.loaded?w(new Error(`loadSubPackage: fail, subPackage: ${C}`)):I(e)})):r(I(e))})):a(C,(t=>{t&&!1===t.loaded?w(new Error(`loadSubPackage: fail, subPackage: ${C}`)):I(e)}))}}function x(e){return E(e,!1)}var M=e=>{(()=>{if(void 0===i||void 0===i.plugins&&void 0===i.gamePlugins)throw new Error("This application has not registered any plugins yet.")})(),(e=>{if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")})(e);var t=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],n=t[2],a=(i.plugins||i.gamePlugins)[r];if(void 0===a)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:a.provider,version:"0",path:n}})(e),r=(e=>{var t=`__plugin__/${e.pluginId}`;return e.path&&(t+=`/${e.path}`),t})(t),n=E(r);if(void 0===n)throw new Error(`Plugin "${r}" is not defined.`);return n};p=t})();p.definePlugin;var g,v,m,y,b,_,w,I=p.requirePlugin;globalThis.define=p.define,globalThis.require=p.require;globalThis.requireOnce=p.requireOnce,(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>N});var r,a,s,u,c,l,d,p,f,v,m,y,b,_,w,I=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),k={},C=[],T=0,A=[],P=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var a=void 0!==n?n:++T;return b=a,k[a]=t,C.push(a),A.forEach((e=>{"function"==typeof e&&e(a)})),a}},E=(e,t,n,a)=>{if(void 0!==e&&e===r){var i=(e=>{for(var t=C.length,r=0;r<t;r++){var n=C[r];if(k[n]===e)return n}})(t);if(void 0!==i){var o=S[n];return"function"==typeof o?o(a,i):void 0}}},x=(e,t)=>{S[e]=t},M=(e,t)=>{if(void 0===f||"function"!=typeof f)return"failed: loadLibFiles not supported";if("devtools"===i.platform&&"number"!=typeof v)return"failed: loadLibFiles not supported";try{if(0===f(e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},D=(e,t,r)=>{if("android"===i.platform||"ios"===i.platform||"devtools"===i.platform||"windows"===i.platform||"mac"===i.platform||"mina"===i.platform){var n=Date.now(),a=M(null!=r?r:1,[e]);h.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(a)}else h.error("不支持loadJSFiles")},R={},L={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=P,r.subscribeHandler=E,a=r.alloc,s=r.create,u=r.destroy,c=r.evaluateScriptFile,l=r.loadJsFiles,f=r.loadLibFiles,d=r.allocEmpty,p=r.allocFromSnapshot,v=r.mainContextId,m=r.errorHandler,r.waitingChannel={},y=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,a)=>{var i,o=(i=t,I.call(i).split(" ")[1].split("]")[0]);if("Object"!==o&&"Undefined"!==o)throw new Error("params should be an object.");return n.map((n=>{var i=k[n];if(i)return i.subscribeHandler(r,e,t);a&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:x,onRegister:e=>{A.push(e)},evaluateScriptFile:(e,t,r)=>c(e,t,r),batchLoadJsFiles:(e,t,r)=>{if(void 0===l||"function"!=typeof l)return"failed: loadJsFiles not supported";var n="devtools"===i.platform?void 0:JSON.stringify(r);try{var a=l(e,JSON.stringify(t),n);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(a)?a.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof a?a.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof u?u(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof a,loadLibFiles:M,allocEmpty:(e,t)=>"function"==typeof d?d.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof d,allocFromSnapshot:(e,t)=>{if("function"==typeof p){var n=p.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof p,loadMainContextLibFile:D,loadSubContextLibFile:(e,t,r)=>{if(r)return D(e,t,r);h.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>v,setAppSubContextId:e=>{w=e},getAppSubContextId:()=>w,convertRealId2SdkId:e=>R[e],associateRealId2SdkId:e=>{R[e]=b},errorHandler:(e,t)=>{m?m(e,t):_?_[e]=t:(_={[e]:t},x("subContextError",(({contextId:e,err:t})=>{_[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof y&&y()}};var O=L;o.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(O.__init__(WeixinJSContext),delete O.__init__,delete e.g.WeixinJSContext)}));const N=O;g=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}();var t=(()=>(i.onReady((()=>{t!==i&&void 0!==t&&Object.assign(t,i)})),i))();const r=t;var a=(()=>r.platform)(),s=(()=>"android"===a)(),u=(()=>"ios"===a)();var c=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","enableSplashAdHotStart","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg"];try{(s||u)&&o.onLoadInstant((()=>{var e=d.createWXLibWorker("WASplashadWorker.js",{APIList:c,type:"ad"});-1!==e.workerId&&(o.globalShare.reusableWorkerId=e.workerId)}))}catch(e){o.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>o});var n={None:0,BeforeLaunch:1,AfterLaunch:2},a=(()=>(i.onReady((()=>{a!==i&&void 0!==a&&Object.assign(a,i)})),i))();const o=a},133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{_.reportKeyValue({key:"DeprecatedAPI",value:e})}},996:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(133),{default:a}=r(342);e.exports={hijack:function(e=!0,t=!0){!function(e){if("function"==typeof globalThis.Function){var t={};r.prototype=globalThis.Function.prototype,r.prototype.constructor=r,globalThis.Function=r}function r(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e?t:{}}}}(t),"undefined"!=typeof eval&&("ios"===a.platform&&r.g.__isAppServiceRemoteDebugMode__||a.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=b.surroundThirdByTryCatch(t,"at setTimeout callback function"),a=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,a)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=b.surroundThirdByTryCatch(e,"at setInterval callback function"),a=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,a)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))}}},585:()=>{if("undefined"==typeof navigator){try{new n('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new n('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new n('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";r.r(a),r.d(a,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>z,deepFreezeObj:()=>D,deepFreezeObjProperty:()=>M,doNotWriteGlobalObjs:()=>q,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>R,globalEsHiddenObjs:()=>t,globalEsObjs:()=>n,hijack:()=>K.hijack,overwriteSetPrototypeOf:()=>$});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),n=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],i=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(342),u=(()=>s.default.platform)(),c=(()=>"ios"===u)();var l=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return c?function(e,t){for(var r=[],n=e.split("\n"),a=0,i=0;a<n.length&&i<t;++a){var o=n[a];if(!d.test(o)){++i;var s=o.indexOf("@");if(-1===s){var u=f(o);r.push({fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}else{var c=o.substring(0,s),l=f(o.substr(s+1));r.push({functionName:c,fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),a=0,i=0;a<n.length&&i<t;++a){var o=n[a];l.test(o)&&(r.push(o),++i)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),a=f(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:e}}))}(r,t)}function f(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var h=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.preventExtensions;var I=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),n=p(new Error,3),a=n[1],i=n[2],o=!(a.fileName&&i.fileName&&i.fileName!==a.fileName&&(e=i.fileName,t=a.fileName,!I.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return _(this)},set(r){if(this===e)t&&S()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var C=new Map,T=(e,t,r)=>{C.has(e)||C.set(e,new Map);var n=C.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function A(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(a){if(this===e)r&&S()&&(n.set?n.set.call(this,a):n.writable&&(n.value=a));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,a)}},enumerable:n.enumerable,configurable:!1}),r&&T(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var P=new WeakSet;function E(e){P.add(e)}function x(e){return P.has(e)}function M(e,t,r){A(e,t)&&D(e[t],r)}function D(e,t){if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){E(e);for(var r=y(e),n=b(e),a=0;a<r.length;++a)M(e,r[a],t);for(var i=0;i<n.length;++i)M(e,n[i],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){E(e),h(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)o(e[t[n]]);for(var a=0;a<r.length;++a)o(e[r[a]])}};o(Error)}}function R(e,t){A(e,t,!0)&&N(e[t])}var L=new WeakSet;function O(e){return L.has(e)}function N(e){if(e&&!O(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){L.add(e)}(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)R(e,t[n]);for(var a=0;a<r.length;++a)R(e,r[a]);k(e,!0)}}var j=Object.prototype.hasOwnProperty,B=Object.defineProperty,F=Object.defineProperties,U=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,G=Object.getOwnPropertyDescriptor,V=!1,$=function(){V||(V=!0,B(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),B(o.Object,"defineProperty",{value(e,t,r){if(!O(e))return B(e,t,r);if(!S())return r;var n=G(e,t);if(!n||n.configurable){var a=B(e,t,r);return R(e,t),a}return T(e,t,r),r},configurable:!0}),B(o.Object,"defineProperties",{value(e,t){if(!O(e))return F(e,t);if(!S())return t;var r=r=>{var n=G(e,r);if(!n||n.configurable){var a=B(e,r,t[r]);return R(e,r),a}return T(e,r,t[r]),t[r]};return U(t).forEach(r),W(t).forEach(r),t},configurable:!0}))},q=function(e=[]){try{for(var r=[...n,...i,...t,...e],a=(Date.now(),0);a<r.length;++a){var s=r[a],u=typeof s;"string"===u?j.call(o,s)&&R(o,s):"function"!==u&&"object"!==u||N(s)}Date.now()}catch(e){}},z=function(e=[],r=!1){try{for(var a=[...n,...i,...t,...e],s=(Date.now(),0);s<a.length;++s){var u=a[s],c=typeof u;"string"===c?j.call(o,u)&&M(o,u,r):"function"!==c&&"object"!==c||D(u,r)}Date.now()}catch(e){}},K=r(996),H=Object.prototype.isPrototypeOf,J=Object.defineProperty,Y=Object.prototype.hasOwnProperty,Q=Symbol.hasInstance,Z=function(e){return!("function"!=typeof this||!X(e))&&((e,t)=>H.call(t.prototype,e))(e,this)},X=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t){for(var r=function(){var r=e[n],a=t[n];if("function"!=typeof r)return"continue";var i=Y.call(r,Q)?r[Q]:Z,o=Y.call(a,Q)?a[Q]:Z;J(r,Q,{value(e){return i.call(this,e)||o.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),J(a,Q,{value(e){return o.call(this,e)||i.call(r,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)r()}})(),v=a})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{actionController:()=>o,allowReportLoadingTime:()=>ue,clearAsyncCallApiRelatedEvent:()=>ee,clearCurrentEventApiList:()=>D,clearCurrentEventInfo:()=>j,closeTrackUserAction:()=>x,convert24247SchemaToSensitiveQueryJudgeSchema:()=>B,convertClassList:()=>$,convertReportInfo2Strategys:()=>c,endLoading:()=>se,endTraceHandler:()=>G,endTraceLastRouteStayTime:()=>k,filterApiReportReq:()=>u,getActionTime:()=>s,getAppServiceVariable:()=>ae,getAsyncCallApiRelatedEvent:()=>Z,getAsyncCallbackJoinEventInterval:()=>te,getCompatPathWithoutValue:()=>U,getCurrentEventApiList:()=>L,getCurrentEventInfo:()=>N,getCurrentRawRoutePath:()=>Y,getCurrentRoutePath:()=>A,getCurrentRoutePathWithoutQuery:()=>I,getCurrentRouteStartTime:()=>ce,getPageTitle:()=>de,getQualityConfig:()=>fe,getReportEvent:()=>v,getSafeRoutePath:()=>F,getSamplePercent:()=>l,getSessionId:()=>g,getTextContentMaxLayer:()=>b,getTextContentMaxLength:()=>_,getTrackUserAction:()=>R,limitContent:()=>q,pushApiToEventApiList:()=>H,reportInteractionAPI:()=>K,setActionChainReportTypes:()=>V,setAppServiceVariable:()=>ie,setAsyncCallApiRelatedEvent:()=>X,setAsyncCallbackJoinEventInterval:()=>re,setCurrentEventApiList:()=>M,setCurrentEventInfo:()=>O,setCurrentRouteStartTime:()=>le,setEventJoinInterval:()=>Q,setQualityConfig:()=>pe,setReportSetting:()=>ne,setSessionId:()=>w,shouldReportEvent:()=>d,shouldReportLifetime:()=>p,shouldStartReport:()=>f,shouldUpdateReportInfo:()=>h,startActionChainReport:()=>y,startLoading:()=>oe,startTraceHandler:()=>W,startTraceLastRouteStayTime:()=>S,startTrackUserAction:()=>E,traceApi:()=>r,traceBootRoutePath:()=>P,traceEvent:()=>a,traceLife:()=>i,traceNewRoute:()=>z,traceRawRoutePath:()=>J,traceRoute:()=>n,traceRoutePath:()=>T,traceRoutePathWithoutQuery:()=>C});var r=()=>{},n=()=>{},a=()=>{},i=()=>{};var o=new class{create(){}intervalSend(){}clearIntervalSend(){}getCurrentId(){}add(){}send(){}protect(){}},s=()=>{},u=()=>{},c=()=>{},l=()=>{},d=()=>{},p=()=>{},f=()=>{},h=()=>{},g=()=>{},v=()=>{},y=()=>{},b=()=>{},_=()=>{},w=()=>{},I=()=>{},S=()=>{},k=()=>{},C=()=>{},T=()=>{},A=()=>{},P=()=>{},E=()=>{},x=()=>{},M=()=>{},D=()=>{},R=()=>{},L=()=>{},O=()=>{},N=()=>{},j=()=>{},B=()=>{},F=()=>{},U=()=>{},W=()=>{},G=()=>{},V=()=>{},$=()=>{},q=()=>{},z=()=>{},K=()=>{},H=()=>{},J=()=>{},Y=()=>{},Q=()=>{},Z=()=>{},X=()=>{},ee=()=>{},te=()=>{},re=()=>{},ne=()=>{},ae=()=>{},ie=()=>{},oe=()=>{},se=()=>{},ue=()=>{},ce=()=>{},le=()=>{},de=()=>{},pe=()=>{},fe=()=>{};m=t})(),(()=>{var e={227:(e,t,r)=>{r.d(t,{D:()=>a,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},a={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_"}},752:(e,t,r)=>{var n=r(796),a=r(410);o.onBridgeReady((()=>{c.on("onError",(e=>{o.emitUnhandledError(e)})),c.on("unhandledRejection",(e=>{o.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),o.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),h.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),o.onUnhandledError((function(e){e=(0,a.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),h.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),o.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),h.error("FrameworkError",e)}))},673:(e,t,r)=>{r.d(t,{OJ:()=>i,YZ:()=>a,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function a(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var i=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},550:(e,t,r)=>{var n=r(18);i.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var a=t[r].contextGlobal.__wxSourceMap;if("object"==typeof a&&a[e]){var i=void 0;try{i=JSON.parse(JSON.stringify(a[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return i}}})}))},168:(e,t,r)=>{r.d(t,{Z:()=>E});var n,a=r(888),s=r.n(a),u=r(796),c=r(410),l=r(227),d={},p={},f={},v={},m={},y={},b={},_=0;g.subscribe("subContextMessage",((e,t)=>{var r=f[t];return r&&r.__onMessageHandler(e)})),g.subscribe("subContextReady",((e,t)=>{var r;if(((0,u.G$)()||(0,u.oi)())&&(r=f[t]),o.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var a=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,u.G$)()||(0,u.oi)()?f[t].__onReadyHandler(t,e):a&&a.__onReadyHandler(t,e)},(0,u.G$)()||(0,u.oi)())return void f[t].__onPreloadReadyHandler(t,e);if(!a)return;a.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,u.G$)()||(0,u.oi)())return void f[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,u.G$)()||g.isAsync())return void f[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),g.subscribe("subContextLibVarReady",((e,t)=>{f[t].__onLibVarReadyHandler(e)}));var I=function(e){var t=g.create(e);return d[this.__guid__]=t,t},S=function(e,t,r){var n,a,i=(0,u.G$)()||g.isAsync(),o=!1;if("number"==typeof t&&g.supportAllocFromSnapshot()?(h.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=g.allocFromSnapshot(e,t),e===l.m.APP&&g.setAppSubContextId(n),g.associateRealId2SdkId(n)):r&&g.supportAllocEmpty()?(h.info(`[JSContext] alloc(empty) name=${e}`),o=!0,i?a=new Promise((t=>{n=g.allocEmpty(e,(()=>{t(n)}))})):n=g.allocEmpty()):(r&&h.warn("SubContext: allocEmpty is not supported"),h.info(`[JSContext] alloc name=${e}`),n=i?g.alloc(e):g.alloc(),e===l.m.APP&&g.setAppSubContextId(n),g.associateRealId2SdkId(n)),i&&(f[n]=this),d[this.__guid__]=n,o&&n>0)if(a)a=a.then((e=>{var t=this.loadLibFiles(r);return h.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var s=this.loadLibFiles(r);h.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${s}`)}return a||n},k=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},C=function(){void 0!==p[this.__guid__]&&(y[this.__guid__].forEach((e=>{this.postMessage(e)})),y[this.__guid__]=[])},T=function(){void 0!==p[this.__guid__]&&(0,c.YF)((()=>{b[this.__guid__].forEach((e=>{this.postMessage(e)})),b[this.__guid__]=[]}))},A=(e,t)=>(w.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{w.traceEndEvent({isSuccess:e})}),P=new Set;const E=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:a=null,injectAfterAlloc:i=!0,snapshotContextName:o="",isPreload:s=!1}){k.call(this,"__name__",e,s),k.call(this,"__guid__",_++,s),k.call(this,"__secure__",t,s),k.call(this,"__entry__",n,s),k.call(this,"__entryLibs__",a,s),k.call(this,"__injectAfterAlloc__",i,s),k.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),m[this.__guid__]=[],y[this.__guid__]=[],b[this.__guid__]=[]}static supportEntryLibs(){return g.supportAllocEmpty()}getInnerId(){return p[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=i)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!g.supportAlloc())return I.call(this,this.__entry__);var t=S.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(h.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(h.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,u.G$)()||g.isAsync())&&(0,u.N0)())return s()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!g.supportAlloc())return I.call(this,this.__entry__);S.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,u.G$)()||g.isAsync())&&(0,u.N0)())return s()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),a=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var i=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(i)}else{if(Date.now()-r>2e4)return o.env.platform,t();setTimeout(a)}};a()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===o.env.platform||"ios"===o.env.platform)&&!g.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(m[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),m[this.__guid__]=[])}postMessage(e){var t=p[this.__guid__];return void 0!==t?g.publish("mainContextMessage",e,[t])[0]:void y[this.__guid__].push(e)}postMessageAsync(e){var t=p[this.__guid__];void 0!==t?(0,c.YF)((()=>{g.publish("mainContextMessage",e,[t])})):b[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,v[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}updateExportEnv(e){p[this.__guid__]}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");var r=v[this.__guid__];e.notUpdateIntact&&(e=Object.assign({},r,e)),this.setExportEnv(e);var n=v[this.__guid__],a=p[this.__guid__];g.publish("subContextEnvReady",n,[a],!0),g.subscribe("subContextRefreshEnvReady",((e,r)=>{a===r&&t()}))}))}refreshWxConfig(e,t){var r=p[this.__guid__];g.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=p[this.__guid__];g.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==d[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=d[this.__guid__];if(void 0!==r){"game.js"===e&&g.notifyGameEngineReady();var n=A([e],t);if(((0,u.G$)()||g.isAsync())&&(0,u.N0)())return new Promise((t=>{var a=g.evaluateScriptFile(r,e,(()=>t(a)));if(1!==a)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${a}`)})).then((()=>{n(!0)}));var a=g.evaluateScriptFile(r,e);if(1!==a)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${a}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=d&&d[this.__guid__];if(void 0===t)return"fail: no clientId";if(!g||!g.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=g.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:a=!1}={}){e=e.map((e=>"/"===e[0]?e:"/"+e));var o=d&&d[this.__guid__],s=e.filter((e=>this.alreadyLoadedJsFiles.has(e)));s.length>0&&h.info("[SubContext] loadJsFiles ignored loaded: "+s.join(","));var u=null;if(0===(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length)return h.info("[SubContext] loadJsFiles have no files to load, return"),u;var c={};if(void 0!==o){var p="android"===i.platform?"key":"reportKey",f=n;if(void 0!==f){if(P.has(f)){var v=1;do{f=n+"-#"+v++}while(P.has(f))}P.add(f)}if(c[p]=f,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),a&&!this.initialScriptInjected&&this.__name__===l.m.APP&&(this.initialScriptInjected=!0,c.initialScript=!0,c.initialScriptStartTime=this.firstLoadJsFilesStartTime),g&&g.batchLoadJsFiles)try{var m=Date.now(),y=A(e,t);try{g.batchLoadJsFiles(o,e,c)}catch(e){throw y(!1),e}r?u=e=>{y(!!e)}:y(!0),h.info("[SubContext] loadJsFiles done, cost "+(Date.now()-m)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return u}destroy(){var e=d[this.__guid__],t=p[this.__guid__];e>0&&(g.publish("subContextDestroy",{},[t]),g.destroy(e)),delete f[t],delete d[this.__guid__],delete p[this.__guid__],delete v[this.__guid__],delete m[this.__guid__],delete y[this.__guid__],delete b[this.__guid__],delete this.__guid__,delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void m[this.__guid__].push(e)}__onReadyHandler(e,t){f[e]=this,p[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=v[this.__guid__];r&&g.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,C.call(this),T.call(this)}__onPreloadReadyHandler(e,t){f[e]=this,p[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=v[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,g.publish("preloadSubContextEnvReady",r,[e],!0))}}},18:(e,t,r)=>{r.d(t,{M:()=>i,z:()=>a});var n=[],a=function(e){n.push(e)},i=function(){return n}},796:(e,t,r)=>{r.d(t,{Dt:()=>m,F:()=>u,G$:()=>f,Hw:()=>p,N0:()=>s,NG:()=>b,QT:()=>l,Qj:()=>w,c6:()=>I,cF:()=>y,gn:()=>h,oi:()=>S,sK:()=>d,xJ:()=>o});var n=r(888),a=r.n(n),o=globalThis;var s=function(){return void 0!==i&&i.isIsolateContext},u=function(){v.deepFreezeGlobalObjs(["console"],!0)},l=function(){var e=a()((function*(e,t){_.reportIDKey({key:t});try{yield e()}catch(e){_.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";_.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),d=function(e,t,r){void 0!==r?_.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):_.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},p=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){_.errorReport({key:e,error:t,extend:""})}}},f=function(){return"devtools"===i.platform},h=function(){return"ios"===i.platform},m=function(){return"android"===i.platform},y=e=>{var t;if(c.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},b=e=>{var t,r;if(c.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},w=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",a=t.alias||"",i=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=i.length){var o=i.every(((e,t)=>e===r[t]));if(o)return o}if(a&&0===e.indexOf(a))return!0}return!1}));if(n)return n}return!1},I=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,S=()=>g.isAsync()},642:(e,n,a)=>{a.d(n,{E:()=>L,F:()=>O});var s=a(168),l=a(673),d=a(796),p=a(510),f=a(227);a.g.LanDebug=l.OJ,a.g.getPerfDog=l.yQ,a.g.getProfiler=l.YZ;var v,y="undefined"!=typeof __AppServiceRemoteDebugger__,b=null,I={};o.onLoad((()=>{b=y?__AppServiceRemoteDebugger__(i.platform,p.M,p.O,d.NG,a.g.WeixinJSBridge):null,y&&b&&((I=(0,d.gn)()?b.runtime.getSubContextGlobals():{}).BaseConsole&&b.runtime.setupConsole(console,I.BaseConsole),a.g.__remoteDebug__=b.__remoteDebug__,a.g.__isAppServiceRemoteDebugMode__=!0,a.g.__debuggerMessager__=p.O)}));var S=e=>v=e,k="app-service.js",C="appservice.app.js",T="common.app.js",A="appservice.js",P=new s.Z({name:f.m.APP,secure:!1,entry:[k],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),E=new Set;i.onReady((()=>{"develop"!==i.envVersion&&"trial"!==i.envVersion||(E.add("wx0354ba48aadc0ab2"),E.add("wxfa43a4a7041a84de"))}));var x=e=>h.info("[injectEntryFile] "+e),M=new Set,D=(e,t,r)=>{if(!M.has(e)){w.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),y&&b&&(0,d.gn)()&&b.runtime.registerScript(e);var n=-1,a=-1;M.add(e);var o="boolean"==typeof r?r:i.isLazyLoad;x(`isLazyLoad: ${o}`),x(`moduleName: ${e}`),x(`separatedPlugins: ${JSON.stringify(t)}`);var s=[];if(o){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,E.add(t.plugin_id));try{x(`accessSync path: ${r+T}`),(0,d.cF)(r+T),s.push(r+T,r+C),t.prefix_path||((e,t)=>{h.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,d.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}h.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(i.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,h.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),P.refreshWxConfig("subPackages",i.subPackages)}})(e,r+"plugin.json")}catch(e){s.push(r+A)}})),s.push(e+T,e+C),x(`using separated plugins: ${JSON.stringify(s)}`);var u=e||"__APP__";n=Date.now(),P.loadJsFiles(s,u,{reportKey:`entry-${u}`}),a=Date.now()}else(s=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,E.add(t.plugin_id)),r+A}))).push(e+k),x(`using separated plugins: ${JSON.stringify(s)}`),n=Date.now(),s.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!P.alreadyLoadedJsFiles.has(t)){try{P.evaluateScriptFile(t,e||"__APP__")}catch(e){x(`inject ${t} failed, reason: ${e.message}`)}P.alreadyLoadedJsFiles.add(t)}})),a=Date.now();P.refreshWxConfig("extendedLibList",Array.from(E)),n>0&&a>0&&x("time cost: "+(a-n)),w.traceEndEvent()}},R=(0,d.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[],a=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),v.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,d.gn)()&&y?(t=r?"":t,b.runtime.isInitialInject()?(b.runtime.startBufferBridgeMessages(),b.runtime.runAfterAttached((()=>{D(t,n,a),b.runtime.dispatchBridgeMessages()}))):D(t,n,a)):D(r?"":t,n,a),v.globalRequireBlocker.unblock(),i.onReady((()=>{w.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),v.globalRequireBlocker.flushQueue(),w.traceEndEvent()}))})),L=function(){var e,n={};y&&b&&(n={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:b.__remoteDebug__,...I});var a={wxLibVersion:(null===(e=t)||void 0===e?void 0:e.version)||"9.9.9",__Function__:r,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:i,Reporter:_,BaseConsole:__appServiceConsole__.BaseConsole,wxNativeConsole:h,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:__subContextEngineBridge__,__freezeLibContextGlobal__:()=>(0,d.F)(),originConsole:console,...n,debuggerMessager:p.O,__userActionTracer__:m,__appServiceSDK__:w,WeixinJSBridge:c,setWxModule:S,__glassEaselAdapter__:__glassEaselAdapter__,__refreshEnv:(e={},t=null)=>{"sclEngine"===t&&(e||(e={}),__sclEngine__.inject&&__sclEngine__.inject(),e.__sclEngine__=__sclEngine__),P.refreshExportEnv({...e,notUpdateIntact:!0})}};return a.Trace=u,w.onSubPackageReady(R),P.setExportEnv(a),P.init()},O=function(){return P};g&&g.subscribe&&g.subscribe("injectEntryFile",(e=>{D(e.moduleName,e.separatedPlugins)}))},612:(e,t,r)=>{r.d(t,{DW:()=>o,Tq:()=>l,vh:()=>s});var n=r(227),a=new(r(168).Z)({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:["WARenderContext.js"],snapshotContextName:"app:subRender"}),o=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:_,BaseConsole:__appServiceConsole__.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:h,WeixinJSBridge:c,__sclEngine__:__sclEngine__,__appServiceConsole__:__appServiceConsole__,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:__glassEaselAdapter__};return e.Trace=u,a.setExportEnv(e),a.__initPromise__=a.init(),a},s=function(){return a},l=(e,t)=>g.publish(e,t,[a.getInnerId()])},801:(e,t,r)=>{r.d(t,{Nz:()=>l,Pc:()=>s,dx:()=>o});var n=r(227),a=new(r(168).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),o=function(){__sclEngine__.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:_,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:h,WeixinJSBridge:c,__sclEngine__:__sclEngine__};return e.Trace=u,a.setExportEnv(e),a.__initPromise__=a.init(),a},s=function(){return a},l=(e,t)=>g.publish(e,t,[a.getInnerId()])},740:(e,t,r)=>{r.d(t,{$:()=>s,k:()=>l});var n,a=r(227),o=r(168),s=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new o.Z({name:a.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===i.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:_,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:h,WeixinJSBridge:c,Trace:u,console:console,subContextInitCallback:e,BaseConsole:__appServiceConsole__.BaseConsole};return n.setExportEnv(t),n.init(),n},l=()=>n},510:(e,t,r)=>{r.d(t,{M:()=>i,O:()=>a});var n=[],a="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};a.registerCallback=e=>{"function"==typeof e&&n.push(e)},a.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var i="undefined"!=typeof JSThread?JSThread:null},561:(e,t,r)=>{r.d(t,{M:()=>d,eC:()=>p,xC:()=>f});var n=r(168),a=r(796),o=r(673),s=r(510),u=r(227);r.g.LanDebug=o.OJ,r.g.getPerfDog=o.yQ,r.g.__debuggerMessager__=s.O;var c=new n.Z({name:u.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"});function l(){w.getABTestConfig({experimentId:(0,a.gn)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=i.plugins||i.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));c.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){h.error("getABTestConfig fail",e)}})}var d=function(e){return e.__wxConfig=i,c.setExportEnv(e),(0,a.G$)()||g.isAsync()||l(),c.afterPreloadInit()},p=function(){return c},f=function(e,t){return c.preInit(e,t)}},681:(e,t,r)=>{r.d(t,{J:()=>u,r:()=>c});var n=r(227),a=r(168),o=r(796),s=new a.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var u=e=>(e.__wxConfig=i,s.setExportEnv(e),(0,o.G$)()||g.isAsync()||function(){var e=i.plugins||i.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));s.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),s.init()),c=function(){return s}},29:(e,t,r)=>{r.d(t,{K0:()=>S,dr:()=>_,hS:()=>k,qo:()=>I});var n=r(888),a=r.n(n),s=r(227),u=r(168),c=r(18),l=r(796),d=r(561),p=r(681),f={},h={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},v=e=>`__plugin__/${e}/plugin.js`,m=null,y=!1,b=1;o.onLoad((()=>{o.env.isGame&&i.preload&&"android"===o.env.platform&&!g.isAsync()?(m=new u.Z({name:s.D.GAME_PLUGIN_PRELOAD+b,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),b++,m.preInit()):y=!0}));var _=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:o}=e,{provider:d}=e;if(!1===(0,l.N0)())throw new Error("isn't isolateContext mode!");var p,b=f[d=`${d}_${o?"_sub":"main"}`];if(b)return p=b.contextGlobal.__require,!0===b.__isCompleted||!1===b.__isCompleted&&(b.dynamicExportGlobal({name:"pluginEnv",value:t}),h.isolatedContext[d]=p),p;var _,I=s.D.GAME_PLUGIN+d,S=v(d.slice(0,-5));_=y?new u.Z({name:I,secure:r,entry:[S],snapshotContextName:"game:sub"}):m;var k=e=>{if(e.__wxConfig=i,_.setExportEnv({...e,pluginEnv:t}),y)return _.init();_.setName(I),_.setEntry([S]),_.afterPreloadInit(),y=!0};return((0,l.G$)()||g.isAsync())&&!0===n?a()((function*(){return yield(0,l.QT)(a()((function*(){(0,c.z)(_),yield k(w.getIsolatedGamePluginContextEnv(e)),p=_.contextGlobal.__require,_.__isCompleted=!1,f[d]=_})),"initGamePluginContext"),p}))():((0,l.QT)((()=>{(0,c.z)(_),k(w.getIsolatedGamePluginContextEnv(e)),p=_.contextGlobal.__require,_.__isCompleted=!0,f[d]=_}),"initGamePluginContext"),h.isolatedContext[d]=p,p)},I=(e,t,r)=>{var{__name__:n}=e,i=v(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,l.G$)()||g.isAsync())&&!0===r?a()((function*(){return yield e.evaluateScriptFile(i),h[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(i),h[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},S=function(){var e=a()((function*(){var e,t,r=(e=i.gamePlugins||i.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push({...e[r],context:n,contexts:null});var a=e[r].provider;"wx20afc706a711eefc"!==a&&"wx4d5893418b75cb20"!==a||t.push({...e[r],context:n,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return _({...e,isPreload:!0});case"gameContext":return n((0,d.eC)(),v(t));case"openDataContext":return n((0,p.r)(),v(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),k=()=>h},144:(e,t,r)=>{var n=r(18);g&&g.subscribe&&(g.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);h.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),g.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);h.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},410:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},a=!1,i=[],o=e=>{i.push(e),a||(a=!0,Promise.resolve().then((()=>{for(var e=0;e<i.length;++e)if("function"==typeof i[e])try{i[e]()}catch(e){throw h.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}a=!1,i.length=0})))}},888:e=>{e.exports=a.asyncToGenerator}},s={};function l(t){var r=s[t];if(void 0!==r)return r.exports;var n=s[t]={exports:{}};return e[t](n,n.exports,l),n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};(()=>{l.r(d),l.d(d,{createAppRenderContext:()=>k,createAppSclContext:()=>T,createAppXRFrameRenderContext:()=>P,createGameOpenDataContext:()=>R,createIsolatedGamePlugin:()=>p.dr,getAppContext:()=>r.F,getGameContext:()=>u.eC,getGameOpenDataContext:()=>c.r,getGamePlugins:()=>p.hS,getPool:()=>m.M,initAppRelatedContexts:()=>S,initFunctionalPage:()=>x,initGameJS:()=>M,initGameRelatedContexts:()=>E,injectGamePlugin:()=>p.qo,isIsolateContext:()=>f.N0,isValidGameIndependentSubpackagePath:()=>f.Qj,loadJsFiles:()=>L,onSubContextMessage:()=>j,postMessageToSubContext:()=>O,postMessageToSubContextSync:()=>N,publishToRenderContext:()=>n.Tq,publishToSclContext:()=>s.Nz,waitAppRenderContextInit:()=>C,waitAppSclContextInit:()=>A});var e=l(888),t=l.n(e),r=(l(752),l(642)),n=l(612),a=l(740),s=l(801),u=l(561),c=l(681),p=l(29),f=l(796),m=l(18),y=(l(144),l(550),l(227)),b=Object.keys,I=new o.EventEmitter,S=function(e){(0,f.N0)();for(var t=b(e),n=0;n<t.length;n++){var a=t[n];f.xJ[a]=e[a]}(0,f.N0)()&&(0,f.QT)((()=>{v.hijack(),(0,m.z)((0,r.F)());var e=(0,r.E)();1===i.envPreloadType&&(e instanceof Promise?e.then((e=>{w.loadPreloadSdkSubPackage(),h.info("load subpackage finish")})):(w.loadPreloadSdkSubPackage(),h.info("load subpackage finish")))}),"initAppIsolatedContext"),i.onReady((()=>{!(0,f.N0)()&&i.plugins&&(v.overwriteSetPrototypeOf(),v.deepFreezeGlobalObjs([],!1))}))},k=function(){var e;(0,f.N0)(),(0,f.QT)((()=>{e=(0,n.DW)(),(0,m.z)(e),e.onMessage((e=>{I.emit("subContextMessage",e)})),(0,f.F)()}),"createAppRenderContext")},C=function(){var e=t()((function*(){var e,t=(0,m.M)().find((e=>e.__name__===y.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),T=function(){var e;(0,f.N0)(),(0,f.QT)((()=>{e=(0,s.dx)(),(0,m.z)(e),e.onMessage((e=>{I.emit("subContextMessage",e)})),(0,f.F)()}),"createAppSclContext")},A=function(){var e=t()((function*(){var e,t=(0,m.M)().find((e=>e.__name__===y.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),P=function(e){(0,f.QT)((()=>{var t=(0,a.$)(e);(0,m.z)(t),t.onMessage((e=>{I.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},E=()=>{var e,t;if(1===i.envPreloadType){var r=w.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=w.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=i.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))x(e);else if((0,f.c6)(r.scene)){var n=(0,f.Qj)(r.path,i.subPackages);if(n){var a;if("playable"===(null==n||null===(a=n.meta)||void 0===a?void 0:a.type)&&(w.runPlayableGameJS(n.root,n.meta),(0,f.Dt)()||(0,f.gn)()))return;var o=(0,u.eC)(),s=n.root;s.endsWith(".js")||(s.endsWith("/")||(s=`${s}/`),s=`${s}game.js`),o.setEntry([s]),console.log("exportEnvs ==",e),D(e,(e=>{e&&(console.error("run game independent subpackage fail",e),h.error("run game independent subpackage fail",e),o.evaluateScriptFile("game.js"),_.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else D(e)}else D(e)}1===i.envPreloadType&&(w.loadPreloadSdkSubPackage(),h.info("load subpackage finish")),(0,u.xC)(e,t),i.onReady((()=>{((0,f.G$)()||g.isAsync())&&(0,f.N0)()?(0,p.K0)().then((()=>(n(),null))):n()}))};function x(e){(e=e||w.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function M(e){e=e||w.getGameRelatedContextsExports(),(0,m.M)().length>0||D(e)}function D(e,t){e=e||w.getGameRelatedContextsExports(),(0,f.N0)()&&(0,f.QT)((()=>{(0,f.F)(),(0,m.z)((0,u.eC)());var r=(0,u.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function R(e){e=e||w.getGameRelatedContextsExports(),(0,f.QT)((()=>{(0,m.z)((0,c.r)());var t=(0,c.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var L=()=>{},O=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,n.vh)().postMessageAsync(e)},N=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,n.vh)().postMessage(e)},j=e=>{I.on("subContextMessage",e)}})(),y=d})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>l,callThirdPartyFunction:()=>f,convertStack:()=>a,endSystemFunctionCall:()=>c,findCurrentSource:()=>s,startSystemFunctionCall:()=>u,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>h,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function a(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,a=n.length-1,o=0;o>=0&&a>=0;){var s=r.length,u=0;for(var c in i)if(i[c]){var l=r.indexOf(i[c],o);l<0||s<=l||(s=l,u=i[c].length)}if(s>=r.length)break;var d=`at <${n[a--].description}>`;r=r.slice(0,s)+d+r.slice(s+u),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var i={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",a=0;t&&t.forEach((e=>{if(r.test(e)&&2===(a+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return n=e.slice(i),!1}return!0})),i[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var u=e=>{null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},c=()=>{n.pop()};function l(e,t,r,u,c,l=!1){var p;null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(u,c)}catch(t){if(a(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var f=s();_.thirdErrorReport({error:t,source:f,triggerErrorCallback:!l})}else _.errorReport({key:e,error:t,triggerErrorCallback:!l})}if(l)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...a){return l(e,t,r,this,a,n)}}function p(e,t,r,s,u,c=!1){var l;null===i.wrapMiniProgramOrPluginFunction&&(i.wrapMiniProgramOrPluginFunction="",h("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{l=r.apply(s,u)}catch(t){if(a(t)&&_.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw n.pop(),t}return n.pop(),l}function f(e,t,r,n,a=!1){return p(s(),e,t,r,n,a)}function h(e,t,r,n=!1){return function(...a){return p(e,t,r,this,a,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",a=e||function(){};return function(...e){return p(s(),n,a,a,e,!1)}}b=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>se});var a={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503},u={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},l={apiCallback:1,pageInvoke:2,widgetInvoke:3},d={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},p={[a.APP]:"thirdScriptError",[a.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[a.WIDGET]:"widgetThirdScriptError",[a.GAME]:"gameThirdScriptError",[a.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var f={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},h=0;function g(){var e=0;return{get(){if(e>0)return e;if(0===h)throw Error("initTime not ready");return e=h},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==o?o.onLoad((()=>{f.offset=Date.now(),h=Date.now()})):(f.offset=Date.now(),h=Date.now());class v{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=g(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=g(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class m{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=g(),this._periodStartTime=g(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class y{constructor(e,t,r,n){this.reportTime=g(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new m(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,a){this.continueDecreaseReportLimitStrategys[e]=new v(t,r,n,a)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var _=(()=>(i.onReady((()=>{_!==i&&void 0!==_&&Object.assign(_,i)})),i))();const I=_;var S=(()=>I.platform)(),k=(()=>"devtools"===S)(),C=(()=>"ios"===S)();var T=(()=>Object.prototype.toString)(),A=n.prototype.call.bind(T);function P(e){return A(e).slice(8,-1)}var E=6e4,x=15e3;function M(...e){c.invoke(...e)}var D={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},R=new y("id",x,100,E);function L(e){I.onReady((()=>{M("reportIDKey",{dataArray:e})}))}function O(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){R.pushReportQueue({id:e,key:t,value:r});var a=R.attemptReportAndGetReportMsgs(n);a.length&&L(a)}}function N(){var e=R.attemptReportAndGetReportMsgs(!0);e.length&&L(e)}var j=[],B=0,F=0,U=0,W={},G={},V={},$=new y("key",x,100,E);function q(e){I.onReady((()=>{M("reportKeyValue",{dataArray:e})}))}function z(){I.onReady((()=>{!j||j.length<=0||(M("systemLog",{dataArray:j}),j=[])}))}function K(e){var t=I&&I.appContactInfo&&I.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}$.setContinueDecreaseReportLimitStrategyKey(18042,x,.5,100,E);var H=()=>{},J=()=>{},Y=()=>{},Q=()=>{},Z="",X={},ee=-1,te=0,re=a.APP,ne="";"function"==typeof I.onReady&&I.onReady((()=>{void 0!==I.appType&&(ee=I.appType),"object"==typeof I.appLaunchInfo&&(te=I.appLaunchInfo.scene);var e=I.networkType;e?ne=e:c.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(ne=e.networkType)})),"function"==typeof c.addEventListener&&c.addEventListener("onNetworkStatusChange",(e=>{ne=e.networkType}))}));var ae={surroundThirdByTryCatch:b.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var a=l[e],i=Date.now();if(a&&(n||!(i-U<500))&&!(Object.keys(V).length>50||(V[r]||(V[r]=0),V[r]++,V[r]>3))){U=i;var o=`${t},${encodeURIComponent(r)},${a},${ae.getAppType()}`;ae.reportKeyValue({key:"Slow",value:o})}},isLimitReport:e=>$.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var a=u[e],i=Date.now(),o=0,s=r.nativeTime;if(a&&(n||!(i-(W[a]||0)<500))&&r.startTime&&r.endTime&&(1!==a&&2!==a||s)){t&&(o=JSON.stringify(t).length),W[a]=i;var c=`${a},${r.startTime},${s},${s},${r.endTime},${o},${ae.getAppType()}`;ae.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,n=[]){var a=r-t;a<0&&(a=0),M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:[a,te,t,r,...n].join(",")}]})},reportQualityData2(e,t=[]){M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:t.join(",")}]})},flushReportKeyValueList:()=>{var e=$.attemptReportAndGetReportMsgs(!0);e.length&&q(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||s[e]){$.pushReportQueue({key:n?e:s[e],value:t},r);var a=$.attemptReportAndGetReportMsgs(r);a.length&&q(a)}},flushReportIDKeyList:N,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1}){D[t]&&O(e||(C?356:358),D[t],r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&O(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||O(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){O(1874,e,t)},thirdErrorReport:({key:e=re,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:a,source:i="",isOpenDataContextError:o=!1})=>{ae.errorReport({key:p[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:a,source:i,isOpenDataContextError:o})},errorReport:({key:e,error:r,isThirdScriptError:n=!1,triggerErrorCallback:i=!0,isUnhandledRejection:o=!1,promise:s,source:u="",isOpenDataContextError:l=!1,extra:p=""})=>{if(d[e]&&r){var f,h;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(f=r.message,h=r.stack):(f=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),h=P(r));var g=n?"MiniProgramError":`SystemError (${e})`,v=f,m="";r.name&&0!==(h||"").indexOf(r.name)&&(m="\n"+r.name+": "+v);var y=`${g}\n${v}${m}\n${h}`;if(k){var b=new Error(`${g}\n${v}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(b,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(b,"stack",{value:r.stack}),console.error(b)}else o?console.error("(in promise) "+y):console.error(y);if(!(l||y.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){c.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:y},options:{timestamp:Date.now()}}):i&&(ae.triggerErrorMessage(y,o,r,s),n&&ae.triggerThirdErrorMessage(y,o,r,s)),Object.keys(G).length>50||o&&"Error"!==P(r)))){var _="",I="";re!==a.APP&&re!==a.GAME||(_=Z,I=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(X));var S=0;if(1004===ae.getAppType())try{ne=w.getGameRelatedContextsExports().game._getCurrentNetworkType();var C=r.stackInfoArr;if(delete r.stackInfoArr,C){var T=C[0];if(T&&"usr"===T.type&&"__plugin__"===T.package&&"string"==typeof T.file){var A=T.file.split("/");S=K(u=A&&A[0])}}}catch(b){}else S=u.match(/wx[0-9a-f]{16}/)?K(u):0;var E=[d[e],r.name,...[v,h,void 0!==t&&t.version||"",ae.getAppType(),_,I,void 0!==t&&t.updateTime||"","",o?1:0,u,S,ne,p].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(G[E]||(G[E]=0),G[E]++,!(n&&G[E]>3||G[E]>3)){ae.reportIDKey({key:e}),ae.reportKeyValue({key:"Error",value:E});var x=$.attemptReportAndGetReportMsgs(!0);x.length&&q(x),N(),z()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-B<50||(B=Date.now(),j.push(e+""),j.length>=50&&z()))},submit:()=>{Date.now()-F<50||(F=Date.now(),N(),q($.attemptReportAndGetReportMsgs(!0)),z())},registerErrorListener:e=>{"function"==typeof e&&(H=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(J=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(Y=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(Q=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Y(r,n):H(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Q(r,n):J(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{re=a.WIDGET},setAsGame:()=>{re=a.GAME},setAsGameSubContext:()=>{re=a.GAME_SUBCONTEXT},getAppType:()=>-1===ee?0:ee+1e3},ie={};function oe(e){Object.defineProperty(ie,e,{get(){return t=ae[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(ae).forEach((e=>{oe(e)})),Object.defineProperty(ie,"__route__",{set(e){Z=e}}),Object.defineProperty(ie,"__method__",{set(){}}),Object.defineProperty(ie,"__query__",{set(e){X=e}}),ie.RunType=a,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){ae.submit()}});const se=ie})(),_=r.default})(),(()=>{var e={4419:(e,t,r)=>{"use strict";var n,a;r.d(t,{C2:()=>a,Mi:()=>u,QD:()=>n,XN:()=>c,ZP:()=>o}),function(e){e.STRING="STRING",e.LONGLONG="LONGLONG",e.UINT="UINT",e.INT="INT"}(n||(n={})),function(e){e.SvrReport="SvrReport",e.KvStat="KvStat"}(a||(a={}));var i={[n.STRING]:e=>"string"==typeof e&&e.length<=1024,[n.LONGLONG]:e=>"number"==typeof e&&Math.floor(e)===e,[n.UINT]:e=>"number"==typeof e&&Math.floor(e)===e&&e>=0,[n.INT]:e=>"number"==typeof e&&Math.floor(e)===e};class o{constructor({logid:e,schemas:t={},base:r,debug:n=!1,namespace:a="",skipValidateInProdEnv:i=!0}){this.debug=!1,this.base={},this.namespace="",this.skipValidateInProdEnv=!0,this.asyncGetBase=()=>Promise.resolve({}),this.logid=e,this.schemas=t,r&&this.setBase(r),this.debug=n,this.skipValidateInProdEnv=i,this.namespace=a?` ${a} `:" "}setBase(e){this.validate(e),this.base=Object.assign(Object.assign({},this.base),e)}validate(e){if((this.debug||!this.skipValidateInProdEnv)&&Object.keys(this.schemas).length)for(var[t,r]of Object.entries(e))if(void 0!==r){var n=this.schemas[t];n?this.validateColumn(n,r)||console.error(`[minigamefe${this.namespace}SchemaValidator]: logid ${this.logid}: ${t} should be ${n}, but now ${r}`):console.warn(`[minigamefe${this.namespace}SchemaValidator]: logid${this.logid}: ${t} 缺少类型定义`)}}validateColumn(e,t){return i[e](t)}}var s="";function u(e,t,r){s?e&&e(s):(t({success:t=>{s=t.networkType,e&&e(s)}}),r((t=>{s=t.networkType,t.isConnected||(s="none"),e&&e(s)})))}var c={wifi:"0",unknown:"1",none:"1","2g":"2","3g":"3","4g":"4","5g":"5"}},9693:(e,t,r)=>{"use strict";function n(e){return"number"==typeof e&&isFinite(e)}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t=e;try{"object"==typeof e&&(t="string"==typeof e.errMsg?e.errMsg:"string"==typeof e.errmsg?e.errmsg:"string"==typeof e.message?e.message:JSON.stringify(e))}catch(e){console.error(e)}return t}function o(e,t){var r=0;requestAnimationFrame((function n(a){r||(r=a),a-r<t?requestAnimationFrame(n):e()}))}r.d(t,{Kn:()=>a,bV:()=>i,gw:()=>o,hj:()=>n})},1325:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(4419),a={19283:"GameComponent",19335:"GameWhatsNew",20285:"MidasFriendPayment",21494:"WXGameWASMLaunchClose",21493:"WXGameWASMLaunchException",21492:"WXGameWASMLaunchTime",21898:"GameLifeMiniGameCardAction",20267:"GameAdsSkipCard"};class i extends n.ZP{constructor({reportFunc:e,logid:t,protocolParams:r,schemas:n,base:i,asyncGetBase:o=(()=>Promise.resolve({})),debug:s,namespace:u="",skipValidateInProdEnv:c=!0}){var l=t;"number"==typeof t&&a[t]&&(l=a[t],s&&console.warn(`[minigamefe${u?` ${u} `:" "}KeyValueReporter]: logid ${t} auto map to ${l}!`)),super({logid:l,schemas:n,base:i,debug:s,namespace:u,skipValidateInProdEnv:c}),this.asyncGetBase=o,e||console.error(`[minigamefe${this.namespace}KeyValueReporter]: 未传入上报函数。`),this.reportFunc=e||function(){},this.protocolParams=r,this.sendCbk=null}send(e,t){var r;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var r=Object.assign(Object.assign({},this.base),e);this.validate(r);var n=[];this.protocolParams.forEach((e=>{var t=void 0!==r[e]?r[e]:"";n.push(t)})),this.reportFunc({key:this.logid,value:n.map(encodeURIComponent).join(","),immediately:!0});var a=t||this.sendCbk;(a&&a(this.logid,n.map(encodeURIComponent).join(",")),this.debug)&&(r.IsError?console.error:console.log)(`[minigamefe${this.namespace}keyValueReport]: ${this.logid}`,r)}))}))}}},2555:(e,t,r)=>{"use strict";r.d(t,{EM:()=>u,Xu:()=>n,jJ:()=>i,ql:()=>o});var n,a,i,o,s=r(9693);!function(e){e[e.Front=1]="Front",e[e.Background=2]="Background"}(n||(n={})),function(e){e[e.Default=0]="Default",e[e.GameTransfer=1]="GameTransfer",e[e.Request=2]="Request",e[e.DownloadFile=3]="DownloadFile",e[e.CgiSpeedMeasure=4]="CgiSpeedMeasure",e[e.BadJs=5]="BadJs",e[e.Init=6]="Init",e[e.CostTime=7]="CostTime",e[e.Error=8]="Error",e[e.UploadFile=9]="UploadFile",e[e.Login=10]="Login"}(a||(a={})),function(e){e[e.Info=101]="Info",e[e.Warn=102]="Warn",e[e.Error=103]="Error"}(i||(i={})),function(e){e.GameTransferReport="GameTransferReport",e.KeyValueReport="KeyValueReport",e.WxRequestReport="WxRequestReport"}(o||(o={}));var u=Object.values(a).filter((e=>(0,s.hj)(e)))},4081:(e,t,r)=>{"use strict";r.d(t,{I4j:()=>_,KPX:()=>s,NHl:()=>T,Nac:()=>o,OK:()=>n,PRV:()=>f,Qyn:()=>w,RGX:()=>I,UoO:()=>g,WV4:()=>k,Wkc:()=>u,Y6L:()=>l,YEP:()=>i,Yd_:()=>y,Z9j:()=>d,b1W:()=>m,fUJ:()=>v,jv5:()=>c,mUN:()=>S,rAn:()=>A,tHd:()=>p,wPB:()=>C,zF7:()=>h,zJY:()=>b,zMx:()=>a});var n=0,a=5,i=101,o=104,s=112,u=1001,c=1026,l=101102,d=600009,p=600010,f=701001,h=701002,g=1300014,v=2e6,m=2000001,y=2000003,b=2000004,_=2002e3,w=2002001,I=2002002,S=2002004,k=2002005,C=2003e3,T=2003001,A=2003002},2538:e=>{function t(e,t){for(var r=[],n=~~(t/8),a=t%8,i=0,o=e.length;i<o;i++)r[i]=(e[(i+n)%o]<<a&255)+(e[(i+n+1)%o]>>>8-a&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function a(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function i(e,t){for(var r=[],n=0,a=e.length-1;a>=0;a--){var i=e[a]+t[a]+n;i>255?(n=1,r[a]=255&i):(n=0,r[a]=255&i)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):a(a(n(e,t),n(e,i)),n(t,i))}function u(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):a(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),i))}function c(e,n){for(var a,c=[],l=[],d=0;d<16;d++){var p=4*d;c.push(n.slice(p,p+4))}for(var f=16;f<68;f++)c.push(r(r((a=r(r(c[f-16],c[f-9]),t(c[f-3],15)),r(r(a,t(a,15)),t(a,23))),t(c[f-13],7)),c[f-6]));for(var h=0;h<64;h++)l.push(r(c[h],c[h+4]));for(var g,v,m,y,b=[121,204,69,25],_=[122,135,157,138],w=e.slice(0,4),I=e.slice(4,8),S=e.slice(8,12),k=e.slice(12,16),C=e.slice(16,20),T=e.slice(20,24),A=e.slice(24,28),P=e.slice(28,32),E=0;E<64;E++){var x=E>=0&&E<=15?b:_;v=r(g=t(i(i(t(w,12),C),t(x,E)),7),t(w,12)),m=i(i(i(s(w,I,S,E),k),v),l[E]),y=i(i(i(u(C,T,A,E),P),g),c[E]),k=S,S=t(I,9),I=w,w=m,P=A,A=t(T,19),T=C,C=o(y)}return r([].concat(w,I,S,k,C,T,A,P),e)}e.exports=function(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),a=0,i=n.length;a<i;a++)n[a]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var u=t.length-8;o[s]=parseInt(t.substr(u),2),t=t.substr(0,u)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var l=[].concat(e,[128],n,o),d=l.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],f=0;f<d;f++){var h=64*f;p=c(p,l.slice(h,h+64))}return p}},5405:(e,t,r)=>{var n=r(2538);e.exports=function(e){return e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e.codePointAt(r);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>>6),t.push(128|63&a);else if(a<=55295||a>=57344&&a<=65535)t.push(224|a>>>12),t.push(128|a>>>6&63),t.push(128|63&a);else{if(!(a>=65536&&a<=1114111))throw t.push(a),new Error("input is not supported");r++,t.push(240|a>>>18&28),t.push(128|a>>>12&63),t.push(128|a>>>6&63),t.push(128|63&a)}}return t}(e):Array.prototype.slice.call(e),n(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},1977:(e,t,r)=>{var n;e=r.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,u=36,c=1,l=26,d=38,p=700,f=72,h=128,g="-",v=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-c,w=Math.floor,I=String.fromCharCode;function S(e){throw RangeError(b[e])}function k(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(y,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function A(e){return k(e,(function(e){var t="";return e>65535&&(t+=I((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=I(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?w(e/p):e>>1,e+=w(e/t);e>_*l>>1;n+=u)e=w(e/_);return w(n+(_+1)*e/(e+d))}function x(e){var t,r,n,a,i,o,d,p,v,m,y,b=[],_=e.length,I=0,k=h,C=f;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&S("not-basic"),b.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<_;){for(i=I,o=1,d=u;a>=_&&S("invalid-input"),((p=(y=e.charCodeAt(a++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||p>w((s-I)/o))&&S("overflow"),I+=p*o,!(p<(v=d<=C?c:d>=C+l?l:d-C));d+=u)o>w(s/(m=u-v))&&S("overflow"),o*=m;C=E(I-i,t=b.length+1,0==i),w(I/t)>s-k&&S("overflow"),k+=w(I/t),I%=t,b.splice(I++,0,k)}return A(b)}function M(e){var t,r,n,a,i,o,d,p,v,m,y,b,_,k,C,A=[];for(b=(e=T(e)).length,t=h,r=0,i=f,o=0;o<b;++o)(y=e[o])<128&&A.push(I(y));for(n=a=A.length,a&&A.push(g);n<b;){for(d=s,o=0;o<b;++o)(y=e[o])>=t&&y<d&&(d=y);for(d-t>w((s-r)/(_=n+1))&&S("overflow"),r+=(d-t)*_,t=d,o=0;o<b;++o)if((y=e[o])<t&&++r>s&&S("overflow"),y==t){for(p=r,v=u;!(p<(m=v<=i?c:v>=i+l?l:v-i));v+=u)C=p-m,k=u-m,A.push(I(P(m+C%k,0))),p=w(C/k);A.push(I(P(p,0))),i=E(r,_,n==a),r=0,++n}++r,++t}return A.join("")}o={version:"1.3.2",ucs2:{decode:T,encode:A},decode:x,encode:M,toASCII:function(e){return C(e,(function(e){return m.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return C(e,(function(e){return v.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},8817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(r);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,d,p,f,h=e[c].replace(o,"%20"),g=h.indexOf(n);g>=0?(l=h.substr(0,g),d=h.substr(g+1)):(l=h,d=""),p=decodeURIComponent(l),f=decodeURIComponent(d),t(i,p)?Array.isArray(i[p])?i[p].push(f):i[p]=[i[p],f]:i[p]=f}return i}},8779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,a){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(t(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[a]))})).join(r):a?encodeURIComponent(t(a))+n+encodeURIComponent(t(e)):""}},9935:(e,t,r)=>{"use strict";t.decode=t.parse=r(8817),t.encode=t.stringify=r(8779)},2517:(e,t,r)=>{"use strict";var n=r(1977),a=r(7417);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),d=["%","/","?",";","#"].concat(l),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(9935);function b(e,t,r){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var I=(w=w[0]).toLowerCase();this.protocol=I,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(S||w&&!m[w])){for(var k,C,T=-1,A=0;A<p.length;A++){-1!==(P=b.indexOf(p[A]))&&(-1===T||P<T)&&(T=P)}-1!==(C=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(k=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(k)),T=-1;for(A=0;A<d.length;A++){var P;-1!==(P=b.indexOf(d[A]))&&(-1===T||P<T)&&(T=P)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var x=this.hostname.split(/\./),M=(A=0,x.length);A<M;A++){var D=x[A];if(D&&!D.match(f)){for(var R="",L=0,O=D.length;L<O;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(f)){var N=x.slice(0,A),j=x.slice(A+1),B=D.match(h);B&&(N.push(B[1]),j.unshift(B[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[I])for(A=0,M=l.length;A<M;A++){var W=l[A];if(-1!==b.indexOf(W)){var G=encodeURIComponent(W);G===W&&(G=escape(W)),b=b.split(W).join(G)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var $=b.indexOf("?");if(-1!==$?(this.search=b.substr($),this.query=b.substr($+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,$)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,I=w,S=r.pathname&&r.pathname.split("/")||[],k=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=S.shift(),(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift());return r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,A=0,P=S.length;P>=0;P--)"."===(C=S[P])?S.splice(P,1):".."===C?(S.splice(P,1),A++):A&&(S.splice(P,1),A--);if(!w&&!I)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var E,x=""===S[0]||S[0]&&"/"===S[0].charAt(0);k&&(r.hostname=r.host=x?"":S.length?S.shift():"",(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift()));return(w=w||r.host&&S.length)&&!x&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(a(/^<\?xml\s*/)){for(var e={attributes:{}};!i()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return a(/\?>\s*/),e}}function r(){var e=a(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(i()||o(">")||o("?>")||o("/>"));){var u=n();if(!u)return s;s.attributes[u.name]=u.value}if(a(/^\s*\/>\s*/))return s;for(a(/\??>\s*/),s.content=function(){var e=a(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return a(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=a(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function a(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function i(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},4500:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(6342),a=r(190),i=(e={})=>{if("[object Object]"===Object.prototype.toString.call(n.default.expt)){var t=n.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,a.IN)("getABTestConfig",e)}},5771:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(190),a=(r(5125),e=>{var{success:t,fail:r,failWithMsg:a}=(0,n.Rn)(e,"getGroupMsgTicket");(0,n.yD)({sdkApiName:"getGroupMsgTicket",apiName:"webapi_reportgroupshare",reqData:{path:e.path,share_key:e.shareKey},success:e=>{var{data:r}=e;0===r.errcode?t({expiresIn:r.expires_in,groupMsgTicket:r.group_msg_ticket}):a({code:r.errcode,msg:r.errmsg})},fail:e=>{e.errCode=-1,r(e)}})}),i=e=>{a(e)}},5125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(9370),a=null,i=void 0;const o={lastRoute:"",lastOpenType:"",scene:-1,sceneNote:"",query:{},runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",routeType:"",openingInnerPage:!1,get currentWebviewId(){return i},set currentWebviewId(e){i=e,a&&(a(null),a=null)},currentWebviewIdPromise:new Promise((e=>{a=e})),getWebviewIds:()=>n.hr.getGlobalWebviewIds()}},1163:(e,t,r)=>{"use strict";r.d(t,{Gz:()=>c,dq:()=>u});var n=r(9661),a=r(190),i=(r(6347),new n.Z);(0,a.jQ)("onPageReload",((e={},t=0)=>{e.webviewId=t,i.emit("onPageReload",e)}));var o={},s=0,u=function(e,t,r){var n=r;n||(n=s++),((e,t)=>(o[e]=o[e]||{},!!o[e][t]||(o[e][t]=!0,!1)))(e,n)||i.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},c=function(e){i.emit(`onBeforeCopyUrl_${e}`,e)}},9105:(e,t,r)=>{"use strict";r.d(t,{Bf:()=>y,Em:()=>u.Em,Hw:()=>d,M8:()=>I,Nf:()=>w,RP:()=>g,iZ:()=>i.i,l0:()=>i.l,p9:()=>m,pD:()=>_,s$:()=>v,sd:()=>p});var n=r(6342),a=r(9370),i=r(1591),o=r(6347),s=r(7445),u=r(6142),c=/^[-+a-zA-Z0-9]+:\/\//,l=/(^|\/)__[-+a-zA-Z0-9]+__\//;function d(e,t){return b.wrapSystemFunction("appServiceSDKScriptError",t,e)}function p(e,t,r=!0){if(h.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=(0,o.Pp)(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return p(e,t.substr(2),!1);var n,a,i=t.split("/");for(n=0,a=i.length;n<a&&".."===i[n];n++);i.splice(0,n);var s=e.length>0?e.split("/"):[];s.splice(s.length-n-1,n+1);var u=s.concat(i).join("/");return h.info(`[getRealRoute] finalRoute=${u}`),u}function f(e){var t=e.match(c);if(!t)return e;var r=t[0];if("plugin://"===r){var o=r.length,s=e.indexOf("/",o);if(s>=0){var u=e.slice(o,s),l=n.default.plugins&&n.default.plugins[u]?n.default.plugins[u].provider:u;e=e.slice(0,o)+l+e.slice(s)}var d=e.indexOf("?");d<0&&(d=e.length);var p=e.slice(0,d),f=a.Ve.Component._list[p];if(!f)throw new i.l(`Page "${p}" is not found`);e=f.is+e.slice(d)}else if("plugin-private://"===r){var h=e.indexOf("?");h<0&&(h=e.length);var g=e.slice(0,h);e="/"+a.hr.convertComponentAliasToRoute(g)+e.slice(h)}else if("wx://"===r)e="/__wx__/"+e.slice(5);else{if("wxpage://"!==r)throw new i.l(`Unknown URL protocol "${r}"`);e="/"+e}return e}function g(e,t=""){return t=t.replace(/^\//,""),(0,s.aI)()?`__plugin__/${e}/${t}`:f(`plugin-private://${e}/${t}`)}function v(e,t,r=!0){for(;c.test(t);)t=f(t);var n=p(e,t,r);return h.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function m(e){var t=e.match(c),r=e.match(l),a="";if(t){var i=t[0];if("plugin://"===i){var o=i.length,s=e.indexOf("/",o);if(s>=0){var u=e.slice(o,s);a=n.default.plugins&&n.default.plugins[u]?n.default.plugins[u].provider:u}}else if("plugin-private://"===i){var d=i.length,p=e.indexOf("/",d);if(p>=0)a=e.slice(d,p)}else"wx://"===i&&(a="//")}if(r){var f=r[0];if(f.endsWith("__plugin__/")){var h=e.indexOf(f)+f.length,g=e.indexOf("/",h);if(g>=0)a=e.slice(h,g)}else f.endsWith("__wx__/")&&(a="//")}return a}function y(e,t){var r=m(t);return!r||m(a.P3.convertRouteToComponentAlias(e))===r}function _(e){var t=e.match(c);return t?t[0]:null}function w(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},6651:(e,t,r)=>{"use strict";r.d(t,{J:()=>E,o:()=>T});var n=r(1399),a=r(7445),i=r(5179),s=r(714),u=r(6142),c="weapp://wechat-game-runtime";var l=r(9105),d=r(3749),p=r(88),f=r(2900),h={},g=e=>{var t;return"string"!=typeof e?t=new Error("WebAssembly.instantiate: first argument must be a string"):/^(wxfile|https?):/.test(e)?t=new Error("WebAssembly.instantiate: not support wxfile: or http: path"):/\.wasm(\.br)?$/.test(e)||(t=new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br")),t},v=e=>(0,p.J)("allowBufferWASM")&&(0,f.uC)(e,"allowBufferWASM"),m=(e,t,r,n)=>new Promise(((i,o)=>{e({compressionAlgorithm:"br",filePath:t,success(e){h.instantiate(e.data,r).then((e=>{n(!0,e),i(e)}),(e=>{n(!1,e),o(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));n(!1,t,!a.jP),o(t)}})})),y=(e,t,r)=>{var n=e(t);return new h.Instance(n,r)},b=e=>(t,r,n)=>{if(h.Module&&t instanceof h.Module)return e?new h.Instance(t,r):h.instantiate(t,r);var o,c,l,p=(0,d.eJ)("instantiate",{file:t,imports:r},!1,!1);if(v(n)||/^(wxfile:\/\/__wxprivate__)/.test(t)||(o=g(t)),o){if(p(!1,o,!0),e)throw o;return Promise.reject(o)}if(a.jP||(a.cj||a.wZ)&&"string"==typeof t&&t.startsWith("wxfile://")){var f,b;if(e)return/\.br$/.test(t)?(f=s.T,b={filePath:t,compressionAlgorithm:"br"}):(f=i.N,b=t),y(f,b,r);var _=/\.br$/.test(t)?s.$:i.p;return m(_,t,r,p)}if(a.cj||a.wZ){if(e)return new h.Instance(t,r);var w=h.instantiate(t,r);return"Promise"===(0,u.Em)(w)?(p(!0,w),w):(p(!0,w,!0),Promise.resolve(w))}if(e)return/\.br$/.test(t)?(c=s.T,l={filePath:t,compressionAlgorithm:"br"}):(c=i.N,l=t),y(c,l,r);var I=/\.br$/.test(t)?s.$:i.p;return m(I,t,r,p)},_=b(!1),w=b(!0);function I(e){var t=g(e);if(t)return Promise.reject(t);if(a.jP)return new Promise(((t,r)=>{!function(e={}){var{filePath:t,encoding:r,success:n,fail:a,complete:i}=e;fetch(`${c}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof n&&n({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof i&&i({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof a&&a(e),"function"==typeof i&&i(e)}))}({filePath:e,success(e){t(h.compile(e.data))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var r=/\.br$/.test(e)?s.$:i.p;return new Promise(((t,n)=>{r({compressionAlgorithm:"br",filePath:e,success(e){t(h.compile(e.data))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}class S{constructor(){}}var k=(e,t)=>{var r;return"string"==typeof e&&(e.startsWith("wxfile://")?v(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=new Error("WebAssembly.instantiate: not support wxfile: or http: path")):-1!==e.indexOf(`__plugin__/${t}/`)||(e=(0,l.RP)(t,e))),{error:r,finalFile:e}},C=null,T=({provider:e}={})=>e?(e=>{P();var t={Table:h.Table,Memory:h.Memory,Global:h.Global,Instance:function(t,r={}){var{error:n,finalFile:a}=k(t,e);if(n)throw n;return w(a,r,e)},instantiate(t,r={}){var{error:n,finalFile:a}=k(t,e);return n?Promise.reject(n):_(a,r,e)}};return h.compile&&(t.compile=e=>I(e)),h.Module&&(t.Module=S),t})(e):(C||(C=(()=>{P();var e={Table:h.Table,Memory:h.Memory,Global:h.Global};(0,d.QE)(e,!1);var t={...e,Instance:function(e,t={}){return w(e,t,void 0)},instantiate:(e,t={})=>_(e,t,void 0)};return h.compile&&(t.compile=e=>I(e)),h.Module&&(t.Module=S),t})()),C),A=!1;function P(){if(!A)throw new Error("WebAssembly not ready")}var E=new Proxy({},{get:(e,t,r)=>(P(),Reflect.get(e,t,r))});o.onLoad((()=>{A=!0;var e=globalThis;void 0!==n.Z.WebAssembly?h=n.Z.WebAssembly:void 0!==e.WebAssembly&&(h=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}h.Module&&(S.customSections=h.Module.customSections,S.exports=h.Module.exports,S.imports=h.Module.imports);var t={Table:h.Table,Memory:h.Memory,Global:h.Global,Instance:h.Instance,compile:h.compile,compileStreaming:h.compileStreaming,instantiateStreaming:h.instantiateStreaming,validate:h.validate,CompileError:h.CompileError,LinkError:h.LinkError,Module:h.Module,RuntimeError:h.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(h.instantiate(e,t,r))};Object.assign(E,t)}))},5692:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(6342),a=function(){return{miniProgram:{appId:n.default.accountInfo&&n.default.accountInfo.appId||"",envVersion:n.default.envVersion||"release",version:n.default.appContactInfo&&n.default.appContactInfo.user_version||""}}}},9899:(e,t,r)=>{"use strict";r.d(t,{AS:()=>c,y$:()=>l});var n=r(5436),a=r(190),i=r(4899),o=(r(1591),r(9105),r(3385),r(971),new WeakMap),s=new WeakMap;class u{constructor(e={}){s.set(this,new n.Q("AI",!0)),(0,a.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{o.set(this,e),s.get(this).emit("Load")},fail:e=>{setTimeout((()=>{s.get(this).emit("Error",e)}))}}))}onLoad(e){s.get(this).on("Load",e)}offLoad(e){s.get(this).off("Load",e)}onError(e){s.get(this).on("Error",e)}offError(e){s.get(this).off("Error",e)}run(e={}){var t=(0,i.t)(),r={input:{},sessionId:o.get(this)};for(var n in e){var s,u;null!==(s=e[n])&&void 0!==s&&s.data&&null!==(u=e[n])&&void 0!==u&&u.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{(0,a.IN)("runInferenceSession",Object.assign(r,{success({output:r}){for(var n in r){var a;if("number"==typeof(null===(a=r[n])||void 0===a?void 0:a.data)){var i=r[n].data;r[n].data=t.getTraceBuffer(i),t.untrace(i)}}e(r)},fail:n}))}))}destroy(){(0,a.IN)("releaseInferenceSession",{sessionId:o.get(this)}),s.delete(this),o.delete(this)}}function c(e={}){return new u(e)}var l=e=>{(0,a.IN)("getInferenceEnvInfo",e)}},4774:(e,t,r)=>{"use strict";var n=r(9661);r(1333),new n.Z},4571:(e,t,r)=>{"use strict";r.d(t,{kd:()=>s});var n=r(9766),a=r(190),i="default",o=(0,n.s)("apiCategoryChange");o.onMethod,o.offMethod;function s(){return i}(0,a.jQ)("sheetModeWindowStateChangedEvent",((e={})=>{"fullPage"===e.state&&"default"!==i&&(i="default",o.emit({apiCategory:i}))})),(0,a.Ld)("getApiCategory",(({callbackId:e},t)=>{(0,a.nY)("apiCategoryGot",{res:s(),callbackId:e},[t])}))},9196:(e,t,r)=>{"use strict";r.d(t,{r:()=>u});var n=r(7630),a=r(3385),i=r(190),o=r(7849),s={};function u(){var e=(0,a.hI)(this)||"";return(0,n.rT)(s,e)}(0,i.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,i.nY)("appEnterInfoGot",{res:(0,o._)(),callbackId:e},[t])}))},7849:(e,t,r)=>{"use strict";r.d(t,{_:()=>a});var n={};function a(){return n}},4509:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(190),a=r(8246),i=(0,r(9766).s)("AppEnterBackground"),o=i.internalOnMethod;(0,a.n)("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:%2Fpackages%2Fphone-numbers%2Fpages%2FgetUserPhoneNumberForWXLib%2FgetUserPhoneNumberForWXLib")||(i.emit(e),(0,n.nY)("onAppEnterBackground",e))}))},3473:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});r(190),r(4774),r(7630),r(9196);var n=r(9766),a=(r(8246),r(5125)),i=r(6342);i.default.onReady((()=>{a.Z.scene=i.default.appLaunchInfo.scene,a.Z.sceneNote=i.default.appLaunchInfo.scene_note}));var o=(0,n.s)("AppEnterForeground"),s=o.internalOnMethod},9636:(e,t,r)=>{"use strict";r.d(t,{_w:()=>l,bm:()=>c,NT:()=>f});var n=r(190),a=r(9766),i=r(6227),o=(0,r(143).v)("sclEngine"),s=!1,u=(0,a.s)("tapAnyWhere");(0,n.Ld)("tapAnyWhere",u.emitInternal);var c=u.internalOnMethod,l=u.internalOffMethod,d=!1;c((()=>{s||(s=!0,(0,i.gQ)("sclengine")===i.Q_.injected?o.publish("initReady"):o.advancePublish("initReady")),d||(d=!0,p.forEach((e=>e())),p=[])}));var p=[],f=e=>{d?e():p.push(e)}},7630:(e,t,r)=>{"use strict";r.d(t,{rT:()=>i});r(4774),r(6347),r(5125),r(190),r(88),r(9370);var n=r(7445),a=(r(3329),r(9105));r(4571);function i(e,t=""){if((0,a.p9)(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),(0,n.HI)()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}},8945:(e,t,r)=>{"use strict";r.d(t,{EL:()=>c,c5:()=>s,j_:()=>u});var n=r(1399),a=r(8602),i=r(7445),o=r(190),s=e=>{if(i.jP){var t,r="";if((0,o.IN)("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var s=n.Z.createBufferURL(e)||(()=>"");return a.Z.add(s,e),s},u=(e={})=>{(0,o.IN)("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},c=e=>{if(!i.jP)return a.Z.off(e),n.Z.revokeBufferURL(e)||(()=>!1);var t;if((0,o.IN)("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)}},8561:(e,t,r)=>{"use strict";r.d(t,{K:()=>c,V:()=>s});var n,a,i=r(190),o=(n="getCloudFileUrl",a="qbase_commapi",(0,i.TG)(n,a,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e})));var s=function(e,t,r){c({fileIds:e,type:t,success:r})},u=new Map,c=function(e){var{fileIds:t,type:r,success:n}=e,a=new Map,i=[],s=!1;if(t.forEach((e=>{var t=u.get(e);if(t){if(Date.now()<t.expireTime)return void(a.has(e)||(a.set(e,t.data),s||(s=!0)));u.delete(e)}/^(cloud):\/\//.test(e)&&i.push(e)})),0!==i.length){var c=0,d=function(e,t){for(var r=[],n=Math.ceil(e.length/t),a=0;a<n;a++)r.push(e.slice(a*t,(a+1)*t));return r}(t,50);Promise.all(d.map((e=>new Promise((t=>{o({data:{fileid_list:e,type:r},requestInQueue:!1,success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{a.set(e.fileid,e),!u.has(e.fileid)&&e.max_age&&u.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{a.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),u.has(e)&&u.delete(e)})):e.forEach((e=>{a.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),u.has(e)&&u.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var i=n.baseresponse.stat.qbase_cost_time;i>c&&(c=i)}t()},fail(){t()},complete(e){}})}))))).then((()=>{l(t,a,c,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else s?l(t,a,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function l(e,t,r,n){var a=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?a.push({url:r.download_url}):a.push({url:e,code:r.service_errcode,msg:r.errmsg}):a.push({url:e,code:-1,msg:"NO_RESULT"})}else a.push({url:e})})),"function"==typeof n&&n({data:a,cost:r})}},8267:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var n=r(6342).default.SDKVersion},8113:(e,t,r)=>{"use strict";r.d(t,{KL:()=>g,Zv:()=>v,jl:()=>f,zv:()=>m});r(3473),r(5933);var n=r(1821),a=r(6342),i=r(7351),o=r(4599),s=(r(88),r(2805)),u=[],c=[],l=["expires","domain","path","busid","indate","receivetime","spread","extra"],d={scene:-1,sceneNote:"",sessionId:""};function p(){var e=Date.now(),t=[];u.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var a=[];for(var i in r)l.indexOf(i)>=0&&a.push(`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`);a.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(a.join("; "))}}));var r,i,o,s=t.join(";; ");s.length>=4096||(r=s,i=()=>{},o=a.default.accountInfo&&a.default.accountInfo.appId||"noAppId",r&&r.trim()&&(0,n.L)("setCookiesToGlobalStorage",{cookies:r,appId:o},void 0,i))}function f(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,o=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);l.indexOf(t)>=0&&!(0,s.nr)(i,n)?i[n]=decodeURIComponent(r):(o=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){o||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var u=i.expires||i.__wxprivate_calc_expires__;u&&!(1e3*u>n)||function(e,t){for(var r=0,n=t.length;r<n;r++){var a=t[r];if(e.busid===a.busid&&e.key===a.key)return!0}return!1}(i,r)||r.push(i),a.default.accountInfo&&a.default.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=a.default.accountInfo.appId)}}))}}(0,i.dN)(((e={})=>{d.scene=e.scene,d.sceneNote=e.scene_note,d.sessionId=e.sessionid})),(0,o.vv)(((e={})=>{if(3===e.targetAction)for(var t=u.length-1;t>=0;t--){var r=u[t].extra;r&&"del_on_exit"===r&&u.splice(t,1)}}));function h(e){var t=[];for(var r in e)l.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var g=e=>{var t=Date.now(),r=[];u.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(h(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},v=e=>{var t=Date.now(),r=[];u.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=a.default&&a.default.accountInfo&&a.default.accountInfo.appId||"",i=d.scene||"",o=d.sceneNote||"",s=d.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:s,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:o,busid:"wxapp"});var{hostAppId:c,pluginAppId:l}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==c&&void 0!==l){var p=r.find((e=>"appid"===e.key));p&&(p.value=c),r.push({key:"plugin_appid",value:l,busid:"wxapp"})}var f=a.default.host||{};"SDK"===f.env&&r.push({key:"sdk_host_appid",value:f.appId,busid:"wxapp"});var g=r.map(h).join(";; ");return e&&e.success&&e.success({cookies:g}),g},m=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?c:u,o=[],s={},d={},f=a.default.accountInfo&&a.default.accountInfo.appId||"";r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)s[e.key]={key:e.key,busid:e.busid};else{var a={key:e.key,value:e.value};l.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&f&&(a.spread="*"===r?"":r+":",a.spread+=f),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(a[t]=r)})),d[e.key]=a,o.push(a)}}})),i.forEach((e=>{var r=s[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=d[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var a=e.expires||e.__wxprivate_calc_expires__;a&&1e3*a<t||o.push(e)}}}));var g=function(e){var t=[];return e.forEach((e=>{t.push(h(e))})),t.join(";; ")}(o);if(g.length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?c=o:(u=o,p())}}},2494:(e,t,r)=>{"use strict";r.d(t,{$:()=>z,_:()=>H});var n=r(9105),a=r(4509),i=r(8285),o=r(6342),s=r(869),u=r(6893),c=r(7172),l=r(9976),d=r(6614),p=r(4316),f=r(5340),g=r(6659),v=r(5179),m=r(7445),y={debug(){},log(){},info(){},warn(){},error(){}},b=!1;b||o.default.onReady((()=>{}));var w,I,S,k="undefined"!=typeof __initHelper&&1===__initHelper,C=function(){try{return d.c.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return y.error("accessSync fail",e,arguments),{errMsg:e.message||""}}},T=function(){try{return p.g.apply(this,arguments)}catch(e){return y.error("renameSync fail",e,arguments),{errMsg:e.message||""}}},A=function(){try{return{stat:f.dJ.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return y.error("statSync fail",e,arguments),{errMsg:e.message||""}}},P=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},E=!1,x=102400,M=2e3,D=1,R=[],L={lastLogNum:1,lastLogSize:0},O=!1,N=!1,j=!1,B={},F=e=>I+"log"+e,U=(0,n.Hw)((e=>C(e).errMsg.indexOf("accessSync:ok")>=0)),W=(0,n.Hw)((e=>{var t=C(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)})),G=(0,n.Hw)((e=>{if(y.info(`initLog[1][isRemoteDebugMode=${k}, wxConfigReady=${E}, isLogInit=${O}]`),k||!E||O)e&&e();else{if(y.info("initLog[2]"),w=o.default&&"devtools"===o.default.platform,I=(o.default&&o.default.env.USER_DATA_PATH||(w?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!U(I))return y.info(`initLog[3][mkdirSync][usrLogDir=${I}]`),function(){try{return l.h.apply(this,arguments)}catch(e){return y.error("mkdirSync fail",e,arguments),{errMsg:e.message||""}}}(I),O=!0,j=W(I),e&&e(),j?void y.error("hasNoPermission[1]"):void 0;if(j=W(I))return O=!0,void y.error("hasNoPermission[2]");for(var t=1;t<=5&&U(F(t));)B[t]=!0,L.lastLogNum=t,t++;y.info(`[before statSync] path=${F(L.lastLogNum)}`);var r=A(F(L.lastLogNum));r.stat&&(L.lastLogSize=r.stat.size),y.info("[before isLogInit changeinto true"),O=!0,e&&e()}})),V=(0,n.Hw)((()=>{G((()=>{if(y.warn(`[after initLog] isLogInit=${O}; isRemoteDebugMode=${k}; hasNoPermission=${j}; CACHE_LOG.length=${R.length}; needDeleteOldLog=${N}`),O&&!k&&!j&&R.length&&!N){for(var e=[],t=0,r=0;r<R.length;r++){var n=P(R[r]);if(y.warn(`[logItemSize=${n}][currentSize=${t}][MAX_LOG_SIZE=102400]`),n>x)console.warn("[wx.log warn] each log size exceed 100KB will be discard."),y.warn(`submitLog[3],logItemSize=${n},MAX_LOG_SIZE=102400`);else{if(t+n>x)break;t+=n,e.push(R[r])}}if(y.warn(`[reportLogList.length=${e.length}]`),e.length){if(L.lastLogSize+t>1048576){if(L.lastLogNum+1>=6)return N=!0,y.warn("submitLog[4][deleteOldLog]","logConfig=",L,",MAX_FILE_COUNT=",4),void setTimeout((()=>{y.info(`deleteOldLog[1],unlinkSync,logPath(1)=${F(1)}`),function(){try{return g.y.apply(this,arguments),y.info("unlinkSync success",arguments),{errMsg:"unlinkSync:ok"}}catch(e){return y.error("unlinkSync fail",e,arguments),{errMsg:e.message||""}}}(F(1));for(var e=2;e<=5;e++)y.info(`deleteOldLog[2],renameSync,logPath(1)=${F(1)},logPath(i - 1)=${F(e-1)}`),T(F(e),F(e-1));L.lastLogNum=5,B[L.lastLogNum]=!1,L.lastLogSize=0,N=!1}),50);L.lastLogNum++,L.lastLogSize=0}r===R.length?R=[]:R.splice(0,r),B[L.lastLogNum]||U(F(L.lastLogNum))?(y.info("submitLog[7],before appendFile, filePath=",F(L.lastLogNum)),(0,u.a)({filePath:F(L.lastLogNum),data:(L.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){y.error("submitLog[7.1], appendFile fail",e)},success(e){y.info("submitLog[7.2], appendFile success",e)}})):(y.info("submitLog[5], before writeFile, filePath=",F(L.lastLogNum)),(0,c.N)({filePath:F(L.lastLogNum),data:(L.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",success(e){y.info("submitLog[5.1], writeFile success",e)},fail(e){console.log("log writeFile err "+e.errMsg),y.error("submitLog[6],writeFile fail",e)}})),L.lastLogSize+=t}}}))}));function $(){S&&clearTimeout(S),S=setTimeout((()=>{V(),S=null,$()}),M)}var q={logApiInvoke:!0};function z(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){q.modules&&q.modules.includes(e)&&q[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{q[e]=function(){if(!k&&!j&&E&&arguments.length&&L){for(var t,r=[],n=0;n<arguments.length;n++)"number"==typeof arguments[n]||"string"==typeof arguments[n]?r.push(arguments[n]):r.push(JSON.stringify(arguments[n]));r.splice(0,0,`${(t=new Date).getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`,`[${e}]`),R.push(r.join(" "))}}}));var K=!1;function H(e={}){return K||((0,n.Hw)($)(),K=!0),"number"==typeof e.level&&(q.level=e.level),Array.isArray(e.modules)&&(q.modules=e.modules),q.level===D?q.logApiInvoke=!1:0===q.level&&(q.logApiInvoke=!0),q}q._getUserLog=function(){for(var e={},t=1;t<=5;t++)e["log"+t]=A(F(t));return e},q.privateSystemLog=(...e)=>{E&&(0,m.tK)()&&void 0!==_&&e&&e.length&&h.info(e)},o.default.onReady((()=>{k||(E=!0)})),(0,a.J)((()=>{k||V()}));var J=(0,n.Hw)(i.Bx),Y=(0,n.Hw)(i.JB);function Q(e={}){if(y.info(`uploadUserLog[1],logConfig.lastLogNum=${L.lastLogNum}`,",args=",e),!e.index||e.index>L.lastLogNum)return y.info("uploadUserLog[2]"),void(e.complete&&e.complete());var t="ios"===o.default.platform?1:5,r=e.readFileResp||function(){try{return{data:v.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return y.error("readFileSync fail",e,arguments),{errMsg:e.message||""}}}(F(e.index),"utf8");if(y.info(`uploadUserLog[3],readFileSync=${r.errMsg},index=${e.index},EACH_SLICE=${t}`),r.errMsg.indexOf("readFileSync:ok")>=0&&r.data){var n=r.data.length,a=Math.max(parseInt(n/t,10),1),i=(e.slice-1)*a;y.info("uploadUserLog[4]","start=",i,"eachLen=",a,"len=",n,r.data.length);var u=r.data.substr(i,a);if(y.info("uploadUserLog[5],content.length=",u&&u.length,",logConfig=",L),!u)return y.info("uploadUserLog[6],uploadUserLogSliceComplete"),J({webviewId:e.webviewId,data:{total:L.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:(0,s.getStaticSystemInfoSync)()}}),e.index++,e.slice=1,e.readFileResp=null,void Q(e);y.info("uploadUserLog[7], uploadUserLogContent,content.length=",u&&u.length,",logConfig=",L),J({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:u,index:e.index,slice:e.slice||1,total:L.lastLogNum,info:1===e.index&&1===e.slice?(0,s.getStaticSystemInfoSync)():null},success(){y.info(`uploadUserLog[8] uploadUserLogContent suc, EACH_SLICE=${t}, args.slice=${e.slice}, logConfig.lastLogNum=${L.lastLogNum}`),e.slice===t?(J({webviewId:e.webviewId,data:{total:L.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:(0,s.getStaticSystemInfoSync)()}}),e.index++,e.slice=1,e.readFileResp=null,Q(e)):(e.slice++,e.readFileResp=r,y.info("uploadUserLog[9],args=",e),Q(e))},fail(t){y.error(`uploadUserLog[10] fail,failResp.errMsg=${t.errMsg},args.retry=${e.retry}`),e.retry?J({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:(0,s.getStaticSystemInfoSync)()}}):(e.retry=!0,Q(e))}})}else y.error(`uploadUserLog[11],readFileSync fail=${r.errMsg},index=${e.index}`),J({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:(0,s.getStaticSystemInfoSync)()}})}k||Y((e=>{y.info("onH5Data",e,L),e.data&&"uploadUserLog"===e.data.type&&Q({index:1,slice:1,webviewId:e.webviewId})}))},6385:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkHasSystemProxy:()=>w,_getCurrentNetworkType:()=>b,_getCurrentSignalStrength:()=>I,_getNetworkType:()=>f,_onNetworkTypeReady:()=>_,getNetworkType:()=>h,offNetworkStatusChange:()=>v,offNetworkWeakChange:()=>y,onNetworkStatusChange:()=>g,onNetworkWeakChange:()=>m});var n=r(190),a=(r(9695),r(9766)),i=r(6342),o=r(5125),s="",u="",c=!1,l=(0,a.s)("networkstatusChange"),d=(0,a.s)("networkWeakChange"),p=(0,a.s)("networkTypeReady"),f=e=>{(0,n.IN)("getNetworkType",e)},h=f,g=l.onMethod,v=l.offMethod,m=d.onMethod,y=d.offMethod,b=()=>s,_=p.onMethod,w=()=>c,I=()=>u;"undefined"!=typeof IS_SDK_PACKAGE||((0,n.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,u=e.signalStrength,o.Z.currentNetworkType=s,l.emit(e),(0,n.nY)("onNetworkStatusChange",e)})),(0,n.jQ)("onNetworkWeakChange",((e={})=>{d.emit(e)}))),i.default.onReady((()=>{i.default.networkType&&(s=i.default.networkType),h({success(e){s=e.networkType,u=e.signalStrength,o.Z.currentNetworkType=s,c=e.hasSystemProxy,p.emit(s)}})}))},869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_getSystemInfoSyncFromCache:()=>E.mw,getAppAuthorizeSetting:()=>y,getAppBaseInfo:()=>T,getDeviceInfo:()=>I,getInitScreenSize:()=>E.Ew,getRendererUserAgent:()=>P,getStableSystemInfo:()=>E.Oo,getStaticSystemInfoSync:()=>l.m,getSystemInfo:()=>n.S,getSystemInfoAsync:()=>p,getSystemInfoAsyncNoCache:()=>d,getSystemInfoNoCache:()=>n.J,getSystemInfoSync:()=>a.x,getSystemInfoSyncNoCache:()=>a.i,getSystemSetting:()=>m,getWindowInfo:()=>S,openAppAuthorizeSetting:()=>h.n,openSystemBluetoothSetting:()=>f});var n=r(6166),a=r(9852),i=r(6342),o=r(190),s=r(9695),u=r(3462),c=r(5765),l=r(4761),d=e=>{i.default.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),(0,u.h)());var t=i.default.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";(0,o.IN)(t,e,{beforeSuccess:e=>{(0,c.I)(e),(0,l.F)(e)}})},p=(0,s.Q)("getSystemInfoAsync",d),f=e=>{(0,o.IN)("openSystemSetting",{...e,type:"systemBluetooth"})},h=r(885),g=Object.defineProperty,v=(e,t)=>{g(e,t,{get:()=>{var e;return(0,o.IN)("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},m=()=>{var e={};return v(e,"bluetoothEnabled"),v(e,"deviceOrientation"),v(e,"locationEnabled"),v(e,"wifiEnabled"),e},y=()=>{var e={};return v(e,"albumAuthorized"),v(e,"bluetoothAuthorized"),v(e,"cameraAuthorized"),v(e,"locationAuthorized"),v(e,"locationReducedAccuracy"),v(e,"microphoneAuthorized"),v(e,"notificationAlertAuthorized"),v(e,"notificationAuthorized"),v(e,"notificationBadgeAuthorized"),v(e,"notificationSoundAuthorized"),v(e,"phoneCalendarAuthorized"),e},b=r(1843),_=r(7445),w={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},I=(0,b.r)((()=>{var e;(0,o.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,r,n,a=_.iw;return _.cj&&(e.brand="iPhone",e.model=(t=e.model,(n=null!==(r=t.match(/unknown<(.*?)>/))&&void 0!==r?r:[])&&w[n[1]]||t)),_.gm&&"devtools"!==e.brand&&(a="iPhone"===e.brand?"ios":"android"),e.platform=a,e})),S=(0,b.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e})),k=r(9806),C=r(8267),T=(0,b.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=C.c,e.enableDebug=Boolean(i.default.debug),i.default.theme&&(e.theme=i.default.theme),i.default.host&&(e.host=i.default.host),i.default.appLaunchInfo&&i.default.appLaunchInfo.mode&&(e.mode=i.default.appLaunchInfo.mode),_.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,k.Av)()&&!(0,_.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),_.jP&&(e.renderer="h5"),e})),A=r(8540),P=(e={})=>new Promise((t=>(0,A.Y)((r=>{(0,o.F0)({userAgent:r},"getRendererUserAgent",e,{}),t(r)})))),E=r(2219)},2219:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>p,Oo:()=>d,mw:()=>f});var n=r(6342),a=r(4761),i=r(9852),o=null,s=0,u=0,c=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];n.default.onReady((()=>{o={};for(var e=0;e<c.length;e++){if(!(c[e]in n.default)){o=(0,a.m)();break}o[c[e]]=n.default[c[e]]}if(n.default.screenHeight&&n.default.screenWidth)s=n.default.screenWidth,u=n.default.screenHeight;else{var t=(0,a.m)();s=t.screenWidth,u=t.screenHeight}}));var l,d=()=>n.default.isReady?Object.assign({},o):((new Error).stack,{}),p=()=>n.default.isReady?{screenWidth:s,screenHeight:u,deviceOrientation:s>u?"landscape":"portrait"}:((new Error).stack,{}),f=(...e)=>{if(l)return l;if(!0===e[0]){if(o)return o;l=(0,i.x)()}else l=(0,i.x)();return l}},4761:(e,t,r)=>{"use strict";r.d(t,{F:()=>o,m:()=>i});var n,a=r(9852),i=()=>n||(n=Object.assign({},(0,a.x)())),o=e=>{delete(n=Object.assign({},e)).errMsg}},6166:(e,t,r)=>{"use strict";r.d(t,{J:()=>p,S:()=>f});var n,a,i,o=r(190),s=JSON.parse,u=JSON.stringify,c=r(5765),l=r(3462),d=r(4761),p=e=>{(0,l.h)();(0,o.IN)("getSystemInfo",e,{beforeSuccess:e=>{(0,c.I)(e),(0,d.F)(e)}})},f=(n="getSystemInfo",a=p,(e={})=>{var{success:t,fail:r}=(0,o.Rn)(e,n);if(i){var c={};try{c=s(i)}catch(e){h.error("constructCachedOptimizedSyncApi parse error",e.message)}t(c)}else a(Object.assign({},e,{success(e){try{i=u(e)}catch(e){h.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{i=void 0})),t(e)},fail(e){i=void 0,r(e)},complete:void 0}))})},9852:(e,t,r)=>{"use strict";r.d(t,{i:()=>i,x:()=>a});var n=r(6166),a=()=>{var e={};return(0,n.S)({success(t){delete t.errMsg,e=t}}),e},i=()=>{var e={};return(0,n.J)({success(t){delete t.errMsg,e=t}}),e}},885:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n=r(190),a=e=>{(0,n.IN)("openSystemSetting",{...e,type:"appAuthorize"})}},8540:(e,t,r)=>{"use strict";var n;r.d(t,{Y:()=>s});var a,i=!!c.clientManager,o=new Set;null===(n=c.clientManager)||void 0===n||n.once("clientConnected",((e,{ua:t}={})=>{a=t,o.forEach((e=>{try{e(t)}catch(e){}})),o.clear()}));var s=e=>{i?a?e(a):o.add(e):e("")}},5765:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var n=r(9806),a=r(7445),i=r(8267),o=r(6342),s=e=>{var t=a.iw;a.cj&&(e.brand="iPhone"),a.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=i.c,e.enableDebug=Boolean(o.default.debug),o.default.devicePixelRatio&&(e.devicePixelRatio=o.default.devicePixelRatio),o.default.theme&&(e.theme=o.default.theme),o.default.host&&(e.host=o.default.host),o.default.appLaunchInfo&&o.default.appLaunchInfo.mode&&(e.mode=o.default.appLaunchInfo.mode),a.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,n.Av)()&&!(0,a.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),a.jP&&(e.renderer="h5")}},3462:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});var n=r(6342),a=()=>{n.default.isReady||(new Error).stack}},9370:(e,t,r)=>{"use strict";r.d(t,{P3:()=>n,Ve:()=>i,fe:()=>u,hr:()=>a,uj:()=>o});var n,a,i,o,s=new(r(9661).Z),u=s.on.bind(s,"__virtualDOM__");s.on.bind(s,"__subContextEngineSub__"),s.on.bind(s,"__wxModule__"),s.on.bind(s,"__cloudSDK__")},7551:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n,a=r(190),i=r(6342),o=(0,a.TG)("getIAPInfo","webapi_getiapinfo");function s(){return new Promise(((e,t)=>{if(n)e(n);else{var r=i.default.appLaunchInfo.openId;r?(n={openId:r,appId:i.default.accountInfo.appId},e(n)):o({success(t){n={openId:t.openID,appId:t.appId},e(n)},fail(e){t(e.errMsg)}})}}))}},1821:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(190),a=r(5125),i=0,o=[],s=(e,t={},r,s)=>{var u=i++;o[u]=s,(0,n.nY)("invokeWebviewMethod",{name:e,args:t,callbackId:u},void 0===r?[a.Z.currentWebviewId]:r)};(0,n.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=o[t];delete o[t],r&&r(e)}))},6589:(e,t,r)=>{"use strict";r.d(t,{hA:()=>i,p$:()=>a,u:()=>n});var n=(0,r(9766).s)("AudioInterruptionBegin"),a=n.onMethod,i=n.offMethod},1441:(e,t,r)=>{"use strict";r.d(t,{FY:()=>n,aS:()=>a,xJ:()=>i});var n=(0,r(9766).s)("AudioInterruptionEnd"),a=n.onMethod,i=n.offMethod;n.internalOnMethod,n.internalOffMethod},5841:(e,t,r)=>{"use strict";r.d(t,{o:()=>x,S:()=>M});var n=r(190),a=r(1399),i=r(7445),o=r(6342),s=r(4500),u=r(88),c=r(7009);(0,c.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxDownloadConcurrent&&(0,c.b)("Download",{maxTaskCount:o.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class l extends c.o{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}}const d=l;var p=r(9661),f=r(9806),g=r(9619),v=new WeakMap,m=new WeakMap,y=new WeakMap,b=[],_=0,w=10;function I(e=!1){for(e&&(v.delete(e),m.delete(e),y.delete(e),_--);b.length>0&&_<w;){var t=b.shift(),r=v.get(t),n=m.get(t);r&&n&&(r.start(n),_++)}}o.default.onReady((()=>{o.default.wxAppInfo&&o.default.wxAppInfo.maxDownloadConcurrent&&(w=o.default.wxAppInfo.maxDownloadConcurrent)}));class S{constructor(e){var t=a.Z.Download,r=e.workerId?new t(e.workerId):new t;delete e.workerId;var i=new p.Z;v.set(this,r),y.set(this,i),m.set(this,(0,f.v7)(e,["url","header","filePath","enableProfile","timeout"])),r.onfail=t=>{(0,n.YG)("downloadFile",e,t),I(!0)},r.onsuccess=t=>{(0,n.FE)({name:"downloadFile",args:e,res:t}),I(!0)},r.onheader=e=>i.emit("header",{header:e}),r.onprogress=(e,t,r)=>i.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:r}),(0,g.k)({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(b.push(this),I()):(0,n.YG)("downloadFile",e,"invalid url")})).catch((()=>{(0,n.YG)("downloadFile",e,"url validate error")}))}abort(){var e=v.get(this);e&&e.abort()}onHeadersReceived(e){var t=y.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=y.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=y.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=y.get(this);t&&t.off("progress",e)}}var k=r(5133),C=!1;function T(e){return C?new S(e):new d(e)}r.g.__isAppServiceRemoteDebugMode__||(0,a.a)((e=>{e.Download&&o.default.onReady((()=>{var e=!1,t=i.cj?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";(0,s.b)({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,(0,k.Tk)(/^downloadFile/,2))},fail(e){}});var r=(0,u.J)("bindingDownload");C=e||r,h.info(`${C?"binding":"jsapi"} download, abtest: ${e}, permission: ${r}`)}))}));var A=r(971),P=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new T(t)}catch(e){return void(0,n.YG)("downloadFile",t,e.message)}}}),E=P(),x=P({__skipDomainCheck__:!0}),M=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith((0,A.WZ)()))return E(e);(0,n.YG)("downloadFile",e,"permission denied")}},8791:(e,t,r)=>{"use strict";r.d(t,{ot:()=>a.o,ac:()=>n.ac,as:()=>o.as,OZ:()=>i.O,aS:()=>c,Co:()=>l,Sv:()=>a.S,WY:()=>n.WY,pR:()=>n.pR,Wb:()=>o.Wb,cT:()=>i.c});var n=r(27),a=r(5841),i=r(9883),o=r(6789),s=r(190),u=r(7445),c=(e={})=>{u.cj?(0,s.YG)("addNativeDownloadTask",e,"iOS not supported"):(0,s.IN)("addNativeDownloadTask",e,{})},l=(e={})=>{(0,s.r3)("calRqt",e,{rqt:""})&&(0,s.IN)("calRqt",e)}},3691:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>b,gA:()=>m});var n,a=r(3888),i=r.n(a),o=r(9636),s=r(869),u=r(2100),c=r(190),l=r(7445),d=!1,p=void 0,f=void 0,h=void 0,g="group_forcecelluarnetwork",v=e=>p=e,m=()=>{!p||n||(0,l.tK)()||(n=!0,y())},y=()=>{var e,{language:t}=(0,s._getSystemInfoSyncFromCache)();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!d&&(d=!0,1)&&(0,o.NT)((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{(0,u.a)({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&v(!1)}})}))}))}))},b=function(){var e=i()((function*(){var e;if(void 0!==p)return p;try{f||(f=(0,c.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[g]}})),e=yield f}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===g)))){var n=r[t];if(0===n.state){yield(h||(h=(0,c.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:g,state:1}]}})),h).then((e=>{v(!0)})).catch((e=>{}))}else 2===n.state?v(!1):1===n.state&&v(!0)}return p}));return function(){return e.apply(this,arguments)}}()},27:(e,t,r)=>{"use strict";r.d(t,{Rg:()=>se,UF:()=>ie,ac:()=>ae,jz:()=>oe,WY:()=>ne,pR:()=>ue});var n=r(190),a=r(6342),i=r(7009),o=r(6142),s=r(5125),u=r(1708),c=.002;function l({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:i,beginCGITimestamp:l,CGICallbackTimestamp:d,wxlibCallbackTimestamp:p,requestingCount:f,cost1:h,cost2:g,cost3:v,cost4:m,cost5:y,cost6:b,JSApiType:w}){Math.random()<c&&setTimeout((()=>{var c,I=s.Z.currentNetworkType,S=a.default.appType+1e3,k=a.default.appLaunchInfo&&void 0!==a.default.appLaunchInfo.scene?a.default.appLaunchInfo.scene:0,C=["","",e?1:0,t,r,I,"",S,k,(0,u.k)(),(0,u.n)(),"",0,0,h,g,v,m,y,b,0,0,f,t,n,i,l,d,0,0,p,w].map((c=1024,e=>(0,o.HD)(e)&&e.length>c?e.substr(0,c):e)).join(",");_.reportKeyValue({key:"WeAppOperateWXData",value:C})}),0)}var d=({url:e,result:t,cost:r,pointCacheType:n,errMsg:a,errno:i,host:o,fullCost:s})=>{var u=[e,t,r,n,a?encodeURIComponent(a):a,i,o,s].join(",");_.reportKeyValue({key:"WeFreeHttpDns",value:u})},p=r(2422),f=r(6385),g={},v={},m={},y=(e,t,r)=>{if(m[e])return m[e];var a,i=e&&e.indexOf(":");a=(a=-1!==i?e.slice(0,i):e).toLowerCase();var o=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:a}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:a,service_id:t}};return m[e]=(0,n.Qh)(o).then((t=>{delete m[e];var n,{wxa_state:a,ttl:i,hit_cache:o,ip_list:s=[],ip:u}=t.data;n=null!=s&&s.length?s[0]:u;var c=s.slice(1);if(0===a)return g[e]={ip:n,expireTime:1e3*i+Date.now(),candidateIps:c},r?{...g[e],hitCache:o}:g[e];throw new Error(a)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete m[e],t})),m[e]},b=e=>{var t=g[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null};(0,f.onNetworkStatusChange)((()=>{g={},v={},m={}}));var w=r(88),I=new RegExp("name_not_resolved","i"),S=(e,t,r)=>!(0,f._checkHasSystemProxy)()&&(!(!(0,w.J)("useFreeHttpDns")||!(e=>I.test(e.errMsg))(e))&&(oe(t,r),!0)),k=r(3691),C=0,T=/custom ip is invalid/;(0,i.b)("Request",{maxTaskCount:10,functionName:"request"}),a.default.onReady((()=>{try{"number"==typeof a.default.wxAppInfo.maxRequestConcurrent&&(0,i.b)("Request",{maxTaskCount:a.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));class A extends i.o{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,a=null==e?void 0:e.__wx_request_route_path__,i=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++C};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(i||e.exception){var u=i||e.exception;s.exception={reasons:u},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}var c,l;(0,k.gA)(),e.host&&e.ip&&(c=e.host,l=e.ip,v[c]=l),o.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(s),function(e){e.statusCode=parseInt(e.statusCode,10)}(s),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(s);try{(0,p.Qe)(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:a})}catch(e){h.error("checkAndReportError error:",e)}if("json"===e.dataType&&function(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}(s,e._jsonParse),e.__retryHttpDNS__){var f=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-f,d({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}return P(s,o,e),s},beforeFail(s){var u,c=!1;if(o.isSuccess=!1,P(s,o,e),s.errMsg&&T.test(s.errMsg)){var l=!0,f=Date.now()-e.startTimestamp,g="number"==typeof e.timeout?e.timeout:6e4;if(f>g&&(l=!1),l){var v,m=e.__retryHttpDNS__;if(null!==(v=e.candicateIps)&&void 0!==v&&v.length){var y=e.exception;y||(y=[]),y.push({errno:600001,errmsg:s.errMsg});var b=e.candicateIps[0],_=e.candicateIps.slice(1);return se(e.originArgs,{__innerRequestOptions__:{ip:b,candicateIps:_,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:g-f,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:y,__retryHttpDNS__:m},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var w=e.exception;return w||(w=[]),w.push({errno:600001,errmsg:s.errMsg}),se(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:g-f,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:w,__polyfill_ldns__:!0,__retryHttpDNS__:m}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.__retryHttpDNS__){var I;d({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(I=e.weHttpDNSCoast)&&void 0!==I?I:-1}),c=e.lastErrorResponse}else{var k,C=e.exception;if(S(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(k=e.retryCount)&&void 0!==k?k:0,exception:C}))return{__retry__:!0,__freehttpdns__:!0}}try{(0,p.Qe)(e,s,{uuid:t,invokeTime:r,networkType:n,routePath:a})}catch(e){h.error("checkAndReportError error:",e)}(i||e.exception)&&(u={reasons:i||e.exception},(null==e?void 0:e.retryCount)>0&&(u.retryCount=e.retryCount));return c?{__changeError__:{...c,exception:u}}:s}})}}function P(e,t,r){var n=Date.now();if(C--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var a=e.clientInfo;t.wxdataQueueTimestamp=a.invokeTime,t.wxdataDequeueTimestamp=a.invokeTime,t.beginCGITimestamp=a.beginCGITimestamp,t.CGICallbackTimestamp=a.CGICallbackTimestamp,t.wxlibCallbackTimestamp=a.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,l(t)}}const E=A;var x=new WeakMap;class M{constructor(){var e,t=new Promise((t=>{e=t}));x.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=x.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=x.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=x.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=x.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=x.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=x.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=x.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var D=r(9105),R=r(6347);var L=Symbol("skipDNS");function O({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:a}){var i,s;if(r!==L&&!n){var u,c,{enableHttpDNS:l,httpDNSServiceId:d}=e;if(null!==(i=a.__innerRequestOptions__)&&void 0!==i&&i.ip)return{host:t,ip:a.__innerRequestOptions__.ip,candicateIps:null===(c=a.__innerRequestOptions__)||void 0===c?void 0:c.candicateIps};if(null===(null===(s=a.__innerRequestOptions__)||void 0===s?void 0:s.ip))return{};if(!(0,f._checkHasSystemProxy)()){if(!0===l&&(0,o.HD)(d)){var p=b(t);return p&&!1===p.expired?(u=p.ip,{host:t,ip:u}):y(t,d).then((e=>{if(u=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:a.retryCount?a.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:u,candicateIps:r}}))}return!0===l?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function N({host:e,ip:t,compatUrls:r}){var n=((e,t)=>{var r=v[e];return t?!(r&&r===t||(delete v[e],0)):(delete v[e],!1)})(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}var j,B=r(2517),F=Symbol("pre"),U=Symbol("next"),W=Symbol("key");class G{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[F],r=e[U];t&&r?(t[U]=r,r[F]=t,this.cacheTail[U]=e,e[F]=this.cacheTail,e[U]=null,this.cacheTail=e):t||r&&(r[F]=null,this.cacheHead=r,this.cacheTail[U]=e,e[F]=this.cacheTail,e[U]=null,this.cacheTail=e)}insertCache(e,t){if(t[W]=e,this.cacheTail?(t[U]=null,t[F]=this.cacheTail,this.cacheTail[U]=t,this.cacheTail=t):(this.cacheTail=t,t[U]=null,this.cacheHead=t,t[F]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[W]];var r=this.cacheHead[U];r[F]=null,this.cacheHead[U]=null,this.cacheHead[F]=null,this.cacheHead=r}else this.cacheLength++}}var V=r(2900),$=r(3385),q=function({args:e={}}){var{ip:t}=e;if(t){var r=(0,$.hI)(this);return r&&(0,V.uC)(r,"skipDNSRequest")?{skipDNS:L,ip:e.ip}:{}}},z=r(4081),K=r(4500),H=r(7445),J={},Y=!1;function Q({args:{url:e,__wx_inner_invokeTime__:t},host:r,options:{__retryHttpDNS__:n,lastErrorResponse:a}}){var i,o;if(n)if((null===(i=J[e])||void 0===i?void 0:i.count)>=4)d({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!(0,f._checkHasSystemProxy)()){if(Y){var s=b(r);if(s&&!1===s.expired)return o=s.ip,{host:r,ip:o,hitCache:1}}var u=Date.now();return y(r,void 0,!0).then((e=>{o=e.ip;var t=e.hitCache?2:0,n=Date.now()-u;return{host:r,ip:o,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{J[e]?J[e].count++:J[e]={count:1};var i=setTimeout((()=>{delete J[e]}),3e4);throw J[e].cf&&clearTimeout(J[e].cf),J[e].cf=i,d({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),a}))}}a.default.onReady((()=>{var e=H.cj?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache";(0,K.b)({experimentId:e,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Y=!0)}})}));var Z=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):(0,k.Nv)().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function X({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}class ee{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new M;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=x.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,n.FE)({name:"request",args:e,errno:z.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:a,port:i,responseType:o,dataStr:s,options:u,forbidReuse:c,currentRequestStartTime:l,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:f,lastHost:h,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:I,rawHttpDnsError:S,retryCount:k,exception:C,__polyfill_ldns__:T}=this.innerParams;try{return new E(Object.assign({},e,{header:n,method:a,responseType:o,data:s,ip:r,host:t,port:i,forbidReuse:c,currentRequestStartTime:l,lastRequestStartTime:d,originArgs:e,weHttpDNSCoast:p,hitCache:f,lastHost:h,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,__skipDomainCheck__:u.__skipDomainCheck__,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:I,rawHttpDnsError:S,retryCount:k,exception:C,__polyfill_ldns__:T}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var te=(e={})=>(t={},r={})=>re(Object.assign({},e,r))(t),re=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1},e),function(t={}){var r;if(t.url){try{r=function(e){j||(j=new G(50));var t,r=j.getCache(e);return r?(j.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,B.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),j.insertCache(e,t),t)}(t.url)}catch(e){return void(0,n.FE)({name:"request",args:t,errno:z.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){var a=new ee({args:t,options:e});if(a.catch((e=>{(0,n.YG)("request",t,e.message||e.errMsg,e.errno)})).use((function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:a,lastHost:i,lastErrorResponse:o,__innerRequestOptions__:s,__polyfill_ldns__:u,retryCount:c,exception:l}={}}){var d,p;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(p=(0,D.Em)(e.header),e.header=(0,D.Nf)(e.header)):(d=!0,p="Undefined",e.header={}),"Undefined"!==p&&"Object"!==p&&(console.warn("wx.request: header must be an object"),e.header={}),d||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var f="text";e.responseType&&(f=e.responseType.toLowerCase());var h,g=e.header,v="GET";if("string"==typeof e.method&&(v=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(g["content-type"]=g["content-type"]||"application/json"),h=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,D.Em)(e.data)?g["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,R.HR)(e.data,!0):g["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):h.toString():e.data,"GET"===v&&e.data){var m=(0,R.cE)(e.url,e.data);e.url=m}var y=null!=s&&s.timeout?s.timeout:e.timeout,b=null!=s&&s.retryCount?s.retryCount:0;b||(b=null!=c?c:0);var _=null!=s&&s.exception?s.exception:null;_||(_=l);var w=(null==s?void 0:s.__polyfill_ldns__)||u;return{header:g,method:v,responseType:f,dataStr:h,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:i,lastUrl:a,__retryHttpDNS__:t,lastErrorResponse:o,startTimestamp:Date.now(),timeout:y,retryCount:b,exception:_,__polyfill_ldns__:w}})).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(X).use(q.bind(this)).use(Q).use(O).use(Z).useAfterAsyncTasks(N),a.catchFn)return a.execute(t)}else(0,n.FE)({name:"request",args:t,errno:z.tHd,errMsg:"data should not be Function",success:!1});else(0,n.FE)({name:"request",args:t,errno:z.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}else(0,n.FE)({name:"request",args:t,errno:z.Wkc,errMsg:`invalid url "${t.url}"`,success:!1})}),ne=re({__skipDomainCheck__:!1}),ae=re({__skipDomainCheck__:!0}),ie=re({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),oe=te({__retryHttpDNS__:!0}),se=te(),ue=function(e={}){var t=(0,$.hI)(this);if((0,V.uC)(t,"useRequest"))return ae.call(this,e);(0,n.YG)("request",e,"no permission")}},6789:(e,t,r)=>{"use strict";r.d(t,{as:()=>Q,Wb:()=>Y});var n,a=r(1351),i=r.n(a),o=r(5436),s=r(3140),u=r(9806),c=r(6142),l=r(190),d=r(8929),p=r(3691),f=0,g=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,_={},w=new o.Q;(0,l.jQ)("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=_[r];if(n){var a=g.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){(0,p.gA)(),n.readyState=n.OPEN;var i=m.get(n).url,o=Date.now()-y.get(n),u=e.statusCode,c=m.get(n).__skipDomainCheck__,l=e.profile;(0,s.P)("connectSocket",i,1,o,"",u,c,0,0,l,0)}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);w.emit(`${a}${t}`,e),w.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete _[r],w.removeAllListeners(`${a}open`),w.removeAllListeners(`${a}close`),w.removeAllListeners(`${a}error`),w.removeAllListeners(`${a}message`))}}}));var I=function(e,t){w.on(`${g.get(this)}${e}`,b.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},S=(n=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,a=f++;g.set(this,a),m.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=b.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),y.set(this,Date.now()),(0,c.hj)(t.timeout)||(t.timeout=0);var i=t.forceCellularNetwork,o=()=>{var e={...t,forceCellular:i};(0,l.IN)("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{v.set(this,e.socketTaskId),_[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,a=Date.now()-y.get(this),i=t.__skipDomainCheck__;n=e.errMsg,(0,s.P)("connectSocket",r,2,a,n,"",i,0,0,{},0,{},void 0,!0,e.errno)}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{w.emit(`${a}error`,{errMsg:n})}),0))},u=()=>{(0,c.mf)(t.customCheck)?t.customCheck(t,(e=>{e?((0,l.YG)("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{w.emit(`${a}error`,{errMsg:e})}),0)):o()})):o()};i?"boolean"!=typeof i?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof i),i=!1,u()):(0,p.Nv)().then((e=>{e||(i=!1),u()})):u()}send(e){if(this.readyState===this.OPEN){var t=Date.now();(0,l.IN)("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:v.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=m.get(this).url,a=r.errMsg.indexOf("ok")>-1?1:2,i=Date.now()-t,o=r.errMsg,c=m.get(this).__skipDomainCheck__,l=(0,u.Y6)(e.data);(0,s.P)("sendSocketMessage",n,a,i,o,"",c,l)}}})}else(0,l.YG)("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){(0,l.IN)("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:v.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){I.call(this,"open",e)}onClose(e){I.call(this,"close",e)}onMessage(e){I.call(this,"message",e)}onError(e){I.call(this,"error",e)}},i()(n.prototype,"send",[d.Qu],Object.getOwnPropertyDescriptor(n.prototype,"send"),n.prototype),i()(n.prototype,"close",[d.Qu],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),k=r(1399),C=r(9619),T=r(6342),A=5;T.default.onReady((()=>{T.default.wxAppInfo&&T.default.wxAppInfo.maxWebsocketConnect&&(A=T.default.wxAppInfo.maxWebsocketConnect)}));var P=new WeakMap,E=new WeakMap,x=new WeakMap,M={},D=new o.Q,R=0,L=0;function O(e,t,r){t.errMsg=t.errMsg||"ok";var n="ok"===t.errMsg;(0,l.FE)({name:e,args:r,success:n,errMsg:t.errMsg})}class N{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=k.Z.WSS,a=R++,i=t.workerId?new n(t.workerId):new n;delete t.workerId,P.set(this,t),E.set(this,i),x.set(this,a);var o=Date.now();i.onopen=(e,r)=>{this.readyState!==this.CLOSED&&((0,p.gA)(),L++,this.readyState=this.OPEN,D.emit(`${a}open`,{header:e,profile:r}),D.emit("onSocketOpen",{header:e,profile:r},this),(0,s.P)("connectSocket",t.url,1,Date.now()-o,"","",t.__skipDomainCheck__,0,0,r,0))},i.onclose=(e,t)=>{L--,this.readyState=this.CLOSED,D.emit(`${a}close`,{code:e,reason:t}),D.emit("onSocketClose",{code:e,reason:t},this)},i.onmessage=e=>{this.readyState!==this.CLOSED&&((0,c.eP)(e)&&(e.__proto__=ArrayBuffer.prototype),D.emit(`${a}message`,{data:e}),D.emit("onSocketMessage",{data:e},this))},i.onerror=(e,t)=>{L--,this.readyState=this.CLOSED,setTimeout((()=>{D.emit(`${a}error`,{errCode:e,errMsg:t}),D.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)};var l=()=>{var e={errMsg:""};if(L>=A)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${A}`;else{var r=(0,u.v7)(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?(0,p.Nv)().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(M[a]=this),O("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(M[a]=this),O("connectSocket",e,t))}};(0,c.mf)(t.customCheck)?t.customCheck(t,(e=>{e?O("connectSocket",{errMsg:e},t):l()})):(l(),(0,C.k)({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;D.emit(`${a}error`,{errMsg:t}),D.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:E.get(this).send(e.data)};(e.success||e.fail||e.complete)&&O("sendSocketMessage",t,e)}close(e={}){this.readyState,O("closeSocket",{errMsg:E.get(this).close((0,c.hj)(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){D.on(`${x.get(this)}open`,b.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){D.on(`${x.get(this)}close`,b.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){D.on(`${x.get(this)}message`,b.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){D.on(`${x.get(this)}error`,b.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var j=r(7445),B=r(4500),F=r(88),U=r(5133),W=r(9105),G=r(6347),V=S,$=_;r.g.__isAppServiceRemoteDebugMode__||(0,k.a)((e=>{e.WSS&&T.default.onReady((()=>{var t=!1,r=j.cj?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:(0,B.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=(0,F.J)("bindingWebSocket");t||n||e.WSS.force?(V=N,$=M,(0,U.Tk)(/^connectSocket/,2),h.info(`binding socket, abtest: ${t}, permission: ${n}`)):h.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var q=new WeakMap,z={};function K(e,t){return z[t]||(z[t]=new WeakMap,w.on(`onSocket${t}`,H(t)),D.on(`onSocket${t}`,H(t))),function(r){(0,l.r3)(`onSocket${t}`,r,c.ZT)&&z[t].set(e,r)}}function H(e){return function(t,r){var n=r.__socketInstance__,a=z[e].get(n),i=q.get(n);a&&r===i&&b.surroundThirdByTryCatch(a,`at onSocket${e} callback function`)(t)}}var J=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){var{workerId:n}=r;if(delete r.workerId,(0,l.r3)("connectSocket",r,{url:""}))if(!1!==(0,G.mQ)(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var a={};r.header&&(a=(0,W.Nf)(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__;try{var i=q.get(t),o=new V(t,Object.assign({},r,{header:a,...n?{workerId:n}:{}}));return i&&i.readyState!==i.CLOSED?i.readyState:q.set(t,o),o}catch(e){return e.message,void(0,l.YG)("connectSocket",r,e.message)}}else(0,l.YG)("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=q.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):(0,l.YG)("closeSocket",e,"WebSocket is not connected"),$){var a=$[n];a.__socketInstance__===t&&(a.readyState=a.CLOSED,a!==r&&a.close())}},sendSocketMessage(e){var r=q.get(t);r&&r.readyState===r.OPEN?r.send(e):(0,l.YG)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:K(t,"Open"),onSocketClose:K(t,"Close"),onSocketMessage:K(t,"Message"),onSocketError:K(t,"Error")}},Y=J(),Q=()=>J({__skipDomainCheck__:!0})},7009:(e,t,r)=>{"use strict";r.d(t,{o:()=>L,b:()=>V});var n=r(190),a=r(3140),i=r(5436),o=r(9806),s=r(6142),u=r(5340);var c=r(4317),l=r(7445),d=r(6342),p=r(6335),f=(r(4500),!1);d.default.onReady((()=>{l.cj&&1===Number(d.default.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(f=!0)}));var g=(0,o.Fr)(u.lz),v=0,m=new WeakMap,y=new WeakMap,b=new WeakMap,_=new WeakMap,w=new WeakMap,I=new WeakMap,S=new WeakMap,k=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,P={},E=new i.Q("Network",!0),x=h.createLogger("NetworkTask"),M=new WeakMap,D={},R=new WeakMap;class L{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:a}){var i=v++;this.uniqueId=(0,p.M8)(),m.set(this,i),b.set(this,"waiting"),_.set(this,e),w.set(this,t),k.set(this,r),C.set(this,n),(0,s.mf)(a)&&T.set(this,a);var o,u,f=!1;((e=>{if(l.jP)return!0;if(l.wZ)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!l.cj)return!1;if("Request"===e&&1===Number(d.default.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}})(t)||(l.cj||l.wZ)&&e.forceCellularNetwork)&&(f=!0),A.set(this,f);var h=new c.Q(((e,t)=>{o=e,u=t}));M.set(this,{promise:h,resolve:o,reject:u});var g=()=>{W.call(this)?(S.set(this,[Date.now()]),P[t].taskQueue.push({id:i,item:this})):N.call(this)};(0,s.mf)(e.customCheck)?e.customCheck(e,(r=>{r?O(t,e,r):g()})):g()}abort(){if(x.info(`[${w.get(this)}][${m.get(this)}]abort()`),"waiting"===b.get(this)){x.info(`[${w.get(this)}][${m.get(this)}] waiting=true`);var e=P[w.get(this)].taskQueue.findIndex((e=>e.id===m.get(this)));e>-1&&(P[w.get(this)].taskQueue.splice(e,1),(0,n.YG)(P[w.get(this)].functionName,_.get(this),"abort")),b.set(this,"done")}else{M.get(this).promise.then((()=>{(0,n.IN)(`operate${w.get(this)}Task`,{[`${w.get(this).toLowerCase()}TaskId`]:y.get(this),operationType:"abort"})}))}}onProgressUpdate(e){M.get(this).promise.then((()=>{E.on(`${w.get(this)}${y.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){M.get(this).promise.then((()=>{E.off(`${w.get(this)}${y.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){M.get(this).promise.then((()=>{E.on(`${w.get(this)}${y.get(this)}headersReceived`,e)}))}offHeadersReceived(e){M.get(this).promise.then((()=>{E.off(`${w.get(this)}${y.get(this)}headersReceived`,e)}))}onChunkReceived(e){M.get(this).promise.then((()=>{E.on(`${w.get(this)}${y.get(this)}chunked`,e)}))}offChunkReceived(e){M.get(this).promise.then((()=>{E.off(`${w.get(this)}${y.get(this)}chunked`,e)}))}}function O(e,t,r){(0,n.FE)({name:P[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function N(){var e=_.get(this),t=w.get(this),r=A.get(this);b.set(this,"sending"),I.set(this,Date.now());var n=j.call(this);r?M.get(this).promise.then((()=>{B.call(this)})).catch((r=>{O(t,e,r)})):n?O(t,e,n):y.get(this)?B.call(this):M.get(this).promise.then((()=>{B.call(this)}));setTimeout((()=>{(0,a.P)(P[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}),0)}function j(){var e,t=w.get(this),r=_.get(this);P[t].currentTaskCount++;var a={data:r.data,url:r.url,header:r.header,method:r.method,timeout:"number"==typeof r.timeout?r.timeout:0,enableHttp2:!0===r.enableHttp2,enableQuic:!0===r.enableQuic,enableCache:!0===r.enableCache,enableProfile:!1!==r.enableProfile,ip:r.ip,port:r.port,forbidReuse:!0===r.forbidReuse,host:r.host,enableChunked:r.enableChunked,__skipDomainCheck__:r.__skipDomainCheck__,forceCellular:r.forceCellularNetwork,success:e=>{var r=e[`${t.toLowerCase()}TaskId`];y.set(this,r),P[t].taskIdMap[r]=this;var n=M.get(this).resolve,a=M.get(this).promise;n(),a.then((()=>{D[r]&&"wait"===D[r].status?D[r].handlers.forEach((e=>e())):D[r]={status:"normal"}}))},fail:n=>{P[t].currentTaskCount--;var a=n[`${t.toLowerCase()}TaskId`];e=n.errMsg,F.call(this,{taskType:t,options:r,errMsg:e,success:!1}),(0,M.get(this).reject)(e),x.error(`[${t}][createTask][Fail] taskId=${a}`),D[a]&&"wait"===D[a].status&&delete D[a]},complete:()=>{b.set(this,"done")}},i=A.get(this),o=`create${t}Task${i?"Async":""}`;(l.cj||l.wZ)&&r.forceCellularNetwork&&(o="createCellularNetworkRequestTaskAsync");var s={};"[object ArrayBuffer]"!==Object.prototype.toString.call(r.data)&&(s.notPack=!0);var u=k.get(this)(a);return"createRequestTaskAsync"===o&&l.cj&&f&&(o="createRequestTaskRealAsync"),"Request"!==t||l.gm||l.DD?(0,n.IN)(o,u):(0,n.NJ)(o,u,s),e}function B(){var e=y.get(this),t=_.get(this),r=w.get(this),a=P[r].functionName;E.on(`${r}${e}success`,(e=>{C.get(this).call(this,e),(0,n.FE)({name:a,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),E.on(`${r}${e}fail`,(e=>{var r=T.get(this),i=r&&r.call(this,e);if(null!=i&&i.__retry__)h.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var o={name:a,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(o.errno=e.errno),e.exception&&(o.exception=e.exception),(0,n.FE)(o)}}))}function F({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:o="",responseDataLength:s=0,profile:u={},queueTime:c,uniqueId:l,errno:d,queueLength:p}){var f=t.url,h=n?1:2,g=Date.now()-I.get(this),v=t.__skipDomainCheck__;g>=6e4&&x.error(`reportTask costTime too long: ${g}ms, taskId=${y.get(this)}`),(0,a.P)(P[e].functionName,f,h,g,r,o,v,i,s,u,c,{},l,!0,d,p)}function U(e,t){var r,n=`${t.toLowerCase()}TaskId`,a=e[n],{state:i,header:s}=e;delete e.state,delete e[n],"chunked"!==i&&(e.cookies=s&&(r=s["Set-Cookie"]||s["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var u=0;s&&(u=parseInt(s["Content-Length"]||s["content-length"]||"0",10));var c,l,d=()=>{if(E.emit(`${t}${a}${i}`,e),"success"===i||"fail"===i){var r=P[t].taskIdMap[a],n=_.get(r);if(!r)return;P[t].currentTaskCount-=1;var s=P[t].taskQueue.length;if(P[t].taskQueue.length>0){var c=P[t].taskQueue.shift().item,l=S.get(c);if(l&&l[0]){var d=l[0];if(d>0){var p=Date.now()-d;S.set(c,[d,p,s])}}N.call(c)}var f=Promise.resolve((0,o.Y6)(n.data));if("Upload"===t){var h=0;"object"==typeof n.formData&&null!==n.formData&&(h=JSON.stringify(n.formData).length),f=g({path:n.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var v=Promise.resolve((0,o.Y6)(e.data,u));if("Download"===t){var m=e.dataLength;v="number"==typeof m?Promise.resolve(m):g({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([f,v]).then((([a,o])=>{var s=S.get(r);F.call(r,{taskType:t,options:n,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:a,responseDataLength:o,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2]}),S.delete(r)})),R.set(P[t].taskIdMap[a],!0),G.call(r)}};f&&"Request"===t?"normal"===(null===(c=D[a])||void 0===c?void 0:c.status)?d():"wait"===(null===(l=D[a])||void 0===l?void 0:l.status)||(D[a]={status:"wait",handlers:[d]}):d()}function W(){var e=w.get(this);return P[e].currentTaskCount>=P[e].maxTaskCount}function G(){var e=w.get(this),t=y.get(this);delete P[e].taskIdMap[t],delete D[t],E.removeAllListeners(`${e}${t}success`),E.removeAllListeners(`${e}${t}fail`),E.removeAllListeners(`${e}${t}complete`),E.removeAllListeners(`${e}${t}progressUpdate`),E.removeAllListeners(`${e}${t}headersReceived`),E.removeAllListeners(`${e}${t}chunked`)}function V(e,t){var r=P[e]?P[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};(0,n.jQ)(`on${e}TaskStateChange`,(t=>{U.call(this,t,e)})),P[e]=Object.assign(r,t)}},9883:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,c:()=>l});var n=r(190),a=r(9105),i=r(7009),o=r(6342);(0,i.b)("Upload",{maxTaskCount:10,functionName:"uploadFile"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxUploadConcurrent&&(0,i.b)("Upload",{maxTaskCount:o.default.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class s extends i.o{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>e})}}const u=s;var c=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},i={};t.header&&(r=(0,a.Nf)(t.header)),t.formData&&(i=(0,a.Nf)(t.formData));try{return new u(Object.assign({},t,{header:r,formData:i,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){return void(0,n.YG)("uploadFile",t,e.message)}}}),l=c(),d=c({__skipDomainCheck__:!0})},2166:(e,t,r)=>{"use strict";r.d(t,{Nb:()=>f,et:()=>h});var n,a=r(190),i=r(6342),o=r(6301),s=r(9806),u=r(4596),c=(e={},t={})=>{if((0,a.r3)("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)(0,a.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var o=!0===(0,s.KU)("getUserProfile")||"unknown"===(0,s.KU)("getUserProfile"),{success:c,fail:l}=(0,a.Rn)(e,"getUserProfile"),d={lang:e.lang||"en",desc:e.desc};2===e.mode&&(d.get_profile_mode=2),d.version=i.default.SDKVersion,((e={})=>{var t=e.success,r=e.complete;if(n){var i={data:n,errMsg:"getAppContact:ok"};return t&&t(i),void(r&&r(i))}e.success=e=>{n=e.data,t&&t(e)},e.keyPath="WxaAppVersionInfo.AppVersion",(0,a.IN)("getAppContact",e)})({success(e){var t=JSON.parse(e.data);d.app_version=t},complete(){(0,a.yD)({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:o,reqData:d,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:i}=e;c({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:i,rawData:JSON.stringify(e.data)}),null!=i&&i.is_demote||setTimeout((()=>(0,u.$J)("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),l(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},l=(e={})=>{var t=(0,a.TG)("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},d=null,p=!1,f=(e={})=>{if(p)return console.error("invoke wx.getUserProfile too frequently");if((0,a.r3)("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)(0,a.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var r=i.default.accountInfo.nickname,n=i.default.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ";p=!0,((e={})=>{(0,a.TG)("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)})({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,s="string"==typeof e.wording?e.wording:"",u=t.avatar_info.is_ban_modify_avatar,f=t.avatar_info.default_headimg_url,h=t.avatar_info.default_headimg_fileid,g=t.avatar_info.default_avatar_id,v=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),m=t.avatar_info.avatar_limit;if(0!==i){if(p=!1,1===i){m+=1;var y={id:-100,avatar:f,nickname:"微信用户",desc:"临时头像昵称"};v.splice(1,0,y)}var b=JSON.stringify({appName:r,appIcon:n,infoList:v,showType:i,selected:g,limit:m,isBanModifyAvatar:u,wording:s}),_=(0,o.vJ)((e=>{[o.ML.BottomBackButton,o.ML.NavigationBackInterceptionType,o.ML.NavigateBackCall].includes(e.type)&&d&&d.handleCancel()}));__sclEngine__.initScl((t=>{(d=t.mainRoot.append("user-profile",{input:b})).addListener("confirm",(t=>{(0,o.J_)(_),l({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),(0,a.FE)({name:"getUserProfile",args:e,res:r})},fail(){(0,a.YG)("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),d=null})),d.addListener("cancel",(()=>{(0,o.J_)(_),(0,a.YG)("getUserProfile",e,"cancel"),l({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),d=null})),d.addListener("create",(()=>{((e={})=>{(0,a.IN)("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})})({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:f,defaultAvatarFileId:h,complete(e){e.userInfo&&(v.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,v),d.setData({infoList:v})),d.setData({hide:!1})}})}))}))}else c(e,{afterAll:()=>p=!1})}else(0,a.YG)("getUserProfile",e,"getUserAvatarInfo fail")},fail(){p=!1,(0,a.YG)("getUserProfile",e,"getUserAvatarInfo fail")}})}}},h=(e={})=>{f(Object.assign({},e,{__requireId__:!1}))}},1357:(e,t,r)=>{"use strict";r.d(t,{s:()=>u,y:()=>s});var n=r(190),a=r(6342),i=(0,n.TG)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",(({branchId:e,branchDim:t,eventType:r})=>({itemList:[{branchId:e,branchDim:t,eventType:r}]}))),o=(0,n.TG)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",(({branchId:e,branchDim:t,reportType:r,query:n})=>({itemList:[{branchId:e,branchDim:t,reportType:r,query:n}]})));function s(e={}){"release"!==a.default.envVersion&&o(e)}function u(e={}){"string"!=typeof e.branchId?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"branchId must be a string"):e.branchDim&&"string"!=typeof e.branchDim?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"branchDim is an optional string"):1!==e.eventType&&2!==e.eventType?(0,n.YG)("reportUserBehaviorBranchAnalytics",e,"eventType must be 1 or 2"):(i(e),s({branchId:e.branchId,branchDim:e.branchDim,reportType:e.eventType}))}},2100:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,s:()=>a});var n=r(190),a=(e={})=>{(0,n.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},i=(e={})=>{a(e)}},7412:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,r:()=>o});var n={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3,SYS_MSG_TYPE_WHATS_NEW:4},a=function(e){var t={};for(var r in e)t[e[r]]=r;return t}(n);function i(e){return n[e]}function o(e){return a[e]}},1333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(9105),a={};const i={lastShareTicket:null,get:e=>a[e],set(e,t){var r=(0,n.M8)();return a[r]={shareKey:e,shareName:t},r}}},8105:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,w:()=>i});var n=[];function a(e,t){n.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function i(e){n.push(e)}},242:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});var n=r(190),a=r(7161),i=(0,n.TG)("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),o=(e={})=>{var t=(0,a.M)(e.keyList);t?(0,n.YG)("getFriendCloudStorage",e,t):i(e)}},645:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(1333),a=r(190),i=r(7161),o=(0,a.TG)("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=n.Z.get(t),{shareKey:a,shareName:i}=r;return{key:e,share_key:a,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),s=e=>{var t=(0,i.M)(e.keyList);t?(0,a.YG)("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?n.Z.get(e.shareTicket)?o(e):(0,a.YG)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):n.Z.lastShareTicket&&n.Z.get(n.Z.lastShareTicket)?o(Object.assign({shareTicket:n.Z.lastShareTicket},e)):(0,a.YG)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)}},2897:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(190),a=(0,n.TG)("getGroupInfo","webapi_getshareinfo_byopengid",(({openGId:e})=>({opengid_list:[e]})),(e=>(e.name=e.info_list[0].room_topic,delete e.info_list,e)));function i(e){setTimeout((()=>{a(Object.assign({},e,{success:t=>(0,n.FE)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}))}))}},5665:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n=(0,r(190).TG)("getPotentialFriendList","webapi_game_potential_friends",(()=>{}),(e=>(e.list=e.friend_list,delete e.friend_list,e)))},5676:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var n=r(7161),a=r(190),i=(0,a.TG)("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),o=e=>{var t=(0,n.M)(e.keyList);t?(0,a.YG)("getUserCloudStorage",e,t):i(e)}},7891:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n=(0,r(190).TG)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",(()=>{}),(e=>(e.keys=e.data_key,delete e.data_key,e)))},3876:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(190),a="getUserInfo",i=({openIdList:e=[],lang:t="en",success:r,fail:i,complete:o}={})=>{var{success:s,fail:u}=(0,n.Rn)({success:r,fail:i,complete:o},a);(0,n.yD)({sdkApiName:a,apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:e,lang:t},success:e=>{s({data:e.data.userInfoList||[]})},fail:u})}},7597:(e,t,r)=>{"use strict";r.d(t,{$X:()=>k,Fc:()=>I,U7:()=>S});var n=r(5436),a=r(8059),i=r(6580),o=r(190),s=r(6342),u=r(3876),c=r(9806),l=r(6142),d=r(8422),p=r(9493),f=r(8165),h=new n.Q("InteractiveStorageModified",!0),g={add:1},v=(0,c.Fr)(u.b);var m=({actionId:e,actId:t=0,receiverOpenId:r,detail:n,opNum:a=0,operationType:i=0})=>{var o=[e,t,0,n,a,i,r].join(",");_.reportKeyValue({key:"GameInteractiveData",value:o})},y=e=>{_.reportIDKey({key:e})},b=(0,o.TG)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",(({key:e,operation:t,opNum:r,toUser:n,debug:a,action:i,object:o,ratio:s,quiet:u})=>({key:e,operation:t,debug:a,opNum:r,toUser:n,action:i,object:o,ratio:s,quiet:!!u,op_num:r,to_user:n,random_number:Date.now(),randomNumber:Date.now()})),(e=>{var t,r,{json_resp:n,inner_errcode:a,inner_errmsg:i}=e,o="modifyFriendInteractiveStorage:fail ";e.errMsg,delete e.json_resp,delete e.inner_errcode,delete e.inner_errmsg;try{t=JSON.parse(n)}catch(e){t={},e.message}if((r=t.log)&&r.split("\n").map(decodeURIComponent).forEach((e=>{var t=parseInt(e.substr(0,1),10),r=`[JSServer]${e.substr(1)}`;switch(t){case d.pO.LOG:console.log(r);break;case d.pO.WARNING:console.warn(r);break;case d.pO.ERROR:console.error(r)}})),!(0,l.o8)(a)&&0!==a)return e.errMsg=`${o}${i}`,void(e.errCode=a);try{var s=JSON.parse(t.base_resp);if(0!==s.errcode)return e.errCode=s.errmsg,void(e.errMsg=`${o}${s.errmsg}`);e.errCode=0}catch(t){e.errCode=-1,e.errMsg=`${o}${t.message}`,t.message}})),w=new Set,I=e=>{y("modifyFriendInteractiveStorage");var t=Object.assign({},e,{success:t=>{(0,o.FE)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||h.emit("modified",`${e.key}`)}});t.quiet?(e=>{var t=(0,f.x9)(),r=(0,p.A)();!r&&t&&t.referrerInfo&&(r=t.referrerInfo.messageExtraData),r&&3===r.shareType&&r.userInfo?w.has(r.userInfo.openID)?(0,o.YG)("modifyFriendInteractiveStorage",e,"quiet modify can only be use once"):(w.add(r.userInfo.openID),b(Object.assign(e,{toUser:r.userInfo.openID}))):(0,o.YG)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")})(t):t.toUser?s.default.modifyFriendInteractiveStorageTemplates?(e=>{v({openIdList:[e.toUser]}).then((t=>{var r,n,a,{nickName:u}=t.data[0],c=parseInt(e.key,10),l=e.toUser,d=e.opNum,f=g[e.operation];for(a of s.default.modifyFriendInteractiveStorageTemplates)if(a.key===e.key){var h=a.ratio?` x${d*a.ratio} ？`:"？";r=`确认${a.action} ${u} ${a.object}${h}`,n=encodeURIComponent(r);break}if(!r)throw new Error("invalid key");var v={actId:c,receiverOpenId:l,detail:n,opNum:d,operationType:f};m(Object.assign({actionId:1},v)),y("modifyFriendInteractiveStorageShowModal");var _=(0,i.U)({content:r,title:`${a.action}${a.object}`,confirmText:`确认${a.action}`,confirm(){_.destroy(),b(Object.assign({action:a.action,object:a.object,ratio:a.ratio},e,{success:t=>{if(e.success&&e.success(t),!t.errCode)var r="string"==typeof e.title,n=(0,i.U)({title:`${a.action}${a.object}`,icon:!0,content:r?`已${a.action}，马上告诉微信好友？`:`已${a.action}`,cancelText:r?"下次吧":"我知道了",confirmText:!!r&&"告诉他",cancel(){n.destroy()},confirm(){n.destroy(),(0,p.N)({openId:l,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),m(Object.assign({actionId:2},v)),y("modifyFriendInteractiveStorageConfirm")},cancel(){_.destroy(),(0,o.YG)("modifyFriendInteractiveStorage",e,"cancel"),m(Object.assign({actionId:3},v)),y("modifyFriendInteractiveStorageCancel")}})})).catch((({errMsg:t,message:r})=>{(0,o.YG)("modifyFriendInteractiveStorage",e,t||r)}))})(t):s.default.modifyFriendInteractiveStorageConfirmWording?(e=>{v({openIdList:[e.toUser]}).then((t=>{var{nickName:r}=t.data[0],n=s.default.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",r),i={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(n),opNum:e.opNum,operationType:g[e.operation]};m(Object.assign({actionId:1},i)),y("modifyFriendInteractiveStorageShowModal"),(0,a._showModal)({content:n,confirmText:"确定",cancelText:"取消",success(t){t.confirm?(b(e),m(Object.assign({actionId:2},i)),y("modifyFriendInteractiveStorageConfirm")):((0,o.YG)("modifyFriendInteractiveStorage",e,"cancel"),m(Object.assign({actionId:3},i)),y("modifyFriendInteractiveStorageCancel"))}})})).catch((({errMsg:t})=>{(0,o.YG)("modifyFriendInteractiveStorage",e,t)}))})(t):(0,o.YG)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):(0,o.YG)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},S=e=>{h.on("modified",e)},k=e=>{h.off("modified",e)}},9493:(e,t,r)=>{"use strict";r.d(t,{A:()=>n.A5,N:()=>o});var n=r(1772),a=r(7041),i=r(6342);function o(e={}){var t={openId:e.openId,title:e.title||i.default.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,success:e.success,fail:e.fail,complete:e.complete};t.query=(0,a.k)(),(0,n.HP)(t,"shareAppMessageToSpecificContactDirectly")}},7161:(e,t,r)=>{"use strict";function n(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}r.d(t,{M:()=>n})},1257:(e,t,r)=>{"use strict";r.d(t,{P0:()=>d,dx:()=>p,nw:()=>c});var n,a=r(190),i=r(88),o=r(7445),s=r(6342),u=r(8246),c=(e={})=>{(0,a.IN)("navigateBackApplication",e,{})},l={};s.default.onReady((()=>{n=s.default.appLaunchInfo.scene,Object.assign(l,s.default.appLaunchInfo),(0,u.n)("onAppEnterForeground",(e=>{Object.assign(l,e)}))}));var d=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?(0,a.yD)({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){(0,a.IN)("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var i=[n,encodeURIComponent(l.scene_note||l.sceneNote),m&&m.getCurrentRoutePath(),e.alertType,e.parameter,s.default.appType+1e3,e.appId].map(encodeURIComponent).join(",");_.reportKeyValue({key:"LaunchApplicationInfo",value:i,force:!0})}else(0,a.YG)("launchApplication",e,"no permission")},fail:()=>{(0,a.YG)("launchApplication",e,"no permission")}}):(delete e.operateDirectly,(0,a.IN)("launchApplication",e,{}))},p=(e={})=>{(0,i.J)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,o.cj?(0,i.J)("launchApplicationDirectly")?(0,a.IN)("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>(0,a.YG)("launchApplicationDirectly",e,"no permission"))):(0,a.IN)("launchApplicationDirectly",e,{})}},1077:(e,t,r)=>{"use strict";r.d(t,{HK:()=>i});var n=r(190),a=(0,r(9766).s)("exitMiniProgram"),i=(a.internalOnMethod,(e={})=>{(0,n.IN)("exitMiniProgram",e,{beforeSuccess(){a.emit()}})})},717:(e,t,r)=>{"use strict";r.d(t,{HK:()=>a.HK,iy:()=>n.iy,ow:()=>n.ow});var n=r(2567),a=r(1077)},8386:(e,t,r)=>{"use strict";r.d(t,{B7:()=>u,Hk:()=>o,ZB:()=>s});r(9636);var n=r(4509),a=!1,i=0;(0,n.J)((()=>{i=0,a=!1}));var o=()=>{i=Date.now(),a=!0},s=()=>a,u=()=>i},2567:(e,t,r)=>{"use strict";r.d(t,{iy:()=>x,ow:()=>q});var n,a,i=r(3888),o=r.n(i),s=r(190),u=r(6347),c=r(8113),l=r(8834),d=r(6342),p=r(9806),f=r(7445),g=r(88),v=(r(4500),r(6301)),m=r(1868),y=r(3131),b=r(6385),w=r(8059),I=r(743),S=r(7849),k=r(4571),C=r(5933),T=r(8386),A=r(6335),P=(0,m.Vl)(s.yD),E=function(){var e=o()((function*(e={},t={},r={}){h.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,(0,f.tK)()||(delete n.scene,delete n.sceneNote);var a=(0,c.KL)();a?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=a):n.privateExtraData&&delete n.privateExtraData.cookies;var i=Object.assign({},n,t);return"string"==typeof i.path&&i.path.trim().length>0?i.path=(0,u.Pp)(i.path).trim():i.path=void 0,i.halfPage=Object.assign({},i.halfPage||{}),i.halfPage.hideCapsuleMenu=!1,i.halfPage.capsuleMenuType="singleClose",h.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(i)}`),i.needTransferToWeChat&&(0,f.er)()?(yield(0,s.bb)("sdk_navigateToMiniProgram",i,r),{}):(0,s.bb)("navigateToMiniProgram",i,r)}));return function(){return e.apply(this,arguments)}}(),x=(0,m.NX)("doNavigateToMiniProgram",E),M=(e,t,r,n,a)=>{var i=[e,t,d.default.appType+1e3,r+1e3,n,(0,A.cv)(a)].join(",");_.reportKeyValue({key:"NavigateToMiniProgramAlert",value:i})},D=()=>(n||(n=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),n),R=function(){var e=o()((function*(e){var t,r=yield D();switch(O){case L.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:L.HALF_SCREEN_DIALOG});break;case L.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:L.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case L.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:L.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:O})}var n=(0,v.vJ)((e=>{[v.ML.BottomBackButton,v.ML.NavigationBackInterceptionType,v.ML.NavigateBackCall].includes(e.type)&&t.handleCancel()})),a=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return(0,v.J_)(n),a}));return function(t){return e.apply(this,arguments)}}(),L={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},O=L.DEFAULT,N=function(){var e=o()((function*(e,t,r,n,a,i,o){var u,c=O!==L.DEFAULT&&"undefined"!=typeof __sclEngine__&&(f.gm||f.cj||f.wZ)&&a,l=c?O:L.DEFAULT,p=(0,S._)(),h=(0,k.kd)()||d.default.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(h)){if(7!==n)throw(0,w.showToast)({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${h} apiCategory.`);M(4,r,n,l,o)}if(1!==t){var g=p.scene,v=null===(u=p.referrerInfo)||void 0===u?void 0:u.appId;if(1037!==g||v!==r){var m;try{var y;if(c)m=yield R({...a,oldWording:e,expensiveWording:i});else try{m=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});(0,C.HM)(t),y=()=>(0,C.bq)(t)})),(0,s.bb)("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{y()}}catch(e){throw M(3,r,n,l,o),e}var{confirm:b}=m;if(!b)throw M(2,r,n,l,o),new Error("cancel");I.limitSkipToOtherObject.shouldExecuteSkipMaxLimitStrategy&&I.limitSkipToOtherObject.setCurrentAttemptSkipCount(0),M(1,r,n,l,o)}else M(5,r,n,l,o)}else M(4,r,n,l,o)}));return function(t,r,n,a,i,o,s){return e.apply(this,arguments)}}(),j=function(){var e=o()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var a;h.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var i=new Promise((e=>{a=e}));e&&!r&&a(e);var o=i.then((e=>U({appId:e}))),s=0,u=1;try{var c=yield P({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?u:s,target_appid:e,target_short_link:r,target_path:t}});h.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(c.data)}`);var l=c.data,d=l.action_code,p=l.skip_local_check,f=Boolean(l.runtime_sdk_whitelist),g=l.target_short_link_info,v=l.allow_embedded_mode;return g&&(e=g.wxa_appid,t=(g.wxa_path||"").replace(/\.html(\?|$)/,"$1"),a(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:l.reason,wording:l.wording,appType:l.apptype,newWording:l.new_wording,popupInfo:l.pop_up_info,needTransferToWeChat:f,shortLinkInfo:g,allowEmbeddedMode:v,expensiveInfo:o}}catch(e){throw h.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),B=1,F=2,U=function(){var e=o()((function*(e){var t=[];switch(O){case L.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(F);break;case L.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(B)}if(!t.length)return{};h.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield P({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),W=(a=[],d.default.onReady((()=>{Array.isArray(d.default.navigateToMiniProgramAppIdList)&&(a=d.default.navigateToMiniProgramAppIdList,(0,g.J)("openWxappLimit5")&&a.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=(0,p.KU)("navigateToMiniProgramConfig");!1===i||f.gm?t?r():a.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i?r({sourcetype:4}):n({errMsg:"unknown available"})}))),G=!1,V=function(){var e=o()((function*({appId:e,path:t,shortLink:r,extraData:n},a){if(h.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${G}`),G)throw new Error("another navigation is in progress");G=!0;try{O!==L.DEFAULT&&D();try{a||(a=yield Promise.race([j({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){return h.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),{appId:e,path:t}}var{actionCode:i,skipLocalCheck:o,reason:u,wording:c,appType:l,newWording:p,popupInfo:g,needTransferToWeChat:v,expensiveInfo:m}=a;if(e=a.appId,t=a.path,h.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${i}, skipLocalCheck=${o}, reason=${u}, wording=${c}, appType=${l}, needTransferToWeChat=${v}`),1!==i&&2!==i)throw g?(_.reportKeyValue({key:"WeAppNavBan",value:[d.default.appType+1e3,d.default.appLaunchInfo.scene,33,3302,0,1,u,"跳转跳出",(0,b._getCurrentNetworkType)()].join(",")}),(0,s.IN)("showModal",{showCancel:!0,content:g.desc,confirmText:g.confirm_wording,cancelText:g.cancel_wording,success({confirm:e}){var t=g.confirm_url;e&&(0,y.n)({url:t}),_.reportKeyValue({key:"WeAppNavBan",value:[d.default.appType+1e3,d.default.appLaunchInfo.scene,33,3302,e?1:2,2,u,"跳转跳出",(0,b._getCurrentNetworkType)()].join(",")})}})):c&&(0,s.IN)("showModal",{content:c,showCancel:!1}),new Error(u);try{var w=yield W(e,o);return((e={})=>{if(f.cj||f.wZ){var{type:t}=e,r="app";r="game",r=t||r,Promise.all([new Promise(((e,t)=>{(0,s.IN)("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),h.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{(0,s.IN)("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{h.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}})({appId:e,path:t}),yield N(c,i,e,l,p,m,n),{...w,appId:e,path:t,needTransferToWeChat:v}}catch(e){var I=e.errMsg||e.message;throw new Error(I)}}finally{G=!1}}));return function(t,r){return e.apply(this,arguments)}}(),$=((0,m.NX)("checkBeforeNavigateToMiniProgram",V),function(){var e=o()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&(0,s.zy)(e,{appId:""}),e.shortLink&&(0,s.r3)(e,{shortLink:""}),h.info(`[_navigateToMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink}`);try{var t=yield V({appId:e.appId,path:e.path,shortLink:e.shortLink,extraData:e.extraData});return h.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(t)}`),yield E(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw h.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${r}`),["cancel","another navigation is in progress"].includes(r)||_.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(){return e.apply(this,arguments)}}()),q=(0,m.NX)("navigateToMiniProgramWithoutTapCheck",$),z=function(){var e=o()((function*(e){var t=d.default.accountInfo.appId;if(!(0,f.RF)()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return $(e);if(!(0,T.ZB)())throw new Error("can only be invoked by user TAP gesture.");var r=(0,T.B7)();return(0,l.Y)({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),$(e)}));return function(t){return e.apply(this,arguments)}}(),K=((0,m.NX)("navigateToMiniProgram",z),function(){var e=o()((function*(e){if(!(0,g.J)("navigateToMiniProgramDirectly"))throw new Error("no permission");return E(e,e)}));return function(t){return e.apply(this,arguments)}}());(0,m.NX)("navigateToMiniProgramDirectly",K)},8285:(e,t,r)=>{"use strict";r.d(t,{JB:()=>d,n8:()=>n.n,AM:()=>g,uA:()=>v,Bx:()=>s});var n=r(3131),a=r(190),i=!1,o=[],s=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),i?o.push(e):(i=!0,(0,a.IN)("sendDataToH5",e,{afterAll(){if(i=!1,o.length){var e=o.shift();s(e)}}}))},u=!1,c=[];function l(e){for(var t=0;t<c.length;t++)c[t](e)}var d=e=>{if("function"==typeof e){c.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),u||((0,a.jQ)("onH5Data",l),u=!0)}},p=r(88),f=r(5125),h=(e,t)=>(r={})=>{t||(t=e),(0,p.J)(e)?!0!==f.Z.openUrlExtBrowserLock&&(r.url=r.url||"",f.Z.openUrlExtBrowserLock=!0,(0,a.IN)(t,r,{afterAll(){f.Z.openUrlExtBrowserLock=!1}})):(0,a.YG)(e,r,"no permission")},g=h("openUrlByExtBrowser"),v=h("openUrlByExtBrowser2","openUrlByExtBrowser")},3131:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,n:()=>l});var n=r(190),a=r(6347),i=r(7445),o=r(6342),s=r(5125);var u=e=>(t={})=>{if(!0!==s.Z.openUrlLock){var r=t.url,u=Object.assign({},t,{url:r});if(u.url=u.url||"",!(0,a.mQ)(u.url)){console.error("invalid url",u.url);var c={errMsg:`${e}: invalid url "${u.url}"`};return"function"==typeof u.fail&&u.fail(c),void("function"==typeof u.complete&&u.complete(c))}"openUrl"!==e||function(e){var t,r,n=(0,a.en)(e),s=null===o.default||void 0===o.default||null===(t=o.default.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(s&&n&&n.host&&s.includes(n.host)||(0,i.tK)())}(r)?("openUrl"===e&&void 0!==m&&m.traceEvent("onH5Open",!1,{id:r},r,null,null),s.Z.openUrlLock=!0,(0,n.IN)(e,u,{afterAll(){s.Z.openUrlLock=!1}})):(0,n.FE)({name:e,args:u,errMsg:r+" is not in allowed domains",success:!1})}},c=u("openUrl"),l=u("private_openUrl")},3140:(e,t,r)=>{"use strict";r.d(t,{P:()=>v});var n,a=r(6385),i=r(190),o=r(7445),s=r(5310),u=r(5125),c=r(9370),l=r(6342),d=0,p=[],f=Math.random;l.default.onReady((()=>{n=Date.now()}));var h=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:p,appType:_.getAppType()},null,2);(0,i.IN)("reportRealtimeAction",{actionData:e}),p=[]},g=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var a=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=a}catch(e){}})),t},v=(e,t,r,i,v,m,y,b=0,w=0,I={},S=0,k={},C,T=!0,A=void 0,P=0)=>{var E;t.length>1024&&(t=t.substring(0,1024));var x="",M="",D=0,R="";if((0,o.aI)()?(M=g(s.Z.query),D=s.Z.scene,R=s.Z.sceneNote):(D=u.Z.scene,R=u.Z.sceneNote),void 0!==c.hr){var L=c.hr.getCurrentPages();if(L&&L.length>0){var O=L[L.length-1];O&&(x=O.route,M=O.__displayReporter&&O.__displayReporter.showOptions&&O.__displayReporter.showOptions.query)}}!A&&v&&/超时|timeout/.test(v)&&(A=5);var N=JSON.stringify(k),j=[e,t,r,i,v,_.getAppType(),m,b,(0,a._getCurrentNetworkType)(),x,M,w,g(I),D,R,C,A,S,N,null===(E=l.default.wxAppInfo)||void 0===E?void 0:E.maxRequestConcurrent,Date.now()-n,P].map(encodeURIComponent).join(","),B=!1;if(i<5e3&&1==r?f()<.01&&(B=!0):B=!0,T||(B=!1),B){var F,U=[e,t,r,i,v,_.getAppType(),m,b,(0,a._getCurrentNetworkType)(),x,M,w,g(I),D,R,A,S,N,null===(F=l.default.wxAppInfo)||void 0===F?void 0:F.maxRequestConcurrent,Date.now()-n,P].map(encodeURIComponent).join(",");_.reportKeyValue({key:"NetworkAPI2",value:U})}_.reportKeyValue({key:"NetworkAPI",value:j}),_.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`}),p.push([e,t,r,m||"",i,v,(0,a._getCurrentNetworkType)(),y?"1":"0",_.getAppType(),b].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Date.now()-d>=6e4&&(d=Date.now(),setTimeout(h,6e4))}},8834:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(5125),a=r(9370),i=({name:e,scene:t,strategy:r,timeDiffToLastTap:i=0})=>{var o;void 0!==a.hr&&(o=a.hr.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===n.Z.currentWebviewId))||{});var s=[e,t,_.getAppType(),o?o.route:"",r||0,i].map(encodeURIComponent).join(",");_.reportKeyValue({key:"RecycledAPI",value:s})}},5945:e=>{var t,n=void 0!==r?r:globalThis.Function;function a(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),a=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,a=0,i=0,s=0;do{i|=(127&e[n])<<s,(s+=7)>=8&&(r[a]=255&i,i>>=8,s-=8,a++)}while(e[n++]>=128);return r[a]=255&i,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var u,c,l=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};a.uint64=(u=function(e,t){var r=s(e,t);if(r>=7&&NativeGlobal.decodeUint64Array){e=o(e,t);var n=NativeGlobal.decodeUint64Array(e);u.bytes=r}else n=i.decode(e,t),u.bytes=i.decode.bytes;return n},c=i.encode,l(0,c,u,(function(e){return e<0?10:i.encodingLength(e)}))),a.int64=function(){var e=function(r,n){if(((c=i.decode(r,n))>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var a=s(r,n),u=10==a;u&&(r[9+n]=127&r[9+n]),r=o(r,n);var c=NativeGlobal.decodeUint64Array(r);return e.bytes=a,u?"-"+c:c}if(c>=Math.pow(2,63)){for(var l=9;255===r[n+l-1];)l--;var d=new t(l=l||9);r.copy(d,0,n,n+l),d[l-1]=127&d[l-1],c=-1*i.decode(d,0),e.bytes=10}else e.bytes=i.decode.bytes;return c},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var a=n+9;for(i.encode(-1*e,t,n),t[n+=i.encode.bytes-1]=128|t[n];n<a-1;)t[++n]=255;t[a]=1,r.bytes=10}else i.encode(e,t,n),r.bytes=i.encode.bytes;return t};return l(0,r,e,(function(e){return e<0?10:i.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var a=n.apply(this,arguments);return e.bytes=n.bytes,a}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,u=r-a;s<u;s+=o)i.push(c(e,s,s+o>u?u:s+o));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),a=r("./node_modules/ieee754/index.js"),i=r("./node_modules/isarray/index.js");function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r);e=s(e,n);var a=e.write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return C(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,a);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,a){var i,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var d=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){d=!1;break}if(d)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function _(e,t,r,n){return V(W(t,e.length-r),e,r,n)}function w(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return V(G(t),e,r,n)}function k(e,t,r,n){return V(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function C(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,u,c=e[a],l=null,d=c>239?4:c>223?3:c>191?2:1;if(a+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[a+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(u=(15&c)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),a+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(n,a),l=e.slice(t,r),d=0;d<s;++d)if(c[d]!==l[d]){i=c[d],o=l[d];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=U(e[i]);return a}function M(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function O(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function N(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,i){return i||N(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||N(e,0,r,8),a.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;r=new u(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);R(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);R(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=u.isBuffer(e)?e:W(new u(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,r){for(var a=r("./node_modules/util/util.js"),i=r("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,u=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],c={},l=0;l<u.length;l++)c[u[l]]=!0;var d={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},p=function(){var e=[],t=0,r={},u=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},l=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,u(e),void t++):o.test(e[e.length-1])?(u(e),void t++):s.test(e.trim()[0])?(t--,void u(e)):void u(e)},p=function(e){if(!e)return p;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)l(t[r].trim());else l(a.format.apply(a,arguments));return p};return p.scope={},p.formats=d,p.sym=function(e){return e&&function(e){return i(e)&&!c.hasOwnProperty(e)}(e)||(e="tmp"),r[e]||(r[e]=0),e+(r[e]++||"")},p.property=function(e,t){return 1===arguments.length&&(t=e,e=""),i(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},p.toString=function(){return e.join("\n")},p.toFunction=function(t){t||(t={});var r="return ("+e.join("\n")+")";Object.keys(p.scope).forEach((function(e){t[e]||(t[e]=p.scope[e])}));var a=Object.keys(t).map((function(e){return e})),i=a.map((function(e){return t[e]}));return n.apply(null,a.concat(r)).apply(null,i)},arguments.length&&p.apply(null,arguments),p};p.formats=d,e.exports=p},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),a=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};a.valid=n,a.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=a},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?a-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=p,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=c}return(f?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,d=l>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[r+f]=255&o,f+=h,o/=256,c-=8);e[r+f-h]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,d=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),a=r("./node_modules/signed-varint/index.js");function i(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=i,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var a=n.decode(t,r);return r+n.decode.bytes+a;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=i(2,(function t(r,a,i){var s=i,u=o(r);return n.encode(u,a,i),i+=n.encode.bytes,e.isBuffer(r)?r.copy(a,i):a.write(r,i,u),t.bytes=(i+=u)-s,a}),(function e(t,r){var a=r,i=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+i);return r+=o.length,e.bytes=r-a,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=i(2,(function t(r,a,i){var o=i,s=e.byteLength(r);return n.encode(s,a,i,"utf-8"),i+=n.encode.bytes,a.write(r,i,s),t.bytes=(i+=s)-o,a}),(function e(t,r){var a=r,i=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+i);return e.bytes=(r+=i)-a,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=i(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=i(0,(function e(t,r,a){return n.encode(t<0?t+4294967296:t,r,a),e.bytes=n.encode.bytes,r}),(function e(t,r){var a=n.decode(t,r);return e.bytes=n.decode.bytes,a>2147483647?a-4294967296:a}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=i(0,(function e(t,r,a){if(t<0){var i=a+9;for(n.encode(-1*t,r,a),r[a+=n.encode.bytes-1]=128|r[a];a<i-1;)r[++a]=255;r[i]=1,e.bytes=10}else n.encode(t,r,a),e.bytes=n.encode.bytes;return r}),(function t(r,a){var i=n.decode(r,a);if(i>=Math.pow(2,63)){for(var o=9;255===r[a+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,a,a+o),s[o-1]=127&s[o-1],i=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return i}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=i(0,a.encode,a.decode,a.encodingLength),t.uint32=t.uint64=t.enum=t.varint=i(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=i(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=i(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=i(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=i(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=i(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),a=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=a},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),a=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],i=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=i(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(h(e));break;case"message":t.messages.push(l(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(u(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var a=g(e);if(void 0!==t.options[a.name])throw new Error("Duplicate option "+a.name);t.options[a.name]=a.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},u=function(e){return{name:e[1],message:l(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},l=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},f=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=i(e)),e.shift(),{name:t,val:r}},h=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=f(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var a="("===e[0];if(a&&e.shift(),t=e.shift(),a){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var a=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var i=null;switch(e[0]){case":":if(void 0!==r[a])throw new Error("Duplicate option map key "+a);e.shift(),"{"===(i=t(e.shift()))&&(i=v(e)),r[a]=i,";"===e[0]&&e.shift();break;case"{":if(e.shift(),i=v(e),void 0===r[a]&&(r[a]=[]),!Array.isArray(r[a]))throw new Error("Duplicate option map key "+a);r[a].push(i);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(b(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},b=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var i;if(/^("|')([^'"]*)$/.test(t[r]))for(i=1===t[r].length?r+1:r;i<t.length;i++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[i])){t=t.slice(0,r).concat(t.slice(r,i+1).join("")).concat(t.slice(i+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(l(t));break;case"enum":o.enums.push(h(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(u(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,i,s;if(t.options&&"true"===t.options.packed&&-1===a.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],i=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===i})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(a(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var i={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(i[e.oneof]||(i[e.oneof]=[]),i[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(i).forEach((function(e){i[e].unshift("oneof "+e+" {"),i[e].push("}"),t.push(i[e])})),t.push("}",""),t},a=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=i(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},i=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var a=typeof n;"object"===a?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===a&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],a=typeof n;"object"===a?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===a&&(n='"'+n+'"'),t.push(r+": "+n))})),t},u=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){a(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(u(e,[]))})),t.push("}","")}(e,t)})),t.map(c("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),a={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function i(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,u){var c=Object.keys(r).filter((function(e){return!a[e]&&i(r[e])})),l=Object.keys(r).filter((function(e){return!a[e]&&!i(r[e])}));l.forEach((function(e){t+=u+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var a="{"+n.EOL;return r.forEach((function(i,o){a+=t+"  "+i+": "+e[i]+(o<r.length-1?",":"")+n.EOL})),a+t+"}"+n.EOL}(r[e],u)+n.EOL})),c.forEach((function(e){t+=u+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=u+"  buffer: true,"+n.EOL,t+=u+"  encodingLength: null,"+n.EOL,t+=u+"  encode: null,"+n.EOL,t+=u+"  decode: null"+n.EOL,t+=u+"}"+n.EOL,t+=n.EOL})),c.forEach((function(e){t+=u+"define"+e+"()"+n.EOL})),c.length&&(t+=n.EOL);c.forEach((function(a){t+=u+"function define"+a+" () {"+n.EOL,e(r[a],a,u+"  "),t+=u+"  "+a+".encodingLength = encodingLength"+n.EOL,t+=u+"  "+a+".encode = encode"+n.EOL,t+=u+"  "+a+".decode = decode"+n.EOL+n.EOL,t+=u+"  "+o(r[a].encodingLength,u+"  ")+n.EOL+n.EOL,t+=u+"  "+o(r[a].encode,u+"  ")+n.EOL+n.EOL,t+=u+"  "+o(r[a].decode,u+"  ")+n.EOL,t+=u+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),i=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},u=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,c){var l={},d={},p={},f=function(e,t){return c?(r=t[e],(a=n.name(r))?"encodings."+a:r.name?r.name:"encodings.enum"):"enc["+e+"]";var r,a},h=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,h(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,l[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,a={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};l[a.id]||(l[a.id]=a,e.messages.push(a)),r.type=n,r.repeated=!0}})),h(r,r.id)}))};h(e,"");var g=function(r,c){r.messages.forEach((function(e){c[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){c[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),c.type=2,c.message=!0,c.name=r.name;var l={};r.fields.forEach((function(e){e.oneof&&(l[e.oneof]||(l[e.oneof]=[]),l[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),h=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],i("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(l).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=l[e].map((function(e){return"+defined("+i("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var i=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=a.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),i?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",f(h[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",f(h[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:a,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(l).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=l[e].map((function(e){return"+defined("+i("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var i,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=a.encode(t.tag<<3|2),u=a.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",f(h[n],p),r+"[i]")("}"),y("if (packedLen) {"),i=0;i<u.length;i++)y("buf[offset++] = %d",s[i]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(i=0;i<u.length;i++)y("buf[offset++] = %d",u[i]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",f(h[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",f(h[n],p),r),y("offset += %s.encode.bytes",f(h[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:a,enc:p,Buffer:t});var b,_=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),I=[];return g((function(e,t){var n=t.options&&t.options.default,a=v(t.type,r.id,!1),o=a&&a.values;o?t.repeated?I.push(i.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,I.push(i.property(t.name)+": "+parseInt(n||0,10))):I.push(i.property(t.name)+": "+u(t,n))})),I=I.filter((b={},function(e){return!b.hasOwnProperty(e)&&(b[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),I.forEach((function(e,t){w(e+(t===I.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(_&&'if (%s) throw new Error("Decoded message is not valid")',_)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,a,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",i("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",f(h[o],p)),w("%s[tmp.key] = tmp.value",a)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",a,f(h[o],p)):w("%s = %s.decode(buf, offset, offset + len)",a,f(h[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",a,f(h[o],p)):w("%s = %s.decode(buf, offset)",a,f(h[o],p)),w("offset += %s.decode.bytes",f(h[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:a,skip:n.skip,enc:p}),y.bytes=w.bytes=0,c.buffer=!0,c.encode=y,c.decode=w,c.encodingLength=m,c.dependencies=p,c},v=function(e,t,i){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||l[t]||d[t]}),null);if(!1===i)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:a}),i=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:a});return n.make(0,r,i,a.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),a=r("./node_modules/protocol-buffers/compile.js"),i=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var i="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;a(i,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(i)},o.prototype.toJSON=function(){return i},new o},e.exports.toJS=function(t){return i(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,a){t=t>=0?2*t:-2*t-1;var i=n.encode(t,r,a);return e.bytes=n.encode.bytes,i},t.decode=function e(t,r){var a=n.decode(t,r);return e.bytes=n.decode.bytes,1&a?(a+1)/-2:a/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<i;u=n[++r])g(u)||!_(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),a=!0}return r.apply(this,arguments)}};var i,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return m(a)||(a=l(e,a,n)),a}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(i)return i;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),I(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return d(r)}var c,_="",k=!1,C=["{","}"];(f(r)&&(k=!0,C=["[","]"]),S(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),I(r)&&(_=" "+d(r)),0!==o.length||k&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=k?function(e,t,r,n,a){for(var i=[],o=0,s=t.length;o<s;++o)A(t,String(o))?i.push(p(e,t,r,n,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(p(e,t,r,n,a,!0))})),i}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,C)):C[0]+_+C[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,a,i){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function I(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function S(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(i)&&(i=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=I,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,a)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if("function"!=typeof a)throw new TypeError("The last argument must be of type Function");var i=this,o=function(){return a.apply(i,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(E,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,a){var i,o=0,s=0,u=a=a||0,c=t.length;do{if(u>=c)throw e.bytes=0,new RangeError("Could not decode varint");i=t[u++],o+=s<28?(i&n)<<s:(i&n)*Math.pow(2,s),s+=7}while(i>=r);return e.bytes=u-a,o};var r=128,n=127},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,i,o){i=i||[];var s=o=o||0;for(;t>=a;)i[o++]=255&t|r,t/=128;for(;t&n;)i[o++]=255&t|r,t>>>=7;return i[o]=0|t,e.bytes=o-s+1,i};var r=128,n=-128,a=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),a=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),l=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<a?3:e<i?4:e<o?5:e<s?6:e<u?7:e<c?8:e<l?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=globalThis;try{r=r||new n("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=a),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>a()(...e)}},5680:e=>{var t,r,n,a,i,o,s,u=u||function(e,t){var r={},n=r.lib={},a=function(){},i=n.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var a=0;a<e;a++)t[n+a>>>2]|=(r[a>>>2]>>>24-a%4*8&255)<<24-(n+a)%4*8;else if(65535<r.length)for(a=0;a<e;a+=4)t[n+a>>>2]=r[a>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var a=t[n>>>2]>>>24-n%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,i=this.blockSize,s=a/(4*i);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,a=e.min(4*t,a),t){for(var u=0;u<t;u+=i)this._doProcessBlock(n,u);u=n.splice(0,t),r.sigBytes-=a}return new o.init(u,a)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);r=(i=(t=u).lib).WordArray,n=i.Hasher,a=[],i=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],u=r[4],c=0;80>c;c++){if(16>c)a[c]=0|e[t+c];else{var l=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=l<<1|l>>>31}l=(n<<5|n>>>27)+u+a[c],l=20>c?l+(1518500249+(i&o|~i&s)):40>c?l+(1859775393+(i^o^s)):60>c?l+((i&o|i&s|o&s)-1894007588):l+((i^o^s)-899497514),u=s,s=o,o=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=n._createHelper(i),t.HmacSHA1=n._createHmacHelper(i),function(){var e=u,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,a=4*n;r.sigBytes>a&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),o=this._iKey=r.clone(),s=i.words,u=o.words,c=0;c<n;c++)s[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),s=(o=u).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)a.push(n.charAt(o>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;a.length%4;)a.push(u);return a.join("")},parse:function(e){var t=e.length,r=this._map,n=r.charAt(64);if(n){var a=e.indexOf(n);-1!=a&&(t=a)}for(var i=[],o=0,u=0;u<t;u++)if(u%4){var c=r.indexOf(e.charAt(u-1))<<u%4*2,l=r.indexOf(e.charAt(u))>>>6-u%4*2;i[o>>>2]|=(c|l)<<24-o%4*8,o++}return s.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=u},9845:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(190),a=r(1843),i=r(1591),o=(0,a.r)((()=>{var e,t={};if((0,n.IN)("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new i.i(e);return t}))},9464:(e,t,r)=>{"use strict";r.d(t,{KN:()=>n.KN});var n=r(9768)},8059:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkIsInteracting:()=>M,_showModal:()=>y,_showToast:()=>S,_subscribeNativeUi:()=>g,hideLoading:()=>P,hideToast:()=>C,showActionSheet:()=>E,showLoading:()=>A,showModal:()=>b,showShareActionSheet:()=>x,showToast:()=>k});var n=r(190),a=r(9105),o=r(2805),s=r(5125),u=r(8386),c=r(7445),l=r(2248),d=r(2422),p=r(6385),f=!1,h=[];function g(e){h.push(e)}function v(e,t){try{h.forEach((r=>r(e,t)))}catch(e){}}var y=(e={},t=!1)=>{var r={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==i.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==i.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(r=(0,o.l7)(r,e),(0,n.r3)("showModal",r,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var a=!1;if(e.__sdk_inner_allowShowMoreLength__&&(a=!0),!a&&r.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)(0,n.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!a&&r.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)(0,n.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var s=m.getCurrentRoutePath(),l=(0,p._getCurrentNetworkType)();v("showModal",r),(0,n.IN)("showModal",r,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),c.cj?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),v("closeModal",e),(0,u.Hk)()},beforeAll(){f=!0},afterAll(){f=!1,(0,d.yY)({apiName:"showModal",content:r.content,title:r.title,routePath:s,networkType:l})}})}}},b=(e={})=>{e.__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,y(e),(0,c.aI)()&&(0,l.y4)(l.F0.EVENT_CANVAS_AFTER_MODAL)},_=1,w=!1,I=!1,S=(e={},t=!1)=>{if(!I||t){var r={duration:1500,title:"",icon:"success",mask:!1};r=(0,o.l7)(r,e),e.image&&(r.image=(0,a.sd)(s.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(r.icon)<0&&(r.icon="success"),"none"===r.icon&&(r.icon=""),(0,n.r3)("showToast",r,{duration:1,title:"",icon:""})&&(w=_++,setTimeout((()=>{w=!1,t&&(I=!1)}),r.duration),r.maskAll=!1,v("showToast",r),(0,n.IN)("showToast",r),"success"!==r.icon&&setTimeout((()=>{(0,d.yY)({apiName:"showToast",title:r.title,networkType:(0,p._getCurrentNetworkType)(),routePath:m.getCurrentRoutePath()})})))}},k=(e={})=>S(e),C=(e={})=>((e={},t=!1)=>{if(!I||t){if((c.gm||e.noConflict)&&T&&(!w||w<T))return w=!1,I=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");w=!1,I=!1,v("hideToast",e),(0,n.IN)("hideToast",e)}})(e),T=!1,A=(e={})=>{if(!I){var t={title:"",icon:"loading",mask:!1,duration:1e8};(t=(0,o.l7)(t,e)).icon="loading",delete t.image,(0,n.r3)("showLoading",t,{duration:1,title:""})&&(T=_++,t.maskAll=!1,m.startLoading(),v("showToast",t),(0,n.IN)("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},P=(e={})=>{if(!I){if((c.gm||e.noConflict)&&w&&(!T||T<w))return T=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");T=!1,m.endLoading((0,p._getCurrentNetworkType)()),v("hideToast",e),(0,n.IN)("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}},E=(e={})=>{var t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==i.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=(0,o.l7)(t,e)).cancelText,delete t.cancelColor,(0,n.r3)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?(0,n.YG)("showActionSheet",e,"parameter error: itemList should not be large than 6"):(v("showActionSheet",t),(0,n.IN)("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&(0,u.Hk)(),v("closeActionSheet",e),f=!0},afterAll:()=>{f=!1}})))},x=(e={})=>{(0,n.IN)("showShareActionSheet",e)},M=()=>f},3612:(e,t,r)=>{"use strict";r.d(t,{et:()=>f,lX:()=>s,q7:()=>u,jM:()=>A,eZ:()=>p});var n=r(6342),a=r(190),i=r(6301),o=null,s=(e={})=>{if((0,a.r3)("showAuthorize",e,{apply:""})){var t=n.default.accountInfo.nickname,r=n.default.accountInfo.icon,s=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),u=(0,i.vJ)((e=>{[i.ML.BottomBackButton,i.ML.NavigationBackInterceptionType,i.ML.NavigateBackCall].includes(e.type)&&o&&(o.handleCancel(),o=null)}));__sclEngine__.initScl((t=>{(o=t.mainRoot.append("authorize",{input:s})).addListener("confirm",(()=>{(0,i.J_)(u),(0,a.FE)({name:"showAuthorize",args:e})})),o.addListener("cancel",(()=>{(0,i.J_)(u),(0,a.YG)("showAuthorize",e,"cancel")}))}))}};function u(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("game-ranklist",e)}))}var c=r(9845),l=r(4545),d=null;function p(e={},t){if(d)return t&&t(d);var{top:r}=(0,l.Mm)({height:20,width:180,align:"right"}),{right:a}=(0,c.z)(),i=n.default.screenWidth-a,o=JSON.stringify(e);__sclEngine__.initScl((e=>{d=e.mainRoot.append("verify-tip",{top:r,right:i,info:o}),(0,l.RM)({component:d,getVisibleAera:e=>e.__wxSlotChildren[0].__wxSlotChildren[0].childNodes[0].getBoundingClientRect()}),d.addListener("destroy",(()=>{(0,l.d8)(d),d=null})),t&&t(d)}))}function f(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("ad-skip-card",e)}))}var h=r(717),g=r(2352),v=r(8246),m=r(9437),y=null,b=!1,_="",w=0,I=null,S=({value:e})=>{_&&y.setData({[_]:e})},k=({value:e})=>{b=!1,_&&y.setData({[_]:e})},C=({detail:e})=>{_===e.key&&b||(_=e.key,b?(0,g.IN)("hideKeyboard",{success:()=>{b=!1,setTimeout((()=>{(0,g.IN)("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===_?"identity":"text",style:{height:"50px"},success:()=>{b=!0}})}),800)}}):(0,g.IN)("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===_?"identity":"text",style:{height:"50px"},success(){b=!0,y.setData({open:b,key:_})}}))},T=({height:e})=>{e<100?y.setData({keyboardHeight:0}):y.setData({keyboardHeight:e+50})};function A(e={},t){var r;if(clearInterval(I),w=null!==(r=e.remainSeconds)&&void 0!==r?r:w,I=setInterval((()=>{w>0&&w--}),1e3),y)return t&&t(y);__sclEngine__.initScl((r=>{y=r.mainRoot.append("verify-modal",e),(0,v.n)("onKeyboardHeightChange",T),y.addListener("destroy",(({detail:t})=>{y=null,(0,m.S1)(S),(0,m._g)(k),(0,v.ri)("onKeyboardHeightChange",T),e.des&&e.des(null==t?void 0:t.reason),"success"===(null==t?void 0:t.reason)&&e.reportkv({UIArea:1511,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1})})),y.addListener("click",C),y.addListener("confirm",(({detail:t})=>((0,g.IN)("hideKeyboard",{success:()=>{b=!1}}),e.confirm({...t,showModal:(...e)=>y.showModal(...e)})))),y.addListener("switchPage",(({detail:t})=>{b&&(0,g.IN)("hideKeyboard",{success:()=>{b=!1}});var{page:r}=t,n=e.half?1508:1507;"help"===r?n=1509:"fail"===r?n=1510:"succ"===r&&(n=1511),e.reportkv({UIArea:n,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1}),y.setData({...t})})),y.addListener("close",(({detail:t})=>{!e.isSoftMode&&w<=0?(0,h.HK)():(y.des(null==t?void 0:t.reason),"fail"===(null==t?void 0:t.reason)?e.reportkv({UIArea:1510,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1}):"cancel"===(null==t?void 0:t.reason)&&((0,g.IN)("hideKeyboard",{success:()=>{b=!1}}),e.reportkv({UIArea:e.half?1508:1507,PositionID:3,ActionID:2,Status:e.isSoftMode?3:1})))})),y.addListener("report",(({detail:t})=>{e.reportkv(t)})),(0,m.s2)(S),(0,m.xN)(k),t&&t(y)}))}},4545:(e,t,r)=>{"use strict";r.d(t,{Mm:()=>f,RM:()=>o,d8:()=>s});var n=r(6342),a=r(9845),i=new Map;function o({component:e,getVisibleAera:t}){i.has(e)||i.set(e,t)}function s(e){i.delete(e)}function u(){return[...i.entries()].map((([e,t])=>{var{width:r,height:n,left:a,top:i}=t(e);return{width:r,height:n,left:a,top:i}}))}function c({left:e,width:t}){return e+t}function l({top:e,height:t}){return e+t}function d(e,t){var r;null!==(r=t)&&void 0!==r||(t=u());var n=t.findIndex((t=>{return r=t,n=e,a=Math.max(r.left,n.left),i=Math.max(a,Math.min(c(r),c(n))),o=Math.max(r.top,n.top),s=Math.max(o,Math.min(l(r),l(n))),a!==i&&o!==s;var r,n,a,i,o,s}));return-1!==n&&t[n]}i.set({},(()=>(0,a.z)()));var p=8;function f({height:e,width:t,align:r="right",padding:a=p}){for(var i,o=null!==(i=n.default.screenWidth)&&void 0!==i?i:375,s=o/2,c=u(),l=c.map((({width:e,left:t,...r})=>({width:e,left:t,...r,align:e>s?"center":t<s?"left":"right"}))).filter((({align:e})=>r===e||"center"===e)).sort(((e,t)=>e.top-t.top)),f=l[l.length-1],h={height:e,width:t,left:"left"===r?0:o-t,top:f?f.height+f.top+a:0},g=d(h,c);g;)h.top=g.top+g.height+a,g=d(h,c);return h}},6301:(e,t,r)=>{"use strict";r.d(t,{ML:()=>f,vJ:()=>S,J_:()=>k});var n,a=r(3888),i=r.n(a),o=r(1868),s=r(190),u=r(9766),c=r(5125),l=r(5933),d=r(1163),p=(0,u.s)("navigateBackIntercept"),f={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},h=[f.SlideBack,f.BottomBackButton,f.NavigationBarBack,f.NavigateBackCall],g=[],v=0;(0,s.jQ)("onNavigateBackIntercept",((e={})=>{var{id:t}=n||{};p.emit({...e,id:t}),(0,s.nY)("onNavigateBackIntercept",{...e,id:t})}));var m=Object.create(null);(0,l.HM)((e=>{var t=e.webviewId;m[t]||((0,d.dq)(t,(()=>{if(delete m[t],g.length)for(var e,r=0;r<g.length;)(e=g[r]).options.webviewId&&e.options.webviewId===t?g.splice(r,1):r+=1}),"setNavigateBackInterception"),m[t]=!0),g.length&&y()}));var y=function(){var e=i()((function*(){var e;n=void 0;for(var t=g.length-1;t>=0;--t)if(void 0===(e=g[t]).options.webviewId||e.options.webviewId===c.Z.currentWebviewId){n=e;break}var r=n?n.options.scopes:[],a=new Set(r||[]);return(0,s.bb)("setNavigateBackInterception",{scopes:h.map((e=>({type:e,interception:a.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=i()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:h};var r=++v;return g.push({id:r,options:e}),yield y(),{id:r}}));return function(){return e.apply(this,arguments)}}(),_=((0,o.NX)("setNavigateBackInterceptionById",b),function(){var e=i()((function*({id:e}={}){var t=g.findIndex((t=>t.id===e));t<0||(g.splice(t,1),yield y())}));return function(){return e.apply(this,arguments)}}()),w=((0,o.NX)("stopNavigateBackInterceptionById",_),p.internalOnMethod),I=p.internalOffMethod,S=function(){var e=i()((function*(e,t=h){var{id:r}=yield b({scopes:t}),n=t=>{t.id===r&&e(t)};return w(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=i()((function*(e){var{id:t,handler:r}=(yield e)||{};yield _({id:t}),I(r)}));return function(t){return e.apply(this,arguments)}}()},9768:(e,t,r)=>{"use strict";r.d(t,{KN:()=>g});var n=r(8246),a=r(9370),i=[],o=null,s=null,u=!1,c=[],l=!1,d="",p=0,f=0,h=e=>{o=e;var t=!1,r=!0;e.deviceOrientation!==d&&(t=!0),e.size.windowWidth!==p&&(t=!0),e.size.windowHeight!==f&&(t=!0),(e=>{e.deviceOrientation&&(d=e.deviceOrientation),p=e.size.windowWidth,f=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(l=!0),"auto"===e.pageOrientation.originalPageOrientation||l||(t=!1,r=!1)),void 0!==a.hr&&a.hr.isFramesetMode()&&(r=!1),t&&(u=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{c.indexOf(e)<0&&c.push(e)})),s||(s=setTimeout((()=>{s=null;var e=u;u=!1;var t=c;c=[];var r={deviceOrientation:o.deviceOrientation,size:o.size};e&&i.forEach((e=>{b.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==a.hr?a.hr.getPageByWebviewId(e):null;t&&b.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),16))};(0,n.n)("onViewDidResize",(e=>{h(e)}));var g=e=>{i.push(e)}},1602:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>v,UU:()=>c,V8:()=>b,ZA:()=>m,g4:()=>g,n6:()=>l,ye:()=>_});var n=r(6342),a=r(6142),i=r(5125),o=r(190),s=r(7445),u={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},c={OK:1,BLOCK:2,NO_BLOCK:3},l={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},d="该功能暂时无法使用",p=h.createLogger("BanForPage"),f=!1,g=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),v=[];function m(e){if(!e)return-1;var t=-1;try{t=v.findIndex((t=>(0,a.HD)(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){p.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return p.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function y(e,t,r){var n=function(e,t,r){for(var n=-1,i=0;i<v.length;i++){var o=v[i];if((!(0,a.HD)(o.path_rule)||!o.path_rule||new RegExp(o.path_rule).test(t))&&(!(0,a.HD)(o.title_rule)||!o.title_rule||new RegExp(o.title_rule).test(r))){n=i;break}}return p.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,r);return-1===n?(_(e,c.OK,l.API,e),!0):function(e,t){var r,n,a=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!a)return p.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(p.log("[checkAPIAvailableForPageByRule], found APIItem:",a),a.state===u.OK)r=!1;else if(a.state===u.BLOCK)r=!0;else if(a.state===u.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var i=a.toast_wording||d;(0,o.be)("showToast",{title:i,icon:"none"})}return n=r?e.is_valid?c.BLOCK:c.NO_BLOCK:c.OK,_(t,n,l.API,t),1!==e.is_valid||!r}(v[n],e)}function b(e){var t=Object.keys(i.Z.query).reduce(((e,t)=>[...e,`${t}=${i.Z.query[t]}`]),[]).join("&");return y(e,i.Z.lastRoute+(t?`?${t}`:""),i.Z.navigationBarTitleMap[i.Z.lastRoute]||"")}function _(e,t,r,a="",s=""){if(p.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${a}, needReport=${f}`),f){var{appLaunchInfo:u}=n.default,c=Object.keys(i.Z.query).map((e=>`${e}=${i.Z.query[e]}`)).join("&"),l={session_id:u.sessionid||u.sessionId,cur_path:i.Z.lastRoute+(c?`?${c}`:""),title:i.Z.navigationBarTitleMap[i.Z.lastRoute],check_scene:r,block_status:t,extra_info:a,launch_scene:u.scene,launch_path:u.path,target_path:s};p.log("[reportAPIBanForPage], reqData:",l),(0,o.yD)({reqData:l,apiName:"webapi_reportnvgcheckinfo",complete(e){p.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}n.default.onReady((()=>{if(!s.gm)try{var{do_report:e,navigate_ban_rule_list:t}=n.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;v=t,f=1===e,g=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),g))}catch(e){p.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}))},1399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,a:()=>i});var n=null,a=new Proxy({},{get(e,t,r){if(!n)throw new Error("NativeGlobal not ready");return Reflect.get(n,t,r)},set(e,t,r,a){if(!n)throw new Error("NativeGlobal not ready");return Reflect.set(n,t,r,a)}});function i(e){o.onLoad((()=>{e(a)}))}o.onLoad((()=>{n="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const s=a},6342:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=(()=>(i.onReady((()=>{n!==i&&void 0!==n&&Object.assign(n,i)})),i))();const a=n},4899:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=null,a=!1;function i(){if(!a)throw new Error("WeixinArrayBuffer not ready");return n}o.onLoad((()=>{n=r.g.WeixinArrayBuffer,a=!0}))},3749:(e,t,r)=>{"use strict";r.d(t,{XG:()=>T,SO:()=>f,iq:()=>I,eJ:()=>v,QE:()=>y});var n=r(6385),a=r(6142);const i={};var o=r(8089),s=r(5133),u=r(2908),c=r(6335),l=r(4606),d=new WeakSet,p=["showModal","showToast","showLoading"];function f(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!s.Mw.includes(t)&&r)))}function g(e,...t){(0,a.mf)(e)&&e(...t)}function v(e,t,r,n=!1){var a=(0,c.M8)(),i=Date.now();return(s,u,c=!1)=>{(0,o.m)(e,a,t,null===u?0:1,i,0,u,r,n),!c&&(0,o.m)(e,a,t,s?1:0,i,1,u,r,n,!0)}}function y(e,t){!function(e,t,r,i,s=!1){if(!(0,a.Kn)(t))return;var l=new b;for(var d of Object.getOwnPropertyNames(t))if(f(t,d)){var p=Object.getOwnPropertyDescriptor(t,d);if(p.get||!p.writable||!(0,a.mf)(t[d]))return;l.set(d,t[d])}var h=Object.getPrototypeOf(t);for(var g of Object.getOwnPropertyNames(h))if(!f(h,g)){var v=Object.getOwnPropertyDescriptor(h,g);if(v.get||!v.writable||!(0,a.mf)(h[g]))return;l.set(g,h[g])}l.forEach(((a,l)=>{var d;t[l]=new Proxy(t[l],{construct(t,a){var l,p=(0,u._K)(e),f=null!==(l=null==p?void 0:p.ratio)&&void 0!==l?l:r,h=1===(null==p?void 0:p.ratio)||s,g=w()<f,v=(0,n._getCurrentNetworkType)(),m=Date.now(),y=(0,c.M8)();d=a;try{var b=Reflect.construct(t,a);return g&&(0,o.m)(e,y,a,null===b?0:1,m,v,0,b,i,h),b}catch(t){throw g&&(0,o.m)(e,y,d,0,m,v,0,t,i,h),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}("",e,1,t,!1)}var b=Map,w=Math.random,I=(e,t)=>!!(0,u.eF)(e)||!(0,u.M)(e)&&(!i[e]&&(!(0,a.Kn)(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function S(e,t,r,i,s,f,v){var y=function(b,...S){var C,T,A=!1,P=(0,u._K)(e),E=null!==(C=null==P?void 0:P.ratio)&&void 0!==C?C:s,x=1===(null==P?void 0:P.ratio)||v,M=w()<E,D=(0,c.M8)(),R=m.getAsyncCallApiRelatedEvent();(T=m.getTrackUserAction())&&m.pushApiToEventApiList(e,D);var L=Date.now(),O=S.length?[b,...S]:b,N=!0;Promise.resolve().then((()=>{N=!1}));var j=()=>!N;try{var B,F=arguments.length?[I(e,b)?b:Object.assign({},b,{..."request"===e?{__wx_inner_uuid__:D,__wx_inner_invokeTime__:L,__wx_inner_request_network_type__:(0,n._getCurrentNetworkType)(),__wx_request_route_path__:m.getCurrentRoutePath()}:{},success:t=>{var r;(0,l.d)(e,{res:t}).then((r=>{x=x||r||A,(r||M||A)&&(!x||!_.isLimitReport(21688))&&(0,o.m)(e,D,O,1,L,1,t,f,x,j())})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),p.includes(e)&&m.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&m.traceApi(e,b,t,null,D,Date.now()-L,!0),T&&(r=m.setAsyncCallApiRelatedEvent(T)),g(b&&b.success,t),T&&!1!==r&&setTimeout((()=>m.clearAsyncCallApiRelatedEvent(T)),m.getAsyncCallbackJoinEventInterval())},fail:t=>{var r;(0,l.d)(e,{res:t}).then((r=>{x=x||r||A,(r||M||A)&&(!x||!_.isLimitReport(21688))&&(0,o.m)(e,D,O,0,L,1,t,f,x,j())})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),p.includes(e)&&m.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&m.traceApi(e,b,t,!0,D,Date.now()-L,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&_.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),(0,a.mf)(b&&b.fail)?(T&&(r=m.setAsyncCallApiRelatedEvent(T)),g(b&&b.fail,t),T&&!1!==r&&setTimeout((()=>m.clearAsyncCallApiRelatedEvent(T)),m.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)}}),...S]:[];B=this instanceof y?Reflect.construct(t,F,t):Reflect.apply(t,r,F),m.traceApi(e,b,B,null,D,Date.now()-L,!1,{relatedEvent:R});var U=null===B?0:1;return(0,l.d)(e,{req:O,res:B}).then((t=>{t&&(A=!0),x=x||t,(t||M)&&(!x||!_.isLimitReport(21688))&&(0,o.m)(e,D,O,U,L,0,B,f,x)})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),i&&(0,a.Kn)(B)&&!d.has(B)&&(k(e,B,!1,s,f,x,!1),d.add(B)),B}catch(t){throw m.traceApi(e,b,null,!0,D,Date.now()-L,!1,{errMsg:t,relatedEvent:R}),(0,l.d)(e,{req:O}).then((r=>{r&&(A=!0),x=x||r,(r||M)&&(!x||!_.isLimitReport(21688))&&(0,o.m)(e,D,O,0,L,0,t,f,x)})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),t}};return y}function k(e,t,r,n,i,o,s){if(!(0,a.Kn)(t))return t;var u,c=new b;for(var l of Object.getOwnPropertyNames(t))(u=f(t,l))&&c.set(l,u);var d=Object.getPrototypeOf(t);for(var p of Object.getOwnPropertyNames(d))(u=f(d,p))&&!u.get&&c.set(p,u);return c.forEach(((u,c)=>{if(s&&u.get)Object.defineProperty(t,c,{get:(d=function(){var l=u.get.apply(this);return(0,a.mf)(l)?S(`${e}${e?".":""}${c}`,l,t,r&&"Sync"!==c.slice(-4),n,i,o):(0,a.Kn)(l)&&s?k(`${e}${e?".":""}${c}`,l,r,n,i,o,s):void 0},function(){return p=p||d.apply(this)}),set:u.set,enumerable:u.enumerable,configurable:u.configurable});else{var l=u.value;if(!u.writable)return;(0,a.mf)(l)?t[c]=S(`${e}${e?".":""}${c}`,l,t,r&&"Sync"!==c.slice(-4),n,i,o):(0,a.Kn)(l)&&s&&(t[c]=k(`${e}${e?".":""}${c}`,l,r,n,i,o,s))}var d,p})),t}var C=!1;function T(e,t=0){k("",e,!0,.05,t,!1,!0),function(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var a=r.getContext;r.getContext=(...e)=>{var t=a.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{C||(C=!0,(0,o.m)("WebGLRenderingContext.compressedTexImage2D",(0,c.M8)(),{},1,Date.now(),(0,n._getCurrentNetworkType)(),0,void 0)),i.call(t,...e)}}return t}}return r}}}(e)}},2900:(e,t,r)=>{"use strict";r.d(t,{jC:()=>i,uC:()=>s,vC:()=>o});var n=r(190),a={},i={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188},o=e=>{if(a[e])return a[e];var t={},r=Object.values(i);return(0,n.IN)("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var o=0;o<i[e].length;o++){var s=r[o];t[s]=1===i[e][o]}a[e]=t}},fail(e){}}),t},s=(e,t)=>{var r=i[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):a[e]?a[e][r]:(o(e),a[e]&&a[e][r])}},88:(e,t,r)=>{"use strict";r.d(t,{J:()=>u});var n=r(190),a=r(6142),i=r(6342),o=r(9822),s={};i.default.onReady((()=>{var e=Object.keys(o.Z).map((e=>o.Z[e]));(0,n.IN)("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var r=0;r<t.permissionBytes.length;r++){var n=e[r];s[n]=1===t.permissionBytes[r]}},fail(e){}})}));var u=e=>{var t=o.Z[e];if("number"!=typeof t)return!1;if(!(0,a.o8)(s[t]))return s[t];var r=!1;return(0,n.IN)("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(r=1===e.permissionBytes[0],s[t]=r)}}),r}},1197:(e,r,n)=>{"use strict";n.d(r,{o:()=>p});var a=n(3888),i=n.n(a),o=n(190),s=n(869),u=n(6342),c=n(5428),l=null,d=void 0!==t&&t?t.version:"unknown";var p=function(){var e=i()((function*(){return yield c.v8,e=-1,(0,s.getSystemInfo)({success(t){e=t.benchmarkLevel}}),l||(l=new Promise(((t,r)=>{var n,a=(0,c.Q1)();(0,o.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:u.default.clientVersion,pub_version:d,performance:e,instance_id:u.default.appLaunchInfo.sessionid||u.default.appLaunchInfo.sessionId,...a?{xnet_conf_list:[a]}:{}},success:(n=i()((function*(e){t(e)})),function(e){return n.apply(this,arguments)}),fail:r,complete:void 0})})),l);var e}));return function(){return e.apply(this,arguments)}}()},5436:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(6142);class a{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,n.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==b)b.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==y)y.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},7445:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>l,DD:()=>d,Dq:()=>p,HI:()=>S,KU:()=>y,LU:()=>w,Mq:()=>c,RF:()=>b,aI:()=>m,cj:()=>s,er:()=>g,fs:()=>h,gm:()=>i,iw:()=>a,jP:()=>f,oS:()=>v,qB:()=>u,tK:()=>I,wZ:()=>o});var n=r(6342),a=(()=>n.default.platform)(),i=(()=>"devtools"===a)(),o=(()=>"android"===a)(),s=(()=>"ios"===a)(),u=(()=>"windows"===a)(),c=(()=>"mac"===a)(),l=(()=>"mina"===a)(),d=(()=>u||c)();function p(){if(n.default&&"debug"in n.default&&void 0!==n.default.debug)return!!n.default.debug}var f=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function h(){return r.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function g(){var e=n.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function v(){var e=!0;return e}function m(){return!0}var y=(()=>!1)();function b(){return 0===n.default.appType}var _=[0,1,2,3,5,6,8,9,10,11,12,13];function w(){return _.includes(n.default.appType)}function I(){return 7===n.default.appType}function S(){return 10===n.default.appType}},1591:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,l:()=>n});class n extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class a extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}Object.freeze(a),Object.freeze(a.prototype)},9766:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(9661),a=(()=>new n.Z({maxListeners:20,newListener:!1}))(),i=(()=>new n.Z({maxListeners:30,newListener:!1}))();var o={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!o[e]){var t=new WeakMap;o[e]={getGlobalListeners:()=>a.listeners(e),getInternalListeners:()=>i.listeners(e),emit:(...t)=>{i.emit(e,...t),a.emit(e,...t)},emitGlobal:(...t)=>{a.emit(e,...t)},emitInternal:(...t)=>{i.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?i.prependOnceListener(e,t):i.prependListener(e,t):r.once?i.once(e,t):i.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&i.off(e,t)},onMethod:r=>{var n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):b.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);a.on(e,n)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>a.off(e,t))),t.delete(r)}}else t=new WeakMap,a.removeAllListeners(e)}}}return o[e]}},9661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l,y:()=>c});var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=20;function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:i,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=i}function u(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function c(e){this._events={},this._newListener=!1,this._removeListener=!1,s.call(this,e)}c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},c.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},c.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},c.prototype._many=function(e,t,r,n){var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&a.off(e,i),r.apply(this,arguments)}return i._origin=r,this._on(e,i,n),a},c.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,a,i,s=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=e,s){case 1:i[n].call(this,e);break;case 2:i[n].call(this,e,arguments[1]);break;case 3:i[n].call(this,e,arguments[1],arguments[2]);break;default:i[n].apply(this,t)}}if("function"==typeof(i=this._events[e])){switch(this.event=e,s){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];i.apply(this,t)}return!0}if(i&&(i=i.slice()),i&&i.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=e,s){case 1:i[n].call(this);break;case 2:i[n].call(this,arguments[1]);break;case 3:i[n].call(this,arguments[1],arguments[2]);break;default:i[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,a,i,s=[],u=arguments.length;if(this._all){if(u>3)for(t=new Array(u),a=1;a<u;a++)t[a]=arguments[a];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,u){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if("function"==typeof(i=this._events[e]))switch(this.event=e,u){case 1:s.push(i.call(this));break;case 2:s.push(i.call(this,arguments[1]));break;case 3:s.push(i.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];s.push(i.apply(this,t))}else if(i&&i.length){if(i=i.slice(),u>3)for(t=new Array(u-1),a=1;a<u;a++)t[a-1]=arguments[a];for(n=0,r=i.length;n<r;n++)switch(this.event=e,u){case 1:s.push(i[n].call(this));break;case 2:s.push(i[n].call(this,arguments[1]));break;case 3:s.push(i[n].call(this,arguments[1],arguments[2]));break;default:s.push(i[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this},c.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r});for(var o=0;o<i.length;o++){if(r=i[o]._listeners,a(r)){for(var s=-1,u=0,c=r.length;u<c;u++)if(r[u]===t||r[u].listener&&r[u].listener===t||r[u]._origin&&r[u]._origin===t){s=u;break}if(s<0)continue;return this._events[e].splice(s,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var a in r){var i=r[a],o=t[i];o instanceof n||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},c.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||o.call(this),this):(this._events&&delete this._events[e],this)},c.prototype.listeners=function(e){return this._events||o.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]};const l=c},1708:(e,r,n)=>{"use strict";n.d(r,{k:()=>o,n:()=>s});var a=void 0!==t&&t?t.version:"unknown",i=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof a&&(a=a.replace(" ","")),"string"==typeof i&&(i=i.replace(" ","-"));var o=()=>a,s=()=>i},5933:(e,t,r)=>{"use strict";r.d(t,{HM:()=>a,bq:()=>i});var n=(0,r(9766).s)("lifeCycle:AppRoute"),a=n.internalOnMethod,i=n.internalOffMethod;n.emit.bind(n)},9822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={openAddress:62,setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,insertLivePusher:360,updateLivePusher:361,removeLivePusher:362,operateLivePusher:363,insertLivePlayer:364,updateLivePlayer:365,removeLivePlayer:366,operateLivePlayer:367,openOfflinePayView:403,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,insertVoIPView:623,updateVoIPView:624,removeVoIPView:625,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,operateMediaContainer:686,operateMediaTrack:687,launchApp:692,sendBizRedPacketForOpen:694,openVideoEditor:705,operateMediaRecorder:712,onMediaRecorderStateChange:713,openWxappLimit5:720,shareCallback:740,operateCanvasPlayer:741,onCanvasPlayerStateChange:742,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,subscribeVoIPMembers:780,onVoIPVideoMembersChanged:781,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,requestLivePlayerPictureInPicture:930,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,openChannelsCreateContact:985,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,showSalesDrivingMenu:1003,onSalesDrivingMessage:1004,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,reportRequestError:1069,traceUAReport:1079,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,setFileSpaceStatistics:1168,setFileSpaceStatisticsSwitch:1174,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,setupUserBehaviorAnalytics:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235}},4317:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});class n{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new n((t=>t(e)))}static reject(e){return new n((()=>{throw e}))}}},143:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,v:()=>a});var n={},a=e=>{if(!n[e]){var t={},r={},a={},o={on:(r,n)=>{t[r]&&console.warn(`基础库分包 ${e} on event: ${r} has subscribe listener`),t[r]=n,a[r]&&(a[r].forEach((e=>{n(e)})),delete a[r])},subscribe:(n,i)=>{t[n]&&console.warn(`基础库分包 ${e} subscribe event: ${n} has on listener`),r[n]||(r[n]=[]),r[n].push(i),a[n]&&(a[n].forEach((e=>{i(e)})),delete a[n])},publish:(e,n)=>{var a,i;return(a=t[e])?(a(n),!0):!!(i=r[e])&&(i.forEach((e=>e(n))),!0)},advancePublish:(e,t)=>{i(e,t)||a[e]||(a[e]=[]),a[e].push(t)}};return n[e]=o,o}console.warn(`已经存在分包EM ${e}`)},i=(e,t,r,a)=>{var i=n[e];i&&(a?i.advancePublish(t,r):i.publish(t,r))}},1709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Component:()=>_.wA,KeyValueReport20267:()=>x.v,Quality:()=>M.n,_offKeyboardHeightChange:()=>I.M2,_onBaseFrameShow:()=>d.OQ,_onGameLiveStateChange:()=>i.DT,_onHide:()=>l.vv,_onKeyboardHeightChange:()=>I.LK,_onShow:()=>c.dN,acceptSyncMainPackageNativeEventFromSubPackage:()=>w.ry,beforeInvokeCallback:()=>P.FE,beforeInvokeFail:()=>P.YG,createFeedbackLogger:()=>k.$,createScreenCanvas:()=>n.UG,design:()=>h,designStyle:()=>m,getAccountInfoSync:()=>S.E,getPrivateThis:()=>_.Wj,getSystemInfoSync:()=>a.getSystemInfoSync,hideKeyboard:()=>T.Sn,init:()=>_.S1,innerShareInvitationToLiveRoom:()=>y.rc,invokeOperateWXDataPromise:()=>A.Qh,offKeyboardComplete:()=>I.r,onAudioInterruptionBegin:()=>o.p$,onAudioInterruptionEnd:()=>s.aS,onDeviceOrientationChange:()=>L.Qq,onKeyboardComplete:()=>I.ri,onShow:()=>c.Ke,onWindowResize:()=>R.KN,packageChannel:()=>O,privateOpenUrl:()=>E.n,registerComponent:()=>C.RM,removePrivateThis:()=>_.bn,showKeyboard:()=>T.ez,showToast:()=>u.showToast,unregisterComponent:()=>C.d8,webviewLayout:()=>b.u});var n=r(2529),a=r(869),i=r(273),o=r(6589),s=r(1441),u=r(8059),c=r(7351),l=r(4599),d=r(6906);r(1709);const p=252,f=300;var h={ready:!1,position:{x:0,y:0},IS_DEVTOOLS:!1,designSize:{width:f,height:p},lockSize:{width:f,height:112},device:{width:f,height:p},screenWidth:0,screenHeight:0,toolWidth:32,headerHeight:48,initPosition:{x:16,y:16},safeArea:{left:0,top:0,right:0,bottom:0,width:0,height:0}},g={fill:16777215,fontSize:12,whiteSpace:"normal",textBaseline:"middle",lineHeight:16,dropShadow:!0,dropShadowColor:"rgba(0, 0, 0, 0.8)",dropShadowDistance:1},v=Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:f-72}),m={commonStyle:g,dataStyle:v,listStyle:Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:f-72}),tipsStyle:Object.assign({},v,{fill:10592673}),linkStyle:Object.assign({},v,{fill:8425639}),userNameStyle:Object.assign({},g,{fill:14737632}),contextStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:f-48}),joinStyle:Object.assign({},g,{lineHeight:20,breakWords:!0,wordWrap:!0,wordWrapWidth:f-56}),giftStyle:Object.assign({},g,{fill:9621832}),titleStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:f-184,dropShadow:!1}),shareTitleStyle:Object.assign({},g,{dropShadow:!1}),timeStyle:Object.assign({},g,{lineHeight:14,fontSize:10,dropShadow:!1}),tipStyle:Object.assign({},g,{fill:10592673,lineHeight:14,dropShadow:!1,wordWrapWidth:f,wordWrap:!1}),newMessageStyle:Object.assign({},g,{fill:0,lineHeight:12,dropShadow:!1}),toastStyle:Object.assign({},g,{fill:16777215,lineHeight:20,dropShadow:!1}),musicNameStyle:Object.assign({},g,{fill:"rgba(255, 255, 255, 0.5)",fontSize:10,wordWrapWidth:60,breakWords:!0,wordWrap:!0,dropShadow:!1}),systemTipsStyle:Object.assign({},g,{fill:"rgba(0, 0, 0, 0.9)",breakWords:!0,lineHeight:17,dropShadow:!1,wordWrap:!0,wordWrapWidth:f-(h.toolWidth+48)})};var y=r(6910),b=r(5943),_=r(3091),w=r(8246),I=r(9437),S=r(5692),k=r(2494),C=r(4545),T=r(2083),A=r(7520),P=r(190),E=r(3131),x=r(9499),M=r(3478),D=r(143),R=r(9464),L=r(9717),O=(0,D.v)("minigamelive")},6227:(e,t,r)=>{"use strict";r.d(t,{KF:()=>i,Q_:()=>n,gQ:()=>o});var n={uninjected:0,injected:1},a={minigamelive:n.uninjected,ad:n.uninjected,cloud:n.uninjected,protobuf:n.uninjected,ga:n.uninjected,kanata:n.uninjected,midas:n.uninjected,pixi:n.uninjected,sclengine:n.uninjected,minigamePlatform:n.uninjected},i=(e,t)=>{a[e]=t},o=e=>a[e]},6142:(e,t,r)=>{"use strict";r.d(t,{AT:()=>h,DM:()=>_,Em:()=>o,Ft:()=>d,HD:()=>s,Kn:()=>v,Qr:()=>I,U:()=>g,ZT:()=>A,e6:()=>T,eP:()=>S,fU:()=>k,hj:()=>u,i2:()=>p,jn:()=>c,kJ:()=>y,mf:()=>b,o8:()=>l,s$:()=>m,tI:()=>w,x7:()=>C});var a=(()=>Object.prototype.toString)(),i=n.prototype.call.bind(a);function o(e){return i(e).slice(8,-1)}var s=e=>"String"===o(e),u=e=>"Number"===o(e),c=e=>!0===e||!1===e||"Boolean"===o(e),l=e=>void 0===e,d=e=>null===e,p=(()=>Number.isNaN||(e=>e!=e))(),f=(()=>Number.isFinite||(e=>u(e)&&r.g.isFinite(e)))(),h=e=>u(e)&&Math.abs(e)===1/0,g=e=>f(e)&&Math.floor(e)===e,v=e=>"Object"===o(e),m=e=>v(e)&&!d(e),y=(()=>Array.isArray||(e=>"Array"===o(e)))(),b=e=>"function"==typeof e,_=e=>"Set"===o(e),w=e=>"Promise"===o(e),I=e=>{for(var t in e)return!1;return!0},S=e=>"ArrayBuffer"===o(e),k=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===o(e))(e);function C(e,t,r="parameter"){var n=o(t),a=o(e);if(a!==n)return`${r} should be ${n} instead of ${a};`;var i="";switch(n){case"Object":Object.keys(t).forEach((n=>{i+=C(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)i+=C(e[s],t[s],`${r}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return i}function T(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function A(){}},1868:(e,t,r)=>{"use strict";r.d(t,{NX:()=>s,Vl:()=>o});var n=r(8138),a=(()=>Object.assign)();var i=Symbol("ErrorInfosSymbol"),o=e=>(t={},...r)=>new Promise(((n,o)=>e(a({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=a({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));a(n,r),n[i]=r,o(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=a({},e);delete n.errMsg,a(r,n),r[i]=n,r._complete_hook=!0,o(r)}}}),...r)));function s(e,t){return(r={},...o)=>{var s={success:r.success,fail:r.fail,complete:r.complete};delete(r=a({},r)).success,delete r.fail,delete r.complete,t(r,...o).then((t=>(0,n.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,n.S3)({name:e,args:s,errMsg:t.message,res:t[i]||{}}):(0,n.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[i]||{}})}))}}},1190:(e,t,r)=>{"use strict";r.d(t,{EL:()=>c,RG:()=>u,sM:()=>s});var n=r(1591),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,i=String(e),o="",s=0,u=a;i.charAt(0|s)||(u="=",s%1);o+=u.charAt(63&t>>8-s%1*8)){if((r=i.charCodeAt(s+=3/4))>255)throw new n.l("btoa failed");t=t<<8|r}return o}function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new n.l(`atob failed: invalid string length ${t.length}`);for(var i,o,s=0,u=0;o=t.charAt(u++);~o&&(i=s%4?64*i+o:o,s++%4)?r+=String.fromCharCode(255&i>>(-2*s&6)):0)o=a.indexOf(o);return r}function s(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,a=0;a<n;a++)r+=String.fromCharCode(t[a]);return i(r)}function u(e){for(var t=o(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n.buffer}var c=e=>(e=>decodeURIComponent(o(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))(e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="))},8007:(e,t,r)=>{"use strict";r.d(t,{b:()=>a,c:()=>i});var n=r(6142);function a(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function i(e,t=!0){var r=(0,n.Em)(e);switch(r){case"Number":case"Boolean":return e;case"String":return a(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${i(e.message)}|${i(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${i(t)}=${i(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var o=[];return t?(e.forEach((e=>o.push(i(e,"Array"!==(0,n.Em)(e))))),o.join(";")):`[${r}]`;default:return`[${r}]`}}},8929:(e,t,r)=>{"use strict";r.d(t,{Hw:()=>s,M8:()=>i,Qu:()=>o,Yt:()=>d,gA:()=>p,op:()=>c});var n=r(6142),a=(()=>Object.assign)();function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function o(e,t,r){var n=p(r.value);return r.value=function(){return n.apply(this,arguments)},r}function s(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?_.thirdErrorReport({error:e,extend:t}):_.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function u(e){var t=(0,n.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var c=s(u,"anyTypeToString");function l(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var d=s(l,"stringToAnyType");function p(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:o}=t;return n||i||o?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var o=a({success:n,fail:i},t);e.apply(this,[o].concat(r))}))}}},8422:(e,t,r)=>{"use strict";r.d(t,{f$:()=>d,pO:()=>u});var n=r(6142);var a={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`};function i(e){var t=function(e){var t=(0,n.Em)(e);if("Number"===t){if((0,n.i2)(e))return"NaN";if((0,n.AT)(e))return"Infinity"}else if("Object"===t){if((0,n.Ft)(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&(0,n.fU)(e))return"TypedArray";return t}(e);return t in a?a[t]?(0,n.mf)(a[t])?[a[t](e),!0]:[a[t],!0]:[e,!0]:[null,!1]}function o(e){var t=new WeakMap,r=0;return function e(a,o){var s,[u,c]=i(a);return c?u:r>3e3?"<Hidden>":t.has(a)?`<Circular: ${t.get(a)}>`:(t.set(a,o),r++,(0,n.kJ)(a)?a.map(((t,r)=>e(t,`${o}[${r}]`))):(s={},Object.keys(a).forEach((t=>{s[t]=e(a[t],`${o}.${t}`)})),s))}(e,"@")}function s(e,t){try{return(e=Array.prototype.slice.call(e)).map(o)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var u={LOG:0,INFO:1,WARNING:2,ERROR:3,DEBUG:4,TIME:5,TIME_END:5},c=1048576,l=2097152;function d(e,t,r=!0){if(r||e===u.WARNING||e===u.ERROR)try{var n=s(t);if(void 0===n)return;var a=JSON.stringify({level:e,logs:n});return a.length>c&&!r||a.length>l&&r?JSON.stringify({level:e,logs:["<LOG_EXCEED_MAX_LENGTH>"]}):a}catch(e){return void console.warn("[console] This object can not be logged")}}},2805:(e,t,r)=>{"use strict";function n(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function a(e,t){for(var r in t)e[r]=t[r];return e}r.d(t,{f0:()=>n,l7:()=>a,nr:()=>o});var i=Object.prototype.hasOwnProperty;function o(e,t){return i.call(e,t)}},5133:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>a,Tk:()=>s,d7:()=>i,ic:()=>u});var n=r(7445),a=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],i=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],o=[{match:/^connectSocket/,version:1},{match:/^request/,version:n.wZ?3:1},{match:/^downloadFile/,version:n.wZ?3:1}];function s(e,t){o.push({match:e,version:t})}var u=e=>{var t=0;return o.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t}},2908:(e,r,n)=>{"use strict";n.d(r,{_K:()=>x,eF:()=>M,M:()=>D});var a,i,s=n(190),u=n(2422),c=n(6342),l=n(3329),d=n(4606),p=n(88),f=new Promise(((e,t)=>{a=e,i=t})).catch((e=>{})),g=()=>{(0,s.Qh)({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;n,a(n)})).catch((e=>{i()}))};c.default.onReady((()=>{(0,p.J)("WxaQualityOssRuleConfig")?g():i()}));var v=n(9806),y=n(5179),b=n(7172),_=(n(7445),n(5428)),w=n(6551),I="wxfile://ad/sdk_dynamic_item.json",S=6048e5,k=864e5,C={},T=Math.random,A=()=>{try{var e=void 0!==t&&t?t.version:"unknown";return(0,w.yC)(e,"2.22.1")?"2230_":(0,w.yC)(e,"2.21.4")?"2215_":""}catch(e){return""}},P=(0,v.Fr)(y.p),E=(0,v.Fr)(b.N);c.default.onReady((()=>{var e=A()+"WeAppRequestError",t=A()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",a={[t]:S,[e]:k,[r]:S,[n]:k},i={[t]:null,[e]:null,[r]:null,[n]:null};P({filePath:I,encoding:"utf-8"}).then((e=>{(0,p.J)("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=a[t]||(i[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==o){var a=[];(p=[e,r,t,n].filter((e=>(i[e]&&a.push(e),!i[e]))),p.length?(0,s.Qh)({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:p}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,p=o.data.conf_item_list;a.forEach((e=>{p.push({item_name:e,item_info:i[e].cache_info})}));try{p&&(p.forEach((e=>{switch(e.item_name){case t:try{var a=JSON.parse(e.item_info);C=a,(0,d.f)(a)}catch(e){}break;case r:try{var i=JSON.parse(e.item_info);s=(0,u.ap)(i),(0,_.gd)()}catch(e){}break;case n:try{var o=JSON.parse(e.item_info);m.setQualityConfig(o)}catch(e){}}})),Object.values(i).filter((e=>null===e)).length&&E({filePath:I,data:JSON.stringify({...p.reduce(((e,t)=>(null===i[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:i[t.item_name]&&(e[t.item_name]=i[t.item_name]),e)),{})})}).catch((e=>{})));var g=T()<=.05;if(g&&(0,u._C)(),!s&&!g)return;var v=p.find((t=>t.item_name===e));if(v){var y;f.then((e=>{y=e})).catch((()=>{})).finally((()=>{var e;(0,l.k)().runTask("createWeAppRequestInterpreter",{rules:v.item_info,appid:null===c.default||void 0===c.default||null===(e=c.default.accountInfo)||void 0===e?void 0:e.appId,userRules:y||""}).catch((e=>{h.error("createWeAppRequestInterpreter occer error:",e)}))}));var b=JSON.parse(v.item_info);m.convert24247SchemaToSensitiveQueryJudgeSchema(b)}}catch(e){}}catch(e){}})).catch((e=>{(0,_.gd)()}))}var p}))}));var x=e=>C[e],M=e=>{var t;return!1===(null===(t=C[e])||void 0===t?void 0:t.hook)},D=e=>{var t;return!0===(null===(t=C[e])||void 0===t?void 0:t.hook)}},4606:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,f:()=>l});var n,a,i=r(6342),o=r(3329),s=(e={})=>[e.req,e.res].map(((e,t)=>e?((e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}))(e,t):null)).filter((e=>null!==e)),u={},c=(e,t)=>{if(!u[e])return Promise.resolve(!1);var r=(0,o.k)().runTask("resolveApiFullRule",{rules:a?null:n,data:{[e]:t},appid:i.default.accountInfo.appId});return a||(a=!0),r.then((e=>e.result))},l=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),u[e]=!0)})),(e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...s(n)]}}));n={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}})(t)}},8089:(e,t,r)=>{"use strict";r.d(t,{m:()=>I});var n=r(6385),a=r(88),i=r(6342),s=r(8602),u=r(8246),c=r(5133),l=r(6142),d=r(2908),p=(e,t,r=!1)=>{var n;if(!(0,l.Kn)(t)&&!Array.isArray(t))return t;var a=(0,d._K)(e);if(!a)return t;if(Array.isArray(null==a||null===(n=a[r?"res":"req"])||void 0===n?void 0:n.filter)){var i={};for(var o of Object.getOwnPropertyNames(t))a[r?"res":"req"].filter.includes(o)||(i[o]=t[o]);return Array.isArray(t)&&(i=Array.from(i)),i}return t},f=r(6335),h=r(1708),g=0,v="",m=Date.now(),y=m,b=m;o.onLoad((()=>{var e=Date.now();y=e,b=e}));var w={};function I(e,t,r,o,u,l,d,m,I,S,k){var C,T;for(var A of c.d7)if(A.test(e)){r="";var P=d;o&&(d=""),"request"===e&&o&&!I&&1===l&&(0,a.J)("reportRresult")&&(d=null==P?void 0:P.data);break}var E,x=s.Z.get("api_call_from_hot_boot_time",b);E=void 0===S?-1:S?1:0;var M=Date.now(),D=[e,t,(0,f.cv)(p(e,r)),o,u,0===l?k:M-u,(0,n._getCurrentNetworkType)(),l,(0,f.cv)(p(e,d,!0)),i.default.appType+1e3,g,(0,h.k)(),(0,h.n)(),(0,c.ic)(e),m,(0,f.FZ)(),v,M-y,M-x,encodeURIComponent(w.scene_note||w.sceneNote),null===(C=d)||void 0===C?void 0:C.errno,E,null===(T=d)||void 0===T?void 0:T.errCode].map((0,f.bv)(1024)).join(",");I||1!==l||(_.reportIDKey({key:"asyncApiCount"}),_.reportIDKey({key:"asyncApiCost",value:M-u})),I&&_.reportKeyValue({key:"WeAppInvoke2",value:D}),_.reportKeyValue({key:"WeAppInvoke",value:D})}s.Z.set("appLaunchInfo",w),i.default.onReady((()=>{var e=Date.now();y=e,b=e,g=i.default.appLaunchInfo.scene,v=i.default.appLaunchInfo.sessionid||i.default.appLaunchInfo.sessionId,Object.assign(w,i.default.appLaunchInfo),(0,u.n)("onAppEnterForeground",(e=>{Object.assign(w,e),b=Date.now(),e&&e.scene&&(g=e.scene),e&&(e.sessionid||e.sessionId)&&(v=e.sessionid||e.sessionId)}))}))},6335:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>i,M8:()=>o,bv:()=>a.b,cv:()=>a.c});var n=r(9370),a=r(8007);function i(){if(void 0===n.hr)return"";var e=n.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function o(){return 1e4*Date.now()+Math.round(9999*Math.random())}},6347:(e,t,r)=>{"use strict";r.d(t,{HR:()=>c,Pp:()=>o,Uj:()=>f,Z8:()=>i,cE:()=>l,en:()=>s,mQ:()=>d,wK:()=>u,yP:()=>p});var n=r(7445),a=r(2805);function i(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function o(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}function s(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var u=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function c(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if((0,a.nr)(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function l(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),i=n[0],o=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],a=r[1];e[n]=a}return e}),{}),s=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return i+"?"+c((0,a.f0)(o,s))}return e}function d(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function p(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],a=r[1];e[n]=a}return e}),{}),i=[];for(var o in n)(0,a.nr)(n,o)&&i.push(`${o}=${encodeURIComponent(n[o])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function f(e){if(!n.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",a=r.length>0?"&":"";e=`${t[0]}?${r}${a}devtools_ignore=true`}return e}},6551:(e,r,n)=>{"use strict";n.d(r,{cv:()=>u,sb:()=>i,yC:()=>o});var a=void 0===t?{version:"9.9.9",updateTime:"unknown"}:t,i=()=>({updateTime:a.updateTime,version:a.version});function o(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),a=Math.max(r.length,n.length);r.length<a;)r.push("0");for(;n.length<a;)n.push("0");for(var i=0;i<a;i++){var o=parseInt(r[i],10),s=parseInt(n[i],10);if(o>s)return 1;if(o<s)return-1}return 0}function s(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function u(e,t){return e||t?e?t?o(s(e),s(t)):1:-1:0}},3329:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var n=r(9661),a=null;o.onLoad((()=>{o.globalShare.reusableWorkerId&&s(o.globalShare.reusableWorkerId)}));var i,s=e=>{a=e},u=()=>a;function c(){d.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:r,callbackId:n,data:a}=t.data;if("callback"===r){var{result:i,errMsg:o}=a;this.emitter.emit(n,i,o)}}}}))}class l{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new n.Z,c.call(this)}constructor(){if(u())this.init(u());else{var{workerId:e}=d.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var a=String(this.generateCallbackId());this.emitter.once(a,((e,t)=>{t?n(new Error(t)):r(e)}));var i={cmd:e,callbackId:a,data:t};i={data:i},d.postMsgToWorker(this.workerId,i)}))}}var p=()=>i||(i=new l)},5019:(e,t,r)=>{"use strict";r.d(t,{I:()=>c});var n=r(8246),a=r(6342),i=r(1385),o=r(7118),s="",u=(e={})=>{try{s=e.transitExtraData.adUxInfo}catch(e){s=""}};a.default.onReady((()=>{u(a.default.appLaunchInfo)})),(0,n.n)("onAppEnterForeground",(e=>{u(e)})),(0,n.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(s="")})),(0,o.L)("getAdUxInfo",((e,t)=>{(0,i.nY)("adUxInfoGot",{adUxInfo:s,callbackId:e.callbackId},[t])}));var c=()=>s},8605:(e,t,r)=>{"use strict";r.d(t,{d:()=>m,N:()=>b});var n=r(6342),a=r(9822),s=null,u=[],l=e=>{null!==s?e():u.push(e)},d=e=>{s=e.data.pluginPermissionBytes,u.forEach((e=>e())),u=[]};c.subscribe("batchGetPluginPermissionBytes",d),o.onLibraryEnd((()=>{void 0!==y&&"function"==typeof y.onSubContextMessage&&y.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&d(e)}))})),c.subscribe("getPluginPermissionBytesByJsApi",(e=>{h(e.data.pluginId,e.data.apiName,(t=>{c.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var p=e=>e.split("/",1)[0],f=(e,t)=>{var r,n,a=null===(r=s)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==a?a=[0,0,0]:"object"!=typeof a&&(a=[a,a,a]),a};function h(e,t,r){e=p(e),i.supportInvokeWithAppId?c.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[a.Z[t]]}]},(t=>{var n=t.pluginPermissionMap[e][0];r([n,n,n])})):l((()=>{var n=f(e,t);r(n)}))}var g=r(7445),v=r(5019);function m(e,t,r,a={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,v.I)());a.appId;return"splashad"===o.env.workerType||n.default.supportInvokeWithAppId,c.invoke(e,t,r,a)}function b(e,t,r,n={}){if(g.wZ)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return c.invokeThird(e,t,r,n)}},7132:(e,t,r)=>{"use strict";r.d(t,{n:()=>o,on:()=>a,p:()=>i});var n=Object.create(null);function a(e,t){return n[e]instanceof Array?(n[e].push(t),null):(n[e]=null,c.on(e,t))}function i(e){return null===n[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(n[e]=[],c.on(e,((...t)=>{var r=n[e];for(var a of r){if(!1===a(...t))break}})),t=>{n[e].unshift(t)})}function o(e){if(null===n[e])return console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null;n[e]=[];var t=!1,r=10086;return c.on(e,((...a)=>{t||(r=a);var i=n[e];for(var o of i){if(!1===o(...a))break}})),a=>{n[e].unshift(a),10086!==r&&(n[e].forEach((e=>{e(...r)})),r=10086),t=!0}}},2352:(e,t,r)=>{"use strict";var n;r.d(t,{be:()=>i.be,F0:()=>i.F0,NJ:()=>i.NJ,IN:()=>i.IN,bb:()=>i.bb,qu:()=>i.qu,oQ:()=>i.oQ,jQ:()=>u.j,nY:()=>o.nY,Ld:()=>s.L,yt:()=>i.yt});const a={get invoke(){return n},set invoke(e){n=e}};var i=r(5168),o=r(1385),s=r(7118),u=r(9533);r(2235);a.invoke=i.IN},5168:(e,t,r)=>{"use strict";r.d(t,{be:()=>ue,F0:()=>K,NJ:()=>oe,IN:()=>re,bb:()=>ne,qu:()=>ae,oQ:()=>te,ei:()=>q,yt:()=>H});var a=r(8605),i=r(190),s={},u={},l={},d=0,p=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),f=()=>{var e=p(1,s),t=p(2,u),r=p(3,l),n=[].concat(e,t,r);0!==n.length&&(0,i.IN)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:_.getAppType()})}),s={},u={},l={}},h=(e,t,r,n,a)=>{var i;(i=t?s:r?u:l)[e]=i[e]||{},i[e][a]=(i[e][a]||0)+1,Date.now()-d>=6e4&&(d=Date.now(),setTimeout(f,6e4))},g=r(8929),v=r(1868),m=r(1602),y=r(6142),w=n.prototype.call.bind(Array.prototype.push),I=(n.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),S=[],k={appRoute:!1,appRouteDone:!1},C=r(7445),T=r(6342),A=r(8246),P=r(9370),E=r(1708),x=r(8007),M=(()=>{var e={};return T.default.onReady((()=>{Object.assign(e,T.default.appLaunchInfo),(0,A.n)("onAppEnterForeground",(t=>{Object.assign(e,t)}))})),e})();function D(){if(void 0===P.hr)return"";var e=P.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var R=(()=>Array.prototype.map)(),L=n.prototype.call.bind(R),O=(()=>Array.prototype.join)(),N=n.prototype.call.bind(O);var j,B=(()=>Object.create)(),F=(()=>Object.assign)(),U=(()=>Object.keys)(),W=(()=>Array.prototype.reduce)(),G=Array.prototype.includes.bind(I),V=n.prototype.call.bind(W),$=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function q(e){void 0===j&&(j=e)}function z(e,t){return V(U(e),((r,n)=>("function"==typeof e[n]&&(r[n]=b.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function K(e,t,r,n,a){e.errMsg=e.errMsg||`${t}:ok`;var i=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),i?function(e,t,r,n,a){var i=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,i):(n.beforeSuccess(r),i()):i(),"function"==typeof j&&j(t,a)}(r,t,e,n,a):o?function(e,t,r,n){var a=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(a,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,r,n):s&&function(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),(0,y.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||_.reportIDKey({key:`${t}_fail`})}(n,t,e,r),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),h(t,i,s,o,e.errMsg)}function H(e,t,r,n){var a;return a=r.isThird?z(r,t):z(e,t),function(e){K(e,t,a,r,n)}}var J=(()=>String.prototype.split)(),Y=(()=>String.prototype.startsWith)(),Q=n.prototype.call.bind(J),Z=n.prototype.call.bind(Y);function X(e){return function(t,r={},n={},i="/"){var s,u,c,l,d,p=n.notPack;(0,y.Kn)(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||(s=t,u=r,c=Date.now(),l=u.url||"",d=N(L([T.default.appType+1e3,s,D(),M.scene,encodeURIComponent(M.scene_note||M.sceneNote),(0,x.c)(u),c,0,(0,E.k)(),(0,E.n)(),M.sessionid||M.sessionId,l],(0,x.b)(1024)),","),_.reportKeyValue({key:"OpenUrl",value:d})),n=function(e,t){return V(U(e),((r,n)=>("function"==typeof e[n]&&(r[n]=(0,g.Hw)(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}(n,t);var f=H(r=F(B(null),r),t,n,i);_.reportIDKey({key:t});var h,v={keepOriginalParams:(h=t,C.jP||C.wZ&&$.includes(h))};if(!e&&"splashad"!==o.env.workerType){if((0,C.LU)()&&m.g4.has(t)&&!(0,m.V8)(t))return void f({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof i&&Z(i,"wx")){var b=(e=>Q(e,"/",1)[0])(i);v.appId=b}}p&&(v.notPack=!0),(0,a.d)(t,r,f,v)}}var ee,te=X(!1),re=(e,t,r)=>{G(e)?((e,t,r)=>{var{appRoute:n,appRouteDone:a}=k;!n&&a?(0,i.oQ)(e,t,r):w(S,{name:e,args:t,option:r})})(e,t,r):te(e,t,r)},ne=(e,t,r)=>(0,v.Vl)((t=>re(e,t,r)))(t),ae=e=>e?(t,r,n)=>{te(t,r,n,e)}:re,ie={},oe=(e,t,r)=>{var n,a=r.notPack,i={pureInvoke:!0,highPerformance:ie,keepOriginalParams:C.jP};n=ee||(()=>{if(ee)return ee;var e=(e,t)=>{var r=ie[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),a=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),i=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):a&&r.cancel?r.cancel():i&&r.fail(e),r.complete&&r.complete(e)}catch(e){}h(r.__jsapi_name__,n,i,a,e.errMsg),delete ie[t]}};return ee=e,e})(),a&&(i.notPack=!0),t.__jsapi_name__=e,c.pureInvoke(e,t,n,i)},se=X(!0),ue=(e,t,r)=>{se(e,t,r)}},9533:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,j:()=>i});var n=r(7132),a=r(8929);function i(e,t){(0,n.on)(e,(0,a.Hw)(t,`at api ${e} callback function`))}function o(e,t){c.onThird(e,(0,a.Hw)(t,`at api ${e} callback function`))}},2235:(e,t,r)=>{"use strict";r.d(t,{$T:()=>s,C2:()=>u,Mj:()=>l,ig:()=>p});var n,a=r(9370),i={},o=!1,s=()=>o,u=e=>i[e]||a.hr.getPageTypeById(e),l=(e,t)=>{"context"===t?i[e]=t:a.hr.setPageTypeById(e,t),o=o||"webview"!==t},d=e=>"webview"===e?e:"context",p=e=>{if(void 0===e||0===e.length)return{};var t=d(u(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=d(u(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r};null===(n=c.clientManager)||void 0===n||n.on("clientConnected",(e=>{l(e,"webview")}))},1385:(e,t,r)=>{"use strict";r.d(t,{nY:()=>s});var n=r(7445),a=r(2235),i=(e,t={},r)=>{(0,a.$T)()&&(Array.isArray(r)?r.forEach((r=>{y.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):y.postMessageToSubContext({event:e,params:{params:t}},r))};function o(e,t,r){}var s=n.KU?(e,t,r)=>{if(null==r)i(e,t,r);else{var n=(0,a.ig)(r);void 0!==n.webview&&n.webview,void 0!==n.context&&i(e,t,n.context)}}:o},7118:(e,t,r)=>{"use strict";r.d(t,{L:()=>u});var n=r(7445),a=r(2235);function i(e,t){}var s=n.KU?new o.EventEmitter:null;n.KU&&o.onLibraryEnd((()=>{y.onSubContextMessage((e=>{s.emit(e.event,e.params)}))}));var u=n.KU?(e,t)=>{((e,t)=>{s.on(e,(e=>{void 0===(0,a.C2)(e.pageId)&&(0,a.Mj)(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:i},190:(e,t,r)=>{"use strict";r.d(t,{be:()=>n.be,Rn:()=>a.Rn,r3:()=>a.r3,FE:()=>a.FE,YG:()=>a.YG,zy:()=>a.zy,F0:()=>n.F0,NJ:()=>n.NJ,IN:()=>n.IN,bb:()=>n.bb,qu:()=>n.qu,yD:()=>i.yD,t4:()=>i.t4,Qh:()=>i.Qh,oQ:()=>n.oQ,jQ:()=>n.jQ,TG:()=>s,nY:()=>n.nY,Ld:()=>n.Ld,yt:()=>n.yt});var n=r(2352),a=r(8138),i=r(7520),o=(()=>Object.assign)();function s(e,t,r=(()=>{}),n=(()=>{})){return(s={})=>{var{success:u,fail:c}=(0,a.Rn)(s,e);(0,i.yD)({apiName:t,reqData:r(s)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,o(e,e.rawDataObject),n(e),delete e.rawDataObject,u(e)},fail:c,complete:void 0})}}},7520:(e,t,r)=>{"use strict";r.d(t,{yD:()=>y,t4:()=>w,Qh:()=>b});var n=r(190),a=r(6342),i=r(5125),o=r(1708),s=r(8007);function u({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:u,result:c,errMsg:l,isConfirm:d,queueLength:p,wxdataQueueTimestamp:f,wxdataDequeueTimestamp:h,beginCGITimestamp:g,CGICallbackTimestamp:v,beginCGITimestampAfterConfirm:m,CGICallbackTimestampAfterConfirm:y,wxlibCallbackTimestamp:b,requestInQueue:w,requestingCount:I,cost1:S,cost2:k,cost3:C,cost4:T,cost5:A,cost6:P}){Math.random()<.05&&setTimeout((()=>{var E=i.Z.currentNetworkType,x=a.default.appType+1e3,M=a.default.appLaunchInfo&&void 0!==a.default.appLaunchInfo.scene?a.default.appLaunchInfo.scene:0,D=[e,(0,s.c)(JSON.stringify(t)),r?1:0,n,u,E,(0,s.c)(c),x,M,(0,o.k)(),(0,o.n)(),l&&(0,s.c)(l)||"",d?1:0,p,S,k,C,T,A,P,0,w?1:0,I,n,f,h,g,v,m,y,b].map((0,s.b)(1024)).join(",");_.reportKeyValue({key:"WeAppOperateWXData",value:D})}),0)}var c=0,l=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],d=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons","webapi_createmidascoinorder","webapi_getiapinfocreateitemorder","webapi_getiapinfocreatecoinorder","webapi_getopencommconf"],p=["qbase_commapi","webapi_botdemo"],f=r(8138),g=r(9806),v=(()=>JSON.parse)(),m=e=>({keepAlive:t,apiName:r,reqData:a,sdkApiName:i,pluginId:o,success:s,fail:g,complete:m,fromComponent:y=!1,withCredentials:b=!1,showConfirm:_=!1,timeout:w=18e4}={})=>{if((0,f.r3)("operateWXData",{apiName:r,success:s,fail:g,complete:m},{apiName:""})){var I={success:s,fail:g,complete:m};i=i||"operateWXData";var S={api_name:r,data:a||{},operate_directly:e};"string"==typeof o&&(S.plugin_appid=o),!0===y&&(S.from_component=!0),!0===b&&(S.with_credentials=!0),!0===_&&(S.show_confirm=!0),((e={},t={},...r)=>{var a=Object.assign({},e);a._isFromBaseOperateWXData=!0;var i=t.beforeAll,o=t.beforeSuccess,s=t.beforeFail,f=a.data&&a.data.api_name;l.includes(f)?(a.requestInQueue=!0,delete a.timeout):a.requestInQueue=!1,d.includes(f)?a.isImportant=!0:a.isImportant=!1,p.includes(a.data&&a.data.api_name)&&(a.keepAlive=!0);var g={isSuccess:void 0,WXDataApiName:f,argument:a,invokeTime:Date.now(),requestInQueue:a.requestInQueue,requestingCount:++c};(0,n.IN)("operateWXData",a,{beforeAll(e){var r=Date.now();c--,g.costTime=r-g.invokeTime;try{if(e&&e.data&&e.data.data?g.result=JSON.stringify(e.data):g.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{g[e]=n[e]})),g.cost1=n.wxdataQueueTimestamp-g.invokeTime,g.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,g.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,g.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,g.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,g.cost6=r-n.wxlibCallbackTimestamp}}catch(e){h.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess(e){g.isSuccess=!0,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=g),"function"==typeof o&&o.call(t,e),u(g)},beforeFail(e){g.isSuccess=!1,g.errMsg=e.errMsg,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=g),"function"==typeof s&&s.call(t,e),u(g)}},...r)})({keepAlive:t,data:S,timeout:w,success(t){if("string"==typeof t.data)try{t.data=v(t.data)}catch(e){return void(0,f.YG)(i,I,`json parse error, json="${t.data}"`)}var{data:r}=t;delete t.data;var{data:n,encryptedData:a,iv:o,cloud_id:u,err_no:c,signature:l}=r;if(e)void 0!==n&&(t.rawData=n),t.respData=r;else if("string"==typeof n)try{t.data=v(n)}catch(e){return void(0,f.YG)(i,I,`json parse error, json="${n}"`)}else t.data={};l&&(t.signature=l),a&&(t.encryptedData=a,t.iv=o,u&&(t.cloudID=u)),"number"==typeof c&&0!==c?(0,f.YG)(i,I,c):("function"==typeof s&&s(t),"function"==typeof m&&m(t))},fail(e){"function"==typeof g&&g(e),"function"==typeof m&&m(e)}},{beforeAll(e){"operateWXData"!==i&&(e.errMsg=e.errMsg.replace("operateWXData",i))}})}},y=m(!1),b=(0,g.Fr)(y),w=m(!0)},8138:(e,t,r)=>{"use strict";r.d(t,{FE:()=>c,Rn:()=>l,S3:()=>u,YG:()=>s,r3:()=>i,zy:()=>o});var n=r(4081),a=r(6142);function i(e,t,r){var i=(0,a.x7)(t,r);return!i||(c({name:e,args:t,errno:n.Wkc,errMsg:`parameter error: ${i}`,success:!1}),!1)}function o(e,t){var r=(0,a.x7)(e,t);if(r)throw new Error(`parameter error: ${r}`)}function s(e,t={},r,n){var i=(0,a.hj)(r);c({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function u({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,o=b.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);n.errMsg=i,o(n)}function c({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:o,res:s={},exception:u}){t=t||{};var c=b.surroundThirdByTryCatch((r?t.success:t.fail)||a.ZT,`at api ${e} ${r?"success":"fail"} callback function`),l=b.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);(0,a.hj)(n)?(s.errno=n,s.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(s.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,(0,a.hj)(o)&&(s.errCode=o)),u&&(s.exception=u),c(s),l(s)}var l=({success:e,fail:t,complete:r}={},n)=>{var a=e=>{"function"==typeof t&&(n?b.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?b.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?b.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?b.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:a,failWithMsg:({code:e,msg:t,errno:r,name:i}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${i||n}:fail`):(o.errMsg=`${i||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),a(o)}}}},9695:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(190),a=r(4081),i=JSON.parse,o=JSON.stringify,s=(e,t,{timeout:r}={timeout:1e4})=>{var s,u=null;return(c={})=>{var l,{success:d,fail:p}=(0,n.Rn)(c,e);null===u?(l=!1,u=new Promise(((n,i)=>{t(Object.assign({},c,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:a.zMx})}),r)}))):l=!0,u.then((e=>{if(u=null,l){var t={};try{t=i(s)}catch(e){h.error("constructCachedOptimizedApi parse error",e)}d(t)}else{try{s=o(e)}catch(e){h.error("constructCachedOptimizedApi stringify error",e)}d(e)}})).catch((e=>{u=null,p(e)}))}}},1843:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var n=JSON.parse,a=JSON.stringify,i=e=>{var t;return(r={})=>{if(t){var i={};try{i=n(t)}catch(e){h.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return i}var o=e(r);try{t=a(o)}catch(e){h.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),o}}},8602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});class n{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const a=(()=>new n)()},8246:(e,t,r)=>{"use strict";r.d(t,{n:()=>c,ri:()=>d,ry:()=>u,vu:()=>l});var n=r(9533),a=r(9766),i={},o=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],s={},u=(e,...t)=>{(0,a.s)(`WeixinJSBridge-${e}`).emitInternal(...t)},c=(e,t)=>{var r=(0,a.s)(`WeixinJSBridge-${e}`);i[e]||((0,n.j)(e,((...t)=>{r.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!o.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=w;r(e,...t)}})(e,...t)})),i[e]=!0),r.internalOnMethod(t)},l=(e,t)=>{var r=(0,a.s)(`WeixinJSBridge-Third-${e}`);s[e]||((0,n.S)(e,((...e)=>{r.emit(...e)})),s[e]=!0),r.internalOnMethod(t)},d=(e,t)=>{(0,a.s)(`WeixinJSBridge-${e}`).internalOffMethod(t)}},9437:(e,t,r)=>{"use strict";r.d(t,{$b:()=>y,Ej:()=>T,Gr:()=>I,HX:()=>h,L6:()=>C,LK:()=>_,LU:()=>g,M2:()=>w,O6:()=>k,S1:()=>d,WB:()=>b,_g:()=>f,g7:()=>S,lj:()=>A,r:()=>m,ri:()=>v,s2:()=>l,xN:()=>p});var n=r(5436),a=r(8246),i=new n.Q("Keyboard"),o=new n.Q("",!0),s=new Set;["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"].forEach((e=>{(0,a.n)(e,(t=>{!function(e,t){i.emit(e,t),o.emit(e,t),s.forEach((r=>{o.emit(`${r}-${e}`,t)}))}(e,t)}))}));var u=(e,t,r)=>{s.add(e),o.on(`${e}-${t}`,r)},c=(e,t,r)=>{o.off(`${e}-${t}`,r)},l=e=>o.on("onKeyboardInput",e),d=e=>o.off("onKeyboardInput",e),p=e=>o.on("onKeyboardConfirm",e),f=e=>o.off("onKeyboardConfirm",e),h=e=>t=>u(e,"onKeyboardConfirm",t),g=e=>t=>c(e,"onKeyboardConfirm",t),v=e=>o.on("onKeyboardComplete",e),m=e=>o.off("onKeyboardComplete",e),y=e=>t=>u(e,"onKeyboardComplete",t),b=e=>t=>c(e,"onKeyboardComplete",t),_=e=>i.on("onKeyboardHeightChange",e),w=e=>i.off("onKeyboardHeightChange",e),I=e=>o.on("onKeyboardHeightChange",e),S=e=>o.off("onKeyboardHeightChange",e),k=e=>t=>u(e,"onKeyboardHeightChange",t),C=e=>t=>c(e,"onKeyboardHeightChange",t),T=e=>i.on("onStoreEmoticonSelect",e),A=e=>i.off("onStoreEmoticonSelect",e)},6614:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,c:()=>i});var n=r(190),a=(e={})=>{(0,n.r3)("access",e,{path:""})&&(0,n.IN)("access",e)},i=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if((0,n.IN)("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}}},6893:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,a:()=>i});var n=r(190),a=r(1869),i=(e={})=>{(0,n.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===a.a.indexOf(e.encoding)?(0,n.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("fs_appendFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===a.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,n.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},5709:(e,t,r)=>{"use strict";r.d(t,{Do:()=>i,KK:()=>o,bh:()=>c,rW:()=>s,vL:()=>u,yH:()=>a});var n=r(190),a=e=>{(0,n.r3)("saveFile",e,{tempFilePath:""})&&(0,n.IN)("saveFile",e)},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,a;if((0,n.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){a=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return a},o=e=>{(0,n.r3)("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,(0,n.IN)("openDocument",e))},s=(e={})=>{(0,n.IN)("getSavedFileList",e)},u=(e={})=>{(0,n.r3)("getSavedFileInfo",e,{filePath:""})&&(0,n.IN)("getSavedFileInfo",e)},c=(e={})=>{(0,n.r3)("removeSavedFile",e,{filePath:""})&&(0,n.IN)("removeSavedFile",e)}},1636:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i,c:()=>a});var n=r(190),a=(e={})=>{(0,n.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,n.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,a;if((0,n.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},1869:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},6345:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(190),a=r(6142),i=(e={})=>{if((0,n.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,a.x7)(e,{digestAlgorithm:""});if(t)return void(0,n.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void(0,n.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,n.IN)("getFileInfo",e,{})}}},971:(e,t,r)=>{"use strict";r.d(t,{Jo:()=>B,Dc:()=>V,d7:()=>$,y9:()=>q,PZ:()=>z,WZ:()=>O,EH:()=>j});var n=r(190),a=r(5340),i=r(1869),o=r(6142),s=r(9105),u=r(7445),c=r(4899),l={close:(e={})=>{(0,n.r3)("close",e,{fd:""})&&(0,n.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if((0,n.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}},fstat:(e={})=>{(0,n.r3)("fstat",e,{fd:""})&&(0,n.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new a.jk({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,i;if((0,n.IN)("fstatSync",{fd:e,fail(e){r=e.errMsg,i=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:o}=e;i>1617e9&&(i=Math.floor(i/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),t=new a.jk({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:o})}}),r){var o=new Error(r);throw o.errno=i,o}return t},write:(e={})=>{var t=Object.assign({},e);if((0,n.r3)("write",t,{fd:""}))if(t.encoding&&-1===i.a.indexOf(t.encoding))(0,n.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,o.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,n.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,o.HD)(t.data))return void(0,n.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,n.IN)("write",t)}},writeSync:({fd:e,data:t,offset:r,length:a,encoding:u,position:c}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(u&&-1===i.a.indexOf(u))throw new s.iZ(`invalid encoding "${u}"`);if((0,o.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof a||a<0)&&(a=t.byteLength-r)}else if(!(0,o.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var l,d,p;if("number"!=typeof c&&(c=void 0),(0,n.IN)("writeSync",{fd:e,data:t,offset:r,length:a,encoding:u,position:c,fail(e){l=e.errMsg,p=e.errno},success(e){d={bytesWritten:e.bytesWritten}}}),l){var f=new Error(l);throw f.errno=p,f}return d},read:(e={})=>{if((0,n.r3)("read",e,{fd:""}))if((0,o.eP)(e.arrayBuffer)){var t=Object.assign({},e),r=(0,c.t)();u.cj&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,o.hj)(t.position)&&t.position<0?t.position=0:(0,o.o8)(t.position)||(0,o.Ft)(t.position)?t.position=null:(0,o.hj)(t.position)||(t.position=0);var a=Number(t.length);Number.isNaN(a)?t.length=0:t.length=a;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,(0,n.IN)("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){u.cj&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else(0,n.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,o.eP)(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var a=Object.assign({},e),i=(0,c.t)();u.cj&&i&&i.trace&&(a.arrayBufferId=i.trace(a.arrayBuffer,"rw"),delete a.arrayBuffer),(0,o.hj)(a.position)&&a.position<0?a.position=0:(0,o.o8)(a.position)||(0,o.Ft)(a.position)?a.position=null:(0,o.hj)(a.position)||(a.position=0);var s=Number(a.length);Number.isNaN(s)?a.length=0:a.length=s;var l,d,p,f=Number(a.offset);if(Number.isNaN(f)?a.offset=0:a.offset=f,(0,n.IN)("readSync",{...a,fail(e){d=e.errMsg,p=e.errno},success(e){l={bytesRead:e.bytesRead,arrayBuffer:r}}}),u.cj&&i&&i.untrace&&i.untrace(a.arrayBufferId),d){var h=new Error(d);throw h.errno=p,h}return l},ftruncate:(e={})=>{(0,n.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},d=r(5709),p=r(6345),f=r(5179),h=r(7172),g=r(9976),v=r(3165),m=r(6614),y=r(6659),b=r(1636),_=r(4316),w=r(6893),I="readZipEntry",S=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],k=r(714),C={saveFile:d.yH,saveFileSync:d.Do,getSavedFileList:d.rW,getSavedFileInfo:d.vL,removeSavedFile:d.bh,getFileInfo:p.h,readFile:f.p,readFileSync:f.N,writeFile:h.N,writeFileSync:h.y,mkdir:g.i,mkdirSync:g.h,rmdir:(e={})=>{(0,n.r3)("rmdir",e,{dirPath:""})&&(0,n.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,a;if((0,n.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}},readdir:v.e,readdirSync:v.T,access:m.P,accessSync:m.c,unlink:y.q,unlinkSync:y.y,stat:a.lz,statSync:a.dJ,unzip:(e={})=>{(0,n.r3)("unzip",e,{zipFilePath:""})&&(0,n.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},copyFile:b.c,copyFileSync:b.Q,rename:_.P,renameSync:_.g,appendFile:w.a,appendFileSync:w.H,readZipEntry:(e={})=>{(0,n.r3)(I,e,{filePath:""})&&((0,o.o8)(e.encoding)||-1!==i.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,n.IN)(I,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${I}:ok`:e.entries[t].errMsg=`${I}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):(0,n.YG)(I,e,"invalid entries"):(0,n.YG)(I,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,n.r3)("open",e,{filePath:""})&&(void 0===e.flag||S.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,n.IN)("open",t)):(0,n.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,a,{filePath:i}=e,{flag:o}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==o&&!S.includes(o))throw new s.iZ(`invalid flag: ${o}`);if(void 0===o&&(o="r"),(0,n.IN)("openSync",{filePath:i,flag:o,fail(e){r=e.errMsg,a=e.errno},success(e){t=e.fd}}),r){var u=new Error(r);throw u.errno=a,u}return t},truncate:(e={})=>{(0,n.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}},readCompressedFile:k.$,readCompressedFileSync:k.T},T={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},A={openSync:!0,truncateSync:!0},P=r(9806),E=r(6342),x="",M="",D="",R="";E.default.onReady((()=>{try{x=E.default.env.USER_DATA_PATH,M=E.default.env.OPEN_DATA_PATH,delete E.default.env.OPEN_DATA_PATH,D=x+"/__plugins__",u.gm?(R="http://__wxprivate__","http://sdk","http://ad"):(R="wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var L=()=>x,O=()=>M,N=()=>D,j=e=>`${D}/${e}`,B=e=>`${R}/${e}`,F=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),U=r(4081),W=function(e,t,r,a){return(...i)=>{var o,u=t.endsWith("Sync"),c=!u||A[t]?i[0]:i,l=T[t].every((e=>{var n=((e,t,r,n)=>{var a=L(),i=O(),o=N();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,P.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!F.has(n)||!e.startsWith(a)||e:"game"===t||"app"===t?!(e.startsWith(i)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(i)?e:!e.startsWith(a)||!!e.startsWith(`${o}/${r}`)||e:e)})(c[e],r,a,t);return!0===n||(o=n,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||T[t].forEach((e=>{"string"!=typeof c[e]||c[e].match(/^[a-zA-Z0-9]+:\/\//)||(c[e]=(0,s.RP)(a,c[e]))})),l)return e(...i);if(u){var d=new Error(`${t}:fail permission denied with path "${o}"`);throw d.errno=U.UoO,d}(0,n.FE)({success:!1,name:t,args:c,errno:U.UoO,errMsg:`permission denied with path "${o}"`})}},G=(e,t="")=>{var r={},a=new Set;return function(e,t,r,n){Object.keys(e).forEach((a=>{(0,o.o8)(T[a])||((0,o.Ft)(T[a])?t[a]=(...t)=>e[a](...t):t[a]=W(e[a],a,r,n))}))}(C,r,e,t),function(e,t,r){Object.keys(e).forEach((a=>{var i=e[a];t[a]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(a.endsWith("Sync"))throw new Error(`${a}:fail invalid fd`);(0,n.YG)(a,e,"invalid fd")}}))}(l,r,a),function(e,t){var r=e.open,n=e.openSync,a=e.close,i=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;a(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;i({fd:r}),t.delete(r)}}(r,a),r},V=()=>G("game"),$=()=>G("opendata"),q=e=>G("game-plugin",e),z=e=>G("private-space-for-inner-plugin",e)},9976:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,i:()=>a});var n=r(190),a=(e={})=>{(0,n.r3)("mkdir",e,{dirPath:""})&&(0,n.IN)("mkdir",e)},i=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,a;if((0,n.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},714:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,T:()=>s});var n=r(190),a=(r(1399),r(6142)),i=r(9105),o=(e={})=>{(0,n.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,n.IN)("readCompressedFile",e)},s=({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,a.HD)(e))throw new i.iZ(`invalid filePath: ${e}`);if(!(0,a.HD)(t))throw new i.iZ(`invalid compressionAlgorithm: ${t}`);var r,o,s;if((0,n.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){o=e.errMsg,s=e.errno}}),o){var u=new Error(o);throw u.errno=s,u}return r}},5179:(e,t,r)=>{"use strict";r.d(t,{N:()=>g,p:()=>f});var n=r(190),a=r(88),i=r(1399),o=r(7445),s=r(6342),u=r(4500),c=r(5133),l=r(6142),d=r(1591),p=!1;s.default.onReady((()=>{var e=i.Z.fs;if(e&&e.FileReader){var t=!1,r=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,u.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&((0,c.Tk)(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=(0,a.J)("bindingReadFile");p=t||n,h.info(`${p?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var f=(e={})=>{if((0,n.r3)("readFile",e,{filePath:""}))if((0,l.o8)(e.encoding)||(0,l.HD)(e.encoding))if((0,l.o8)(e.position)||(0,l.hj)(e.position))if((0,l.o8)(e.length)||(0,l.hj)(e.length))if(p){var t,r=i.Z.fs;e.workerId,(t=new r.FileReader).onerror=t=>(0,n.YG)("readFile",e,t),t.onread=t=>(0,n.FE)({name:"readFile",args:e,res:{data:t}});var a={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(a[t]=r)})),t.read(a)}else(0,n.IN)("readFile",e);else(0,n.YG)("readFile",e,`invalid length: ${e.length}`);else(0,n.YG)("readFile",e,`invalid position: ${e.position}`);else(0,n.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},g=(e,t,r,a,o)=>{if(!e||!(0,l.HD)(e))throw new d.i(`invalid filePath: ${e}`);if(!(0,l.o8)(t)&&!(0,l.HD)(t))throw new d.i(`invalid encoding: ${t}`);if(!(0,l.o8)(r)&&!(0,l.hj)(r))throw new d.i(`invalid position: ${r}`);if(!(0,l.o8)(a)&&!(0,l.hj)(a))throw new d.i(`invalid length: ${a}`);if(p){var s=i.Z.fs;try{return s.readFileSync(e,t)}catch(c){throw new Error(c)}}var u,c,f;if((0,n.IN)("readFileSync",{filePath:e,encoding:t,position:r,length:a,success(e){u=e.data},fail(e){c=e.errMsg,f=e.errno}}),c){var h=new Error(c);throw h.errno=f,h}return u}},3165:(e,t,r)=>{"use strict";r.d(t,{T:()=>o,e:()=>i});var n=r(190),a=r(7445),i=(e={})=>{(a.DD||"wxfile://"!==e.dirPath)&&(!a.DD||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,n.r3)("readdir",e,{dirPath:""})&&(0,n.IN)("readdir",e):(0,n.YG)("readdir",e,"path permission denied")},o=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,a;if((0,n.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}return t}},4316:(e,t,r)=>{"use strict";r.d(t,{P:()=>a,g:()=>i});var n=r(190),a=(e={})=>{(0,n.r3)("rename",e,{oldPath:"",newPath:""})&&(0,n.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,a;if((0,n.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),a=e.errno}}),r){var i=new Error(r);throw i.errno=a,i}}},5340:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>u,jk:()=>i,lz:()=>s});var n=r(190),a=r(7445);class i{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var o=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new i(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new i(e.stats[""]);else{var n=[],o=e.stats;a.wZ&&(o=e,n.push({path:"/",stats:u(t)})),Object.keys(o).forEach((e=>{if("errMsg"!==e){var t=o[e];""===e&&(e="/"),n.push({path:e,stats:new i(t)}),delete o[e]}})),e.stats=n}},s=(e={})=>{(0,n.r3)("stat",e,{path:""})&&(0,n.IN)("stat",e,{beforeSuccess:t=>{o(t,e.path)}})},u=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,a,i;if((0,n.IN)("statSync",{path:e,recursive:t,success(t){o(t,e),r=t.stats},fail(e){a=e.errMsg,i=e.errno}}),a){var s=new Error(a);throw s.errno=i,s}return r}},6659:(e,t,r)=>{"use strict";r.d(t,{q:()=>a,y:()=>i});var n=r(190),a=(e={})=>{(0,n.r3)("unlink",e,{filePath:""})&&(0,n.IN)("unlink",e)},i=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if((0,n.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}}},7172:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,y:()=>o});var n=r(190),a=r(1869),i=(e={})=>{(0,n.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===a.a.indexOf(e.encoding)?(0,n.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("writeFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===a.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,n.IN)("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},8314:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n,s:()=>a});var n="game:verifystate",a="game_live_default_condition"},4599:(e,t,r)=>{"use strict";r.d(t,{Jv:()=>d,NB:()=>l,Or:()=>p,UR:()=>y,VT:()=>f,b$:()=>v,bI:()=>u,nm:()=>c,qC:()=>s,rc:()=>m,vv:()=>g,yN:()=>h});var n=r(9766),a=(0,n.s)("LifeCycle:beforeHide"),i=(0,n.s)("LifeCycle:Hide"),o=(0,n.s)("LifeCycle:afterHide"),s=i.emitInternal.bind(i),u=i.emitGlobal.bind(i),c=a.emitInternal.bind(a),l=o.emitInternal.bind(o),d=i.onMethod,p=i.offMethod,f=a.internalOnMethod,h=a.internalOffMethod,g=i.internalOnMethod,v=i.internalOffMethod,m=o.internalOnMethod,y=o.internalOffMethod},7351:(e,t,r)=>{"use strict";r.d(t,{Ke:()=>o,LJ:()=>a,Tb:()=>c,dN:()=>u,e4:()=>i,il:()=>s});var n=(0,r(9766).s)("LifeCycle:Show"),a=n.emitInternal.bind(n),i=n.emitGlobal.bind(n),o=n.onMethod,s=n.offMethod,u=n.internalOnMethod,c=n.internalOffMethod},743:(e,t,r)=>{"use strict";r.d(t,{g:()=>u,limitSkipToOtherObject:()=>o});var n=r(6342),a=r(6385),i=r(8929),o={constant:{modalCancel:"取消"}};o.attemptSkipMaxThreshold=5,o.currentAttemptSkipCount=0,o.currentUserFirstUseThisGame=!1,o.currentUserUseThisGameTime=0,o.currentUserUseThisGameTimer=null,o.isPause=null,o.limitStrategy=null;var s=e=>1===e?3303:3304,u={count:0,uuid:null,navigateCount:0,bannedCount:0},c=(e,t,r)=>{u.uuid||(u.uuid=(0,i.M8)()),u.count,u.uuid,u.bannedCount,u.navigateCount,parseInt(Date.now()/100,10),_.reportKeyValue({key:"WeAppNavBan",value:[n.default.appType+1e3,n.default.appLaunchInfo.scene,33,s(e),0,1,"","",(0,a._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:u.uuid,bannedCount:u.bannedCount,navigateCount:u.navigateCount,count:u.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})};Object.defineProperties(o,{allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,c(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,c(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1},...["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"].reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{o[t]=e},configurable:!1},e)),{}),modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],_.reportKeyValue({key:"WeAppNavBan",value:[n.default.appType+1e3,n.default.appLaunchInfo.scene,33,s(e),1,2,"","",(0,a._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1},reportModalCancel:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],_.reportKeyValue({key:"WeAppNavBan",value:[n.default.appType+1e3,n.default.appLaunchInfo.scene,33,s(e),2,2,"","",(0,a._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1}}),o.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},o.pauseLimitTimer=function(){this.isPause=!0},o.allowStartLimitCount=function(){this.setStartLimitCount(!0)}},9133:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n=e=>{_.reportKeyValue({key:"DeprecatedAPI",value:e})}},4596:(e,t,r)=>{"use strict";r.d(t,{_m:()=>k,$J:()=>w,jj:()=>I,Vy:()=>S});var a=r(5168),i=r(190),o=/^wx[0-9a-f]{16}(\/.*)?$/,s="webapi_reportwxauseuserinfo",u=function(e){return e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.REMOVAL_NOTIFIED=7]="REMOVAL_NOTIFIED",e}(u||{}),c=function(e){return e[e.ALL=0]="ALL",e[e.DETAIL_ONLY=1]="DETAIL_ONLY",e}(c||{}),l={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],getFuzzyLocation:["jsapi_fuzzy_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],startRecord:["jsapi_record"]},d={jsapi_address:c.ALL,jsapi_camera:c.DETAIL_ONLY,jsapi_invoice:c.ALL,jsapi_licenseplate:c.ALL,jsapi_location:c.DETAIL_ONLY,jsapi_choose_location:c.ALL,jsapi_fuzzy_location:c.DETAIL_ONLY,jsapi_media:c.ALL,jsapi_messagefile:c.ALL,jsapi_phonecontact:c.DETAIL_ONLY,jsapi_photocalendar:c.DETAIL_ONLY,jsapi_photos_album:c.DETAIL_ONLY,jsapi_record:c.DETAIL_ONLY,webapi_bluetooth:c.DETAIL_ONLY,webapi_getuserwxphone_group:c.ALL,webapi_werun:c.DETAIL_ONLY,webapi_userinfo:c.ALL},p=function(e){return e.USER_INFO="webapi_userinfo",e.WE_RUN_DATA="webapi_werun",e.RECORD="jsapi_record",e.CAMERA="jsapi_camera",e}(p||{}),f=n.prototype.call.bind(String.prototype.split),g=n.prototype.call.bind(String.prototype.match),v=n.prototype.call.bind(Object.prototype.hasOwnProperty),m=(e,t)=>{var r="string"==typeof t&&g(t,o)?(e=>f(e,"/",1)[0])(t):null;return e.map((e=>({apiName:s,reqData:{scope:e,report_type:d[e],state:u.USED},pluginId:r,fail({errMsg:t}){h.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))};const y={PrivacyScopes:p,getArgsByJsApi:(e,t)=>v(l,e)?m(l[e],t):null,getArgsByScope:m,WxDataName:s};var b=r(7445);(0,a.ei)(((e,t)=>{if(!(0,b.tK)()){var r=y.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{h.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{(0,i.yD)(e)}))}),200)}}));var _=e=>function(t,r){(0,b.tK)()||(h.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),y.getArgsByScope(e,t).forEach((e=>{(0,i.yD)(e)})))},w=_([y.PrivacyScopes.USER_INFO]),I=_([y.PrivacyScopes.WE_RUN_DATA]),S=_([y.PrivacyScopes.RECORD]),k=_([y.PrivacyScopes.CAMERA])},5428:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>ke,GJ:()=>Ce,gd:()=>Se,v8:()=>Ie});var n,a,i,s,u=r(3888),c=r.n(u),l=r(88),d=r(9899),p=r(5179),f=r(9806),g=r(5841),v=r(5709),m=r(7172),y=r(6614),b=r(6659),_=r(9976),w="wxfile://sdk",I=`${w}/we_model/`,S=`${I}meta.json`,k=`${I}vocab_meta.json`,C=e=>I+e+".onnx",T=(0,f.Fr)(p.p),A=(0,f.Fr)(v.yH),P=(0,f.Fr)(m.N),E=(0,f.Fr)(y.P),x=(0,f.Fr)(b.q),M=(0,f.Fr)(_.i),D=(0,f.Fr)(g.o),R=function(){var e=c()((function*(e=1){try{yield E({path:I})}catch(e){yield M({recursive:!0,dirPath:`${w}/we_model`})}try{var{data:t}=yield T({filePath:1===e?S:k,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=c()((function*(e,t,r=1,n=!1){var a={};if(!n)if(a=yield R(r)){if(a[t]&&a[t].src===e)try{return C(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var i=yield D({url:e,timeout:1e4}),o=yield A({tempFilePath:i.tempFilePath,filePath:C(t)});a[t]={src:e,update:Date.now()};var s=Date.now(),u=-1;if(Object.keys(a).length>(1===r?3:10))for(var c of Object.keys(a)){var l=a[c];l.update<s&&(s=l.update,u=c)}if(-1!==u)try{yield x({filePath:C(u)}),delete a[u]}catch(e){h.error("contentCheck LRU unlink model error: ",e)}return yield P({filePath:1===r?S:k,data:JSON.stringify(a),encoding:"utf8"}),o.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),O=e=>{n=e},N=function(){var e=c()((function*(e){var t;if(!Array.isArray(n)||-1===(t=n.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:a,update:i}=n[t];return yield L(r,a,2,i)}));return function(t){return e.apply(this,arguments)}}(),j=(0,f.Fr)(p.p),B=function(){var e=c()((function*(e){if(a)return a;var t=yield N(e),r=yield j({filePath:t,encoding:"utf-8"});return a=(a=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),F=r(8791);o.onLoad((()=>{s=(0,f.Fr)(F.WY)}));var U=function(){var e=c()((function*(e,t){if(!t){t=[2.074*i,i]}var r=e;"string"==typeof e&&(r=(yield s({url:e,responseType:"arraybuffer"})).data);for(var n=Array.prototype.slice.call(new Uint8Array(r)),a=t[0],o=t[1],u=Array(a).fill(0).map((e=>[])),c=function*(e){for(var t=function*(t){var[r,a,i]=Array(3).fill(0).map(((r,a)=>n[e*o*3+3*t+a]));u[e].push([r,a,i])},r=0;r<o;r++)yield*t(r)},l=0;l<a;l++)yield*c(l);return u}));return function(t,r){return e.apply(this,arguments)}}();function W(){return(W=c()((function*(e,t,r){try{var n=e,a="";t.forEach((e=>{"dictName"===e.key&&(a=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var i=yield B(a),o=r[r.length-1],s=[],u=JSON.parse(n),c=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{c(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{c(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(i[n]>=0)s.push(i[n]);else{var a=0;if((n=(r+="").toLowerCase()).length<=20)for(var u=0;u<n.length;u++)for(var l=1;l<5;l++)if(i[n.substr(u,l)]>=0){s.push(i[n.substr(u,l)]),a=1;break}0==a&&(n=(t+":other").toLowerCase(),i[n]>=0&&s.push(i[n]))}}};for(c(u);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function G(){return(G=c()((function*(e,t,r){try{var n,a,i=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);i=i.slice(i.length*n,i.length*n+s);for(var u=yield B(o?"minivocab":"alberttiny489kvocab"),c=r[0],l=r[r.length-1],d=[],p=[],f=0;f<i.length+1;f++)if("\n"===i[f]||f===i.length){if(p.length>=a){var g=l-(o?0:2);if(p.length>g&&(p=p.slice(0,g)),o||(p.unshift(101),p.push(102)),p.length<l)for(;p.length<l;)p.push(0);d.push(p)}if(p=[],d.length>=c)break}else p.push(u[i[f]]||(o?1:100));for(;d.length<c;)d.push(new Array(l).fill(0));return new Int32Array(...d).buffer}catch(e){h.warn("reshape occur error:",e)}}))).apply(this,arguments)}function V(){return(V=c()((function*(e,t,r){try{var n=.5,a=.5,i="NCHW",o=e;t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(i=e.value),"resizeType"===e.key&&e.value}));var s=yield U(o,r),u=0,c=s.length/s[0].length,l=s[0].length,d=s.length;s.length<s[0].length&&(u=1,c=s[0].length/s.length,l=s.length,d=s[0].length);var p=Math.ceil(c),f=Math.floor(p/2),h=[];if("NCHW"===i)for(var g=0;g<3;g++)for(var v=0;v<l;v++)for(var m=0;m<l;m++){var y=0,b=0,_=0;_=0===u?Math.floor(v*c):Math.floor(m*c);for(var w=0;w<p;w++){var I=_-f+w;I>=0&&I<d&&(y+=1,b+=0===u?s[I][m][g]:s[v][I][g])}y>0?h.push((b/y/255-n)/a):h.push(0)}else for(var S=0;S<l;S++)for(var k=0;k<l;k++){var C=0;C=0===u?Math.floor(S*c):Math.floor(k*c);for(var T=0;T<3;T++){for(var A=0,P=0,E=0;E<p;E++){var x=C-f+E;x>=0&&x<d&&(A+=1,P+=0===u?s[x][k][T]:s[S][x][T])}A>0?h.push((P/A/255-n)/a):h.push(0)}}return new Float32Array(h).buffer}catch(e){throw e}}))).apply(this,arguments)}var $={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5},q=e=>$[e],z=function(){var e=c()((function*(e,t,r,n=!1){var a,i,o,s;if(t.forEach((e=>{"startPct"===e.key&&(a=e.value),"maxSize"===e.key&&(i=e.value-(n?0:2)),"dictName"===e.key&&(o=e.value)})),i<0){var u=e.length*a+i;u<0&&(u=0),e=e.slice(u,e.length*a)}else e=e.slice(e.length*a,e.length*a+i);o||(o=n?"minivocab":"alberttiny489kvocab");try{s=yield B(o)}catch(e){}for(var c=[],l=0;l<e.length;l++){var d;c.push(null!==(d=s[e[l]])&&void 0!==d?d:n?1:100)}var p=(e=>e.reduce(((e,t)=>e*t),1))(r)-(n?0:2);if(c.length>p&&(c=c.slice(0,p)),n||(c.unshift(101),c.push(102)),c.length<p)for(;c.length<p;)c.push(0);return new Int32Array(c).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function K(){return(K=c()((function*(e,t,r){try{var n=0,a=512,i=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(i?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var u=[],c=0;c<s.length;c++){var l=s[c];o[l]&&o[l]>60&&o[l]<2900&&u.push(o[l])}var d=[],p=a-(i?0:2);if(u.length>p){for(var f=0;f<u.length;f++){var h=u[f];h>270&&h<570||h>580&&h<660||h>790&&h<990||h>1100&&h<1200||h>1300&&h<1900||h>2e3&&h<2800||d.push(h)}d.length>p&&(d=d.slice(0,p))}else d=u;for(i||(d.unshift(101),d.push(102));d.length<a;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}}))).apply(this,arguments)}var H=r.g.eval,J={GetTextIdsVec:z,GetTextIdsSimple:(e,t,r)=>z(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return G.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return K.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return W.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return V.apply(this,arguments)}},Y=function(){var e=c()((function*(e,t,r,n,a,i){var o=void 0!==i?i:e[t],s=J[r];if(s)try{return yield s(o,n,a)}catch(e){return null}return o}));return function(t,r,n,a,i,o){return e.apply(this,arguments)}}(),Q=function(){var e=c()((function*(e,t,r,n){return new Promise(((a,i)=>{var o=a,s=i;try{Z(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:o,safeEvalExecCallbackReject:s,env:{readWordDict:B,shape:n,transformRGB:U}})}catch(e){i(e)}}))}));return function(t,r,n,a){return e.apply(this,arguments)}}(),Z=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");H(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},X=r(1190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var ee,te,re,ne,ae,ie,oe,se=r(6342),ue=r(1197),ce=r(190),le=!1,de=new Promise((e=>re=e)),pe=function(){var e=c()((function*(){if(!te&&!le){le=!0;try{var e=yield me();if(!Array.isArray(e))return re(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:a,regCheckCfg:i,modelName:o,taskId:s,debug:u,key:c,cliParamList:l,isScreenshot:d}=e,{after_load_interval:p,after_load_maxcnt:f,at_redirect:h,most_cnt:g}=null!=n?n:{};return(te={}).mostCnt=g,te.currentCnt=0,te.afterLoadInterval=p,te.afterLoadMaxCnt=f,te.atRedirect=h,te.modelUrl=t,te.cfg=r,te.domTextPreset=a,te.regCheckCfg=i,te.modelName=o,te.taskId=s,te.debug=u,te.key=c,te.cliParamList=l,te.isScreenshot=d,ee=s,te})),re(e)}catch(e){re(null)}}}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=c()((function*(e,t=!1){pe();var r=yield de;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),he=!1,ge=()=>he=!0,ve=(e,t={})=>{if(he){var r={task_id:ee,xnet_moment:e,...t};(0,ce.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:r})}},me=()=>new Promise(((e,t)=>{var r,n,a,i;if(null!==(r=se.default.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(a=n.jsonInfo)&&void 0!==a&&null!==(i=a.op_info)&&void 0!==i&&i.skip_async_secinfo)return e({close:!0});(0,ue.o)().then(function(){var r=c()((function*(r){try{var n,a;if(null===(n=r.data)||void 0===n||null===(a=n.wxa_client_check)||void 0===a||!a.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&O(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&ge();var i=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s=yield ye({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);s.taskId=r.data.wxa_client_check.task_id,s.checkConfig=r.data.wxa_client_check.timing,s.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,s.debug_codes=s.debug?r.data.wxa_client_check.debug_code:null,i.push(s)}if(!i.length&&r.data.wxa_client_check.check_logic.reg_list){var u=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{u.push(q(e))})),u.length){var c={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:u};c.taskId=r.data.wxa_client_check.task_id,c.checkConfig=r.data.wxa_client_check.timing,c.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,i.push(c)}}1===r.data.wxa_client_check.timing.at_redirect&&1,e(i)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),ye=function(){var e=c()((function*(e,t,r){var n,a={},{model_url:i,model_name:o,cli_param_list:s=[],svr_param_list:u=[],conf_name:l}=e.xnet||{},d=null!==(n=e.reg_list)&&void 0!==n?n:[],p=[],f=!1;if([...d,...s,...(t||[]).map((e=>({preset_data:e})))].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(f=!0),!p.includes(t)&&t&&p.push(q(t))})),i){var h=function*(e){var t,{preset_data:n,pre_proc:i}=null!=e?e:{},{proc_name:o,param:s}=null!=i?i:{};a[e.key]={type:e.type||"int32",shape:e.shape_list,getData:(t=c()((function*(t,a,{customShape:i}={}){var u;if(r&&-1!==(u=r.findIndex((e=>e.func_name===o)))){var c,l=r[u].code;try{c=yield Q(l,void 0!==a?a:t[q(n)],s,null!=i?i:e.shape_list)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}return yield Y(t,q(n),o,s,null!=i?i:e.shape_list,a)})),function(e,r){return t.apply(this,arguments)})}};for(var g of s)yield*h(g);u.forEach((e=>{a[e.key]={type:e.type,shape:e.shape_list,data:(0,X.RG)(e.base64_data)}}))}return{modelName:o,model:i,config:a,domTextPreset:p,regCheckCfg:d,key:l,cliParamList:s,isScreenshot:f}}));return function(t,r,n){return e.apply(this,arguments)}}(),be=function(){var e=c()((function*(e,t,r,{customShape:n}={}){for(var a of Object.values(e))"function"==typeof a.getData&&(a.data=yield a.getData(t,r,{customShape:n}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),_e=function(){var e=c()((function*(e,t){return L(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),we=(r(9370),r(1821),function(){var e=c()((function*(e,t,r,n,a,{customShape:i}={}){void 0===n&&(n={});var o,s,u,c=[];if(!e)return{xnetRes:null,errMsg:null,logicCost:c};try{var l=Date.now();ve(2),o=yield(s=e,u=t,new Promise(((e,t)=>{if(ne)return e(ne);_e(s,u).then((r=>{var n=(0,d.AS)({model:r});n.onLoad((()=>{ne=n,e(n)})),n.onError((e=>{ne||t(e)}))})).catch((e=>{t(e)}))}))),ve(3);var p=Date.now()-l;c.push({logic_type:2,time_cost:p})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:c}}try{var f,h,g,v=Date.now();ve(4),yield be(r,n,a,{customShape:i}),ve(5,{xnet_res:[{base64_data:(0,X.sM)(null===(f=r.input_ids)||void 0===f?void 0:f.data),type:null===(h=r.input_ids)||void 0===h?void 0:h.type,shape_list:null===(g=r.input_ids)||void 0===g?void 0:g.shape}]});var m=Date.now()-v;c.push({logic_type:3,time_cost:m});var y=Date.now(),b=yield o.run(r),_=Date.now()-y;return c.push({logic_type:4,time_cost:_}),ve(6),{xnetRes:b,logicCost:c}}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:c}}}));return function(t,r,n,a,i){return e.apply(this,arguments)}}()),Ie=new Promise((e=>{ie=e}));se.default.onReady((()=>{oe=(0,l.J)("reportRequestErrorByAI")}));var Se=e=>{ae=e,ie(e)},ke=()=>ae,Ce=function(){var e=c()((function*(e){if(ae&&oe){var t=yield fe(ae);if(t){var{modelUrl:r,modelName:n,cfg:a}=t,i=(yield we(r,n,a,void 0,e)).xnetRes;return i=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(i),!!i&&i[0]-i[1]}}}));return function(t){return e.apply(this,arguments)}}()},2422:(e,r,n)=>{"use strict";n.d(r,{Qe:()=>E,_C:()=>P,ap:()=>T,yY:()=>x});var a=n(3888),i=n.n(a),o=n(6342),s=n(88),u=(n(6385),n(8246)),c=n(3329),l=n(6142),d=n(6347),p=n(5428),f=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=f(t),e)),[]);if(!(0,l.Kn)(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=f(n)}return t};function g(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=(0,l.Em)(e)}return t.replace(/,/g,";").substr(0,1024)}var v={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};var y=Math.random,b=void 0!==t&&t?t.version:"unknown",w=!1,I=!1,S=0,k={},C="";o.default.onReady((()=>{Object.assign(k,o.default.appLaunchInfo),C=o.default.appLaunchInfo.sessionid||o.default.appLaunchInfo.sessionId,(0,u.n)("onAppEnterForeground",(e=>{Object.assign(k,e),e&&(e.sessionid||e.sessionId)&&(C=e.sessionid||e.sessionId)}))}));var T=e=>{var t=o.default.appLaunchInfo&&o.default.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,a=e.nlpKey;if(n)if(I=(0,s.J)("reportPayVIPQuality"),w=I||(0,s.J)("reportRequestError2"),S=null!==(r=n.ratio)&&void 0!==r?r:1,m.allowReportLoadingTime(),w)return(0,p.gd)(a),!0;return(0,s.J)("reportRequestError3")?(w=!0,S=1,m.allowReportLoadingTime(),(0,p.gd)(a),!0):void 0}},A=!1,P=()=>A=!0;function E(e,t,{uuid:r,invokeTime:n,dataType:a,networkType:o,routePath:s}={}){var u=m.shouldStartReport();if(w&&y()<S||u||A){var l=m.getCurrentRoutePath(),C=Date.now()-n;e=f(e);var T=(t=f(t)).data,P=Promise.resolve().then(i()((function*(){if("string"!=typeof T)return-3;try{JSON.parse(T)}catch(e){return-3}return yield(0,p.GJ)(T)}))).catch((()=>-3));(0,c.k)().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>P.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===a&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t);var{isImportantRequest:i,nlpRet:c}=n;if((n.hasError||c>0)&&w){var{point:p,reportBody:f,reportArgs:y,schemaVersion:S,key:T,kvResult:P}=n;e.data&&(e.data=y),t.data&&(t.data=f),function(e,t,{point:r,schemaVersion:n,key:a,kvResult:i,routePath:o,networkType:s,nlpRet:u,aiConsistent:c,reportType:l}={}){var d=t.errno,p=v[l];_.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,g(e.header),g(e.data),g(t.header),g(t.data),e.method,k.scene,encodeURIComponent(k.scene_note||k.sceneNote),b,d,n,encodeURIComponent(a),encodeURIComponent(r),encodeURIComponent(i),o,void 0===u?-2:u,c].join(",")})}(e,t,{point:p,schemaVersion:S,key:T,kvResult:P,networkType:o,routePath:s,nlpRet:c,aiConsistent:c>0&&n.hasError?1:2,reportType:I?"pay":"goverment"})}if(u){var E={isimportant:i,errMsg:t.errMsg,errno:t.errno},x=n.hasError;x&&(E.errinfo=t.errMsg||n.point,E.noFilterRes=!0),m.traceApi("request",e,t,x,r,C,!0,E)}if(A&&i){var{sensitiveRequestPoint:M,sensitveResponsePoint:D}=n;[M,D].forEach(((t,r)=>{null!=t&&t.length&&_.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,(0,d.wK)(e.url),e.method,null,l,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){h.error("resolve 24247 worker error:",e)}})).catch((e=>{h.error("report 24247 error:",e)}))}}var x=(e={})=>{if(w){var{apiName:t,content:r="",routePath:n,networkType:a,title:i=""}=e,o=I?"interactiveApiPay":"interactiveApiGoverment";o=v[o];var s=i+","+r;"showModal"!==t&&"showToast"!==t||(0,c.k)().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var i=[t,encodeURIComponent(s),n,C,r,a,encodeURIComponent((u=e.hitUserLowPriortyCustom,c=e.hitUserHighPriorityCustom,`0,0,${u?2:c?3:0}, ${u||c?2:0}`))].join(",");_.reportKeyValue({key:o,value:i})}var u,c})).catch((e=>{h.error("resolveInteractiveApiContent:",e)}))}}},9619:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(190),a=r(9806),i=({api:e,url:t})=>(0,a.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,a)=>{(0,n.IN)("checkNetworkAPIURL",{api:e,url:t,success:r,fail:a})}))},2529:(e,t,r)=>{"use strict";r.d(t,{ED:()=>R,zL:()=>L,rU:()=>U,vL:()=>N,UG:()=>j,pr:()=>B,No:()=>w,UK:()=>F});var n=r(1399),a=r(8929),i=r(190),s=r(7298),u=r(8287),c=r(6342),l=r(7445),d=r(9825);function p(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}var f=p((()=>{var e=!1;return l.cj&&c.default.clientVersion>=385877248&&(e=!0),e})),h=p((()=>{var e=!1;return l.cj&&c.default.clientVersion>=385878314&&(e=!0),e})),g=p((()=>{var e=!1;return l.cj&&c.default.clientVersion>=402655232&&c.default.clientVersion<=402655487&&(e=!0),e})),v=r(8367),m=r(6142),y=r(1598);o.onLoad((()=>{n.Z.Canvas}));var b=new WeakMap,_=0,w=e=>{if(null!==e)return b.get(e)};function I(e){f()&&(0,i.IN)("removeImageView",{viewId:e,complete({errMsg:e}){}})}function S(e){if(g()){var t=e.getContext;e.getContext=(...r)=>{var n=t.call(e,...r),a=n.getSupportedExtensions,i=n.getExtension;return a&&(n.getSupportedExtensions=(...e)=>{var t=a.call(n,...e);if(Array.isArray(t)){var r=new Set(t);return r.delete("WEBGL_compressed_texture_etc1"),r.delete("WEBGL_compressed_texture_etc"),Array.from(r)}return t}),i&&(n.getExtension=e=>"WEBGL_compressed_texture_etc1"===e||"WEBGL_compressed_texture_etc"===e?null:i.call(n,e)),n}}}var k,C,T,A=!1,P=Object.defineProperty,E=Object.getOwnPropertyDescriptor,x=Object.prototype.hasOwnProperty,M=["getContext","toDataURL","__proto__"],D=["width","height","tagName","nodeName"],R=({secure:e=!1,isSharedCanvas:t=!1}={},r=!0)=>{function o(){}var p=new n.Z.Canvas,h=!!("string"==typeof(l.gm?c.default.appConfig.subContext:c.default.subContext))&&r;if(S(p),l.gm){var g=p.__proto__.__proto__;p.__proto__=new Proxy(p.__proto__,{get:(e,t,r)=>Reflect.has(g,t)?Reflect.get(g,t,r):Reflect.get(e,t,r),setPrototypeOf:(e,t)=>(g=t,!0),getPrototypeOf:()=>g})}if(l.gm||x.call(p,"width")||(D.forEach((e=>{for(var t=p;t;t=t.__proto__)if(x.call(t,e)){P(p,e,E(t,e)),P(p,e,{configurable:!1});break}})),P(p,"style",{value:{},writable:!0}),k||(k={},o.prototype=k,k.constructor=o,k[Symbol.toStringTag]="HTMLCanvasElement",M.forEach((e=>{for(var t=p;t;t=Object.getPrototypeOf(t))if(x.call(t,e)){P(k,e,E(t,e));break}}))),Object.setPrototypeOf(p,k)),h)l.wZ&&(void 0===p.offsetTop&&(p.offsetTop=0),void 0===p.offsetLeft&&(p.offsetLeft=0),void 0===p.offsetWidth&&(p.offsetWidth=0),void 0===p.offsetHeight&&(p.offsetHeight=0)),(0,u.YZ)(p),Object.setPrototypeOf(p,(0,u.vG)()),"Object"===(0,m.Em)(p)&&Object.defineProperty((0,u.vG)(),Symbol.toStringTag,{get:()=>"HTMLCanvasElement"});else if(!A){var v=p.getContext;p.getContext=(e,t)=>{var r=v.call(p,e,t);return n.Z.setLiveContext&&n.Z.setLiveContext(r,e,t),r}}void 0===p.__id&&(p.__id=_++);var y=!1;A||(A=!0,y=!0),b.set(p,{canvasId:p.__id,secure:e,isSharedCanvas:t,isScreenCanvas:y,flag:(0,d.f)()});try{delete p.__id}catch(e){}var w=l.gm?p:(e=>{var{canvasId:t}=b.get(e);return t})(p),C=t=>{if(e){var r=s.LC.set(t.tempFilePath);t.tempFilePath=r}I(w)};return p.toTempFilePathSync=function(e={}){var t,r,n=b.get(this),a=!!n&&n.isScreenCanvas;if(function(e){f()&&(0,i.IN)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete({errMsg:e}){}})}(w),(0,i.IN)("canvasToTempFilePathSync",Object.assign({},e,{canvasId:w},l.jP?{canvasInstance:p}:{},{isScreenCanvas:a,success:e=>{t=e.tempFilePath},fail:e=>{r=e.errMsg}}),{beforeSuccess:C}),I(w),r)throw new Error(r);return t},p.toTempFilePath=(0,a.gA)(((e={})=>{var t=b.get(p),r=!!t&&t.isScreenCanvas;(0,i.IN)("canvasToTempFilePath",Object.assign({},e,l.jP?{canvasInstance:p}:{},{canvasId:w,isScreenCanvas:r}),{beforeSuccess:C})})),p},L=()=>{if(void 0===T){var e=l.gm?c.default.appConfig.subContext:c.default.subContext,t="string"==typeof e||(0,y.$)();e?((T=R({secure:t,isSharedCanvas:!0})).width=c.default.screenWidth,T.height=c.default.screenHeight):T={width:0,height:0,__proto__:{}}}return T};c.default.onReady((()=>{if((0,l.aI)()){(0,v.Q)();var e="string"==typeof(l.gm?c.default.appConfig.subContext:c.default.subContext)||(0,y.$)();(e=>{if(h()){var t=e.getContext;e.getContext=(r,n,...a)=>{if("webgl"===r||"2d"===r){var i=Object.assign({},n);return i.preserveDrawingBuffer=!0,t.call(e,r,i,...a)}return t.call(e,r,n,...a)}}})(C=R({secure:e})),S(C),(0,u.wj)()}}));var O=!1,N=()=>O?R({secure:(0,y.$)()}):(O=!0,C),j=()=>new n.Z.ScreenCanvas,B=()=>R({secure:(0,y.$)()}),F=function(){return R()},U=()=>C},8287:(e,t,r)=>{"use strict";r.d(t,{YZ:()=>B,vG:()=>j,wj:()=>N});var n=r(1399),a=r(2529),i=r(9825),o=r(6342),s=r(88),u=r(9133),c=r(9806),l=e=>!(0,a.No)(e).secure,d=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){var{flag:t}=(0,a.No)(this.canvas),{textures:r,currentTextureIndex:n}=t,i=r[n];if(i&&"WeixinCanvasTexture"===i.type)return void console.warn(`在调用 wxBindCanvasTexture() 向 ${n} 号纹理单元提交纹理后，不能再调用 ${e}() 向该纹理单元提交纹理`)}if(((e,t)=>{var r=(0,a.No)(t);if(!r)return!0;var{secure:n}=r,{secure:i}=(0,a.No)(e);return!(!i&&n)})(this.canvas,/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1]))return!0;console.warn(`在 game.json 配置了 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 ${e} 不能传入安全 Canvas`)}},p=!1,f="unknown";o.default.onReady((()=>{p=(0,s.J)("screenCanvasReadPixels"),f=(0,c.KU)("screenCanvasReadPixelsFreely")}));var g={toDataURL:function(){return!!l(this)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!l(this.canvas)||(console.warn("在 game.json 配置了 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:d("createPattern"),drawImage:d("drawImage"),texImage2D:d("texImage2D"),texSubImage2D:d("texSubImage2D"),wxBindCanvasTexture:d("wxBindCanvasTexture"),readPixels:function(){var{secure:e}=(0,a.No)(this.canvas);if(!e)return!0;if((0,u.v)("WebGLRenderingContext.readPixels"),p){var{dirtyFramebufferMap:t,currentFramebuffer:r}=(0,a.No)(this.canvas).flag;if(!t.has(r)||((0,u.v)("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==f))return!0;console.warn("在 game.json 配置了 OpenDataContext 后，绘制了 sharedCanvas 的画布不能 readPixels")}else(0,u.v)("screenCanvasReadPixelsNoPermission")}},v=r(7445),m=Object.prototype.hasOwnProperty,y=Object.getOwnPropertyDescriptor;var b,_,w,I=["width","height"],S=["offsetTop","offsetLeft","offsetWidth","offsetHeight"],k=Object.prototype.hasOwnProperty,C=Object.defineProperty,T=Object.getOwnPropertyDescriptor;(0,n.a)((()=>{b=n.Z.Canvas,_=n.Z.Image}));var A,P,E={"2d":null,webgl:null},x={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},M=function(e){C(x,e,{get(){A||(A=L()),P||(P=A.getContext("2d"));var t=e+"_cache";if(x[t])return x[t];if("Canvas"===e)x[t]=Object.getPrototypeOf(A);else if("Image"===e)x[t]=Object.getPrototypeOf(new _);else if("CanvasRenderingContext2D"===e)x[t]=Object.getPrototypeOf(P);else if("CanvasPattern"===e){var r=P.createPattern(A,"repeat");x[t]=Object.getPrototypeOf(r)}else if("CanvasGradient"===e){var n=P.createLinearGradient(0,0,100,100);x[t]=Object.getPrototypeOf(n)}else if("ImageData"===e){var a=P.getImageData(0,0,10,10);x[t]=Object.getPrototypeOf(a)}else if("TextMetrics"===e){var i=P.measureText("123");try{x[t]=Object.getPrototypeOf(i)}catch(e){h.error("createTextMetrics Error: ",e)}}return x[t]}})};for(var D of Object.keys(x))M(D);var R=new WeakMap;function L(){var e=new b;return e.width=1,e.height=1,e}function O(e){function t(){}var r={};return"undefined"!=typeof __jitMode&&__jitMode&&(r=Object.create(null),t.prototype=r,r.constructor=t,Object.defineProperty(r,"__proto__",{get(){return Object.getPrototypeOf(this)},set(e){Object.setPrototypeOf(this,e)}})),Object.keys(e).forEach((t=>{var n=T(e,t);if("function"!=typeof n.value)n.get||n.set?C(r,t,{get(){if(n.get)return n.get.call(this)},set(e){n.set&&n.set.call(this,e)}}):C(r,t,n);else{var a=e[t];r[t]=function(){if("function"==typeof g[t]){var e=g[t].apply(this,arguments);if(!0!==e)return e}return"function"==typeof i.a[t]&&i.a[t].apply(this,arguments),a.apply(this,arguments)}}})),r}function N(){return x}var j=function(){if(w)return w;var e,t,r=L(),i=!k.call(r,"width"),o=Object.getPrototypeOf(r),s=O(o),u=s.getContext;return s.getContext=function(e,t){var{isSharedCanvas:r,isScreenCanvas:i}=(0,a.No)(this);if(r)return{};var o=u.call(this,e,t);return null==o||(v.jP&&i&&n.Z.setLiveContext&&n.Z.setLiveContext(o,e,t),/2d|webgl/.test(e)&&Object.setPrototypeOf(o,function(e){if(E[e])return E[e];var t=L().getContext(e),r=O(Object.getPrototypeOf(t));return E[e]=r,E[e]}(e)),R.set(o,this),C(o,"canvas",{value:this,configurable:!1,writeable:!1})),o},i&&(e=s,t=o,S.forEach((r=>{for(var n=function(){if(m.call(a,r)){var t=y(a,r);return Object.defineProperty(e,r,{get(){if(t.get)return t.get.call(this)},set(e){t.set&&t.set.call(this,e)},configurable:!1}),{v:void 0}}},a=t;a;a=a.__proto__){var i=n();if("object"==typeof i)return i.v}}))),w=s,s},B=function(e){var t;v.wZ&&"1"===(null===o.default||void 0===o.default||null===(t=o.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_forbid_sharedcanvas_defineproperty)&&I.concat(S).forEach((t=>{C(e,t,{configurable:!1})}))}},1598:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,I:()=>i});var n=!1,a=()=>n,i=e=>{n=e}},9825:(e,t,r)=>{"use strict";r.d(t,{a:()=>u,f:()=>i});var n=r(2529),a=e=>"object"==typeof e&&null!==e,i=()=>{var e={};return{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:e,currentFramebuffer:e}},o=function(){var e=arguments[arguments.length-1],t=(0,n.No)(e),{textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag,s=r[i];a(s)&&(t&&t.isSharedCanvas?o.set(s,!0):o.has(s)&&o.delete(s))},s=function(){var{textures:e,currentFramebuffer:t,dirtyFramebufferMap:r,framebufferTextureMap:i,dirtyTextureMap:o,framebufferRenderbufferMap:s,dirtyRenderbufferMap:u}=(0,n.No)(this.canvas).flag;if(e.some((e=>o.has(e)))){r.set(t,!0);var c=i.get(t);a(c)&&o.set(c,!0);var l=s.get(t);a(l)&&u.set(l,!0)}},u={activeTexture(e){var t=e-this.TEXTURE0;(0,n.No)(this.canvas).flag.currentTextureIndex=t},bindTexture(e,t){var{textures:r,currentTextureIndex:a}=(0,n.No)(this.canvas).flag;r[a]=t},wxBindCanvasTexture(e,t){var{textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag;if(a(t)){var s=(0,n.No)(t),u={type:"WeixinCanvasTexture"};r[i]=u,s&&s.isSharedCanvas?o.set(u,!0):o.has(u)&&o.delete(u)}else r[i]=null},texImage2D:o,texSubImage2D:o,bindFramebuffer(e,t){var r=(0,n.No)(this.canvas).flag;r.currentFramebuffer=t||r.screenFramebuffer},framebufferTexture2D(e,t,r,a){var{framebufferTextureMap:i,currentFramebuffer:o}=(0,n.No)(this.canvas).flag;i.set(o,a)},framebufferRenderbuffer(e,t,r,a){var{dirtyRenderbufferMap:i,dirtyFramebufferMap:o,framebufferRenderbufferMap:s,currentFramebuffer:u}=(0,n.No)(this.canvas).flag;i.has(a)&&o.set(u,!0),s.set(u,a)},copyTexImage2D(){var{dirtyFramebufferMap:e,currentFramebuffer:t,textures:r,currentTextureIndex:i,dirtyTextureMap:o}=(0,n.No)(this.canvas).flag;if(e.has(t)){var s=r[i];a(s)&&o.set(s,!0)}},drawArrays:s,drawElements:s}},9325:(e,t,r)=>{"use strict";r.d(t,{B:()=>h,D:()=>g});var n,a,i=r(7445),o=r(1399),s={src:null,width:null,height:null,naturalWidth:null,naturalHeight:null,complete:null,tagName:null,nodeName:null,onerror:null,onload:null},u=new WeakMap;function c(e){return e?u.set(e,(t=>e({type:t.type,target:t.target,timestamp:t.timeStamp,currentTarget:t.target}))).get(e):null}(0,o.a)((e=>{var{Image:t}=e;if("src"in t.prototype){var r=t.prototype.addEventListener,a=t.prototype.removeEventListener;n={addEventListener(e,t){r.call(this,e,c(t))},removeEventListener(e,t){a.call(this,e,u.get(t)||t)}};for(var i=function(e){Object.keys(e).forEach((t=>{t in s&&(s[t]=Object.getOwnPropertyDescriptor(e,t))}))},o=t.prototype;o;o=o.__proto__)i(o)}}));var l=Object.defineProperty,d=Object.getOwnPropertyDescriptor,p=Object.prototype.hasOwnProperty,f=["src","width","height","naturalWidth","naturalHeight","complete","tagName","nodeName","onerror","onload"];function h(){return new o.Z.Image}function g(){var e=new o.Z.Image;return function(e){if(i.DD){if(i.gm||i.jP)return;if(p.call(e,"src"))return;var t=e.__proto__;a||(a={addEventListener(e,r){t.addEventListener.call(this,e,c(r))},removeEventListener(e,r){t.removeEventListener.call(this,e,u.get(r)||r)}}),e.__proto__=a,f.forEach((r=>{for(var n=function(){if(p.call(a,r)){var t=d(a,r);if(/^on/.test(r)){var n=null;l(e,r,{get:()=>n,set(r){n=r,t.set.call(e,c(r))}})}else l(e,r,t);return"break"}},a=t;a&&"break"!==n();a=a.__proto__);}))}else{if(i.gm||!s.src)return;Reflect.setPrototypeOf(e,n);var r=function(){var t=s[o];if(/^on/.test(o)){var r=null;Reflect.defineProperty(e,o,{get:()=>r,set:n=>{t.set.call(e,c(r=n))}})}else Reflect.defineProperty(e,o,t)};for(var o in s)r()}}(e),e}},9717:(e,t,r)=>{"use strict";r.d(t,{tR:()=>c,Qq:()=>u,MI:()=>i});var n=r(190),a=r(9661);var i=e=>{(0,n.IN)("setDeviceOrientation",e)},o="deviceOrientationChange",s=new class{constructor(e={maxListeners:2e3}){this.emitter=new a.Z(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=b.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}};(0,n.jQ)("onDeviceOrientationChange",(e=>{e.value=e.value.toLowerCase(),/reverse/.test(e.value)&&(e.value="landscapeReverse"),s.emit(o,e)}));var u=e=>{(0,n.IN)("enableDeviceOrientationChangeListening",{enable:!0}),s.on(o,e)},c=e=>{var t;s.off(o,e),null!==(t=s.listeners(o))&&void 0!==t&&t.length||(0,n.IN)("enableDeviceOrientationChangeListening",{enable:!1})}},3908:(e,t,r)=>{"use strict";r.d(t,{r:()=>d,y:()=>l});var n=r(6342),a=r(7445),i=r(7351),o=r(6906),s=r(8165),u={},c=null;function l(){return u}function d(){return c||(0,s.Ir)()}n.default.onReady((()=>{u=n.default.appLaunchInfo,(0,a.aI)()&&((0,o.OQ)(((e={})=>{var t=Object.assign({},e);u.referrerInfo=Object.assign({},u.referrerInfo,t.referrerInfo),delete t.referrerInfo,u=Object.assign({},u,t)})),(0,i.Ke)((e=>{c=e})))}))},5184:(e,t,r)=>{"use strict";r.d(t,{Bg:()=>p,M6:()=>l,Y5:()=>u,bh:()=>y,hr:()=>g,ls:()=>s,rW:()=>v,vL:()=>m,yH:()=>f});var n,a,i=r(971),o=r(9976),s=()=>(n||(n=(0,i.Dc)()),n),u=()=>(a||(a=(0,i.d7)()),a),c={},l=e=>{if(!c[e]){try{(0,o.h)((0,i.EH)(e),!0)}catch(e){}c[e]=(0,i.y9)(e)}return c[e]},d={},p=e=>{if(!d[e]){try{(0,o.h)((0,i.Jo)(e),!0)}catch(e){h.error("插件私有目录创建失败",e)}d[e]=(0,i.PZ)(e)}return d[e]},f=e=>(console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),s().saveFile(e)),g=e=>(console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),s().getFileInfo(e)),v=e=>(console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),s().getSavedFileList(e)),m=e=>(console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),s().getSavedFileInfo(e)),y=e=>(console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),s().removeSavedFile(e))},8165:(e,t,r)=>{"use strict";r.d(t,{Br:()=>d,Ir:()=>c,x9:()=>l});var n,a,i=r(1333),o=r(6342),s=r(88),u=r(7311);o.default.onReady((()=>{var e=d(o.default.appLaunchInfo||{});n=e.appLaunchInfo,a=e.publicLaunchInfo}));var c=()=>a,l=()=>n;function d(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=i.Z.set(t.shareKey,t.shareName),i.Z.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),!1===e.reLaunch&&(n={}),void 0===e.reLaunch&&"hide"===(0,u.B)()&&(n={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!(0,s.J)("getGroupToolbarInfo")&&(r=1008);var a={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(a.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),o.default.debugLaunchInfo&&o.default.debugLaunchInfo.lanDebugInfo&&!1!==o.default.debugLaunchInfo.lanDebugInfo.useStaticServer&&(a.lanDebugInfo=o.default.debugLaunchInfo.lanDebugInfo),e.chatType&&(a.chatType=e.chatType),a.referrerInfo&&"wxb6d22f922f37b35a"===a.referrerInfo.appId&&(a.referrerInfo={}),{publicLaunchInfo:a,appLaunchInfo:e}}},2083:(e,t,r)=>{"use strict";r.d(t,{Sn:()=>i,ez:()=>a,vv:()=>o});var n=r(190),a=(e={})=>{if(e.defaultValue&&e.maxLength){var t=parseInt(e.maxLength,10);Number.isNaN(t)||(t=Math.max(0,t),e.defaultValue=e.defaultValue.toString().slice(0,t))}(0,n.IN)("showKeyboard",e)},i=(e={})=>{(0,n.IN)("hideKeyboard",e)},o=(e={})=>{(0,n.IN)("updateKeyboard",e)}},4266:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,z:()=>i});var n=r(190),a=e=>(t={})=>{(e?n.yD:n.t4)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},i=a(!1),o=a(!0)},9939:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503};function a({key:e,value:t,immediately:r}){return"number"!=typeof e||Object.values(n).includes(e)?_.reportKeyValue({key:e,value:t,immediately:r}):_.reportKeyValue({key:e,value:t,immediately:r,number:!0})}},8978:(e,t,r)=>{"use strict";r.d(t,{B:()=>f,S:()=>p});var n=r(190),a=r(7412),i=r(5087),o=r(2900),s="requestSubscribeSystemMessage",u=!1;function c(e){return new Promise(((t,r)=>{(0,n.yD)({sdkApiName:s,apiName:"webapi_getsyssubscribemsgtemplateinfo",reqData:{msg_type_list:e},success(e){t(e)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}})}))}function l(e){return new Promise(((t,r)=>{var n=e.data;n&&n.msg_info_list?t(n.msg_info_list):r({errMsg:"data error"})}))}function d(e){return new Promise(((t,r)=>{var i,o,s=e.map((e=>e.template_id));i={tmplIds:s,success(r){var n={};e.forEach((e=>{var t=e.msg_type,i=(0,a.r)(t);n[i]=r[e.template_id]})),t(n)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}},(o=Object.assign({},i)).tmplIds=Array.from(new Set(i.tmplIds)),(0,n.IN)("requestSubscribeMessage",o)}))}function p(e={}){var t=e.skipTouchCheck;delete e.skipTouchCheck,u?(0,n.YG)(s,e,"please invoke after last subscription ended"):(u=!0,(0,i.UP)(t).then((()=>function(e){var t=e.msgTypeList;return new Promise(((e,r)=>{if(Array.isArray(t)&&t.length>0){var n=t.reduce(((e,t)=>{var r=(0,a.D)(t);return r&&e.push(r),e}),[]);n.length>0?e(n):r({errMsg:"invalid arguments:msgTypeList"})}else r({errMsg:"invalid arguments:msgTypeList"})}))}(e))).then(c).then(l).then(d).then((t=>{(0,n.FE)({name:s,args:e,res:t}),u=!1})).catch((t=>{(0,n.YG)(s,e,t.errMsg||t.message,t.errCode||t.err_code),u=!1})))}var f=e=>(t={})=>((0,o.uC)(e,"requestSubscribeSystemMessageSkipTouchCheck")&&(t.skipTouchCheck=i.KK),p(t))},7041:(e,t,r)=>{"use strict";r.d(t,{k:()=>i,r:()=>a});var n={};function a(e={}){var t=e.shareMessageToFriendScene,r=e.query;if("number"!=typeof t&&"string"!=typeof r)return!1;var a={},i=!1;return t>=0&&t<=50&&(a.shareMessageToFriendScene=t,i=!0),"string"==typeof r&&r.length<=128&&(a.query=r,i=!0),i&&(n=a),i}function i(){return Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")}},7328:(e,t,r)=>{"use strict";r.d(t,{H:()=>g,_:()=>h});var n=r(3888),a=r.n(n),i=r(6342),o=r(8267),s=r(9325),u=r(2529),c=r(190),l=1,d=!1;function p(e,t,r=""){return e.font=`${t}px -apple-system`,r?e.measureText(r).width:0}i.default.onReady((()=>{l=i.default.pixelRatio,setTimeout((()=>{(0,c.yD)({apiName:"webapi_game_issharemarkenabled",reqData:{lib_version:o.c},success(e){var t=e.data;d=t.is_enabled,"undefined"!=typeof __jitMode&&(d=!1)}})}),4e3)}));var f=e=>new Promise((t=>{if(e)if("transparent"===e)t({width:0,height:0});else{var r=(0,s.B)();r.onload=()=>t(r),r.onerror=()=>t(),r.src=e}else t()})),h=function(){var e=a()((function*({background:e,label:t,icon:r,tag:n,more:a=!1,base64:i=!1}){if(!e)return e;var o=(0,u.pr)(),s=o.getContext("2d");o.width=210*l,o.height=168*l,"transparent"===e&&(o.height=40*l),s.fillStyle="rgba(255, 255, 255, 0)",s.fillRect(0,0,o.width,o.height);var c=yield f(e);if(!c)return e;c.width/c.height>=1.25?s.drawImage(c,0,0,1.25*c.height,c.height,0,0,o.width,o.height):c.width/c.height<1.25&&s.drawImage(c,0,0,c.width,.8*c.width,0,0,o.width,o.height);var d=p(s,12*l,t);if(n){var h=p(s,10*l,n);s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*l),s.lineTo(d+h+12*l,8*l),s.arc(d+h+12*l,20*l,12*l,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*l),s.closePath(),s.fill(),s.fillStyle="#F36D00",s.beginPath(),s.moveTo(4*l,14*l),s.arc(6*l,14*l,2*l,Math.PI,1.5*Math.PI),s.lineTo(h+10*l,12*l),s.arc(h+10*l,14*l,2*l,1.5*Math.PI,2*Math.PI),s.lineTo(h+12*l,26*l),s.arc(h+10*l,26*l,2*l,2*Math.PI,2.5*Math.PI),s.lineTo(6*l,28*l),s.arc(6*l,26*l,2*l,.5*Math.PI,Math.PI),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",s.fillText(n,8*l,23.5*l),p(s,12*l),s.fillText(t,h+16*l,24*l)}else if(r){var g=yield f(a&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAMCAYAAABBV8wuAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAHtJREFUeNpj/v//v3RDQwNDY2PjLwYkwATEM4F4B1ABL7pEChALoUsyA434AjRqLZCdCcTBQPZqkLGMMBVA1RJAaj8QvwNiD0Zkc5EkHzMxoIL/UMzIhKRaHKr6I8guRiyC7oyMjJ8YsQnC/DEXXRAEWIA4A4g/IQuCAAABEju5SK8v4wAAAABJRU5ErkJggg=="),v=g?10*l:0;s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*l),s.lineTo(d+v+22*l,8*l),s.arc(d+v+22*l,20*l,12*l,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*l),s.closePath(),s.fill();var m=yield f(r);m&&m.width&&m.height&&s.drawImage(m,6*l,12*l,16*l,16*l),g&&g.width&&g.height&&s.drawImage(g,d+30*l,14*l,6*l,12*l),s.fillStyle="#FFFFFF",p(s,12*l),s.fillText(t,26*l,24*l)}else s.fillStyle="rgba(0, 0, 0, 0.5)",s.beginPath(),s.moveTo(0,8*l),s.lineTo(d+2*l,8*l),s.arc(d+2*l,20*l,12*l,1.5*Math.PI,2.5*Math.PI),s.lineTo(0,32*l),s.closePath(),s.fill(),s.fillStyle="#FFFFFF",p(s,12*l),s.fillText(t,6*l,24*l);return i?o.toDataURL():o.toTempFilePathSync()}));return function(t){return e.apply(this,arguments)}}(),g=e=>new Promise((t=>{d&&e.imageUrl?(0,c.yD)({apiName:"webapi_game_getsharemark",reqData:{lib_version:o.c},success:r=>{var n=r.data;(n=(n.mark_list||[])[0])||t(e),n&&h({background:e.imageUrl,label:n.wording,icon:n.head_img_url,tag:n.mark_word}).then((r=>{e.imageUrl=r,e.extra={shareCardMarker:{label:n.mark_type}},t(e)})).catch((()=>t(e)))},fail:()=>t(e)}):t(e)}))},1772:(e,t,r)=>{"use strict";r.d(t,{HP:()=>U,A5:()=>N,ld:()=>G,$F:()=>W,dg:()=>V});var n=r(9661),a=r(190),i=r(1333),o=r(7298),s=r(5771),u=r(7445),c=r(9806),l=r(8834),d=r(6342),p=r(8059),f=r(7551),g=r(6385),v={};var m=r(2248),y=r(88),b=r(8561),w=r(3908),I=r(6),S=r(7803),k=r(2576),C=r(2950),T=r(1357),A=r(3612),P=r(6906),E=r(7351),x=r(7328),M=r(8105),D=r(9980);var R=new n.Z,L=null,O=null,N=()=>O;d.default.onReady((()=>{(0,u.aI)()&&(0,E.dN)((e=>{if(O={},e.referrerInfo&&e.referrerInfo.messageExtraData){O=e.referrerInfo.messageExtraData;var{userInfo:t,shareType:r}=O;if(r&&t){var n=[_.getAppType(),r,t.openId,e.path||"",(0,g._getCurrentNetworkType)()].join(",");_.reportKeyValue({key:"ShareCardClick",value:n})}}}))})),(0,P.OQ)((e=>{var t=e.shareInfo;"object"==typeof t&&null!==t&&setTimeout((()=>{j(t.shareKey)}),500)}));var j=e=>{(0,a.IN)("showUpdatableMessageSubscribeButton",{shareKey:e})},B=e=>(t,r)=>{var{shareInfos:n}=t;if(delete t.shareInfos,void 0!==n&&n.length>0)if(n=n.filter((e=>e.shareKey&&e.shareName)),t.shareTickets=n.map((e=>(j(e.shareKey),i.Z.set(e.shareKey,e.shareName)))),u.gm)delete t.shareTickets,delete t.shareInfos,r();else{if(e.getGroupMsgTicket)return void Promise.all(n.map((e=>new Promise((t=>{var{shareKey:r}=e;(0,s.k)({shareKey:r,success(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail(){t({groupMsgTicket:""})}})}))))).then((e=>(t.groupMsgInfos=e,r()))).catch((()=>{}));r()}else r()},F=(e={},t,r={},n=!1)=>{var i=(0,w.y)().apiCategory||d.default.appLaunchInfo.appearance;if(["nativeFunctionalized"].includes(i))return(0,a.YG)(t,e,`not supported in ${i} apiCategory.`),void(0,p.showToast)({icon:"none",title:"暂不支持当前功能"});var s=(0,C.VW)(),f=(0,C.rZ)(),h="string"==typeof e.path?e.path:"",g="string"==typeof e.query?e.query:"",b="",I=0;switch(t){case"shareAppMessage":I=1;break;case"shareAppMessageDirectly":I=2;break;case"shareAppMessageToSpecificContactDirectly":I=3}if(g.length>2e3&&(console.warn(`shareAppMessage: query exceed max length limit 2000: "${g.length}"`),g=g.substr(0,2e3)),g&&(h=`${h}?${g}`),e.imageUrl=o.LC.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!s){if(!f[e.imageUrlId])return e.imageUrlId,(0,p.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void S(2);b=e.imageUrl=f[e.imageUrlId]}function S(t){!function({result:e,shareType:t,canUseCustomImageUrl:r,imageUrlId:n="",transformedImageUrl:a=""}){var i=v.query,o=[],s=d.default.accountInfo&&d.default.accountInfo.nickname||"";if(i&&"object"==typeof i)for(var u in i)o.push(`${encodeURIComponent(u)}=${encodeURIComponent(i[u])}`);var c=[v.scene,v.scene_note,v.sessionid,"",s,_.getAppType(),e,0,o.join("&"),t,r?1:2,n,a,d.default.host?d.default.host.appId:""].map(encodeURIComponent).join(",");_.reportKeyValue({key:"Share",value:c}),_.submit()}({result:t,shareType:I,canUseCustomImageUrl:s,imageUrlId:e.imageUrlId,transformedImageUrl:b})}(0,a.IN)(t,Object.assign(r,e,{path:h,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:I,userInfo:L},e.extra),success(t){(0,M.M)("shareAppMessage",t),(n||!u.gm&&(0,c.KU)("share"))&&(0,a.FE)({name:"shareAppMessage",args:e,res:t}),S(1),setTimeout((()=>{(0,m.y4)(m.F0.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500),e.requireAdsSkipCard&&(0,a.yD)({apiName:"webapi_recvadcardsharepresent",reqData:{outTradeNo:(Date.now()+Math.random()).toString(36)},success(e){var t=e.data;!t.errCode&&t.amount&&(0,A.et)(t)}})},fail(t){var r=t.errMsg.replace("shareAppMessage:fail","");(n||!u.gm&&(0,c.KU)("share"))&&(0,a.YG)("shareAppMessage",e,r),S(-1!==r.indexOf("cancel")?3:2)},cancel(){setTimeout((()=>{(0,m.y4)(m.F0.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:t=>{var r=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),n=!r||"shareMessageToFriend:ok"===r;(0,y.J)("shareCallback")&&3===I&&(R.emit("callback",{errMsg:r,success:n}),(0,a.FE)({name:"shareMessageToFriend",errMsg:r,success:n,args:e}))}}),{beforeSuccess:B(e),beforeAll(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),["success","fail","cancel","complete"].some((t=>"function"==typeof e[t]))&&(0,l.Y)({name:t,strategy:1}),(0,m.y4)(m.F0.EVENT_CANVAS_BEFORE_SHARE)},U=(...e)=>{var t=e[0];function r(){var t=()=>{var t=e[0].imageUrl;(0,b.V)([t],"image",(r=>{/^(cloud):\/\//.test(t)&&(t=r.data[0].url),e[0].imageUrl=t,(0,u.aI)()?(0,x.H)(e[0]).catch(((...e)=>{})).then((()=>F(...e))):F(...e)}))};L?t():(0,f.Z)().then((e=>{e.openID=e.openId,L=e,t()}))}!u.jP||t.imageUrl||t.imageUrlId?r():function(e={},t){(0,D.O)().then((r=>{var{tempFilePath:n}=r;e.imageUrl=n,t()}))}(t,r)},W=(e={})=>{var t={title:e.title||d.default.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path,requireAdsSkipCard:e.requireAdsSkipCard},r=(0,w.y)(),n=r.scene,a=r.chatroomUsername,i="shareAppMessageDirectly",o=e.toCurrentGroup;(o=1158===n?"boolean"!=typeof o||o:"boolean"==typeof o&&o)&&1158===n&&(t.chatroomUsername=a,i="shareAppMessageToSpecificContactDirectly"),U(t,i),(0,T.y)({reportType:8,query:e.query})},G=e=>{R.on("callback",e)};function V(e){return(0,p.showLoading)({title:"请稍等"}),(0,I.c)({filePath:e.filePath,thumbFilePath:e.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,p.hideLoading)(),e))).then((t=>{var r=(0,S.xF)({pageType:k.Gy.PLAY_PAGE_VIDEO,query:e.query});return function(e,t={},r,n={}){return new Promise(((i,o)=>{var s={title:t.title,path:t.path,imageUrl:e.thumbUrl,cardSubType:(0,S.oq)(r),messageExtraData:{title:t.title,imageUrl:e.fileUrl,pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl,...n}};(0,a.IN)("shareAppMessageDirectly",{...s,success:i,fail:o})}))}(t,{title:e.title,path:r,imageUrl:t.thumbUrl},k.Gy.PLAY_PAGE_VIDEO,e)})).catch((e=>{(0,p.hideLoading)(),h.error("shareVideoAppMessage fail",e)}))}},9967:(e,t,r)=>{"use strict";r.d(t,{vC:()=>d,Q8:()=>f});var n=r(190),a=r(6342),i=r(7445),o=r(7351),s=r(8059);i.cj&&(0,o.dN)((()=>{setTimeout((()=>{var e;new Promise(((e,t)=>{(0,n.IN)("getDisposableUserState",{keys:["GAME_LIVE_INVITE"],success(r){if(r.GAME_LIVE_INVITE){var n={};try{n=JSON.parse(r.GAME_LIVE_INVITE)}catch(e){t(e)}e(n)}},fail:t})})).then((t=>(e=t.sceneNote,function(e){return(0,n.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.checkminigamelivesession",liveSession:e.liveSession}})}(t)))).then((t=>{!function(e,t){var r=e.data,{canJoin:a,joinParams:i}=r;if(a){var{path:o,gameLiveInfo:u,joinMsg:c}=i;(0,s._showModal)({content:c,success(e){e.confirm&&(0,n.IN)("restart",{url:o,scene:1219,referrerInfo:{gameLiveInfo:JSON.stringify(u)},sceneNote:t})}})}}(t,e)})).catch((e=>{h.error("checkGameLiveInvite fail",e)}))}),1e3)}));var u=r(8314),c=r(5087),l=r(6142);function d(e={}){(0,c.Vt)()?f(e):(0,n.YG)("shareInvitationToLiveRoom",e,"require user interaction (only in touchend event)")}var p=!1;function f(e={},t=!1){var r="shareInvitationToLiveRoom";if(p)return(0,n.YG)(r,e,"please invoke after last invoke ended"),void(t&&console.error("onShareInvitationToLiveRoom fail: please invoke after last invoke ended"));if((0,n.r3)(r,e,{activityId:""})){p=!0;var{success:i,fail:o,failWithMsg:s}=(0,n.Rn)(e,r),c=function(e={},t={title:a.default.accountInfo.nickname}){var r={},n="string"==typeof e.query?e.query:"";return n.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${n.length}"`),n=n.substr(0,2e3)),r.path=`?${n}`,Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:n},t,e,r)}(e),d=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"room_limit"===e.name)return t=e.value,!0})),t}(c.templateInfo)),f=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"member_count"===e.name)return t=e.value,!0})),t}(c.templateInfo));Promise.all([(0,n.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.getminigameteamupconfig"}}),new Promise((e=>{(0,n.IN)("getGlobalStorage",{key:u.s,success(t){t.data?e(t.data):e(null)},fail(t){h.error("getGlobalStorage GAME_LIVE_DEFAULT_CONDITION fail=",t),e(null)}})}))]).then((([e,s])=>{s=parseInt(s);var l=e.data,g=function(e=[]){return e.map((e=>({wording:e.mode_desc,conditionId:e.join_team_mode})))}(l.mode_list);(0,n.IN)(r,{path:c.path,title:c.title,teamupExtraData:JSON.stringify({activity_id:c.activityId,parameter_list:c.templateInfo&&c.templateInfo.parameterList,room_limit:d,member_count:f>=1?f:1,appid:a.default.accountInfo.appId}),subTitle:c.subTitle||"",statusWording:d>=1?`成员正在加入中，当前 ${f>=1?f:1} / ${d}`:"",condition:g,canJoin:l.enable_teamup,defaultConditionIndex:s>=0?s:void 0,sourceType:t?2:1,success(e){p=!1;var{selectedIndex:t}=e;void 0!==t&&function(e){(0,n.IN)("setGlobalStorage",{key:u.s,data:""+e,fail(e){h.error("setGlobalStorage fail",e)}})}(t),i(e)},fail(e){h.error("invoke shareInvitationToLiveRoom fail",e),p=!1,o(e)}})})).catch((e=>{h.error(`${r} fail`,e.message||e),p=!1,(0,n.IN)(r,{canJoin:!1,sourceType:t?2:1,complete(){s({msg:e.message||e.errMsg})}})}))}else t&&console.error(`onShareInvitationToLiveRoom parameter error: 'activityId' should be string instead of ${(0,l.Em)(e.activityId)};`)}},2950:(e,t,r)=>{"use strict";r.d(t,{AV:()=>h,Hi:()=>g,Mc:()=>p,VW:()=>d,rZ:()=>l,tK:()=>f});var n=r(6342),a=r(9806),i=r(6),o=r(190),s=r(6345),u=!0,c={};n.default.onReady((()=>{(0,a.KU)("shareCustomImageUrl")||((0,o.TG)("getShareConfig","webapi_getshareconf")({success(e){Array.isArray(e.share_link_list)&&(c=e.share_link_list.reduce(((e,t)=>(e[t.id]=t.url,e)),{}))},fail(e){}}),u=!1)}));var l=()=>c,d=()=>u,p=(e,t,r)=>`${e}?size=${t}x${r}`,f=e=>new Promise(((t,r)=>{(0,o.IN)("getImageInfo",{src:e,success:t,fail:r})}));function h(e){return(0,i.c)({filePath:e,fileType:20301,appType:215})}function g(e,t=1048576){return new Promise(((r,n)=>{(0,s.h)({filePath:e,success:e=>{e.size<=t?r(e):n(e)},fail:n})}))}},8215:(e,t,r)=>{"use strict";r.d(t,{J:()=>s,c:()=>o});var n=r(1399),a=r(190),i=r(7445),o=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",i.gm){var r=null;return(0,a.IN)("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return n.Z.encodeArrayBuffer(t.data,t.format)},s=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",i.gm){var r="";return(0,a.IN)("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return n.Z.decodeArrayBuffer(t.data,t.format)}},7137:(e,t,r)=>{"use strict";r.d(t,{pd:()=>u,wH:()=>g,bo:()=>v,Qi:()=>h,fE:()=>p,Et:()=>f,n8:()=>l,L5:()=>d,Yo:()=>i.Y});var n=r(6347),a=r(190),i=r(3131),o=r(6143),s=r(88),u=e=>{if((0,s.J)("createWebView"))return new o.kh(Object.assign({},e,{__skipDomainCheck__:!1,isGameWebview:!1}));throw new Error("createWebView:fail no permission")},c=({url:e,success:t,fail:r,complete:n})=>{(0,a.IN)("private_openUrl",{url:e,isNativeStyle:!0,success:t,fail:r,complete:n})},l=({success:e,fail:t,complete:r}={})=>{c({url:"http://game.qq.com/contract.shtml",success:e,fail:t,complete:r})},d=({success:e,fail:t,complete:r}={})=>{c({url:"https://game.qq.com/privacy_guide.shtml",success:e,fail:t,complete:r})},p=({success:e,fail:t,complete:r}={})=>{c({url:"http://huanle.qq.com/cp/a20170209notice/",success:e,fail:t,complete:r})},f=({success:e,fail:t,complete:r}={})=>{c({url:"https://game.qq.com/privacy_guide_children.shtml",success:e,fail:t,complete:r})},h=({success:e,fail:t,complete:r}={})=>{c({url:"https://game.qq.com/game_account_cancellation_agreement.shtml",success:e,fail:t,complete:r})},g=({success:e,fail:t,complete:r,query:a}={})=>{c({url:(0,n.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html",a),success:e,fail:t,complete:r})},v=({success:e,fail:t,complete:r,query:a}={})=>{c({url:(0,n.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html",a),success:e,fail:t,complete:r})}},5310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={query:{},scene:0,sceneNote:""}},3091:(e,t,r)=>{"use strict";r.d(t,{wA:()=>S,Ue:()=>w,Wj:()=>_,S1:()=>k,bn:()=>I});var a=r(8220),i=r(8182),o=r(9833),s=r(658),u=r(8020),c=r(190),l=r(8246),d=r(5436),p={};class f extends u.W{constructor({style:e={},name:t,x:r=0,y:n=0,width:a=300,height:i=200,url:o="",urls:s=[],scale:u=1,autoInsert:c=!0,hide:l=!1,zIndex:f=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=a,this.height=i,this.scale=+u,this.hide=l,this.autoInsert=c,this.url=o,this.zIndex=f,this.emitter=new d.Q("ImagePreviewer",!0),p[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return(0,c.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{(0,c.IN)("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{(0,c.IN)("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete p[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}(0,l.n)("onImagePreviewerLoadFail",(e=>{p[e.viewId].emitter.emit("onImageLoadFail",e)}));var g=r(3369),v=new WeakMap,m=n.prototype.call.bind(WeakMap.prototype.get),y=n.prototype.call.bind(WeakMap.prototype.set),b=n.prototype.call.bind(WeakMap.prototype.delete),_=e=>m(v,e),w=function(e){var t=_(this),r={view:a.G,text:i.x,image:o.E,video:s.n,"image-previewer":f}[e.name],n="";e.attributes.id?n=(0,g.um)(e.attributes.id):h.error(`${e.name} 缺少id`);var u=Object.keys(e.attributes).reduce(((r,a)=>{var i=e.attributes[a],o=(0,g.um)(a);return"id"===a?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===a?(r.style=i.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(i)||(r[o]=""===i||"true"===i||"false"!==i&&i),r)}),{});u.name=n;var c=new r(u);return t[n]=c,e.children.forEach((e=>{var t=w.call(this,e);c.add(t)})),c},I=e=>{b(v,e)};class S{constructor(){y(v,this,{})}}var k=function(e,t,r){var n=_(this);n.xom=e,n.style=t,n.state=r,w.call(this,e)}},584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(9661);class a{constructor(){this.emitter=new n.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=b.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},6580:(e,t,r)=>{"use strict";r.d(t,{U:()=>g});var n=r(5469),a=r.n(n),i=r(5943),o=r(3091),s=r(2219),u=r(9768),c=r(6342),l=r(7445),d=r(8059),p=0,f=0;c.default.onReady((()=>{var e=(0,s.Ew)();p=e.screenWidth,f=e.screenHeight,(0,u.KN)(((e={})=>{var{size:t}=e;t&&t.windowWidth&&(p=t.windowWidth,f=t.windowHeight)}))}));class h extends o.wA{constructor({title:e,content:t,icon:r,confirmText:n,cancelText:s,confirm:u,cancel:c,style:l={}}={}){super();var d=(0,o.Wj)(this),h=`<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png" />\n          <text id="title" value="${e}" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          ${r?`<image id="icon" src="${!0===r?"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png":r}" />`:""}\n          <text id="content" value="${t}" />\n        </view>\n        <view id="footer">\n          ${s?`<text id="cancel" value="${s}" />`:""}\n          ${n?`<text id="confirm" value="${n}" />`:""}\n        </view>\n      </view>\n    </view>`,{root:g}=a()(h),v=(({cancelText:e,confirmText:t,icon:r})=>{var n=p>f;return{mask:{width:p,height:f,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:n?(p-f)/2:0,width:n?f:p},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:n?(p-f)/2:0,width:n?f:p},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:n?f:p},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:n?f:p},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:r?0:64,marginBottom:r?0:15,width:n?.9*f:.9*p},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:n?f:p},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:t?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:e?120:184}}})(arguments[0]);Object.keys(l).forEach((e=>{v[e]&&Object.assign(v[e],l[e])})),o.S1.call(this,g,v),i.u.add(d.container),d.close&&d.close.on("click",(()=>{"function"==typeof c&&c()})),d.cancel&&d.cancel.on("click",(()=>{"function"==typeof c&&c()})),d.confirm&&d.confirm.on("click",(()=>{"function"==typeof u&&u()}))}destroy(){var e=(0,o.Wj)(this);i.u.remove(e.container),(0,o.bn)(this)}}function g(e={}){return l.DD?((0,d._showModal)(Object.assign({},e,{showCancel:!!e.cancelText,success({confirm:t,cancel:r}){t?e.confirm&&e.confirm():r&&e.cancel&&e.cancel()}})),{destroy:()=>{}}):new h(e)}},8020:(e,t,r)=>{"use strict";r.d(t,{W:()=>g});var n=r(9661),a=r(2219),i=r(7414),o=r(3369),s=r(6342),u=r(8246),c=(e,t)=>{((e,t,r)=>{r&&(0,u.n)(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)},l=r(3122),d=new n.Z({maxListeners:2e5}),p="portrait",f="";s.default.onReady((()=>{p=s.default.deviceOrientation||p,f=(0,a.Oo)().model||""}));var h=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class g{constructor({parentId:e=0,id:t=l.r.increase(),style:r={},props:n={},name:a=""}={}){var u=s.default.platform;this.parentId=e,this.dest=0,this.id=t,this.name=a,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign((0,i.ph)(),r),Object.assign(r,r[p]);var c=/iphone x/.test(f.toLowerCase())?"iphone x":u;Object.assign(r,r[c]),Object.assign(r,r[`${c}-${p}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==i.fc.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&i.fc.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,o.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=0}))):((0,o.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),i.fc.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&i.MY.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var a=Object.assign({},t);a.x+=r,a.y+=n,this.parent.emit(e,a)}else{var i=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,i)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){d.emit(h(e,this.id),t)}on(e,t){d.on(h(e,this.id),t)}once(e,t){d.once(h(e,this.id),t)}off(e,t){d.off(h(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=h(e,this.id);d.removeAllListeners(t)}))}}var v=e=>{var{id:t}=JSON.parse(e.data);d.emit(h("click",t))};c("onTextViewClick",v),c("onImageViewClick",v),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();c(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);d.emit(h(t,r),e.touch||e.touches)}else d.emit(h(t,e.viewId),e.touch||e.touches)}catch(e){}}))}))},9833:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(8220),a=r(6347);class i extends n.G{constructor({id:e,style:t,src:r="",name:n="",autoInsert:a=!1,eventType:i,bubbleEvent:o,clickState:s,independent:u=!1,dest:c=0}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:a,eventType:i,bubbleEvent:o,clickState:s,independent:u,dest:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,a.Uj)(this.src)})}}},6143:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>o.E,Gf:()=>h,gw:()=>b,xv:()=>a.x,nk:()=>s.n,G7:()=>n.G,kh:()=>w.k,_w:()=>i._,uo:()=>i.u});var n=r(8220),a=r(8182),i=r(5943),o=r(9833),s=r(658),u=r(8020),c=r(5436),l=r(8246),d=r(190),p={},f=new c.Q("LivePlayer",!0);class h extends u.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,src:o,mode:s="live",autoplay:u=!1,muted:c=!1,orientation:l="vertical",objectFit:f="contain",minCache:h=1,maxCache:g=3,soundMode:v="speaker",autoPauseIfOpenNative:m=!0,autoInsert:y=!0,success:b,fail:_,complete:w}={}){super({style:e,name:t}),p[this.id]=this;var I=null;this.deferred=[];var S={x:r,y:n,width:a,height:i,src:o,mode:s,autoplay:u,muted:c,orientation:l,objectFit:f,minCache:h,maxCache:g,soundMode:v,autoPauseIfOpenNative:m};Object.keys(S).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>S[e],set:t=>{if(S[e]!==t){if(S[e]=t,!this.isInserted)return this.deferred.push({type:"property",property:e,value:t}),t;clearTimeout(I),I=setTimeout((()=>this.update()),0)}}})}));var k={success:b,fail:_,complete:w};y&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,d.FE)({name:"createLivePlayer",args:k})})).catch((({errMsg:e})=>{var t=(e||"").replace(/^\w+:fail\s*/,"");(0,d.YG)("createLivePlayer",k,t)}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,d.IN)("insertLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,d.IN)("updateLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t=[]){return this.isInserted?new Promise(((r,n)=>{(0,d.IN)("operateLivePlayer",{livePlayerId:this.id,type:e,data:t,quality:t.quality,fail:n,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePlayerId:this.id,position:e,playUrl:this.src,mode:"live"===this.mode?1:2,autoplay:this.autoplay,muted:this.muted,orientation:this.orientation,objectFit:this.objectFit,minCache:this.minCache,maxCache:this.maxCache,soundMode:this.soundMode,autoPauseIfOpenNative:this.autoPauseIfOpenNative,needEvent:!0,needNetStatus:!0,needAudioVolume:!0};return this.autoInsert||(t.parentId=this.parentId),t}play(){return this.operate("play")}stop(){return this.operate("stop")}pause(){return this.operate("pause")}resume(){return this.operate("resume")}mute(){return this.operate("mute")}requestFullScreen(e=0){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}snapshot(e="raw"){return this.operate("snapshot",{quality:e})}destroy(){return new Promise(((e,t)=>{delete p[this.id],f.off(`state-${this.id}`),f.off(`fs-${this.id}`),f.off(`net-${this.id}`),f.off(`audio-${this.id}`),(0,d.IN)("removeLivePlayer",{livePlayerId:this.id,success:e,fail:t})}))}onStateChange(e){f.on(`state-${this.id}`,e)}offStateChange(e){f.off(`state-${this.id}`,e)}onFullScreenChange(e){f.on(`fs-${this.id}`,e)}offFullScreenChange(e){f.off(`fs-${this.id}`,e)}onNetStatus(e){f.on(`net-${this.id}`,e)}offNetStatus(e){f.off(`net-${this.id}`,e)}onAudioVolumeNotify(e){f.on(`audio-${this.id}`,e)}offAudioVolumeNotify(e){f.off(`audio-${this.id}`,e)}}var g=(e,t)=>(0,l.n)(e,(e=>t(e||{})));g("onLivePlayerEvent",(({livePlayerId:e,errCode:t,errMsg:r})=>{f.emit(`state-${e}`,{code:t,message:r})})),g("onLivePlayerFullScreenChange",(({livePlayerId:e,fullScreen:t,direction:r})=>{f.emit(`fs-${e}`,{fullScreen:t,direction:r})})),g("onLivePlayerNetStatus",(({livePlayerId:e,info:t})=>{t&&f.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),g("onLivePlayerAudioVolume",(({livePlayerId:e,volume:t})=>{f.emit(`audio-${e}`,{volume:t})}));var v={},m=new c.Q("LivePusher",!0);function y(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;default:return 6}}class b extends u.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,url:o,mode:s="RTC",autopush:u=!1,muted:c=!1,enableCamera:l=!0,autoFocus:p=!0,orientation:f="vertical",beauty:h=0,whiteness:g=0,aspect:m="9:16",minBitrate:y=200,maxBitrate:b=1e3,audioQuality:_="high",waitingImage:w,waitingImageHash:I,zoom:S=!1,devicePosition:k="front",remoteMirror:C=!1,localMirror:T="auto",audioReverbType:A=0,enableMic:P=!0,enableAgc:E=!1,enableAns:x=!1,audioVolumeType:M="voicecall",videoWidth:D=360,videoHeight:R=640,autoInsert:L=!0,success:O,fail:N,complete:j}={}){super({style:e,name:t}),v[this.id]=this;var B=null;this.deferred=[];var F={x:r,y:n,width:a,height:i,url:o,mode:s,autopush:u,muted:c,enableCamera:l,autoFocus:p,orientation:f,beauty:h,whiteness:g,aspect:m,minBitrate:y,maxBitrate:b,audioQuality:_,waitingImage:w,waitingImageHash:I,zoom:S,devicePosition:k,remoteMirror:C,localMirror:T,audioReverbType:A,enableMic:P,enableAgc:E,enableAns:x,audioVolumeType:M,videoWidth:D,videoHeight:R};Object.keys(F).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>F[e],set:t=>{if(F[e]!==t){if(F[e]=t,!this.isInserted)return this.deferred.push({type:"property",property:e,value:t}),t;clearTimeout(B),B=setTimeout((()=>this.update()),0)}}})}));var U={success:O,fail:N,complete:j};L&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,d.FE)({name:"createLivePusher",args:U})})).catch((({errMsg:e})=>{var t=(e||"").replace(/^\w+:fail\s*/,"");(0,d.YG)("createLivePusher",U,t)}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,d.IN)("insertLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,d.IN)("updateLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,n)=>{(0,d.IN)("operateLivePusher",{livePusherId:this.id,type:e,url:t.url,volume:t.volume,quality:t.quality,fail:n,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e,t=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},r={livePusherId:this.id,position:t,pushUrl:this.url,mode:y(this.mode),autopush:this.autopush,muted:this.muted,enableCamera:this.enableCamera,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:(e=this.aspect,"3:14"===e?1:2),minBitrate:this.minBitrate,maxBitrate:this.maxBitrate,backgroundImage:this.waitingImage,backgroundMD5:this.waitingImageHash,zoom:this.zoom,devicePosition:this.devicePosition,remoteMirror:this.remoteMirror,localMirror:this.localMirror,enableMic:this.enableMic,enableAGC:this.enableAgc,enableANS:this.enableAns,audioVolumeType:this.audioVolumeType,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,needEvent:!0,needNetStatus:!0};return this.autoInsert||(r.parentId=this.parentId),r}start(){return this.operate("start")}stop(){return this.operate("stop")}pause(){return this.operate("pause")}resume(){return this.operate("resume")}playBGM(e){return this.operate("playBGM",{url:e})}stopBGM(){return this.operate("stopBGM")}pauseBGM(){return this.operate("pauseBGM")}resumeBGM(){return this.operate("resumeBGM")}setBGMVolume(e=1){return this.operate("setBGMVolume",{volume:e})}setMICVolume(e=1){return this.operate("setMICVolume",{volume:e})}startPreview(){return this.operate("startPreview")}stopPreview(){return this.operate("stopPreview")}snapshot(e){return this.operate("snapshot",{quality:e})}switchCamera(){return this.operate("switchCamera")}toggleTorch(){return this.operate("toggleTorch")}destroy(){return new Promise(((e,t)=>{delete v[this.id],m.off(`state-${this.id}`),m.off(`net-${this.id}`),m.off(`start-${this.id}`),m.off(`progress-${this.id}`),m.off(`complete-${this.id}`),m.off(`error-${this.id}`),(0,d.IN)("removeLivePusher",{livePusherId:this.id,success:e,fail:t})}))}onStateChange(e){m.on(`state-${this.id}`,e)}offStateChange(e){m.off(`state-${this.id}`,e)}onNetStatus(e){m.on(`net-${this.id}`,e)}offNetStatus(e){m.off(`net-${this.id}`,e)}onBGMStart(e){m.on(`start-${this.id}`,e)}offBGMStart(e){m.off(`start-${this.id}`,e)}onBGMProgress(e){m.on(`progress-${this.id}`,e)}offBGMProgress(e){m.off(`progress-${this.id}`,e)}onBGMComplete(e){m.on(`complete-${this.id}`,e)}offBGMComplete(e){m.off(`complete-${this.id}`,e)}onError(e){m.on(`error-${this.id}`,e)}offError(e){m.off(`error-${this.id}`,e)}}var _=(e,t)=>(0,l.n)(e,(e=>t(e||{})));_("onLivePusherEvent",(({livePusherId:e,errCode:t,errMsg:r})=>{m.emit(`state-${e}`,{code:t,message:r})})),_("onLivePusherNetStatus",(({livePusherId:e,info:t})=>{t&&m.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),_("onLivePusherBGMStart",(({livePusherId:e})=>{m.emit(`start-${e}`)})),_("onLivePusherBGMProgress",(({livePusherId:e,progress:t,duration:r})=>{m.emit(`progress-${e}`,{progress:t,duration:r})})),_("onLivePusherBGMComplete",(({livePusherId:e,errCode:t})=>{m.emit(`complete-${e}`,{errCode:t})})),_("onLivePusherError",(({livePusherId:e,errCode:t,errMsg:r,data:n})=>{m.emit(`error-${e}`,{errCode:t,errMsg:r,data:n})}));var w=r(3192)},5943:(e,t,r)=>{"use strict";r.d(t,{_:()=>l,u:()=>c});var n=r(8020),a=function(){var e,t="inherit",r="ltr",n="rtl",a="row",i="row-reverse",o="column",s="column-reverse",u="flex-start",c="center",l="flex-end",d="space-between",p="space-around",f="flex-start",h="center",g="flex-end",v="stretch",m="relative",y="absolute",b={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},_={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},w={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},I={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function S(e){return void 0===e}function k(e){return e===a||e===i}function C(e,t){if(void 0!==e.style.marginStart&&k(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function T(e,t){if(void 0!==e.style.marginEnd&&k(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function A(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&k(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function P(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&k(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function E(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&k(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+A(e,t)}function x(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&k(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+P(e,t)}function M(e,t){return A(e,t)+P(e,t)}function D(e,t){return C(e,t)+T(e,t)}function R(e,t){return E(e,t)+x(e,t)}function L(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function O(e,t){if(t===n){if(e===a)return i;if(e===i)return a}return e}function N(e,t){return function(e){return e===o||e===s}(e)?O(a,t):o}function j(e){return e.style.position?e.style.position:"relative"}function B(e){return j(e)===m&&e.style.flex>0}function F(e,t){return e.layout[I[t]]+D(e,t)}function U(e,t){return void 0!==e.style[I[t]]&&e.style[I[t]]>=0}function W(e,t){return void 0!==e.style[t]}function G(e,t){return void 0!==e.style[t]?e.style[t]:0}function V(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],a={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],i=r;return void 0!==a&&a>=0&&i>a&&(i=a),void 0!==n&&n>=0&&i<n&&(i=n),i}function $(e,t){return e>t?e:t}function q(e,t){void 0===e.layout[I[t]]&&U(e,t)&&(e.layout[I[t]]=$(V(e,t,e.style[I[t]]),R(e,t)))}function z(e,t,r){t.layout[_[r]]=e.layout[I[r]]-t.layout[I[r]]-t.layout[w[r]]}function K(e,t){return void 0!==e.style[b[t]]?G(e,b[t]):-G(e,_[t])}function H(n,P,H){var Y=function(e,n){var a;return(a=e.style.direction?e.style.direction:t)===t&&(a=void 0===n?r:n),a}(n,H),Q=O(function(e){return e.style.flexDirection?e.style.flexDirection:o}(n),Y),Z=N(Q,Y),X=O(a,Y);q(n,Q),q(n,Z),n.layout.direction=Y,n.layout[b[Q]]+=C(n,Q)+K(n,Q),n.layout[_[Q]]+=T(n,Q)+K(n,Q),n.layout[b[Z]]+=C(n,Z)+K(n,Z),n.layout[_[Z]]+=T(n,Z)+K(n,Z);var ee=n.children.length,te=R(n,X);if(function(e){return void 0!==e.style.measure}(n)){var re=!S(n.layout[I[X]]),ne=e;ne=U(n,X)?n.style.width:re?n.layout[I[X]]:P-D(n,X),ne-=te;var ae=!U(n,X)&&!re,ie=!U(n,o)&&S(n.layout[I[o]]);if(ae||ie){var oe=n.style.measure(ne);ae&&(n.layout.width=oe.width+te),ie&&(n.layout.height=oe.height+R(n,o))}if(0===ee)return}var se,ue,ce,le,de=function(e){return"wrap"===e.style.flexWrap}(n),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(n),fe=E(n,Q),he=E(n,Z),ge=R(n,Q),ve=R(n,Z),me=!S(n.layout[I[Q]]),ye=!S(n.layout[I[Z]]),be=k(Q),_e=null,we=null,Ie=e;me&&(Ie=n.layout[I[Q]]-ge);for(var Se=0,ke=0,Ce=0,Te=0,Ae=0,Pe=0;ke<ee;){var Ee,xe=0,Me=0,De=0,Re=0,Le=me&&pe===u||!me&&pe!==c,Oe=Le?ee:Se,Ne=!0,je=ee,Be=null,Fe=null,Ue=fe,We=0;for(se=Se;se<ee;++se){if((ce=n.children[se]).lineIndex=Pe,ce.nextAbsoluteChild=null,ce.nextFlexChild=null,(Ye=L(n,ce))===v&&j(ce)===m&&ye&&!U(ce,Z))ce.layout[I[Z]]=$(V(ce,Z,n.layout[I[Z]]-ve-D(ce,Z)),R(ce,Z));else if(j(ce)===y)for(null===_e&&(_e=ce),null!==we&&(we.nextAbsoluteChild=ce),we=ce,ue=0;ue<2;ue++)le=0!==ue?a:o,!S(n.layout[I[le]])&&!U(ce,le)&&W(ce,b[le])&&W(ce,_[le])&&(ce.layout[I[le]]=$(V(ce,le,n.layout[I[le]]-R(n,le)-D(ce,le)-G(ce,b[le])-G(ce,_[le])),R(ce,le)));var Ge=0;if(me&&B(ce)?(Me++,De+=ce.style.flex,null===Be&&(Be=ce),null!==Fe&&(Fe.nextFlexChild=ce),Fe=ce,Ge=R(ce,Q)+D(ce,Q)):(Ee=e,be||(Ee=U(n,X)?n.layout[I[X]]-te:P-D(n,X)-te),0===Ce&&J(ce,Ee,Y),j(ce)===m&&(Re++,Ge=F(ce,Q))),de&&me&&xe+Ge>Ie&&se!==Se){Re--,Ce=1;break}Le&&(j(ce)!==m||B(ce))&&(Le=!1,Oe=se),Ne&&(j(ce)!==m||Ye!==v&&Ye!==f||S(ce.layout[I[Z]]))&&(Ne=!1,je=se),Le&&(ce.layout[w[Q]]+=Ue,me&&z(n,ce,Q),Ue+=F(ce,Q),We=$(We,V(ce,Z,F(ce,Z)))),Ne&&(ce.layout[w[Z]]+=Te+he,ye&&z(n,ce,Z)),Ce=0,xe+=Ge,ke=se+1}var Ve=0,$e=0,qe=0;if(qe=me?Ie-xe:$(xe,0)-xe,0!==Me){var ze,Ke,He=qe/De;for(Fe=Be;null!==Fe;)(ze=He*Fe.style.flex+R(Fe,Q))!==(Ke=V(Fe,Q,ze))&&(qe-=Ke,De-=Fe.style.flex),Fe=Fe.nextFlexChild;for((He=qe/De)<0&&(He=0),Fe=Be;null!==Fe;)Fe.layout[I[Q]]=V(Fe,Q,He*Fe.style.flex+R(Fe,Q)),Ee=e,U(n,X)?Ee=n.layout[I[X]]-te:be||(Ee=P-D(n,X)-te),J(Fe,Ee,Y),ce=Fe,Fe=Fe.nextFlexChild,ce.nextFlexChild=null}else pe!==u&&(pe===c?Ve=qe/2:pe===l?Ve=qe:pe===d?(qe=$(qe,0),$e=Me+Re-1!=0?qe/(Me+Re-1):0):pe===p&&(Ve=($e=qe/(Me+Re))/2));for(Ue+=Ve,se=Oe;se<ke;++se)j(ce=n.children[se])===y&&W(ce,b[Q])?ce.layout[w[Q]]=G(ce,b[Q])+A(n,Q)+C(ce,Q):(ce.layout[w[Q]]+=Ue,me&&z(n,ce,Q),j(ce)===m&&(Ue+=$e+F(ce,Q),We=$(We,V(ce,Z,F(ce,Z)))));var Je=n.layout[I[Z]];for(ye||(Je=$(V(n,Z,We+ve),ve)),se=je;se<ke;++se)if(j(ce=n.children[se])===y&&W(ce,b[Z]))ce.layout[w[Z]]=G(ce,b[Z])+A(n,Z)+C(ce,Z);else{var Ye,Qe=he;if(j(ce)===m)if((Ye=L(n,ce))===v)S(ce.layout[I[Z]])&&(ce.layout[I[Z]]=$(V(ce,Z,Je-ve-D(ce,Z)),R(ce,Z)));else if(Ye!==f){var Ze=Je-ve-F(ce,Z);Qe+=Ye===h?Ze/2:Ze}ce.layout[w[Z]]+=Te+Qe,ye&&z(n,ce,Z)}Te+=We,Ae=$(Ae,Ue),Pe+=1,Se=ke}if(Pe>1&&ye){var Xe=n.layout[I[Z]]-ve,et=Xe-Te,tt=0,rt=he,nt=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(n);nt===g?rt+=et:nt===h?rt+=et/2:nt===v&&Xe>Te&&(tt=et/Pe);var at=0;for(se=0;se<Pe;++se){var it=at,ot=0;for(ue=it;ue<ee;++ue)if(j(ce=n.children[ue])===m){if(ce.lineIndex!==se)break;S(ce.layout[I[Z]])||(ot=$(ot,ce.layout[I[Z]]+D(ce,Z)))}for(at=ue,ot+=tt,ue=it;ue<at;++ue)if(j(ce=n.children[ue])===m){var st=L(n,ce);if(st===f)ce.layout[w[Z]]=rt+C(ce,Z);else if(st===g)ce.layout[w[Z]]=rt+ot-T(ce,Z)-ce.layout[I[Z]];else if(st===h){var ut=ce.layout[I[Z]];ce.layout[w[Z]]=rt+(ot-ut)/2}else st===v&&(ce.layout[w[Z]]=rt+C(ce,Z))}rt+=ot}}var ct=!1,lt=!1;if(me||(n.layout[I[Q]]=$(V(n,Q,Ae+x(n,Q)),ge),Q!==i&&Q!==s||(ct=!0)),ye||(n.layout[I[Z]]=$(V(n,Z,Te+ve),ve),Z!==i&&Z!==s||(lt=!0)),ct||lt)for(se=0;se<ee;++se)ce=n.children[se],ct&&z(n,ce,Q),lt&&z(n,ce,Z);for(we=_e;null!==we;){for(ue=0;ue<2;ue++)le=0!==ue?a:o,!S(n.layout[I[le]])&&!U(we,le)&&W(we,b[le])&&W(we,_[le])&&(we.layout[I[le]]=$(V(we,le,n.layout[I[le]]-M(n,le)-D(we,le)-G(we,b[le])-G(we,_[le])),R(we,le))),W(we,_[le])&&!W(we,b[le])&&(we.layout[b[le]]=n.layout[I[le]]-we.layout[I[le]]-G(we,_[le]));ce=we,we=we.nextAbsoluteChild,ce.nextAbsoluteChild=null}}function J(e,t,n){e.shouldUpdate=!0;var a=e.style.direction||r;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===a?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=a,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),H(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:H,computeLayout:J,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var i=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&i(e,r)}))},o=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return o(r)})))))},s=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return s(r)}))};class u extends n.W{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t,r={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return t=r,a.fillNodes(t),a.computeLayout(t),i(r,this),e?o(this).then((()=>this.emit("update-done"))):(s(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var c=new u({name:"webview-layout"});c.dest=0;var l=new u({name:"nativeview-layout",auto:!1});l.onebyone=!1,l.dest=1},7414:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a,fc:()=>n,ph:()=>i});var n=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],a=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],i=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0})},8182:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(8220);class a extends n.G{constructor({id:e,style:t,value:r="",name:n="",autoInsert:a=!1,eventType:i,bubbleEvent:o,clickState:s,independent:u=!1,dest:c=0}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:a,eventType:i,bubbleEvent:o,clickState:s,independent:u,dest:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}},3122:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={uuid:32768,increase(){return this.uuid++}}},658:(e,t,r)=>{"use strict";r.d(t,{n:()=>y});var n=r(584),a=r(8020),i=r(190),o=r(8246),s=r(7445),u=r(6342),c=r(6385),l={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},d=0,p={};u.default.onReady((()=>{d=u.default.appType+1e3,p=u.default.appLaunchInfo}));var f={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},h=r(6347),g={},v=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];s.wZ&&v.push("onVideoFullScreenChange");var m=(e,t,r)=>{"ad"!==e.scene&&(({component:e,eventName:t,eventData:r,src:n=""}={})=>{var a=(0,c._getCurrentNetworkType)(),i=u.default.SDKVersion||"",o=Object.keys(p.query||{}).map((e=>`${e}=${p.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var h=[Math.round(Date.now()/1e3),p.scene,"",p.sessionid||p.sessionId,p.path,o,a,i,l[e],f[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),d].join(",");_.reportKeyValue({key:"MediaCompStatus",value:h})})({component:"video",eventName:t,eventData:r,src:e.src})};class y extends a.W{constructor({style:e={},name:t,x:r=0,y:a=0,width:i=300,height:o=200,hide:s=!1,src:u,poster:c,referrerPolicy:l="no-referrer",initialTime:d=0,playbackRate:p=1,live:f=!1,objectFit:h="contain",controls:m=!0,showProgress:y=!0,showProgressInControlMode:b=y,autoplay:_=!1,muted:w=!1,loop:I=!1,customCache:S=!1,enableProgressGesture:k=!0,enablePlayGesture:C=!1,showCenterPlayBtn:T=!0,autoInsert:A=!0,scene:P="default",preLoad:E=!1,obeyMuteSwitch:x=!1,underGameView:M=!1,backgroundColor:D="#000000",playerHint:R="",zIndex:L,autoPauseIfNavigate:O=!0,autoPauseIfOpenNative:N=!0,independent:j=!1,dest:B=0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=A,this.playerHint=R,this.scene=P,this.preLoad=E,this.underGameView=M,this.zIndex=L,this.autoPauseIfOpenNative=N,this.autoPauseIfNavigate=O,this.customCache=S,this.independent=j,this.dest=B,g[this.id]=this;var F=null;this.emitter=new n.Z,this.deferred=[],this._buffered=0,this._position=0;var U={x:r,y:a,width:i,height:o,hide:s,src:u,poster:c,initialTime:d,playbackRate:p,live:f,objectFit:h,controls:m,showProgress:y,showProgressInControlMode:b,backgroundColor:D,autoplay:_,muted:w,loop:I,enableProgressGesture:k,enablePlayGesture:C,showCenterPlayBtn:T,obeyMuteSwitch:x,referrerPolicy:l};Object.keys(U).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>U[e],set:t=>{"src"!==e&&U[e]===t||(U[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(F),F=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),v.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,m(this,"onSrcSet",{}),new Promise(((e,t)=>{(0,i.IN)("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,h.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{s.cj?setTimeout((()=>{(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),v.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete g[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent};return this.isSrcChanged&&(t.filePath=(0,h.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,h.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&m(this,"onSrcSet",{}),new Promise(((t,r)=>{(0,i.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{(0,i.IN)("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}v.forEach((e=>{var t=e.replace("Video","");y.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");y.prototype[r]=function(t){this.emitter.off(e,t)}})),v.forEach((e=>{(0,o.n)(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=g[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var a=t;"onVideoTimeUpdate"===e?(n._position=t.position,a={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(a={position:n._position,buffered:n._buffered}),m(n,e.replace("Video",""),a)}else n._buffered=t.buffered}))}))},8220:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var n=r(190),a=r(8020),i=r(3369);class o extends a.W{constructor({id:e,parentId:t,style:r,props:n={},type:a="text",name:i="",autoInsert:s=!1,eventType:u="touch",clickState:c=!1,bubbleEvent:l=!1,independent:d=!1,dest:p=0}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:i,parentId:t}),this.type="text"===a?"TextView":"ImageView",this.eventType=u,this.autoInsert=s,this.bubbleEvent=l,this.independent=d,this.dest=p,"touch"===this.eventType&&c&&this.ready().then((()=>{this.mask=new o({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var f=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{c&&this.mask&&(this.mask.style.hidden=!1),f=Date.now(),h=e}));var g=e=>{c&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-f};this.emit("click",n)};this.on("touchend",g),this.on("touchcancel",g),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,i.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,i.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{(0,n.IN)(`insert${this.type}`,Object.assign(e,{success:e=>{(0,i.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{(0,n.IN)(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,r)=>{(0,n.IN)(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:a,scaleHeight:i,rotate:o=0,duration:s=500,easing:u}={}){var c={dest:this.dest,viewId:this.id,easing:u||"ease-in",duration:s,finalStyle:{left:e,top:t,opacity:r,rotate:o,scaleX:a,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{(0,n.IN)("animateCoverView",Object.assign(c,{success:e,fail:t}))})).then((n=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==a&&(this.style.scaleWidth=a),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==o&&(this.style.rotate=o),n))).catch((e=>{h.error("animateCoverView fail",e)}))}}},3192:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m,k:()=>v});var n=r(8020),a=r(190),i=r(8246),o=r(6342),s=r(7445),u=r(6347),c=["game.weixin.qq.com"],l=new Map,d=new WeakMap,p=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",f=(e,t)=>e&&t?(0,a.qu)(t):a.IN;function g(){return new Promise(((e,t)=>{var r=d.get(this),{style:n,__skipDomainCheck__:a,src:i,zIndex:o,isGameWebview:s,pluginId:u,fullscreen:c,adjustResizeOnKeyboardStateChanged:l}=r,p=(e=>e?"insertGameHTMLWebView":"insertHTMLWebView")(s);f(s,u)(p,{htmlId:this.id,position:n,src:i,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:a,adjustResizeOnKeyboardStateChanged:l,fullscreen:c,success:e,fail:t})}))}class v extends n.W{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:a=!1,fullscreen:i,adjustResizeOnKeyboardStateChanged:o=!0},s){super({style:r}),l.set(this.id,this);var c={};try{c=(0,u.en)(e)}catch(e){console.error(e)}d.set(this,{src:e,zIndex:t,style:r,urlObj:c,isGameWebview:a,__skipDomainCheck__:n,adjustResizeOnKeyboardStateChanged:o,fullscreen:i,pluginId:s}),g.call(this),this.isInserted=!0}get src(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.src}set src(e){var t=d.get(this);if(t){t.src=e;var r=p(t.isGameWebview);try{var n=(0,u.en)(e);t.urlObj=n}catch(e){console.error(e)}f(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.style}set style(e){var t=d.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=p(t.isGameWebview),a=f(t.isGameWebview,t.pluginId);this.isInserted&&a(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:d.set(this,{style:e})}get zIndex(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=d.get(this);if(t){t.zIndex=e;var r=p(t.isGameWebview);f(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=d.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var a=p(t.isGameWebview);f(t.isGameWebview,t.pluginId)(a,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=d.get(this);if(e){var t=e.isGameWebview?"removeGameHTMLWebView":"removeHTMLWebView";l.delete(this.id),d.delete(this),f(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function m(){return[...l.keys()]}function y({htmlId:e}){var t=l.get(e);t&&t.onload&&setTimeout(t.onload)}function b({htmlId:e,errcodeCode:t,description:r,src:n}){var a=l.get(e);a&&a.onerror&&setTimeout(a.onerror({errcodeCode:t,description:r,src:n}))}function w({name:e,arg:t,htmlId:r}){"postMessage"===e?l.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||l.forEach(((n,a)=>{var i;if(!r||r===a){var o=l.get(a),s=null===(i=d.get(o))||void 0===i?void 0:i.urlObj;if(s&&c.includes(s.host))if(0===e.indexOf("XLogManager.")){var u=e.split(".")[1];h[u](t)}else"reportKeyValue"===e&&_.reportKeyValue(t)}}))}o.default.onReady((()=>{(0,s.aI)()&&((0,i.n)("onWebViewError",b),(0,i.n)("onWebviewFinishLoad",y),(0,i.n)("onWebInvokeAppService",w),(0,i.n)("WEB_INVOKE_APPSERVICE",w))}))},3369:(e,t,r)=>{"use strict";r.d(t,{$v:()=>s,Fr:()=>o,P2:()=>u,cM:()=>n,um:()=>a});var n=()=>{},a=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),i=Object.assign,o=e=>(t={})=>new Promise(((r,n)=>{e(i(t,{success:r,fail:n}))})),s=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},u=function(e,t,r){var n,a,i,o=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:Date.now(),o=null,i=e.apply(n,a),o||(n=a=null)};return function(){var c=Date.now();s||!1!==r.leading||(s=c);var l=t-(c-s);return n=this,a=arguments,l<=0||l>t?(clearTimeout(o),o=null,s=c,i=e.apply(n,a),o||(n=a=null)):o||!1===r.trailing||(o=setTimeout(u,l)),i}}},6910:(e,t,r)=>{"use strict";r.d(t,{a2:()=>o,pp:()=>s,rc:()=>c});var n=r(9967),a=r(6142),i=null,o=e=>{i=b.surroundThirdByTryCatch(e,"at onShareInvitationToLiveRoom callback function")},s=()=>{i=null},u=(e=3e3)=>new Promise((t=>{setTimeout((()=>{t("time out")}),e)})),c=()=>{var e={};"function"==typeof i&&(e=i(),(0,a.Kn)(e)||(e={}));var{promise:t,onError:r}=e;(0,a.tI)(t)?Promise.race([t,u(3e3)]).then((t=>{if("time out"===t)return b.surroundThirdByTryCatch(r,"at api onShareInvitationToLiveRoom")({errMsg:"promise time out"}),void console.error("onShareInvitationToLiveRoom error: promise time out (3000ms)");e=t,(0,a.Kn)(e)||(e={}),(0,n.Q8)(e,true)})):(0,n.Q8)(e,true)}},273:(e,t,r)=>{"use strict";r.d(t,{DT:()=>a,JE:()=>o,KR:()=>i});var n=(0,r(9766).s)("GameLiveStateChange"),a=n.internalOnMethod,i=n.internalOffMethod,o=n.emitInternal.bind(n)},6906:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>v,Vh:()=>m});var n=r(8165),a=r(9766),i=r(6342),s=r(7445),u=r(8246),c=r(5310),l=r(7803),d=r(6142),p=r(8602),f=r(7351),h=(0,a.s)("BaseFrameShow"),v=h.internalOnMethod;h.internalOffMethod;function m(e,t){e=e||(0,n.Ir)(),t=t||(0,n.x9)(),_.__query__=e.query,c.Z.query=e.query,c.Z.scene=e.scene,(0,f.LJ)(t),(0,f.e4)(e)}function y(e){c.Z.sceneNote=e.scene_note,h.emitInternal(e)}function b(e=""){var t=e.indexOf("?"),r={};if(t>=0){var n=e.slice(t+1);if(n)try{r=n.split("&").reduce(((e,t)=>{var r=t.split("="),n=r[0],a=r.slice(1).join("=");return e[n]=a,e}),{})}catch(e){r={}}}return r}o.onLoad((()=>{var e,t;(s.gm||s.DD||void 0!==g&&null!==(e=g)&&void 0!==e&&null!==(t=e.isAsync)&&void 0!==t&&t.call(e))&&p.Z.once("onhide",!0)})),(0,u.n)("onAppEnterForeground",((e={})=>{var t=e.path;s.wZ&&(0,d.Kn)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=b(t));var{publicLaunchInfo:r,appLaunchInfo:a}=(0,n.Br)(e);y(a),setTimeout((()=>{!(0,l.b$)()&&p.Z.get("onhide")&&m(r,a)}),0)})),i.default.onReady((()=>{var e=(0,n.Ir)(),t=(0,n.x9)();_.__query__=e.query,c.Z.query=e.query,c.Z.scene=e.scene,s.gm||(y(t),s.jP?(0,u.n)("onGamejsInjected",(()=>{(0,l.b$)()||m(e,t)})):setTimeout((()=>{(0,l.b$)()||m(e,t)}),0))}))},7311:(e,t,r)=>{"use strict";var n;function a(e){n=e}function i(){return n}r.d(t,{B:()=>i,v:()=>a})},5087:(e,t,r)=>{"use strict";r.d(t,{KK:()=>c,UP:()=>u,Vt:()=>s});var n=r(8059),a=r(7298),i=r(4599),o=!1;function s(){return!(!o&&!(0,n._checkIsInteracting)())}function u(e){return e===c||s()||(0,n._checkIsInteracting)()?Promise.resolve():Promise.reject(new Error("require user interaction (only in touchend event)"))}a.U.on("beforeTouchEnd",(()=>{o=!0})),a.U.on("afterTouchEnd",(()=>{o=!1})),(0,i.vv)((()=>{o=!1}));var c=Symbol("skipTouchEventCheckFlag")},2576:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>n,Gy:()=>a,W0:()=>i});var n="__wx__/functional-page",a={PLAY_PAGE_IMAGE:"play_page_image",PLAY_PAGE_VIDEO:"play_page_video"},i=[1154,1007,1008,1074,1088,1044,1045,1046,1010,1096]},6435:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n={},a={get:(e="default")=>n[e],set(e,t="default"){n[t]=e},clear(){n={}}}},7803:(e,t,r)=>{"use strict";r.d(t,{CV:()=>u,Vc:()=>o,b$:()=>d,hk:()=>c,oq:()=>l,uy:()=>f,xF:()=>i});var n=r(6435),a=r(2576);function i({pageType:e="",query:t}={}){var r="";return"string"==typeof t?r=t:t&&"object"==typeof t&&(r=p(t)),`${a.Bq}/${e}?${r.replace(/^\?/,"")}`}function o(e=""){return new RegExp(`^${a.Bq}/(${s()})`).test(e)}function s(){return Object.keys(a.Gy).map((e=>a.Gy[e])).join("|")}function u(e=""){var t=e.indexOf("?"),r="",n="";t>=0?(r=e.slice(0,t),n=e.slice(t+1)):r=e;var i=new RegExp(`^${a.Bq}/(${s()})`),o=e.match(i),u="";return o&&(u=o[1]),{path:r,query:n,functionalPageType:u,isFunctionalPage:!!u}}function c(e){var t={},r=n.n.get();if(r.pageType===a.Gy.PLAY_PAGE_IMAGE){var o=i({pageType:a.Gy.PLAY_PAGE_IMAGE,query:r.query});t={title:r.params.title||e.title,path:o,imageUrl:r.params.imageUrl||r.params.fileUrl,messageExtraData:Object.assign({},r.params,{pageType:a.Gy.PLAY_PAGE_IMAGE}),cardSubType:l(a.Gy.PLAY_PAGE_IMAGE)}}else if(r.pageType===a.Gy.PLAY_PAGE_VIDEO){var s=i({pageType:a.Gy.PLAY_PAGE_VIDEO,query:r.query});t={title:r.params.title||e.title,path:s,imageUrl:r.params.thumbUrl,messageExtraData:Object.assign({},r.params,{pageType:a.Gy.PLAY_PAGE_VIDEO}),cardSubType:l(a.Gy.PLAY_PAGE_VIDEO)}}return t}function l(e){return{[a.Gy.PLAY_PAGE_IMAGE]:0,[a.Gy.PLAY_PAGE_VIDEO]:1}[e]}function d(){return!!n.n.get()}function p(e={}){var t=Object.keys(e).reduce(((t,r)=>`${t}${r}=${e[r]}&`),"");return t=t.replace(/&$/,"")}function f(e,t="index.html"){var r="";return"string"==typeof e?r=e:e&&"object"==typeof e&&(r=p(e)),t+"?"+r}},8143:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>y});var n,a={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}},i="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},o=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=i()),void 0===t&&(t=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var a=this._tweens[r[n]],o=!t;a&&!1===a.update(e,o)&&!t&&delete this._tweens[r[n]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),s={Linear:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=s.Utils.Linear;return t<0?i(e[0],e[1],n):t>1?i(e[r],e[r-1],r-n):i(e[a],e[a+1>r?r:a+1],n-a)},Bezier:function(e,t){for(var r=0,n=e.length-1,a=Math.pow,i=s.Utils.Bernstein,o=0;o<=n;o++)r+=a(1-t,n-o)*a(t,o)*e[o]*i(n,o);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=s.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(a=Math.floor(n=r*(1+t))),i(e[(a-1+r)%r],e[a],e[(a+1)%r],e[(a+2)%r],n-a)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):i(e[a?a-1:0],e[a],e[r<a+1?r:a+1],e[r<a+2?r:a+2],n-a)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=s.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(n=[1],function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}),CatmullRom:function(e,t,r,n,a){var i=.5*(r-e),o=.5*(n-t),s=a*a;return(2*t-2*r+i+o)*(a*s)+(-3*t+3*r-2*i-o)*s+i*a+t}}},u=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),c=new o,l=function(){function e(e,t){void 0===t&&(t=c),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=a.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=u.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?i()+parseFloat(e):e:i(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,n){for(var a in r){var i=e[a],o=Array.isArray(i),s=o?"array":typeof i,u=!o&&Array.isArray(r[a]);if("undefined"!==s&&"function"!==s){if(u){var c=r[a];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,i)),r[a]=[i].concat(c)}if("object"!==s&&!o||!i||u)void 0===t[a]&&(t[a]=i),o||(t[a]*=1),n[a]=u?r[a].slice().reverse():t[a]||0;else{for(var l in t[a]=o?[]:{},i)t[a][l]=i[l];n[a]=o?[]:{},this._setupProperties(i,t[a],r[a],n[a])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=i()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=i()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=i()),void 0===t&&(t=!0),this._isPaused)return!0;var r,n,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var o=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,n){for(var a in r)if(void 0!==t[a]){var i=t[a]||0,o=r[a],s=Array.isArray(e[a]),u=Array.isArray(o);!s&&u?e[a]=this._interpolationFunction(o,n):"object"==typeof o&&o?this._updateProperties(e[a],i,o,n):"number"==typeof(o=this._handleRelativeValue(i,o))&&(e[a]=i+(o-i)*n)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof r?this._valuesStartRepeat[e]+parseFloat(r):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),d=u.nextId,p=c,f=p.getAll.bind(p),h=p.removeAll.bind(p),g=p.add.bind(p),v=p.remove.bind(p),m=p.update.bind(p);const y={Easing:a,Group:o,Interpolation:s,now:i,Sequence:u,nextId:d,Tween:l,VERSION:"18.6.4",getAll:f,removeAll:h,add:g,remove:v,update:m}},3478:(e,t,r)=>{"use strict";r.d(t,{n:()=>A});var n,a,i,o,s,u=r(6342),c=r(1325),l=r(9693),d=r(4419);!function(e){e.devtools="devtools",e.android="android",e.ios="ios",e.windows="windows",e.mac="mac"}(n||(n={})),function(e){e.portrait="portrait",e.landscape="landscape",e.landscapeLeft="landscapeLeft",e.landscapeRight="landscapeRight"}(a||(a={})),function(e){e.DEVELOP="develop",e.TRIAL="trial",e.RELEASE="release"}(i||(i={})),function(e){e[e.release=1]="release",e[e.develop=2]="develop",e[e.trial=3]="trial"}(o||(o={})),function(e){e[e.Android=0]="Android",e[e.IOSJscore=1]="IOSJscore",e[e.IOSWK=2]="IOSWK",e[e.UnKnow=3]="UnKnow",e[e.PC=4]="PC",e[e.Devtools=5]="Devtools",e[e.IPadJscore=6]="IPadJscore",e[e.IPadWK=7]="IPadWK"}(s||(s={}));class p extends d.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:n,reportType:a,asyncGetBase:i=(()=>Promise.resolve({})),debug:o,namespace:s="",skipValidateInProdEnv:u=!0}){super({logid:t,schemas:r,base:n,debug:o,namespace:s,skipValidateInProdEnv:u}),this.reportType=d.C2.SvrReport,this.asyncGetBase=i,e||console.error(`[minigamefe${this.namespace}GameTransferReport]: 未传入上报函数。`),this.reportFunc=e,void 0!==a&&(this.reportType=a)}setKvStatBase(e,t){if(this.reportType===d.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:d.QD.STRING,DeviceBrand:d.QD.STRING,OsName:d.QD.STRING,OsVersion:d.QD.STRING,LanguageVersion:d.QD.STRING,Count:d.QD.UINT,AppId:d.QD.STRING,AppVersion:d.QD.UINT,AppState:d.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:o[t.miniProgram.envVersion]||o.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,n=[],a=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);if(t.ExternInfo&&"object"==typeof t.ExternInfo&&this.schemas.ExternInfo===d.QD.STRING&&(t.ExternInfo=encodeURIComponent(JSON.stringify(t.ExternInfo))),this.validate(t),this.reportType===d.C2.KvStat){var r=Math.floor(Date.now()/1e3);Object.assign(t,{StartTime:r,EndTime:r})}var i={log_id:this.logid,custom_data:t};n.push(i),this.debug&&console.log(`[minigamefe${this.namespace}GameTransferReport]: ${a},`,t)}));var i={report_list:n};this.reportFunc({req_path:"comm_datareport",json_data:JSON.stringify(i),success(){t&&t(a,JSON.stringify(i))},fail(e){console.error(e),t&&t(a,(0,l.bV)(e))}})}))}else console.error("[minigamefe GameTransferReport]: 未传入上报函数!!!")}}class f extends d.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:n,debug:a,namespace:i,asyncGetBase:o=(()=>Promise.resolve({})),reportType:s,skipValidateInProdEnv:u=!0}){super({logid:t,schemas:r,base:n,debug:a,namespace:i,skipValidateInProdEnv:u}),this.reportType=d.C2.SvrReport,this.reportFunc=e,e||console.error(`[minigamefe${this.namespace}RequestReport]: 未传入上报函数。`),this.asyncGetBase=o,void 0!==s&&(this.reportType=s)}setKvStatBase(e,t){if(this.reportType===d.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:d.QD.STRING,DeviceBrand:d.QD.STRING,OsName:d.QD.STRING,OsVersion:d.QD.STRING,LanguageVersion:d.QD.STRING,Count:d.QD.UINT,AppId:d.QD.STRING,AppVersion:d.QD.UINT,AppState:d.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:o[t.miniProgram.envVersion]||o.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,n=[],a=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);this.validate(t);var r={log_id:a,custom_data:t};n.push(r)}));var i=JSON.stringify({report_list:n});this.debug&&console.log(`[minigamefe${this.namespace}RequestReport]: ${a}`,...n),this.reportFunc({url:"https://game.weixin.qq.com/cgi-bin/comm/datareport",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:i,success(){t&&t(a,JSON.stringify(i))},fail(e){console.error(e),t&&t(a,(0,l.bV)(e))}})}))}else console.error("[minigamefe RequestReport]: 未传入上报函数!!!")}}var h=["BenchmarkLevel","NetworkType","RuntimeType","PluginAppId","PluginVersion","Scene","SDKVersion","IsVisible","Type","Target","Params","Result","CostTime","ExternInfo","CustomKey1","CustomKey2","CustomKey3","IsError","FELibVersion"],g={BenchmarkLevel:d.QD.UINT,NetworkType:d.QD.STRING,RuntimeType:d.QD.UINT,PluginAppId:d.QD.STRING,PluginVersion:d.QD.STRING,Scene:d.QD.UINT,SDKVersion:d.QD.STRING,IsVisible:d.QD.UINT,Type:d.QD.UINT,Target:d.QD.STRING,Params:d.QD.STRING,Result:d.QD.STRING,CostTime:d.QD.UINT,ExternInfo:d.QD.STRING,CustomKey1:d.QD.STRING,CustomKey2:d.QD.STRING,CustomKey3:d.QD.STRING,IsError:d.QD.UINT,FELibVersion:d.QD.STRING},v=r(2555);function m(e,t){var r=e||"";if((0,l.Kn)(r))try{r=JSON.stringify(r)}catch(e){console.error(`[minigamefe stringify error]: ${e}`),r=""}else r=String(r);return r.length&&r.length>=1024&&(r="",console.warn(`[minigamefe stringify warning]: ${t} 上报长度超过1024, 已置空`)),r}class y{constructor(e){var t,a;this.benchmarkLevel=0,this.network="",this.runtimeType=s.UnKnow,this.sdkVersion="0.0.0",this.isVisible=v.Xu.Front,this.scene=0,this.query="",this.pluginAppId="",this.pluginVersion="",this.inited=!1;var{systemInfo:i,launchInfo:o,onShow:u,onHide:l,pluginAppId:m="",pluginVersion:y=""}=e;if(!u||!l)return console.error("[minigamefe stringify warning]: please inject QualityConfig correctly"),void(this.inited=!1);this.inited=!0,this.onShow=u,this.onHide=l,this.benchmarkLevel=i.benchmarkLevel+100,this.sdkVersion=i.SDKVersion,this.launchInfo=o,this.scene=null===(t=this.launchInfo)||void 0===t?void 0:t.scene,this.query=encodeURIComponent(JSON.stringify(null===(a=this.launchInfo)||void 0===a?void 0:a.query)),this.runtimeType=function(e){var t,a,i=s.UnKnow;return e.platform===n.devtools?i=s.Devtools:e.platform===n.ios?(i=(null===(t=r.g)||void 0===t?void 0:t.isIOSHighPerformanceMode)?s.IOSWK:s.IOSJscore,e.model.indexOf("iPad")>-1&&(i=(null===(a=r.g)||void 0===a?void 0:a.isIOSHighPerformanceMode)?s.IPadWK:s.IPadJscore)):e.platform===n.android?i=s.Android:e.platform===n.windows&&(i=s.PC),i}(i),this.pluginAppId=m,this.pluginVersion=y,this.bindNativeEvent(),this.reporter=function(e){var t,{type:r=v.ql.KeyValueReport,reportKeyValue:n,debug:a,gameTransfer:i,systemInfo:o,accountInfo:s,getNetworkType:u,onNetworkStatusChange:l,request:m,namespace:y}=e,b="";function _(){return new Promise((e=>{b?e({NetworkType:b}):u({success:t=>{b=t.networkType,e({NetworkType:b})},fail:()=>{e({NetworkType:b="unknown"})}})}))}return r===v.ql.KeyValueReport?t=new c.Z({reportFunc:n,logid:26340,schemas:g,protocolParams:h,debug:a,namespace:y,asyncGetBase:_}):r===v.ql.GameTransferReport?(t=new p({reportFunc:i,logid:26340,schemas:g,reportType:d.C2.KvStat,debug:a,namespace:y,asyncGetBase:_})).setKvStatBase(o,s):(console.warn("[minigamefe]: 当前选择 reqeust 进行质量上报, 请自行确保兼容性"),(t=new f({reportFunc:m,logid:26340,schemas:g,debug:a,namespace:y,asyncGetBase:_,reportType:d.C2.KvStat})).setKvStatBase(o,s)),r!==v.ql.GameTransferReport&&r!==v.ql.WxRequestReport||(0,d.Mi)((e=>{b=e,t.setBase({NetworkType:e})}),u,l),t}(e),this.reporter.setBase({BenchmarkLevel:this.benchmarkLevel,RuntimeType:this.runtimeType,Scene:+this.scene,SDKVersion:this.sdkVersion,IsVisible:this.isVisible,PluginAppId:m,PluginVersion:y,FELibVersion:"1.1.45"})}bindNativeEvent(){this.onHide((()=>{this.isVisible=v.Xu.Background,this.reporter.setBase({IsVisible:this.isVisible})})),this.onShow((()=>{this.isVisible=v.Xu.Front}))}innerReport(e){this.reporter.send(Object.assign(e,{CostTime:(0,l.hj)(e.CostTime)?e.CostTime:0,Params:m(e.Params,"Params"),Result:m(e.Result,"Result"),ExternInfo:m(e.ExternInfo,"ExternInfo")}))}report(e){v.EM.indexOf(e.Type)>-1&&console.error(`[minigamefe quality report]: 若为自定义上报, Type 请不要使用内置枚举值 ${e.Type}, 内置枚举可见 mgp.consts.ReportType`),this.inited&&this.innerReport(e)}setCustomKey(e){this.inited&&this.reporter.setBase({CustomKey1:e.CustomKey1&&m(e.CustomKey1,"CustomKey1")||"",CustomKey2:e.CustomKey2&&m(e.CustomKey2,"CustomKey2")||"",CustomKey3:e.CustomKey3&&m(e.CustomKey3,"CustomKey3")||""})}clearCustomKey(){this.inited&&this.reporter.setBase({CustomKey1:"",CustomKey2:"",CustomKey3:""})}}var b=r(6385),_=r(8165),w=r(869),I=r(5692),S=r(7351),k=r(4599),C=r(4266),T=r(9939);class A{constructor(e){this.quality=void 0,this.inited=!1,this.initPromise=void 0,this.initPromise=this.initQuality(e)}initQuality(e){return new Promise((t=>{u.default.onReady((()=>{this.inited=!0,this.quality=new y({debug:!1,type:v.ql.KeyValueReport,pluginAppId:e.pluginAppId||"wxapplib",pluginVersion:e.pluginVersion||"1.0.0",launchInfo:(0,_.Ir)(),accountInfo:(0,I.E)(),systemInfo:(0,w.getSystemInfoSync)(),onShow:S.dN,onHide:k.vv,getNetworkType:b.getNetworkType,onNetworkStatusChange:b.onNetworkStatusChange,gameTransfer:C.i,reportKeyValue:T.G}),t(this.quality)}))}))}report(e){this.inited?this.quality.report(e):this.initPromise.then((()=>{this.quality.report(e)}))}}new A({})},9499:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var n=r(6342),a=r(4419),i=r(1325),o=r(6385),s=1;class u extends i.Z{constructor(){super({reportFunc:_.reportKeyValue,logid:"GameAdsSkipCard",debug:!1,protocolParams:["NetworkType","SSID","ToUin","SceneID","UIArea","PositionID","ActionID","ActionStatus","OpType","Object","Status","SourceID","Allpath","ExpID","LogType","ErrType","Time","FuncType","FuncID","ContentType","ContentID","ReasonID","ExternInfo"],schemas:{AppId:a.QD.STRING,NetworkType:a.QD.STRING,SSID:a.QD.UINT,ToUin:a.QD.STRING,SceneID:a.QD.LONGLONG,UIArea:a.QD.LONGLONG,PositionID:a.QD.LONGLONG,ActionID:a.QD.LONGLONG,ActionStatus:a.QD.STRING,OpType:a.QD.LONGLONG,Object:a.QD.STRING,Status:a.QD.STRING,SourceID:a.QD.LONGLONG,Allpath:a.QD.STRING,ExpID:a.QD.LONGLONG,Time:a.QD.LONGLONG,FuncType:a.QD.LONGLONG,FuncID:a.QD.STRING,ReasonID:a.QD.LONGLONG,ExternInfo:a.QD.STRING,ErrType:a.QD.STRING},base:{SceneID:36}}),1!==s?this.setBase({NetworkType:s}):n.default.onReady((()=>{(0,a.Mi)((e=>{a.XN[e]&&(s=a.XN[e]),this.setBase({NetworkType:s})}),o.getNetworkType,o.onNetworkStatusChange)}))}}},7497:(e,t,r)=>{"use strict";r.d(t,{I:()=>d,V:()=>l});var n=r(6342),a=r(8367),i=r(6142),o=e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],a=t[2],i=n.default.plugins||n.default.gamePlugins,o=i&&i[r];if(void 0===o)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:o.provider,contexts:o.contexts,alias:r,path:a}},s=(e=[])=>e.some((e=>"isolatedContext"===e.type)),u=e=>!e||e.some((e=>"gameContext"===e.type)),c=e=>e.some((e=>"openDataContext"===e.type));function l(e,t={},r=!1){var l,{pluginId:d,contexts:p,path:f}=o(e),h=`__plugin__/${d}`+(f?`/${f}`:"");if(s(p)){var g=(0,a.d)(d,{...t,subContext:r});g.subContext=r,g.host=n.default.accountInfo.appId,l=y.createIsolatedGamePlugin({provider:d,secure:!0,env:g,subContext:r,isPreload:!1})}else if(!r&&u(p))l=y.getGameContext().contextGlobal.__require;else{if(!r||!c(p))throw new Error(`invalid context type: ${(0,i.e6)(p)}`);l=y.getGameOpenDataContext().contextGlobal.__require}return l(h)}function d(e,t){return l(e,t)}},8367:(e,t,r)=>{"use strict";r.d(t,{d:()=>oe,Q:()=>se});var a=r(5469),i=r.n(a),o=r(6342),s=r(1399),u=r(190),c=r(9939),l=r(88),d=r(2900),p=r(5676),f=r(242),g=r(645),v=r(5665),m=r(2897),b=r(9493),w=r(3876),I=r(7891),S=r(7597),k=r(6651),C=(0,u.TG)("getGameLifeProfile","webapi_getgamelifeprofile",(e=>JSON.parse(JSON.stringify(e)))),T=(0,u.TG)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",(e=>JSON.parse(JSON.stringify(e)))),A=(0,u.TG)("interactGameLifeTag","webapi_interactgamelifetag",(e=>JSON.parse(JSON.stringify(e)))),P=r(7137),E=r(2567),x=r(2529),M=r(1598),D=r(8285),R=r(6143),L=r(3091),O=r(4266),N=r(1257),j=r(8215),B=r(8143),F=r(9437),U=r(2078);var W=r(5436),G=r(8246),V=new W.Q("Gamelife");(0,G.n)("onGameLifeMsg",(e=>{V.emit("onGameLifeMsg",e)}));var $=r(2166),q=new W.Q("WebRTC");(0,G.n)("onWebRTCLoadedMetaData",(e=>{q.emit("onWebRTCLoadedMetaData",e)}));var z=r(8978),K=r(7497),H=(e={})=>{(0,u.IN)("setFileSpaceStatistics",e)},J=r(7298),Y=r(5184),Q=r(8945),Z=e=>{var t=Object.assign({},e);(0,u.IN)("getWxCommFont",t)},X={Component:L.wA,getPrivateThis:L.Wj,removePrivateThis:L.bn,create:L.Ue,init:L.S1,webviewLayout:R.uo,nativeviewLayout:R._w,xmlParser:i()},ee={getUserCloudStorage:p.u,getFriendCloudStorage:f.l,getGroupCloudStorage:g.q,getPotentialFriendList:v.e,getGroupInfo:m.y,shareMessageToFriend:b.N,getUserCloudStorageKeys:I.r,modifyFriendInteractiveStorage:S.Fc},te=["openChannelsLive","insertWebRTCRendererView","updateWebRTCRendererView","removeWebRTCRendererview","isOpenSR","isSupportSR","requestSRFile"],re={Kanata:null,wxGA:null,get __wxSourceMapRetrace__(){return"function"==typeof __wxSourceMapRetrace__?__wxSourceMapRetrace__:void 0},reportIDKey:({id:e,key:t,value:r})=>_.reportIDKey({id:e,key:t,value:r}),reportKeyValue:c.G,getXLogManager:()=>h,getUserInfo:w.b,WebAssembly:k.J,getGameLifeProfile:C,getGreetingControlInfo:T,interactGameLifeTag:A,openGameLifeAccountInfo:P.wH,openGameLifeMiniGameTransfer:P.bo,Function:n.prototype.constructor,createCanvas:(...e)=>(0,x.ED)(...e),createScreenCanvas:(...e)=>(0,x.UG)(...e),createWebView:e=>t=>new R.kh(t,e),navigateToMiniProgramDirectly:e=>(0,E.iy)(e,e),privateOpenUrl:D.n8,gamelifeManager:function(e={}){(0,u.IN)("gamelifeManager",e)},getGameLifeRedCount:function(e={}){(0,u.IN)("getGameLifeRedCount",e)},onGameLifeMsg:function(e){V.on("onGameLifeMsg",e)},offGameLifeMsg:function(e){V.off("onGameLifeMsg",e)},getABTestConfig:function(e={}){(0,u.IN)("getABTestConfig",e)},gameTransfer:O.z,coverview:X,launchApplicationDirectly:N.dx,encode:j.c,decode:j.J,PIXI:null,TWEEN:B.ZP,onStoreEmoticonSelect:F.Ej,offStoreEmoticonSelect:F.lj,onKeyboardHeightChange:F.LK,offKeyboardHeightChange:F.M2,showUserGrantInfoModal:U.rL,createScreenCanvas2:null,clearCreateCanvas:!0,getSelfUserInfo:$.Nb,onWebRTCLoadedMetaData:function(e){q.on("onWebRTCLoadedMetaData",e)},offWebRTCLoadedMetaData:function(e){q.off("onWebRTCLoadedMetaData",e)},requestSubscribeSystemMessage:z.B,requirePlugin:K.I,transformFakePath2RealPath:J.d4,getPrivateFileSystemManager:Y.Bg},ne={createWebView:e=>t=>new R.kh(t,e),requestSubscribeSystemMessage:z.B,getPrivateFileSystemManager:e=>()=>(0,Y.Bg)(e)},ae={};o.default.onReady((()=>{var e=(0,l.J)("engineOpenData");Object.assign(re,e?ee:{})}));var ie=e=>{if(ae[e])return ae[e];var t=(0,d.vC)(e),r={platform:o.default.platform},n=!1,a=function(a){var i=d.jC[a],o=t[i];if("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||o){if("createCanvas"===a&&(0,M.I)(!0),"createScreenCanvas2"===a&&(a="createScreenCanvas"),a in ne&&(re[a]=ne[a](e)),a in ee&&((0,M.I)(!0),n=!0),["PIXI","wxGA","Kanata"].includes(a))return Object.defineProperty(r,a,{get:()=>({PIXI:PIXI,wxGA:wxGA,Kanata:_Kanata}[a])}),"continue";r[a]=re[a]}};for(var i in re)a(i);return r.clearCreateCanvas&&(delete r.clearCreateCanvas,delete r.createCanvas,!n&&(0,M.$)()&&(0,M.I)(!1)),"wx2ea687f4258401a9"!==e&&"wxfc466bb0d1a16d17"!==e||(r.NativeGlobal=s.Z),"wxe5a48f1ed5f544b7"===e&&(r.setFileSpaceStatistics=H,r.instanceId=o.default.instanceId,r.createBufferURLAsync=Q.j_,r.getWxCommonFont=Z),ae[e]=r,ae[e]},oe=(e,{enableRequireHostModule:t,customEnv:r,subContext:n})=>{var a=ie(e);return te.forEach((t=>{a[t]=r=>{(0,u.qu)(e)(t,r)}})),a.customEnv=r,t&&(a.requireHostModule=n?y.getGameOpenDataContext().contextGlobal.__require:y.getGameContext().contextGlobal.__require),a},se=()=>{var e=o.default.plugins||o.default.gamePlugins;e&&Object.keys(e).forEach((t=>{var r=e[t].provider;ie(r)}))}},2248:(e,t,r)=>{"use strict";r.d(t,{F0:()=>o,az:()=>c,y4:()=>l});var n=r(190),a=r(6142),i=r(3192),o={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},s={sampleEventList:[]},u=new Map;function c(){(0,n.jQ)("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(s.sampleEventList=t.sample_event_list,s.sampleEventList.forEach((e=>{u.set(e,0)})),function(){var e=s.sampleEventList.find((e=>e.event===o.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;(0,a.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,a.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{l(o.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{l(o.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}(),function(){var e=s.sampleEventList.find((e=>e.event===o.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;(0,a.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,a.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{(0,i.Z)().forEach((e=>{l(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var u=setInterval((()=>{n>r?clearInterval(u):setTimeout((()=>{(0,i.Z)().forEach((e=>{l(o.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}())})),(0,n.jQ)("onStartReportCanvasData",(({event:e})=>{e===o.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?(0,i.Z)().forEach((t=>{l(e,t)})):l(e)}))}function l(e,t){var r=function(e){return s.sampleEventList.find((t=>e===t.event))}(e);if(r){var a=Date.now(),i=u.get(r);if(r.sample_interval_seconds,(a-i)/1e3<r.sample_interval_seconds)return;(0,n.IN)("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,success(){u.set(r,a)},fail({errMsg:e}){}})}}},2078:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>c,eu:()=>v,rL:()=>f});var n=r(3888),a=r.n(n),i=r(6385),o=r(6342),s=r(9806),u=r(4266),c=function(e){return e[e.USER_ACTION_LOGIN=0]="USER_ACTION_LOGIN",e[e.USER_ACTION_APPLY_HEADIMG_NICKNAME=1]="USER_ACTION_APPLY_HEADIMG_NICKNAME",e[e.USER_ACTION_CLICK_CHAT_RANK_TAB=2]="USER_ACTION_CLICK_CHAT_RANK_TAB",e[e.USER_ACTION_APPLY_CHAT_SELF_RANK=3]="USER_ACTION_APPLY_CHAT_SELF_RANK",e}({}),l=function(e){return e[e.GAME_GRANT_SUBMIT_APPROVE=1]="GAME_GRANT_SUBMIT_APPROVE",e[e.GAME_GRANT_SUBMIT_DENY=2]="GAME_GRANT_SUBMIT_DENY",e}({}),d=function(e){return e[e.GAME_INTERFACE_ITEM_ID_RELATION=1]="GAME_INTERFACE_ITEM_ID_RELATION",e[e.GAME_INTERFACE_ITEM_ID_ACCOUNT=2]="GAME_INTERFACE_ITEM_ID_ACCOUNT",e}({}),p=null;function f(e,t,r=!1){if(null===p){var n=r?1:2,a=e.body.item_list.flatMap((({status_list:e})=>e)),i=Object.fromEntries(a.map((({item_status_name:e,item_status_value:t})=>[t,e]))),o=Object.fromEntries(t.map((({item_id:e,item_status_value:t})=>[e,t])));__sclEngine__.initScl((t=>{w({UIArea:0,PositionID:0,ActionID:1,ExternInfo:{source:n}}),(p=t.mainRoot.append("game-grant-info",{config:e,infoMap:o,statusMap:i})).addListener("back",(()=>{p&&(w({UIArea:4502,PositionID:2,ActionID:2,FuncID:p.data.selectItemId,ExternInfo:{source:n}}),p.setData({show:!1}),setTimeout((()=>{var e;null===(e=p)||void 0===e||e.setData({show:!0,page:"index",buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200))})),p.addListener("select",(e=>{if(p){var t=e.detail.index,r=p.data.selectItemId,a=p.data.selections;p.data.infoMap[r]=a[t].item_status_value,r===d.GAME_INTERFACE_ITEM_ID_RELATION&&(p.data.infoMap[d.GAME_INTERFACE_ITEM_ID_ACCOUNT]=a[t].item_status_value),w({UIArea:4502,PositionID:1,ActionID:2,ExternInfo:{menu:a[t].item_status_value,source:n},FuncID:r}),p.setData({show:!1}),setTimeout((()=>{var e;null===(e=p)||void 0===e||e.setData({show:!0,page:"index",infoMap:p.data.infoMap,buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200)}})),p.addListener("showAction",(t=>{var r,a,i;if(p){var o=t.detail.id,s=null===(r=e.body.item_list.find((({item_id:e})=>o===e)))||void 0===r||null===(a=r.status_list)||void 0===a?void 0:a.filter((e=>!e.item_status_hide_if_list.some((({item_id:e,item_status_value:t})=>{var r;return(null===(r=p)||void 0===r?void 0:r.data.infoMap[e])===t}))));w({UIArea:4501,PositionID:o,ActionID:2,ExternInfo:{source:n}});var u=null!==(i=null==s?void 0:s.findIndex((({item_status_value:e})=>{var t;return e===(null===(t=p)||void 0===t?void 0:t.data.infoMap[o])})))&&void 0!==i?i:0;p.setData({show:!1}),setTimeout((()=>{var e;null===(e=p)||void 0===e||e.setData({show:!0,page:"action",selections:s,selected:u,selectItemId:o,buttons:[]}),w({UIArea:4502,PositionID:0,ActionID:1,FuncID:o,ExternInfo:{source:n}})}),200)}})),p.addListener("destroy",(()=>{p=null})),p.addListener("submit",(()=>{p&&(w({UIArea:4501,ActionID:2,PositionID:20,ExternInfo:{logGrant:p.data.infoMap[d.GAME_INTERFACE_ITEM_ID_RELATION],roleGrant:p.data.infoMap[d.GAME_INTERFACE_ITEM_ID_ACCOUNT],source:n}}),y({submit_value:l.GAME_GRANT_SUBMIT_APPROVE,user_grant_info_list:Object.entries(p.data.infoMap).map((([e,t])=>({item_id:+e,item_status_value:t})))}))})),p.addListener("deny",(()=>{w({UIArea:4501,ActionID:2,PositionID:21,ExternInfo:{source:n}}),y({submit_value:l.GAME_GRANT_SUBMIT_DENY,user_grant_info_list:[]})}))}))}}o.default.onReady((()=>{setTimeout((()=>{v({user_action:[c.USER_ACTION_LOGIN]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&f(t,r,!0)})).catch((e=>{h.error("getUserGrantInfo",e)}))}),3e3)}));var g=(0,s.Fr)(u.i);function v(e){return m.apply(this,arguments)}function m(){return(m=a()((function*({user_action:e}){var t,r,n=null!==(t=null===o.default||void 0===o.default||null===(r=o.default.accountInfo)||void 0===r?void 0:r.appId)&&void 0!==t?t:"",{data:a}=yield g({reqData:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:n,user_action:e})}});return a.data}))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=a()((function*({submit_value:e,user_grant_info_list:t}){try{var r,n,a={appid:null!==(r=null===o.default||void 0===o.default||null===(n=o.default.accountInfo)||void 0===n?void 0:n.appId)&&void 0!==r?r:"",submit_value:e,user_grant_info_list:t};yield g({reqData:{req_path:"gamewxagcdatawap_setusergrantinfo",json_data:JSON.stringify(a)}})}catch(e){h.error(e)}}))).apply(this,arguments)}function w({UIArea:e,PositionID:t,ActionID:r,ExternInfo:n,FuncID:a}){_.reportKeyValue({key:"GameAdsSkipCard",value:[(0,i._getCurrentNetworkType)(),o.default.appLaunchInfo.scene,0,45,e,t,r,"",0,/landscape/.test(o.default.deviceOrientation)?2:1,0,0,"","",0,"",0,0,a,0,0,0,n?encodeURIComponent(JSON.stringify(n)):""].join(",")})}},9980:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(2529);function a(){return new Promise(((e,t)=>{var r=(0,n.rU)();r.toTempFilePath({x:0,y:0,width:r.width,height:r.height,destWidth:r.width,destHeight:r.height,success(t){t.width=r.width,t.height=r.height,e(t)},fail(e){t(e)}})}))}},6:(e,t,r)=>{"use strict";r.d(t,{c:()=>i});var n=r(190),a=r(7298);function i({filePath:e,thumbFilePath:t,fileType:r,appType:i}={}){return new Promise(((o,s)=>{if(!/wxfile:\/\//.test(e)&&!/http:\/\//.test(e)){var u=a.LC.get(e);e=u}(0,n.IN)("uploadToCommonCDN",{filePath:e,thumbFilePath:t,fileType:r,appType:i,isStorageMode:!0,snsUploadVersion:0,directReturnInDevtools:!0,success:o,fail:s})}))}},7298:(e,t,r)=>{"use strict";r.d(t,{LC:()=>o,U:()=>i,d4:()=>s});var n=r(9661),a=r(8929),i=new n.Z,o={map:{},set(e){var t=(0,a.M8)();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},s=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:o.get(e)},3385:(e,t,r)=>{"use strict";r.d(t,{hb:()=>u,hI:()=>s});const n={emitter:new(r(9661).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var a=r(7445),i=r(4161),o=e=>{for(var t in n.puidToPluginWX)if(n.puidToPluginWX[t]===e)return t},s=e=>{if((0,a.aI)()){var t=(0,i.y)(e);return t&&t.provider?t.provider:void 0}return n.pluginIDs[o(e)]},u=(Object.keys,e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")})},4161:(e,t,r)=>{"use strict";r.d(t,{oq:()=>a,y:()=>i});var n=new WeakMap,a=(e,t)=>n.set(e,t),i=e=>n.get(e)},9806:(e,t,r)=>{"use strict";r.d(t,{Av:()=>m,Fr:()=>l,Hw:()=>o,KU:()=>u,M7:()=>g,N0:()=>y,Y6:()=>s,a2:()=>p,fm:()=>f,v7:()=>v,vB:()=>h});var n=r(6342),a=r(7445),i=r(6142);function o(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?_.thirdErrorReport({error:e,extend:t}):_.errorReport({key:r,error:e,extend:t})}}}}function s(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}function u(e){var t="unknown";if(n.default.appContactInfo&&n.default.appContactInfo.operationInfo&&n.default.appContactInfo.operationInfo.jsonInfo&&n.default.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=n.default.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var c=(()=>Object.assign)();function l(e){return(t={})=>new Promise(((r,n)=>{e(c(t,{success:r,fail:n}))}))}var d=/(?=[A-Z])/;function p(e){return e.split(d).join("_").toLowerCase()}function f(e){return e.charAt(0).toUpperCase()+e.slice(1)}function h(){return a.gm?!n.default.urlCheck:!0===n.default.debug}function g(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),a=String(t).split(".").map((e=>parseInt(e,10))),i=Math.max(n.length,a.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<i&&0===(r=s(n[o],a[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function v(e,t){return t.reduce(((t,r)=>((0,i.o8)(e[r])||(t[r]=e[r]),t)),{})}function m(){return n.default.appLaunchInfo&&"singlePage"===n.default.appLaunchInfo.mode}var y=function(){return n.default.isIsolateContext}},1351:e=>{"use strict";e.exports=a.applyDecoratedDescriptor},3888:e=>{"use strict";e.exports=a.asyncToGenerator}},l={};function p(t){var r=l[t];if(void 0!==r)return r.exports;var n=l[t]={id:t,loaded:!1,exports:{}};return e[t](n,n.exports,p),n.loaded=!0,n.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var I={};(()=>{"use strict";p.d(I,{default:()=>b6});var e={};p.r(e),p.d(e,{_WebAssembly:()=>Pb.J,_downloadFileSkipCheckDomain:()=>q.ot,_requestSkipCheckDomain:()=>q.ac,_socketSkipCheckDomainFactory:()=>q.as,_uploadFileSkipCheckDomain:()=>q.OZ,cacheManager:()=>AT,checkPermissionSync:()=>wt.J,count:()=>KT,emitCustomAttrEvent:()=>MP,handleWxobsError:()=>eA,invokeOperateWXData:()=>U.yD,isUsedCache:()=>WT,onLongTimeNoSee:()=>OP,privateCacheManager:()=>PT,private_getBackgroundFetchData:()=>vC,private_getUserAgent:()=>gC.Y,private_onBackgroundFetchData:()=>mC,reportCallContainer:()=>_T,request:()=>q.WY,resetCosInfo:()=>RP,setupWxobs:()=>AP,sum:()=>HT,teardownWxobs:()=>PP,uploadToCommonCDN:()=>hC});var l={};p.r(l),p.d(l,{IS_IOS:()=>N.cj,PLATFORM:()=>N.iw,_createCanvas:()=>sf.ED,_requestSkipCheckDomain:()=>q.ac,createImage:()=>uf.B,getPerformance:()=>kf,getShouldMakeCanvasSecure:()=>WP.$});var w={};p.r(w),p.d(w,{appRouteInfo:()=>xE,deviceInfo:()=>EE,deviceInfoLoaded:()=>qE,getDeviceOrientation:()=>FE,getGameTouchStatus:()=>KE,getIndentityInfo:()=>BE,loadDeviceInfoByManual:()=>zE,proxyReady:()=>WE,stopTouchHanlder:()=>YE});var k={};p.r(k),p.d(k,{Component:()=>Db.wA,IS_DEVTOOLS:()=>N.gm,IS_PC:()=>N.DD,KeyValueReport20267:()=>Sx.v,Quality:()=>kx.n,TWEEN:()=>Cx.ZP,WXConfig:()=>D.default,_offKeyboardHeightChange:()=>Ph.M2,_onBaseFrameShow:()=>p_.OQ,_onHide:()=>_r.vv,_onKeyboardHeightChange:()=>Ph.LK,_onShow:()=>$o.dN,acceptSyncMainPackageNativeEventFromSubPackage:()=>Ye.ry,beforeInvokeCallback:()=>U.FE,beforeInvokeFail:()=>U.YG,checkPermissionSync:()=>wt.J,createFeedbackLogger:()=>xp.$,createScreenCanvas:()=>sf.UG,createWebView:()=>Tx,gameTransfer:()=>eE.i,getAccountInfoSync:()=>st.E,getPrivateThis:()=>Db.Wj,getSystemInfoSync:()=>Ae.getSystemInfoSync,hideKeyboard:()=>Nh.Sn,hideLoading:()=>Me.hideLoading,init:()=>Db.S1,innerShareInvitationToLiveRoom:()=>hh.rc,invokeOperateWXDataPromise:()=>Ix.Qh,offKeyboardComplete:()=>Ph.r,onDeviceOrientationChange:()=>xg.Qq,onKeyboardComplete:()=>Ph.ri,onShow:()=>$o.Ke,onWindowResize:()=>XP.KN,privateOpenUrl:()=>em.n,registerComponent:()=>wx.RM,removePrivateThis:()=>Db.bn,showKeyboard:()=>Nh.ez,showLoading:()=>Me.showLoading,showToast:()=>Me.showToast,touch:()=>Nf,unregisterComponent:()=>wx.d8,webviewLayout:()=>QE.u});var C={};p.r(C),p.d(C,{getABTestConfig:()=>tu.b,getGameRelatedContextsExports:()=>Zx,getGameRelatedContextsExportsWx:()=>Xx,getIsolatedGamePluginContextEnv:()=>tM,loadPreloadSdkSubPackage:()=>eM,onSubPackageReady:()=>xx,runPlayableGameJS:()=>rM});const T=a.initializerDefineProperty;var A=p.n(T),P=p(1351),E=p.n(P);a.initializerWarningHelper;var x,M=p(7132),D=p(6342);"undefined"!=typeof __initHelper&&1===__initHelper&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:c,wxConsole:f,Reporter:_,console:console,__appServiceSDK__:x,__wxConfig:D.default,Foundation:o,IS_APP:!1}));var R={};["onViewDidResize","onAppRouteResized","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"].forEach((e=>{R[e]=(0,M.n)(e)}));var L=p(8422),O=p(1399),N=p(7445),j="undefined"!=typeof console?console.log:(...e)=>{(0,O.a)((t=>{t.log(...e)}))};if((0,O.a)((e=>{j=e.log})),!N.gm&&!N.DD&&!N.Ae){var B=function(e,t){var r=(0,L.f$)(e,t,(0,N.Dq)());r&&j(r)};globalThis.console={log(){B(L.pO.LOG,arguments)},info(){B(L.pO.INFO,arguments)},warn(){B(L.pO.WARNING,arguments)},error(){B(L.pO.ERROR,arguments)},debug(){B(L.pO.DEBUG,arguments)},time(){B(L.pO.TIME,arguments)},timeEnd(){B(L.pO.TIME_END,arguments)},group(){},groupEnd(){}}}var F=()=>N.cj||N.wZ?{log(...e){(0,N.Dq)()&&globalThis.console.log(...e)},info(...e){(0,N.Dq)()&&globalThis.console.info(...e)},warn(...e){(0,N.Dq)()&&globalThis.console.warn(...e)},error(...e){(0,N.Dq)()&&globalThis.console.error(...e)},debug(...e){(0,N.Dq)()&&globalThis.console.debug(...e)},time(...e){(0,N.Dq)()&&globalThis.console.time(...e)},timeEnd(...e){(0,N.Dq)()&&globalThis.console.timeEnd(...e)},group(){},groupEnd(){}}:Object.assign({},console),U=p(190),W=p(9766),G=(0,W.s)("UpdateWXConfig"),V=G.onMethod;G.offMethod;(0,U.jQ)("onUpdateWXConfig",(e=>{h.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{D.default[t]=e[t]})),G.emit(e)}));var $,q=p(8791),z=p(5709),K=p(5184),H=new Map,J=p(8929),Y=p(1591),Q=p(6142),Z=p(3888),X=p.n(Z),ee=p(3329),te=p(1190),re=null;function ne(){return $?Promise.resolve($):re||(re=(0,U.Qh)({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array((0,te.RG)(t)),a=new Uint8Array((0,te.RG)(r));return re=null,$={encryptKeyBytes:n,ivBytes:a}})).catch((e=>{throw re=null,e})))}var ae=!1;function ie(){ae||((0,ee.k)().runTask("initAesWasm",{}),ae=!0)}function oe(){return oe=X()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&ie();var a=yield r,i=yield function(e,t,r){return(0,ee.k)().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(t,n,a);return i})),oe.apply(this,arguments)}function se(e={},t){var{key:r,data:n,dataType:a,storageId:i,encryptEnv:o="wasm"}=e,{failWithMsg:s}=(0,U.Rn)(e,"setStorage"),u=[ne()];"wasm"===o&&ie(),Promise.all(u).then((([e])=>function(e,t,r){return(0,ee.k)().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(n,o,e))).then((n=>{var o=N.cj?"setStorageAsync":"setStorage";(0,U.IN)(o,{key:r,data:n,dataType:a,storageId:i,success:t=>{H.get(i).set(r,{data:n,dataType:a}),(0,Q.mf)(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),h.error("encryptThenSetStorage error",e)}))}var ue=p(1868),ce=(0,ue.NX)("getStorage",X()((function*(e={},t){var{encrypt:r,key:n}=e,a=r&&d.isSupportWXLibWorker(),i=N.cj?"getStorageAsync":"getStorage";(0,U.zy)(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},u=Object.assign({},e,{storageId:t}),c=H.get(t),l=a?ne():null;return c.has(n)?o={...c.get(n)}:(o=yield(0,U.bb)(i,u,s),c.set(n,{data:o.data,dataType:o.dataType})),a&&(o.data=yield function(){return oe.apply(this,arguments)}(e,o.data,l)),o.data=(e._stringToAnyType||J.Yt)(o.data,o.dataType),delete o.dataType,o})));var le=(0,ue.NX)("batchGetStorage",X()((function*(e={},t){(0,U.zy)(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=H.get(t),a=yield(0,U.bb)("batchGetStorage",r);return Array.isArray(a.dataList)&&(a.dataList=a.dataList.map(((e,t)=>{var{data:a,dataType:i}=e;return a&&n.set(r.keyList[t],e),(0,J.Yt)(a,i)}))),a}))),de=(0,ue.NX)("batchSetStorage",function(){var e=X()((function*(e,t){(0,U.zy)(e,{kvList:[{key:"1"}]});var r=H.get(t),n=e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=(0,J.op)(e.value);return{key:e.key,data:t,dataType:n}})),a={kvList:n,storageId:t,success:e.success,fail:e.fail,complete:e.complete};return yield(0,U.bb)("batchSetStorage",a)}));return function(t,r){return e.apply(this,arguments)}}()),pe=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},fe={setStorage:(e,t={})=>{var{encrypt:r}=t;if((0,U.r3)("setStorage",t,{key:""}))try{var{data:n,dataType:a}=(0,J.op)(t.data),i=t.key,o={key:i,data:n,dataType:a,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&d.isSupportWXLibWorker())se(o,s);else{var u=H.get(e),c=u.get(i);if(c&&c.dataType===a&&c.data===n)(0,U.FE)({name:"setStorage",args:t});else{var l=N.cj?"setStorageAsync":"setStorage";(0,U.IN)(l,o,{...s,beforeSuccess:()=>{u.set(i,{data:n,dataType:a})}})}}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>de(t,e),setStorageSync:(e,t,r="")=>{if("string"==typeof t){var n=N.cj?"setStorage":"setStorageSync",{data:a,dataType:i}=(0,J.op)(r),o=!1,s="",u=H.get(e),c=u.get(t);if(!c||c.dataType!==i||c.data!==a){if((0,U.IN)(n,{key:t,data:a,dataType:i,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new Y.l(s);u.set(t,{data:a,dataType:i})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${(0,Q.Em)(t)}`)},batchSetStorageSync:(e,t)=>{(0,U.zy)(t,[{key:"1"}]);var r,n=H.get(e),a=t.map((e=>{var{data:t,dataType:r}=(0,J.op)(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return(0,U.IN)("batchSetStorageSync",{storageId:e,kvList:a,beforeAll(e){r=e}}),r},getStorage:(e,t={})=>ce(t,e),batchGetStorage:(e,t={})=>le(t,e),getStorageSync:function(e,t){var r=arguments[arguments.length-1]||{};if((0,Q.HD)(t)){var n=H.get(e);if(n.has(t)){var{data:a,dataType:i}=n.get(t);return(r._stringToAnyType||J.Yt)(a,i)}var o,s=N.cj?"getStorage":"getStorageSync";return(0,U.IN)(s,{key:t,storageId:e},{beforeSuccess:(e={})=>{n.set(t,{data:e.data,dataType:e.dataType}),o=(r._stringToAnyType||J.Yt)(e.data,e.dataType)},beforeFail:()=>{o=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),o}},batchGetStorageSync:(e,t)=>{var r;(0,U.zy)(t,["1"]);var n=H.get(e);return(0,U.IN)("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:a,dataType:i}=e;return a&&n.set(t[r],e),(0,J.Yt)(a,i)}))}}),r.dataList},getStorageInfo:(e,t)=>{(0,U.IN)("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=pe(e.keys)}})},getStorageInfoSync:e=>{var t;return(0,U.IN)("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=pe(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{(0,U.r3)("removeStorage",t,{key:""})&&(H.get(e).delete(t.key),(0,U.IN)("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{(0,U.r3)("removeStorageSync",t,"")&&(H.get(e).delete(t),(0,U.IN)("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{H.get(e).clear();var r=N.cj?"clearStorageAsync":"clearStorage";(0,U.IN)(r,Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{H.get(e).clear();var t=N.cj?"clearStorage":"clearStorageSync";(0,U.IN)(t,{storageId:e})}},he={app:0,game:0,opendata:1,singlePage:2,cache:3},ge=e=>{var t=he[e];return H.has(t)||H.set(t,(()=>{var e=new Map;return N.gm||(0,N.fs)()?new Proxy(e,{get:()=>()=>{}}):e})()),Object.keys(fe).reduce(((e,r)=>(e[r]=(...e)=>fe[r](t,...e),e)),{})};const ve={app:ge("app"),game:ge("game"),opendata:ge("opendata"),singlePage:ge("singlePage"),cache:ge("cache")};var me=p(9196),ye=p(5125),be=p(9105);function _e(e,t,r){var n=void 0===t._relativePath?ye.Z.lastRoute:t._relativePath;h.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, Global.lastRoute=${ye.Z.lastRoute}`);try{return(0,be.s$)(n,t.url,!r)}catch(a){if(!(a instanceof be.l0))throw a;if(!r){if(!(0,be.Bf)(n,t.url))return t.url;(0,U.YG)(e,t,a.message)}}return""}var we,Ie=p(6347),Se=(p(4774),p(7630)),ke=p(3385);function Ce(){if(!we)throw new Error("getLaunchOptionsSync:fail get launch options");var e=(0,ke.hI)(this)||"";return(0,Se.rT)(we||{},e)}var Te=p(3473),Ae=p(869),Pe=p(1821),Ee=p(8113),xe=p(8386);var Me=p(8059),De=p(5019);var Re=new class{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return h.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);h.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){h.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}},Le=p(1602),Oe=p(9806),Ne=p(9370);var je=(0,W.s)("AppPerfRouteNavigation");function Be(e,t,r){if(function(e){return"wxpage://"===(0,be.pD)(e)}(t))return!0;var n=void 0===r._relativePath?ye.Z.lastRoute:r._relativePath;return!(0,be.Bf)(n,t)||/^__wx__\//.test(t)||function(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!Ne.hr.hasPageRoute(n)||((0,U.YG)(e,r,`page "${(0,Ie.Z8)(t)}" is not found`),!1)}(e,t,r)}var Fe=!1;var Ue=e=>{if("active"===ye.Z.runningStatus||"ios"!==N.iw){if((0,U.r3)("reLaunch",e,{url:""})&&function(e,t){var r=_e(e,t,!0);if(!r)return!0;var n=(0,Le.ZA)(r),a=Le.n6[(0,Oe.a2)(e).toUpperCase()],i=!0,o="",s=Le.UU.OK;if(n>-1){var u=Le.Jx[n];(o=u.redirect_url)&&1===u.is_valid?((0,U.YG)(e,t,"url has been banned"),(0,Pe.L)("openUrl",{url:o}),s=Le.UU.BLOCK,i=!1):o&&1!==u.is_valid&&(s=Le.UU.NO_BLOCK)}return(0,Le.ye)(e,s,a,o,r),i}("reLaunch",e)&&function(e,t){return!Fe||((0,U.YG)(e,t,"current operation was banned."),!1)}("reLaunch",e)){var t=_e("reLaunch",e,!1);t&&(e.url=t,e.url=(0,Ie.yP)(e.url),Be("reLaunch",e.url,e)&&((0,U.IN)("reLaunch",e,{afterFail(){Re.unblock(),m.traceRoute("reLaunch",e.url,!1)},beforeSuccess(){m.traceRoute("reLaunch",e.url)}}),je.emit({type:"reLaunch",start:Date.now()})))}}else(0,U.YG)("reLaunch",e,"can not invoke reLaunch in background")},We=p(5436),Ge=[],Ve=null;function $e(){var e=Ge;Ge=[],Ve=null;for(var t=0,r=e.length;t<r;t++){var n=e[t];n&&(n=b.surroundThirdByTryCatch(n,"at api nextTick callback function")),n&&n()}}var qe=e=>{e&&"function"==typeof e&&(Ge.push(e),Ve||(Ve=setTimeout($e,0)))},ze=new We.Q("InnerPage",!1),Ke={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&qe((()=>{ze.emit(`${e.pageType}-unload`,e)}))},ready(){var e=this.options;null!=e&&e.pageType&&qe((()=>{ze.emit(`${e.pageType}-load`,e)}))}},pageLifetimes:{hide(){}}};(0,Ne.fe)((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};Ne.P3.Component(Ke,"//",t,`${e}.js`)}));var He=(e,t)=>{ze.on(`${e}-unload`,t)},Je=p(8267),Ye=p(8246),Qe=p(6385),Ze=[],Xe=[],et=~~(Date.now()/1e3),tt=0;function rt(e,t,r,n){var a;a="string"==typeof n?n:n?"high":"low",(0,U.IN)("operateRealtimeData",{type:t,content:r,priority:a,id:e},{beforeSuccess(){},beforeFail(e){Xe.forEach((t=>t(e)))}})}function nt(){var e=Ze.shift();"function"==typeof e&&(e(),tt=+new Date),Ze.length&&setTimeout(nt,200)}o.onLoad((()=>{et=~~(Date.now()/1e3)}));var at=(e,t,r)=>{if(1005===e||!N.gm){var n=+new Date,a=et++;return n-tt>=200&&!Ze.length?(rt(a,e,t,r),tt=n):(Ze.push((()=>{rt(a,e,t,r)})),setTimeout(nt,200)),a}};(0,U.jQ)("onRealtimeDataResponse",(e=>{Xe.forEach((t=>t(e)))}));var it,ot,st=p(5692),ut=p(1708),ct=!1,lt={},dt=JSON.parse;function pt(){if("string"==typeof D.default.opConfig){var e;try{e=dt(D.default.opConfig)}catch(e){}return e&&e.expt_info}return D.default.opConfig&&D.default.opConfig.expt_info}function ft(){var e,t=pt();return t&&ct?(e=1,it=t,_.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,it=t,_.reportIDKey({key:"useLaunchExptInfo"}),_.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,_.reportIDKey({key:"useContactExptInfo"})),{exptInfo:it,jsDataType:e}}function ht(){if(void 0===Ne.hr)return"";var e=Ne.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}(0,Ye.n)("onAppEnterForeground",(e=>{Object.assign(lt,e),ot=lt.sessionid||lt.sessionId})),V((e=>{pt()&&(ct=!0)})),D.default.onReady((()=>{Object.assign(lt,D.default.appLaunchInfo);var e=pt();e?it=e:D.default.appContactInfo&&D.default.appContactInfo.passThroughInfo&&(it=D.default.appContactInfo.passThroughInfo.expt_info)}));var gt=(0,U.TG)("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function vt(e){var t={},{exptInfo:r,jsDataType:n}=ft();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&function(e,t,r){_.reportKeyValue({key:"ExptHit",value:[(0,ut.k)(),(0,ut.n)(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}(r.expt_group_id,r,n),void 0!==r.expt_id&&function(e,t,r,n,a){var i=["","","getExptInfo",void 0!==m?m.getCurrentRoutePath():"",null,JSON.stringify({groupId:e,exptId:t,paramName:r,paramValue:n,jsDataType:a})].map(encodeURIComponent).join(",");_.reportKeyValue({key:"SdkInnerApiInvoke",value:i})}(r.expt_group_id,r.expt_id,r.param_name,r.param_value,n))}))),t}function mt(e,t,r="immediate"){var n=2,{accountInfo:a,envVersion:i}=D.default||{},o=a?a.appId:"";"release"===i?n=1:"trial"===i&&(n=3);var s=(0,Ae._getSystemInfoSyncFromCache)(!0),u=lt.sessionid||lt.sessionId,c=lt.usedstate||lt.usedState;at(1005,JSON.stringify({appid:o,app_state:n,appversion:(0,st.E)().miniProgram.version,enter_scene:lt.scene,scene_note:lt.scene_note||lt.sceneNote,prescene:lt.prescene,prescene_note:lt.prescene_note||lt.presceneNote,sessionid:u,add_state:c,page_path:ht()||lt.path,page_query:JSON.stringify(lt.query||{}),referpagepath:lt.referpagepath,isentrance:ot||ot===u?0:1,event_time:Date.now(),sdk_version:Je.c,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:(0,Qe._getCurrentNetworkType)(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:D.default.screenWidth,screen_height:D.default.screenHeight,open_source:D.default.host&&D.default.host.appId?2:1,host_appid:D.default.host?D.default.host.appId:""}),r)}function yt(e,t={}){setTimeout((()=>mt(e,t))),_.reportIDKey({key:"reportEventInvoke"})}var bt,_t,wt=p(88),It="payCompletedPage",St={},kt=[],Ct=(e,t)=>{var r=n=>{var a,i;n.payCompletedPageArgs.endsWith(".html")&&(n.payCompletedPageArgs=decodeURIComponent(n.payCompletedPageArgs.replace(/\.html$/,""))),JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&b.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),a=It,i=r,ze.off(`${a}-unload`,i))};He(It,r)},Tt={};bt=It,_t=e=>{if(e.payCompletedPageArgs){var t=Date.now();e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var r=JSON.parse(e.payCompletedPageArgs),n=r.payCompletedPageId,a=r.payCompletedDataObj?"goldPlan":"normal";Tt[n]={startTime:t},St[n]&&(St[n].timeD=t),Mt("exposePaymentCompletedPage","",n,a)}},ze.on(`${bt}-load`,_t),He(It,(e=>{if(e.payCompletedPageArgs){e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var t=JSON.parse(e.payCompletedPageArgs),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal";if(Tt[r]){var a=Tt[r].startTime,i=Date.now()-a;Mt("stayDuration",i,r,n),delete Tt[r]}Mt("exitPage","",r,n)}}));var At,Pt=new Map,Et=new Map,xt=(e={})=>{var t=e.payCompletedDataObj?"goldPlan":"normal";Mt("beforeOpenPaymentCompletedPage","",e.payCompletedPageId,t);var r=Date.now();return St[e.payCompletedPageId]={timeA:e.timeA,timeB:e.timeB,timeC:r},new Promise((t=>{var r=`wxpage://inner-page?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`;Re.routeRequest({blockUntilFinished:!0,name:"navigateTo",args:{url:r},requestFunc(){ye.Z.openingInnerPage=!0,(0,U.IN)("navigateTo",{url:r,success(e){h.info("openPayCompletedPage success",e),t()},fail(e){Re.unblock(),h.info("openPayCompletedPage fail",e),t()}})}})}))},Mt=(e,t,r,n)=>{var a=(null===Ne.hr||void 0===Ne.hr?void 0:Ne.hr.getCurrentRoute())||"",i=(0,ut.k)()+" "+(0,ut.n)();_.reportKeyValue({key:"PayCompletedPage",value:[0,a,e,encodeURIComponent(t),r,n,i].join(",")})};D.default.onReady((()=>{At=({withCoupon:e,mchExtId:t})=>ADSDK.loadPayAd({hasWxPayCustomCard:!!e,mchExtId:t})}));var Dt=p(1197),Rt=!1,Lt=500,Ot=!1,Nt=0,jt=1,Bt=2,Ft=3,Ut=4,Wt=()=>{var e,t,r;return{shouldCheck:null!==(e=Rt)&&void 0!==e&&e,timeout:null!==(t=Lt)&&void 0!==t?t:500,deprecated:null!==(r=Ot)&&void 0!==r&&r}},Gt=function(){var e=X()((function*(e){try{var t=(0,Ee.Zv)(),{data:r}=yield Jt({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});if(void 0!==r.openproduct_checkticket&&(Rt=!!r.openproduct_checkticket),void 0!==r.openproduct_checktickettimeout&&(Lt=parseInt(r.openproduct_checktickettimeout,10)),void 0!==r.openproduct_checkticket_deprecated&&(Ot=!!r.openproduct_checkticket_deprecated),void 0!==r.openleague_cookie){var n=[];(0,Ee.jl)(r.openleague_cookie||"",!1,n);var a=(0,Ee.zv)({cookies:n});a&&h.error("[set openleague_cookie]",a)}if(void 0!==r.share_cookie){var i=[];(0,Ee.jl)(r.share_cookie||"",!1,i);var o=(0,Ee.zv)({cookies:i,isTemporary:!0});o&&h.error("[set share_cookie]",o)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();D.default.onReady((()=>{setTimeout((()=>Gt(D.default.appLaunchInfo||{})),1e3)})),(0,Te.T)((e=>{(e.reLaunch||e.isLaunch)&&setTimeout((()=>Gt(e)),500)}));var Vt=(()=>{var e,t,r,n;return(0,Te.T)((a=>{e=+a.scene||0,t=a.scene_note||a.sceneNote||"",r=+a.prescene||0,n=a.prescene_note||a.presceneNote||""})),D.default.onReady((()=>{(()=>{var a=D.default.appLaunchInfo||{};e=a.scene||0,t=a.scene_note||a.sceneNote||"",r=a.prescene||0,n=a.prescene_note||a.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})(),$t=0,qt={},zt={},Kt=(0,ue.NX)("requestPayment",function(){var e=X()((function*(e){var t=(0,Q.x7)(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},e);var{deprecated:r,shouldCheck:n}=Wt(),a=n||!1,i=(()=>{var e=(0,wt.J)("openPaymentCompletedPage"),t=(0,wt.J)("openPaymentCompletedPageFull");if(h.info("支付回调页 mainControl=",e),console.info("支付回调页 mainControl=",e),h.info("支付回调页 hasFull=",t),console.info("支付回调页 hasFull=",t),e){if(t)return!0;var r="wx_wxapp_expt_payad",n=vt([r]);return void 0===n[r]?(h.info("支付回调页 exptDefaultTrue"),console.info("支付回调页 exptDefaultTrue"),!0):"1"===n[r]?(h.info("支付回调页 expt=",!0),console.info("支付回调页 expt=",!0),!0):(h.info("支付回调页 expt=",!1),console.info("支付回调页 expt=",!1),!1)}return!1})()&&(N.cj||N.wZ),o=(0,wt.J)("paymentCompletedPageCoupon");h.info("是否开了支付回调页功能",i),h.info("是否配了商家优惠券",o);var s=(()=>{var e=(0,J.M8)();return kt.push(e),e})();if(i&&((e,t={})=>{var r,n;Mt("fetchPaymentCompletedPageInfo","",e,"");var a={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};(0,U.yD)({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:a,fail(){Mt("fetchPaymentCompletedPageInfoFail","",e,"")},success(){Mt("fetchPaymentCompletedPageInfoSuccess","",e,"")},complete(t){h.info("webapi_getpaycallbackappconf 回调",t),Et.get(e)?(Et.get(e)(t),Et.delete(e)):Pt.set(e,t)}})})(s,e.payCompletedPageOptions),a){if(r)throw new Error("wx.requestPayment is disabed");var u=Nt,c=e.ticket||"";try{var l=Wt().timeout||500;try{var{is_authorized:d}=yield Promise.race([Yt({ticket:c,prepay_id:e.package.replace("prepay_id=",""),...Vt(),cookie:(0,Ee.Zv)(),sdk_version:D.default.SDKVersion||""}),Qt("timeout",l)]);u=d?Ft:Ut}catch(e){h.error("[paymentCheckTicket] fail",e),u=e&&"timeout"===e.message?Bt:jt}if(u===Ut)throw new Error("wx.requestPyament is disabled in the current context")}finally{Zt({ticket:c,checkTicketStatus:u})}}var p,f=tr.NONE;try{var g=yield er(e,{payCompletedPageId:s,withCoupon:o,hasOpenPaymentCompletedPagePermission:i});return f=tr.SUCCESS,g}catch(e){throw f=tr.FAILED,p=e.message,e}finally{a&&rr({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:f,requestPaymentErrmsg:p})}}));return function(t){return e.apply(this,arguments)}}()),Ht=((0,ue.NX)("requestPayment",function(){var e=X()((function*(e){var t=(0,Q.x7)(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return e=Object.assign({},e),yield er(e)}));return function(t){return e.apply(this,arguments)}}()),(0,ue.Vl)(U.IN.bind(null,"requestPayment"))),Jt=(0,ue.Vl)(U.yD),Yt=function(){var e=X()((function*(e={}){var{data:t}=yield Jt({apiName:"webapi_openproductcheckticket",reqData:{...e}});return t}));return function(){return e.apply(this,arguments)}}(),Qt=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),Zt=({ticket:e,checkTicketStatus:t})=>{var r=D.default.appLaunchInfo||{},n=Vt(),a=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");_.reportKeyValue({key:"RequestPaymentCheckTicket",value:a})},Xt=!1,er=function(){var e=X()((function*(e,{payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n}={}){var a,i,o,s;var u=(0,Ee.Zv)();e.passCookies&&"string"==typeof e.passCookies?e.cookie=u?e.passCookies+";; "+u:e.passCookies:u?e.cookie=u:delete e.cookie,delete e.passCookies,e.cookie;var c=(0,De.I)(),l=null===(a=D.default.appContactInfo)||void 0===a||null===(i=a.operationInfo)||void 0===i||null===(o=i.jsonInfo)||void 0===o||null===(s=o.op_info)||void 0===s?void 0:s.jump_homepage_after_pay,d=()=>Xt=!0,p={afterSuccess:d};N.gm&&(p.afterAll=d),$t++,qt[$t]={payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n};var f=yield Ht({adUxInfo:c,...e,grantMessageQuota:!0,requestId:$t},p),g=Date.now();h.info("支付客户端返回的 res",f);var v=f.payCompletedData;if(delete f.payCompletedData,l){Mt("paySuccess","jumpHomePageAfterSuccess",t,v?"goldPlan":"normal");var m=D.default.entryPagePath;m&&("/"!==m[0]&&(m="/"+m),m=m.replace(".html",""),Ue({url:m}),function(e=0){Fe=!0,setTimeout((()=>Fe=!1),e)}(100))}else if(n||v){if(v){var{timeA:y}=zt[t]||{};delete zt[t],Mt("paySuccess","goldPlanBusinessPay",t,"goldPlan"),_.reportFrameworkIDKey(19);try{var b=JSON.parse((0,te.EL)(v));h.info("payCompletedDataObj ==",b);var{mch_conf:w}=b,{callback_type:I}=w;if(Mt("payCompletedData",I,t,"goldPlan"),2===I);else if(3===I){var S=yield(0,Dt.o)(),k=null==S?void 0:S.data,C=null==k?void 0:k.opinfo_async;_.reportFrameworkIDKey(20),f.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){Ct(t,e)}},yield xt({payCompletedPageId:t,withCoupon:r,payCompletedDataObj:b,timeA:y,timeB:g,banCustom:1===(null==C?void 0:C.ban_payment_diy_receipt)})}}catch(e){Mt("payCompletedDataDecodeFail",e.message,t,"goldPlan"),h.error("payCompletedData base64 decode fail",e.message)}}else if(n){Mt("paySuccess","nomalBusinessPay",t,"normal");var{checkHaveAdPromise:T,timeA:A}=zt[t]||{};if(delete zt[t],(0,Q.tI)(T)){var P=yield Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),1e3)})),T]);console.log("是否有广告配置",P),h.info("是否有广告配置",P),Mt("checkHaveAdSuccess",!0===P,t,"normal"),!0===P&&(f.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){Ct(t,e)}},yield xt({payCompletedPageId:t,withCoupon:r,timeA:A,timeB:g}))}else h.info("checkHaveAdPromise is not promise",T,t),Mt("checkHaveAdSuccess",!1,t,"normal")}}else Mt("paySuccess","noCallbackPagePay",t,v?"goldPlan":"normal");return(0,U.yD)({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),(0,Pe.L)("reportPaymentFormId",{packageStr:e.package}),(0,xe.Hk)(),f}));return function(t){return e.apply(this,arguments)}}(),tr={NONE:0,SUCCESS:1,FAILED:2},rr=function(){var e=X()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:a,payInfo:i,outOrderId:o}){var s=(0,Ae._getSystemInfoSyncFromCache)(!0),u=D.default.appLaunchInfo||{},{data:c}=yield(0,U.Qh)({apiName:"webapi_openproductreportorder",reqData:{ext_info:{ext_useruin:e,ext_appid:D.default.host&&D.default.host.appId,session_id:u.sessionid||u.sessionId||"",...Vt(),add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion},prepay_id:a,pay_info:i,order_info:{out_order_id:o}}});return c}));return function(t){return e.apply(this,arguments)}}();(0,U.jQ)("onPayResultBeforeUserInteractionEnd",(e=>{if(!(0,N.aI)()){var t=Date.now(),{payCompletedPageId:r,withCoupon:n,hasOpenPaymentCompletedPagePermission:a}=qt[e.requestId];delete qt[e.requestId];var i,o={withCoupon:n};if(e.payCompletedData){var s=JSON.parse((0,te.EL)(e.payCompletedData));s.mch_conf&&s.mch_conf.mch_ext_id&&(o.mchExtId=s.mch_conf.mch_ext_id)}i=e.payCompletedData?"goldPlanBusinessPay":a?"nomalBusinessPay":"noCallbackPagePay",Mt("onPayResultBeforeUserInteractionEnd",i,r,e.payCompletedData?"goldPlan":"normal");var u=(e=>"function"==typeof At&&At(e))(o);zt[r]={checkHaveAdPromise:u,timeA:t}}}));var nr=[1011,1017,1025,1047,1124,1034],ar=[1001,1038,1041,1089,1090,1104,1131,1187],ir={NeedCheck:0,NotCheck:1},or=e=>{if(nr.includes(e))return!0;if(ar.includes(e)){var{scene:t}=function(){throw new Error("getLaunchOptionsSync:fail get launch options")}();return nr.includes(t)}return!1},sr=function(){var e=X()((function*(){try{var{data:e}=yield(0,U.Qh)({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),{check_scene_flag:t=ir.NeedCheck,check_pay_success_flag:r=ir.NeedCheck}=e||{};return{shouldCheckScene:t===ir.NeedCheck,shouldCheckPayment:r===ir.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),ur=(e={})=>{var{scene:t}=(0,me.r)();sr().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||Xt)if(!r||or(t)){var a=Object.assign({},e);if("string"==typeof a.url){var i=_e("publishWeChatState",a,!1);if(!i)return;a.url=i,a.url=(0,Ie.yP)(a.url)}(0,U.IN)("publishWeChatState",a)}else(0,U.YG)("publishWeChatState",e,`invalid scene, current is ${t}`);else(0,U.YG)("publishWeChatState",e,"should only called after a successful payment")}))},cr=p(1333),lr="getShareInfo",dr={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1};function pr(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?(0,U.IN)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function fr(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});(0,U.IN)("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?dr.isPrivateMessage=!0:!1===e.isPrivateMessage&&(dr.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function hr(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?((0,U.IN)("updateShareMenuUpdatable",{updatable:!0}),(0,U.IN)("updateShareMenuShareTicket",{withShareTicket:!0}),(0,U.IN)("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var gr="authPrivateMessage";var vr=p(2805),mr=p(5841),yr=p(7298),br=p(8561),_r=p(4599),wr=!1;function Ir(e){wr="tap"===e}function Sr(){setTimeout((()=>{wr=!1}),0)}function kr(){return(0,N.aI)()?wr:wr||Ne.P3.checkTapMark()||__glassEaselAdapter__.checkTapMark()}var Cr=0,Tr={};D.default.onReady((()=>{Cr=D.default.appType,Tr=D.default.appLaunchInfo}));var Ar=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},Pr=({name:e,data:t})=>{var r=void 0!==Ne.hr?Ne.hr.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",a=(0,Qe._getCurrentNetworkType)(),i=D.default.SDKVersion||"",o="";switch(e){case"loadFontFace":o=Ar(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=Ar(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=Ar(t,["extInfo","corpId"]);break;case"Intl":o=Ar(t,["callPath"])}var s=[Math.round(Date.now()/1e3),Tr.scene,Tr.sessionid||Tr.sessionId,n,a,i,e,o,Cr,1,""].join(",");_.reportKeyValue({key:"APIUse",value:s})},Er={};function xr(e,t={},r=!1,n=!1){r=r||kr(),_.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0,_.getAppType()].join(",")})}(0,_r.vv)((()=>{var e=!1;Object.keys(Er).forEach((t=>{var r=Er[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&Pr({name:"suspectAR",data:{}}),Er={}}));var Mr=function(e){return e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg",e}({}),Dr=function(e){return e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode",e}({}),Rr=function(e){return e[e.Blur=0]="Blur",e[e.Upload=1]="Upload",e}({}),Lr=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e}({}),Or={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},Nr=e=>t=>null!=t&&e.includes(t),jr=Nr([Mr.DisableAsyncReport,Mr.ReportAction,Mr.ReportContent,Mr.ReportContentWithImg]),Br=Nr([Dr.DisableSyncCheck,Dr.EasyMode,Dr.StrictMode]),Fr=p(6335),Ur=p(27),Wr=p(5179),Gr=null,Vr=(0,ue.Vl)(Ur.ac),$r=(0,ue.Vl)(Wr.p),qr=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),zr=null,Kr=function(){var e=X()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function Hr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=X()((function*(e){Gr||(Gr=(0,ue.Vl)(fn));var{tempFilePath:t}=yield Gr({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield $r({filePath:t});return yield Kr(X()((function*(){var e,t=null===(e=D.default.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([qr(4e3,"upload timeout"),Vr({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${zr.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function Yr(e,t){return Qr.apply(this,arguments)}function Qr(){return Qr=X()((function*(e,t,r=""){if(zr&&Array.isArray(t)){var n=zr.async_report_mode,a=zr.sync_check_mode;if((!Br(a)||a===Dr.DisableSyncCheck)&&jr(n)&&n!==Mr.DisableAsyncReport&&"number"==typeof Or[e]){var i={async_report_mode:n,query_path:(0,Fr.FZ)(),component_type:Or[e],report_time:Date.now(),content_length:t.length,action_type:Rr.Upload,plugin_app_id:r};if(n===Mr.ReportContentWithImg){var o=[];for(var s of t)o.push(yield Hr(s));i.content=o.join(",")}(0,U.yD)({apiName:"webapi_wxaasyncinputreport",reqData:i,pluginId:r,success:e=>{},fail:e=>{}})}}})),Qr.apply(this,arguments)}function Zr(e){if(zr){var t=zr[`${e}_auth`]===Lr.YES;return t&&(0,Me.showToast)({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var Xr=31,en=788,tn=new Map,rn=new Map;D.default.onReady(X()((function*(){yield new Promise((e=>setTimeout(e,2e3)));var{data:e={}}=yield(0,Dt.o)(),{api_cooltime_list:t=[]}=e;for(var{api:r,cooltime:n}of t)rn.set(r,n)})));var nn,an=e=>{var t;return null!==(t=rn.get(e))&&void 0!==t?t:0},on=e=>{var t=an(e);if(t<=0)return!1;tn.has(e)||tn.set(e,0);var r=tn.get(e),n=Date.now(),a=!0;if(n-r>=t)a=!1;else{var i=(0,xe.B7)();a=i<r||i>n}return a||tn.set(e,n),a},sn=(e,t,r)=>{var n=an(e);(0,U.YG)(t,r,`can't be invoked in ${n}ms until user taps`)},un=function(e={}){if(Zr("choose_image"))(0,U.YG)("chooseImage",e,"This api is temporarily unavailable");else{var t=(0,ke.hI)(this);(0,U.qu)(t)("chooseImage",(0,vr.f0)({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&Yr("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},cn="previewImage",ln=(e={})=>{if((0,U.r3)(cn,e,{urls:[""]})){var t=on(Xr),r=D.default.version,n=D.default.system,a="7.0.12"===r&&n.indexOf("iOS 13.4")>=0;for(var i of e.urls)if(/^\s*data:image\//.test(i)&&a)return void(0,U.YG)(cn,e,"url can not be base64 on iOS 13.4");var o=Object.assign({},e);o.urls=o.urls.slice(),o.referrerPolicy=o.referrerPolicy||"origin",(0,br.V)(o.urls,"image",(r=>{var n=o.urls;if(o.urls=[...r.data.map((e=>e.url))],o.current){var a=n.indexOf(o.current);a>=0&&(o.current=o.urls[a])}o.urls&&(o.urls=o.urls.map((e=>yr.LC.get(e)||e))),t?sn(Xr,cn,e):(0,U.IN)(cn,o),xr(cn,{urls:o.urls||[]},!1,t)}))}},dn=(e,t)=>{(0,U.r3)("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?(0,U.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,(0,U.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):(0,U.YG)("getImageInfo",e,"image not found (404)")},fail(t){(0,U.YG)("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=(0,be.sd)(ye.Z.lastRoute,e.src,!1),(0,U.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},pn=function(e={}){e.filePath=yr.LC.get(e.filePath)||e.filePath,(0,U.qu)((0,ke.hI)(this))("saveImageToPhotosAlbum",e,{})},fn=(e={})=>{var t={src:"",quality:80};t=(0,vr.l7)(t,e),(0,U.r3)("compressImage",t,{src:" ",quality:80})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(t.src=(0,be.sd)(ye.Z.lastRoute,t.src,!1)),(0,U.IN)("compressImage",t))},hn=p(6301),gn=(0,ue.Vl)((e=>{var t=Object.assign({},e),r=[t.src];(0,br.V)(r,"image",(e=>(t.src=e.data[0].url,dn(t,mr.S))))})),vn=1,mn=3,yn=4,bn=5,_n=6,wn=7,In=({action:e})=>{var t=D.default.appLaunchInfo||{},r=[D.default.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");_.reportKeyValue({key:"ShareImageMenu",value:r})},Sn=function(){var e=X()((function*(e){var t=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),r=t.append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),n=(0,hn.vJ)((e=>{[hn.ML.BottomBackButton,hn.ML.NavigationBackInterceptionType,hn.ML.NavigateBackCall].includes(e.type)&&r.handleClose()})),{action:a}=yield new Promise((e=>{["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((t=>{r.addListener(t,(()=>e({action:t})))}))}));return(0,hn.J_)(n),{action:a}}));return function(t){return e.apply(this,arguments)}}(),kn=(0,ue.NX)("showShareImageMenu",X()((function*(e={}){if(!(0,wt.J)("showShareImageMenu"))throw new Error("no permission");(0,U.zy)(e,{path:""});var t=yr.LC.get(e.path)||e.path;if(/^\w+:\/\//.test(t)){if(!/^wxfile:\/\//.test(t)&&!/^http:\/\/tmp\//.test(t))throw new Error("invalid path")}else t="/"+((e,t=!0)=>(0,be.sd)(ye.Z.lastRoute,e,t))(t,!1);var{height:r,width:n}=yield gn({src:t}),{action:a}=yield Sn({imgPath:t,height:r,width:n});switch(In({action:vn}),a){case"shareToFriend":try{yield(0,U.bb)("shareImageMessage",{imagePath:t}),In({action:mn})}catch(e){if("cancel"===e.message)return void In({action:yn});throw e}return;case"addToFavorites":return In({action:bn}),void(yield(0,U.bb)("addImageToFavorites",{url:t}));case"saveToAlbum":return In({action:_n}),yield(0,U.bb)("saveImageToPhotosAlbum",{filePath:t}),void(N.cj&&(0,Me.showToast)({icon:"success",title:"已保存"}));default:throw In({action:wn}),new Error("cancel")}}))),Cn=(e={})=>{if((0,wt.J)("sendBizRedPacketForOpen")){var t=(0,me.r)().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}(0,U.IN)("sendBizRedPacket",e,{})},Tn=(e={})=>{(0,U.IN)("sendRedPacket",e,{})},An=(e={})=>{(0,U.IN)("openRedPacket",e,{})},Pn=Object.assign,En=Object.create,xn=n.prototype.call.bind(String.prototype.toString),Mn=n.prototype.call.bind(String.prototype.indexOf),Dn=(e={})=>{if((0,U.r3)("showRedPackage",e,{url:""}))if((0,wt.J)("showRedPackage")){var t=En(null);Pn(t,e),t.url=xn(t.url),t.isNativeStyle=!0,0===Mn(t.url,"https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket")?(0,U.IN)("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):(0,U.YG)("showRedPackage",t,"url is invalid")}else(0,U.YG)("showRedPackage",e,"no permission")},Rn=p(2900),Ln=e=>{(0,U.IN)("login",(0,vr.f0)(e,{requestInQueue:!1}))},On=e=>{nn&&clearTimeout(nn),(0,U.IN)("refreshSession",e,{beforeSuccess:e=>{nn=setTimeout((()=>{(0,U.IN)("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},Nn=function(e={}){var t="setPluginLoginAuth",r=(0,ke.hI)(this),n=Object.assign({},e,{miniprogram_appid:D.default.accountInfo.appId,auth_status:1}),{success:a,fail:i}=(0,U.Rn)(e,t);(0,U.yD)({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,a(e)},fail:i})},jn=p(9661),Bn={cancel:0,accept:1},Fn={scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:()=>({}),checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},Un=["scope.userLocation","scope.userFuzzyLocation"],Wn=(e="gcj02")=>{var t,r=null===D.default||void 0===D.default?void 0:D.default.appLaunchInfo,n=null!==(t=ye.Z.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===n||1245===n){var a,i,o=null==r||null===(a=r.referrerInfo)||void 0===a||null===(i=a.privateExtraData)||void 0===i?void 0:i.location;if(o)return"gcj02"===e?{...o}:qn(o)}return null},Gn=Math.PI,Vn=6378245,$n=.006693421622965943,qn=e=>{if(Hn(e.longitude,e.latitude))return{...e};var{latitude:t,longitude:r}=e,n=t/180*Gn,a=zn(r-105,t-35),i=Kn(r-105,t-35),o=Math.sin(n);o=1-$n*o*o;var s=Math.sqrt(o);return a=180*a/(Vn*(1-$n)/(o*s)*Gn),{longitude:2*r-(r+(i=180*i/(Vn/s*Math.cos(n)*Gn))),latitude:2*t-(t+a)}},zn=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*Gn)+20*Math.sin(2*e*Gn))/3,r+=2*(20*Math.sin(t*Gn)+40*Math.sin(t/3*Gn))/3,r+=2*(160*Math.sin(t/12*Gn)+320*Math.sin(t*Gn/30))/3},Kn=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*Gn)+20*Math.sin(2*e*Gn))/3,r+=2*(20*Math.sin(e*Gn)+40*Math.sin(e/3*Gn))/3,r+=2*(150*Math.sin(e/12*Gn)+300*Math.sin(e/30*Gn))/3},Hn=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),Jn=(()=>{var e=new jn.Z,t="",r=null,n=[];function a(e){r&&!n.length?(n.push(e),r.des()):e()}function i(n,a,i,s){var{tmpl:u,opApi:c}=a;r||(r=s.mainRoot.append(u,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(a,n,r.extra);r.setData({...e,enter:!0})}else r.isReady=!0})),r.addListener("destroy",(a=>{r=null,(0,hn.J_)(i);var{type:o}=a.detail;o?function(e,r,n){(0,U.yD)({sdkApiName:t,apiName:r.name,reqData:r.request({opType:n,...e}),success(a){n===Bn.accept?((0,U.FE)({name:t,args:e,res:a}),r.success()):(0,U.YG)(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();(0,U.YG)(t,e,n,+r.err_code)}})}(n,c,Bn[o]):e.emit("desComp")}))}function o(e,t,r={}){var n=e.genData(t,r);return Object.assign(n,{appIcon:D.default.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",appName:D.default.accountInfo.nickname}),n}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{t=n.api,(0,U.r3)(t,e,n.checkArgs(e))&&__sclEngine__.initScl((s=>{var u=function(e){return(0,hn.vJ)((r=>{[hn.ML.BottomBackButton,hn.ML.NavigationBackInterceptionType,hn.ML.NavigateBackCall].includes(r.type)&&a((()=>{(0,U.YG)(t,e,"user navigate back operation")}))}))}(e);i(e,n,u,s),(0,U.yD)({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(i){if(!n.checkApi.confirm(i))return delete i.data,void a((()=>{(0,U.FE)({name:t,args:e,res:i})}));if(r)if(r.isReady){var s=o(n,e,i);r.setData({...s,enter:!0})}else r.isReady=!0,r.extra=i},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();a((()=>{(0,U.YG)(t,e,n,+r.err_code)}))}})}))}})();var Yn=e=>{var t="authorize",r=(0,U.qu)(e);return(e={})=>{(0,U.r3)("authorize",e,{scope:""})&&("scope.userInfo"!==e.scope||(0,Oe.KU)("getUserInfo")||(0,Oe.KU)("authorize")?!function(e){return Object.keys(Fn.scopes).includes(e)}(e.scope)?e.scope&&Wn()&&Un.includes(e.scope)?setTimeout((()=>(0,U.F0)({},t,e,{})),100):r(t,(0,vr.f0)(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):Object.entries(Fn.scopes).forEach((([t,r])=>{t===e.scope&&Jn(e,r)})):(0,U.YG)("authorize",e,"scope unauthorized"))}},Qn=Yn(),Zn=p(7412);var Xn=(0,U.TG)("getSetting","webapi_getuserallappauth",(function(e){var t=D.default.SDKVersion,r=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete r.withSubscriptions,r}),(function(e){if(h.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=(0,Zn.r)(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e})),ea=p(2100),ta=p(4596),ra=function(e={}){var t=(0,ke.hI)(this);(0,U.qu)(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=(0,U.Rn)(e);(0,U.yD)({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),setTimeout((()=>(0,ta.jj)(t,"wx.getWeRunData")))},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&b.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&b.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},na=(e={})=>{"number"!=typeof e.step||e.step<0?(0,U.YG)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,U.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,U.IN)("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&b.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&b.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},aa=(e={})=>{"number"!=typeof e.step||e.step<0?(0,U.YG)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,U.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,U.IN)("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&b.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&b.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},ia=e=>(t={})=>{(0,U.r3)("operateWXData",t,{apiName:""})&&(0,U.t4)({keepAlive:t.keepAlive,apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},oa=ia(!1),sa=(ia(!0),(0,U.TG)("getUserGameLabel","webapi_getgameplayerlabel",(()=>{}),(e=>e))),ua=p(1357),ca=(0,U.TG)("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",(({todayPlayedTime:e=0})=>({today_played_seconds:e})),(e=>{e.result=!e.is_healthy,delete e.is_healthy})),la=e=>{(0,U.r3)("checkIsUserAdvisedToRest",e,{todayPlayedTime:0})&&ca(e)},da="";D.default.onReady((()=>{da=D.default.appLaunchInfo.chatroomUsername})),(0,Ye.n)("onAppEnterForeground",((e={})=>{da=e.chatroomUsername}));var pa="getGroupEnterInfo",fa=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,pa);da?(0,wt.J)("getGroupToolbarInfo")?(0,U.yD)({sdkApiName:pa,apiName:"webapi_swapopengid",reqData:{chatroom_name:da},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},ha=(e={})=>{var t=D.default.SDKVersion,r=!0===(0,Oe.KU)("getUserInfo")||"unknown"===(0,Oe.KU)("getUserInfo"),{success:n,fail:a}=(0,U.Rn)(e,"getUserInfo");(0,U.yD)({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:a,signature:i,data:o}=e;n({cloudID:t,encryptedData:r,iv:a,signature:i,userInfo:o,rawData:JSON.stringify(e.data)}),(0,N.aI)()&&setTimeout((()=>(0,ta.$J)("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)}})},ga=p(2166),va=p(2078),ma=function(e={}){(0,ga.et)(Object.assign({},e,{complete(t){(0,va.eu)({user_action:[va.Vw.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&(0,va.rL)(t,r,!0)})).catch((e=>{h.error("getUserGrantInfo fail",e)})),"function"==typeof e.complete&&e.complete(t)}}))},ya=(e={})=>{setTimeout((()=>{(0,U.IN)("getBatteryInfo",e)}),0)},ba=()=>{var e={level:100,isCharging:!0};if((0,U.IN)("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},_a=!1,wa=(0,W.s)("accelerometerChange"),Ia=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=void 0!==t[e.interval]?t[e.interval]:t.normal,n=(0,vr.f0)(e,{interval:r,enable:!0});(0,U.IN)("enableAccelerometer",n,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),_a=!0},Sa=(e={})=>{(0,U.IN)("enableAccelerometer",(0,vr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),_a=!1},ka=wa.onMethod,Ca=wa.offMethod,Ta=e=>{_a||((0,U.IN)("enableAccelerometer",{enable:!0}),_a=!0),ka(e)};(0,U.jQ)("onAccelerometerChange",((e={})=>{wa.emit(e)}));var Aa=!1,Pa=(0,W.s)("compassChange"),Ea=(e={})=>{(0,U.IN)("enableCompass",(0,vr.f0)(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),Aa=!0},xa=(e={})=>{(0,U.IN)("enableCompass",(0,vr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),Aa=!1},Ma=Pa.onMethod,Da=Pa.offMethod,Ra=e=>{Aa||((0,U.IN)("enableCompass",{enable:!0}),Aa=!0),Ma(e)};(0,U.jQ)("onCompassChange",((e={})=>{Pa.emit(e)}));var La=(e={})=>{(0,U.IN)("getClipboardData",e,{beforeSuccess(){var e;if(!(0,N.tK)()){var t=(null===(e=D.default.accountInfo)||void 0===e?void 0:e.nickname)||"小程序";(0,U.be)("showToast",{icon:"",title:`“${t}”读取了你的剪切板内容`})}}})},Oa=(e={})=>{(0,U.r3)("setClipboardData",e,{data:""})&&(0,U.IN)("setClipboardData",e,{beforeSuccess(){(0,U.be)("showToast",{icon:"",title:"内容已复制"})}})},Na=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void(0,U.YG)("startBeaconDiscovery",e,"invalid service uuid")}(0,U.IN)("startBeaconDiscovery",e)}else(0,U.YG)("startBeaconDiscovery",e,"uuid must be an Array");else(0,U.YG)("startBeaconDiscovery",e,"must have uuid")},ja=(e={})=>{(0,U.IN)("stopBeaconDiscovery",e)},Ba=(e={})=>{(0,U.IN)("getBeacons",e)},Fa=e=>{(0,U.r3)("onBeaconUpdate",e,Q.ZT)&&(0,U.jQ)("onBeaconUpdated",b.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},Ua=()=>{(0,U.jQ)("onBeaconUpdated",(()=>{}))},Wa=e=>{(0,U.r3)("onBeaconServiceChange",e,Q.ZT)&&(0,U.jQ)("onBeaconServiceChanged",b.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},Ga=()=>{(0,U.jQ)("onBeaconServiceChanged",(()=>{}))},Va=(e={})=>{(0,U.IN)("captureScreen",e,{})},$a=(0,W.s)("userCaptureScreen"),qa=$a.onMethod,za=($a.offMethod,null);(0,Ye.n)("onUserCaptureScreen",(e=>{"function"==typeof za&&za(e),$a.emit(e)}));var Ka=e=>{za=b.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function")},Ha=()=>{za=null};D.default.onReady((()=>{var e,t,r,n=1092===(null===(e=D.default.appLaunchInfo)||void 0===e?void 0:e.scene),a=null===(t=D.default.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;(0,Ye.n)("onAppEnterForeground",(e=>{var t;n=1092===e.scene,a=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),(0,Ye.n)("onUserCaptureScreen",(()=>{var e,t,r=ye.Z.lastRoute||"",i=ye.Z.query||{};"object"==typeof i&&(i=Object.keys(i).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`)).join("&")),_.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,i].join(",")}),n&&(null===(e=a)||void 0===e?void 0:e.csSessionId)&&(0,U.yD)({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=a)||void 0===t?void 0:t.csSessionId}})}))}));var Ja=(e={})=>{(0,U.IN)("getScreenBrightness",e,{})},Ya=(e={})=>{(0,U.IN)("setScreenBrightness",e,{})},Qa=(e={})=>{(0,U.r3)("setKeepScreenOn",e,{keepScreenOn:!0})&&(0,U.IN)("setKeepScreenOn",e,{})},Za=(e={})=>{var t=Object.assign({},e);t.style=t.type,(0,U.IN)("vibrateShort",t,{})},Xa=(e={})=>{(0,U.IN)("vibrateLong",e,{})},ei=function(e={}){(0,U.qu)((0,ke.hI)(this))("openBluetoothAdapter",e,{})},ti=(e={})=>{(0,U.IN)("closeBluetoothAdapter",e,{})},ri=(e={})=>{(0,U.IN)("getBluetoothAdapterState",e,{})},ni=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,U.YG)("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,U.YG)("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(N.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,U.IN)("startBluetoothDevicesDiscovery",e,{})},ai=(e={})=>{(0,U.IN)("stopBluetoothDevicesDiscovery",e,{})},ii=(e={})=>{(0,U.IN)("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,te.RG)(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,te.RG)(t[e]))}))}return e}))}})},oi=(e={})=>{(0,U.r3)("getBLEDeviceRSSI",e,{deviceId:""})&&(0,U.IN)("getBLEDeviceRSSI",e)},si=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,U.YG)("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,U.YG)("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(N.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,U.IN)("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,te.RG)(e.advertisData)),e)))}})},ui=(e={})=>{e.type="getAll",(0,U.IN)("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},ci=[];(new jn.Z).on("_updateMonitorDevices",(function(){((e={})=>{ui({success(t){var r=t.devices.filter((e=>e.appid===D.default.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),(0,U.F0)({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){(0,U.YG)("getMonitoredBluetoothDevices",e,t.errMsg)}})})({success(e){e.devices&&(ci=e.devices)}})}));new jn.Z;var li=()=>D.default&&Array.isArray(D.default.requiredBackgroundModes)&&D.default.requiredBackgroundModes.includes("bluetooth"),di=p(4509),pi=null;function fi(){var e;return null===pi?!(null===(e=D.default.appLaunchInfo)||void 0===e||!e.inBackground):pi}var hi=(0,W.s)("onBLEConnectionStateChanged"),gi=hi.onMethod,vi=hi.offMethod,mi=hi.internalOnMethod;(0,U.jQ)("onBLEConnectionStateChanged",(e=>{hi.emit(e)}));var yi=(0,W.s)("onBluetoothAdapterStateChange"),bi=yi.onMethod,_i=yi.offMethod,wi=yi.internalOnMethod;(0,U.jQ)("onBluetoothAdapterStateChange",(e=>{yi.emit(e)}));var Ii,Si=n.prototype.call.bind(Object.prototype.hasOwnProperty),ki=(Ii=Object.create(null),{add(e){Ii[e]=e},remove(e){delete Ii[e]},has:e=>Si(Ii,e),clear(){Ii=Object.create(null)}});mi((e=>{e&&(e.connected?ki.add(e.deviceId):ki.remove(e.deviceId))})),wi((e=>{e&&!e.available&&ki.clear()}));var Ci=new jn.Z;Object.create(null);var Ti=!1,Ai=!1,Pi=[];(0,Te.T)((()=>{Ti=!1})),(0,di.J)((()=>{Ti=!0})),Ci.on("_setBluetoothBackgroundMode",(e=>{Ai=e.enable,Pi=e.devices.map((e=>e.deviceId))}));var Ei,xi=(e,t)=>{var r=Ti||fi();!function(e){return ci.some((t=>t.deviceId===e))}(e)&&r&&Ai?t(!((e=>ki.has(e))(e)&&Pi.includes(e))):t(!1)},Mi=e=>{var t=e.map(encodeURIComponent).join(",");_.reportKeyValue({key:"BLEDevices",value:t})},Di=(e={})=>{(0,U.r3)("createBLEConnection",e,{deviceId:""})&&(li()?xi(e.deviceId,(t=>{t?(0,U.YG)("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(Mi([e.deviceId]),(0,U.IN)("createBLEConnection",e,{}))})):(Mi([e.deviceId]),(0,U.IN)("createBLEConnection",e,{})))},Ri=(e={})=>{(0,U.r3)("closeBLEConnection",e,{deviceId:""})&&(0,U.IN)("closeBLEConnection",e,{})},Li=(e={})=>{(0,U.r3)("getBLEDeviceServices",e,{deviceId:""})&&(0,U.IN)("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},Oi=(e={})=>{(0,U.r3)("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&(0,U.IN)("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:N.wZ?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},Ni=(e={})=>{(0,U.r3)("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,U.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:N.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:N.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},ji=(e={})=>{(0,U.r3)("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,U.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:N.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:N.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},Bi=(e={})=>{(0,U.r3)("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&(0,U.IN)("readBLECharacteristicValue",Object.assign({},e,{serviceId:N.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:N.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},Fi=(e={})=>{(0,U.r3)("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||Ui(e.writeType)?(0,U.IN)("writeBLECharacteristicValue",Object.assign({},e,{value:(0,te.sM)(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:N.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{}):(0,U.YG)("writeBLECharacteristicValue",e,"invalid writeType"))},Ui=e=>["write","writeNoResponse"].includes(e),Wi=e=>{(0,U.jQ)("onBLEConnectionStateChanged",b.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},Gi=()=>{(0,U.jQ)("onBLEConnectionStateChanged",(()=>{}))},Vi=e=>{(0,U.jQ)("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=(0,te.RG)(t.value)),b.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},$i=()=>{(0,U.jQ)("onBLECharacteristicValueChange",(()=>{}))},qi=e=>{(0,U.jQ)("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=(0,te.RG)(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,te.RG)(t[e]))}))}catch(e){}return e})),b.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},zi=()=>{(0,U.jQ)("onBluetoothDeviceFound",(()=>{}))},Ki=(e,t)=>Object.assign({},e,{[t]:(0,te.sM)(e[t])}),Hi=e=>!(e>=0&&e<65536),Ji=new jn.Z,Yi=new WeakMap,Qi=new WeakMap,Zi=function(e,t){var r=`${Yi.get(this)}_on${e}`,n=r=>{b.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};Qi.get(this).set(t,n),Ji.on(r,n)},Xi=function(e,t){var r=`${Yi.get(this)}_on${e}`,n=Qi.get(this);if((0,Q.mf)(t)){var a=n.get(t);(0,Q.mf)(a)&&(n.delete(t),Ji.off(r,a))}else Qi.set(this,new WeakMap),Ji.removeAllListeners(r)},eo=(0,W.s)("CharacteristicReadRequest");eo.onMethod,eo.offMethod;(0,U.jQ)("onCharacteristicReadRequest",((e={})=>{Ji.emit(`${e.serverId}_onCharacteristicReadRequest`,e),eo.emit(e)}));var to=(0,W.s)("CharacteristicWriteRequest");to.onMethod,to.offMethod;(0,U.jQ)("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=(0,te.RG)(e.value)),Ji.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),to.emit(e)}));var ro=(0,W.s)("CharacteristicSubscribed");ro.onMethod,ro.offMethod;(0,U.jQ)("onCharacteristicSubscribed",((e={})=>{Ji.emit(`${e.serverId}_onCharacteristicSubscribed`,e),ro.emit(e)}));var no=(0,W.s)("CharacteristicUnsubscribed");no.onMethod,no.offMethod;(0,U.jQ)("onCharacteristicUnsubscribed",((e={})=>{Ji.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),no.emit(e)}));var ao=(Ei=class{constructor(e){this.serverId=e,this.services=[],Yi.set(this,e),Qi.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{Zi.call(this,e,t)},this[`off${e}`]=t=>{Xi.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,U.IN)("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",Yi.delete(t)}})}addService(e={}){if((0,U.r3)("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>Ki(e,"value"))),Object.assign({},e,{value:(0,te.sM)(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;(0,U.IN)("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if((0,U.r3)("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,U.IN)("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if((0,U.r3)("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!(0,U.r3)("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(Hi(t.beacon.major)||Hi(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>Ki(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var a=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});(0,U.IN)("startBLEPeripheralAdvertising",a,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});(0,U.IN)("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:(0,te.sM)(e.value)});(0,U.IN)("writeBLEPeripheralCharacteristicValue",t,{})}},E()(Ei.prototype,"close",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"close"),Ei.prototype),E()(Ei.prototype,"addService",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"addService"),Ei.prototype),E()(Ei.prototype,"removeService",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"removeService"),Ei.prototype),E()(Ei.prototype,"startAdvertising",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"startAdvertising"),Ei.prototype),E()(Ei.prototype,"stopAdvertising",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"stopAdvertising"),Ei.prototype),E()(Ei.prototype,"writeCharacteristicValue",[J.Qu],Object.getOwnPropertyDescriptor(Ei.prototype,"writeCharacteristicValue"),Ei.prototype),Ei),io=function(e={}){(0,U.qu)((0,ke.hI)(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new ao(t);delete e.serverId,e.server=r}})},oo=(0,W.s)("BLEPeripheralConnectionStateChanged"),so=oo.onMethod,uo=oo.offMethod;(0,U.jQ)("onBLEPeripheralConnectionStateChanged",((e={})=>{oo.emit(e)}));var co=(e={})=>{if((0,U.r3)("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);(0,Q.eP)(e.pin||null)&&(t.pin=(0,te.sM)(e.pin)),(0,U.IN)("makeBluetoothPair",t)}},lo=(e={})=>{(0,U.r3)("isBluetoothDevicePaired",e,{deviceId:""})&&(0,U.IN)("isBluetoothDevicePaired",e)},po=(e={})=>{N.wZ?(0,U.r3)("setBLEMTU",e,{deviceId:"",mtu:0})&&(0,U.IN)("setBLEMTU",e,{}):(0,U.YG)("setBLEMTU",e,"can only be invoked on android")},fo=(0,W.s)("onBLEMTUChange"),ho={},go=fo.onMethod,vo=fo.offMethod;N.wZ&&(0,U.jQ)("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(ho).forEach((e=>{delete ho[e]})),ho[e.deviceId]={mtu:e.mtu}),fo.emit(e)}));var mo=(e={})=>{if((0,U.r3)("getBLEMTU",e,{deviceId:""}))if(N.wZ){var t=ho[e.deviceId],r={mtu:t?t.mtu:23};(0,U.F0)(r,"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void(0,U.YG)("getBLEMTU",e,"invalid write type");(0,U.IN)("getBLEMTU",e,{})}},yo=(0,W.s)("local-service-found"),bo=(0,W.s)("local-service-lost"),_o=(0,W.s)("local-service-discovery"),wo=(0,W.s)("local-service-resolve-fail"),Io=(e={})=>{(0,U.IN)("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},So=(e={})=>{(0,U.IN)("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};(0,U.jQ)("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=(0,te.RG)(r)})),delete t.event,e.event){case"found":yo.emit(t);break;case"lost":bo.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,_o.emit(t);break;case"resolveFail":delete t.ip,delete t.port,wo.emit(t)}}));var ko=yo.onMethod,Co=yo.offMethod,To=bo.onMethod,Ao=bo.offMethod,Po=_o.onMethod,Eo=_o.offMethod,xo=wo.onMethod,Mo=wo.offMethod,Do=(0,W.s)("gyroscopeChange"),Ro=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;(0,U.IN)("enableGyroscope",(0,vr.f0)(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},Lo=(e={})=>{(0,U.IN)("enableGyroscope",(0,vr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},Oo=Do.onMethod,No=Do.offMethod;(0,U.jQ)("onGyroscopeChange",(e=>{Do.emit(e)}));var jo=(0,W.s)("deviceMotionChange"),Bo=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;(0,U.IN)("enableDeviceMotionChangeListening",(0,vr.f0)(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},Fo=(e={})=>{(0,U.IN)("enableDeviceMotionChangeListening",(0,vr.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},Uo=jo.onMethod,Wo=jo.offMethod;(0,U.jQ)("onDeviceMotionChange",(e=>{jo.emit(e)}));var Go=e=>{N.cj||N.wZ?(0,U.IN)("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):(0,U.IN)("getLocalIPAddress",e)},Vo=p(5933),$o=p(7351),qo=p(1163),zo=p(4081),Ko={SUCCESS:0,INVALID_ARGUMENT:zo.b1W,SESSION_UNAVAILABLE:zo.wPB,SYSTEM_ERROR:zo.fUJ,DEVICE_NOT_SUPPORTED:zo.zJY,OS_NOT_SUPPORTED:zo.Yd_,NO_SYSTEM_CAMERA_ACCESS:zo.NHl,NO_MINIPROGRAM_CAMERA_ACCESS:zo.rAn},Ho={[-1]:Ko.INVALID_ARGUMENT,[-2]:Ko.SESSION_UNAVAILABLE,[-3]:Ko.SYSTEM_ERROR,[-4]:Ko.DEVICE_NOT_SUPPORTED,[-5]:Ko.OS_NOT_SUPPORTED,[-6]:Ko.NO_SYSTEM_CAMERA_ACCESS,[-7]:Ko.NO_MINIPROGRAM_CAMERA_ACCESS},Jo=0,Yo=1,Qo=2,Zo=0,Xo=1,es=2,ts=3,rs=5,ns=6,as=7,is=8,os=1,ss=2,us=3,cs=4,ls={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},ds=1,ps=2,fs=4,hs=5,gs=6,vs=7,ms=8,ys=9,bs=10,_s=11,ws=12,Is=13,Ss="v1",ks="v2",Cs=ls.VKReference,Ts={};class As{constructor(e=0,t){this[Cs]={webviewId:e,native:t}}destroy(){this[Cs].native=null}}class Ps extends As{}class Es extends As{}function xs(e=0,t){if(!t)return null;Ts[e]||(Ts[e]=new WeakMap);var r=Ts[e];if(r.has(t))return r.get(t);var n=null;return t instanceof O.Z.ARImageReference?n=new Ps(e,t):t instanceof O.Z.ARObjectReference&&(n=new Es(e,t)),r.set(t,n),n}function Ms(e=0){Ts[e]={}}var Ds=ls.VKMesh;class Rs{constructor(e=0,t){this[Ds]={webviewId:e,native:t}}get vertices(){return this[Ds].native?this[Ds].native.getVertices():null}get uvs(){return this[Ds].native?this[Ds].native.getUVs():null}get triangles(){return this[Ds].native?this[Ds].native.getTriangles():null}destroy(){this[Ds].native=null}}var Ls=ls.VKAnchor,Os={},Ns={},js=1e4;class Bs{constructor(e=0,t){this[Ls]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[Ls].native?this[Ls].native.id:null}get type(){return this[Ls].native?this[Ls].native.type:null}get transform(){return this[Ls].native?this[Ls].native.transform:null}get reference(){if(!this[Ls].native)return null;if(!this[Ls].reference){var e=this[Ls].native.reference;this[Ls].reference=xs(this[Ls].webviewId,e)}return this[Ls].reference}get mesh(){if(!this[Ls].native)return null;if(!this[Ls].mesh){var e=this[Ls].native.mesh;this[Ls].mesh=new Rs(this[Ls].webviewId,e)}return this[Ls].mesh}get size(){if(!this[Ls].native||!this[Ls].native.size)return null;var e=Array.from(this[Ls].native.size);return{width:e[0],height:e[1]}}destroy(){this[Ls].native=null,this[Ls].reference&&(this[Ls].reference.destroy(),this[Ls].reference=null),this[Ls].mesh&&(this[Ls].mesh.destroy(),this[Ls].mesh=null)}}class Fs extends Bs{get alignment(){return this[Ls].native?this[Ls].native.alignment:null}}class Us extends Bs{get markerId(){return this[Ls].native?this[Ls].native.markerID:null}get path(){return this[Ls].native?Ns[this[Ls].native.markerID]||"":null}}class Ws extends Bs{get markerId(){return this[Ls].native?this[Ls].native.markerID:null}get path(){return this[Ls].native?Ns[this[Ls].native.markerID]||"":null}get origin(){if(!this[Ls].native||!this[Ls].native.origin)return null;var e=Array.from(this[Ls].native.origin);return{x:e[0],y:e[1]}}}class Gs extends Bs{get size(){return this[Ls].native?this[Ls].native.size:null}get depthArray(){return this[Ls].native?this[Ls].native.depthArray:null}}class Vs extends Bs{get text(){return this[Ls].native?this[Ls].native.text:null}get box(){return this[Ls].native?this[Ls].native.box:null}get subtext(){return this[Ls].native?this[Ls].native.subtext:null}get score(){return this[Ls].native?this[Ls].native.score:null}}class $s extends Bs{get detectId(){return this[Ls].native?this[Ls].native.detectId:null}get origin(){if(!this[Ls].native||!this[Ls].native.origin)return null;var e=Array.from(this[Ls].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[Ls].native?this[Ls].native.confArray:null}get points3d(){return this[Ls].native?this[Ls].native.joints3d:null}get camExtArray(){return this[Ls].native?this[Ls].native.cameraExtrinsicArray:null}get camIntArray(){return this[Ls].native?this[Ls].native.cameraIntrinsicArray:null}}class qs extends $s{get points(){return this[Ls].native?this[Ls].native.points106:null}get angle(){return this[Ls].native?this[Ls].native.angleArray:null}}class zs extends $s{get points(){return this[Ls].native?this[Ls].native.pointsArray:null}get score(){return this[Ls].native?this[Ls].native.score:null}}class Ks extends $s{get points(){return this[Ls].native?this[Ls].native.pointsArray:null}get score(){return this[Ls].native?this[Ls].native.score:null}get gesture(){return this[Ls].native?this[Ls].native.gesture:null}}function Hs(e=0,t){if(!t)return null;if(Os[e]||(Os[e]={}),void 0===t.id)return console.error("[getAnchor] Declare native.id can not be undefined"),null;var r=Os[e];if(r[t.id])return r[t.id];var n=null;return t.type===Zo?n=new Fs(e,t):t.type===Xo?n=new Us(e,t):t.type===es?n=new Ws(e,t):t.type===ts?n=new qs(e,t):t.type===rs?n=new zs(e,t):t.type===ns?n=new Vs(e,t):t.type===as?n=new Ks(e,t):t.type===is&&(n=new Gs(e,t)),r[t.id]=n,n}function Js(e=0,t){Ns[e]||(Ns[e]={});var r=++js;return Ns[e][r]=t,r}function Ys(e=0){Os[e]&&Object.keys(Os[e]).forEach((t=>{var r=Os[e][t];r&&r.destroy()}));Os[e]={},Ns[e]={}}var Qs=ls.VKCamera;class Zs{constructor(e){this[Qs]={native:e}}get _transform(){return this[Qs].native?this[Qs].native.transform:null}get viewMatrix(){return this[Qs].native?this[Qs].native.viewMatrix:null}get intrinsics(){return this[Qs].native?this[Qs].native.intrinsics:null}destroy(){this[Qs].native=null}getProjectionMatrix(e,t){return this[Qs].native?this[Qs].native.getProjectionMatrix(e,t):null}}var Xs=ls.VKLightEstimate;class eu{constructor(e){this[Xs]={native:e}}get ambientIndensity(){return this[Xs].native?this[Xs].native.ambient_indensity:null}destroy(){this[Xs].native=null}}var tu=p(4500),ru=ls.VKFrame,nu=ls.VKSession,au=!0,iu=!1;class ou{constructor(e=0,t,r){this[ru]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},N.cj&&!iu&&(iu=!0,D.default.onReady((()=>{(0,tu.b)({experimentId:"clicfg_wa_ar_iosurface_switch",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(au=!1)}})})))}get timestamp(){return this[ru].native?this[ru].native.timestamp:null}get camera(){if(!this[ru].native)return null;if(!this[ru].camera){var e=this[ru].native.camera;this[ru].camera=new Zs(e)}return this[ru].camera}get lightEstimate(){if(!this[ru].native)return null;if(!this[ru].lightEstimate){var e=this[ru].native.lightEstimate;this[ru].lightEstimate=new eu(e)}return this[ru].lightEstimate}destroy(){this[ru].native=null,this[ru].camera&&(this[ru].camera.destroy(),this[ru].camera=null),this[ru].lightEstimate&&(this[ru].lightEstimate.destroy(),this[ru].lightEstimate=null),this[ru].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[ru].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[ru].native)return null;if(e%16==0){if(this[ru].session[nu].options.gl)return this[ru].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getDepthBuffer(){return this[ru].native&&this[ru].session?this[ru].native.getDepthBuffer():null}getDepthTexture(e){if(!this[ru].native||!this[ru].session)return null;var t=this[ru].session;if(!(e=e||t[nu].options.gl))return null;var r=t[nu].depthTexture;r||(r=e.createTexture());var n=this[ru].native.getDepthBuffer();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(n.DepthAddress)),t[nu].depthTexture=r,r._gl=e,e.bindTexture(e.TEXTURE_2D,null),r}getCameraTexture(e,t="yuv"){if(!this[ru].native||!this[ru].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[ru].session;if(!(e=e||r[nu].options.gl))return null;if("yuv"===t){var n=r[nu].yTexture;n||(n=e.createTexture());var a,i=r[nu].uvTexture;i||(i=e.createTexture());var o=!1;return N.cj&&au&&(o=this[ru].native.updateCameraYUVTextureIOS(n,i,e)),o||(a=this[ru].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,a.width,a.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(a.yAddress)),r[nu].yTexture=n,n._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,a.width/2,a.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(a.uvAddress)),r[nu].uvTexture=i,i._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:n,uvTexture:i}}return null}getDisplayTransform(){return this[ru].native?this[ru].native.getDisplayTransform():null}getAllAnchors(){}}var su={},uu=[],cu=null;function lu(e=0){return su[e]}function du(e=0){if(cu){var t=lu(cu);t&&t.stop()}cu=e}function pu(e=0){cu===e&&(cu=null),function(e=0){su[e]=null}(e)}function fu(){return cu}function hu(e=0){return-1!==uu.indexOf(e)}var gu=p(885);var vu={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},mu=0;void 0!==o?o.onLoad((()=>{vu.offset=Date.now(),mu=Date.now()})):(vu.offset=Date.now(),mu=Date.now());var yu={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,useGameJsonGap:!1},bu={getLocation:"jsapi_location",startLocationUpdate:"jsapi_location",onLocationChange:"jsapi_location",startLocationUpdateBackground:"jsapi_location_background",getGameClubData:"jsapi_gameclubdata",getChannelsLiveInfo:"group_jumpfinderlive",getFuzzyLocation:"jsapi_fuzzy_location",getUserProfile:"webapi_userinfo",getUserInfo:"webapi_userinfo",createUserInfoButton:"webapi_userinfo",getWeRunData:"webapi_werun",chooseLicensePlate:"jsapi_licenseplate",startRecord:"jsapi_record",getRecorderManager:"jsapi_record",joinVoIPChat:"jsapi_record",join1v1Chat:"jsapi_record",createVKSession:"jsapi_camera",createCameraContext:"jsapi_camera",openBluetoothAdapter:"webapi_bluetooth",createBLEPeripheralServer:"webapi_bluetooth",saveImageToPhotosAlbum:"jsapi_photos_album",saveVideoToPhotosAlbum:"jsapi_photos_album",addPhoneContact:"jsapi_phonecontact",addPhoneRepeatCalendar:"jsapi_photocalendar",addPhoneCalendar:"jsapi_photocalendar",chooseLocation:"jsapi_choose_location",choosePoi:"jsapi_choose_location",chooseAddress:"jsapi_address",chooseInvoiceTitle:"jsapi_invoice",chooseInvoice:"jsapi_invoice",chooseVideo:"jsapi_media",chooseImage:"jsapi_media",chooseMedia:"jsapi_media",chooseMessageFile:"jsapi_messagefile",startAccelerometer:"jsapi_accelerometer",stopAccelerometer:"jsapi_accelerometer",onAccelerometerChange:"jsapi_accelerometer",offAccelerometerChange:"jsapi_accelerometer",getFriendCloudStorage:"jsapi_wxfriend_interaction",getGroupCloudStorage:"jsapi_wxfriend_interaction",getGroupInfo:"jsapi_wxfriend_interaction",getPotentialFriendList:"jsapi_wxfriend_interaction",getUserCloudStorageKeys:"jsapi_wxfriend_interaction",getFriendsStateData:"jsapi_wxfriend_interaction",getUserInteractiveStorage:"jsapi_wxfriend_interaction",startCompass:"jsapi_compass",stopCompass:"jsapi_compass",onCompassChange:"jsapi_compass",offCompassChange:"jsapi_compass",startDeviceMotionListening:"jsapi_devicemotion",stopDeviceMotionListening:"jsapi_devicemotion",onDeviceMotionChange:"jsapi_devicemotion",offDeviceMotionChange:"jsapi_devicemotion",startGyroscope:"jsapi_gyroscope",stopGyroscope:"jsapi_gyroscope",onGyroscopeChange:"jsapi_gyroscope",offGyroscopeChange:"jsapi_gyroscope",setClipboardData:"jsapi_clipboard",getClipboardData:"jsapi_clipboard"};function _u({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:n="",Time:a,ExternInfo:i,AppType:o}){var s={key:"PrivacyPopup",value:[(0,Qe._getCurrentNetworkType)(),D.default.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",n,"","",0,"",a,0,"",0,1,0,i?encodeURIComponent(JSON.stringify(i)):"",o,101].join(",")};_.reportKeyValue(s)}var wu,Iu,Su=!1,ku=e=>(Su||(Su=!0,wu=(0,U.Qh)({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:e}).then((e=>{var t,r,n,a,i,o,s;yu.isCache=!0,yu.protoRes=e;var u=yu.protoRes.data,c=u.unauth_scope_list||[],l=u.need_popup_scope_list||[],d=u.min_popup_interval;!1===yu.useGameJsonGap&&(yu.officialPrivacyAuthorizationShowingGap=d);var p=u.wording,f=yu.regExp,h=null==p?void 0:p.privacy_protocol_desc,g=null===(t=h)||void 0===t?void 0:t.match(f);yu.customUrl=null===(r=g)||void 0===r?void 0:r[2],yu.urlTitle=null===(n=g)||void 0===n?void 0:n[3],yu.standardInfo.title=p.title_wording,g=null===(a=h=null==p?void 0:p.desc)||void 0===a?void 0:a.match(f),yu.standardInfo.desc1=null===(i=g)||void 0===i?void 0:i[1],yu.standardInfo.urlTitle=null===(o=g)||void 0===o?void 0:o[3],yu.standardInfo.desc2=null===(s=g)||void 0===s?void 0:s[4],yu.standardInfo.allow=p.allow_wording,yu.standardInfo.cancel=p.cancel_wording;var v=u.action_code;yu.actionCache=v,yu.banReasonCache=u.ban_reason,c.forEach((e=>{yu.unauthScopeCache[e]=!1})),yu.unauthScopeCache,yu.hasAgree||(yu.needScopeCache=l),yu.needScopeCache}))),wu),Cu=function(){var e=X()((function*(e){var t,r,n,{event:a,env_check:i}=e;switch(a){case"exposureAuthorization":break;case"agree":if(yu.needScopeCache=[],yu.hasAgree=!0,_u({UIArea:yu.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1004,Time:Date.now()-yu.popUpTime,ExternInfo:yu.externInfo}),!1===yu.isCache)try{yield ku({popup_type:yu.useCustomPrivacyAuthorization?1:0})}catch(e){return}if(0!==(null===(t=yu.protoRes)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.need_popup_scope_list)||void 0===n?void 0:n.length)){var o={opt:1,auth_scope_list:yu.protoRes.data.need_popup_scope_list,env_check:i};(0,U.Qh)({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:o}).then((e=>{})).catch((e=>{}))}break;case"disagree":_u({UIArea:yu.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1004,Time:Date.now()-yu.popUpTime,ExternInfo:yu.externInfo})}}));return function(t){return e.apply(this,arguments)}}(),Tu=(new Set,()=>(yu.popUpTime=Date.now(),_u({UIArea:10110003,PositionID:0,ActionID:1,AppType:1004,Time:0,ExternInfo:yu.externInfo}),new Promise((e=>{Iu(e)})))),Au=function(){var e=X()((function*(e={}){Pu(e)}));return function(){return e.apply(this,arguments)}}(),Pu=function(){var e=X()((function*(e={}){if(!1===yu.isCache)try{yield ku({popup_type:yu.useCustomPrivacyAuthorization?1:0})}catch(e){}_u({UIArea:yu.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1004,Time:Date.now()-yu.popUpTime,ExternInfo:yu.externInfo}),null!==yu.customUrl?(0,U.IN)("private_openUrl",{url:yu.customUrl,isNativeStyle:!0,success:e.success,fail:e.fail,complete:e.complete,beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):(0,U.YG)("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}(),Eu=null,xu=(0,Oe.Fr)((({title:e,desc1:t,urlTitle:r,desc2:n,allow:a,cancel:i,success:o})=>{yu.popUpTime=Date.now(),_u({UIArea:10110002,PositionID:0,ActionID:1,AppType:1004,Time:0,ExternInfo:yu.externInfo});__sclEngine__.initScl((s=>{(Eu=s.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:n,confirmText:a,cancelText:i})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&Pu({success:()=>{},fail:e=>{}})})),Eu.addListener("destroy",(({detail:e})=>{if("cancel"===e.reason){Cu({event:"disagree"}),o({success:!1,errMsg:"privacy permission is not authorized",errno:zo.Y6L});try{s.mainRoot.remove(Eu)}catch(e){h.error("remove error:",e)}Eu=null}else{Cu({event:"agree"}),o({success:!0});try{s.mainRoot.remove(Eu)}catch(e){}Eu=null}}))}))})),Mu=0;try{D.default.onReady((()=>{D.default.officialPrivacyAuthorizationShowingGap>0&&(yu.useGameJsonGap=!0,yu.officialPrivacyAuthorizationShowingGap=D.default.officialPrivacyAuthorizationShowingGap),(0,Ae.getSystemInfoAsync)({success(e){var t=e;yu.externInfo.deviceOrientation="portrait"===t.deviceOrientation?1:2,yu.externInfo.screenWidth=t.screenWidth,yu.externInfo.screenHeight=t.screenHeight}})}))}catch(e){}var Du,Ru=function(){var e=X()((function*(){if(!yu.isCache)try{var e={popup_type:yu.useCustomPrivacyAuthorization?1:0};yield ku(e)}catch(e){}var t=1===yu.actionCache;return t&&yu.needScopeCache.length>0?yu.useCustomPrivacyAuthorization?Tu():Ou({title:yu.standardInfo.title,desc1:yu.standardInfo.desc1,urlTitle:yu.standardInfo.urlTitle,desc2:yu.standardInfo.desc2,allow:yu.standardInfo.allow,cancel:yu.standardInfo.cancel}):(yu.needScopeCache.length,Promise.resolve({success:!0}))}));return function(){return e.apply(this,arguments)}}(),Lu=e=>{Ru().then((({success:t,errMsg:r,errno:n})=>{!0===t?(0,U.FE)({name:"requirePrivacyAuthorize",args:e,success:!0,errno:n,errMsg:r}):(0,U.FE)({name:"requirePrivacyAuthorize",args:e,success:!1,errno:n,errMsg:r})}))},Ou=e=>{var t=Date.now();return(t-Mu)/1e3>yu.officialPrivacyAuthorizationShowingGap?(Mu=t,xu(e)):{success:!1,errMsg:"privacy permission is not authorized in gap",errno:zo.Nac}},Nu=function(){var e=X()((function*(e){var t,r={popup_type:yu.useCustomPrivacyAuthorization?1:0,version:1,libVersion:D.default.SDKVersion},n=[];if(!yu.isCache)try{yield ku(r)}catch(e){}switch(n=yu.needScopeCache,yu.needScopeCache,yu.unauthScopeCache,yu.actionCache,yu.actionCache){case 0:return Promise.resolve({success:!0});case 1:var a=bu[e];return!1===yu.unauthScopeCache[a]?Promise.resolve({success:!1,errMsg:"api scope is not declared in the privacy agreement",errno:zo.KPX}):n.includes(a)?yu.useCustomPrivacyAuthorization?Tu():Ou({title:yu.standardInfo.title,desc1:yu.standardInfo.desc1,urlTitle:yu.standardInfo.urlTitle,desc2:yu.standardInfo.desc2,allow:yu.standardInfo.allow,cancel:yu.standardInfo.cancel}):Promise.resolve({success:!0});case 2:return t=zo.jv5,yu.banReasonCache&&null!==yu.banReasonCache?Promise.resolve({success:!1,errMsg:yu.banReasonCache,errno:t}):Promise.resolve({success:!1,errMsg:"privacy interface is banned",errno:t})}}));return function(t){return e.apply(this,arguments)}}(),ju=function(){var e=X()((function*(e={}){var t="getPrivacySetting";if(!1===yu.isCache)try{yield ku({popup_type:yu.useCustomPrivacyAuthorization?1:0})}catch(e){}var r=1===yu.actionCache;yu.actionCache,r&&yu.needScopeCache.length>0?(0,U.FE)({name:t,args:e,res:{needAuthorization:!0,privacyContractName:yu.urlTitle}}):(0,U.FE)({name:t,args:e,res:{needAuthorization:!1}})}));return function(){return e.apply(this,arguments)}}(),Bu=(Du=0,{get(){if(Du>0)return Du;if(0===mu)throw Error("initTime not ready");return Du=mu},since(){return Date.now()-this.get()},set(e){Du=e},reset(){Du=Date.now()}}),Fu=e=>setTimeout(e,0,1e3*Bu.since()),Uu=e=>clearTimeout(e),Wu=null;N.cj&&!(0,N.aI)()?(Wu||(Wu=p.g.WeixinCanvas),Fu=e=>Wu.requestAnimationFrame(e),Uu=e=>Wu.cancelAnimationFrame(e)):N.wZ||(0,N.aI)()?(Fu=e=>O.Z.requestAnimationFrame(e),Uu=e=>O.Z.cancelAnimationFrame(e)):N.gm&&(Fu=e=>window.requestAnimationFrame((()=>e(1e3*Bu.since()))),Uu=e=>window.cancelAnimationFrame(e));var Gu=ls.VKSession,Vu=function(){};class $u{constructor(e=0,t={},r=""){this[Gu]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||Ss,implType:ds,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[Gu].eventMap[e];r&&r.length&&r.forEach((r=>{b.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[Gu].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[Gu].native?this[Gu].native.state:Jo}get cameraSize(){return this[Gu].native?this[Gu].native.getCameraSize():null}get config(){return this[Gu].native?this[Gu].native.config:null}set config(e){this[Gu].native.config=e}get version(){return this[Gu].version}get requestAnimationFrame(){return this[Gu].native?Fu:Vu}get cancelAnimationFrame(){return this[Gu].native?Uu:Vu}static isSupport(e){if(N.gm)return!1;if(e===ks){var t;if(N.cj){t=1===Number(D.default.expt&&D.default.expt.clicfg_appbrand_ios_arkit2wevision_usewevision)?hs:ps}else t=hs;return O.Z.ARSession.isSupportARImplType(t)}return e===Ss||void 0}setDepthOccRange(e=.01,t=10){if(!this[Gu].native)return console.error("native is null"),null;this[Gu].native.setDepthOccRange(e,t)}start(e){var t=this;return X()((function*(){if("function"!=typeof e&&(e=Vu),t.state===Yo)return e(null);var r=yield Nu("createVKSession").catch((e=>({success:!0})));if(r.success){var n=t[Gu].version;if(!$u.isSupport(n))return console.error(`VKSession.start:fail The current device does not support version "${n}"`),void e(Ko.DEVICE_NOT_SUPPORTED);if(t[Gu].native){du(t[Gu].webviewId);var a=t[Gu].native.start();e(a===Ko.SUCCESS?null:Ho[a])}else{var i=t[Gu].options,o=i.track||{};if(o.plane?o.plane&&"number"==typeof o.plane.mode&&(o.plane.mode=o.plane.mode<<1):o.plane={mode:2},o.threeDof&&(i.arImplType=fs),i.track=o,o.OSD)i.arImplType=vs;else if(o.face&&o.face.mode>0){i.arImplType=ms;var s="object"==typeof o.face?o.face:{};i.forbidCamera=2===s.mode}else if(o.body&&o.body.mode>0){i.arImplType=ys;var u="object"==typeof o.body?o.body:{};i.forbidCamera=2===u.mode}else if(o.hand&&o.hand.mode>0){i.arImplType=_s;var c="object"==typeof o.hand?o.hand:{};i.forbidCamera=2===c.mode}else if(o.OCR){var l="object"==typeof o.OCR?o.OCR:{};i.arImplType=bs,i.forbidCamera=2===l.mode}else if(t[Gu].version===ks)if(N.cj){if(o.depth){var d="object"==typeof o.depth?o.depth:{};i.arImplType=Is,i.forbidCamera=2===d.mode}else 1===Number(D.default.expt&&D.default.expt.clicfg_appbrand_ios_arkit2wevision_usewevision)&&2===o.plane.mode?i.arImplType=hs:i.arImplType=ps}else if(o.depth){var p="object"==typeof o.depth?o.depth:{};i.arImplType=Is,i.forbidCamera=2===p.mode}else i.arImplType=hs;else if(o.marker)i.arImplType=gs;else if(o.depth){var f="object"==typeof o.depth?o.depth:{};i.arImplType=ws,i.forbidCamera=2===f.mode}t[Gu].implType=i.arImplType;var h=e=>e.map((e=>Hs(t[Gu].webviewId,e))).filter((e=>!!e)),g=()=>{if(!O.Z.ARSession)return e(Ko.DEVICE_NOT_SUPPORTED);O.Z.ARSession.create(i,(r=>{if("number"==typeof r){var n=Ho[r]||Ko.SYSTEM_ERROR;return N.wZ&&n===Ko.NO_SYSTEM_CAMERA_ACCESS?void(0,Me._showModal)({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&(0,gu.n)(),e(n)}}):e(n)}r.onEvent(os,(e=>t[Gu].trigger("addAnchors",[h(e)]))),r.onEvent(ss,(e=>{t[Gu].trigger("updateAnchors",[h(e)])})),r.onEvent(us,(e=>t[Gu].trigger("removeAnchors",[h(e)]))),r.onEvent(cs,(()=>t[Gu].trigger("resize"))),t[Gu].native=r,du(t[Gu].webviewId);var a=r.start();return a===Ko.SUCCESS?(e(null),setTimeout((()=>(0,ta._m)(t[Gu].pluginId,"VKSession.start")))):e(Ho[a]),null}),(e=>{"string"==typeof e&&(e=JSON.parse(e));var r=e.event,n=e.params;switch(r){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddHandAnchor":case"onAddDepthAnchor":var a=n.anchors;t[Gu].trigger("addAnchors",[h(a)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateHandAnchor":case"onUpdateDepthAnchor":var i=n.anchors;t[Gu].trigger("updateAnchors",[h(i)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":case"onRemoveDepthAnchor":var o=n.anchors;t[Gu].trigger("removeAnchors",[h(o)])}}))};if(i.forbidCamera)g();else Yn(t[Gu].pluginId)({scope:"scope.camera",success:g,fail:()=>{e(Ko.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}e(r.errno)}))()}stop(){this[Gu].native&&this.state!==Qo&&(this[Gu].native.stop(),function(e=0){cu===e&&(cu=null)}(this[Gu].webviewId))}destroy(){this[Gu].native&&(this[Gu].native.destroy(),Ys(this[Gu].webviewId),Ms(this[Gu].webviewId),pu(this[Gu].webviewId),this[Gu].native=null,this[Gu].lastFrame&&(this[Gu].lastFrame.destroy(),this[Gu].lastFrame=null),this[Gu].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[Gu][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[Gu][e]=null})))}getVKFrame(e,t){if(!this[Gu].native)return null;Ys(this[Gu].webviewId);var r=this[Gu].native.getARFrame(e,t);if(r){var n=new ou(this[Gu].webviewId,r,this);return this[Gu].lastFrame&&(this[Gu].lastFrame.destroy(),this[Gu].lastFrame=null),this[Gu].lastFrame=n,n}return null}removeAnchor(e){if(this[Gu].native){var t=function(e){return e[Ls].native}(e);this[Gu].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[Gu].native)return null;var n=this[Gu].native.hitTest(e,t,r);return n?n.map((e=>({anchor:Hs(this[Gu].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[Gu].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[Gu].native||this[Gu].implType!==gs&&this[Gu].implType!==hs)return console.error("native is null, implType is not wevision marker or wevision vio"),null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var n=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=(0,be.sd)(ye.Z.lastRoute,e,!1));var a=Js(this[Gu].webviewId,n);return this[Gu].native.addARMarker(a,e),a}removeMarker(e){if(!this[Gu].native||this[Gu].implType!==gs&&this[Gu].implType!==hs)return null;this[Gu].native.removeARMarker(e)}getAllMarker(){if(!this[Gu].native||this[Gu].implType!==gs&&this[Gu].implType!==hs)return null;var e=this[Gu].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[Gu].native||this[Gu].implType!==vs)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=(0,be.sd)(ye.Z.lastRoute,e,!1));var r=Js(this[Gu].webviewId,t);return this[Gu].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[Gu].native||this[Gu].implType!==vs)return null;this[Gu].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[Gu].native||this[Gu].implType!==vs)return null;var e=this[Gu].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}update3DMode({open3d:e=!1}={}){if(!this[Gu].native||this[Gu].implType!==ms&&this[Gu].implType!==ys&&this[Gu].implType!==_s)return null;this[Gu].native.update3DMode(e)}updateOSDThreshold(e){if(!this[Gu].native||this[Gu].implType!==vs)return null;this[Gu].native.updateOSDThreshold(e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:a,modelMode:i=1,open3d:o=!1}={}){if(!this[Gu].native||this[Gu].implType!==ms)return null;this[Gu].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:a,modelMode:i,open3d:o}},e)}detectDepth({frameBuffer:e,width:t,height:r}={}){if(!this[Gu].native||this[Gu].implType!==ws)return null;this[Gu].commonCmd({action:"runDepth",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:a,open3d:i=!1}={}){if(!this[Gu].native||this[Gu].implType!==ys)return null;this[Gu].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:a,open3d:i}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[Gu].native||this[Gu].implType!==bs)return null;this[Gu].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:n,algoMode:a,open3d:i=!1}={}){if(!this[Gu].native||this[Gu].implType!==_s)return null;this[Gu].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,algoMode:a,open3d:i}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Gu].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Gu].eventMap;if(r){var n=r[e]=r[e]||[],a=n.indexOf(t);a>=0&&n.splice(a,1)}}}}function qu(e){var t=fu();t!==e&&function(e=0){var t=lu(e);t&&(t.stop(),hu(e)||uu.push(e))}(t)}function zu(e){hu(e)&&function(e=0){var t=lu(e);if(t&&(t.start(),hu(e))){var r=uu.indexOf(e);uu.splice(r,1)}}(e)}function Ku(e={}){var t=(0,ke.hI)(this),r=ye.Z.currentWebviewId,n=lu(r),a=e.version||Ss;return $u.isSupport(a)||console.error(`createVKSession:fail The current device does not support version "${a}"`),n||function(e=0,t){su[e]=t}(r,n=new $u(r,e,t)),n}function Hu(e={}){var t=ye.Z.currentWebviewId,{type:r,config:n={}}=e,a=null;return"image"===r?a=new O.Z.ARImageReference(n):"object"===r&&(a=new O.Z.ARObjectReference(n)),xs(t,a)}function Ju(e){return $u.isSupport(e)}(0,$o.Ke)((()=>{zu(ye.Z.currentWebviewId)})),(0,_r.Jv)((()=>qu())),(0,Vo.HM)((e=>{var t=e.webviewId;qu(t),zu(t),(0,qo.dq)(t,(()=>{var e=lu(t);e&&e.destroy(),Ys(t),Ms(t)}),"AR")}));var Yu=p(2219),Qu=p(6589),Zu=p(1441),Xu=void 0,ec=!1;function tc(){return new Xu}o.onLoad((()=>{Xu=O.Z&&O.Z.WXAUDIO?O.Z.WXAUDIO:O.Z&&O.Z.AudioContext?O.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,ec=!0}));var rc=p(4317),nc=p(8602),ac=p(8007),ic=!1,oc=()=>{ic=!0},sc={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}},uc={},cc=(e,t)=>t+"-"+e,lc=(e,t,r)=>{if(t){sc[e].playCount++;var n=cc(t,r);uc[n]?(uc[n].playCount++,uc[n].playBeginTime=Date.now()):uc[n]={playCount:1,playBeginTime:Date.now()}}},dc=(e,t,r,n,a,i)=>{sc[e].realPlayCount++;var o=cc(t,r);if(t&&uc[o]){var s=n-uc[o].playBeginTime,u=1===uc[o].playCount?"firstPlay":"notFirstPlay";if(sc[e].duringPlayToRealPlay[u].push(s),a){var c={key:"MediaApi",value:[(0,Qe._getCurrentNetworkType)(),(0,ut.k)()+" "+(0,ut.n)(),"createInnerAudioContext",e,r,`playSuccess(${u})`,s,s,encodeURIComponent(JSON.stringify({size:i,src:t}))].join(",")};Math.random()<.1&&_.reportKeyValue(c)}}},pc=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:a,costTime:i,src:o,errmsg:s})=>{sc[t].playErrorCount++,sc[t].playErrorCount>1||_.reportKeyValue({key:"MediaApi",value:[(0,Qe._getCurrentNetworkType)(),(0,ut.k)()+" "+(0,ut.n)(),e,t,r,n,a,i,(0,ac.c)(`"${o}" fail: ${s}`)].join(",")})};(0,_r.vv)((()=>{(0,N.aI)()&&Math.random()<.1&&!ic&&Object.keys(sc).forEach((e=>{var t=sc[e],r=t.playCount,n=t.realPlayCount;if(r>0){var a=t.playErrorCount,i={key:"MediaApi",value:[(0,Qe._getCurrentNetworkType)(),(0,ut.k)()+" "+(0,ut.n)(),"createInnerAudioContext",e,"","successRate",n/r,n/r,(0,ac.c)(JSON.stringify({playCount:r,realPlayCount:n,playErrorCount:a}))].join(",")};_.reportKeyValue(i)}})),sc={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}}));var fc=()=>{},hc=()=>{},gc=()=>{},vc="useWebAudioImplement-1.0";fc=(e,t)=>{lc(vc,e,t)},hc=(e,t)=>{pc({mediaType:"createInnerAudioContext",implementType:vc,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},gc=(e,t,r)=>{dc(vc,e,t,r)};var mc,yc=0,bc=0,_c=0,wc=new WeakMap,Ic=new WeakMap,Sc=new WeakMap,kc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Ac=new WeakMap,Pc=new WeakMap,Ec=new WeakMap,xc=new WeakMap,Mc=new WeakMap,Dc=new Map,Rc={},Lc=52428800,Oc=0,Nc=0,jc=()=>{var e=Object.keys(Rc).sort(((e,t)=>Rc[e].index-Rc[t].index));e.some((e=>{var t=Rc[e];if(t.audioBuffer){var r=t.audioBufferSize;if(delete t.audioBuffer,delete t.audioBufferSize,delete Rc[e],(Oc-=r)<=Lc)return!0}return!1}))},Bc=e=>{e.index=++Nc},Fc=(e,t,r)=>{var n=Rc[e];if(n&&n.audioBuffer)Bc(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)Bc(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{Rc[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?Wc(e):/^(cloud):\/\//.test(e)?Gc(e):/^(wxblob:\/\/)/.test(e)?Vc(e):Uc(e)).then((t=>{mc.decodeAudioData(t,(t=>{var r,n=Rc[e];Bc(n),r=n.audioBuffer?n.audioBuffer:((e,t)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(Oc+=e.audioBufferSize)>Lc&&jc(),e.audioBuffer))(n,t);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),h.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),(t=>{try{var r=Rc[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),h.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))})).catch((t=>{try{var r=Rc[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),h.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},Uc=e=>{return(t={filePath:e},new rc.Q(((e,r)=>{(0,Wr.p)({...t,success:e,fail:r})}))).then((e=>e.data));var t},Wc=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new rc.Q(((e,r)=>{(0,Ur.UF)({...t,success:e,fail:r})}))).then((e=>e.data));var t},Gc=e=>new rc.Q(((t,r)=>{(0,br.V)([e],"audio",(e=>{Wc(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),Vc=e=>new rc.Q((t=>{t(nc.Z.get(e))})),$c=function(e){wc.set(this,Object.assign(wc.get(this),e))},qc=function(e){return wc.get(this)[e]},zc=function(){return wc.get(this)},Kc=function(){this.stop(!0),$c.call(this,{_source:null});var e=Sc.get(this);e&&e()},Hc=function(e){var t=++_c,r=mc.createBufferSource(t),{currentPlayBackTime:n,state:a}=Jc.call(this,e),{loop:i,playbackRate:o,_buffer:s,_gainNode:u,_instanceId:c,src:l,withReport:d}=a,p=Kc.bind(this);r.onended=p,r.buffer=s,r.loop=i,r.playbackRate.value=o,u&&r.connect(u),r.start(0,n),mc.resume(),$c.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:mc.currentTime,_endedHandler:p,_bufferSourceId:t}),(N.cj||N.wZ)&&d&&Dc.set(t,{_instanceId:c,src:l})},Jc=function(e){e=e||zc.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:a,playbackRate:i,_lastCurrentTime:o,duration:s}=e;return(t=a?o+(mc.currentTime-r)*i:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Yc=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=zc.call(this);e&&e.disconnect(),$c.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Ic.delete(this),Sc.delete(this),kc.delete(this),Cc.delete(this),Ac.delete(this),Tc.delete(this),Pc.delete(this),Ec.delete(this),Mc.delete(this),clearInterval(xc.get(this)),xc.delete(this)},Qc=function(){this.stop(!0),$c.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},Zc=function(e){var t,r;Qc.call(this);var n=new rc.Q(((e,n)=>{t=e,r=n}));$c.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Xc={},el=(e,t)=>e+"-"+t,tl=function(e,t){var r=el(t,e);Xc[r]?Xc[r]++:Xc[r]=1};class rl{constructor({withReport:e}={}){mc||("function"==typeof(mc=tc()).create&&mc.create(-1,!0),(N.cj||N.wZ)&&(mc.onmessage=e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=Dc.get(r);if(Dc.delete(r),n){var{_instanceId:a,src:i}=n,o=el(a,i);Xc[o]&&(Xc[o]--,this.ignoreReport||gc(i,a,Date.now()))}}}));var t=mc.createGain();t.connect(mc.destination);var r={withReport:e},n=new rc.Q(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));wc.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++bc}))}get src(){return qc.call(this,"src")}set src(e){var{src:t,_gainNode:r}=zc.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&Zc.call(this,e),$c.call(this,{src:e}),Fc(e,((t,{sync:r})=>{var{src:n,_gainNode:a,_isPlaying:i,autoplay:o,_audioLoadPromiseResolve:s}=zc.call(this);if(a){if(n===e){if($c.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=Ic.get(this);e&&e()}),0);else{var u=Ic.get(this);u&&u()}return!o||i||Pl()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),h.error("loadAudioFail ",t);var n=zc.call(this),{_audioLoadPromiseReject:a}=n,i=kc.get(this);i&&i({type:"error",errMsg:r,errno:t.errno}),a(t)})))}get startTime(){return qc.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=zc.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&($c.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return qc.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=zc.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,oc()),$c.call(this,{autoplay:!!e}))}get loop(){return qc.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=zc.call(this);r&&($c.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,oc()),t&&(t.loop=e))}get volume(){return qc.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=zc.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&($c.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return qc.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=zc.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&($c.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:mc.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return qc.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Jc.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=zc.call(this);if(!r)return;var n=Pc.get(this),a=Ec.get(this),i=Ic.get(this);a&&a(),this.ignoreReport=!0,oc(),t?(this.stop(!0),$c.call(this,{_playbackTime:e}),this.play(!0)):$c.call(this,{_playbackTime:e}),n&&n(),i&&i()}}get paused(){return qc.call(this,"paused")}get buffered(){var{duration:e}=zc.call(this);return e>0?e:0}play(e=!1){var t=zc.call(this),{_isPlaying:r,_ready:n,_loadPromise:a,_gainNode:i,_playPendingIdMap:o,withReport:s,src:u,_instanceId:c}=t;if(i){var l=this.lastPlayTime,d=Date.now();if(this.lastPlayTime=d,l&&d-l<1e3&&(this.ignoreReport=!0,oc()),r&&!e&&s&&!this.ignoreReport)return fc(u,c),void gc(u,c,Date.now());e||!s||this.ignoreReport||fc(u,c);var p=()=>{if(!e){var t=Cc.get(this);t&&t()}};if(n){var f;try{Hc.call(this,t)}catch(t){f=t;var h=kc.get(this);h&&h({type:"error",errMsg:t.message}),!e&&s&&hc(u,t.message),console.error(t)}f||(!e&&s&&tl(u,c),p())}else{var g=++yc;o[g]=!0,a.then((l=>{var d=!1===o[g];if(delete o[g],l)return r=null,n=null,a=null,i=null,t=null,void(p=null);if(!d){var f,h=zc.call(this),{_isPlaying:v}=h;if(!v){try{Hc.call(this,h)}catch(t){f=t;var m=kc.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&hc(u,t.message),console.error(t)}return f||(!e&&s&&tl(u,c),p()),null}}})).catch((e=>{s&&hc(u,e.errMsg||e.message)}))}}}pause(){var e=zc.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:a}=e;if(n)if(r&&t){var i=Tc.get(this);r.stop(0),r.disconnect(),r.onended=null,$c.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),i&&i()}else Object.keys(a).forEach((e=>{a[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:a}=zc.call(this);if(r){if(t)try{var i=Ac.get(this);t.stop(0),t.disconnect(),t.onended=null,$c.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&i&&i()}catch(e){}n||Object.keys(a).forEach((e=>{a[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=zc.call(this);if(!r)return;var n=Pc.get(this),a=Ec.get(this),i=Ic.get(this);a&&a(),this.ignoreReport=!0,oc(),t?(this.stop(!0),$c.call(this,{_playbackTime:e}),this.play(!0)):$c.call(this,{_playbackTime:e}),n&&n(),i&&i()}}destroy(){var{_gainNode:e}=zc.call(this);e&&Yc.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Ic.set(this,e)}else Ic.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Sc.set(this,e)}else Sc.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;kc.set(this,e)}else kc.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Cc.set(this,e)}else Cc.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Tc.set(this,e)}else Tc.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Ac.set(this,e)}else Ac.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Pc.set(this,e)}else Pc.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Ec.set(this,e)}else Ec.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;var r=xc.get(this);clearInterval(r);var n=setInterval((()=>{var{_isPlaying:t}=zc.call(this);t&&e()}),350);xc.set(this,n)}else xc.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=zc.call(this);if(!t)return;Mc.set(this,e)}else Mc.delete(this)}}var nl=()=>function(){if(!ec)throw new Error("detect WebAudioContext too early");return!!Xu}()&&!0,al=p(7849),il=new Set([1177,1184,1200,1228]),ol=new Set([0,1,2,7]),sl=()=>{var{scene:e}=(0,al._)();return il.has(e)&&ol.has(D.default.appType)},ul=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],cl=["startTime","duration","currentTime"],ll=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],dl=new Set,pl=new WeakMap,fl=new WeakMap,hl=new WeakMap,gl=new WeakMap;class vl{constructor(e,t=1e3,r){var n=new jn.Z;pl.set(this,e),dl.add(this),gl.set(this,{conversion:t,type:r}),ul.forEach((r=>Object.defineProperty(this,r,{get:()=>cl.includes(r)?e[r]/t:e[r],set(n){sl()||(cl.includes(r)?e[r]=t*n:e[r]=n)}}))),ll.forEach((t=>{this["on"+t]=e=>{var r=b.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);fl.set(e,r),hl.set(r,e),n.on(t,r)},this["off"+t]=e=>{if((0,Q.mf)(e)){var r=fl.get(e);(0,Q.mf)(r)&&(n.off(t,r),fl.delete(e),hl.delete(r))}else n.listeners(t).forEach((e=>{var t=hl.get(e);fl.delete(t),hl.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?(0,Q.Kn)(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t)}}))}play(){var e;sl()||Pl()&&"inner"!==gl.get(this).type||null===(e=pl.get(this))||void 0===e||e.play()}stop(){var e;null===(e=pl.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=pl.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!sl()){var{conversion:n}=null!==(t=gl.get(this))&&void 0!==t?t:{};null===(r=pl.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=pl.get(this);e.destroy&&e.destroy(),ll.forEach((e=>{this["off"+e]()})),dl.delete(this),pl.delete(this)}static pauseAllAudio(){dl.forEach((e=>{if("inner"!==gl.get(e).type){var t=pl.get(e);t&&t.pause()}}))}}class ml extends vl{constructor({type:e}){super(new O.Z.Audio,1e3,e)}}class yl extends vl{constructor({withReport:e,type:t}={}){super(new rl({withReport:e}),1,t)}}var bl=p(6551),_l=new Set,wl=()=>{var{system:e}=(0,Ae.getStableSystemInfo)();N.wZ&&-1===(0,bl.cv)(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=tc();O.Z&&O.Z.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),_l.add(t);var r=[];return["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&_l.delete(t),new Promise((e=>{r.push(e);var a=t.onstatechange;t.onstatechange=()=>{"function"==typeof a&&a();var e=r.pop();e&&e(),t.onstatechange=a},n.call(t)}))}.bind(t)})})),t};class Il{static pauseAllAudio(){_l.forEach((e=>{e.suspend()}))}}var Sl=()=>{nd.pauseAllAudio(),ml.pauseAllAudio(),yl.pauseAllAudio(),Il.pauseAllAudio()},kl=!1,Cl=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,U.jQ)("onAudioInterruptionBegin",(e=>{kl=!0,!1===Cl&&Qu.u.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,U.jQ)("onAudioInterruptionEnd",(e=>{kl=!1,!1===Cl&&Zu.FY.emit(e)}));var Tl=()=>{!1===kl&&!1===Cl&&(Sl(),Cl=!0,Qu.u.emit({}))},Al=()=>{!1===kl&&!0===Cl&&(Cl=!1,Zu.FY.emit({}))},Pl=()=>Cl,El=()=>{},xl=()=>{},Ml=()=>{};El=(e,t,r)=>{lc(r,e,t)},xl=(e,t,r)=>{pc({mediaType:"createInnerAudioContext",implementType:r,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},Ml=(e,t,r,n,a)=>{dc(n,e,t,r,!0,a)};var Dl=new WeakMap,Rl=new WeakMap,Ll=new WeakMap,Ol=new WeakMap,Nl=new WeakMap,jl=new WeakMap,Bl=new WeakMap,Fl=new WeakMap,Ul=new Map,Wl=new Map,Gl=new Map,Vl=h.createLogger("InnerAudio"),$l=function(e,t){Rl.set(this,Object.assign(Rl.get(this),{[e]:t})),"src"===e&&Rl.set(this,Object.assign(Rl.get(this),{paused:!0})),Ol.get(this)&&(setTimeout((()=>{var r=Object.assign({},Rl.get(this),Nl.get(this),{timestamp:Date.now(),audioId:Dl.get(this),success:()=>{Rl.set(this,Object.assign(Rl.get(this),{[e]:t}))},fail:()=>{zl.call(this)}});Pl()&&(r.autoplay=!1),(0,U.IN)("setAudioState",r),Ol.set(this,!0)}),0),Ol.set(this,!1)),Nl.set(this,Object.assign(Nl.get(this),{[e]:t}))},ql=function(e,t){Bl.get(this).then((()=>{$l.call(this,e,t)}))},zl=function(e,t){var r=Rl.get(this)[e];return(0,U.IN)("getAudioState",{audioId:Dl.get(this),success:n=>{delete n.errMsg,Rl.set(this,Object.assign(Rl.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},Kl=function(e){var t=Dl.get(this);(0,U.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{Vl.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),ed.call(this,"error",{errMsg:r,errCode:-1});var n=Rl.get(this);null!=n&&n.withReport&&xl("",r,null==n?void 0:n.implementType)}},e))},Hl=function(e){return Bl.get(this).then((()=>{if("play"===e.operationType){var t=Rl.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){var r=Dl.get(this);El(null==t?void 0:t.src,r,null==t?void 0:t.implementType)}}setTimeout((()=>{Kl.call(this,e)}),0)}))},Jl=new jn.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,U.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=Ul.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&Ml(null==t?void 0:t.src,e.audioId,Date.now(),null==t?void 0:t.implementType,null==t?void 0:t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:a}=e;delete e.audioId,delete e.state;var i="play"!==r,o=Ul.get(n);o&&(o.paused=i),"error"===r&&null!=o&&o.withReport&&xl(null==o?void 0:o.src,a,null==o?void 0:o.implementType);var s=Gl.get(n);if(!s||!(r in s))return;Jl.emit(`${n}_onAudioStateChange_${r}`,e)}}));var Yl=function(e,t){var r=`${Dl.get(this)}_onAudioStateChange_${e}`,n=r=>{b.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};jl.set(t,n),Jl.on(r,n)},Ql=function(e,t){Bl.get(this).then((()=>{Yl.call(this,e,t)}))},Zl=function(e,t){var r=`${Dl.get(this)}_onAudioStateChange_${e}`;if((0,Q.mf)(t)){var n=jl.get(t);(0,Q.mf)(n)&&Jl.off(r,n)}else Jl.removeAllListeners(r)},Xl=function(e,t){Bl.get(this).then((()=>{Zl.call(this,e,t)}))},ed=function(e,t){Jl.emit(`${Dl.get(this)}_onAudioStateChange_${e}`,t)},td=0,rd=!1;const nd=class{constructor({pluginId:e,withReport:t,type:r,size:n}={}){var a,i;Rl.set(this,{}),Nl.set(this,{}),Ll.set(this,void 0),Ol.set(this,!0),"string"==typeof e&&Fl.set(this,e.split("/",1)[0]),Bl.set(this,new rc.Q(((e,t)=>{a=e,i=t})));var o={},s=0===n?"jsapiRemote-1.0":"jsapiLocal-1.0";(0,U.IN)(N.wZ||N.jP||N.Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var i={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:n,implementType:s};if(Gl.set(e.audioId,o),Ul.set(e.audioId,i),Dl.set(this,e.audioId),Rl.set(this,i),O.Z.BindingObject){var u=new O.Z.BindingObject;this.__bindingObject=u,Wl[u.__id]=e.audioId}(td+=1)>=1024&&!rd&&N.cj&&(rd=!0,_.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),td>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(a,0)},fail:e=>{t&&xl("",e.errMsg,s),i(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();o[r]=1,Ql.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete o[r],Xl.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:zl.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=Fl.get(this);"string"==typeof t&&null===(0,be.pD)(e)&&(e=(0,be.RP)(t,e)),(0,br.V)([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,ql.call(this,"src",e)}))}else ed.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return zl.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?ql.call(this,"startTime",1e3*e):ed("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!sl()){if(!0===e){var t=Dl.get(this),r=Ul.get(t);r&&(r.ignoreReport=!0,oc())}ql.call(this,"autoplay",e)}}get autoplay(){return zl.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=Dl.get(this),r=Ul.get(t);r&&(r.ignoreReport=!0,oc())}ql.call(this,"loop",e)}}get loop(){return zl.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&ql.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return zl.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||ql.call(this,"volume",e)}get volume(){return zl.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||ql.call(this,"playbackRate",e)}get playbackRate(){return zl.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&ql.call(this,"referrerPolicy",e)}get referrerPolicy(){return zl.call(this,"referrerPolicy")}get paused(){return zl.call(this,"paused")}get duration(){return zl.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)ed("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Dl.get(this),r=Ul.get(t);r&&(r.ignoreReport=!0,oc()),Hl.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return zl.call(this,"currentTime")/1e3}get buffered(){return zl.call(this,"buffered")/1e3}play(){if(!(sl()||Pl()&&"inner"!==Rl.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=Dl.get(this),n=Ul.get(r);n&&(n.ignoreReport=!0,oc())}Hl.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){Hl.call(this,{operationType:"pause"})}stop(){Hl.call(this,{operationType:"stop"})}seek(e){if(!sl())if("number"!=typeof e||e<0)ed("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Dl.get(this),r=Ul.get(t);r&&(r.ignoreReport=!0,oc()),Hl.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){Bl.get(this).then((()=>{var e=Dl.get(this);Ul.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Jl.removeAllListeners(r)})),Gl.delete(e),Ul.delete(e),td-=1,setTimeout((()=>{(0,U.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){Bl.get(this).then((()=>{var t=`${Dl.get(this)}_onAudioStateChange_timeupdate`;void 0===Ll.get(this)&&Ll.set(this,setInterval((()=>{if("active"===ye.Z.runningStatus&&!0!==Rl.get(this).paused&&1!==Rl.get(this).paused){var e=Rl.get(this).currentTime;zl.call(this,"currentTime",(r=>{r!==e&&Jl.emit(t)}))}}),250)),Jl.removeAllListeners(t);var r=t=>{b.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};jl.set(e,r),Jl.on(t,r)}))}offTimeUpdate(e){Bl.get(this).then((()=>{Xl.call(this,"timeupdate",e)}))}static pauseAllAudio(){Ul.forEach(((e,t)=>{"inner"!==e.type&&(0,U.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var ad,id,od=p(5340),sd=new WeakMap,ud=new WeakMap,cd=function(){return ud.get(this)},ld={},dd=(e,t)=>e+"-"+t,pd=()=>(ad||"function"==typeof(ad=tc()).create&&ad.create(),ad),fd=0,hd=new Map;class gd{constructor({size:e}){var t=0===e?"WebAudioHTMLAudioElementRemote-1.0":"WebAudioHTMLAudioElementLocal-1.0";this.reportBeginPlay=(e,r)=>{this.ignoreReport||lc(t,e,r)},this.reportFailPlay=(e,r)=>{pc({mediaType:"createInnerAudioContext",implementType:t,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:r})},this.reportSuccessPlay=(e,r,n,a)=>{this.ignoreReport||dc(t,e,r,n,!0,a)};var r=pd(),n=r.createHTMLAudioElement(),a=r.createMediaElementSource(n),i=r.createGain();a.connect(i),i.connect(r.destination),sd.set(this,n);var o=(0,J.M8)();ud.set(this,{startTime:0,source:a,gain:i,_instanceId:o,size:e}),n.addEventListener("error",(e=>{var t,r=(null===(t=sd.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)})),n.addEventListener("inner",(e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=hd.get(t);if(hd.delete(t),r){var{_instanceId:n,src:a,size:i}=r,o=dd(n,a);ld[o]&&(ld[o]--,this.reportSuccessPlay(a,n,Date.now(),i))}}}}))}get src(){var e;return this.cloudId?this.cloudId:null===(e=sd.get(this))||void 0===e?void 0:e.src}set src(e){sd.get(this)&&(0,br.V)([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,sd.get(this).src=e}))}get startTime(){var e;return null===(e=ud.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=cd.call(this);e!==r&&"number"==typeof e&&e>=0&&ud.get(this)&&(ud.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){sd.get(this)&&(e&&(this.ignoreReport=!0,oc()),sd.get(this).autoplay=e)}get loop(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.loop}set loop(e){sd.get(this)&&(e&&(this.ignoreReport=!0,oc()),sd.get(this).loop=e)}get volume(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.volume}set volume(e){sd.get(this)&&(sd.get(this).volume=e)}get playbackRate(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){sd.get(this)&&(sd.get(this).playbackRate=e)}get duration(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){sd.get(this)&&(this.ignoreReport=!0,oc(),sd.get(this).currentTime=e)}get paused(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=sd.get(this))||void 0===e?void 0:e.buffered}play(){var e,t,r,n,a=null===(e=sd.get(this))||void 0===e?void 0:e.src,i=null===(t=ud.get(this))||void 0===t?void 0:t._instanceId,o=null===(r=ud.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,u=Date.now();this.lastPlayTime=u,s&&u-s<1e3&&(this.ignoreReport=!0,oc()),i&&this.reportBeginPlay(a,i);var c=++fd;(N.cj||N.wZ)&&hd.set(c,{_instanceId:i,src:a,size:o}),function(e,t){var r=dd(t,e);ld[r]?ld[r]++:ld[r]=1}(a,i),null===(n=sd.get(this))||void 0===n||n.play(c)}pause(){var e;null===(e=sd.get(this))||void 0===e||e.pause()}stop(){var e=sd.get(this);e&&(e.pause(),e.currentTime=0)}seek(e){sd.get(this)&&(this.ignoreReport=!0,oc(),sd.get(this).currentTime=e)}destroy(){var e,t,r=ud.get(this);r&&(null===(e=r.gain)||void 0===e||e.disconnect(),null===(t=r.source)||void 0===t||t.disconnect());sd.delete(this),ud.delete(this)}onCanplay(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("canplay",e)}offCanplay(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("canplay",e)}onPlay(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("play",e)}offPlay(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("play",e)}onPause(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("pause",e)}offPause(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("pause",e)}onStop(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("stop",e)}offStop(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("stop",e)}onEnded(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("ended",e)}offEnded(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("ended",e)}onTimeUpdate(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("timeupdate",e)}offTimeUpdate(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("timeupdate",e)}onError(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("error",e)}offError(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("error",e)}onWaiting(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("waiting",e)}offWaiting(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("waiting",e)}onSeeking(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("seeking",e)}offSeeking(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("seeking",e)}onSeeked(e){var t;null===(t=sd.get(this))||void 0===t||t.addEventListener("seeked",e)}offSeeked(e){var t;null===(t=sd.get(this))||void 0===t||t.removeEventListener("seeked",e)}}var vd=new WeakMap,md=function(e){return vd.get(e)||{}},yd=function(e,t){var r;return null===(r=vd.get(e))||void 0===r?void 0:r[t]},bd=new Map,_d=(0,Oe.Fr)(od.lz),wd=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];(0,Q.DM)(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Id=function(e,t,r){var n;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"set",value:r,key:t})},Sd=function(e,t,r,n){var a;n?("on"===n?e.staticOperations&&e.staticOperations[t].add(r):"off"===n&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t]&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(a=e.bufferedOperations)||void 0===a||a.push({type:"method",value:r,key:t})},kd=(e,t)=>{var r=!1;if(nl()){var n=pd();if(n&&"function"==typeof n.createHTMLAudioElement){var a,i,o="";if(N.cj)o=null===(i=D.default.expt)||void 0===i?void 0:i.clicfg_appbrand_ios_inneraudio2webaudio_stream;else if(N.wZ){var s;o=null===(s=D.default.expt)||void 0===s?void 0:s.clicfg_appbrand_android_inneraudio2webaudio_stream}try{o=o.replace(/;/g,","),a=JSON.parse(o)}catch(e){}if(a){var{open:u,blacklist:c,whitelist:l}=a;r=c?!c.includes(D.default.accountInfo.appId)&&1===u:l?!!l.includes(D.default.accountInfo.appId)&&1===u:1===u}}}var d=e=>{var{stats:n}=e;n.size<102400?(()=>{if(void 0===id){var e=N.cj?"clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio":"clicfg_appbrand_android_inneraudio2webaudio_usewebaudio";id=1===Number(D.default.expt&&D.default.expt[e])}return id})()?t("NativeWebAudio",!1):t("AudioJsApi",!1,n.size):t(r?"HTMLAudioElement":"AudioJsApi",!0,n.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else{var p=(e=>bd.has(e)?bd.get(e):_d({path:e}).then((t=>(bd.set(e,t),t))))(e);(0,Q.tI)(p)?p.then((e=>{d(e)})).catch((e=>{console.error(e),h.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):d(p)}},Cd=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new rc.Q((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class Td{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};r._statPromise=new rc.Q((e=>{r._statPromiseResolve=e})),vd.set(this,r)}get src(){return yd(this,"src")}set src(e){var t=md(this),{src:r,audioInstance:n,audioInstanceType:a,pluginId:i}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Cd.call(this,e,t),t.src=e,kd(e,n?(r,o,s)=>{var u=md(this);if(u.src===e){var{_statPromiseResolve:c}=u;t._ready=!0,t.audioInstanceType=r,r===a?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Id(t,"src",e),wd(t,new nd({pluginId:i,withReport:o,type:vd.get(this).type,size:s}))):"NativeWebAudio"===r?(Id(t,"src",e),wd(t,new yl({withReport:o,type:vd.get(this).type}))):"HTMLAudioElement"===r&&(Id(t,"src",e),wd(t,new gd({withReport:o,size:s})))),c&&c()}}:(r,n,a)=>{var o=md(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Id(t,"src",e),wd(t,new nd({pluginId:i,withReport:n,type:vd.get(this).type,size:a}))):"NativeWebAudio"===r?(Id(t,"src",e),wd(t,new yl({withReport:n,type:vd.get(this).type}))):"HTMLAudioElement"===r&&(Id(t,"src",e),wd(t,new gd({withReport:n,size:a}))),s&&s()}}))}get startTime(){var e=yd(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=md(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Id(t,"startTime",e))}get autoplay(){var e=yd(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=md(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n&&n.then((()=>{Id(t,"autoplay",e)})):Id(t,"autoplay",e))}get loop(){var e=yd(this,"loop");return void 0!==e&&e}set loop(e){var t=md(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Id(t,"loop",e))}get volume(){var e=yd(this,"volume");return void 0!==e?e:1}set volume(e){var t=md(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Id(t,"volume",e))}get playbackRate(){var e=yd(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=md(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Id(t,"playbackRate",e))}get duration(){var{audioInstance:e}=md(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=md(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=md(this);t.currentTime=e,Id(t,"currentTime",e)}}get paused(){var{audioInstance:e}=md(this);return!e||e.paused}get buffered(){var{audioInstance:e}=md(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return yd(this,"referrerPolicy")||""}set referrerPolicy(e){var t=md(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Id(t,"referrerPolicy",e))}play(){var e=md(this),{_statPromise:t,_ready:r}=e;r?Sd(e,"play"):t&&t.then((()=>{Sd(e,"play")}))}pause(){var e=md(this);Sd(e,"pause")}stop(){var e=md(this);Sd(e,"stop")}seek(e){var t=md(this);Sd(t,"seek",e)}destroy(){var e=md(this);Sd(e,"destroy"),vd.delete(this)}onTimeUpdate(e){var t=md(this);Sd(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=md(this);Sd(t,"TimeUpdate",e,"off")}onCanplay(e){var t=md(this);Sd(t,"Canplay",e,"on")}offCanplay(e){var t=md(this);Sd(t,"Canplay",e,"off")}onPlay(e){var t=md(this);Sd(t,"Play",e,"on")}offPlay(e){var t=md(this);Sd(t,"Play",e,"off")}onPause(e){var t=md(this);Sd(t,"Pause",e,"on")}offPause(e){var t=md(this);Sd(t,"Pause",e,"off")}onStop(e){var t=md(this);Sd(t,"Stop",e,"on")}offStop(e){var t=md(this);Sd(t,"Stop",e,"off")}onEnded(e){var t=md(this);Sd(t,"Ended",e,"on")}offEnded(e){var t=md(this);Sd(t,"Ended",e,"off")}onError(e){var t=md(this);Sd(t,"Error",e,"on")}offError(e){var t=md(this);Sd(t,"Error",e,"off")}onWaiting(e){var t=md(this);Sd(t,"Waiting",e,"on")}offWaiting(e){var t=md(this);Sd(t,"Waiting",e,"off")}onSeeking(e){var t=md(this);Sd(t,"Seeking",e,"on")}offSeeking(e){var t=md(this);Sd(t,"Seeking",e,"off")}onSeeked(e){var t=md(this);Sd(t,"Seeked",e,"on")}offSeeked(e){var t=md(this);Sd(t,"Seeked",e,"off")}}var Ad=!1;(N.cj||N.wZ)&&D.default.onReady((()=>{var e;e=N.cj?"clicfg_appbrand_ios_inneraudio2webaudio":"clicfg_appbrand_android_inneraudio2webaudio",1===Number(D.default.expt&&D.default.expt[e])&&(0,wt.J)("forceUseAudioDynamic")?(h.info("开启 forceUseAudioDynamic"),Ad=!0):h.info("关闭 forceUseAudioDynamic")}));var Pd=h.createLogger("InnerAudioContext"),Ed=function(e={},t="outer"){var r=!0;if(N.wZ){var{system:n}=(0,Yu.Oo)();-1===(0,bl.cv)(n,"6.0.0")&&(r=!1)}N.jP&&(r=!1);var a=(0,ke.hI)(this),{useWebAudioImplement:i}=e;return(N.DD||N.Ae)&&O.Z.Audio?(Pd.info("using NativeAudio"),new ml({type:t})):i&&nl()&&r?(Pd.info("using WebAudio"),new yl({type:t})):nl()&&r&&(0,N.aI)()&&Ad?(Pd.info("using AudioDynamic"),new Td({pluginId:a,type:t})):(Pd.info("using AudioJsApi"),new nd({pluginId:a,type:t}))},xd=function(e={}){return Ed.call(this,e)},Md="getLocation",Dd={wgs84:0,gcj02:0},Rd={wgs84:null,gcj02:null},Ld=!1,Od=0,Nd=[],jd=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=Wn(e.type);if(t)setTimeout((()=>(0,U.F0)(((e,{type:t}={},r=!0)=>r?{...e,type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}:{...e,type:t})(t,e),Md,e,{})),100);else{var r=Date.now(),n=Rd[e.type],a=Dd[e.type];if(Ld&&r-Od<1e4)Nd.push(e);else{if(r-a>=1e4||!n){var i=(0,ke.hI)(this);return Ld=!0,Od=Date.now(),void((e={},t={},r)=>{(0,U.qu)(r)(Md,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))})(e,{afterSuccess(t){Dd[e.type]=r,Rd[e.type]=t},afterAll(){Ld=!1;var e=Nd;Nd=[],e.forEach((e=>jd(e)))}},i)}var o=n.errMsg&&0===n.errMsg.indexOf("getLocation:ok");(0,U.FE)({name:"getLocation",success:o,args:e,errMsg:n.errMsg,res:n})}}},Bd=new jn.Z,Fd={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};(0,U.jQ)("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,Bd.emit(`onRecorderStateChange_${t}`,e)}));var Ud=e=>{(0,U.IN)("operateRecorder",Object.assign({},e))},Wd={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(Fd).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(Fd))}`);if(t.encodeBitRate>Fd[t.sampleRate][1]||t.encodeBitRate<Fd[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${Fd[t.sampleRate][0]} and less than ${Fd[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{Bd.emit("onRecorderStateChange_error",e)},t.afterSuccess=()=>{(0,ta.Vy)(void 0,"RecorderManager.start")},Nu("getRecorderManager").then((({success:e,errMsg:r,errno:n})=>{e?Ud(t):(console.error("start:fail "+r),Bd.emit("onRecorderStateChange_error",{errMsg:"start:fail "+r,errno:n}))})).catch((e=>{Ud(t)}))},pause(){Ud({operationType:"pause",fail(e){Bd.emit("onRecorderStateChange_error",e)}})},resume(){Ud({operationType:"resume",success(){Bd.emit("onRecorderStateChange_resume")},fail(e){Bd.emit("onRecorderStateChange_error",e)}})},stop(){Ud({operationType:"stop",fail(e){Bd.emit("onRecorderStateChange_error",e)}})},onStart(e){Bd.removeAllListeners("onRecorderStateChange_start"),Bd.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){Bd.removeAllListeners("onRecorderStateChange_resume"),Bd.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){Bd.removeAllListeners("onRecorderStateChange_pause"),Bd.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){Bd.removeAllListeners("onRecorderStateChange_stop"),Bd.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){Bd.removeAllListeners("onRecorderStateChange_frameRecorded"),Bd.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){Bd.removeAllListeners("onRecorderStateChange_error"),Bd.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){Bd.removeAllListeners("onRecorderStateChange_interruptionBegin"),Bd.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){Bd.removeAllListeners("onRecorderStateChange_interruptionEnd"),Bd.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&b.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}};var Gd=()=>Wd,Vd=e=>{(0,U.IN)("getAvailableAudioSources",e)},$d=e=>{(0,U.IN)("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},qd=new WeakMap;function zd(e,t){qd.set(this,Object.assign(qd.get(this),{[e]:t})),this.promise.then((()=>{(0,U.IN)("operateAudioPlayer",{operationType:"update",containerId:qd.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class Kd{constructor(){qd.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),(0,U.IN)("operateAudioPlayer",{operationType:"create",success:e=>{qd.set(this,Object.assign(qd.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),sl()&&zd.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{(0,U.IN)("operateAudioPlayer",{operationType:"start",containerId:qd.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,U.IN)("operateAudioPlayer",{operationType:"addTask",containerId:qd.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,U.IN)("operateAudioPlayer",{operationType:"delTask",containerId:qd.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{(0,U.IN)("operateAudioPlayer",{operationType:"stop",containerId:qd.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{(0,U.IN)("operateAudioPlayer",{operationType:"remove",containerId:qd.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),qd.delete(this)}))))}set volume(e){sl()||zd.call(this,"audioVolume",e)}get volume(){return qd.get(this).audioVolume}}var Hd=new WeakMap;function Jd(e,t){Hd.set(this,Object.assign(Hd.get(this),{[e]:t})),this.promise.then((()=>{O.Z.MediaToolKit.audioUpdate({containerId:Hd.get(this).containerId,[e]:t},(e=>{e.errCode}))})).catch((e=>{}))}class Yd{constructor(){Hd.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),O.Z.MediaToolKit.audioCreate({},(e=>{0===e.errCode?(Hd.set(this,Object.assign(Hd.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)})),sl()&&Jd.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{O.Z.MediaToolKit.audioStart({containerId:Hd.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{O.Z.MediaToolKit.audioAddTask({containerId:Hd.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{O.Z.MediaToolKit.audioDelTask({containerId:Hd.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{O.Z.MediaToolKit.audioStop({containerId:Hd.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{O.Z.MediaToolKit.audioRemove({containerId:Hd.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)})),Hd.delete(this)}))))}set volume(e){sl()||Jd.call(this,"audioVolume",e)}get volume(){return Hd.get(this).audioVolume}}var Qd=()=>O.Z.MediaToolKit&&O.Z.MediaToolKit.audioCreate?new Yd:new Kd,Zd=(0,W.s)("lifeCycle:AppRouteDone"),Xd=Zd.internalOnMethod,ep=(Zd.internalOffMethod,Zd.emit.bind(Zd),null),tp=!1;(0,Vo.HM)((()=>{tp=!0})),Xd((()=>{tp=!1,ep&&(rp(ep),ep=null)}));var rp=function(e={}){var t=(0,U.qu)((0,ke.hI)(this));e.type||(e.type="all"),void 0===e.count&&(e.count=100),(0,U.r3)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?(0,U.YG)("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>100&&(e.count=100),tp?ep=e:t("chooseMessageFile",e)):(0,U.YG)("chooseMessageFile",e,"param extension should not be empty."):(0,U.YG)("chooseMessageFile",e,"param extension should be Array."))},np=function(e={}){if(Zr("choose_media"))(0,U.YG)("chooseMedia",e,"This api is temporarily unavailable");else{var t=(0,ke.hI)(this);(0,U.qu)(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&Yr("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},ap="previewMedia",ip=function(e={}){if((0,U.r3)(ap,e,{sources:[]}))if(e.sources.length>50)(0,U.YG)(ap,e,"maximum length of sources is 50");else{var t=on(en),r=(0,ke.hI)(this),n=e=>"string"!=typeof r||"/"!==e[0]?e:(0,be.RP)(r,e),a=JSON.parse(JSON.stringify(e.sources)),i=[],o=[];a.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?yr.LC.get(e.url)||e.url:"","image"===e.type?i.push(e):"video"===e.type&&o.push(e)}));var s=i.map((e=>e.url||"")).map((e=>n(e))),u=o.map((e=>e.url||"")).map((e=>n(e)));(0,br.V)(s,"image",(r=>{var n=r.data.map((e=>e.url));(0,br.V)(u,"video",(r=>{var s=r.data.map((e=>e.url));n.forEach(((e,t)=>{var r=i[t].index;a[r].url=e})),s.forEach(((e,t)=>{var r=o[t].index;a[r].url=e}));var u=Object.assign({current:0},e,{sources:a});t?sn(en,ap,u):(0,U.IN)(ap,u),xr(ap,{sources:u.sources||[]},!1,t)}))}))}},op=p(4899),sp=new jn.y,up=new WeakMap,cp=new WeakMap;(0,U.jQ)("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?sp.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?sp.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&sp.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var lp=!1;function dp(e){return pp.apply(this,arguments)}function pp(){return(pp=X()((function*(e){var t=cp.get(e);yield t}))).apply(this,arguments)}function fp(e,t,r={}){return(0,U.bb)("operateCanvasPlayer",{...r,containerId:e.id||0,operationType:t})}function hp(e,t,r={}){return new Promise(((n,a)=>{O.Z.MediaToolKit[t]({...r,containerId:e.id||0},(e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void a(r)}n(e)}))}))}function gp(e,t,r){var n=up.get(e);n&&n.emit(t,r)}class vp{constructor(){var e=this;this.id=void 0,this.width=void 0,this.height=void 0,this.buffer=void 0,this.buffId=void 0;var t=new jn.y;up.set(this,t);var r=X()((function*(){if(N.wZ){N.wZ&&(lp||(lp=!0,O.Z.MediaToolKit.addEventListener("onPlayerBuffSize",(e=>{sp.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),O.Z.MediaToolKit.addEventListener("onPlayerPlayEnd",(e=>{sp.emit(e.containerId,{event:"ended",data:{}})}))));var r=yield new Promise(((e,t)=>{O.Z.MediaToolKit.playerCreate({},(r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}))}));e.id=r.containerId}else{var n=yield(0,U.bb)("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}e.id&&sp.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();cp.set(this,r)}start(e={}){var t=this;return X()((function*(){var r;if(yield dp(t),N.wZ){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield(0,U.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var a=yield hp(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=a.video,r.audio=a.audio}else{var i=yield fp(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.buffId=i.buffId,t.width=r.width||0,t.height=r.height||0,r.video=i.video,r.audio=i.audio}return gp(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return X()((function*(){yield dp(r);var n="accurate"===t;return N.wZ?yield hp(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield fp(r,"seek",{seekStamp:e,seekByStamp:n}),gp(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return X()((function*(){yield dp(t),N.wZ?yield hp(t,"playerWait",{wait:e}):yield fp(t,"wait",{wait:e}),gp(t,"wait",{})}))()}stop(){var e=this;return X()((function*(){yield dp(e),N.wZ?yield hp(e,"playerStop",{}):yield fp(e,"stop",{}),gp(e,"stop",{})}))()}remove(){var e=this;return X()((function*(){if(yield dp(e),e.id){sp.removeAllListeners(e.id);var t=up.get(e);null==t||t.eventNames().forEach((e=>t.removeAllListeners(e)))}N.wZ?yield hp(e,"playerRemove",{}):yield fp(e,"remove",{})}))()}getFrameData(){var e,t,r,n,a,i;if(N.wZ?O.Z.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(i=>{i.got&&(e=this.buffer),t=i.pts,r=i.pk_pts,n=i.dts,a=i.pk_dts})):(0,U.IN)("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:i=>{i.got&&(e=(0,op.t)().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=i.pts,r=i.pk_pts,n=i.dts,a=i.pk_dts},fail(e){var t;i=new Error(null===(t=e.errMsg)||void 0===t?void 0:t.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(i,e)}}),i)throw i;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:a}:null}on(e,t){var r=up.get(this);null==r||r.on(e,t)}off(e,t){var r=up.get(this);null==r||r.off(e,t)}get videoDecoderId(){return this.id}}var mp=function(){var e=X()((function*(e,t,r){var n=yield e[t](r),{code:a,desc:i,...o}=n;if(a)throw new Error(i);return o}));return function(t,r,n){return e.apply(this,arguments)}}(),yp=["onbufferchange","firstaudioplayed","onaudioplayback"];class bp{constructor(){this.id=void 0,this.width=void 0,this.height=void 0,this.currentFrame=null,this.context=new O.Z.WeMedia.Context,this.player=void 0,this.reader=void 0,this.avSync=void 0,this.emitter=new jn.y,this.reader=this.context.createReader(),this.avSync=this.context.createAvSync(),this.avSync.reader=this.reader,this.player=this.context.createPlayer(),this.player.avSync=this.avSync,this.player.onvideorenderer=e=>{this.currentFrame=e,e.frame&&this.emitter.emit("frame",e.frame)},this.player.onerror=e=>this.emitter.emit("error",e),this.player.onend=e=>this.emitter.emit("ended",e),this.player.onfirstvideorendered=e=>this.emitter.emit("firstvideorendered",e)}start(e){var t=this;return X()((function*(){var r,n,a,i,o,s=e.source;N.wZ&&(e.source&&/^(http|https):\/\/.*/i.test(e.source)||(s=(yield(0,U.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath));var u={abort:null!==(r=e.abortAudio)&&void 0!==r&&r},c={abort:null!==(n=e.abortVideo)&&void 0!==n&&n,expectFormat:null!==(a=e.videoFormat)&&void 0!==a?a:O.Z.WeMedia.MediaFormat.kMMMediaFormatVideoRgba32};t.avSync.reader=t.reader;var{mediainfo:l}=yield mp(t.reader,"start",{uri:s,enableHardwareAccelerated:!0,audioSetting:u,videoSetting:c}),d=Object.assign({},l.video);return d.width=null===(i=l.video)||void 0===i?void 0:i.width,d.height=null===(o=l.video)||void 0===o?void 0:o.height,d.video=l.video,d.audio=l.audio,t.width=d.width||0,t.height=d.height||0,yield mp(t.player,"start",{audioSetting:u}),t.emitter.emit("start",d),e.startTime&&(yield t.seek(e.startTime)),d}))()}seek(e){var t=this;return X()((function*(){e&&(yield mp(t.reader,"seek",{stamp:e})),t.emitter.emit("seek",{})}))()}wait(e){var t=this;return X()((function*(){yield mp(t.player,e?"pause":"resume")}))()}stop(){var e=this;return X()((function*(){yield mp(e.reader,"stop"),yield mp(e.player,"stop"),e.emitter.emit("stop",{})}))()}mute(e=!0){var t=this;return X()((function*(){yield mp(t.player,"mute",e)}))()}remove(){var e=this;return X()((function*(){e.emitter.eventNames().forEach((t=>e.emitter.removeAllListeners(t)))}))()}getFrameData(){if(this.currentFrame){var{code:e,desc:t,frame:r}=this.currentFrame;if(this.currentFrame=null,e)throw new Error(t);return r}return null}on(e,t){yp.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=t=>this.emitter.emit(e,t)),this.emitter.addListener(e,t)}off(e,t){this.emitter.removeListener(e,t),yp.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=void 0)}}function _p(e={}){return"wemedia"===e.type?new bp:new vp}var wp,Ip=0,Sp=(e={})=>{e.text?Date.now()-Ip<5e3?(0,U.YG)("setTopBarText",e,"invoke too frequently"):(0,U.IN)("setTopBarText",e,{beforeSuccess(){Ip=Date.now()}}):(0,U.YG)("setTopBarText",e,"invalid text")},kp=(e={})=>{(0,U.YG)("setWindowSize",e,"deprecated")},Cp=(e={})=>{(0,U.IN)("saveFileToDisk",e,{})},Tp=p(9845),Ap=p(1077),Pp=(e={})=>{(0,U.IN)("restart",Object.assign({},e,{force:!0,mode:"default",url:e.path||"?"}))},Ep=(e={})=>{(0,U.r3)("setEnableDebug",e,{enableDebug:!0})&&((0,U.IN)("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},xp=p(2494),Mp="GetUploadSetting",Dp={};function Rp(e){return e?(Dp[e]||(Dp[e]=(0,U.Qh)({sdkApiName:Mp,apiName:"GetUploadSetting",reqData:{},pluginId:e})),Dp[e]):wp||(wp=(0,U.Qh)({sdkApiName:Mp,apiName:"GetUploadSetting",reqData:{}}))}var Lp=p(7172),Op=p(6614),Np=p(9976),jp=function(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}(),Bp=(0,be.Hw)((e=>Fp(e).errMsg.indexOf("accessSync:ok")>=0)),Fp=function(){try{return Op.c.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},Up={DEBUG:1,INFO:2,WARN:4,ERROR:8},Wp=1,Gp=2,Vp=1,$p="",qp=!1;function zp(e){qp?e&&e():(qp=!0,D.default.onReady((()=>{$p=D.default.accountInfo.appId,e&&e()})))}var Kp=function(e,t){if("string"!=typeof e)return 0;var r,n,a,i=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,a=e.length;n<a;n++)i+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,a=e.length;n<a;n++)i+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return i};function Hp(){if(void 0!==Ne.hr){var e=Ne.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if((0,N.aI)())return"index"}var Jp;function Yp(){Jp&&(Jp=clearTimeout(Jp))}var Qp=!1;class Zp{constructor(e={}){var t;this.systemInfo=(0,Ae.getStableSystemInfo)(),this.opt={},this.opt.level=Up.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Vp,this._logInfo.platform="ios"===this.systemInfo.platform?Gp:Wp,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{N.gm||this._getLogConfig()}),300),zp((()=>{(0,N.aI)()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,t=e=>{this.onRealtimeDataResponse(e)},N.gm||"function"==typeof t&&Xe.push((0,J.Hw)(t)))}cyclelyUploadInGame(){setTimeout((()=>{of(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=(0,Qe._getCurrentNetworkType)();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(Qp=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{Qp=!1}),6e4))),e.idList&&e.idList.length){var r=!1,n={},a=!1,i={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,_.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${$p}`}),r=!0,delete this.historyLog[o],n[o]=s);var u=this.retryLogList[o];u&&(u.id,u.url,i[o]=u,delete this.retryLogList[o],a=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),a&&this.saveToFile(i)}}}_getLogConfig(e,t){return Rp(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=Up.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var a=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],a.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),(0,N.aI)()||function(e){if(Yp(),e="number"!=typeof e?3e5:e,(e=Math.max(e,5e3))>0){var t=()=>{Yp(),Jp=setTimeout((()=>{of(),t()}),e)};t()}}(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||Hp()))return!0;t.forEach((e=>{r+=Kp(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,a,i,o;"object"==typeof e?(n=e.id,a=e.name,i=e.level,o=e.time):(n="__DEFAULT__",a="__DEFAULT__",i=e,o=+new Date);var s=Up[i.toUpperCase()]||0;if(!(s<this.opt.level)){var u,c;if(t=this.pluginId||t||Hp(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[l,d]=r;if(!l||"string"!=typeof l)return;var p=this._getLogValue(d);c=this._checkSize(t,[l,p]),u=[n,o,a,l,p]}else u=r.map(this._getLogValue),c=this._checkSize(t,u),this.structSizeList[t]+=6+(u.length?3*u.length-1:0);if(!0===c)this._addLogMsg(u,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var f=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&f.unshift("warning"),this._addLogMsg(f,t,Up.WARN)}this.exceedSizeList[t]+=c}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||Hp();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var a=this.msgList[n][0];if("kv"===this.mode){var[i,o,s,u,c]=e,l=[r,i,o,s,u,c];this.msgList[n].push(l)}else{var d=new Date,p=Math.ceil(+d/1e3),f=[a?p-a[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var h=(new Date).getTimezoneOffset();f.push(h)}this.msgList[n].push(f)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n,a=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var o=at(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:$p}));return this.historyLog[o]=e,_.reportKeyValue({key:"UserLog",value:`,${r+a},${a}${e.timestamp},${e.url},${e.filter1},${$p}`}),void(t&&t(!0))}return(n={sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}},(0,U.Qh)(n)).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||Hp())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||Hp())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<1e3)}upload(e){var t=e||Hp();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(qp){if(!Qp){this.msgList[e]=[];var n=this.levelList[e]||Up.DEBUG;this.levelList[e]=0;var a=this.sizeList[e];this.sizeList[e]=0;var i=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=i+a;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var u={},c={};r.forEach((e=>{var[t,r,n,a,i,o]=e,s=t||Up.DEBUG;c[r]=c[r]||[n,{},s],c[r][1][i]=o,c[r][2]=Math.max(c[r][2],s),u[a]=u[a]||[],-1===u[a].indexOf(c[r])&&u[a].push(c[r])}));var l=this.kvFilterList,d=[];l&&l[e]&&Object.keys(l[e]).forEach((t=>{var r=l[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(c[r]){var a=c[r][1];a.__REALTIME_LOG_TAG__=a.__REALTIME_LOG_TAG__||[],-1===a.__REALTIME_LOG_TAG__.indexOf(n)&&a.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(u),o.filter1=[].concat(Object.keys(u),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";Kp(o.msg),o.appid=$p,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),1e3))}))}}else zp((()=>{$p&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),Kp(t)>2048)return!1;if(e=this.pluginId||e||Hp(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||Hp(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var a=this.filterList[e]||"";this.setFilterMsg(e,a+(a?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(D.default&&D.default.env.USER_DATA_PATH||(N.gm?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return Bp(e)||function(){try{return Np.h.apply(this,arguments)}catch(e){return{errMsg:e.message}}}(e),t}getFileContent(e){var t=function(){try{return{data:Wr.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}}(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(Bp(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}(0,Lp.N)({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(Bp(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),(0,Lp.N)({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var Xp,ef=null,tf={},rf=e=>e?tf[e]:ef,nf=(e={},t,r)=>{var n="",a={stat(){if(!N.gm){var e=rf(t);if(e)return e.stat(n)}},getCurrentState(){if(N.gm)return{};var e=rf(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!N.gm){var r=rf(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!N.gm){var r=rf(t);if(r)return r.addFilterMsg(n,e)}},in(e){(0,N.aI)()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=jp.next(),a=+new Date;return{debug(i,o){if(!N.gm){var s=rf(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"debug"},n,i,o)}},info(i,o){if(!N.gm){var s=rf(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"info"},n,i,o)}},warn(i,o){if(!N.gm){var s=rf(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"warn"},n,i,o)}},error(i,o){if(!N.gm){var s=rf(t);if(s)return s._baseLog({id:r,name:e,time:a,level:"error"},n,i,o)}},setFilterMsg(a){if(!N.gm){var i=rf(t);if(i)return i.setFilterMsg(n,a,{name:e,id:r})}},addFilterMsg(a){if(!N.gm){var i=rf(t);if(i)return i.addFilterMsg(n,a,{name:e,id:r})}}}}};return a=t?Object.assign(a,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(a,{config(e){if(!N.gm&&"object"==typeof e){var r=rf(t);r&&r._config(e)}},debug(...e){if(!N.gm){var r=rf(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!N.gm){var r=rf(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!N.gm){var r=rf(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!N.gm){var r=rf(t);if(r)return r._baseLog("error",n,...e)}}}),rf(t)||((e,t)=>{e?tf[e]=t:ef=t})(t,new Zp({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),a},af=e=>{e=e||{};var t="develop"===D.default.envVersion||"trial"===D.default.envVersion;return e.isClientReport=!t,nf(e)},of=e=>{if(!N.gm){var t,r=(t=[],ef&&t.push(ef),Object.keys(tf).forEach((e=>t.push(tf[e]))),t);r.length&&r.forEach((t=>{try{t.upload(e)}catch(e){}}))}};(0,di.J)((e=>{N.gm||e&&8===e.targetAction||qp&&(Xp&&clearTimeout(Xp),Xp=setTimeout((()=>{void 0!==Ne.hr?Ne.hr.getCurrentPagesByDomain("").forEach((e=>{of(e.route)})):(0,N.aI)()&&of();Xp=null}),10))}));var sf=p(2529),uf=p(9325);function cf(...e){return new O.Z.ImageData(...e)}function lf(...e){return new O.Z.Path2D(...e)}var df,pf=p(1772),ff=p(7041),hf=p(8165),gf=p(3908),vf=e=>{"function"==typeof O.Z.setPreferredFramesPerSecond?O.Z.setPreferredFramesPerSecond(e):console.warn("当前版本暂不支持设置帧率")},mf=new Map,yf=e=>{if("function"==typeof O.Z.loadFont){if(N.cj&&"string"==typeof e&&"/"===e[0]&&(e=e.slice(1)),mf.has(e))return mf.get(e);var t=O.Z.loadFont(e);return mf.set(e,t),t}return console.warn("当前版本暂不支持此加载自定义字体"),null},bf=(e,t,r)=>"function"==typeof O.Z.setCursor?O.Z.setCursor(e,t,r):(console.warn("当前版本暂不支持加载自定义光标"),!1),_f=function(...e){return O.Z.requestPointerLock(...e)},wf=function(...e){return O.Z.exitPointerLock(...e)},If=function(...e){return O.Z.isPointerLocked(...e)},Sf={now:()=>O.Z.performanceNow()},kf=()=>Sf,Cf=(0,W.s)("memoryWarning"),Tf=Cf.onMethod,Af=Cf.offMethod,Pf=(e,t=!1)=>{t?df=e:Tf(e)},Ef=(e,t=!1)=>{t?df=null:Af(e)};(0,U.jQ)("onMemoryWarningReceive",((e={})=>{N.wZ&&e.level<10||(Cf.getGlobalListeners().length?Cf.emitGlobal(e):"function"==typeof df&&df(e))}));var xf=0,Mf=function(){O.Z.gc?O.Z.gc():function(){for(var e={},t=0;t<1e5;t++)e[t]=[];e=null}()};Pf((()=>{Date.now()-xf>1e3&&Mf(),xf=Date.now()}),!0);var Df=p(9967),Rf=new We.Q("touch",!0),Lf=new We.Q("touch",!0),Of={};["start","move","end","cancel"].forEach((e=>{(0,O.a)((t=>{if("start"===e){t.EventHandler[`ontouch${e}`]=t=>{yr.U.emit("beforeTouchStart",t),yr.U.emit("setLastTapTime",Date.now()),Ir("tap"),Rf.emit(e,t),Lf.emit(e,t)}}else if("end"===e){t.EventHandler[`ontouch${e}`]=t=>{yr.U.emit("beforeTouchEnd"),Rf.emit(e,t),Lf.emit(e,t),yr.U.emit("afterTouchEnd")}}else t.EventHandler[`ontouch${e}`]=t=>{Rf.emit(e,t),Lf.emit(e,t)}})),Of[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=(t,r)=>{(0,Q.Kn)(r)&&(O.Z.EventHandler[`ontouch${e}Dst`]=r),Rf.on(e,t)},Of[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{Rf.off(e,t)}}));const Nf=Of;var jf=new We.Q("Mouse",!0),Bf={};["Down","Move","Up"].forEach((e=>{Bf[`onMouse${e}`]=t=>jf.on(e,t),Bf[`offMouse${e}`]=t=>jf.off(e,t),(0,O.a)((t=>{t.EventHandler[`onmouse${e.toLowerCase()}`]=t=>{"Up"===e&&yr.U.emit("beforeTouchEnd"),jf.emit(e,t),"Up"===e&&yr.U.emit("afterTouchEnd")}}))}));const Ff=Bf;var Uf=new We.Q("PointerLock",!0),Wf={};["Change","Error"].forEach((e=>{Wf[`onPointerLock${e}`]=t=>Uf.on(e,t),Wf[`offPointerLock${e}`]=t=>Uf.off(e,t),(0,O.a)((t=>{t.EventHandler[`onpointerlock${e.toLowerCase()}`]=()=>Uf.emit(e)}))}));const Gf=Wf;var Vf=new We.Q("Mouse",!0);(0,O.a)((e=>{var{EventHandler:t}=e;t.onwheel=e=>Vf.emit("Wheel",e)}));var $f=(0,W.s)("Game-Error"),qf=(0,W.s)("Game-UnhandledRejection"),zf=$f.onMethod,Kf=$f.offMethod,Hf=qf.onMethod,Jf=qf.offMethod;_.registerThirdErrorListener((e=>{$f.emit({message:e,stack:""})})),_.registerThirdUnhandledRejectionListener(((e,t)=>{qf.emit({reason:e,promise:t})}));var Yf=p(7803),Qf=null;function Zf(e,t){"object"!=typeof e&&(e={});var r=(0,gf.y)(),n=r.scene,a=r.chatroomUsername,i="shareAppMessage",o=e.toCurrentGroup;o=1158===n?"boolean"!=typeof o||o:"boolean"==typeof o&&o;var s={title:e.title||D.default.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path};o&&1158===n&&(s.chatroomUsername=a,i="shareAppMessageToSpecificContactDirectly"),(0,pf.HP)(s,i,t)}(0,U.jQ)("onShareAppMessage",(e=>{if((0,Yf.b$)()){var t=(0,Yf.hk)(e);(0,U.IN)("shareAppMessageDirectly",{...t})}else{var r={};if("function"==typeof Qf&&"object"!=typeof(r=Qf({}))&&(r={}),"Promise"===(0,Q.Em)(r.promise)){var n=!1;setTimeout((()=>{n||(n=!0,Zf(r,e))}),3e3),r.promise.then((t=>{n||(n=!0,Zf(t,e))}))}else Zf(r,e)}}));var Xf=p(2576),eh=p(6435),th=p(9980),rh=p(6),nh=p(1636),ah=p(6659),ih=p(2950),oh=h.createLogger("shareTimeline");function sh(e={},t={title:D.default.accountInfo.nickname}){var r={},n="string"==typeof e.query?e.query:"";n.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${n.length}"`),n=n.substr(0,2e3)),r.path=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_IMAGE,query:n});var a=(0,ih.VW)(),i=(0,ih.rZ)();if(a){var o=yr.LC.get(e.imageUrl);r.imageUrl="string"==typeof o?o:e.imageUrl}else{if(!i[e.imageUrlId])return(0,Me.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),null;r.imageUrl=i[e.imageUrlId]}return Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:n},t,e,r)}function uh(e,t={},r,n={}){return new Promise(((a,i)=>{var o={title:t.title,path:t.path,imageUrl:t.imageUrl?t.imageUrl:"",cardSubType:(0,Yf.oq)(r),messageExtraData:{userPath:t.userPath,userQuery:t.userQuery,title:t.title,imageUrl:t.imageUrl||"",pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl,isCustomPreviewImg:e.isSnapshot?0:1,...n}};r===Xf.Gy.PLAY_PAGE_IMAGE&&(o.preloadResources=[e.fileUrl]),(0,U.IN)("shareTimeline",{...o,success:a,fail:i})}))}function ch(e){(0,Me.showLoading)({title:"请稍等"}),function(e={}){var{imagePreviewUrlId:t,imagePreviewUrl:r}=e,n=(0,ih.VW)(),a=(0,ih.rZ)();if(n){if(/^(http|https):\/\//.test(r))return new Promise((e=>{(0,mr.o)({url:r,success:t=>{e(lh(t.tempFilePath).catch((e=>{oh.error(e),dh()})))},fail:t=>{oh.error(t),e(dh())}})}));if(/^wxfile:\/\//.test(r))return lh(r).catch((e=>(oh.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,r),dh())));if((0,Q.HD)(r)){var i=r.split(".").pop();i=i?i.toLowerCase():"jpg";var o=`__wx_temp_timeline_img_${(0,be.M8)()}.${i}`,s=`${D.default.env.USER_DATA_PATH}/${o}`;return(0,Oe.Fr)(nh.c)({srcPath:r,destPath:s}).then((()=>lh(s))).then((e=>((0,ah.q)({filePath:s,success:e=>{oh.log("unlink success",e)},fail:e=>{oh.error("unlink fail",e)}}),e))).catch((e=>(oh.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,s),dh())))}return dh()}var u=a[t];return t&&u?new Promise((e=>{dn({src:u,success:t=>{var{width:r,height:n}=t,a=(0,ih.Mc)(u,r,n);e({fileUrl:a,thumbUrl:a})},fail:()=>e(dh())},mr.o)})):dh()}(e).then((e=>((0,Me.hideLoading)(),e))).then((t=>uh(t,e,Xf.Gy.PLAY_PAGE_IMAGE))).catch((e=>{(0,Me.hideLoading)(),oh.error("invokeShareTimeline fail",e)}))}function lh(e){return Promise.all([(0,ih.tK)(e),(0,ih.Hi)(e,1048576).then((()=>(0,ih.AV)(e)))]).then((([e,t])=>{var{width:r,height:n}=e;return{fileUrl:(0,ih.Mc)(t.fileUrl,r,n),thumbUrl:(0,ih.Mc)(t.thumbUrl,r,n)}}))}function dh(){return(0,th.O)().then((e=>{var{width:t,height:r,tempFilePath:n}=e;return(0,ih.AV)(n).then((e=>({fileUrl:(0,ih.Mc)(e.fileUrl,t,r),thumbUrl:(0,ih.Mc)(e.thumbUrl,t,r),isSnapshot:!0})))}))}var ph=null;function fh(e,t){var r=function(e){var t={};return"function"==typeof ph&&"object"!=typeof(t=ph())&&(t={}),sh(t,e)}(t);r&&ch(r)}(0,U.jQ)("onShareTimeline",(e=>{var t=eh.n.get();t?function(e,t){var r="",n="";e.pageType===Xf.Gy.PLAY_PAGE_IMAGE?(r=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_IMAGE,query:e.query}),n=e.params.imageUrl||""):e.pageType===Xf.Gy.PLAY_PAGE_VIDEO&&(r=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_VIDEO,query:e.query}),n=e.params.thumbUrl||""),uh({thumbUrl:e.params.thumbUrl,fileUrl:e.params.fileUrl},{title:e.params.title||t.title,imageUrl:n,path:r,userPath:e.params.userPath,userQuery:e.params.userQuery},e.pageType,e.params).catch((e=>{h.error("onShareTimeline fail",e)}))}(t,e):fh(0,e)}));var hh=p(6910),gh=p(9133),vh=p(5087),mh="startGameLive",yh=!1,bh=e=>{var t="";if(e&&"object"==typeof e){var{query:r}=e;(r="string"==typeof r?r:"").length>2e3&&(console.warn(`onGameLiveStateChange: query exceed max length limit 2000: "${r.length}"`),r=r.substr(0,2e3)),r.length>0&&(t=`?${r.replace(/^\?/,"")}`)}return t},_h=(e={})=>{yh?(0,U.YG)(mh,e,"please invoke after last invoke ended"):(yh=!0,(0,vh.UP)().then((()=>new Promise(((e,t)=>{(0,U.IN)("getGameLivePermission",{success(r){1===r.status&&(0,wt.J)("startGameLiveDirectly")?e():t({errMsg:"not support",errCode:r.errCode})},fail:t})})))).then((()=>((e={})=>{var t=bh(e);return new Promise(((e,r)=>{(0,U.IN)("startGameLive",{path:t,reportInfo:JSON.stringify({scene:5}),success:e,fail:r})}))})(e))).then((t=>((0,U.FE)({name:mh,args:e,res:t}),yh=!1,wh({actionStatus:1}),null))).catch((t=>{wh({actionStatus:0,errType:t.errCode}),(0,U.YG)(mh,e,t.errMsg||t.message,t.errCode||t.err_code),yh=!1})))},wh=({actionStatus:e,errType:t})=>{_.reportKeyValue({key:"MidasFriendPayment",value:["","",37,2,"",e,"","","",(0,Qe._getCurrentNetworkType)(),"","",t,"","","",""].join(",")})},Ih=p(273),Sh=null,kh=e=>({0:"end",1:"start",4:"menuClick"}[e]);(0,Ye.n)("onGameLiveStateChange",((e={})=>{(0,Ih.JE)(e)}));(0,Ih.DT)((e=>{var{event:t,extra:r}=e;if(4===t){var{path:n}=(e=>{var t="";if("function"==typeof Sh){var r={state:kh(e.event)},n=Sh(r);t=bh(n)}return{path:t}})(e);(0,U.IN)("startGameLive",{path:n,reportInfo:JSON.stringify({scene:4})})}else if((0===t||1===t)&&"function"==typeof Sh){var a={state:kh(e.event)};r&&r.wxaGameExportId&&(a.feedId=r.wxaGameExportId),Sh(a)}}));var Ch=new We.Q("key",!0);(0,O.a)((e=>{e.EventHandler.onkeydown=e=>{Ch.emit("down",e)},e.EventHandler.onkeyup=e=>{Ch.emit("up",e)}}));var Th,Ah,Ph=p(9437);(0,U.jQ)("onWindowResize",(()=>{var e={},t=(0,Ae.getSystemInfoSync)();Th===t.windowWidth&&Ah===t.windowHeight||(Th=e.windowWidth=t.windowWidth,Ah=e.windowHeight=t.windowHeight,yr.U.emit("onWindowResize",e))}));var Eh=null;(0,U.jQ)("onAddToFavorites",(e=>{var t={};if((0,Yf.b$)()){var r=(0,Yf.hk)(e);(0,U.IN)("addToFavorites",{...r})}else{"function"==typeof Eh&&("object"!=typeof(t=Eh({}))&&(t={}),t.path="string"==typeof t.path?t.path:"","string"==typeof t.query&&(t.path=t.path+"?"+t.query));var n=t.imageUrl;(0,br.V)([n],"image",(r=>{/^(cloud):\/\//.test(n)&&(n=r.data[0].url),t.imageUrl=n,(0,U.IN)("addToFavorites",Object.assign(e,t))}))}}));var xh=p(1257),Mh=!1,Dh=!1,Rh=xh.P0,Lh="";function Oh(e={}){if((0,wt.J)("launchApp"))if(Mh)if(Dh){var t=Object.assign({},e,{appId:Lh});Rh===xh.nw?t.extraData=e.appParameter:(t.messageExt=e.appParameter,t.extInfo=e.appParameter),Rh(t)}else(0,U.YG)("launchApp",e,"invalid scene");else(0,U.YG)("launchApp",e,"not in touchEnd");else(0,U.YG)("launchApp",e,"no permission")}(0,$o.dN)(((e={})=>{var{scene:t}=e,{referrerInfo:r}=e;void 0!==t&&("string"==typeof t&&(t=parseInt(t,10)),r&&r.appId&&(Lh=r.appId),1036===t?(Dh=!0,Rh=xh.P0):1069===t?(Dh=!0,Rh=xh.nw):1089!==t&&1090!==t&&1038!==t&&(Dh=!1))})),yr.U.on("beforeTouchEnd",(()=>{Mh=!0})),yr.U.on("afterTouchEnd",(()=>{Mh=!1}));var Nh=p(2083),jh=p(8215),Bh=p(6143),Fh=(e={})=>{var t=Object.assign({},e);return(0,Q.hj)(t.zIndex)?t.zIndex=Math.min(0,t.zIndex):(0,Q.o8)(t.zIndex)||(t.zIndex=0),new Bh.nk(t)},Uh=p(8020),Wh=new Set,Gh=new WeakMap,Vh="service",$h="plugin",qh={[Vh]:0,[$h]:0};const zh={add(e,t){Wh.add(e),Gh.set(e,t),qh[t]++},remove(e){var t=Gh.get(e);Wh.delete(e)&&(Gh.delete(e),qh[t]--)},get size(){return Wh.size},getSizeByType:e=>qh[e]};var Kh,Hh=0,Jh=1,Yh=2,Qh=new WeakMap,Zh=new Map,Xh=ArrayBuffer;o.onLoad((()=>{Kh="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?Xh=__global.SharedArrayBuffer:p.g.SharedArrayBuffer&&(Xh=p.g.SharedArrayBuffer))}));class eg{constructor(e,t){if(!(0,Q.hj)(e)||e<0)throw new Y.i(`Invalid array buffer length ${e}`);if((0,Q.hj)(t)){var r;try{r=Kh.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new Xh(e),writable:!1,enumerable:!0});var n=Kh.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var a={writeStatus:Hh,readStatus:Hh,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};Qh.set(this,a),Zh.set(this._sabId,this)}destroy(){var e=Qh.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],Zh.delete(this._sabId),Qh.get(this).destroyed=!0,this.unlock(),Kh.destroy(this._sabId)}lock(e,t=!1){var r=Qh.get(this),{destroyed:n,writeStatus:a,readStatus:i,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new Y.i("SharedArrayBuffer has been destroyed");if(!(0,Q.mf)(e))throw new Y.i("callback must be a function");a!==Yh?(o.push(e),a===Jh||(r.writeStatus=Jh,r.writeLockId=Kh.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=Yh,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=Qh.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:a,destroyed:i}=e;i?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==Jh&&n!==Yh||(Kh.Unlock(this._sabId,t),e.writeStatus=Hh,e.writeLockId=void 0,e.writeLockCallbacks=[]),a!==Jh&&a!==Yh||(Kh.Unlock(this._sabId,r),e.readStatus=Hh,e.readLockId=void 0,e.readLockCallbacks=[]))}}var tg,rg=e=>N.jP?{buffer:new ArrayBuffer(e)}:new eg(e),ng=e=>{return N.jP?e:(0,Q.Kn)(e)?(0,Q.hj)(e._sabId)?(t=e._sabId,Zh.has(t)?Zh.get(t):new eg(0,t)):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=ng(n),t}),{}):(0,Q.kJ)(e)?e.map(ng):e;var t},ag=()=>{if("windows"===D.default.platform||"mac"===D.default.platform)return!0;var e=!1,t="ios"===D.default.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(D.default.expt[t]&&(e=!0),e)};"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?N.jP||(tg=N.DD?4===i.appType:(i.supportWorkerMultiContext||i.supoortWorkerMultiContext)&&ag()):N.jP||D.default.onReady((()=>{tg=(D.default.supportWorkerMultiContext||D.default.supoortWorkerMultiContext)&&ag()})),o.onLoad((()=>{(function(e,t,r,n,a){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=a}).prototype=Error}));var ig,og=()=>tg,sg=new WeakMap,ug=new WeakMap,cg=new WeakMap,lg={},dg={},pg={},fg=new WeakMap,hg=new WeakMap,gg=0,vg={};function mg(e,t,r=++gg){return pg[e]?(vg[e]||(vg[e]=[]),vg[e].push({id:r,callback:t})):(pg[e]=r,t()),r}function yg(e,t){if(pg[e]===t&&(delete pg[e],vg[e]&&vg[e].length)){var{id:r,callback:n}=vg[e].shift();mg(e,n,r)}}ig=e=>{var t=0;Object.assign(e,{new(e){var r=++t;return dg[r]=e,Object.keys(lg).forEach((t=>{var n=sg.get(lg[t]);d.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1)})),r},get:e=>dg[e],destroy(e){delete dg[e]},Lock:mg,Unlock:yg})},o.onLoad((()=>{N.jP||Kh.new||ig(Kh)})),d.onWorkerMsg(((e,t)=>{var r=lg[e],n=ug.get(r),a=hg.get(r);if("log"!==t.__cmd__){if("setSharedBuffer"===t.__cmd__)return dg[t.__id__]=t.__buffer__,void Object.keys(lg).forEach((r=>{var n=sg.get(lg[r]);n!==e&&d.postMsgToWorker(n,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var i=t.__data__;if("string"==typeof i)try{i=JSON.parse(i)}catch(e){console.warn("warning: occur illegal error: ",i)}return i=o.convertToErrorObj(i),void("function"==typeof lg[e].errorHandler?lg[e].errorHandler(i):console.error("Worker Uncaught: ",i))}if(r)if(a&&a.useWKWorker){if(!(e=>e.workerId)(t))return;if("requireScriptSuccess"===t.__cmd__){var s=fg.get(r);return void(s&&s.evaluateWorkerScriptPromiseResolve&&s.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void(0,Wr.p)({filePath:t.filePath,success:({data:r})=>d.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))}),fail:({errMsg:r})=>d.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})});"function"==typeof n&&n(t.data)}else"function"==typeof n&&n(ng(t.data))}else yg(t.__sid__,t.__lid__);else mg(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}else(e=>{e.__isNativeConsole__?h[e.level](...e.logs):console[e.level](...e.logs)})(t.logData)}));var bg=function(e,t){var r=sg.get(this);d.postMsgToWorker(r,{__cmd__:"requireScript",__script__:e,__id__:r,__options__:t})},_g=function(){var e,t=new Promise((t=>{e=t}));fg.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class wg{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,sg.set(this,e),hg.set(this,r),lg[e]=this,this._id=e,r.useWKWorker?(this.useWKWorker=!0,_g.call(this)):og()?bg.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):bg.call(this,t,{pluginId:r.pluginId,workerId:e}),zh.add(this,r.contextType)}postMessage(e){var t=sg.get(this),r=fg.get(this),n=hg.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{d.postMsgToWorker(t,{data:e,appid:D.default.accountInfo.appId},void 0,this.useWKWorker)})):(e={data:e},d.postMsgToWorker(t,e))}onMessage(e){ug.set(this,e)}onError(e){this.errorHandler=e}terminate(){var e=sg.get(this),t=hg.get(this);t&&t.useWKWorker?d.postMsgToWorker(e,{__cmd__:"terminate",appid:D.default.accountInfo.appId},void 0,this.useWKWorker):d.terminate(e),zh.remove(this),sg.delete(this),ug.delete(this),fg.delete(this),cg.delete(this),hg.delete(this),delete lg[e]}onProcessKilled(e){cg.set(this,e)}}(0,U.jQ)("onWorkerWebViewTerminate",(()=>{Object.keys(lg).forEach((e=>{var t=lg[e],r=hg.get(t);if(r&&r.useWKWorker){var n=cg.get(t);zh.remove(t),sg.delete(t),ug.delete(t),fg.delete(t),cg.delete(t),hg.delete(t),delete lg[e],"function"==typeof n&&b.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),_.reportIDKey({key:"onWorkerWebViewTerminate"}),h.error("onWorkerWebViewTerminate",e)}}))}));var Ig=new jn.Z,Sg={};class kg extends Uh.W{constructor({style:e,name:t,x:r=0,y:n=0,width:a=300,height:i=200,devicePosition:o="back",flash:s="auto",size:u="small",autoInsert:c=!0,success:l,fail:d,complete:p}={}){super({style:e,name:t}),this.size=u,Sg[this.id]=this;var f=null;this.deferred=[];var h={x:r,y:n,width:a,height:i,devicePosition:o,flash:s};Object.keys(h).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>h[e],set:t=>{h[e]!==t&&(h[e]=t,this.isInserted?(clearTimeout(f),f=setTimeout((()=>this.update()),0)):this.deferred.push({type:"property",property:e,value:t}))}})})),Ig.on("onInit",(()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}));var g={success:l,fail:d,complete:p};c&&this.insert().then((e=>{this.frameWidth=e.width,this.frameHeight=e.height,(0,U.FE)({name:"createCamera",args:g})})).catch((e=>{e.errMsg&&(e.errMsg=e.errMsg.replace("insertCamera:fail","")),103===e.errno&&Ig.emit("onAuthCancel"),(0,U.FE)({name:"createCamera",args:g,success:!1,errno:e.errno,errMsg:e.errMsg})}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{Nu("createCamera").then((({success:r,errMsg:n,errno:a})=>{r?(0,U.IN)("insertCamera",Object.assign(this.toNativeData(),{success:e,fail:t})):t({errMsg:"createCamera:fail "+n,errno:a})})).catch((r=>{(0,U.IN)("insertCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}))}update(){return new Promise(((e,t)=>{(0,U.IN)("updateCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,n)=>{(0,U.IN)("operateCamera",Object.assign(t,{cameraId:this.id,type:e,fail:n,success:t=>{if(r(t),"listenFrameChange"===e){var n=(0,op.t)();if(!n)throw new Error("device not supported");t.data=n.get(t.bufferId),t.data.__proto__=ArrayBuffer.prototype,this._frame=t}}}))})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={cameraId:this.id,position:e,devicePosition:this.devicePosition,flash:this.flash,size:this.size};return this.autoInsert||(t.parentId=this.parentId),t}takePhoto(e="normal"){return this.operate("takePhoto",{quality:e})}startRecord(){return this.operate("startRecord")}stopRecord(e=!1){return this.operate("stopRecord",{compressed:e})}onAuthCancel(e){Ig.on("onAuthCancel",e)}onStop(e){Ig.on("onStop",e)}onCameraFrame(e){"function"==typeof e&&Ig.on("onCameraFrame",(()=>{this._frame&&e({data:this._frame.data,width:this._frame.width,height:this._frame.height})}))}listenFrameChange(e){var t=e?(e=>{if(e._id>=0&&lg[e._id])return e._id})(e):void 0,r={size:this.size};return void 0!==t&&(0,wt.J)("listenFrameChangeInWorker")?(r.workerId=t,this.operate("listenFrameChange",r)):this.operate("listenFrameChange",r)}closeFrameChange(){return this._frame=null,this.operate("closeFrameChange")}destroy(){return new Promise(((e,t)=>{delete Sg[this.id],Ig.removeAllListeners("onInit"),Ig.removeAllListeners("onAuthCancel"),Ig.removeAllListeners("onStop"),Ig.removeAllListeners("onCameraFrame"),(0,U.IN)("removeCamera",{cameraId:this.id,success:e,fail:t})}))}}(0,Ye.n)("onCameraInitDone",(()=>Ig.emit("onInit"))),(0,Ye.n)("onCameraNeedAuthCancel",(()=>Ig.emit("onAuthCancel"))),(0,Ye.n)("onCameraStop",(()=>Ig.emit("onStop"))),(0,Ye.n)("onCameraFrame",(()=>Ig.emit("onCameraFrame")));var Cg,Tg=e=>new kg(e),Ag=e=>new Bh.Gf(e),Pg=e=>new Bh.gw(e),Eg=e=>{N.gm?(0,U.IN)("parseXML",e):(new O.Z.XMLReader).parse(e.xml,(t=>{/ok/.test(t.errMsg)?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}))},xg=p(9717),Mg=(e=>{var t;return()=>(t||(t=e()),t)})((()=>y.getGameOpenDataContext())),Dg=JSON.stringify,Rg=e=>{Bg();try{Mg().postMessage({data:Dg(e)})}catch(e){throw new be.iZ(e.message)}},Lg=e=>{Bg(),Mg().onMessage(e)},Og=!1,Ng=()=>{var e=N.gm?D.default.appConfig.subContext:D.default.subContext;return e&&"string"==typeof e},jg=void 0,Bg=()=>{!Og&&Ng()&&(jg=(0,sf.zL)(),y.createGameOpenDataContext(),Og=!0)},Fg=()=>Cg||(Ng()||console.warn("getOpenDataContext:fail no openDataContext target file"),Cg={postMessage(e){Rg(e)},onMessage(e){Lg(e)},get canvas(){return Bg(),jg}},Cg),Ug=e=>{"dark"===e.style||"light"===e.style?(0,U.IN)("setMenuStyle",e):(0,U.YG)("setMenuStyle",e,`invalid style "${e.style}"`)},Wg=p(242),Gg=p(645),Vg=p(2897),$g=p(5665),qg=p(7891),zg=(e={})=>{(0,U.YG)("createUserGameData",e,"createUserGameData 接口已废弃")},Kg=(e={})=>{(0,U.YG)("updateUserGameData",e,"updateUserGameData 接口已废弃")},Hg={};[[Wg.l,"getFriendCloudStorage"],[Gg.q,"getGroupCloudStorage"],[Vg.y,"getGroupInfo"],[$g.e,"getPotentialFriendList"],[qg.r,"getUserCloudStorageKeys"]].forEach((([e,t])=>{Hg[t]=r=>{Nu(t).then((({success:n,errMsg:a,errno:i})=>{n?e(r):(0,U.FE)({name:t,args:r,errno:i,errMsg:a,success:!1})})).catch((t=>{e(r)}))}}));var Jg,Yg,Qg,Zg=e=>{(0,U.r3)("setStatusBarStyle",e,{style:""})&&("white"===e.style||"black"===e.style?(0,U.IN)("setStatusBarStyle",Object.assign({},e,{color:e.style})):(0,U.YG)("setStatusBarStyle",e,`invalid style "${e.style}"`))};try{N.gm&&(Jg=document.createElement.bind(document),Yg=document.body.appendChild.bind(document.body),Qg=null)}catch(e){}var Xg=({fontStyle:e="normal",fontWeight:t="normal",fontSize:r=16,fontFamily:n,text:a=""}={})=>{if(N.gm)return Qg||((Qg=Jg("div")).style.opacity=0,Yg(Qg)),Qg.style.fontStyle=e,Qg.style.fontWeight=t,Qg.style.fontSize=r+"px",Qg.style.fontFamily=n,Qg.innerHTML=a||"ajghl~!",Qg.clientHeight;var i=`${e} ${t} ${r}px ${n}`;return O.Z.getTextLineHeight(i,a)},ev=p(5771),tv=e=>{var t=cr.Z.get(e.shareTicket);t&&t.shareKey?(0,ev.k)(Object.assign({},e,{shareKey:t.shareKey})):(0,U.YG)("getGroupMsgTicket",e,"invalid shareTicket")},rv=(e={})=>{(0,U.IN)("bindGroup",e)},nv=(e={})=>{N.cj?(0,U.yD)({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;(0,U.IN)("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){(0,Me.showToast)({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){(0,U.FE)({name:"joinGroup",args:e})}}):(0,U.IN)("joinGroup",e)},av=1;D.default.onReady((()=>{try{"number"==typeof D.default.wxAppInfo.maxWorkerConcurrent&&(av=D.default.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var iv=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:D.default.accountInfo.appId,useExperimentalWorker:r&&(0,wt.J)("WeAppWorker")},a="workers.js",i=Vh,o=(0,ke.hI)(this);if(o&&(a=(0,be.RP)(o,"workers.js"),i=$h,n.pluginId=o),zh.getSizeByType(i)>=av)throw new Error("createWorker: exceed max concurrent workers limit.");var s=a;(()=>{if(N.DD)return!0;var e=!1,t=!!N.cj&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(h.info(`[expt] clicfg_appbrand_ios_allow_multi_context_worker: ${D.default.expt[t]}`),1===Number(D.default.expt&&D.default.expt[t])&&(e=!0),e)})()&&!r&&(a=og()&&!N.DD?void 0:a);var{workerId:u,useWKWorker:c}=d.create(a,n);if(setTimeout((()=>{_.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),u>0)return new wg(u,e,{useWKWorker:c,contextType:i,pluginId:n.pluginId,injectFilePath:s});throw-1===u?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},ov=1,sv=60,uv=300,cv=864e5,lv=null,dv=null,pv=null,fv=new Promise((e=>{pv=e}));D.default.onReady((()=>{dv=D.default,lv=(0,Ae.getStableSystemInfo)(),pv()}));var hv,gv=e=>{dv?e():fv.then(e)},vv={enabled:!0,sampleRate:ov,batchTime:uv,legacyReportEnabled:!0,bufferCapacity:1e3,userUin:0},mv=!1;function yv(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return e%r===parseInt(Date.now()/cv,10)%r}function bv(){var e=void 0!==Ne.hr?Ne.hr.getCurrentPagesByDomain(""):[],t=lv&&lv.brand,r=lv&&lv.model,n=lv&&lv.platform,a=lv&&lv.system,i=dv&&dv.appLaunchInfo&&dv.appLaunchInfo.scene,o=dv&&D.default.envVersion,s=lv&&lv.version,u=lv&&lv.SDKVersion,c=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:a,path:c=function(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}(c),scene:i,brand:t,model:r,networkType:(0,Qe._getCurrentNetworkType)(),envType:o,clientVersion:s,sdkVersion:u}}function _v(e,t,r=[],n){var a=Object.create(null);a.key=e,a.value=t;var i=bv(),o="";n?(o=n.pluginId,i.pluginCustomVersion=n.customVersion,i.path=Ne.P3.convertRouteToComponentAlias(i.path),i.path.indexOf("plugin")<0&&(i.path="")):o=dv.accountInfo&&dv.accountInfo.appId,function({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var a=bv(),i=`${t.key}_${a.networkType}_${a.scene}${n}`;if(Object.keys(wv).length>vv.bufferCapacity)return;wv[i]||(wv[i]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:a,dimensions:r});var o=wv[i];o&&(o.valueSum+=t.value,o.count++)}({appId:o,metrics:a,dimensions:r}),hv&&hv.then((()=>{"release"===D.default.envVersion&&vv.sampleRate!==ov&&vv.userUin&&!yv(vv.userUin,vv.sampleRate)||vv.enabled&&vv.legacyReportEnabled&&Av({appId:o,metrics:a,baseInfo:i,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var wv={};function Iv(){var e=Object.keys(wv);if(!(e.length<=0)&&vv.enabled&&("release"!==D.default.envVersion||vv.sampleRate===ov||!vv.userUin||yv(vv.userUin,vv.sampleRate))){var t="develop"===D.default.envVersion||"trial"===D.default.envVersion;for(var r of e){var n=wv[r],a={key:n.key,value:n.valueSum/n.count,num:n.count},i=n.baseInfo,o=n.dimensions;t?o.length>0?Pv({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):Pv({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?Av({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):Av({appId:n.appId,metrics:a,baseInfo:i,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete wv[r],_.reportKeyValue({key:"PerfReport",value:[n.appId,i.platform,i.scene,i.brand,i.model,i.networkType,i.envType,a.key,a.value,a.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var Sv=null;function kv(){var e="develop"===D.default.envVersion||"trial"===D.default.envVersion?sv:vv.batchTime;Sv&&clearInterval(Sv),Sv=setInterval(Iv,1e3*e)}var Cv=!1;function Tv(){Cv=!0,gv((()=>{setTimeout(Iv,3e4),kv(),(0,di.J)((()=>{Iv()})),(0,Te.T)((()=>{kv()}))}))}function Av({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:a="",dimensions:i}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:a,data:o});at(1002,s,!0)}function Pv({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:a="",dimensions:i}={}){if(vv.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)});(0,U.Qh)({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:a,data:o}}).catch((()=>{}))}}var Ev=0,xv=4294967295;function Mv(e,t,r,n){vv.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=Ev&&e<=xv||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=Ev&&t<=xv?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),mv||(mv=!0,hv=Rp().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(vv.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(vv.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(vv.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(vv.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(vv.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(vv.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),vv.userUin=t.UserUin,vv.batchTime!==uv&&kv()}})).catch((e=>{}))),Cv||Tv(),gv((()=>{"release"===D.default.envVersion&&vv.sampleRate!==ov&&vv.userUin&&!yv(vv.userUin,vv.sampleRate)||_v(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",Ev," to",xv))}function Dv(e,t,r){Mv(e,t,r)}var Rv=(e={})=>{var t=e.type;if(1===t)(0,U.IN)("testApiCallTime",e);else if(2===t)(0,Pe.L)("testWebviewApiCallTime",e,void 0,(t=>{(0,U.F0)(t,"testApiCallTime",e,{})}));else{if(3!==t)return{directInvokeJs:D.default.directInvokeJs};(0,Pe.L)("testApiCallTime",e,void 0,(t=>{(0,U.F0)(t,"testApiCallTime",e,{})}))}};function Lv(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,U.IN)("faceProcessInit",e,{beforeFail:e=>{var t=jv(e.errCode),r=Bv(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function Ov(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),(0,U.IN)("faceDetect",e,{beforeFail(e){var t=jv(e.errCode),r=Bv(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function Nv(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,U.IN)("faceProcessStop",e,{beforeFail:e=>{var t=jv(e.errCode),r=Bv(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function jv(e){switch(e){case 0:return zo.OK;case 1:case 3:return zo.Qyn;case 2:return zo.RGX;case 5:return zo.mUN;case 6:return zo.WV4;case 4:case 7:return zo.I4j}}function Bv(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}var Fv=p(8945),Uv=(...e)=>O.Z.createSignal?O.Z.createSignal(...e):null,Wv=null,Gv=e=>{Wv=e},Vv=()=>{Wv=null},$v=(0,Oe.Fr)(((e={})=>{var t=["release","develop","trial"],r=(0,U.TG)("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)})),qv=(0,Oe.Fr)(((e={})=>{((e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",(0,U.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})})({success(t){(0,U.FE)({name:"getAppContact",args:e,res:t})},fail(t){((e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",(0,U.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})})({success(t){(0,U.FE)({name:"getAppContact",args:e,res:t})},fail(t){(0,U.FE)({name:"getAppContact",args:e,res:t,success:!1})}})}})})),zv=e=>(0,Me.showToast)({icon:"none",title:e}),Kv=new Map,Hv="请检查网络后重试",Jv=0;(0,U.jQ)("onCopyUrl",(e=>{(0,qo.Gz)(e.webviewId);var t=e.shortLinkEnable||!1,r=ye.Z.lastRoute,n=ye.Z.lastOpenType,a=JSON.parse(JSON.stringify(ye.Z.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(a).forEach((e=>{a[e]=decodeURIComponent(a[e])}))}catch(e){return void zv(Hv)}var i=(0,N.aI)()?t?"":"index.html":`${r}.html`,o=Object.entries(a).map((e=>e.join("="))).join("&");if(t&&"function"==typeof Wv)try{o=(Wv()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${i}?${o}`:i;if(t){Kv.has(Jv)&&Kv.set(Jv,!1);var u=++Jv,c=!1;Kv.set(u,!0);var l=e=>{!!Kv.get(u)&&(zv(e),e===Hv&&(0,U.IN)("returnCopyUrl",{url:"",shortLinkEnable:t}),Kv.set(u,!1))};setTimeout((()=>{c=!0,l(Hv)}),1500);var d=D.default.page[`${r}.html`],p=d&&d.window||{},f=D.default.global&&D.default.global.window||{},h=p.navigationBarTitleText||f.navigationBarTitleText||"";qv().then((e=>{var r=e.data;return $v({appid:D.default.accountInfo.appId,envVersion:D.default.envVersion,path:s,title:(0,N.aI)()?"":h,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!Kv.get(u)&&!c&&((0,U.IN)("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){zv("已复制")},fail(){zv(Hv)}}),Kv.set(u,!1)),null))).catch((e=>{l(Hv),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{l(Hv),console.log("[onCopyUrl]: ",e)}))}else(0,U.IN)("returnCopyUrl",{url:s,shortLinkEnable:t,success(){zv("已复制")},fail(){zv(Hv)}})}));var Yv={offer_id:"offerId",currency_type:"currencyType",session_id:"sessionId",session_type:"sessionType",pf:"platform",login_wx_appid:"loginWXAppId",change_wx_openid:"changeWXOpenId",extend:"extend",product_id:"productId",service_code:"serviceCode",service_name:"serviceName",buy_quantity:"buyQuantity",aid:"aid",provide_uin:"provideUin",zoneid:"zoneId",goodstokenurl:"goodsTokenUrl"},Qv=["offer_id","currency_type","session_id","session_type","pf","login_wx_appid","change_wx_openid","extend"];function Zv(e){var t=[];return"subscribe"===e.mode?t=["product_id","service_code","service_name","buy_quantity","aid","provide_uin"]:"game"===e.mode||"pcGame"===e.mode?t=["buy_quantity","zoneid","provide_uin"]:"goods"===e.mode?t=["buy_quantity","zoneid","goodstokenurl"]:"enterprise"===e.mode&&(t=["zoneid","goodstokenurl"]),[...Qv,...t].reduce(((t,r)=>(t[r]=e[Yv[r]],"pf"===r&&"windows"===t.pf&&(t.pf="android",t.pf_header="wxgame_windows-2001"),t)),{})}var Xv=p(2248),em=p(3131),tm=p(3612),rm=p(717),nm=p(743),am=p(3192),im=p(8314),om=h.createLogger("common reportUserBehavior"),sm=(0,Oe.Fr)(Me._showModal),um=(0,Oe.Fr)(Wr.p),cm=(0,Oe.Fr)(Lp.N),lm="wxfile://ad/verifystate.json",dm=im.Y,pm=null;function fm(){return fm=X()((function*(e){try{if(pm=e,om.log("set verifydata",JSON.stringify(pm)),N.gm)return;N.DD||N.wZ?yield(0,U.bb)("setGlobalStorage",{key:dm,data:JSON.stringify(e)}):N.cj&&(yield cm({filePath:lm,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){om.log("set cache fail",e.message)}})),fm.apply(this,arguments)}function hm(){return gm.apply(this,arguments)}function gm(){return gm=X()((function*(){try{if(N.gm)return;if(N.DD||N.wZ){var{data:e}=yield(0,U.bb)("getGlobalStorage",{key:dm});om.log("get verifydata",e),pm=JSON.parse(e)}else if(N.cj){var{data:t}=yield um({filePath:lm,encoding:"utf8"});om.log("get verifydata",t),pm=JSON.parse(t)}}catch(e){om.log("get cache fail",e.message,e)}})),gm.apply(this,arguments)}var vm=!1,mm=0,ym=null,bm=0,_m=new We.Q("Verify",!0);function wm(e=!0){var t;null!==(t=pm)&&void 0!==t&&t.isSoftMode||(e&&(pm=null),ym&&(ym.des(),ym=null))}var Im=null;function Sm(e){(0,U.FE)({args:Im,name:"getRealNameVerifyMethod",success:e}),Im=null}function km(e,{ContentType:t,ContentID:r}={}){if(pm){var n=null;"function"==typeof e?n=e:Im=e;var{url:a,weapp:i,inlineCertMode:o}=pm.urlInfo||{},{isSoftMode:s,remainSeconds:u}=pm;if(o)return Am({UIArea:o===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:s?3:1,ContentType:t}),void Jm({inlineCertMode:o,isSoftMode:s,remainSeconds:u,ContentType:t,ContentID:r});i?(0,rm.iy)({appId:i.appid,path:i.path,extraData:i.extraData,success:n}):a&&(0,em.n)({url:a,isNativeStyle:!0,success:n}),wm()}}var Cm={INLINE_CERT_MODE_DIALOG:1,INLINE_CERT_MODE_HALF_SCREEN:2};function Tm(){return!1}function Am({UIArea:e,PositionID:t,ActionID:r,Status:n,ExpID:a="",ContentType:i=0,ContentID:o=0,ExternInfo:s,SourceID:u=mm}){_.reportKeyValue({key:"GameAdsSkipCard",value:[(0,Qe._getCurrentNetworkType)(),D.default.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(D.default.deviceOrientation)?2:1,n,u,"",a,0,"",bm,0,"",i,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(mm=e)}var Pm,Em=0,xm="",Mm="",Dm={},Rm=!1,Lm=0,Om=null,Nm=!1,jm=!1,Bm=!1,Fm=null,Um=null,Wm=0,Gm=3e5,Vm=null,$m={isSupportWebview:!0,isSupportOnLoad:!1,loaded:!1};function qm(e,t,{coldBoot:r=!1,realnameInfo:n}={},{appType:a,deviceOrientation:i}=D.default){Wm=Date.now();var o={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return vm?hm().then(s).then(u).catch((e=>{om.error("report fail",e)})):ay.then(hm).then(s).then(u).catch((e=>{om.error("report fail",e)}));function s(){var i={version:6,callbackData:Pm,type:o[e],duration:t/1e3,scene_note:Mm,scene:Em,realnameInfo:n,referrerInfo:{appId:xm,extraData:Dm},appServiceType:a,isColdStart:r};return(0,N.aI)()||(i.isWxaAdultOnly=Nm),(0,U.Qh)({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:i}).catch((e=>{var t;if((0,N.aI)()&&1!==(null===(t=pm)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function u(e){var t=e.data;!function(e){fm.apply(this,arguments)}(t);var{action:r,alertMsg:n,heartbeatInterval:a,jumpRule:o={},realnameResult:s}=t;if(o.gameStartRule&&(nm.limitSkipToOtherObject.setShouldExecuteFirstSkipLimitStrategy(!0),nm.limitSkipToOtherObject.setAttemptSkipMinTime(o.gameStartRule.blockJumpTimeInSeconds),nm.limitSkipToOtherObject.setModalMessage2(o.gameStartRule.jumpInfo.desc),nm.limitSkipToOtherObject.setModalConfirm2(o.gameStartRule.jumpInfo.jumpButtonLabel),nm.limitSkipToOtherObject.setModalSkipLink2(o.gameStartRule.jumpInfo.url),nm.limitSkipToOtherObject.setExpId2(o.gameStartRule.expId),nm.limitSkipToOtherObject.resumeLimitTimer(!0)),o.cancelRule&&(nm.limitSkipToOtherObject.setShouldExecuteSkipMaxLimitStrategy(!0),nm.limitSkipToOtherObject.setAttemptSkipMaxThreshold(o.cancelRule.maxCancelCount),nm.limitSkipToOtherObject.setModalMessage1(o.cancelRule.jumpInfo.desc),nm.limitSkipToOtherObject.setModalConfirm1(o.cancelRule.jumpInfo.jumpButtonLabel),nm.limitSkipToOtherObject.setModalSkipLink1(o.cancelRule.jumpInfo.url),nm.limitSkipToOtherObject.setExpId1(o.cancelRule.expId)),Pm=t.callbackData,a!==Gm&&a>=1e4&&(Gm=a,Xm()),s){var{code:c,failReason:l,certRemainTimes:d}=s;if(0===c)Fm.showSucc(),wm();else if(0===d)Fm.showFail({failReason:l});else{var p;Fm.showModal({title:l+d?`（剩余${d}次机会）`:""}),Am({ExpID:null==t||null===(p=t.urlInfo)||void 0===p?void 0:p.expId,UIArea:t.inlineCertMode===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:4,ActionID:4,Status:t.isSoftMode?3:1,ExternInfo:{number:d}})}}else switch(Sm(1===r),$m.isSupportOnLoad=N.wZ||N.cj,r){case 1:break;case 2:setTimeout((()=>{Am({UIArea:1518,PositionID:0,ActionID:1}),sm({title:"提示",content:n,showCancel:!1}).then((()=>{Am({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(i)?500:0);break;case 3:var{inlineUrl:f,needAdapterZk:h,expId:g}=t.urlInfo||{};if(f&&(0,N.aI)()&&$m.isSupportWebview&&$m.isSupportOnLoad){Hm({url:f,ExpId:g,DeviceModel:Vm.model,DeviceBrand:Vm.brand,OsName:Vm.platform,needAdapterZk:h,action:3}).catch((()=>{u(e)}));break}if(Rm)break;Rm=!0;var v=setTimeout(Ap.HK,15e3);Am({UIArea:1517,PositionID:0,ActionID:1}),sm({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(v),Rm=!1,Am({UIArea:1517,PositionID:1,ActionID:2}),(0,Ap.HK)()}));break;case 4:var{url:m,name:y,inlineCertMode:b,inlineUrl:_,expId:w}=t.urlInfo||{},{remainSeconds:I}=t;if(_&&(0,N.aI)()&&$m.isSupportWebview){Hm({url:_,ExpId:w,DeviceModel:Vm.model,DeviceBrand:Vm.brand,OsName:Vm.platform,action:4}).catch((()=>{u(e)}));break}if(b){Am({ExpID:w,UIArea:b===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),Jm({alertMsg:n,inlineCertMode:b,isSoftMode:!1,remainSeconds:I,ContentType:1});break}var S=setTimeout(Ap.HK,15e3);!Rm&&n&&m&&y&&(Rm=!0,Am({ExpID:w,UIArea:1504,PositionID:0,ActionID:1,Status:1}),(0,Me._showModal)({title:"提示",content:n,confirmText:y,cancelText:"退出游戏",success(e){clearTimeout(S),e.confirm?(Am({ExpID:w,UIArea:1504,PositionID:1,ActionID:2,Status:1}),km((()=>{Bm=!0}))):e.cancel&&(Am({ExpID:w,UIArea:1504,PositionID:2,ActionID:2,Status:1}),(0,Ap.HK)()),Rm=!1},fail(e){om.error("show modal fail=",e),clearTimeout(S),(0,Ap.HK)(),Rm=!1}}));break;case 5:var k,{name:C,inlineCertMode:T}=t.urlInfo||{},{remainSeconds:A}=t;if(T){var P;Am({ExpID:null==t||null===(P=t.urlInfo)||void 0===P?void 0:P.expId,UIArea:T===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),Jm({alertMsg:n,inlineCertMode:T,isSoftMode:!0,remainSeconds:A,ContentType:1});break}Am({ExpID:null==t||null===(k=t.urlInfo)||void 0===k?void 0:k.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{Rm||(0,Me._showModal)({title:"提示",content:n,confirmText:C,cancelText:"继续游戏",success({confirm:e}){var r,n;e&&Am({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||Am({ExpID:null==t||null===(n=t.urlInfo)||void 0===n?void 0:n.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&km((()=>{Bm=!0}))},complete(){Rm=!1}}),Rm=!0}),/landscape/.test(i)?1e3:0);break;case 6:var E,x,{inlineCertMode:M}=t.urlInfo||{},{remainSeconds:D,needAlert:R,alertMsg:L,isSoftAlert:O,isSoftMode:j}=t;if(O&&_m.emit("notify",{alertMsg:L,remainSeconds:D,doVerify:()=>km()}),R){Jm({alertMsg:L,remainSeconds:D,isSoftMode:j,inlineCertMode:M,ContentType:1,ContentID:j?0===D?3:2:1});break}ym?null===(E=(x=ym).setData)||void 0===E||E.call(x,t):(ym=!0,setTimeout((()=>zm(t,{ContentType:0})),N.cj?2e3:0))}}}function zm(e,{ContentID:t,ContentType:r}={}){null!==ym&&!0!==ym||(0,tm.eZ)(e,(n=>{var a;ym=n,Am({ExpID:null==e||null===(a=e.urlInfo)||void 0===a?void 0:a.expId,UIArea:e.isSoftMode?1506:1501,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r}),setTimeout((()=>{var n;return ym&&Am({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1502,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r})}),1e4),ym.addListener("stop",(()=>{var n;(qm("heartbeat",Lm=Date.now()-Wm),e.isSoftMode)&&Am({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1506,PositionID:0,ActionID:1,Status:3,ContentID:t,ContentType:r});wm()})),ym.addListener("click",(()=>{var n,{showSeconds:a,remainSeconds:i}=ym.data;Am({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:a?i?1502:1506:1501,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r,Time:i}),km((()=>{var e,t;Bm=!(null===(e=pm)||void 0===e||null===(t=e.urlInfo)||void 0===t||!t.inlineCertMode)}),{ContentID:t,ContentType:r})}))}))}var Km=()=>N.jP&&"landscape"===D.default.deviceOrientation&&D.default.screenHeight>D.default.screenWidth?{width:D.default.screenHeight,height:D.default.screenWidth}:{width:D.default.screenWidth,height:D.default.screenHeight};function Hm({url:e,ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:a,needAdapterZk:i,action:o}){var s,u;if(null!==Um)return Promise.resolve();e=e.replace("#wechat_redirect","");var c={ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:a,appid:D.default.accountInfo.appId,AppServiceType:null!==(s=D.default.appType)&&void 0!==s?s:4,versionType:null!==(u=D.default.versionType)&&void 0!==u?u:0,SDKVersion:D.default.SDKVersion,menuButtonBoundingClientRect:(0,Tp.z)()};Tl();var l,d=Km(),p=i,f=0===e.indexOf("https://jiazhang.qq.com/healthy/");return Um=new am.k({src:(0,Ie.cE)(e,c)+"#wechat_redirect",style:{left:0,top:0,width:d.width,height:d.height},zIndex:2000010,fullscreen:!0,__skipDomainCheck__:!0,isGameWebview:p}),$m.isSupportOnLoad&&(Um.onload=()=>{$m.loaded=!0,p&&Um&&(0,U.IN)("updateGameHTMLWebView",{htmlId:Um.id,evaluateJavascript:'function addScript() {\n            var childJs = document.createElement("script")\n            childJs.src = "https://game.weixin.qq.com/cgi-bin/minigame/static/minigame_minority/index.js"\n            document.body.appendChild(childJs);\n          }\n          addScript();'}),f&&Am({UIArea:1522,PositionID:0,ActionID:1})}),Um.onmessage=function(e){om.log("webview onMessage",e);var{type:t,appId:r,path:n,style:a}=e;"success"===t?(Um&&Um.destroy(),Al(),(0,Ae.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"portrait"===(Vm=e).deviceOrientation&&"landscape"===l&&(0,U.IN)("setDeviceOrientation",{value:"landscape",success(e){(0,Ae.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,Vm=e}})}})}}),Lm=Date.now()-Wm,setTimeout((()=>{qm("retryLogin",Lm)}),500),Um=null):"exit"===t?(Um&&(Um.destroy(),Um=null),f?(Am({UIArea:1522,PositionID:1,ActionID:2}),setTimeout((()=>{(0,Ap.HK)()}),200)):(0,Ap.HK)()):"showModal"===t?sm(e):"openWeapp"===t?(0,rm.iy)({appId:r,path:n}):"updateStyle"===t?Um&&(Um.style=a):"setDeviceOrientation"===t?(0,Ae.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"landscape"===(Vm=e).deviceOrientation&&(l=Vm.deviceOrientation,(0,U.IN)("setDeviceOrientation",{value:"portrait",success(e){(0,Ae.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,Vm=e,Um.style={left:0,top:0,width:Vm.screenWidth,height:Vm.screenHeight}}})}}))}}):"openUrl"===t&&(f&&0===n.indexOf("https://support.qq.com/product/")?(Am({UIArea:1522,PositionID:2,ActionID:2}),setTimeout((()=>{(0,em.n)({url:n,isNativeStyle:!0})}),200)):(0,em.n)({url:n,isNativeStyle:!0}))},new Promise(((t,r)=>{$m.isSupportOnLoad?setTimeout((()=>{$m.loaded?t():(Am({UIArea:1500,PositionID:o,ActionID:4,ExternInfo:{url:e}}),$m.isSupportWebview=!1,Um&&(Um.destroy(),Um=null),r())}),5e3):t()}))}function Jm({inlineCertMode:e,alertMsg:t,isSoftMode:r=!1,isPay:n=!1,remainSeconds:a=0,ContentType:i,ContentID:o}){var s;null===(s=ym)||void 0===s||s.des(),ym=null,null===Fm&&setTimeout((()=>(0,tm.jM)({alertMsg:t,hor:/landscape/.test(D.default.deviceOrientation),reportkv:t=>{var n,a;return Am({UIArea:e===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,ExpID:null===(n=pm)||void 0===n||null===(a=n.urlInfo)||void 0===a?void 0:a.expId,Status:r?3:1,ContentType:i,ContentID:o,...t})},remainSeconds:a,isSoftMode:r,isPay:n,half:e===Cm.INLINE_CERT_MODE_HALF_SCREEN,confirm:({name:t,id:n,showModal:a})=>{var s,u;t?n?/(^\d{15}$)|(^\d{17}([0-9]|[xX])$)/.test(n)?(Am({ExpID:null===(s=pm)||void 0===s||null===(u=s.urlInfo)||void 0===u?void 0:u.expId,UIArea:e===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:2,ActionID:2,Status:r?3:1,ContentType:i,ContentID:o}),qm("retryLogin",Lm=Date.now()-Wm,{realnameInfo:{name:t,id:n}})):a({title:"身份证格式错误"}):a({title:"请输入身份证号"}):a({title:"请输入真实姓名"})},des(e){Fm=null,("cancel"===e&&pm.isSoftMode||"fail"===e&&pm.isSoftMode)&&setTimeout((()=>zm({...pm},{ContentID:o,ContentType:i})),0),Sm("succ"===e)}},(e=>{Fm=e}))),0)}var Ym=jm,Qm=jm,Zm=jm||Nm,Xm=()=>{null!==Om&&(clearInterval(Om),ey())},ey=()=>{Om=setInterval((()=>{Lm=Date.now()-Wm,Ym&&qm("heartbeat",Lm)}),Gm)},ty=(e,{coldBoot:t=!1}={})=>{nm.limitSkipToOtherObject.resumeLimitTimer(),Mm=e.scene_note||"",Lm=0,Em=e.scene,e.referrerInfo&&(xm=e.referrerInfo.appId,Dm=e.referrerInfo.extraData),ey(),Bm?(qm("retryLogin",Lm),Bm=!1):Zm&&qm("onShow",Lm,{coldBoot:t})},ry=()=>{nm.limitSkipToOtherObject.pauseLimitTimer(),Lm=Date.now()-Wm,clearInterval(Om),Om=null,Qm&&qm("onHide",Lm)};D.default.onReady((()=>{var e=D.default.appLaunchInfo;Vm=(0,Ae._getSystemInfoSyncFromCache)(!0);try{D.default.appContactInfo&&D.default.appContactInfo.operationInfo&&D.default.appContactInfo.operationInfo.jsonInfo&&D.default.appContactInfo.operationInfo.jsonInfo.op_info&&(Nm=1===Number(D.default.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),jm=1===Number(D.default.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){om.error("get op_info fail",e.message)}Ym=(0,N.aI)()||jm,Qm=(0,N.aI)()||jm,Zm=(0,N.aI)()||jm||Nm,ty(e,{coldBoot:!0}),(0,Ye.n)("onAppEnterForeground",(t=>{ty(e=t)})),(0,Ye.n)("onAppEnterBackground",(()=>{ry()})),(0,Ye.n)("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(Rm=!1,ry(),setTimeout((()=>{ty(e)}),1e3))}))}));var ny=()=>{},ay=new Promise((e=>{ny=e})),iy=()=>{vm=!0,ny()};function oy(e){_m.on("notify",e)}function sy(e){_m.off("notify",e)}var uy=0;function cy({UIArea:e=0,SCeneID:t,PositionID:r=0,ActionID:n,Object:a=0,Status:i,ExpID:o="",ContentType:s=0,ContentID:u=0,ExternInfo:c,reportTime:l=0,SourceID:d=uy}){_.reportKeyValue({key:"GameAdsSkipCard",value:[(0,Qe._getCurrentNetworkType)(),D.default.appLaunchInfo.scene,0,t,e,r,n,"",0,a,i,d,"",o,0,"",l,0,"",s,u,0,c?encodeURIComponent(JSON.stringify(c)):""].join(",")}),2===n&&(uy=e)}function ly({subactionID:e,actionStatus:t,invokeId:r,errCode:n,errMsg:a,argsJSON:i,sceneId:o,midasArgsJSON:s="",costTime:u,status:c,time:l,sdkVersion:d,innerCode:p,funcType:f="",funcId:h="",requestPkg:g,responsePkg:v}={}){var m=184;34===o&&(m=322),(0,Qe._getCurrentNetworkType)(),(0,Qe._getCurrentSignalStrength)(),null==v||v.err_code,null==v||v.http_status;var y=[0,3301,o,m,e,t,c,0,"",(0,Qe._getCurrentNetworkType)()+"-"+(0,Qe._getCurrentSignalStrength)(),0,0,n,u,f,h,encodeURIComponent(JSON.stringify({invoke_id:r,err_code:n,err_msg:a,args:i,midas_args:s,run_time:l,pay_sdk_version:d,innercode:p,requestPkg:g,response_err_code:null==v?void 0:v.err_code,response_http_status:null==v?void 0:v.http_status}))].join(",");_.reportKeyValue({key:"MidasFriendPayment",value:y})}function dy(e){return e&&e.errno?e.errno:void 0!==e.errCode?e.errCode:e.err_code}function py(e){return void 0!==e.errMsg?e.errMsg:e.message}function fy(e){var t=new Date(1e3*+e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`}function hy(e,t=0){return 0===e?(0).toFixed(t):(e<10?t=Math.max(t,2):e<100&&(t=Math.max(t,1)),(e/100).toFixed(t))}var gy=null,vy=h.createLogger("requestMidasPayment");var my,yy,by,_y,wy,Iy,Sy,ky,Cy,Ty,Ay,Py,Ey,xy,My,Dy,Ry,Ly=["subscribe","game","pcGame","goods","enterprise"],Oy=h.createLogger("requestMidasPayment"),Ny=!1,jy=e=>Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e))),By=(e={})=>{Uy(e,"requestMidasPaymentGameItem",!0)},Fy=(e={})=>{Uy(e)},Uy=(e={},t="requestMidasPayment",r=!1)=>{my=String(Date.now());var n="",a="";if((0,Xv.y4)(Xv.F0.EVENT_CANVAS_BEFORE_PAY),N.cj)(0,U.YG)(t,e,zo.PRV);else if(function(){var e,t;if(!pm)return!0;if(pm.isSoftMode)return!0;if(pm.action<=3)return!0;var r,n,{inlineCertMode:a}=null!==(e=null===(t=pm)||void 0===t?void 0:t.urlInfo)&&void 0!==e?e:{};return a?(Am({ExpID:null===(r=pm)||void 0===r||null===(n=r.urlInfo)||void 0===n?void 0:n.expId,UIArea:a===Cm.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:1,ContentType:3}),Jm({inlineCertMode:a,isSoftMode:!0,isPay:!0,ContentType:3}),!1):(Am({UIArea:1503,PositionID:0,ActionID:1,Status:1}),(0,Me._showModal)({title:"提示",cancelText:"返回",content:"当前账号尚未实名，完成实名认证后才可进行充值",confirmText:pm.urlInfo.name,success({confirm:e}){var t,r,n,a;e&&km(),e&&Am({ExpID:null===(t=pm)||void 0===t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1503,PositionID:1,ActionID:2,Status:1}),e||Am({ExpID:null===(n=pm)||void 0===n||null===(a=n.urlInfo)||void 0===a?void 0:a.expId,UIArea:1503,PositionID:2,ActionID:2,Status:1})}}),!1)}()){if(r);else{if(-1===Ly.indexOf(e.mode))return void(0,U.YG)(t,e,"mode错误",1e3);e=Object.assign({zoneId:"1"},e)}try{n=JSON.stringify(e)}catch{}Oy.info("requestMidasPayment 开发者入参",n);var{outTradeNo:i,currencyType:o,platform:s,extraData:u,extraInfo:c}=r?{}:e,{mode:l,zoneId:d,buyQuantity:p,env:f}=r?{}:e;d=""+d,p=+p,f=+f,xy=r?34:33;var h,g,v,m,y=D.default.accountInfo.appId,b=function(){var t=X()((function*(t){Oy.log("useCouponModal success",t);var{status:a,batch_id:l,code_id:v,actionStatus:m}=t;if("success"===a){var b;Dy=1,My=v,wy=String(Date.now());try{r?(b=yield((e,{invokeId:t,argsJSON:r,appId:n})=>{var a=(0,gf.y)(),i={user_args:jy(e),referrer_info:{appid:n,extra_data:e.extraData},scene_note:a.scene_note||""};return(0,U.Qh)({apiName:"webapi_createiapbuygameitemorder",sdkApiName:"createIapBuyGameItemOrder",reqData:i}).catch((e=>{throw Oy.info("createIapBuyGameItemOrder fail"),_y=String(Date.now()),ly({subactionID:2,actionStatus:0,invokeId:t,errCode:dy(e),errMsg:py(e),argsJSON:r,sceneId:xy,costTime:_y-wy,status:Ny?1:2,time:_y-t,sdkVersion:3,funcType:Dy,funcId:My}),e}))})(e,{invokeId:my,argsJSON:n,appId:y}),Oy.info("createIapBuyGameItemOrder success",b)):(b=yield(({outTradeNo:e,env:t,zoneId:r,buyQuantity:n,currencyType:a,platform:i,code_id:o,batch_id:s,appId:u,sceneId:c,extraData:l,extraInfo:d},{invokeId:p,argsJSON:f})=>{var h={out_trade_no:e,env:t,zoneid:r,buy_quantity:n,currency_type:a,platform:i,code_id:o,batch_id:s,referrer_info:{appid:u,extra_data:l},scene_note:(0,gf.y)().scene_note||"",extra_info:JSON.stringify(d)};return(0,U.Qh)({apiName:"webapi_createiapbuygamecoinorder",sdkApiName:"createIapBuyGameCoinOrder",reqData:h}).catch((e=>{throw Oy.info("createIapBuyGameCoinOrder fail"),_y=String(Date.now()),ly({subactionID:2,actionStatus:0,invokeId:p,errCode:dy(e),errMsg:py(e),sceneId:c,argsJSON:f,costTime:_y-wy,status:Ny?1:2,time:_y-p,sdkVersion:3,funcType:Dy,funcId:My}),e}))})({outTradeNo:i,env:f,zoneId:d,buyQuantity:p,currencyType:o,platform:s,code_id:v,batch_id:l,appId:y,sceneId:xy,extraData:u,extraInfo:JSON.stringify(c)},{invokeId:my,argsJSON:n}),Oy.info("createIapBuyGameCoinOrder success",b)),Ry.openid=h,Ry.login_wx_appid=y||e.loginWXAppId,r?(Ry.buy_quantity=b.data.buy_quantity,Ry.zoneid=b.data.zoneid,Ry.pf="android"):Ry=Object.assign(Ry,Zv(e)),_y=String(Date.now());var{err_code:_,err_msg:w,order_no:I,url_params:S,iap_access_token:k}=b.data;if(0!==_)throw ly({subactionID:2,actionStatus:0,invokeId:my,errCode:_,errMsg:w,argsJSON:n,sceneId:xy,costTime:_y-wy,status:1,time:_y-my,sdkVersion:3,funcType:Dy,funcId:My}),{errMsg:w,errCode:_};g=I,Ry.goodstokenurl=S,Ry.openkey=k,delete Ry.buy_quantity,ly({subactionID:2,actionStatus:m,invokeId:my,errCode:_,errMsg:"",argsJSON:n,sceneId:xy,costTime:_y-wy,status:1,time:_y-my,sdkVersion:3,funcType:Dy,funcId:My})}catch(e){throw r?Oy.error("createIapBuyGameItemOrder fail",e):Oy.error("createIapBuyGameCoinOrder fail",e),{errMsg:e.errMsg||e.message,errCode:e.errCode||e.err_code}}return Ry}if("cancel"===a)throw ly({subactionID:5,actionStatus:1,invokeId:my,errCode:1,errMsg:"用户取消支付",argsJSON:n,sceneId:xy,status:1,sdkVersion:3,funcType:Dy,funcId:My}),{errMsg:"用户取消支付",errCode:1};if("fail"===a)throw{errMsg:"支付中",errCode:1}}));return function(e){return t.apply(this,arguments)}}(),_=function(){var i=X()((function*(i){var{resultCode:o,resultMsg:s,spInfo:u,innerCode:c}=i;Oy.log("[launchPayRes]",i),ky=String(Date.now());var l="requestVirtualPayment:fail PAY_LIMIT";if(0!==o){Oy.error("[MidasPaymentError]",o,s,u),s=s.replace("requestVirtualPayment:fail",""),ly({subactionID:4,actionStatus:0,invokeId:my,errCode:o,errMsg:s,argsJSON:n,sceneId:xy,midasArgsJSON:a,costTime:ky-Cy,status:Ny?1:2,time:ky-my,sdkVersion:3,innerCode:c,funcType:Dy,funcId:My}),-15009!==o&&1138!==o||(0,Me._showModal)({title:"提示",content:s,showCancel:!1,success(){(0,U.YG)(t,e,l,o)},fail(){(0,U.YG)(t,e,l,o)}}),Ay=String(Date.now());var d={env:f,order_no:g,mode:r?"goods":"game",ret_code:o,inner_code:c};Oy.info("关单入参",d),yield(0,U.Qh)({apiName:"webapi_closeiapbuyorder",sdkApiName:"requestMidasPayment",reqData:d}).then((e=>{if(0!==e.data.err_code)throw{errMsg:e.data.err_msg,errCode:e.data.err_code};Ty=String(Date.now()),ly({subactionID:6,actionStatus:1,invokeId:my,errCode:0,errMsg:"",argsJSON:n,sceneId:xy,midasArgsJSON:a,costTime:Ty-Ay,status:Ny?1:2,time:Ty-my,sdkVersion:3,funcType:Dy,funcId:My})})).catch((e=>{Ty=String(Date.now()),ly({subactionID:6,actionStatus:0,invokeId:my,errCode:e.errCode,errMsg:e.errMsg,argsJSON:n,sceneId:xy,midasArgsJSON:a,costTime:Ty-Ay,status:Ny?1:2,time:Ty-my,sdkVersion:3,funcType:Dy,funcId:My});var t=e.errMsg||e.message,r=e.errCode||e.err_code;throw t&&(s=t),r&&(o=r),Oy.error("closeiapbuyorder fail",e),{errMsg:s,errCode:o}})),-2===o?(Oy.error("取消支付",t,e,s,o),(0,U.YG)(t,e,s,o)):(Oy.error("支付失败",t,e,s,o),(0,U.YG)(t,e,s,o))}else Oy.info("支付成功",t,e),ly({subactionID:4,actionStatus:1,invokeId:my,errCode:0,errMsg:"",argsJSON:n,sceneId:xy,midasArgsJSON:a,costTime:ky-Cy,status:Ny?1:2,time:ky-my,sdkVersion:3,innerCode:c,funcType:Dy,funcId:My}),(0,U.FE)({name:t,args:e})}));return function(e){return i.apply(this,arguments)}}();m=r?((e,{invokeId:t,argsJSON:r,appId:n})=>{var a=(0,gf.y)(),i={pay_sdk_version:3,user_args:jy(e),referrer_info:{appid:n,extra_data:e.extraData},scene_note:a.scene_note||""};return by=String(Date.now()),(0,U.Qh)({apiName:"webapi_getiapinfocreateitemorder",sdkApiName:"getiapinfocreateitemorder",reqData:i}).then((e=>{if(yy=String(Date.now()),e.data&&0===e.data.err_code)return Ny=e.data.has_coupon,ly({subactionID:1,actionStatus:1,invokeId:t,errCode:0,errMsg:"",argsJSON:r,sceneId:xy,costTime:yy-by,status:Ny?1:2,time:yy-t,sdkVersion:3,funcType:Dy,funcId:My}),Oy.info("getIapOrCreateGameItemOrder success",e),e.data;throw Oy.info("getIapOrCreateGameItemOrder fail"),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw Oy.info("getIapOrCreateGameItemOrder get iap fail"),yy=String(Date.now()),ly({subactionID:1,actionStatus:0,invokeId:t,errCode:dy(e),errMsg:py(e),argsJSON:r,sceneId:xy,costTime:yy-by,status:Ny?1:2,time:yy-t,sdkVersion:3,funcType:Dy,funcId:My}),e}))})(e,{invokeId:my,argsJSON:n,appId:y}):((e,{argsJSON:t,outTradeNo:r,env:n,zoneId:a,buyQuantity:i,currencyType:o,platform:s,appId:u,extraData:c})=>{var l={pay_sdk_version:3,out_trade_no:r,env:n,zoneid:a,buy_quantity:i,currency_type:o,platform:s,referrer_info:{appid:u,extra_data:c},scene_note:(0,gf.y)().scene_note||"",extra_info:JSON.stringify(e.extraInfo)};return by=String(Date.now()),(0,U.Qh)({apiName:"webapi_getiapinfocreatecoinorder",sdkApiName:"getiapinfocreatecoinorder",reqData:l}).then((e=>{if(yy=String(Date.now()),e.data&&0===e.data.err_code)return Ny=e.data.has_coupon,ly({subactionID:1,actionStatus:1,invokeId:my,errCode:0,errMsg:"",argsJSON:t,sceneId:xy,costTime:yy-by,status:Ny?1:2,time:yy-my,sdkVersion:3,funcType:Dy,funcId:My}),Oy.info("getIapOrCreateCoinOrder success",e),e.data;throw Oy.info("getIapOrCreateCoinOrder fail"),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw Oy.info("getIapOrCreateCoinOrder get iap fail"),yy=String(Date.now()),ly({subactionID:1,actionStatus:0,invokeId:my,errCode:dy(e),errMsg:py(e),argsJSON:t,sceneId:xy,costTime:yy-by,status:Ny?1:2,time:yy-my,sdkVersion:3,funcType:Dy,funcId:My}),e}))})(e,{argsJSON:n,outTradeNo:i,env:f,zoneId:d,buyQuantity:p,currencyType:o,platform:s,appId:y,extraData:u}),m.then((t=>{var n=t.iap_info;if(Oy.info("getiapinfocreateorder success",n),h=n.open_id,v=n.offer_id,l="goods",Ry={},n.use_wx_proxy&&(Ry.use_wx_proxy=1),n.direct_channel&&(Ry.direct_channel="wechat"),Ny)return function(e){return null!==gy?Promise.resolve({status:"fail"}):new Promise((t=>{try{(e=>{var r,n,a;if(vy.info("获取米大师优惠券成功",e),null!=e&&null!==(r=e.mp_info)&&void 0!==r&&null!==(n=r.unicoupon_mpinfo)&&void 0!==n&&null!==(a=n.coupons)&&void 0!==a&&a.length){var i,o=e.mp_info.unicoupon_mpinfo.coupons.flatMap((e=>{var t,r;return null!==(t=null===(r=e.card_info)||void 0===r?void 0:r.map((t=>{var r,n;return null!==(r=null==t||null===(n=t.batch_info)||void 0===n?void 0:n.map((r=>({...e,...t,...r}))))&&void 0!==r?r:[]})))&&void 0!==t?t:[]})).filter(Boolean).flat().map((({begintime:t,endtime:r,amt:n,least_price:a,pay_amt:i,...o})=>({disabled:+e.pay_ori_amt==+i,begintime:fy(t),endtime:fy(r),amt:hy(n),least_price:hy(a),pay_amt:hy(i,2),...o}))).sort(((e,t)=>e.disabled||t.disabled?e.disabled&&t.disabled?+t.amt-+e.amt:e.disabled?1:-1:+e.pay_amt-+t.pay_amt)),s={accountInfo:D.default.accountInfo,pay_ori_amt:hy(e.pay_ori_amt,2),amount:o.reduce(((e,{amt:t})=>e+ +t),0),selectedCoupon:0===o.length||null!==(i=o[0])&&void 0!==i&&i.disabled?{}:o[0],coupons:o,IS_ANDROID:N.wZ,IS_PC:N.DD};__sclEngine__.initScl((e=>{gy=e.mainRoot.append("use-coupon-modal",{data:JSON.stringify(s)}),cy({SCeneID:43,UIArea:0,PositionID:0,ActionID:1}),cy({SCeneID:43,UIArea:4301,PositionID:1,ActionID:1}),gy.addListener("click",(()=>{cy({UIArea:4301,PositionID:1,ActionID:2}),cy({SCeneID:32,UIArea:0,PositionID:0,ActionID:1,Object:3}),cy({SCeneID:32,UIArea:0,PositionID:0,ActionID:1})})),gy.addListener("destroy",(({detail:e})=>{var r,n,a,i,o,s,u,c,l,d,p,f,h,g,v,m,y,b,_,w,I,S,k;if("cancel"===e.reason)return t({status:"cancel"}),void(gy=null);cy({SCeneID:43,UIAera:4302,PositionID:1,ActionID:2,ExternInfo:{pay:null!==(r=null!==(n=null===(a=gy)||void 0===a||null===(i=a.data)||void 0===i||null===(o=i.selectedCoupon)||void 0===o?void 0:o.pay_amt)&&void 0!==n?n:null===(s=gy)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.pay_ori_amt)&&void 0!==r?r:0,coupon:null!==(c=null===(l=gy)||void 0===l||null===(d=l.data)||void 0===d||null===(p=d.selectedCoupon)||void 0===p?void 0:p.amt)&&void 0!==c?c:0,coupon_use:null!==(f=gy)&&void 0!==f&&null!==(h=f.data)&&void 0!==h&&null!==(g=h.selectedCoupon)&&void 0!==g&&g.amt?1:2}}),t({status:"success",code_id:null===(v=gy)||void 0===v||null===(m=v.data)||void 0===m||null===(y=m.selectedCoupon)||void 0===y?void 0:y.code_id,batch_id:null===(b=gy)||void 0===b||null===(_=b.data)||void 0===_||null===(w=_.selectedCoupon)||void 0===w?void 0:w.batch_id,billno_while_using:null===(I=gy)||void 0===I||null===(S=I.data)||void 0===S||null===(k=S.selectedCoupon)||void 0===k?void 0:k.billno_while_using,actionStatus:e.chooseNumber}),gy=null}))}))}})(e)}catch(e){vy.error("获取米大师优惠券失败",e),t({status:"success"})}}))}(t.coupon_info).then(b);f=t.order_info.env;var a=t.order_info;return g=a.order_no,Ry.openid=h,Ry.login_wx_appid=y||e.loginWXAppId,Ry.pf="android",Ry.buy_quantity=r?a.buy_quantity:e.buyQuantity,Ry.zoneid=r?a.zoneid:e.zoneId,Ry.openkey=a.iap_access_token,Ry.goodstokenurl=a.url_params,Ry})).then((e=>{e.offer_id=v,e.session_type="wc_actoken",e.session_id="wechatid";var t,r=D.default.clientVersion>=671090432?"1.2":"1.1";e.additional?e.additional.wechatapp_p_version=r:e.additional={wechatapp_p_version:r},Oy.info("米大师入参",e,l);try{a=JSON.stringify(e)}catch{}Sy=String(Date.now());try{MidasSDK.getMidasPayApi()[l].destroy(),t=MidasSDK.getMidasPayApi()[l].init({env:f}),Iy=String(Date.now()),ly({subactionID:3,actionStatus:1,invokeId:my,errCode:0,errMsg:"",argsJSON:n,sceneId:xy,costTime:Iy-Sy,status:Ny?1:2,time:Iy-my,sdkVersion:3,funcType:Dy,funcId:My})}catch(e){Iy=String(Date.now());var i=e.errMsg||e.message,o=e.errCode||e.err_code;ly({subactionID:3,actionStatus:0,invokeId:my,errCode:o,errMsg:i,argsJSON:n,sceneId:xy,costTime:Iy-Sy,status:Ny?1:2,time:Iy-my,sdkVersion:3,funcType:Dy,funcId:My})}return Cy=String(Date.now()),function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(t,e)})).then(_).catch((r=>{Oy.error("[MidasPaymentError] catch","object"==typeof r?JSON.stringify(r):r),"object"==typeof r?(0,U.YG)(t,e,(null==r?void 0:r.errMsg)||(null==r?void 0:r.message),null==r?void 0:r.errCode):(0,U.YG)(t,e,r,-1)}))}else(0,U.YG)(t,e,zo.zF7)};var Wy=p(7551),Gy={};(0,Ye.n)("onAppEnterForeground",(e=>{Object.assign(Gy,e)})),D.default.onReady((()=>{Object.assign(Gy,D.default.appLaunchInfo)}));var Vy=(0,U.TG)("querySettlementMark","jsapi_querysettlementmark",(()=>({isWxHost:!D.default.host||"WeChat"===D.default.host.env,sdkAppId:D.default.host&&D.default.host.appId,scene:Gy.scene,sceneNote:Gy.scene_note||Gy.sceneNote,sessionId:Gy.sessionId||Gy.sessionid})));const $y=()=>new Promise((e=>{Vy({complete:({mark:t})=>e(t)})}));var qy=["game"],zy="requestMidasFriendPayment",Ky=h.createLogger("requestMidasFriendPayment");function Hy({actionStatus:e,errType:t=0,orderNo:r="",orderNoForUrl:n=""}={}){var a=[0,3001,30,10,1,e,"",0,n,(0,Qe._getCurrentNetworkType)(),0,0,t,0,"",r,""].join(",");Ky.log("[MidasFriendPayment reportValue]",a),_.reportKeyValue({key:"MidasFriendPayment",value:a})}function Jy(){return(0,wt.J)("requestMidasFriendPayment")?Promise.resolve():(Hy({actionStatus:0,errType:1}),Promise.reject({errCode:-15005,errMsg:"No MidasFriendPayment Permission"}))}function Yy(){return(0,wt.J)("requestVirtualPayment")?Promise.resolve():(Hy({actionStatus:0,errType:2}),Promise.reject({errCode:-15005,errMsg:"No VirtualPayment Permission"}))}function Qy(e={}){(0,U.r3)(zy,e,{mode:"",offerId:"",currencyType:"",buyQuantity:0,outTradeNo:"",nonceStr:"",timeStamp:0,signature:""})?((0,Me.showLoading)({title:"加载中"}),function(e={}){return new Promise(((t,r)=>{-1===qy.indexOf(e.mode)?r({errCode:1e3,errMsg:"mode错误"}):t()}))}(e).then(Jy).then(Yy).then((()=>function(e={}){return(0,Wy.Z)().then((({openId:t,appId:r})=>new Promise(((n,a)=>{var{mode:i,env:o,offerId:s,currencyType:u,zoneId:c,outTradeNo:l,platform:d,buyQuantity:p,nonceStr:f,timeStamp:h,signature:g}=e;MidasSDK.getMidasPayApi()[i].destroy();var v=MidasSDK.getMidasPayApi()[i].init({env:o,hide_loading:!0}),m=Zv(e);m.openid=t,m.login_wx_appid=r||e.loginWXAppId,m.type="friends_pay_order",m.pf=d||"android",Ky.info("[transedArgs]",m),v.launchFeature(m,function(){var t=X()((function*({resultCode:t,resultMsg:r,extendInfo:d}){if(Ky.info("[instance.launchFeature success]",{resultCode:t,resultMsg:r,extendInfo:d}),0===t){var v=d.token,y=d.priceLevel,b={offerId:s,currencyType:u,priceLevel:y,token:v,env:o,zoneId:c,busiOrderNo:l,mode:i,buyQuantity:p,nonceStr:f,timeStamp:h,signature:g,platform:m.pf};["session_id","session_type","login_wx_appid","change_wx_openid","extend","product_id","service_code","service_name","aid","provide_uin","goodstokenurl"].forEach((t=>{void 0!==e[Yv[t]]&&(b[Yv[t]]=m[t])})),b.settlementMark=yield $y(),Ky.info("reqData",b),(0,U.yD)({apiName:"webapi_addpayfororder",reqData:b,success(e){Ky.info("[operateWXData success]",e);var t=e.data;Number.isInteger(t.errCode)&&0!==t.errCode?(Ky.error("[operateWXData fail]",t),a({errCode:t.errCode,errMsg:t.errMsg}),Hy({actionStatus:0,errType:5})):n(e)},fail(e){Ky.error("[operateWXData fail]",e),a(e),Hy({actionStatus:0,errType:4})}})}else a({errMsg:r,errCode:t}),_.reportIDKey({key:"midasLaunchFeatureFail"}),Hy({actionStatus:0,errType:3})}));return function(e){return t.apply(this,arguments)}}())}))))}(e))).then((e=>((0,Me.hideLoading)(),function(e={}){var t=e.data;return new Promise((r=>{var n=(0,Oe.KU)("h5PayDisableForward");(0,U.IN)("shareAppMessageDirectly",{type:"h5",title:t.title,desc:t.desc,imageUrl:t.imageUrl,useDefaultSnapshot:!1,disableForward:n,link:t.link,success(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),Hy({actionStatus:1,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})},fail(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),Hy({actionStatus:0,errType:6,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})}})}))}(e)))).then((t=>{(0,U.FE)({name:zy,args:e,res:t})})).catch((t=>{(0,Me.hideLoading)(),Ky.error("fail:",t),(0,U.YG)(zy,e,t.errMsg,+(t.errCode||t.err_code))}))):Hy({actionStatus:0,errType:7})}var Zy=(0,U.TG)("checkIsSupportMidasFriendPayment","webapi_isaddpayfororderblocked",(()=>({})),(e=>(e.blocked=e.is_blocked,delete e.is_blocked,e)));function Xy(e={}){Promise.resolve().then(Jy).then(Yy).then((()=>Zy(e))).catch((({errMsg:t,errCode:r,err_code:n})=>{(0,U.YG)("checkIsSupportMidasFriendPayment",e,t,+(r||n))}))}function eb(){(0,gh.v)("gameLoginReport"),console.warn("wx.gameLoginReport 已经废弃")}function tb(){(0,gh.v)("gameLogoutReport"),console.warn("wx.gameLogoutReport 已经废弃")}var rb=()=>["nativeFunctionalized"].includes((0,al._)().apiCategory)?"服务需要重启以使用最新功能":(0,N.tK)()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",nb=new jn.Z;(0,U.jQ)("onUpdateStatusChange",(e=>{var t,r=(e.state||"").toLowerCase();e.appContactInfo&&e.appContactInfo.passThroughInfo.forceUpdate||!1?"updateready"===r&&(console.info("[apply update before]"),(0,Me._showModal)({content:rb(),confirmText:"知道了",showCancel:!1,complete(){(0,U.IN)("updateApp",t)}})):(delete e.state,nb.emit(r,e))}));var ab,ib=[];nb.on("updating",(e=>{ab={hasUpdate:!0,version:e.customVersion},ob()})),nb.on("noupdate",(()=>{ab={hasUpdate:!1},ob()}));var ob=()=>{ib.forEach((e=>{"function"==typeof e&&e(ab)})),ib.length=0},sb=new jn.Z;(0,U.jQ)("onPluginUpdateStatusChange",((e={})=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:a}=e,i=(r||"").toLowerCase();sb.emit("plugin"+i,{pluginAppid:t,appVersion:n,customVersion:a})}));var ub={},cb={};sb.on("pluginupdateready",(({pluginAppid:e,appVersion:t,customVersion:r})=>{cb[e]={pluginVersion:r},lb(e,t,r)}));var lb=(e,t,r)=>{var n=ub[e];n&&(delete ub[e],n.forEach((e=>{e({pluginVersion:r})})))},db=[],pb=!1,fb=!1,hb={};nb.on("updateready",(e=>{pb=!0,hb={version:e.customVersion},vb()}));var gb,vb=()=>{db.forEach((e=>{"function"==typeof e&&e(hb)})),db.length=0},mb=[];nb.on("updatefailed",(e=>{gb={version:e.customVersion},yb()}));var yb=()=>{mb.forEach((e=>{"function"==typeof e&&e(gb)})),mb.length=0},bb={onCheckForUpdate:e=>{e=b.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),ab?"function"==typeof e&&e(ab):ib.push(e)},onUpdateReady:e=>{e=b.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),pb?"function"==typeof e&&e(hb):db.push(e)},onUpdateFailed:e=>{e=b.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),gb?"function"==typeof e&&e(gb):mb.push(e)},applyUpdate:e=>{pb&&fb?(0,U.YG)("applyUpdate",e,"applyUpdate has been called"):pb||Object.keys(cb).length>0?(fb=!0,(0,Me._showModal)({content:rb(),confirmText:"知道了",showCancel:!1,complete(){(0,U.IN)("updateApp",e)}})):(0,U.YG)("applyUpdate",e,"update is not ready")}},_b=()=>bb,wb=Object.assign,Ib=Object.create,Sb=(e={})=>{var t=Ib(null);wb(t,e),t.url="https://support.weixin.qq.com/update/",(0,em.n)(t)},kb={USER_DATA_PATH:null,CLIENT_DATA_PATH:null};D.default.onReady((()=>{"object"==typeof D.default.env&&Object.assign(kb,D.default.env)}));const Cb=kb;var Tb,Ab=()=>{var e=void 0;return function(t){return void 0===e&&(e=(()=>{var e=null;return"function"==typeof WeakRef?e=function(e){return new WeakRef(e)}:"function"==typeof O.Z.GameAccelerator&&(e=function(e){return void 0===Tb&&(Tb=new O.Z.GameAccelerator),Tb.createWeakRef(e)}),e})()),e(t)}},Pb=(Ab(),p(6651)),Eb=p(8287);var xb=p(5469),Mb=p.n(xb),Db=p(3091);class Rb extends Db.wA{constructor({template:e,style:t,event:r}={}){if(super(),e){var n=(0,Db.Wj)(this),{root:a}=Mb()(e);Db.S1.call(this,a,t),Bh.uo.add(n.container),this.initEvent(r)}Tl(),(0,U.IN)("showShareMenu"),(0,U.IN)("showShareTimelineMenu")}initEvent(e){if(e){var t=(0,Db.Wj)(this);this.event=e,Object.keys(e).forEach((r=>{var n=e[r];Object.keys(n).forEach((e=>{var a=n[e];t[r]&&t[r].on(e,a)}))}))}}unbundEvent(){if(this.event){var e=(0,Db.Wj)(this);Object.keys(this.event).forEach((t=>{var r=this.event[t];Object.keys(r).forEach((n=>{var a=r[n];e[t]&&e[t].off(n,a)}))}))}}destroy(){this.unbundEvent();var e=(0,Db.Wj)(this);Bh.uo.remove(e.container),(0,Db.bn)(this),dr.showShareAppMessageMenu&&(dr.withShareTicket?(0,U.IN)("showShareMenuWithShareTicket",{withShareTicket:!0}):(0,U.IN)("showShareMenu")),dr.showShareTimelineMenu&&(0,U.IN)("showShareTimelineMenu"),Al()}}class Lb extends Rb{constructor({template:e,style:t}={}){super({template:e,style:t})}}var Ob=!1,Nb=0,jb=0,Bb=0;function Fb(e,t){var r=Math.max(Nb,jb),n=Math.min(Nb,jb);return t/e-(r-Bb-44-8-44-8)/n>.1?(r-2*(Bb+44))/r:(jb-20)/jb}D.default.onReady((()=>{Ob="devtools"===D.default.platform,Nb=D.default.screenHeight,jb=D.default.screenWidth,Bb=D.default.statusBarHeight}));class Ub extends Lb{constructor({imageUrl:e}={}){var t=1,r=0,n=0,a=e.match(/size=(\d+)x(\d+)$/);a&&(t=Fb(r=+a[1],n=+a[2]));var i=`<view id="container">\n      <view id="imgWrp">\n        ${Ob?`<image id="mainImage" src="${e}" />`:`<image-previewer id="mainImage" scale="${t}"></image-previewer>`}\n      </view>\n    </view>`,o=function(){var e=jb>Nb?"landscape":"portrait";return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?jb:Nb,height:"portrait"===e?Nb:jb},imgWrp:{flexDirection:"row",justifyContent:"center"},mainImage:{left:0,top:Ob?Bb+44+8:0,width:"portrait"===e?jb:Nb,height:"portrait"===e?Nb:jb,objectFit:"contain"}}}();super({template:i,style:o}),this.imageUrl=e,this.scale=t,this.width=r,this.height=n,this.sizeMatch=a,this.retried=[];var s=(0,Db.Wj)(this);Ob||s.mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Me._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Me.hideLoading)()}),500)}initImageInfo(){setTimeout((()=>{(0,Me.showLoading)({title:"加载中",maskAll:!0})}),500),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,U.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:n}=t,a=Fb(r,n);this.showImage({width:r,height:n,url:e.tempFilePath,scale:a})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,mr.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:n,scale:a}=e,i=(0,Db.Wj)(this);"portrait"===(t>r?"landscape":"portrait")?Ob?i.mainImage.style.scale=a:i.mainImage.scale=a:(Ob&&(i.mainImage.style.top=0),Ob?(i.mainImage.style.scale=1,i.mainImage.style.top=0):i.mainImage.scale=1),i.mainImage.urls=[n],i.mainImage.update(),setTimeout((()=>{(0,Me.hideLoading)()}),500)}}var Wb=0,Gb=0,Vb=0,$b=0,qb={};D.default.onReady((()=>{Gb=D.default.screenHeight,Vb=D.default.screenWidth,$b=D.default.statusBarHeight,qb=D.default.safeArea;var e=Math.max(Gb,Vb),t=e;qb&&qb.bottom&&(t=Math.max(qb.bottom,qb.right)),Wb=e-t}));class zb extends Lb{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n    <view id="container">\n      <view id="imgWrp">\n        <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="2" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n      </view>\n    </view>`,n=function(){var e=Vb>Gb?"landscape":"portrait",t=$b+44+8,r=Wb+44+8;return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?Vb:Gb,height:"portrait"===e?Gb:Vb},imgWrp:{flexDirection:"row",justifyContent:"center"},mainVideo:{position:"absolute",top:t,left:0,width:"portrait"===e?Vb:Gb,height:"portrait"===e?Gb-t-r:Vb-t-r}}}();super({template:r,style:n}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Db.Wj)(this).mainVideo.onError((()=>{(0,Me._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,Qe._getCurrentNetworkType)()){var e=(0,Db.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var Kb=new jn.Z;(0,U.jQ)("onLoadSubPackageTaskStateChange",(e=>{Kb.emit(e.state,e.taskId,e)}));var Hb=new jn.Z,Jb={},Yb={},Qb=e=>{Object.keys(Yb).forEach((t=>{Yb[t]===e&&delete Yb[t]}))},Zb=(e,t,r,n)=>{void 0===Yb[t]?!0!==Jb[t]?(Jb[t]=!0,(0,U.IN)(e,{moduleName:t,success:e=>{delete Jb[t],Yb[t]=e.loadTaskId,r(e.loadTaskId),Hb.emit(t,e)},fail:e=>{delete Jb[t],n(e)}})):Hb.on(t,(e=>{r(e.loadTaskId)})):r(Yb[t])};function Xb(e){return"workers.js"===e||"/workers.js"===e}var e_={},t_=[],r_=new WeakMap,n_=new WeakMap,a_=new WeakMap,i_=function(e){return e_[e]},o_=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},s_=function(e,t=!1){var r=e;if(!Xb(r)){"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith(".js")||(r.endsWith("/")||(r=`${r}/`),r=`${r}game.js`);var n=eh.n.get();return(0,Oe.N0)()&&(0,N.aI)()&&!t&&!n?"__APP__"===e?y.getGameContext().evaluateScriptFile("game.js"):y.getGameContext().evaluateScriptFile(r):void 0}},u_=(e,t)=>{var r=i_(e);delete e_[e],Qb(e),Array.isArray(r)&&r.forEach((e=>{var{moduleName:r,isMonkeyTest:n}=t,a=r_.get(e),i=o_(t);t_.push(r);var o=s_(r,n);(0,Q.tI)(o)?o.then((()=>{c_(a,i)})):c_(a,i)}))},c_=(e,t)=>{t.errMsg="loadSubpackage:ok","function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)};Kb.on("success",((e,t)=>{u_(e,t)})),Kb.on("fail",((e,t)=>{var r=i_(e);delete e_[e],Qb(e),Array.isArray(r)&&r.forEach((e=>{var r=r_.get(e),n=o_(t);n.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),Kb.on("progressUpdate",((e,t)=>{var r=i_(e);Array.isArray(r)&&r.forEach((e=>{var r=n_.get(e),n=o_(t);"function"==typeof r&&r(n)}))}));var l_=function(){var e=r_.get(this),{name:t,waiterMode:r}=e;if(t_.indexOf(t)>=0){var n={errMsg:"loadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}if("__APP__"===t&&N.gm&&(0,Oe.N0)()&&(0,N.aI)()){t_.push(t),s_(t);var a={errMsg:"loadSubpackage:ok"};return"function"==typeof e.success&&e.success(a),void("function"==typeof e.complete&&e.complete(a))}Zb(r?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t,(e=>{void 0===e_[e]?e_[e]=[this]:e_[e].push(this),a_.set(this,e)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):t.errMsg="loadSubpackage:fail module not found",b.surroundThirdByTryCatch(e.fail)(t),b.surroundThirdByTryCatch(e.complete)(t)}))};class d_{constructor(e){r_.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=b.surroundThirdByTryCatch(e[t],`at api loadSubpackage ${t} callback function`))})),l_.call(this)}onProgressUpdate(e){n_.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&b.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}await(){var e=r_.get(this),{waiterMode:t,name:r}=e,n={errMsg:"LoadTask.await:fail not support"};if(t){var a=a_.get(this);(0,U.IN)("awaitLoadSubPackageTask",{timeout:1e4,loadTaskId:a,success(e){console.log("awaitLoadSubPackageTask success",e),u_(a,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}var p_=p(6906),f_=p(7311),h_=(0,W.s)("BaseFrameHide"),g_=h_.internalOnMethod;h_.internalOffMethod;(0,Ye.n)("onAppEnterBackground",((e={})=>{(0,f_.v)(e.mode),(0,Yf.b$)()?h_.emit(e):(nc.Z.once("onhide",!0),h_.emit(e),(0,_r.nm)(e),(0,_r.qC)(e),(0,_r.bI)(e),(0,_r.NB)(e))}));var v_,m_,y_,b_="GameReportKV",__=!1,w_=0,I_=0,S_=-1,k_={},C_=0,T_=0,A_={},P_="",E_="",x_="",M_=!0,D_=(e={})=>{e=Object.assign({},k_,A_,e),A_=e;var t=e.query||D.default.appLaunchInfo.query,r=[];t&&"object"==typeof t&&Object.keys(t).forEach((e=>{r.push(`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)}));var n,a=e.eventTime,i=e.clickTimestamp,o=a-(i=i<=9999999999?1e3*i:i),s=e.sessionid||e.sessionId;n="boolean"==typeof e.isEntrance?e.isEntrance:m_&&m_===s?0:1,m_=s,1===e.eventId&&(C_=Date.now()-i,T_=M_?1:2,M_=!1),e.sceneNote=e.scene_note||e.sceneNote||"",e.sessionId=s||"",e.usedState=e.usedstate||e.usedState,e.costTime=o,e.SDKVersion=Je.c,e.presceneNote=e.prescene_note||e.presceneNote||"",e.isEntrance=n,e.queryArray=r,e.startCostTime=C_,e.startType=T_,E_=e.pagepath=e.path||D.default.appLaunchInfo.path;var u=[e.eventId,e.scene,e.sceneNote,e.sessionId,e.usedState,e.pagepath,e.networktype||"",e.costTime,e.stayTime||0,encodeURIComponent(e.referpagepath||""),e.targetAction||0,e.targetPagePath||"",e.clickTimestamp,e.SDKVersion,e.prescene,e.presceneNote,e.isEntrance,e.queryArray.join("&"),_.getAppType(),0,"",0,e.clickTimestamp,"",0,e.startCostTime,e.startType,Date.now(),"number"==typeof e.staytimeFuncpageStart?e.staytimeFuncpageStart:0,D.default.host?D.default.host.appId:"",e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");_.reportKeyValue({key:"Display",value:u}),_.submit(),((e={})=>{var t="",r=2;if(D.default){var n=D.default.accountInfo,a=D.default.envVersion;n&&(t=n.appId||""),"release"===a?r=1:"trial"===a&&(r=3)}P_||(P_=Je.c||"");var i={DeviceModel:y_.model||"",DeviceBrand:y_.brand||"",OsName:y_.platform||"",OsVersion:y_.system||"",LanguageVersion:y_.language||"",appid:t,appversion:P_,appstate:r,event_id:e.eventId,scene:e.scene,scene_note:e.sceneNote.substr(0,1024),sessionid:e.sessionId,usedstate:e.usedState,pagepath:(e.pagepath||"").substr(0,1024),networktype:e.networktype||"",costtime:e.costTime,staytime:e.stayTime||0,referpagepath:(e.referpagepath||"").substr(0,1024),targetAction:e.targetAction||0,targetPagePath:(e.targetPagePath||"").substr(0,1024),clickTimestamp:0,publicLibVersion:e.SDKVersion,prescene:e.prescene,prescene_note:e.presceneNote,isentrance:e.isEntrance,query:e.queryArray.join("&").substr(0,1024),apptype:_.getAppType(),pagetype:0,anchorTargetText:"",clickTime:e.clickTimestamp,anchorTargetRelatedText:"",orientationChangeCount:0,startCostTime:e.startCostTime,startType:e.startType,reportTime:Date.now()};try{at(1e3,JSON.stringify(i),"immediate")}catch(e){}})(e)},R_=(e={},t={})=>{1===(e=e.isLaunch?Object.assign(t,e,k_):Object.assign(t,e)).eventId?(e.scene_note=e.scene_note||e.sceneNote||"",e.sessionid=e.sessionid||e.sessionId||"",e.prescene_note=e.prescene_note||e.presceneNote||"",e.targetPagePath=e.targetPagePath||"",e.referpagepath=e.referpagepath||"",e.clickTimestamp=e.clickTimestamp||Date.now(),e.stayTime=e.stayTime||0):2===e.eventId&&(e.targetAction=e.targetAction||0);var r=(0,Qe._getCurrentNetworkType)();"none"===r&&(r="offline"),e.networktype=r,D_(e)},L_=e=>{var t=parseInt((e.eventTime||0)/1e3,10);return[e.eventId,e.scene,t,e.stayTime||0,e.sessionId,D.default.host?D.default.host.appId:"",v_,e.instanceId].map(encodeURIComponent).join(",")},O_=(0,Oe.Hw)((e=>{v_=(0,be.M8)(),S_=e.scene,w_=Date.now(),x_=e.sessionid||e.sessionId||"";var t=e.scene,r=L_({eventId:1,scene:t,eventTime:w_,sessionId:v_,instanceId:x_});_.reportKeyValue({key:b_,value:r}),R_(e,{eventId:1,eventTime:w_,staytimeFuncpageStart:0})}),"at private.reportEnterForeground","gameSDKScriptError"),N_=(0,Oe.Hw)((e=>{var t=Date.now(),r=t-w_,n=0;0===I_?n=0:I_>0&&(0,Yf.Vc)(E_)?n=t-I_:I_>0&&/^index/.test(E_)&&(n=r);var a=S_,i=L_({eventId:2,scene:a,eventTime:t,stayTime:r,sessionId:v_,instanceId:x_});_.reportKeyValue({key:b_,value:i}),R_(e,{eventId:2,scene:a,eventTime:t,stayTime:r,staytimeFuncpageStart:n})}),"at private.reportEnterBackground","gameSDKScriptError");function j_(e){I_="number"==typeof e?e:Date.now()}var B_=0,F_=0,U_=0,W_={};function G_(){return y.getPool().length>0}D.default.onReady((()=>{F_=D.default.screenHeight,U_=D.default.screenWidth,W_=D.default.safeArea;var e=Math.max(F_,U_),t=e;W_&&W_.bottom&&(t=Math.max(W_.bottom,W_.right)),B_=e-t}));class V_ extends Rb{constructor({slotTemplate:e,slotStyle:t}={}){super({template:`\n    <view id="container">\n      <view id="wrp">\n        ${e}\n      </view>\n      <view id="footer">\n        <text id="playBtn" value="开始游戏" />\n      </view>\n    </view>`,style:Object.assign({container:{backgroundColor:"#000000",flexDirection:"column",width:U_,height:F_,zIndex:1000010},wrp:{flexDirection:"row",justifyContent:"center"},footer:{flexDirection:"row",justifyContent:"center",position:"absolute",paddingBottom:16+B_,paddingTop:12,bottom:0,left:0,width:U_,backgroundColor:"#000000"},playBtn:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#FA9D3B",width:184}},t),event:{playBtn:{click:()=>{this._handlePlayBtnClick()}}}}),G_()||setTimeout((()=>{this.preloadPackage()}),0),j_(0)}preloadPackage(){var e=eh.n.get().params,t="__APP__";if(e.userPath){var r=y.isValidGameIndependentSubpackagePath(e.userPath,D.default.subPackages);if(r){var n=t=r.root;n.endsWith(".js")||(n.endsWith("/")||(n=`${n}/`),n=`${n}game.js`),y.getGameContext().setEntry([n])}}this.loadTaskPromise=new Promise(((e,r)=>{new d_({name:t,success:e,fail:e=>{h.error("createLoadSubPackageTask fail",e),r(),(0,Me._showModal)({title:"提示",content:"加载游戏失败，请尝试重新打开游戏",showCancel:!1})}})}))}_handlePlayBtnClick(){this.runGame(1e3)}runGame(e=0){var t=eh.n.get().query,r=(0,Yf.uy)(t,"functionalpage-index.html");0===e&&(this.destroy(),eh.n.clear()),(0,Me.showLoading)({title:"加载中",maskAll:!0});var n=new Promise((t=>{setTimeout((()=>{t()}),e)})),a=null,i=[n];G_()||(a=this.loadTaskPromise,i.push(a)),Promise.all(i).then((()=>{(0,U.IN)("functionalPageStartGame",{url:r,fail(e){h.error("functionalPageStartGame fail",e)}}),a&&y.initGameJS(),(0,Me.hideLoading)(),e>0&&(this.destroy(),eh.n.clear()),(0,p_.Vh)(),j_(Date.now())}))}}var $_=0,q_=0,z_=0,K_={};function H_(e,t){var r=1;if("portrait"===(z_>q_?"landscape":"portrait")){r=(q_-2*($_+16+40+12-16))/q_}else r=.95;if("portrait"===(e>t?"landscape":"portrait")){t/e-q_/z_>=0||(r=(z_-20)/z_)}return r}D.default.onReady((()=>{q_=D.default.screenHeight,z_=D.default.screenWidth,K_=D.default.safeArea;var e=Math.max(q_,z_),t=e;K_&&K_.bottom&&(t=Math.max(K_.bottom,K_.right)),$_=e-t}));class J_ extends V_{constructor({imageUrl:e}={}){var t=1,r=0,n=0,a=e.match(/size=(\d+)x(\d+)$/);a&&(t=H_(r=+a[1],n=+a[2])),super({slotTemplate:`\n      <image-previewer id="mainImage" scale="${t}"></image-previewer>\n    `,slotStyle:{mainImage:{left:0,top:0,width:z_,height:"portrait"==(z_>q_?"landscape":"portrait")?q_:q_-($_+16+40+12)}}}),this.imageUrl=e,this.scale=t,this.width=r,this.height=n,this.sizeMatch=a,this.retried=[],(0,Db.Wj)(this).mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Me._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Me.hideLoading)()}),500)}initImageInfo(){(0,Me.showLoading)({title:"加载中",maskAll:!0}),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,U.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:n}=t,a=H_(r,n);this.showImage({width:r,height:n,url:e.tempFilePath,scale:a})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,mr.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:n,scale:a}=e,i=(0,Db.Wj)(this);"portrait"===(t>r?"landscape":"portrait")&&(i.mainImage.scale=a),i.mainImage.urls=[n],i.mainImage.update(),setTimeout((()=>{(0,Me.hideLoading)()}),500)}}var Y_=0,Q_=0,Z_=0,X_=0,ew={};D.default.onReady((()=>{Q_=D.default.screenHeight,Z_=D.default.screenWidth,X_=D.default.statusBarHeight,ew=D.default.safeArea;var e=Math.max(Q_,Z_),t=e;ew&&ew.bottom&&(t=Math.max(ew.bottom,ew.right)),Y_=e-t}));class tw extends V_{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n      <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="1000011" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n    `,n=function(){var e=Z_>Q_?"landscape":"portrait",t=Y_+16+12+40;return{mainVideo:{position:"absolute",top:"portrait"===e?X_+36:20,left:"portrait"===e?0:Y_,width:"portrait"===e?Z_:Z_-2*Y_,height:"portrait"===e?Q_-(X_+36)-t:Q_-20-t}}}();super({slotTemplate:r,slotStyle:n}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Db.Wj)(this).mainVideo.onError((()=>{(0,Me._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,Qe._getCurrentNetworkType)()){var e=(0,Db.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var rw=(0,W.s)("BottomBannerButtonClicked"),nw=rw.internalOnMethod;rw.internalOffMethod;function aw(){var e=function(){var e=(0,gf.y)().referrerInfo,t=e&&e.messageExtraData,r={};return"object"==typeof t&&null!==t&&(r=t),r}(),t=(0,gf.y)(),r=(0,Yf.CV)(t.path),n=eh.n.get();n&&n.page.destroy();var a=function(e){var{path:t,query:r,pageType:n,params:a,paramsString:i,mode:o}=e,s=null;switch(n){case Xf.Gy.PLAY_PAGE_IMAGE:s="singlePage"===o?new Ub({imageUrl:e.params.fileUrl}):new J_({imageUrl:e.params.fileUrl});break;case Xf.Gy.PLAY_PAGE_VIDEO:s="singlePage"===o?new zb({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl}):new tw({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl});break;default:s=new Ub({imageUrl:e.params.fileUrl}),h.error("PAGE_TYPE invalid",e)}return{path:t,query:r,pageType:n,params:a,paramsString:i,page:s}}({path:r.path,query:t.query,pageType:r.functionalPageType,params:e,paramsString:JSON.stringify(e),mode:t.mode});eh.n.set(a)}(0,Ye.n)("onBottomBannerButtonClicked",((e={})=>{rw.emit(e)})),D.default.onReady((()=>{(0,p_.OQ)(((e={})=>{if(!e.isLaunch)try{var t=(0,Yf.CV)(e.path),r=eh.n.get();if(r){var n=function(){var e=(0,gf.y)().referrerInfo,t=e&&e.messageExtraData,r="";return"object"==typeof t&&null!==t&&(r=JSON.stringify(t)),r}();t.isFunctionalPage?Xf.W0.includes(e.scene)&&n!==r.paramsString&&(r.page.destroy(),eh.n.clear(),aw()):r.page.runGame(0)}else t.isFunctionalPage&&aw()}catch(e){h.error("_onBaseFrameShow error",e)}})),nw((()=>{var e=eh.n.get().params,t=(0,Yf.uy)(e.userQuery,e.userPath);(0,U.IN)("restart",{url:t,scene:1155,fail(e){h.error("restart fail",e)}})}))}));var iw={parseCompletePath:Yf.CV,initFunctionalPage:aw,VALID_SCENE:Xf.W0};function ow(e,t,r,n=0){_.reportKeyValue({key:"Handoff",value:[D.default.appType+1e3,D.default.appLaunchInfo.scene,e,t,r,n,(0,Qe._getCurrentNetworkType)(),""].join(",")})}var sw=!1;yr.U.on("beforeTouchEnd",(()=>{sw=!0})),yr.U.on("afterTouchEnd",(()=>{sw=!1}));var uw="";function cw(e){return"string"==typeof e&&(uw="?"===e[0]?e:"?"+e,!0)}var lw=null;function dw(e){lw=e}function pw(){lw=null}(0,U.jQ)("onStartHandoff",(()=>{var e={};"function"==typeof lw&&("object"!=typeof(e=lw({}))&&(e={}),e.path="string"==typeof e.path?e.path:"","string"==typeof e.query&&(e.path=e.path+"?"+e.query)),(0,U.IN)("startHandoff",Object.assign({},e,{actionId:1}),{beforeSuccess:()=>ow(1,1,1),beforeFail:({errCode:e})=>ow(1,1,0,e)})}));var fw=[],hw=[],gw=p(3876),vw=p(5676),mw=(0,U.TG)("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return(0,Q.jn)(D.default.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=D.default.disableSetUserStorageFromMiniProgram),t})),yw=(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?(0,U.YG)("setUserCloudStorage",e,"invalid KVData item"):mw(e):(0,U.YG)("setUserCloudStorage",e,"KVDataList.length must greater than 0"):(0,U.YG)("setUserCloudStorage",e,"KVDataList must be an Array")},bw=p(7161),_w=(0,U.TG)("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),ww=e=>{var t=(0,bw.M)(e.keyList);t?(0,U.YG)("removeUserCloudStorage",e,t):_w(e)},Iw=p(9493),Sw=p(6789),kw={active:102,heartBeat:103,sync:104,room:105,reconnect:106,state:108,match:111,team:112},Cw=1,Tw=2,Aw=4,Pw=5,Ew=6,xw=7,Mw=8,Dw=9,Rw=10,Lw=11,Ow=12,Nw=13,jw=14,Bw=15,Fw=21,Uw=22,Ww=23,Gw=1001,Vw=1004,$w=1005,qw=1006,zw=1007,Kw=1e5,Hw=100001,Jw={broadcast:2018,roomInfoChange:2019,syncFrame:2020,receiveMessage:2021,gameStartEnd:2023,beKickedOut:2024,syncInfo:3001,friendExit:3002,friendOut:3003,friendMessage:3004,gameMatched:4001};function Yw(e){try{var t=JSON.parse(e);return!0===t.is_notify?function(e,t){var r;switch(t){case Jw.broadcast:r="broadcast";break;case Jw.roomInfoChange:r="roomInfoChange";break;case Jw.syncFrame:r="syncFrame";break;case Jw.gameStartEnd:r="gameStartEnd";break;case Jw.receiveMessage:r="receiveMessage";break;case Jw.beKickedOut:r="beKickedOut";break;case Jw.syncInfo:case Jw.friendExit:case Jw.friendOut:r="syncInfo";break;case Jw.friendMessage:r="friendMessage";break;case Jw.gameMatched:r="gameMatched";break;default:r=""}return{type:r,data:e.data}}(t,t.notify_cmd):function(e){var t,{businessid:r,ts:n,data:a,ret:i}=e;switch(r){case kw.active:return{type:"active",ts:n,errCode:i};case kw.heartBeat:return{type:"heartBeat",ts:n,errCode:i};case kw.sync:case kw.room:if(0!==i)return{type:`resp-${n}`,ts:n,errCode:i};var o=JSON.parse(a);return t={type:`resp-${n}`,ts:n,errCode:o.errcode,errMsg:o.errmsg},o.resp_data&&(t.data=JSON.parse(o.resp_data)),t;case kw.state:case kw.match:case kw.team:if(0!==i)return{type:`resp-${n}`,ts:n,errCode:i};var s=JSON.parse(a);return t={type:`resp-${n}`,ts:n,errCode:s.errcode,errMsg:s.errmsg},s.resp_data&&(t.data=JSON.parse(s.resp_data)),t;case kw.reconnect:return 0!==i?{type:`resp-${n}`,ts:n,errCode:i}:t={type:`resp-${n}`,ts:n,errCode:0,data:{clientId:a}};default:h.error("Unknown WebSocket Message:",e)}}(t)}catch(e){return{type:"error",data:e.message}}}const Qw={webSocketState:0,roomAccessInfo:"",gameAccessInfo:"",clientId:0,sessionId:"",socketTask:null,lockStep:null,connectedToRoom:!1,connectedToGame:!1,hasGameStarted:!1,roomInfo:null,hasLoggedIn:!1,loginPromise:null};var Zw,Xw={getCredentialsFail:217,startLockStepFail:218,getLostFramesFail:219},eI=e=>{var t=Xw[e];t?_.reportIDKey({key:t}):h.error(`invalid name "${e}"`)},tI="wss://long.wxagame.weixin.qq.com",rI=new jn.Z;class nI{constructor(e,t={}){return this.options=Object.assign({heartBeat:!0,heartBeatInterval:15e3,heartBeatTimeout:3e4},t),this._emitter=new jn.Z,this._setSocket(e),this._bindHandlers(),this}_setSocket(e){this._socketTask=e,this._socketTask.onOpen(this._emitter.emit.bind(this._emitter,"ws-open")),this._socketTask.onClose(this._emitter.emit.bind(this._emitter,"ws-close")),this._socketTask.onError(this._emitter.emit.bind(this._emitter,"ws-error")),this._socketTask.onMessage(this._emitter.emit.bind(this._emitter,"ws-message"))}_bindHandlers(){this._emitter.on("ws-open",(()=>{this._emitter.once("recv-active",(e=>{0===e.errCode?this._emitter.emit("open",e):this._emitter.emit("error",e)})),this._sendRawPacket(kw.active).catch((e=>{this._emitter.off("recv-active"),this._emitter.emit("error",e)}))})).on("ws-message",(e=>{var t=Yw(e.data);"error"===t.type&&h.error("响应数据异常",t.data),this._emitter.emit(`recv-${t.type}`,t),rI.emit(`recv-${t.type}`,t)})).on("open",(()=>{this._sendHeartBeat()})).on("error",(()=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-error",(e=>{h.error("socket error:",e),this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-close",(e=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer),Zw=void 0,Qw.hasLoggedIn=!1,Qw.loginPromise=null,this._emitter.emit("logout",e)})).on("heartBeat-error",(e=>{})).on("logout",(e=>{rI.emit("logout",e)}))}_sendHeartBeat(){this.options.heartBeat&&(this._heartBeatTimer=setTimeout((()=>{this._sendRawPacket(kw.heartBeat).catch((e=>{this._emitter.emit("heartBeat-error",e)})),this._emitter.once("recv-heartBeat",(e=>{0===e.errCode?(this._emitter.emit("heartBeat-ok",e),this._heartBeatTimeout&&clearTimeout(this._heartBeatTimeout),this._sendHeartBeat()):this._emitter.emit("heartBeat-error",e)})),this._heartBeatTimeout=setTimeout((()=>{this._emitter.emit("logout")}),this.options.heartBeatTimeout)}),this.options.heartBeatInterval))}_sendRawPacket(e,t=void 0,r=void 0,n=void 0){return new Promise((e=>{Zw?e(Zw):(0,U.yD)({apiName:"webapi_getlockstepticket",success:t=>{var r=t.data;Zw=r.socket_key,e(Zw),Qw.sessionId=Zw},fail:e=>{eI(Xw.getCredentialsFail),h.error("getCredentials",e.errMsg)}})})).then((a=>new Promise(((i,o)=>{var s={session_id:a,fast:1,businessid:e,data:t,access_info:r,ts:(n||Date.now())+""};e===kw.sync&&delete s.session_id,this._socketTask.send({data:JSON.stringify(s),success:i,fail:o})}))))}_listenForResponse(e,t,r,n){this._emitter.once(`recv-resp-${e}`,(e=>{delete e.type,delete e.ts,n.beforeAll&&n.beforeAll(e),0===e.errCode?(n.beforeSuccess&&n.beforeSuccess(e),t(e),n.afterSuccess&&n.afterSuccess(e)):(n.beforeFail&&n.beforeFail(e),r(e),n.afterFail&&n.afterFail(e)),n.afterAll&&n.afterAll(e)}))}sendCommand(e,t,r){var n;switch(e){case Tw:case Pw:case Aw:n=kw.sync;break;case Rw:n=kw.reconnect;break;case Gw:case Vw:case $w:case qw:case zw:n=kw.state;break;case Kw:case Hw:n=kw.match;break;default:n=kw.room}return new Promise(((a,i)=>{var{content:o,accessInfo:s}=t,u=Date.now();this._listenForResponse(u,a,i,r),this._sendRawPacket(n,JSON.stringify({cmd:e,content:JSON.stringify(o)}),s,u).then((()=>{})).catch((e=>{i(e)}))}))}close(e){return this._socketTask.close(e)}onOpen(e){this._emitter.on("open",e)}onClose(e){this._emitter.on("close",e)}onError(e){this._emitter.on("error",e)}onMessage(e){this._emitter.on("recv-message",e)}}function aI(e={}){return new nI(function(e={}){var t=Object.assign({},e,{url:tI});return(0,Sw.as)().connectSocket(t)}(e),e)}function iI(e){return"Object"===(0,Q.Em)(e)?Object.keys(e).reduce(((t,r)=>{var n,a;return e[r]=iI(e[r]),t[(n=r,a=n.replace(/_+(\w)/g,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]})),a)]=e[r],t}),{}):Array.isArray(e)?e.map(iI):e}function oI(e){return"Object"===(0,Q.Em)(e)?Object.keys(e).reduce(((t,r)=>{var n;return e[r]=oI(e[r]),t[(n=r,n.split(/(?=[A-Z])/).join("_").toLowerCase())]=e[r],t}),{}):Array.isArray(e)?e.map(oI):e}function sI(){var e={gameTick:33,UDPReliabilityStrategy:3,heartBeatTick:2e3,offlineTimeLength:15e3,dataType:"String"};return(0,Q.Kn)(D.default.lockStepOptions)?(["gameTick","UDPReliabilityStrategy","heartBeatTick","offlineTimeLength"].forEach((t=>{(0,Q.hj)(D.default.lockStepOptions[t])?e[t]=D.default.lockStepOptions[t]:console.warn(`game.json: lockStepOptions.${t} is not a Number, using default value ${e[t]}`)})),["String","ArrayBuffer"].indexOf(D.default.lockStepOptions.dataType)&&console.warn('game.json: lockStepOptions.dataType "WXConfig.lockStepOptions.dataType" is invalid, using default value "String"'),e):(console.warn("game.json: lockStepOptions is not an Object, using default options.",e),e)}var uI=new jn.Z;var cI=1,lI=0,dI=1,pI=2,fI=3,hI=4,gI=5,vI=6,mI=6;const yI=class{constructor(){if(O.Z.LockStep){this.emitter=new jn.y;try{this.nativeInstance=new O.Z.LockStep}catch(e){h.warn(`[LockStep] new 失败 ${e.message}`)}h.warn("[LockStep] new 成功",this.nativeInstance);var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:n,dataType:a}=sI(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:n,gameTick:r,dataType:a,address:"long.wxagame.weixin.qq.com",port:10010};h.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${a}, address=${i.address}, port=${i.port}`),this.nativeInstance.initialize(i),this.nativeInstance.onStatusChange=e=>{var{status:t}=e,{requestId:r}=e;if(delete e.status,r)this.emitter.emit(`${t}_${r}`,e);else{switch(t){case lI:this.emitter.emit("onDisconnect");break;case gI:this.emitter.emit("onError"),uI.emit("error",e)}this.emitter.emit(t,e)}},this.nativeInstance.onSyncFrame=e=>{this.emitter.emit("onSyncFrame",e)}}else h.error("当前环境不支持 LockStep")}uploadFrame({actionList:e}){return new Promise(((t,r)=>{try{this.nativeInstance.uploadFrame({actionList:e}),t()}catch(e){h.error(`[LockStep.uploadFrame][fail] errMsg=${e.message}`),r({errMsg:e.message})}}))}getLostFrames({beginFrameId:e,endFrameId:t}){var r=cI++;return new Promise(((n,a)=>{this.nativeInstance.getLostFrames({beginFrameId:e,endFrameId:t,requestId:r}),this.emitter.once(`${vI}_${r}`,n),this.emitter.once(`${mI}_${r}`,(e=>{eI(Xw.getLostFramesFail),h.error(`[LockStep.getLostFrames][fail], errMsg=${e.errMsg}, errCode=${e.errCode}`),a(e)}))}))}reconnect({accessInfo:e,clientId:t,sessionId:r}){var n=cI++;return new Promise(((a,i)=>{this.nativeInstance.reconnect({accessInfo:e,clientId:t,sessionId:r,requestId:n}),this.emitter.once(`${fI}_${n}`,a),this.emitter.once(`${hI}_${n}`,i)}))}onSyncFrame(e){this.emitter.on("onSyncFrame",e)}offSyncFrame(e){this.emitter.off("onSyncFrame",e)}startLockStep({accessInfo:e,clientId:t,sessionId:r}){var n=cI++;return new Promise(((a,i)=>{this.nativeInstance.startLockStep({accessInfo:e,clientId:t,sessionId:r,requestId:n}),this.emitter.once(`${dI}_${n}`,a),this.emitter.once(`${pI}_${n}`,i)}))}stopLockStep(){var e=cI++;this.nativeInstance.stopLockStep({requestId:e})}onError(e){this.emitter.on("onError",e)}offError(e){this.emitter.off("onError",e)}onDisconnect(e){this.emitter.on("onDisconnect",e)}offDisconnect(e){this.emitter.off("onDisconnect",e)}};var bI=new jn.y;(0,U.jQ)("onLockStepTaskEvent",(({id:e,event:t,...r})=>{bI.emit(`${e}_${t}`,r),uI.emit(t,r)}));const _I=class{constructor(){this._createLockStep(),this._initialize(),this._registerMethod(),this._registerEvent()}_createLockStep(){var e="createLockStep 没有同步回调";if((0,U.IN)("createLockStep",{success:({id:e})=>{this.id=e},fail(t){h.error(`[createLockStep][fail]errMsg=${t.errMsg}`),e=t.errMsg}}),(0,Q.o8)(this.id))throw new Error(e)}_initialize(){var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:n,dataType:a}=sI(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:n,gameTick:r,dataType:a,address:"long.wxagame.weixin.qq.com",port:10010};h.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${i.dataType}, address=${i.address}, port=${i.port}`),this._invokeLockStepMethod("initialize",i)}_invokeLockStepMethod(e,t){(0,U.IN)("invokeLockStepMethod",Object.assign({},t,{method:e,id:this.id}),{beforeAll(t){t.errMsg=t.errMsg.replace("invokeLockStepMethod",`GameServerManager.${e}`),delete t.id,delete t.cmdId}})}_registerMethod(){["uploadFrame","getLostFrames","reconnect","startLockStep","stopLockStep"].forEach((e=>{this[e]=t=>new Promise(((r,n)=>{this._invokeLockStepMethod(e,Object.assign({},t,{success:r,fail:n}))}))}))}_registerEvent(){["syncFrame","disconnect","error"].forEach((e=>{var t=(0,W.s)(`LockStep_${this.id}_${e}`);this[`on${(0,Oe.fm)(e)}`]=t.onMethod,this[`off${(0,Oe.fm)(e)}`]=t.offMethod,bI.on(`${this.id}_${e}`,((e={})=>{t.emit(e)}))}))}};const wI=class{constructor(){return N.gm?new _I:new yI}};function II(){}const SI=class{constructor({wsEventName:e,nativeEventName:t,needJSONParse:r=!1,beforeEvent:n=II}){if(Object.assign(this,{wsEventName:e,nativeEventName:t,needJSONParse:r,beforeEvent:n}),this.hasListenedNativeEvent=!1,e)this.internalEventManager=(0,W.s)(`GSM-${this.wsEventName}`),this.initWSEvent();else{if(!t)throw new Error(`invalid wsEventName "${e}" and nativeEventName "${t}"`);this.internalEventManager=(0,W.s)(`GSM-${this.nativeEventName}`)}}initWSEvent(){rI.on(this.wsEventName,(e=>{this.needJSONParse?e=iI(JSON.parse(e.data)):e.data=iI(e.data),this.beforeEvent(e),this.internalEventManager.emit(e)})),this.onMethod=this.internalEventManager.onMethod,this.offMethod=this.internalEventManager.offMethod}onMethod(e){this.hasListenedNativeEvent||(this.hasListenedNativeEvent=!0,Qw.lockStep||(Qw.lockStep=new wI),Qw.lockStep[this.nativeEventName](((e={})=>{this.beforeEvent(e),this.internalEventManager.emit(e)}))),this.internalEventManager.onMethod(e)}offMethod(e){this.internalEventManager.offMethod(e)}};var kI=new SI({nativeEventName:"onDisconnect",beforeEvent(e){e.type="game",Qw.connectedToGame=!1}}),CI=kI.onMethod.bind(kI),TI=kI.offMethod.bind(kI),AI=kI.internalEventManager.emit,PI={errCode:1001,errMsg:"has not logged in to server"};function EI(){}const xI=class{constructor({command:e,nativeMethodName:t,expectedArgs:r={},beforeInvoke:n=EI,beforeSend:a=EI,beforeSuccess:i=EI,autoFillAccessInfo:o=!0,functionType:s=1}){this.command=e,this.nativeMethodName=t,this.expectedArgs=r,this.beforeInvoke=n,this.beforeSend=a,this.beforeSuccess=i,this.autoFillAccessInfo=o,this.functionType=s}checkType(e,t,r){var n=(0,Q.Em)(r);if(n!==t)throw new Error(`${e} should be ${t} instead of ${n}`)}assertType(e){if("Object"!==(0,Q.Em)(e))throw new Error(`args should be object instead of ${(0,Q.Em)(e)}`);for(var t in this.expectedArgs)this.checkType(t.type,e[this.expectedArg.name])}checkIsCallbackStyle(e={}){return"Function"===(0,Q.Em)(e.success)||"Function"===(0,Q.Em)(e.fail)||"Function"===(0,Q.Em)(e.complete)}sendCommand({rawArgs:e}){return Qw.hasLoggedIn?new Promise(((t,r)=>{var n={accessInfo:this.autoFillAccessInfo?Qw.roomAccessInfo:e.accessInfo,content:oI(e)};delete n.content.access_info,this.beforeSend(n,e),Qw.socketTask.sendCommand(this.command,n,{}).then((e=>{e=iI(e);var n=this.beforeSuccess(e);n instanceof Promise?n.then((()=>{t(e)})).catch((e=>{r(e)})):t(e)})).catch((e=>{r(e)}))})):Promise.reject(PI)}callNative({rawArgs:e}){var t=Object.assign({},e);return delete t.success,delete t.fail,delete t.complete,["login","reconnect"].includes(this.nativeMethodName)&&(t.sessionId=Qw.sessionId,t.clientId=Qw.clientId),Qw.lockStep||(Qw.lockStep=new wI),Qw.lockStep[this.nativeMethodName](t)}invokeMethod(e={}){this.assertType(e),this.beforeInvoke(e);var t,r=this.checkIsCallbackStyle(e);switch(this.functionType){case 1:t=this.sendCommand({rawArgs:e});break;case 2:t=this.callNative({rawArgs:e});break;default:throw new Error(`invalid function type: ${this.functionType}`)}return r?void t.then((t=>{e.success&&e.success(t),e.complete&&e.complete(t)})).catch((t=>{e.fail&&e.fail(t),e.complete&&e.complete(t)})):t}};var MI=new xI({command:Mw,beforeSend(e){var{gameTick:t,UDPReliabilityStrategy:r}=sI();e.content.udp_reliability_strategy=r,e.content.game_tick=t},beforeSuccess(e){Qw.gameAccessInfo&&Qw.lockStep.stopLockStep();var{accessInfo:t,clientId:r}=e.data;Qw.roomAccessInfo=t,Qw.gameAccessInfo="",Qw.connectedToRoom=!0,Qw.clientId=r}}),DI=MI.invokeMethod.bind(MI),RI=new xI({command:Dw,autoFillAccessInfo:!1,beforeSend(e){this.tempAccessInfo=e.accessInfo},beforeSuccess(e){var{clientId:t}=e.data;Qw.roomAccessInfo=this.tempAccessInfo,Qw.gameAccessInfo="",Qw.connectedToRoom=!0,Qw.clientId=t}}),LI=RI.invokeMethod.bind(RI),OI=new xI({command:Lw}),NI=OI.invokeMethod.bind(OI),jI=new xI({command:Ow}),BI=jI.invokeMethod.bind(jI),FI=new xI({command:Bw}),UI=FI.invokeMethod.bind(FI),WI=new xI({command:Ew}),GI=WI.invokeMethod.bind(WI),VI=new xI({command:jw,beforeSend(e){e.content.quit=!0},beforeSuccess(){Qw.gameAccessInfo&&Qw.lockStep.stopLockStep(),Qw.roomAccessInfo="",Qw.gameAccessInfo=""}}),$I=VI.invokeMethod.bind(VI),qI=new xI({command:Nw,beforeSuccess(){Qw.gameAccessInfo&&Qw.lockStep.stopLockStep(),Qw.roomAccessInfo="",Qw.gameAccessInfo=""}}),zI=qI.invokeMethod.bind(qI),KI=new xI({command:Cw,beforeSend(e){e.content.use_udp_to_lockstep=!0}}),HI=KI.invokeMethod.bind(KI),JI=new xI({command:xw,beforeInvoke(){if(!Qw.gameAccessInfo)throw new Error("game has not started")},beforeSend(e){e.content.use_udp_to_lockstep=!0}}),YI=JI.invokeMethod.bind(JI),QI=new xI({functionType:2,nativeMethodName:"uploadFrame"}),ZI=QI.invokeMethod.bind(QI),XI=new xI({functionType:2,nativeMethodName:"getLostFrames"}),eS=XI.invokeMethod.bind(XI),tS=new SI({wsEventName:"recv-broadcast",needJSONParse:!0}),rS=tS.onMethod,nS=tS.offMethod,aS=new SI({wsEventName:"recv-roomInfoChange",needJSONParse:!0,beforeEvent(e){Qw.roomInfo=e}}),iS=aS.onMethod,oS=aS.offMethod;new SI({wsEventName:"recv-gameStartEnd",needJSONParse:!0}).onMethod((({state:e,accessInfo:t})=>{switch(e){case 2:h.warn(`[onGameStart] accessInfo=${t}`),Qw.gameAccessInfo=t,Qw.lockStep||(Qw.lockStep=new wI),Qw.lockStep.startLockStep({accessInfo:t,clientId:Qw.clientId,sessionId:Qw.sessionId}).then((()=>{Qw.connectedToGame=!0,Qw.hasGameStarted=!0,sS.emit({}),h.warn("[onGameStart][LockStep.start][success]")})).catch((e=>{eI(Xw.startLockStepFail),h.error("[onGameStart][LockStep.start][fail]",e)}));break;case 3:h.warn("[onGameEnd]"),Qw.lockStep.stopLockStep(),Qw.hasGameStarted=!0,lS.emit({gameAccessInfo:Qw.gameAccessInfo}),Qw.gameAccessInfo=""}}));var sS=(0,W.s)("LockStepGameStart"),uS=sS.onMethod,cS=sS.offMethod,lS=(0,W.s)("LockStepGameEnd"),dS=lS.onMethod,pS=lS.offMethod,fS=new SI({nativeEventName:"onSyncFrame",beforeEvent(){Qw.hasGameStarted||(Qw.hasGameStarted=!0,Qw.connectedToGame=!0,sS.emit({}))}}),hS=fS.onMethod.bind(fS),gS=fS.offMethod.bind(fS),vS=(()=>{var e=new xI({command:Rw,autoFillAccessInfo:!1});return e.invokeMethod.bind(e)})(),mS=(()=>{var e=new xI({functionType:2,nativeMethodName:"reconnect",beforeSuccess(){Qw.connectedToGame=!0}});return e.invokeMethod.bind(e)})();function yS(e){if(Qw.connectedToGame)return Promise.resolve({});switch(e.roomState){case 1:return Promise.resolve({});case 2:case 5:var{gameAccessInfo:t}=e;return Qw.gameAccessInfo=t,mS({accessInfo:t,clientId:Qw.clientId,sessionId:Qw.sessionId});case 3:return Promise.reject({errMsg:"the room state is ended."});case 4:return Promise.reject({errMsg:"the room state is destroyed"});default:return Promise.reject({errMsg:`invalid room state: ${e.roomState}`})}}var bS=new xI({command:Fw}),_S=bS.invokeMethod.bind(bS),wS=new xI({command:Uw}),IS=wS.invokeMethod.bind(wS),SS=new SI({wsEventName:"recv-beKickedOut",needJSONParse:!1,beforeEvent(e){Qw.gameAccessInfo&&Qw.lockStep.stopLockStep(),Qw.roomAccessInfo="",Qw.gameAccessInfo="",h.warn("[onBeKickedOut]",e)}}),kS=SS.onMethod.bind(SS),CS=SS.offMethod.bind(SS),TS=new xI({command:Ww}),AS=TS.invokeMethod.bind(TS),PS=new xI({command:Gw}),ES=PS.invokeMethod.bind(PS),xS=new xI({command:$w}),MS=xS.invokeMethod.bind(xS),DS="";var RS=new xI({command:qw}),LS=RS.invokeMethod.bind(RS);var OS=new xI({command:zw}),NS=OS.invokeMethod.bind(OS),jS=new SI({wsEventName:"recv-syncInfo",needJSONParse:!0}),BS=jS.onMethod,FS=jS.offMethod,US=new jn.Z;new SI({wsEventName:"recv-friendMessage",needJSONParse:!0}).onMethod((e=>{e.msg=JSON.parse(e.msg),US.emit(e.msg.type,e)}));var WS=new WeakMap;var GS=new xI({command:Kw}),VS=GS.invokeMethod.bind(GS),$S=new xI({command:Hw}),qS=$S.invokeMethod.bind($S),zS=new SI({wsEventName:"recv-gameMatched",needJSONParse:!0}),KS=zS.onMethod,HS=zS.offMethod,JS={login:()=>(Qw.loginPromise||(Qw.loginPromise=new Promise(((e,t)=>{var r=e=>{h.error("connectSocketError",e),t(e.errMsg)};Qw.socketTask=aI(),Qw.socketTask._emitter.once("recv-active",(()=>{Qw.hasLoggedIn=!0,e(),Qw.socketTask._emitter.off("ws-error",r)})),Qw.socketTask._emitter.once("ws-error",r)}))),Qw.loginPromise),logout:()=>new Promise(((e,t)=>{if(!Qw.socketTask)return e();try{Qw.socketTask.close(),Qw.socketTask._emitter.once("ws-close",e),delete Qw.socketTask}catch(e){h.error("GameServerManager.logout() fail",e.message),t(e.message)}})),onLogout:e=>{rI.on("logout",(()=>{e(),Qw.roomAccessInfo&&AI({type:"room"})}))},offLogout:e=>{rI.off("logout",e)},createRoom:DI,joinRoom:LI,updateReadyStatus:NI,changeSeat:BI,getRoomInfo:UI,broadcastInRoom:GI,ownerLeaveRoom:zI,memberLeaveRoom:$I,startGame:HI,endGame:YI,uploadFrame:ZI,getLostFrames:eS,reconnect:e=>{return h.warn("[reconnect][invoke]",e),(t=e.accessInfo,vS({accessInfo:t}).then((e=>(h.warn(`[roomReconnect][success]accessInfo=${t}, clientId=${e.data.clientId}`),Qw.roomAccessInfo=t,Qw.connectedToRoom=!0,Qw.clientId=Number(e.data.clientId),UI()))).then((e=>(h.warn("[getRoomInfo][success]",e),Qw.roomInfo=e.data.roomInfo,Qw.roomInfo.gameAccessInfo&&(Qw.gameAccessInfo=Qw.roomInfo.gameAccessInfo),Promise.resolve(Qw.roomInfo))))).then(yS);var t},getLastRoomInfo:_S,kickoutMember:IS,restart:AS,onBroadcast:rS,offBroadcast:nS,onRoomInfoChange:iS,offRoomInfoChange:oS,onSyncFrame:hS,offSyncFrame:gS,onGameStart:uS,offGameStart:cS,onGameEnd:dS,offGameEnd:pS,onDisconnect:CI,offDisconnect:TI,onBeKickedOut:kS,offBeKickedOut:CS,onLockStepError:function(e){"function"==typeof e&&uI.on("error",e)},offLockStepError:function(e){"function"==typeof e?uI.off("error",e):uI.removeAllListeners("error")},startStateService:ES,endStateService:MS,setState:NS,setInviteData:function(e){return"string"==typeof e&&(DS=e,!0)},onInvite:function(e){var t=({srcProfile:t,msg:r})=>{var{data:n}=r,{nickName:a,openId:i}=t,o=i+"_"+Date.now(),s=[i,"",1,o].join(",");_.reportKeyValue({key:"GameServerInvite",value:s}),(0,Me._showModal)({confirmText:"加入",cancelText:"取消",content:`${a} 邀请你一起玩游戏，是否加入？`,success:t=>{t.confirm&&e({openId:i,data:n});var r=[i,"",t.confirm?2:3,o].join(",");_.reportKeyValue({key:"GameServerInvite",value:r})}})};WS.set(e,t),US.on("invite",t)},offInvite:function(e){US.off("invite",WS.get(e)),WS.delete(e)},startMatch:VS,cancelMatch:qS,onMatch:KS,offMatch:HS},YS={inviteFriend:function({openId:e}){LS({target_openid_list:[e],msg:JSON.stringify({type:"invite",data:DS})})},onStateUpdate:BS,offStateUpdate:FS,getFriendsStateData:(e={})=>{Nu("getFriendsStateData").catch((e=>({success:!0}))).then((({success:t,errMsg:r,errno:n})=>{t?(0,U.TG)("getFriendsStateData","webapi_opengameinfo_getfriendsuserdata",(()=>{}),(e=>{var{friend_data_list:t}=e;return e.list=t?t.map((({game_info:e,profile:t})=>({userState:e.user_state,sysState:e.sys_state,openId:e.open_id,nickName:t.nick_name,avatarUrl:t.avatar_url,gender:t.gender}))):[],delete e.friend_data_list,e}))(e):(0,U.FE)({name:"getFriendsStateData",args:e,errno:n,errMsg:r,success:!1})}))}},QS=()=>JS,ZS=new WeakMap;class XS extends Number{}Object.freeze(XS),Object.freeze(XS.prototype);var ek=()=>new XS(9999);class tk{constructor(){ZS.set(this,new WeakMap)}setTimeout(){var e=ZS.get(this),t=O.Z.setTimeout.apply(void 0,arguments),r=ek();return e.set(r,t),r}clearTimeout(e){var t=ZS.get(this).get(e);void 0!==t&&O.Z.clearTimeout(t)}setInterval(){var e=ZS.get(this),t=O.Z.setInterval.apply(void 0,arguments),r=ek();return e.set(r,t),r}clearInterval(e){var t=ZS.get(this).get(e);void 0!==t&&O.Z.clearInterval(t)}requestAnimationFrame(){var e=ZS.get(this),t=O.Z.requestAnimationFrame.apply(void 0,arguments),r=ek();return e.set(r,t),r}cancelAnimationFrame(e){var t=ZS.get(this).get(e);void 0!==t&&O.Z.cancelAnimationFrame(t)}}var rk,nk=()=>{var e=new tk;return{setTimeout:e.setTimeout.bind(e),clearTimeout:e.clearTimeout.bind(e),setInterval:e.setInterval.bind(e),clearInterval:e.clearInterval.bind(e),requestAnimationFrame:e.requestAnimationFrame.bind(e),cancelAnimationFrame:e.cancelAnimationFrame.bind(e)}},ak=p(7597),ik=p(7497),ok=(0,U.TG)("routeJSServer","routeJsSvr",(({name:e="",arg:t=""})=>({json_args:JSON.stringify({data:JSON.stringify({arg:t,name:e})})})),(e=>{if(!e.rawDataObject)return e.errMsg,e;var{data:t,log:r}=e.rawDataObject;return e.data=JSON.parse(t),e.log=r,e.baseResp=JSON.parse(e.base_resp),e.baseResp.errCode=e.baseResp.errcode,e.baseResp.errMsg=e.baseResp.errmsg,delete e.base_resp,delete e.baseResp.errcode,delete e.baseResp.errmsg,e})),sk=p(971),uk=p(3749),ck=p(4161),lk={muteMicrophone:!1,muteEarphone:!1};function dk(e){return(0,Q.Kn)(e)?sl()?{muteMicrophone:!0,muteEarphone:!0}:((0,Q.jn)(e.muteMicrophone)&&(lk.muteMicrophone=e.muteMicrophone),(0,Q.jn)(e.muteEarphone)&&(lk.muteEarphone=e.muteEarphone),lk):lk}var pk=()=>{(0,Me._showModal)({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},fk=e=>{"boolean"==typeof rk?(rk&&pk(),e(rk)):(0,N.aI)()?(0,U.yD)({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(pk(),e(rk=!0)):e(!1===r&&(rk=!1))},fail(){e(!1)}}):e(rk=!1)},hk=p(3691),gk=function(e){if((0,U.r3)("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:dk(e.muteConfig),handsFree:!(0,Q.jn)(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=(0,ke.hI)(this);r.privateData=JSON.stringify({pluginId:e});var t=()=>{(0,U.qu)(e)("joinVoIPChat",r,{beforeSuccess(e){(0,hk.gA)(),(0,U.nY)("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=(e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}})(e.errMsg))}})};r.muteConfig.muteMicrophone?t():fk((e=>{e&&(r.muteConfig.muteMicrophone=!0),t()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):(0,hk.Nv)().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},vk=function(e){try{var t=(0,ke.hI)(this);(0,U.qu)(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";(0,U.nY)("exitVoIPChat",{}),(0,U.FE)({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";(0,U.FE)({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},mk=function(e){if((0,U.r3)("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=(0,ke.hI)(this),r=Object.assign({},e,{muteConfig:dk(e.muteConfig),handsFree:!(0,Q.jn)(e.handsFree)||e.handsFree}),n=()=>{(0,U.qu)(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():fk((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},yk=(0,W.s)("voIPChatMembersChanged"),bk=yk.onMethod,_k=yk.offMethod;(0,U.jQ)("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",yk.emit(e)}));var wk=e=>{try{(0,U.jQ)("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&b.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&b.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},Ik=()=>{(0,U.jQ)("onVoIPChatSpeakersChanged",(()=>{}))},Sk=(0,W.s)("VoIPChatInterrupted"),kk=e=>{e.errCode||(e.errCode=((e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3)(e.reason)),Sk.emit(e)};(0,U.jQ)("onVoIPChatInterrupted",(e=>{kk(e)})),(0,U.jQ)("onVoIPChatInterruptedJsEvent",(e=>{kk(e)}));var Ck=Sk.onMethod,Tk=Sk.offMethod,Ak=(0,W.s)("VoIPVideoMembersChanged"),Pk=Ak.onMethod,Ek=Ak.offMethod;(0,U.jQ)("onVoIPVideoMembersChanged",((e={})=>{Ak.emit(e)}));var xk=(0,W.s)("voIPChatStateChanged"),Mk=xk.onMethod,Dk=xk.offMethod;(0,U.jQ)("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",xk.emit(e)}));var Rk,Lk=f.log,Ok=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),Nk=()=>{if(Rk)return Rk;if(Rk={},D.default.appContactInfo&&D.default.appContactInfo.call_plugin_info)for(var e=D.default.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],n=r.plugin_id;Rk[n]=Ok({version:r.inner_version,customVersion:r.plugin_version||""})}else D.default.plugins&&Object.keys(D.default.plugins).forEach((e=>{var t=D.default.plugins[e],r=t.provider;Rk[r]=Ok({version:0,customVersion:t.version||""})}));return Rk};var jk=()=>{Lk("start to invokeGetContact");var e=[],t={};if(Object.keys(Rk).forEach((r=>{e.push(r),t[r]=Rk[r].customVersion})),0!==e.length)return new Promise((t=>(0,U.IN)("batchGetContact",{appIds:e,success({contactList:e}){Lk("batchGetContact result -> ",e),function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t],n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&r.plugin_list[0]&&Rk[n]){var a=r.plugin_list[0].PluginNetWork||{};Rk[n].domains={request:a.RequestDomain||[],uploadFile:a.UploadDomain||[],downloadFile:a.DownloadDomain||[],connectSocket:a.WsRequestDomain||[],tcp:a.TCPDomain||[]}}}}(e),t()}})));Lk("appids are empty, skip invokeGetContact.")},Bk=p(9883),Fk={request:q.pR,uploadFile:Bk.O,downloadFile:mr.o,connectSocket:(0,Sw.as)().connectSocket},Uk=p(2517),Wk=!1;D.default.onReady((()=>{if(N.gm)Wk=!1===D.default.urlCheck;else{var e=D.default.envVersion&&"release"!==D.default.envVersion,t=!0===D.default.debug;Wk=e&&t}}));var Gk=function(e,t,r){return new Promise(((n,a)=>{(0,U.IN)("checkNetworkAPIURL",{api:e,url:t,success(e){var i=((e,t)=>{if(h.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,Uk.Qc)(e||""),n=0;n<t.length;n++){var a=t[n]||"",i=(0,Uk.Qc)(a);if(i.protocol===r.protocol&&i.hostname===r.hostname&&i.port===r.port)return!0}return!1})(t,r),o=i||e.isInLAN&&!e.isLocalHost,s="";o||(s=`Url "${t}" not in plugin's domain list.`,Wk&&console.warn(s+" This network request will be blocked in release version.")),Wk||o?n():a(s)},fail(e){a(e.errMsg||"check url failed.")}})}))},Vk=null,$k={};Object.keys(Fk).forEach((e=>{$k[e]=function(t={}){var r=(0,ke.hI)(this),n=Object.assign({},t);return n.customCheck=(t,n)=>{(Vk||(Nk(),Vk=jk()),Vk).then((()=>{((t,n)=>{var a=Nk()[r];h.info(`[Plugin] pluginInfo ${r}, ${JSON.stringify(a)}`);var i=e,o=a.domains[i];"connectSocket"===e&&(i="websocket"),Gk(i,t.url,o).then((()=>{n(null)})).catch((e=>{var t=(0,Q.HD)(e)?e:"check url failed.";n(t)}))})(t,n)}))},Fk[e].call(this,n)}}));const qk=$k;var zk={createWorker:iv,updateVoIPChatMuteConfig:mk,onVoIPChatStateChanged:Mk,onVoIPChatSpeakersChanged:wk,onVoIPChatMembersChanged:bk,onVoIPChatInterrupted:Ck,offVoIPChatStateChanged:Dk,offVoIPChatSpeakersChanged:Ik,offVoIPChatMembersChanged:_k,offVoIPChatInterrupted:Tk,joinVoIPChat:gk,exitVoIPChat:vk,onVoIPVideoMembersChanged:Pk,offVoIPVideoMembersChanged:Ek,request:qk.request,uploadFile:qk.uploadFile,downloadFile:qk.downloadFile,connectSocket:qk.connectSocket,getAccountInfoSync:function(){var e=Nk(),t=(0,st.E)(),r=(0,ke.hI)(this);return t.plugin={appId:r||"",version:(0,ke.hb)(e[r].customVersion)},t},login:function(e={}){var t="login",r=(0,ke.hI)(this),n=Object.assign({},e,{miniprogram_appid:D.default.accountInfo.appId}),{success:a,fail:i,failWithMsg:o}=(0,U.Rn)(e,t);(0,Rn.uC)(r,"setPluginLoginAuth")?Nn.call(this,{success(){(0,U.yD)({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,a(e)},fail:i})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},getRealtimeLogManager:function(e){var t=(0,ke.hI)(this),r=Nk()[t];return((e,t,r)=>{r=r||{};var n="develop"===D.default.envVersion||"trial"===D.default.envVersion;return r.isClientReport=!n,nf(r,e,t)})(t,null==r?void 0:r.version,e)}},Kk=({provider:e})=>{var t={env:{USER_DATA_PATH:(0,sk.EH)(e)},getFileSystemManager:()=>(0,K.M6)(e),onKeyboardConfirm:(0,Ph.HX)(e),offKeyboardConfirm:(0,Ph.LU)(e),onKeyboardComplete:(0,Ph.$b)(e),offKeyboardComplete:(0,Ph.WB)(e),onKeyboardHeightChange:(0,Ph.O6)(e),offKeyboardHeightChange:(0,Ph.L6)(e)};return(0,ck.oq)(t,{provider:e}),Object.keys(zk).forEach((e=>{t[e]=zk[e].bind(t)})),t},Hk={},Jk=(e,t)=>{Hk[e]=t},Yk=Symbol("IS_SUB_PACKAGE_INJECT_API"),Qk=Symbol("EXIT_EXECUTE_SYMBOL"),Zk="undefined"!=typeof __initHelper&&1===__initHelper,Xk=["cloud","cloudSDK","ad"],eC={},tC=!1,rC=(e,t)=>{var r=t.globalName;if(eC[r])return eC[r];if(2===g.isEmptyContext){if(!Zk)throw new Error("Fatal: unexpected loadSdkSubPackage case");return tC||(tC=!0,(0,Me.showModal)({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"})),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var n,a=`get${((e,...t)=>e.toUpperCase()+t.join(""))(...e)}GlobalVar`;t.globalGetter&&((e,t)=>{N.gm,globalThis[e]=()=>t()})(a,t.globalGetter);var i=!1;try{var o,s=Date.now(),u=g.loadMainContextLibFile;t.injectSub&&(o="function"==typeof t.injectSub?t.injectSub():t.injectSub),o&&(i=!0,u=g.loadSubContextLibFile,g.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[g.convertRealId2SdkId(o)])),u.call(g,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[a];var r=Date.now()-s;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?N.gm?((0,Me.showModal)({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),D.default.onReady((()=>{(({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:a,injectContext:i=0,errMsg:o}={})=>{var s=[e,t,r,n,a,i,o].map(encodeURIComponent).join(",");_.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})})({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:D.default.appType+1e3,errMsg:"success"===e?"":e})}))}),o)}catch(e){console.error(`${i?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var c=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:c})}t.loadedSubPackage=((e,t,r)=>{var n;return N.gm,n=null!=e?e:globalThis[t],r||delete globalThis[t],n})(n,t.globalName,t.reserveGlobal),eC[t.globalName]=t.loadedSubPackage,(0,Q.mf)(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},nC=e=>{for(var t in e)if(Xk.includes(t)){var r=e[t];rC(t,r)}},aC={},iC=(e,t,r)=>{var{apiKey:n,call:a,cache:i}=t;if(i)return i;var o=((e,t)=>aC[e].loadedSubPackage[t])(e,n);if((0,Q.mf)(o)){if(a){var s=o.call(r);return(0,Q.Kn)(s)&&(t.cache=s),s}return o.bind(r)}return o},oC=(e,t)=>function(){var r=aC[e];return r.init||rC(e,r),iC(e,t,this)},sC=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:a,onInjectCallback:i,provideInGlobal:o,reserveGlobal:s,fakeProvider:u,injectSub:c,resultGetter:l,emptyInjectKey:d}={})=>{aC[e]={waLibName:t,exportApis:r,globalGetter:a,init:!1,onInjectCallback:i,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:u,injectSub:c,resultGetter:l,emptyInjectKey:d}},uC=()=>{var e=Object.entries(aC).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]={api:()=>rC(t,r),subPackageInfo:r,replaceGlobal:!0,...r.fakeProvider?{fakeProvider:r.fakeProvider}:{},emptyInjectKey:r.emptyInjectKey},!(0,Q.Kn)(r.exportApis))||Object.entries(r.exportApis).forEach((([n,a])=>{n===t&&console.warn(`sdk warn: sdk subpackage: ${n} has same name with one item of exportApis`);var i={...r};delete i.provideInGlobal,e[n]={api:oC(t,a),apiInfo:a,subPackageInfo:i,emptyInjectKey:r.emptyInjectKey}})),e)),{});return e},cC=e=>`_sdk_subPackage_load_${e}`,lC=e=>{globalThis[cC(e)]=!0},dC=e=>{globalThis[cC(e)]=!1},pC=e=>globalThis[cC(e)],fC=(e,t=!1)=>{var r=uC();Object.entries(r).forEach((([r,n])=>{var a=e,{api:i,subPackageInfo:o,replaceGlobal:s,fakeProvider:u,emptyInjectKey:c}=n;if(o.provideInGlobal){if(s){var l=o.provideInGlobal;return void Object.defineProperty(globalThis,l,{get(){if(u){if(!o.__fakeProviderCache){var e=()=>{if(!pC(l))return lC(l),i(),dC(l),o.loadedSubPackage};o.__fakeProviderCache=((e,t)=>{var r={},n=function(n){var a=e[n];Object.defineProperty(r,n,{get(){if(a.call)return(...e)=>{var r=t();return null==r?void 0:r[a.key||n].call(r,...e)};var e=t();return null==e?void 0:e[a.key||n]}})};for(var a in e)n(a);return r})(u,e),c&&(o.__fakeProviderCache[c]=()=>{e()})}return o.__fakeProviderCache}if(!pC(l)){lC(l),i(),dC(l);var t=o.loadedSubPackage;return c&&(t[c]=()=>{}),t}},configurable:!0,enumerable:!1})}a=o.provideInGlobal}if(t){if(!!n.subPackageInfo.exportApis[r].noExportWx)return;var d=a[r];Object.defineProperty(a,r,{get(){if((0,Q.Kn)(d)){var t=i.call(e),n=(e=>Hk[e])(r);return n&&n(t),t}return(0,Q.mf)(d)?(...t)=>{var r=i.call(e),n=[...t,Yk,r];return r.call(a,...n)}:d},configurable:!0})}else Object.defineProperty(a,r,{get:()=>i.call(e),configurable:!0})}))},hC=(e={})=>{(0,U.IN)("uploadToCommonCDN",e,{})},gC=p(8540),vC=e=>{try{(0,U.IN)("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){(0,U.FE)({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){(0,U.FE)({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},mC=e=>{try{(0,U.jQ)("private_onBackgroundFetchData",(t=>{t.errMsg="private_onBackgroundFetchData:ok","function"==typeof e&&b.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&b.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}},yC=(Symbol("Cache"),0),bC=1,_C=2,wC="weakNetwork",IC="always",SC="none",kC=["ALL","GET","POST","PATCH","PUT","DELETE"],CC=6048e5,TC=2592e6,AC=1157,PC=1158,EC=1133,xC={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20},MC=p(5405),DC=p.n(MC),RC=Object.prototype.hasOwnProperty;function LC(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},LC(n,t[r])):t[r]=n}))}function OC(e){var t={};return LC(e,t),DC()(JSON.stringify(t))}function NC({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function jC(e,t){return DC()(`${e}|${t}`)}function BC(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function FC(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function UC(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return VC(t,r,n);if(r!==t)return!1}return!0}function WC(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function GC({type:e="any",value:t},r,n,a){var i,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){i=typeof n[0];for(var u=1,c=n.length;u<c;u++)if(typeof n[u]!==i)return!1}else i=typeof n;var l=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(i!==e)return!1;break;case"null":if(null!==l)return!1;break;case"object":if(i!==e||Array.isArray(l)||null===l)return!1}if(o){a[r]=[];for(var d=0,p=n.length;d<p;d++){var f=WC(n[d]);if(!UC(e,t,n[d],f))return!1;a[r].push(f)}}else{var h=WC(n);if(!UC(e,t,n,h))return!1;a[r]=h}return!0}function VC(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,a=e.length;n<a;n++){var{name:i,schema:o}=e[n];if(i&&o){if(!RC.call(t,i))return!1;var s=t[i];if(Array.isArray(o)){for(var u=!1,c=0,l=o.length;c<l;c++){if(u=GC(o[c],i,s,r))break}if(!u)return!1}else if("object"==typeof o&&!GC(o,i,s,r))return!1}}return!0}var $C=ve.cache,qC=function(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:a,next:i}=n;return a&&(a.next=i),i&&(i.prev=a),n===e&&(e=i),n===t&&(t=a),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,a=t.length;n<a;n++){var i=t[n];r({key:i,time:e[i][1]})}},add:(r,a)=>{var i=n(r)||{key:r};i.time=a,e?(t.next=i,i.prev=t,t=i):(e=i,t=i)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}(),zC={};function KC(e,t,r){qC.add(t,r),zC[t]=[e,r],$C.setStorage({key:"cache|meta",data:zC})}function HC(e,t){var r=jC(e,t);$C.removeStorage({key:r,success(){qC.del(r),delete zC[r],$C.setStorage({key:"cache|meta",data:zC})}})}function JC(e,t){var r=e.length,n=0,a=()=>{++n>=r&&($C.setStorage({key:"cache|meta",data:zC}),t&&t())};e.forEach((e=>{$C.removeStorage({key:e,success(){qC.del(e),delete zC[e],a()},fail:a})}))}function YC(e){var t=[];qC.each((r=>{zC[r][0]===e&&t.push(r)})),t&&t.length&&JC(t)}function QC(e){$C.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:a}=t;if(r.length>100||n>.66*a){var i=qC.eliminate(5);i.length?JC(i,e):e()}else e()}})}function ZC(e,t){var r=Date.now(),n=e.rule.id,a=NC(e),i=jC(n,a);QC((()=>function(e,t,r,n){$C.setStorage({key:t,data:r,success:()=>KC(e,t,n)})}(n,i,t,r)))}D.default.onReady((()=>{$C.getStorage({key:"cache|meta",success:e=>{e&&(zC=e.data,qC.addMap(zC)),$C.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(zC[e]||$C.removeStorage({key:e}))}))}})}})}));var XC=null;D.default.onReady((()=>{setTimeout((()=>{!function(e){var t;null===(t=XC)||void 0===t||t(e)}({duration:0,startTime:0})}))}));var eT,tT,rT=new Promise((e=>{XC=e})),nT=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onShow=3]="App_onShow",e[e.Evaluate_Script_Begin=4]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=5]="Evaluate_Script_End",e[e.SubPackage_Ready=6]="SubPackage_Ready",e[e.AppRoute_Begin=7]="AppRoute_Begin",e[e.AppRoute_End=8]="AppRoute_End",e[e.AppRoute_Callback_Begin=9]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=10]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=11]="AppRoute_AppServiceEngine",e[e.Open_New_Page=12]="Open_New_Page",e[e.Publish_Init_Data=13]="Publish_Init_Data",e[e.Send_Init_Data=14]="Send_Init_Data",e[e.Recv_Init_Ready=15]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=16]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=17]="AppRoute_Done_End",e[e.TriggerAppRoute=18]="TriggerAppRoute",e[e.Evaluate_WAWebview_Begin=19]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=20]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=21]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=22]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=23]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=24]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=25]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=26]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=27]="Set_CSS_Begin",e[e.Set_CSS_End=28]="Set_CSS_End",e[e.Generate_Func_Ready=29]="Generate_Func_Ready",e[e.Recv_Init_Data=30]="Recv_Init_Data",e[e.Init_Render_Begin=31]="Init_Render_Begin",e[e.Init_Render_End=32]="Init_Render_End",e[e.VD_Init_Render_Begin=33]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=34]="VD_Init_Render_End",e[e.Send_Init_Ready=35]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=36]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=37]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=38]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=39]="Init_Ready_Client",e[e.Real_Init_Ready=40]="Real_Init_Ready",e[e.First_User_Interaction=41]="First_User_Interaction",e[e.FP=42]="FP",e[e.FCP=43]="FCP",e[e.LCP=44]="LCP",e[e.First_Start_Render=45]="First_Start_Render",e}({}),aT={};null===(eT=o)||void 0===eT||null===(tT=eT.env)||void 0===tT||tT.typeStr;new Set;function iT(e){return aT[e]||0}var oT=!1,sT=!1,uT=0,cT=!1,lT="",dT=0,pT=0,fT=0,hT=[xC.ENTER_WEAK_NETWORK_4_OLD,xC.EXIT_WEAK_NETWORK_4_OLD,xC.REQUEST_4_OLD,xC.EXIT_MINIPROGRAM_4_OLD],gT=[xC.ENTER_WEAK_NETWORK,xC.EXIT_WEAK_NETWORK,xC.EXIT_MINIPROGRAM,xC.ENTER_WEAK_NETWORK_4_OLD,xC.EXIT_WEAK_NETWORK_4_OLD,xC.EXIT_MINIPROGRAM_4_OLD],vT=!1,mT=0,yT=!1;(0,Vo.HM)(((e={})=>{dT=Date.now(),cT=sT,yT=vT,lT=e.path||e.rawPath||""})),(0,_r.vv)(((e={})=>{3===e.targetAction&&function(){sT&&bT(xC.EXIT_MINIPROGRAM,null,{duration:Date.now()-uT});vT&&bT(xC.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-mT})}(),oT&&(bT(xC.CACHE_MATCH,null,{matchCount:pT,matchSuccessCount:fT}),pT=0,fT=0)}));var bT=function(){var e=X()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:a=0,matchCount:i=0,matchSuccessCount:o=0,extra1:s}={}){t=t||(0,Qe._getCurrentNetworkType)()||"";var u,c={},l=yield rT;-1!==gT.indexOf(e)&&(u=iT(nT.AppRoute_Begin),c={fr:iT(nT.Real_Init_Ready)-u,fp:iT(nT.FP)-u,fcp:iT(nT.FCP)-u});var d=-1!==hT.indexOf(e),p=d?yT:cT,f=[t,0,(d?vT:sT)?1:0,e,encodeURIComponent(lT),a,r?1:0,n,p?1:0,c.fr||0,c.fp||0,c.fcp||0,(null==l?void 0:l.duration)||0,i,o,s||""].join(",");_.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:f})}));return function(t,r){return e.apply(this,arguments)}}();function _T(e){sT&&bT(xC.CALL_CONTAINER,null,e)}function wT(e){pT++,e&&fT++}function IT(e,t){bT(e,null,{extra1:t})}(0,Qe._onNetworkTypeReady)((e=>{"offline"!==e&&"none"!==e||ST(e)}));function ST(e){vT||(mT=Date.now(),vT=!0,!yT&&mT-dT<5e3&&(yT=!0),bT(xC.ENTER_WEAK_NETWORK_4_OLD,e))}function kT(e){vT&&(vT=!1,bT(xC.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-mT}))}(0,Qe.onNetworkStatusChange)((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?ST(t):kT(t)})),(0,Qe.onNetworkWeakChange)((e=>{e.weakNet?ST():kT()}));var CT=Object.prototype.hasOwnProperty,TT=new WeakMap;var AT=function(){var e=new Map,t={},r=wC,n=_C,a="",i=CC,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:u}=t,c=u instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",u=c?u:"string"==typeof u?u.trim():null,n&&e.has(n))return;if(-1===kC.indexOf(s))return;if(!u)return;var l={};if(c)l={isRegExp:c,regExp:u};else{if(-1===u.indexOf("://")&&("/"!==u[0]&&(u=`/${u}`),u=a+u),-1===u.indexOf("://"))return;var{protocol:d,host:p,path:f,query:h}=(0,Ie.en)(u);l={isRegExp:c,protocol:d,host:p,path:BC(f),query:FC(h)}}if(l.method=s,l.dataSchema=t.dataSchema,l.maxAge=Math.min(t.maxAge||i,TC),!n&&(n=OC(l),e.has(n)))return;return l.id=n,l}}},s=(t,r,n="GET")=>{var i,o=e.values();n=n.toUpperCase();var{protocol:s,host:u,path:c,query:l}=(0,Ie.en)(t),d=`${s}://${u}`,p=[],f={};for(var h of o)if("ALL"===h.method||h.method===n){if(h.isRegExp){h.regExp.lastIndex=0;var g=h.regExp.exec(t);if(!g){if(a!==d)continue;if(h.regExp.lastIndex=0,!(g=h.regExp.exec(t.replace(`${s}://${u}`))))continue}}else{if(s!==h.protocol)continue;if(u!==h.host)continue;if(h.path.regExp.lastIndex=0,!h.path.regExp.exec(c))continue;if(h.query){var v=!0;for(var m of(p.length=0,h.query)){var{key:y,value:b}=m;if(!l||!CT.call(l,y)||b&&l[y]!==b){v=!1;break}var _=b||l[y];p.push(`${y}${_?"="+encodeURIComponent(_):""}`)}if(!v)continue}}if(h.dataSchema){if(!r||"object"!=typeof r)continue;if(!VC(h.dataSchema,r,f))continue}i=h;break}if(i)return{rule:i,url:`${d}${c}${p.length?"?"+p.join("&"):""}`,data:f,method:n}},u={start:()=>{n=bC},stop:()=>{n=yC},config:(e={})=>{a=e.origin||"",r=e.mode||wC,i=Math.min(e.maxAge||CC,TC),r===IC&&u.start()},emit:(e,r)=>{var n=t[e],a=[];if(n&&n.length)for(var i=n.length-1;i>=0;i--){var o=n[i];o=b.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),a.push(o(r))}return a},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var a=s(e,t,r);a&&ZC(a,{ts:Date.now(),res:n})}))}},c=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var a=n.id;e.set(a,n),r.push(a)}else r.push(null)})),r}},l=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),YC(t))}))},d=()=>{var t=e.keys();for(var r of t)YC(r)},p={set mode(e){r=e||wC},get mode(){return r},set origin(e){a=e||""},get origin(){return a},set maxAge(e){i=e||CC},get maxAge(){return i},get state(){return n},addRules:c,addRule:e=>c([e])[0],deleteRules:l,deleteRule:e=>{l([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var a=n.indexOf(r);-1!==a&&n.splice(a,1)}}},start:()=>{r===SC&&u.start()},stop:()=>{r===SC&&u.stop()},match:e=>{var{url:t,data:r,method:n}=e,a=s(t,r,n);if(a){var i={};i.ruleId=a.rule.id,i.maxAge=a.rule.maxAge;var o=function(e){var t=e.rule.id,r=NC(e),n=jC(t,r);try{var a=$C.getStorageSync(n);if(a){var i=Date.now(),o=e.rule.maxAge;if(i-a.ts<o)return KC(t,n,i),{cacheId:r,...a};$C.removeStorage({key:n,success:()=>HC(t,r)})}else $C.removeStorage({key:n})}catch(e){}return null}(a);if(o){var{cacheId:u,ts:c,res:l}=o;i.cacheId=u,i.createTime=c,i.data=l;try{i.data=JSON.parse(i.data)}catch(e){}"object"==typeof l&&(l.fromCache=!0)}return wT(!!o),i}wT(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>HC(e,t)))};for(var a of r)n(a)}},deleteCache:t=>{var r=e.keys();for(var n of r)HC(n,t)},clearCaches:d};return TT.set(p,u),p}(),PT=TT.get(AT),ET=(p(5945),"\n\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n"),xT={},MT={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},DT={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},RT={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},LT={},OT={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},NT={[AC]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process(e){IT(xC.PROXY_AUTHORIZE);var t=e.jsapi_name,r=MT[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},a={sub_desc:LT[r]||" "};if(r&&RT[r]){a.scope=`scope.${r}`,a.desc=RT[r];var i=xT[a.scope]||0;1===i||7===D.default.appType?n={errcode:0,errmsg:"has authorized"}:2===i&&(n={errcode:-12006,errmsg:"user deny"}),IT(xC.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=D.default.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[a],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${DT[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}},content:ET},[PC]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>xT[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:ET},[EC]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(){IT(xC.PROXY_OPERATE_WX_DATA)},content:ET}};var jT={};function BT(e){var t,r=(t=e,DC()("string"==typeof t?t:JSON.stringify(t)));return jT[r]||(jT[r]=__protobufSDK__.getProtobuf()(e)),jT[r]}function FT(){var e,t,r=null===D.default||void 0===D.default||null===(e=D.default.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=OT[e.scope];t&&(LT[t]=e.sub_desc||"")})),(0,U.jQ)("onClientRequest",(e=>{var t=function(e){if(NT[e])return NT[e].proto||(NT[e].proto=BT(NT[e].content)),NT[e]}(e.api),r=!1,n=!1,a=null;if(t){r=!0;var i=null;try{i=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=t.process(i);o&&(a=t.proto[t.resp].encode(o))}catch(e){return}}(0,U.IN)("responseClientRequest",{id:e.id,support:r&&n&&!!a,data:a&&a.buffer})}))}var UT=!1;["login","checkSession","getSetting"].reduce(((e,t)=>(e[t]=!0,e)),{});function WT(){return UT&&(N.cj||N.wZ||N.gm)}function GT(e,t){var r;e&&!e.reason&&(AT.mode===wC&&(e.switch?PT.start():PT.stop()),e.switch?(!0,PT.emit("enterWeakNetwork"),sT||(uT=Date.now(),sT=!0,!cT&&uT-dT<5e3&&(cT=!0),bT(xC.ENTER_WEAK_NETWORK,r))):t&&(!1,xT={},PT.emit("exitWeakNetwork"),function(e){sT&&(sT=!1,bT(xC.EXIT_WEAK_NETWORK,e,{duration:Date.now()-uT}))}()))}(0,U.jQ)("onToggleWxappLibServerMode",(e=>GT(e,!0))),D.default.onReady((()=>{GT(D.default.serverMode),FT()}));var VT=function(e){return e[e.Tap=8]="Tap",e[e.Click=10]="Click",e[e.Start=11]="Start",e[e.Stop=12]="Stop",e[e.CustomAttr=13]="CustomAttr",e[e.Routing=14]="Routing",e[e.WxInput=16]="WxInput",e[e.VisibilityChange=17]="VisibilityChange",e[e.Env=40]="Env",e[e.WindowState=41]="WindowState",e[e.Depth=83]="Depth",e[e.BatchReport=101]="BatchReport",e[e.Unsupported=102]="Unsupported",e[e.NavigateTo=701]="NavigateTo",e[e.RedirectTo=702]="RedirectTo",e[e.NavigateBack=703]="NavigateBack",e[e.SwitchTab=704]="SwitchTab",e[e.AppLaunch=705]="AppLaunch",e[e.ReLaunch=706]="ReLaunch",e[e.AutoReLaunch=707]="AutoReLaunch",e[e.AppShow=720]="AppShow",e[e.AppHide=721]="AppHide",e[e.InitState=730]="InitState",e[e.ShowModal=740]="ShowModal",e[e.CloseModal=741]="CloseModal",e[e.ShowActionSheet=742]="ShowActionSheet",e[e.CloseActionSheet=743]="CloseActionSheet",e[e.ShowToast=744]="ShowToast",e[e.HideToast=745]="HideToast",e[e.OnShareAppMessage=746]="OnShareAppMessage",e[e.DoShareAppMessage=747]="DoShareAppMessage",e[e.OnShareTimeline=748]="OnShareTimeline",e[e.DoShareTimeline=749]="DoShareTimeline",e[e.KeyBoardHeightChange=750]="KeyBoardHeightChange",e[e.PageStaytime=760]="PageStaytime",e[e.WeSession=780]="WeSession",e[e.ReserveChannelsLive=800]="ReserveChannelsLive",e[e.ReserveChannelsLiveDone=801]="ReserveChannelsLiveDone",e[e.OpenChannelsUserProfile=802]="OpenChannelsUserProfile",e[e.OpenChannelsUserProfileDone=803]="OpenChannelsUserProfileDone",e[e.OpenChannelsLive=804]="OpenChannelsLive",e[e.OpenChannelsLiveDone=805]="OpenChannelsLiveDone",e[e.OpenChannelsEvent=806]="OpenChannelsEvent",e[e.OpenChannelsEventDone=807]="OpenChannelsEventDone",e[e.OpenChannelsActivity=808]="OpenChannelsActivity",e[e.OpenChannelsActivityDone=809]="OpenChannelsActivityDone",e[e.GetChannelsShareKey=810]="GetChannelsShareKey",e[e.GetChannelsShareKeyDone=811]="GetChannelsShareKeyDone",e[e.GetChannelsLiveNoticeInfo=812]="GetChannelsLiveNoticeInfo",e[e.GetChannelsLiveNoticeInfoDone=813]="GetChannelsLiveNoticeInfoDone",e[e.GetChannelsLiveInfo=814]="GetChannelsLiveInfo",e[e.GetChannelsLiveInfoDone=815]="GetChannelsLiveInfoDone",e[e.RequestPayment=820]="RequestPayment",e[e.RequestPaymentDone=821]="RequestPaymentDone",e[e.RequestPluginPayment=822]="RequestPluginPayment",e[e.RequestPluginPaymentDone=823]="RequestPluginPaymentDone",e[e.RequestSubscribeMessage=824]="RequestSubscribeMessage",e[e.RequestSubscribeMessageDone=825]="RequestSubscribeMessageDone",e}({}),$T=1e3,qT={},zT={};function KT(e){HT(e,1)}function HT(e,t){e in qT||(qT[e]=0),e in zT||(zT[e]=0),qT[e]+=t,zT[e]+=t,JT||(JT=!0,setTimeout(YT,$T))}var JT=!1;function YT(){for(var e of Object.keys(zT)){var t,r,n=zT[Number(e)],a=[null===(t=i.accountInfo)||void 0===t?void 0:t.appId,0,null!==(r=CP.recorderConfigs.uuid)&&void 0!==r?r:"none",i.sdkVersion,e,n,"","",""].join(",");_.reportKeyValue({key:"Wxobs",value:a})}zT={},setTimeout(YT,$T)}var QT=function(e){return e[e.LayoutCost=1]="LayoutCost",e[e.EncryptCost=2]="EncryptCost",e[e.CompressCost=3]="CompressCost",e[e.UploadCosCost=4]="UploadCosCost",e[e.UploadWxCost=5]="UploadWxCost",e[e.TaskCost=6]="TaskCost",e[e.LongTaskCost=7]="LongTaskCost",e[e.WebviewEvent=30]="WebviewEvent",e[e.AppserviceEvent=31]="AppserviceEvent",e[e.Error=32]="Error",e[e.Unsupport=33]="Unsupport",e[e.Task=34]="Task",e[e.LongTask=35]="LongTask",e[e.CosInfoFetch=37]="CosInfoFetch",e[e.CosInfoRefetch=38]="CosInfoRefetch",e[e.UploadCosSucess=39]="UploadCosSucess",e[e.UploadCosFailure=40]="UploadCosFailure",e[e.UploadWxSucess=41]="UploadWxSucess",e[e.UploadWxFailure=42]="UploadWxFailure",e[e.AutoSetup=43]="AutoSetup",e[e.SdkSetup=44]="SdkSetup",e[e.MissSample=45]="MissSample",e[e.CosAppend=46]="CosAppend",e[e.CosPut=47]="CosPut",e[e.CosHead=48]="CosHead",e[e.CommonAssetMiss=49]="CommonAssetMiss",e[e.CommonAssetHit=50]="CommonAssetHit",e[e.UploadWxSize=80]="UploadWxSize",e[e.UploadCosSize=81]="UploadCosSize",e[e.UploadCommonSize=82]="UploadCommonSize",e[e.HitCommonSize=83]="HitCommonSize",e}({}),ZT=function(e){return e[e.Setup=1]="Setup",e[e.AppserviceStart=2]="AppserviceStart",e[e.WebviewStart=3]="WebviewStart",e[e.AppserviceCollect=4]="AppserviceCollect",e[e.WebviewCollect=5]="WebviewCollect",e[e.AppserviceEncode=6]="AppserviceEncode",e[e.WebviewEncode=7]="WebviewEncode",e[e.AppserviceReport=8]="AppserviceReport",e[e.WebviewReportCos=9]="WebviewReportCos",e[e.WebviewClean=10]="WebviewClean",e[e.WebviewReportWx=11]="WebviewReportWx",e[e.WebviewReport=12]="WebviewReport",e[e.AppserviceReportCos=13]="AppserviceReportCos",e[e.AppserviceReportWx=14]="AppserviceReportWx",e[e.CommonUploadError=15]="CommonUploadError",e[e.AppserviceTeardown=16]="AppserviceTeardown",e[e.Debug=1e3]="Debug",e}({}),XT=e=>{if(CP.recording)try{var t,r;if(e.type===ZT.Debug)return;null===(t=(r=CP.recorderConfigs).errorCallback)||void 0===t||t.call(r,e)}catch(e){console.error(e)}};function eA(e,t,r){var n,a,o=[null===(n=i.accountInfo)||void 0===n?void 0:n.appId,0,null!==(a=CP.recorderConfigs.uuid)&&void 0!==a?a:"none",i.sdkVersion,"","",e,`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${null!=r?r:""}`,""].join(",");XT({type:e,errMsg:`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${null!=r?r:""}`,extra:r}),_.reportKeyValue({key:"Wxobs",value:o})}var tA=2,rA=4,nA=4,aA=1;function iA(e,t){var r=0,n=e?tA:0,a=[];for(var i of t){var o=oA(i[0]);a.push([o,i[1]]),n+=o.length+i[1].length+rA+nA}var s=new Uint8Array(n),u=new DataView(s.buffer);for(var[c,l]of(e&&(u.setInt16(0,aA),r+=tA),a))u.setInt32(r,c.length),r+=rA,s.set(c,r),r+=c.length,u.setInt32(r,l.length),r+=nA,s.set(l,r);return s}function oA(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var sA=p(5680),uA=p.n(sA),cA={};function lA(e){var t=JSON.stringify(e);if(cA[t]){if(cA[t].expireTs>Date.now())return cA[t].authorization;delete cA[t]}var r=Math.round(Date.now()/1e3),n=r+3600,a=`${r};${n}`,i=uA().HmacSHA1(a,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var u=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),u])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var c=o.map((e=>e[0])).join(";"),l=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),f=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),h=`${e.method.toLowerCase()}\n${e.pathname}\n${l}\n${f}\n`,g=["sha1",a,uA().SHA1(h).toString(),""].join("\n"),v=uA().HmacSHA1(g,i).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+a,"q-key-time="+a,"q-header-list="+p,"q-url-param-list="+c,"q-signature="+v].join("&");return cA[t]={authorization:m,expireTs:1e3*n},m}function dA(e,{method:t,headers:r,body:n}){return new Promise(((a,i)=>{(0,Ur.ac)({url:e,method:t,header:r,data:"string"==typeof n?n:null!=n&&n.buffer?n.buffer:n,success:a,fail:i})}))}function pA(){var e,t,r,n,a,i,o=JSON.parse(JSON.stringify(D.default));return delete o.appLaunchInfo.openId,null==o||(null===(e=o.appContactInfo)||void 0===e||delete e.call_plugin_info),null==o||(null===(t=o.appContactInfo)||void 0===t||delete t.operationInfo),null==o||(null===(r=o.appContactInfo)||void 0===r||delete r.stablePassThroughInfo),null==o||(null===(n=o.appContactInfo)||void 0===n||delete n.passThroughInfo),null==o||(null===(a=o.appLaunchInfo)||void 0===a||delete a.clickTimestamp),null==o||(null===(i=o.appLaunchInfo)||void 0===i||delete i.clickTimestampInMs),null==o||delete o.downloadDomain,null==o||delete o.expt,null==o||delete o.extendedLibList,null==o||delete o.host,null==o||delete o.subPackages,null==o||delete o.subpackages,null==o||delete o.userConfig,null==o||delete o.wxAppInfo,null==o||delete o.embeddedAppIdList,null==o||delete o.pages,o}function fA(){return fA=X()((function*(e){var t=kP.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=lA({secretId:t.secretid,secretKey:t.secretkey,method:"post",pathname:`/${e.key}`,query:{append:"",position:e.position+""},headers:{host:r}}),a=yield dA(`https://${r}/${e.key}?append&position=${e.position}`,{method:"POST",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(KT(QT.CosAppend),a.statusCode<300){var i={};for(var o of Object.keys(a.header))i[o.toLowerCase()]=a.header[o];return{status:a.statusCode,headers:i}}throw new Error(`appendObject status ${a.statusCode}`)})),fA.apply(this,arguments)}function hA(){return hA=X()((function*(e){var t=kP.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=lA({secretId:t.secretid,secretKey:t.secretkey,method:"head",pathname:`/${e.key}`,query:{},headers:{host:r}});KT(QT.CosHead);var a=yield dA(`https://${r}/${e.key}`,{method:"HEAD",headers:{authorization:n,"x-cos-security-token":t.token}});if(404===a.statusCode)return null;if(a.statusCode>=400)throw new Error(`headObject status ${a.statusCode}`);var i={};for(var o of Object.keys(a.header))i[o.toLowerCase()]=a.header[o];return{status:a.statusCode,headers:i}})),hA.apply(this,arguments)}var gA={Raw:"0",Compressed:"1.0",CompressedAndAesCbc:"2.0"},vA={showModal:VT.ShowModal,closeModal:VT.CloseModal,showToast:VT.ShowToast,hideToast:VT.HideToast,showActionSheet:VT.ShowActionSheet,closeActionSheet:VT.CloseActionSheet,onShareAppMessage:VT.OnShareAppMessage,doShareAppMessage:VT.DoShareAppMessage,doShareTimeline:VT.DoShareTimeline,onShareTimeline:VT.OnShareTimeline,appLaunch:VT.AppLaunch,autoReLaunch:VT.AutoReLaunch,navigateTo:VT.NavigateTo,redirectTo:VT.RedirectTo,switchTab:VT.SwitchTab,reLaunch:VT.ReLaunch,navigateBack:VT.NavigateBack};function mA(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}var yA=[];!function(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(yA.length>0){var e=yA.shift();e&&e()}},function(e){yA.push(e),r.postMessage(null)}}catch(e){}}();var bA=Uint8Array,_A=Uint16Array,wA=Uint32Array,IA=new bA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),SA=new bA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kA=new bA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CA=function(e,t){for(var r=new _A(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var a=new wA(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},TA=mA(CA(IA,2),2),AA=TA[0],PA=TA[1];AA[28]=258,PA[258]=28;var EA=mA(CA(SA,0),2);EA[0];for(var xA=EA[1],MA=new _A(32768),DA=0;DA<32768;++DA){var RA=(43690&DA)>>>1|(21845&DA)<<1;RA=(61680&(RA=(52428&RA)>>>2|(13107&RA)<<2))>>>4|(3855&RA)<<4,MA[DA]=((65280&RA)>>>8|(255&RA)<<8)>>>1}var LA=function(e,t,r){for(var n=e.length,a=0,i=new _A(t);a<n;++a)e[a]&&++i[e[a]-1];var o,s=new _A(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;if(r){o=new _A(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],l=t-e[a],d=s[e[a]-1]++<<l,p=d|(1<<l)-1;d<=p;++d)o[MA[d]>>>u]=c}else for(o=new _A(n),a=0;a<n;++a)e[a]&&(o[a]=MA[s[e[a]-1]++]>>>15-e[a]);return o},OA=new bA(288);for(DA=0;DA<144;++DA)OA[DA]=8;for(DA=144;DA<256;++DA)OA[DA]=9;for(DA=256;DA<280;++DA)OA[DA]=7;for(DA=280;DA<288;++DA)OA[DA]=8;var NA=new bA(32);for(DA=0;DA<32;++DA)NA[DA]=5;var jA=LA(OA,9,0);LA(OA,9,1);var BA=LA(NA,5,0);LA(NA,5,1);var FA=function(e){return(e+7)/8|0},UA=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?_A:4==e.BYTES_PER_ELEMENT?wA:bA)(r-t);return n.set(e.subarray(t,r)),n},WA=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},GA=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},VA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return[YA,0];if(1==a){var o=new bA(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],u=r[1],c=0,l=1,d=2;for(r[0]={s:-1,f:s.f+u.f,l:s,r:u};l!=a-1;)s=r[r[c].f<r[d].f?c++:d++],u=r[c!=l&&r[c].f<r[d].f?c++:d++],r[l++]={s:-1,f:s.f+u.f,l:s,r:u};var p=i[0].s;for(n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var f=new _A(p+1),h=$A(r[l-1],f,0);if(h>t){n=0;var g=0,v=h-t,m=1<<v;for(i.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));n<a;++n){var y=i[n].s;if(!(f[y]>t))break;g+=m-(1<<h-f[y]),f[y]=t}for(g>>>=v;g>0;){var b=i[n].s;f[b]<t?g-=1<<t-f[b]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;f[_]==t&&(--f[_],++g)}h=t}return[new bA(f),h]},$A=function(e,t,r){return-1==e.s?Math.max($A(e.l,t,r+1),$A(e.r,t,r+1)):t[e.s]=r},qA=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new _A(++t),n=0,a=e[0],i=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[s]}return[r.subarray(0,n),t]},zA=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},KA=function(e,t,r){var n=r.length,a=FA(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return 8*(a+4+n)},HA=function(e,t,r,n,a,i,o,s,u,c,l){WA(t,l++,r),++a[256];for(var d=mA(VA(a,15),2),p=d[0],f=d[1],h=mA(VA(i,15),2),g=h[0],v=h[1],m=mA(qA(p),2),y=m[0],b=m[1],_=mA(qA(g),2),w=_[0],I=_[1],S=new _A(19),k=0;k<y.length;++k)S[31&y[k]]++;for(k=0;k<w.length;++k)S[31&w[k]]++;for(var C=mA(VA(S,7),2),T=C[0],A=C[1],P=19;P>4&&!T[kA[P-1]];--P);var E,x,M,D,R=c+5<<3,L=zA(a,OA)+zA(i,NA)+o,O=zA(a,p)+zA(i,g)+o+14+3*P+zA(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(R<=L&&R<=O)return KA(t,l,e.subarray(u,u+c));if(WA(t,l,1+(O<L)),l+=2,O<L){E=LA(p,f,0),x=p,M=LA(g,v,0),D=g;var N=LA(T,A,0);WA(t,l,b-257),WA(t,l+5,I-1),WA(t,l+10,P-4),l+=14;for(k=0;k<P;++k)WA(t,l+3*k,T[kA[k]]);l+=3*P;for(var j=[y,w],B=0;B<2;++B){var F=j[B];for(k=0;k<F.length;++k){var U=31&F[k];WA(t,l,N[U]),l+=T[U],U>15&&(WA(t,l,F[k]>>>5&127),l+=F[k]>>>12)}}}else E=jA,x=OA,M=BA,D=NA;for(k=0;k<s;++k)if(n[k]>255){U=n[k]>>>18&31;GA(t,l,E[U+257]),l+=x[U+257],U>7&&(WA(t,l,n[k]>>>23&31),l+=IA[U]);var W=31&n[k];GA(t,l,M[W]),l+=D[W],W>3&&(GA(t,l,n[k]>>>5&8191),l+=SA[W])}else GA(t,l,E[n[k]]),l+=x[n[k]];return GA(t,l,E[256]),l+x[256]},JA=new wA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YA=new bA(0);!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var QA=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=0|r.length,o=0;o!=i;){for(var s=Math.min(o+2655,i);o<s;++o)a+=n+=r[o];n=(65535&n)+15*(n>>16),a=(65535&a)+15*(a>>16)}e=n,t=a},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},ZA=function(e,t,r,n,a){return function(e,t,r,n,a,i){var o=e.length,s=new bA(n+o+5*(1+Math.ceil(o/7e3))+a),u=s.subarray(n,s.length-a),c=0;if(!t||o<8)for(var l=0;l<=o;l+=65535){var d=l+65535;d>=o&&(u[c>>3]=i),c=KA(u,c+1,e.subarray(l,d))}else{for(var p=JA[t-1],f=p>>>13,h=8191&p,g=(1<<r)-1,v=new _A(32768),m=new _A(g+1),y=Math.ceil(r/3),b=2*y,_=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},w=new wA(25e3),I=new _A(288),S=new _A(32),k=0,C=0,T=(l=0,0),A=0,P=0;l<o;++l){var E=_(l),x=32767&l,M=m[E];if(v[x]=M,m[E]=x,A<=l){var D=o-l;if((k>7e3||T>24576)&&D>423){c=HA(e,u,0,w,I,S,C,T,P,l-P,c),T=k=C=0,P=l;for(var R=0;R<286;++R)I[R]=0;for(R=0;R<30;++R)S[R]=0}var L=2,O=0,N=h,j=x-M&32767;if(D>2&&E==_(l-j))for(var B=Math.min(f,D)-1,F=Math.min(32767,l),U=Math.min(258,D);j<=F&&--N&&x!=M;){if(e[l+L]==e[l+L-j]){for(var W=0;W<U&&e[l+W]==e[l+W-j];++W);if(W>L){if(L=W,O=j,W>B)break;var G=Math.min(j,W-2),V=0;for(R=0;R<G;++R){var $=l-j+R+32768&32767,q=$-v[$]+32768&32767;q>V&&(V=q,M=$)}}}j+=(x=M)-(M=v[x])+32768&32767}if(O){w[T++]=268435456|PA[L]<<18|xA[O];var z=31&PA[L],K=31&xA[O];C+=IA[z]+SA[K],++I[257+z],++S[K],A=l+L,++k}else w[T++]=e[l],++I[e[l]]}}c=HA(e,u,i,w,I,S,C,T,P,l-P,c),!i&&7&c&&(c=KA(u,c+1,YA))}return UA(s,0,n+FA(c)+a)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!a)},XA=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},eP=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};var tP="undefined"!=typeof TextEncoder&&new TextEncoder,rP="undefined"!=typeof TextDecoder&&new TextDecoder;try{rP.decode(YA,{stream:!0}),1}catch(e){}function nP(e,t){if(t){for(var r=new bA(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(tP)return tP.encode(e);var a=e.length,i=new bA(e.length+(e.length>>1)),o=0,s=function(e){i[o++]=e};for(n=0;n<a;++n){if(o+5>i.length){var u=new bA(o+8+(a-n<<1));u.set(i),i=u}var c=e.charCodeAt(n);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(s(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return UA(i,0,o)}var aP,iP={};function oP(e){return sP.apply(this,arguments)}function sP(){return sP=X()((function*(e){try{var t=null!=e?e:CP.weSessionId,{recorderConfigs:r,events:n,pending:a}=CP;if(a)return;if(0===n.length)return;var{sdkVersion:i,projectId:o,uuid:s}=r;n.length;var u=[...n];n.splice(0,n.length),CP.pending=!0;var c={record:{uuid:s,event:JSON.stringify(u),path:"",projectKey:o,sdkVersion:i,timestamp:Date.now(),weSessionId:t}},l={type:VT.BatchReport,data:{},timestamp:dP(u)};l.data.eventCounts={ids:[0],counts:[u.length]};var d=JSON.stringify(c);l.data.encodedSize=d.length;var p=!1,f=!1;if(r.compress)try{var h=Date.now();d=function(e,t){t||(t={});var r=QA();r.p(e);var n=ZA(e,t,2,4);return eP(n,t),XA(n,n.length-4,r.d()),n}(nP(d)),l.data.compressCost=Date.now()-h,HT(QT.CompressCost,Date.now()-h),l.data.compressedSize=d.length,p=!0}catch(e){r.compress=!1}if(p&&r.encrypt)try{var g=Date.now(),v={data:Array.from(d),useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(nP(r.encrypt.key)),ivBytes:Array.from(nP(r.encrypt.iv))}};d=new Uint8Array(yield(0,ee.k)().runTask("aesEncrypt",v)),l.data.encryptCost=Date.now()-g,HT(QT.EncryptCost,Date.now()-g),l.data.encryptedSize=d.length,f=!0}catch(e){}try{var m=Date.now();yield function(e,t){return uP.apply(this,arguments)}(d,{encryped:f,compressed:p}),l.data.uploadCost=Date.now()-m,KT(QT.UploadCosSucess),HT(QT.UploadCosCost,Date.now()-m),HT(QT.UploadCosSize,d.length);try{var y=Date.now();yield cP(d,{encryped:f,compressed:p}),KT(QT.UploadWxSucess),HT(QT.UploadWxCost,Date.now()-y),HT(QT.UploadWxSize,d.length)}catch(e){KT(QT.UploadWxFailure),eA(ZT.AppserviceReportWx,e)}}catch(e){KT(QT.UploadCosFailure),l.data.uploadErr=e.message,n.unshift(...u),eA(ZT.AppserviceReportCos,e)}finally{yield function(e,t,r,n,a){return pP.apply(this,arguments)}(l,s,i,null!=t?t:"",o)}CP.pending=!1}catch(e){eA(ZT.AppserviceReport,e)}})),sP.apply(this,arguments)}function uP(){return uP=X()((function*(e,{encryped:t,compressed:r}){var n,{recorderConfigs:a}=CP,{projectId:i,uuid:o}=a,s=`${i}/${o}-appservice`,u=iP[o];if(!u){var c=yield function(e){return hA.apply(this,arguments)}({key:s});u=c?Number(c.headers["content-length"]||0):0}var l=t?`encrypt:${a.encrypt.version}`:"raw:1";n=iA(0===u,[[l,e]]),e.length,n.length;try{var d=yield function(e){return fA.apply(this,arguments)}({key:s,headers:{"Content-Type":"application/octet-stream"},body:n,position:u}),p=d.headers["x-cos-next-append-position"];p&&(iP[o]=Number(p))}catch(e){throw iP[o]=void 0,e}})),uP.apply(this,arguments)}function cP(e,t){return lP.apply(this,arguments)}function lP(){return lP=X()((function*(e,{encryped:t,compressed:r}){var{recorderConfigs:n}=CP,{sdkVersion:a}=n;return yield dA(n.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":a||"","x-wx-ob-pack-version":t?gA.CompressedAndAesCbc:r?gA.Compressed:gA.Raw,"x-wx-ob-project-key":n.projectId},body:e})})),lP.apply(this,arguments)}function dP(e){var t=0;for(var r of e)r.timestamp&&r.timestamp>t&&(t=r.timestamp);return t||Date.now()}function pP(){return pP=X()((function*(e,t,r,n,a){yield cP(JSON.stringify({record:{uuid:t,event:JSON.stringify([e]),path:"",projectKey:a,sdkVersion:r,timestamp:Date.now(),weSessionId:n}}),{encryped:!1,compressed:!1})})),pP.apply(this,arguments)}var fP="wxfile://__wxprivate__/obs",hP=`${fP}/meta.json`,gP=(0,Oe.Fr)(Lp.N),vP=(0,Oe.Fr)(Wr.p),mP=(0,Oe.Fr)(Op.P),yP=(0,Oe.Fr)(Np.i);function bP(){return _P.apply(this,arguments)}function _P(){return(_P=X()((function*(){try{yield mP({path:fP})}catch(e){try{yield yP({dirPath:fP,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield vP({filePath:hP,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))};return gP({filePath:hP,data:JSON.stringify(n)}),n.userIdentifier}))).apply(this,arguments)}var wP=0,IP=()=>{var e;wP++,function(){SP.apply(this,arguments)}(),e=wP,(0,Me._subscribeNativeUi)(function(){var t=X()((function*(t,r){if(CP.recording&&e===wP){var n=vA[t];n&&TP({timestamp:Date.now(),type:n,data:{payload:r}})}}));return function(e,r){return t.apply(this,arguments)}}()),function(e){var[t,r]=[0,Date.now()];(0,Vo.HM)((t=>{if(CP.recording&&e===wP){var r,n=xP(),a=vA[t.openType];if(a)TP({type:a,timestamp:Date.now(),data:{path:t.path,webviewId:t.webviewId,query:t.query,pageConfig:null===(r=D.default.page)||void 0===r?void 0:r[t.path],shouldCapture:n}})}})),(0,Ye.n)("onKeyboardHeightChange",(t=>{CP.recording&&e===wP&&TP({type:VT.KeyBoardHeightChange,timestamp:Date.now(),data:{payload:t}})})),(0,$o.Ke)((n=>{if(CP.recording&&e===wP){t+=Date.now()-r;var a={type:VT.AppShow,timestamp:Date.now(),data:{...n,inactiveTime:t}};delete a.data.shareTicket,setTimeout((()=>{TP(a)}),0)}})),(0,_r.vv)((()=>{CP.recording&&e===wP&&(r=Date.now(),TP({type:VT.AppHide,data:{},timestamp:Date.now()}),oP())}))}(wP)};function SP(){return(SP=X()((function*(){TP({type:VT.InitState,data:{launchOptions:Ce(),config:pA(),identifier:yield bP()},timestamp:Date.now()}),(0,N.tK)()&&oP()}))).apply(this,arguments)}var kP={recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob"},CP={events:[],pending:!1,recorderConfigs:kP,recording:!1,weSessionId:null},TP=e=>{CP.recording&&(CP.events.push(e),KT(QT.AppserviceEvent))},AP=e=>{try{if(CP.recording)return;if("string"!=typeof e.projectId||""===e.projectId)return;Object.assign(kP,e),EP(),IP(),function(){var e=(0,N.tK)()?1e3:5e3;function t(){return r.apply(this,arguments)}function r(){return(r=X()((function*(){yield oP(),aP=setTimeout(t,e)}))).apply(this,arguments)}aP=setTimeout(t,e)}()}catch(e){eA(ZT.AppserviceStart,e)}},PP=function(){var e=X()((function*(){try{if(!CP.recording)return;kP.recordingWebviewIds,(0,Pe.L)("teardownUserBehavior",void 0,kP.recordingWebviewIds,(()=>f.log("[wxobs appservice] webview teardown success"))),Object.assign(kP,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",projectId:"",encrypt:void 0,shouldCapturePage:()=>!0,reporter:void 0}),CP.recording=!1,CP.events=[],CP.recorderConfigs=kP,CP.pending=!1,CP.weSessionId=null,clearTimeout(aP)}catch(e){throw eA(ZT.AppserviceTeardown,e),e}}));return function(){return e.apply(this,arguments)}}(),EP=()=>{kP.sdkVersion=(0,bl.sb)().version||"",CP.recording=!0;var e=xP();TP({timestamp:Date.now(),type:VT.Start,data:{webviews:ye.Z.getWebviewIds(),shouldCapture:e}})};function xP(){var e=ye.Z.currentWebviewId;return!!(CP.recording&&kP.recordingWebviewIds.indexOf(e)<0&&CP.recorderConfigs.shouldCapturePage(ye.Z.lastRoute,ye.Z.query))&&(kP.recordingWebviewIds.push(e),void 0===kP.reporter&&(kP.reporter=e),(0,Pe.L)("recordUserBehavior",kP,[e],(()=>f.info("[wxobs appservice] trigger recordUserBehavior"))),!0)}function MP(e){return DP.apply(this,arguments)}function DP(){return DP=X()((function*(e){CP.recording&&TP({type:VT.CustomAttr,timestamp:Date.now(),data:e})})),DP.apply(this,arguments)}function RP(e){kP.cosInfo=e,(0,Pe.L)("resetCosInfo",e,kP.recordingWebviewIds,(()=>{}))}var LP=18e5;function OP(e){var t=Date.now();(0,$o.dN)((r=>{CP.recording&&Date.now()-t>LP&&1089!==r.scene&&e()})),(0,_r.vv)((()=>{t=Date.now()}))}var NP,jP=p(6227),BP={...e,wx:{}};NP=y,sC({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{serviceMarket:{apiKey:"getServiceMarketAPI",call:!0},cloud:{apiKey:"getCloudAPI",call:!0}},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:c,wxConsole:f,Reporter:_,console:console,__appServiceSDK__:BP,__wxConfig:D.default,Foundation:o,IS_APP:!1,__subContextEngine__:NP}),onInjectCallback:()=>{(0,jP.KF)("cloudSDK",jP.Q_.injected)},resultGetter:()=>Ne.uj,provideInGlobal:"__cloudSDKMain__",injectSub:void 0,src:"./src/cloud/dist/cloud-sdk-subpackage.js",emptyInjectKey:"inject"});R.onAppRoute=Vo.HM;var FP={bridgeOn:R},UP="undefined"!=typeof __initHelper?__initHelper:void 0;sC({name:"sclEngine",waLibName:"WASubGameSclEngine.js",compileType:"game",fakeProvider:{initScl:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:FP,WeixinJSBridge:c,wxConsole:f,Reporter:_,__wxConfig:D.default,WebAssembly:Pb.J,wxNativeConsole:h,__initHelper:UP}),onInjectCallback:()=>{(0,jP.KF)("sclengine",jP.Q_.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/game-scl-engine.js",emptyInjectKey:"inject"});var WP=p(1598),GP={...l};sC({name:"pixi",waLibName:"WAPixi.js",compileType:"game",globalName:"PIXI",globalGetter:()=>({console:console,wxConsole:f,wxNativeConsole:h,__wxConfig:D.default,__errorTracer__:b,wxGA:()=>wxGA,Reporter:_,Foundation:o,__appServiceSDK__:GP}),onInjectCallback:()=>{(0,jP.KF)("pixi",jP.Q_.injected)},provideInGlobal:"PIXI",reserveGlobal:!0,src:"./src/sdk/dist/pixi.js",emptyInjectKey:"inject"});var VP=p(1709);sC({name:"minigameLive",waLibName:"WAMinigameLive.js",compileType:"game",globalName:"__minigameLiveSDK__",globalGetter:()=>({console:console,wxNativeConsole:h,__wxConfig:D.default,__errorTracer__:b,wxConsole:f,wxGA:()=>wxGA,Reporter:_,Foundation:o,WeixinJSBridge:c,__appServiceSDK__:VP,__IS_MINIGAME_LIVE_SUB_PACKAGE__:!0,wxRunOnDebug:s}),exportApis:{dumpGameLivePanelUI:{apiKey:"dumpGameLivePanelUI"},updateGameLivePanelMenu:{apiKey:"innerUpdateMorePanel"}},onInjectCallback:()=>{(0,jP.KF)("minigamgelive",jP.Q_.injected)},reserveGlobal:!0,provideInGlobal:"__minigameLiveSDK__",src:"./src/sdk/dist/minigame-live-sdk.js",emptyInjectKey:"inject"}),sC({name:"wxGA",waLibName:"WAWxGa.js",globalName:"wxGA",compileType:"game",globalGetter:()=>({wxConsole:f,wxNativeConsole:h}),provideInGlobal:"wxGA",reserveGlobal:!0,onInjectCallback:()=>{(0,jP.KF)("wxga",jP.Q_.injected)},src:"./src/game-accelerator/ga/dist/WAGA.js",emptyInjectKey:"inject"}),sC({name:"kanata",waLibName:"WAKanata.js",compileType:"game",globalName:"_Kanata",globalGetter:()=>({wxConsole:f}),provideInGlobal:"_Kanata",reserveGlobal:!0,onInjectCallback:()=>{(0,jP.KF)("kanata",jP.Q_.injected)},src:"./src/kanata/lib/kanata.js",emptyInjectKey:"inject"}),sC({name:"protobuf",waLibName:"WAProtobuf.js",globalGetter:()=>({wxConsole:f,console:console,NativeGlobal:O.Z,__Function__:r,__SDK_SUB_PACKAGE__:!0}),onInjectCallback:()=>{(0,jP.KF)("protobuf",jP.Q_.injected)},provideInGlobal:"__protobufSDK__",reserveGlobal:!0,globalName:"__protobufSDKGetter__",src:"./src/sdk/src/appservice/protobuf/index.js",emptyInjectKey:"inject"});var $P={getNetworkType:Qe.getNetworkType,_requestSkipCheckDomain:q.ac,interaction:Me,systemInfo:Ae,requestVirtualPayment:e=>{(0,U.IN)("requestVirtualPayment",e)},requestPayment:Kt,invokeMidasOperateWXDataPromise:e=>(Oy.info("调用invokeMidasOperateWXDataPromise，参数：",e),Ey=String(Date.now()),(0,U.Qh)({apiName:e.apiName,sdkApiName:e.sdkApiName,reqData:e.reqData}).then((t=>{if(Oy.info("调用invokeMidasOperateWXDataPromise成功，结果为：:",t),0!==t.data.err_code)throw{errMsg:t.data.err_msg,errCode:t.data.err_code};try{var r,n,a,i,o;Py=String(Date.now());var s={subactionID:7,actionStatus:1,invokeId:my,errCode:0,errMsg:"",sceneId:xy,costTime:Py-Ey,status:Ny?1:2,time:Py-my,sdkVersion:3,funcType:Dy,funcId:My,requestPkg:{env:e.reqData.env,path:e.reqData.path},responsePkg:{err_code:null===(r=t.data)||void 0===r||null===(n=r.midas_response)||void 0===n||null===(a=n.response_body)||void 0===a?void 0:a.err_code,http_status:null===(i=t.data)||void 0===i||null===(o=i.midas_response)||void 0===o?void 0:o.http_status}};return ly(s),Oy.info("上报完成，上报参数为:",s),t}catch(e){Oy.info("发生错误:",e)}})).catch((t=>{throw Py=String(Date.now()),ly({subactionID:7,actionStatus:0,invokeId:my,errCode:dy(t),errMsg:py(t),sceneId:xy,costTime:Py-Ey,status:Ny?1:2,time:Py-my,sdkVersion:3,funcType:Dy,funcId:My,requestPkg:{env:e.env,path:e.path}}),t})))};sC({name:"midasSDK",waLibName:"WAMidasSDK.js",provideInGlobal:"MidasSDK",globalGetter:()=>({__appServiceSDK__:$P,console:console,wxConsole:f,wxNativeConsole:h}),globalName:"__MidasSDK__",onInjectCallback:()=>{(0,jP.KF)("midas",jP.Q_.injected)},src:"./src/sdk/dist/midas.js",emptyInjectKey:"inject"});var qP=p(5310),zP=!1,KP=null;D.default.onReady((()=>{(0,N.aI)()&&setTimeout((()=>{(0,U.yD)({apiName:"webapi_getadcardbalance",success({data:e}){zP=!e.errCode}})}),3e3)}));var HP=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),JP=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},YP=(0,U.TG)("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:a})=>{var i={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof a&&(i.start_time=n,i.end_time=a),i}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,HP(r)),e.otherInfos=n.map(HP)}delete e.live_info})),QP="getChannelsLiveInfo";function ZP(e){var t,r,n={...e,jsapi:QP};if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(n.startTime=JP(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=JP(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime))return void(0,U.YG)(QP,e,"invalid time range");YP(n)}var XP=p(9464),eE=p(4266),tE=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{});var rE=924,nE=2009,aE=(e,t)=>({idKey:e,idKeyGroup:t}),iE=e=>aE(e,rE),oE=e=>aE(e,nE),sE=(iE(5),iE(10),iE(11),iE(12),iE(13),iE(14),iE(21),iE(22),iE(23),iE(24),iE(25),iE(26),iE(28),iE(32),iE(33),iE(34),iE(35),iE(36),iE(37),iE(38),iE(39),iE(40),iE(41),iE(42),iE(43),iE(44),iE(45),iE(46),iE(49),iE(50),iE(86),iE(87),iE(88),iE(89),iE(90),iE(96),iE(97),iE(98),iE(99),iE(100),iE(101),iE(102),iE(103),iE(104),iE(106),iE(105),iE(107),iE(108),iE(109),iE(110),iE(112),iE(113),iE(114),iE(115),iE(116),iE(119),iE(120),iE(121),iE(123),iE(124),iE(125),iE(126),iE(127),iE(128),iE(129)),uE=(iE(130),iE(131)),cE=(iE(132),iE(133),iE(134),iE(135),iE(136),iE(137),iE(138),iE(139),iE(140),iE(141),iE(142),iE(143),iE(144),iE(145),iE(146),iE(147),iE(148),iE(149),iE(150),iE(151),iE(152),iE(153),iE(154),iE(156),iE(157),iE(158),iE(159),iE(160),iE(161),iE(162),iE(163),iE(164),iE(165),iE(166),iE(167),iE(168),iE(169),iE(170),iE(171),iE(173),iE(178),iE(179),iE(180),iE(181),iE(182),iE(183),iE(188),iE(189),iE(190),iE(191),iE(192),iE(193),iE(194),iE(195),iE(196),iE(197),iE(198),iE(199),iE(202),iE(203),iE(204),iE(205),iE(206),iE(207),iE(208),iE(209),iE(210),iE(211),iE(212),iE(213),iE(214),iE(215),iE(216),iE(217),iE(218),iE(219),iE(220),iE(221),iE(223),iE(224),iE(225),iE(226),iE(227),iE(228),iE(229),iE(230),iE(234),iE(235),iE(236),iE(237),iE(238),iE(239),iE(240),iE(241),iE(242),iE(243),iE(244),iE(246),iE(247),iE(250),iE(251),iE(252),iE(253),iE(254),oE(1),oE(2),oE(3),""),lE="",dE="{}",pE="",fE="",hE="{}";var gE=()=>{var e=(0,Ae.getInitScreenSize)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":D.default.deviceOrientation&&/^landscape/.test(D.default.deviceOrientation)?"landscape":D.default.deviceOrientation||"portrait"},vE={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}]},mE="",yE=N.iw,bE="",_E="",wE="",IE="",SE="",kE="",CE=!0,TE="";D.default.onReady((()=>{mE=gE()||"";var e=(0,Ae.getStableSystemInfo)();bE=e.system,_E=e.version,wE=e.SDKVersion,SE=e.model,kE=e.brand,CE=(0,N.aI)();try{TE=D.default.accountInfo.appId,IE=t.updateTime}catch(e){}}));var AE=(e,t)=>{var r=(e=>{var t=vE[e.toString()];return t?t.concat([]):[]})(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:TE,appid:TE,orig_weapp_id:"",network_type:"",wechat_version:_E,platform:yE,system_version:bE,device_orientation:mE,wxapp_lib_version:wE,wxapp_lib_time:IE,machine_type:SE,ad_platform:CE?1:0},t),t=Object.assign({DeviceModel:SE,DeviceBrand:kE,OsName:yE,OsVersion:bE},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),(0,U.Qh)({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}}).catch((e=>{}))},PE=(e,t,r)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),_.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}AE(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})})({key:e,extInfo:t,reportData:r})},EE={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:N.iw,isWaGame:!0,isApp:!1,isIOS:N.cj,isAndroid:N.wZ,isWindows:N.qB,isMac:N.Mq,isPC:N.DD,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},xE={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""};o.onLoad((()=>{EE.startTime=new Date,xE.enterForegroundTime=new Date}));var ME,DE,RE,LE,OE,NE,jE,BE=()=>tE(EE,["oaid","imei","idfa","common_device_id"]),FE=()=>{var e=(0,Ae.getSystemInfoSync)();return EE.screenWidth=e.screenWidth,EE.screenHeight=e.screenHeight,EE.deviceOrientation=EE.screenWidth>EE.screenHeight?"landscape":"portrait",EE.deviceOrientation},UE=()=>{},WE=()=>UE(),GE=()=>new Promise((e=>{UE=e})),VE=()=>new Promise((e=>{!function(e){cE?e&&e(cE):N.wZ&&D.default.clientVersion<654315827?(0,U.IN)("getOAID",{success(t){/:ok/.test(t.errMsg)?(cE=t.result||"",e&&e(cE)):e&&e("")},fail(){e&&e("")}}):e&&e("")}((t=>{EE.oaid=t,e()}))})),$E=()=>new Promise((e=>{(function(e=""){return new Promise(((t,r)=>{N.wZ&&D.default.clientVersion>=654315827||N.cj&&D.default.clientVersion>=385879808?(0,U.IN)("getDeviceInfo",{waidPkg:e,success(e){cE=e.oaid||"",lE=e.imei||"",fE=e.waid||"",pE=e.ua||"",hE=e.devIdInfo||"{}";try{dE=JSON.stringify({...JSON.parse(hE),...pE?{ua:pE}:{}})}catch(e){r(e)}t({oaid:cE,imei:lE,commonid:dE,waid:fE})},fail(e){r(e)}}):t({oaid:cE,imei:lE,commonid:dE,waid:fE})}))})().then((({imei:t,oaid:r,commonid:n})=>{N.cj?EE.idfa=t:N.wZ&&(EE.oaid=r,EE.imei=t),EE.common_device_id=n||"{}",e(),GE().then((()=>{PE(uE)}))})).catch((t=>{e(),GE().then((()=>{PE(sE,t)}))}))})),qE=new Promise((e=>{D.default.onReady((()=>{var r;EE.safeArea=D.default.safeArea||{},EE.startTime=new Date,EE.deviceOrientation=gE()||"",EE.envVersion=D.default.envVersion;var n=(0,Ae.getStableSystemInfo)(),a=(0,Ae.getInitScreenSize)();EE.screenWidth=a.screenWidth||0,EE.screenHeight=a.screenHeight||0,EE.systemVersion=n.system,EE.wechatVersion=n.version,EE.SDKVersion=n.SDKVersion,EE.brand=n.brand,EE.model=n.model,EE.isIPad=null===(r=n.model)||void 0===r?void 0:r.includes("iPad"),EE.isWaGame=(0,N.aI)(),EE.isApp=(0,N.RF)();try{EE.gameAppId=D.default.accountInfo.appId,EE.SDKVersionTime=t.updateTime}catch(e){}Promise.all([VE(),$E()]).then((()=>e(EE)))}))})),zE=e=>{var t=Object.keys(e);for(var r of t)EE[r]=e[r]};try{(0,Vo.HM)((({webviewId:e,openType:t,path:r})=>{EE.isWaGame||(xE.lastWebviewId=xE.currentWebviewId,xE.currentWebviewId=e||0,xE.currentOpenType=t,xE.weappPath=r)}))}catch{}var KE=()=>({gameTouchStartPosX:ME,gameTouchStartPosY:DE,gameTouchEndPosX:RE,gameTouchEndPosY:LE,gameTouchInterval:OE,gameTouchStartTime:NE,gameTouchEndTime:jE}),HE=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(ME=Math.round(e.changedTouches[0].clientX),DE=Math.round(e.changedTouches[0].clientY),RE=0,LE=0,OE=0,NE=+new Date)},JE=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(RE=Math.round(e.changedTouches[0].clientX),LE=Math.round(e.changedTouches[0].clientY),OE=+new Date-NE,jE=+new Date)},YE=()=>{Nf.offTouchStart(HE),Nf.offTouchEnd(JE)};D.default.onReady((()=>{Nf.onTouchStart(HE),Nf.onTouchEnd(JE)})),(0,$o.dN)((({scene:e})=>{xE.enterForegroundTime=new Date,xE.currentScene=e})),(0,_r.vv)((()=>{xE.gameDuration+=Date.now()-xE.enterForegroundTime.getTime()}));var QE=p(5943),ZE=p(8220),XE=p(8182),ex=p(9833),tx=p(658),rx={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},nx={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3};const ax={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:nx,adTypeName:{[nx.AD_TYPE_BANNER]:"BANNER",[nx.AD_TYPE_PORTAL]:"PORTAL",[nx.AD_TYPE_ICON]:"ICON"},actionType:rx,feedbackList:[{name:"不感兴趣",actionType:rx.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:rx.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}};var ix=null,ox=!1;function sx(e,t){var r,n={};return(0,U.IN)("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function ux(e,t){var r={};if(ox)r=sx(e,t);else if(ix||(ix=function(){var e=new O.Z.Canvas;return e.width=1,e.height=1,e.getContext("2d")}()),ix){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(ix.font=n),r=ix.measureText(e)}else ox=!0,r=sx(e,t);return r.width||0}var cx=ax.presetChars;const lx=new class{constructor(){}getCharWidth(e,t){return(cx[e]?cx[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return N.wZ?this.getTextWidthInAndroid(e,t):Math.ceil(ux(e,t?{fontSize:t,fontFamily:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var a=0,i=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],u=this.getCharWidth(s,t);if(a+u>r)break;i++,a+=u}return i}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:a=1}=t,i=[],o=0,s=e.substring(0,e.length);o<a;){var u=this.getMaxWordLength(s,r,n,!(o!==a-1)),c=o===a-1?this.limitString(s,u):s.substring(0,u);c&&i.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(u,s.length)}return i}};var dx=p(3165),px=p(8105),fx=p(8605),hx=p(143),gx=new We.Q("playableads",!1);function vx(e){gx.on("playableStatusChange",e)}function mx(e){gx.off("playableStatusChange",e)}(0,U.jQ)("onPlayableStatusChange",(e=>{gx.emit("playableStatusChange",e)}));var yx=(0,hx.v)("ad"),bx={GameGlobal:qP.Z,_onShow:$o.dN,_onHide:_r.vv,_offShow:$o.Tb,_offHide:_r.b$,onBeforeHide:_r.VT,onAfterHide:_r.rc,offBeforeHide:_r.yN,offAfterHide:_r.UR,_downloadFileSkipCheckDomain:mr.o,touch:Nf,reportCanvasData:Xv.y4,ReportCanvasDataEventType:Xv.F0,checkAndUseAdSkipCard:function(){return new Promise(((e,t)=>{zP||t(),zP&&(KP=setTimeout(t,3e3)),zP&&(0,U.yD)({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:a}=r;!n&&a?(KP&&clearTimeout(KP),(0,Me._showModal)({title:"是否使用广告跳过卡",content:`当前还有${a}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?(0,U.yD)({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?((0,Me.showToast)({title:"使用广告卡失败",icon:"error"}),t()):((0,Me.showToast)({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))},_requestSkipCheckDomain:Ur.ac,onAppRoute:Vo.HM,showToast:Me.showToast,_getNetworkType:Qe.getNetworkType,getChannelsLiveInfo:ZP,_showModal:Me._showModal,getInitScreenSize:Ae.getInitScreenSize,getSystemInfoSync:Ae.getSystemInfoSync,onAppRouteDone:Xd,onWindowResize:XP.KN,beginAudioInterruption:Tl,endAudioInterruption:Al,__wxConfig:D.default,onNativeEvent:Ye.n,offNativeEvent:Ye.ri,onNetworkWeakChange:Qe.onNetworkWeakChange,getExptInfoSync:vt,addInnerShareCallbacks:px.w,onBeforeUnloadPage:qo.dq,_onUserCaptureScreen:qa,getAdUxInfo:De.I,getStableSystemInfo:Yu.Oo,vibrateShort:Za,vibrateLong:Xa,_gameTransfer:eE.i,...w,webviewLayout:QE.u,nativeviewLayout:QE._,View:ZE.G,Text:XE.x,Image:ex.E,Video:tx.n,Component:Db.wA,initComponent:Db.S1,createComponent:Db.Ue,getPrivateThis:Db.Wj,removePrivateThis:Db.bn,invoke:fx.d,invokeMethod:U.IN,beforeInvoke:U.r3,onMethod:U.jQ,publish:U.nY,subscribe:U.Ld,invokeOperateWXDataPromise:U.Qh,_invokeMethod:U.be,gametext:lx,packageChannel:yx,getGameTouchStatus:KE,onPlayableStatusChange:vx,offPlayableStatusChange:mx,_getABTestConfig:tu.b,readdir:dx.e,stat:od.lz,unlink:ah.q,writeFile:Lp.N,readFile:Wr.p,readFileSync:Wr.N,access:Op.P,accessSync:Op.c,wxNativeConsole:h,wxConsole:f,console:console,_createInnerAudioContext:Ed,invokeOperateWXData:U.yD};const _x=bx;sC({name:"ad",waLibName:"WAGameAd.js",compileType:"game",globalName:"AD",globalGetter:()=>({console:console,wxConsole:f,wxNativeConsole:h,__wxConfig:D.default,__errorTracer__:b,Reporter:_,Foundation:o,WeixinJSBridge:c,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!0,IS_WORKER:!1,wxRunOnDebug:s,__appServiceSDKAD__:_x,readFile:Wr.p}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd"},createIncentiveVideoAd:{apiKey:"createRewardedVideoAd"},createBannerAd:{apiKey:"createBannerAd"},createInterstitialAd:{apiKey:"createInterstitialAd"},createCustomAd:{apiKey:"createCustomAd"},createGridAd:{apiKey:"createGridAd"},createCpsAd:{apiKey:"createCpsAd"},preloadAd:{apiKey:"preloadAd"}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/game-ad.js",onInjectCallback:()=>{(0,jP.KF)("ad",jP.Q_.injected),YE()},emptyInjectKey:"inject"});var wx=p(4545),Ix=p(7520),Sx=p(9499),kx=p(3478),Cx=p(8143),Tx=e=>new Bh.kh(e);sC({name:"minigamePlatform",waLibName:"WAMinigamePlatform.js",globalName:"__minigamePlatformSDK__",globalGetter:()=>({console:console,wxNativeConsole:h,__wxConfig:D.default,__errorTracer__:b,wxConsole:f,wxGA:()=>wxGA,Reporter:_,Foundation:o,WeixinJSBridge:c,__appServiceSDK__:k,__IS_MINIGAME_LIVE_SUB_PACKAGE__:!0,wxRunOnDebug:s}),onInjectCallback:()=>{(0,jP.KF)("minigamePlatform",jP.Q_.injected)},reserveGlobal:!0,provideInGlobal:"__minigamePlatformSDK__",src:"./src/sdk/dist/minigame-platform-sdk.js",emptyInjectKey:"inject"});var Ax=p(9533),Px=(0,W.s)("subpackage:beforeSubPackageReady"),Ex=(0,W.s)("subpackage:onSubPackageReady"),xx=(Px.internalOnMethod,Ex.internalOnMethod);(0,Ax.j)("onSubPackageReady",(e=>{h.info("[onSubPackageReady]",e),Px.emit(e),Ex.emit(e)}));var Mx=[],Dx=e=>Mx.push(e),Rx=()=>Mx,Lx={},Ox=[],Nx=new WeakMap,jx=new WeakMap,Bx=function(e){return Lx[e]},Fx=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};Kb.on("success",((e,t)=>{var r=Bx(e);delete Lx[e],Qb(e),Array.isArray(r)&&r.forEach(function(){var e=X()((function*(e){var r=t.moduleName,n=Nx.get(e),a=Fx(t);Ox.push(r),a.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(a),"function"==typeof n.complete&&n.complete(a)}));return function(t){return e.apply(this,arguments)}}())})),Kb.on("fail",((e,t)=>{var r=Bx(e);delete Lx[e],Qb(e),Array.isArray(r)&&r.forEach((e=>{var r=Nx.get(e),n=Fx(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),Kb.on("progressUpdate",((e,t)=>{var r=Bx(e);Array.isArray(r)&&r.forEach((e=>{var r=jx.get(e),n=Fx(t);"function"==typeof r&&r(n)}))}));var Ux=function(){var e=Nx.get(this),{name:t}=e;if(Ox.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&N.gm&&(0,Oe.N0)()&&(0,N.aI)()){Ox.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}Zb("createLoadSubPackageTask",t,(e=>{void 0===Lx[e]?Lx[e]=[this]:Lx[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",b.surroundThirdByTryCatch(e.fail)(t),b.surroundThirdByTryCatch(e.complete)(t)}))};class Wx{constructor(e){Nx.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=b.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),Ux.call(this)}onProgressUpdate(e){jx.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&b.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var Gx=p(3122),Vx=(e={})=>{"develop"===D.default.envVersion||"trial"===D.default.envVersion?$x(e):(0,U.YG)("previewPlayableView",e,"this api can only be used in the development environment")},$x=(e={})=>{var t,r,n={end:0,firstFrame:1,error:2},{envVersion:a,playableModuleName:i}=e,o=e.playableOrientation||"portrait",s=D.default.deviceOrientation||"portrait",u=Gx.r.increase(),c=i||"/playableDemo/",l=[D.default.envVersion,"release"];if(l.includes(a)){var d={release:0,develop:1,trial:2},p=[];o!==s?p.push(new Promise((e=>{(0,xg.MI)({value:o,complete(){e()}})}))):p.push(Promise.resolve()),"release"===a?p.push(new Promise(((e,t)=>{(0,U.IN)("predownloadMiniProgramPackage",{appId:D.default.accountInfo.appId,moduleName:c,scene:15,success:()=>{e()},fail:e=>{t(e),mx(h)}})}))):p.push(new Promise(((e,t)=>{new Wx({name:c,success:()=>{e()},fail:e=>{mx(h),t(e)}})}))),Promise.all(p).then((()=>{(0,Ae.getSystemInfoAsync)({complete(n){r=n.screenHeight||D.default.screenHeight,t=n.screenWidth||D.default.screenWidth,vx(h),(0,U.IN)("insertMiniProgramPlayableView",Object.assign(f(),{fail:t=>{(0,U.YG)("previewPlayableView",e,t.errMsg),mx(h)}}))}})})).catch((t=>{(0,U.YG)("previewPlayableView",e,t.errMsg)}))}else(0,U.YG)("previewPlayableView",e,`parameter "envVersion" can only be one of ${l.join(", ")}`);function f(){return{appId:D.default.accountInfo.appId,moduleName:c,versionType:d[a],dest:0,parentId:0,viewId:u,zIndex:1e6,position:{left:0,top:0,width:t,height:r}}}function h(t){if(t&&t.action===n.firstFrame)(0,U.IN)("updateMiniProgramPlayableView",Object.assign(f(),{resume:!0,success:e.success,fail:e.fail,complete:e.complete}),{beforeAll(e){e.errMsg=e.errMsg.replace("updateMiniProgramPlayableView","previewPlayableView"),mx(h)}});else if(t&&t.action===n.error){var r="some error occurs when displaying playable view",a=t.status?r+": "+t.status:r;(0,U.YG)("previewPlayableView",e,a)}}};var qx=Object.assign,zx=null,Kx=null,Hx=nk(),Jx={console:F(),Reporter:_,setTimeout:Hx.setTimeout,clearTimeout:Hx.clearTimeout,setInterval:Hx.setInterval,clearInterval:Hx.clearInterval,requestAnimationFrame:Hx.requestAnimationFrame,cancelAnimationFrame:Hx.cancelAnimationFrame,wxNativeConsole:h,FunctionalPage:iw,requirePlugin:ik.I,get WXWebAssembly(){return(0,Pb.o)()},getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},_getCurrentNetworkType:Qe._getCurrentNetworkType,WXWeakRef:Ab()},Yx=nk(),Qx={WXConfig:D.default,get log(){return O.Z.log},setTimeout:Yx.setTimeout,clearTimeout:Yx.clearTimeout,setInterval:Yx.setInterval,clearInterval:Yx.clearInterval,requestAnimationFrame:Yx.requestAnimationFrame,cancelAnimationFrame:Yx.cancelAnimationFrame,Canvas:sf.UK,Image:uf.D,Touch:Lf,Audio:xd,APIs:{getGroupUserGameData:({shareTicket:e,success:t,fail:r,complete:n}={})=>{setTimeout((()=>{var a=e||cr.Z.lastShareTicket;if(a&&cr.Z.get(a)){var i=cr.Z.get(a),{shareKey:o,shareName:s}=i;(0,U.yD)({sdkApiName:"getGroupUserGameData",apiName:"webapi_getgroupsnsdata",reqData:{share_key:o,share_name:s},success:e=>{var r=e.data,n=r.member_list||r.memberList||[];fw=n,"function"==typeof t&&t({errMsg:e.errMsg,data:n})},fail:r,complete:n})}else{var u={errMsg:"getGroupUserGameData:fail 当前小程序不是从群分享卡片打开"};"function"==typeof r&&r(u),"function"==typeof n&&n(u)}}),0)},getFriendUserGameData:({success:e,fail:t,complete:r}={})=>{setTimeout((()=>{(0,U.yD)({sdkApiName:"getFriendUserGameData",apiName:"webapi_getfriendsnsdata",reqData:{},success:t=>{var r=t.data.friendList||[];hw=r,"function"==typeof e&&e({errMsg:t.errMsg,data:r})},fail:t,complete:r})}),0)},getUserInfo:gw.b,getFriendCloudStorage:Hg.getFriendCloudStorage,getGroupInfo:Hg.getGroupInfo,getGroupCloudStorage:Hg.getGroupCloudStorage,getUserCloudStorage:vw.u,setUserCloudStorage:yw,getUserCloudStorageKeys:Hg.getUserCloudStorageKeys,removeUserCloudStorage:ww,getGroupDataCache:()=>fw,getFriendDataCache:()=>hw,getSystemInfo:Ae.getSystemInfo,getSystemInfoSync:Ae.getSystemInfoSync,showModal:Me.showModal,modifyFriendInteractiveStorage:ak.Fc,shareMessageToFriend:Iw.N,getPotentialFriendList:Hg.getPotentialFriendList,getGameServerManager:()=>YS,routeJSServer:ok,getCloudFileInfo:br.K,checkHandoffEnabled:function(e={}){(0,U.IN)("checkHandoffEnabled",Object.assign({},e,{showToast:!1}),{beforeSuccess:({isEnabled:e,errCode:t})=>ow(2,3,e?1:0,t)})},startHandoff:function(e={}){(0,wt.J)("handoff")?sw?(0,U.IN)("checkHandoffEnabled",{showToast:!0,success({isEnabled:t,errCode:r}){t?function(e={}){ow(2,2,2),(0,tm.lX)({apply:"在电脑端微信打开小游戏",success(){ow(2,2,1),(0,U.IN)("startHandoff",Object.assign({},e,{actionId:2}),{beforeSuccess:()=>ow(2,1,1),beforeFail:({errCode:e})=>ow(2,1,0,e)})},fail(){ow(2,2,0),(0,U.YG)("startHandoff",e,"cancel")}})}(Object.assign({},e,{path:uw})):(ow(2,1,0,r),(0,U.YG)("startHandoff",e,"low pc version or not login"))},fail({errMsg:t}){(0,U.YG)("startHandoff",e,t)}}):(0,U.YG)("startHandoff",e,"not in touchEnd"):(0,U.YG)("startHandoff",e,"no permission")}},checkPermissionSync:wt.J,apiReport:uk.XG,Reporter:qx({},_,{thirdErrorReport:e=>{_.thirdErrorReport(qx({},e,{isOpenDataContextError:!0}))}}),wxNativeConsole:h,requirePlugin:ik.V,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},get URL(){return O.Z.URL||p.g.URL||p.g.webkitURL},get location(){return O.Z.location}};N.gm&&(Qx.console=console),N.jP&&(Qx.WXConfig.__wkrenderer_h5=!0);var Zx=function(){if(zx)return zx;var{wx:e}=b6;if(Jx._createSharedCanvas=sf.zL,Qx._createSharedCanvas=sf.zL,Qx.originalProto=(0,Eb.wj)(),Qx.WXConfig=D.default,Jx.wx=e,Jx.skipCondom=Rx(),D.default.openDataContextExtension){var t=Object.assign({},e,{getFileSystemManager:K.Y5},ve.opendata);t.env={USER_DATA_PATH:(0,sk.WZ)()},Qx.downloadFile=q.ot,Qx.wx=t,Qx.NativeGlobal=O.Z}return zx={game:Jx,gameOpenData:Qx}},Xx=function(){if(Kx)return Kx;var{wx:e}=b6;return Kx={game:{wx:e},gameSkipCondom:Rx()}},eM=()=>{nC(aC)},tM=e=>{var{provider:t}=e;return{console:F(),Reporter:_,setTimeout:O.Z.setTimeout,clearTimeout:O.Z.clearTimeout,setInterval:O.Z.setInterval,clearInterval:O.Z.clearInterval,requestAnimationFrame:O.Z.requestAnimationFrame,cancelAnimationFrame:O.Z.cancelAnimationFrame,WXWebAssembly:(0,Pb.o)({provider:t}),wx:Kk({provider:t})}},rM=(e,t={})=>{if(N.wZ||N.cj)!function(e,t={}){setTimeout((()=>{$x({envVersion:D.default.envVersion,playableModuleName:e,playableOrientation:t.playableOrientation,success:()=>{(0,sf.rU)().getContext("2d").clearRect(0,0,1,1)}})}),10)}(e,t);else{var{mockPlayableEnvWX:r}=b6;Jx.wx=r;var n=t.playableOrientation||"portrait";n!==(D.default.deviceOrientation||"portrait")&&(0,xg.MI)({value:n})}},nM=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},aM=p(584),iM=p(7414),oM=new WeakMap;class sM{constructor({buttonName:e="button",type:t="text",style:r={},text:n="",image:a="",onTapCallback:i=(()=>Promise.resolve()),reportGameButtonkv:o=(()=>Promise.resolve()),openlink:s,hasRedDot:u}){var c={},l={};if(oM.set(this,l),l.emitter=new aM.Z,l.onTapCallback=i,r=Object.assign((0,iM.ph)(),r,{position:"absolute"}),this.style={},"gameClubButton"===e){if(l.button=new Bh.G7({style:r,clickState:!0}),"image"===t){var d,p,f=new ex.E({style:{width:null!==(d=r.width)&&void 0!==d?d:0,height:null!==(p=r.height)&&void 0!==p?p:0,top:0,left:0},src:a,bubbleEvent:!0});l.buttonImage=f,l.button.add(f)}var h;if(void 0!==s)if(u){var g;g=.4*(r.width<r.height?r.width:r.height);var v=new ex.E({style:{position:"absolute",top:0,left:r.width-g,width:g,height:g,borderRadius:g/2,backgroundColor:"#FA5151"},bubbleEvent:!0}),m=new ex.E({style:{width:g,height:g,borderRadius:g/2,borderWidth:1,borderColor:"#FFFFFF"},bubbleEvent:!0});v.add(m),l.button.add(v),o({externInfo:{reddot:1},url:s}),c.redInfo={reddot:1},c.callback=()=>{l.button.remove(v),c.redInfo.reddot=0}}else o({externInfo:{reddot:0},url:s}),c.redInfo={reddot:0};else(0,U.yD)({sdkApiName:"getgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.getgameclubbuttoninfo",appid:null===D.default||void 0===D.default||null===(h=D.default.accountInfo)||void 0===h?void 0:h.appId},success:e=>{if(e.data.red_dot&&"{}"!==JSON.stringify(e.data.red_dot)){var t,n=e.data.red_dot.reddot_num;t=n>0?.4*(r.width<r.height?r.width:r.height):.3*(r.width<r.height?r.width:r.height);var a=new ex.E({style:{position:"absolute",top:0,left:r.width-t,width:t,height:t,borderRadius:t/2,backgroundColor:"#FA5151"},bubbleEvent:!0}),i=new ex.E({style:{width:t,height:t,borderRadius:t/2,borderWidth:1,borderColor:"#FFFFFF"},bubbleEvent:!0});if(a.add(i),n>0){var s=new XE.x({style:{position:"absolute",top:0,left:0,width:t,height:t,lineHeight:t,textAlign:"center",fontSize:.5*t,color:"#ffffff"},value:n.toString(),bubbleEvent:!0});a.add(s)}l.button.add(a);var u=e.data.red_dot.reddot_id;c.redInfo={reddot:1,reddotid:u},c.url=e.data.red_dot.reddot_h5_jump_url,o({externInfo:{reddot:1,reddotid:u},url:c.url}),c.callback=()=>{(0,U.yD)({sdkApiName:"reportgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.reportgameclubbuttoninfo",reddot_id:u},success:e=>{l.button.remove(a),c.url=void 0,c.redInfo.reddot=0,c.redInfo.reddotid=void 0},fail:e=>{l.button.remove(a),c.url=void 0,c.redInfo.reddot=0,c.redInfo.reddotid=void 0}})}}else o({exterInfo:{reddot:0}}),c.redInfo={reddot:0}},fail:e=>{}})}else l.button="image"===t?new ex.E({style:r,src:a,eventType:"click"}):new XE.x({style:r,value:n,eventType:"click"});Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>n,set:e=>{n=e,l.button.value=e}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>a,set:t=>{a=t,"gameClubButton"===e?l.buttonImage.src=t:l.button.src=t}}),Object.keys(r).forEach((e=>{"position"!==e&&Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{r[e]=t,l.button.style[e]=t}})})),l.button.on("click",(()=>{l.onTapCallback(c).then((e=>l.emitter.emit("tap",e))).catch((e=>l.emitter.emit("tap",e)))})),QE.u.add(l.button)}onTap(e){oM.get(this).emitter.on("tap",e)}offTap(e){oM.get(this).emitter.off("tap",e)}show(){oM.get(this).button.style.hidden=!1}hide(){oM.get(this).button.style.hidden=!0}destroy(){var e=oM.get(this);QE.u.remove(e.button)}}var uM=p(3369),cM=(0,uM.Fr)((({withCredentials:e=!0,lang:t="en",success:r,fail:n}={},a)=>{var i=D.default.SDKVersion;Nu("createUserInfoButton").catch((e=>({success:!0}))).then((({success:o,errMsg:s,errno:u})=>{o?(0,U.yD)({apiName:"webapi_getuserinfo",sdkApiName:"getUserInfo",fromComponent:!0,withCredentials:e,reqData:{lang:t,version:i},complete(){(0,va.eu)({user_action:[va.Vw.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&(0,va.rL)(t,r,!0)})).catch((e=>h.error(e)))},success:e=>{e.userInfo=e.data,e.rawData=JSON.stringify(e.data),delete e.data,r(e)},fail:n}):(console.error("createUserInfoButton:fail "+s),oM.get(a).emitter.emit("tap",{errMsg:s,errno:u}))}))}));class lM extends sM{constructor({type:e="text",style:t,image:r,text:n="获取用户信息",withCredentials:a,lang:i}={}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>cM({withCredentials:a,lang:i},this)})}}var dM={green:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHroMcjTH0DGy1sGwV95nfxnBialPaFEXZG5B1iarolFC6Uic4BRlTlsR0Q/0?wx_fmt=png",white:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH8hmRP9YkP3WHQ9gKcXR4oKD0rwZxFojibQDMfjgwa3foAtjZH7Ce9Xg/0?wx_fmt=png",light:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHlGKmb23Js82NJ4dH3b3BoUNe74Tvk2Q4ZVfzD8ibwJicgs1czbYd6Qtw/0?wx_fmt=png",dark:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH6RhR996JZgib3RG3AtyO1OgnR6FibX7DPsBKQAJd5miaYcwyslLR7F6KQ/0?wx_fmt=png"},pM={appid:"",ssid:1037},fM={appid:"",ssid:30,wechat_pkgid:"circlecenter_mixed_circle",s_prot:20267,s_uia:1001,s_pid:1};D.default.onReady((()=>{pM.appid=D.default.accountInfo.appId,fM.appid=D.default.accountInfo.appId,fM.s_cid=D.default.accountInfo.appId}));function hM({UIArea:e=0,SCeneID:t,PositionID:r=0,ActionID:n,Object:a=0,Status:i,ExpID:o="",ErrType:s="",ContentType:u=0,ContentID:c=0,ExternInfo:l,reportTime:d=0,SourceID:p=0,Touin:f=0}){_.reportKeyValue({key:"GameAdsSkipCard",value:[(0,Qe._getCurrentNetworkType)(),D.default.appLaunchInfo.scene,f,t,e,r,n,"",0,a,i,p,"",o,0,s,d,0,"",u,c,0,l?encodeURIComponent(JSON.stringify(l)):""].join(",")})}var gM=(0,uM.Fr)((({success:e,fail:t,extra:r,buttonInfo:n,openlink:a,hasRedDot:i})=>{if((0,Xv.y4)(Xv.F0.EVENT_CANVAS_BEFORE_GAME_ClUB),(0,wt.J)("openH5GameClub")){var o=!1;if("ios"===D.default.platform&&setTimeout((()=>{o||(o=!0,e())}),2e3),void 0!==a){(0,U.yD)({apiName:"webapi_game_transfer",sdkApiName:"openPage",reqData:{req_path:"api.translateopenpagelink",openlink:a},success(r){var a,s,u=null==r||null===(a=r.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.url;u&&(u=(N.cj||N.wZ)&&u.indexOf("wechat_pkgid")>=0?u.replace("#wechat_redirect",""):u,(0,em.n)({useGameWePkgIfExist:!0,url:u,success(){hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:Object.assign({jump:"h5"},n.redInfo),Touin:u}),hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:3,ExternInfo:Object.assign({jump:"h5"},n.redInfo),Touin:u}),i&&n.callback(),o||(o=!0,e(r))},fail(e){hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1",Touin:u}),t(e)}}))},fail(e){console.error(e),h.error(e)}})}else{var s;n.url?s=n.url:(c=Object.assign({},r,fM),s=`https://game.weixin.qq.com/cgi-bin/h5/static/circlecenter/mixed_circle.html?${Object.keys(c).map((e=>{try{return`${encodeURIComponent(e)}=${encodeURIComponent(c[e])}`}catch(e){return""}})).join("&")}`),(0,U.IN)("private_openUrl",{useGameWePkgIfExist:!0,url:s,isNativeStyle:!0,success:t=>{hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:Object.assign({jump:"h5"},n.redInfo),Touin:s}),hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:3,ExternInfo:Object.assign({jump:"h5"},n.redInfo),Touin:s}),n.url&&n.callback(),o||(o=!0,e(t))},fail:e=>{hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1",Touin:s}),t(e)}})}}else{var u=function(e,t){return`${e}?${Object.keys(t).map((e=>{try{return`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}catch(e){return""}})).join("&")}`}("pages/club_index/club_index.html",Object.assign({},r,pM));hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2}),(0,U.IN)("navigateToMiniProgram",{appId:"wxff3bb5c177303374",path:u,scene:37,sourcetype:3,success:t=>{hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:{jump:"progm"}}),e(t)},fail:e=>{hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1"}),t(e)}})}var c}));class vM extends sM{constructor({style:e,icon:t="green",type:r="image",image:n,text:a="打开游戏圈",openlink:i,extra:o,hasRedDot:s=!0}={}){"bindGroup"===r?(r="text",a="关联群聊",o=Object.assign({},o,{action:"bindGroup"})):"joinGroup"===r&&(r="text",a="进入群聊",o=Object.assign({},o,{action:"joinGroup"})),super({buttonName:"gameClubButton",type:r,style:e,image:n||dM[t],text:a,onTapCallback:e=>gM({extra:o,buttonInfo:e,openlink:i,hasRedDot:s}),reportGameButtonkv:({externInfo:e,url:t=""})=>hM({SCeneID:59,UIArea:5901,PositionID:1,ActionID:1,ExternInfo:e,Touin:t}),openlink:i,hasRedDot:s}),"image"===r&&Object.defineProperty(this,"icon",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,_private.button.src=dM[t]}})}}var mM=p(8834),yM=(0,uM.Fr)(ea.s);class bM extends sM{constructor({type:e="text",style:t,image:r,text:n="打开设置"}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>yM().then((()=>{(0,mM.Y)({name:"openSetting",scene:1})}))})}}var _M="";try{D.default.onReady((()=>{_M=D.default.accountInfo.appId}))}catch(e){}var wM=(0,uM.Fr)((({success:e,fail:t})=>{(0,U.IN)("private_openUrl",{url:`https://mp.weixin.qq.com/mp/wapreportwxadevlog?action=get_page&appid=${_M}#wechat_redirect`,isNativeStyle:!0,success:e,fail:t})}));class IM extends sM{constructor({type:e="text",style:t,image:r,text:n="打开意见反馈页面"}){super({type:e,style:t,image:r,text:n,onTapCallback:()=>wM()})}}var SM=(e={})=>new lM(e),kM=(e={})=>new vM(e),CM=(e={})=>new bM(e),TM=(e={})=>new IM(e);function AM(e,t){if(function(e,t){var{toString:r}=Object.prototype;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||r.call(e).slice(8,-1)===t}(t,"String")){var r=t.split(".");return r.reduce(((e,t,n)=>n===r.length-1?e[t]:e[t]||{}),e)}}function PM(){var e=(0,Db.Wj)(this),t=new Date;return(0,U.Qh)({sdkApiName:"compload",apiName:"webapi_compload",reqData:{act_id:e.act_id,comp_id:e.comp_id}}).catch((r=>{throw e.reporter.reportKeyValue({action:NM.actionMap.getJSON,execTime:new Date-t,externInfo:JSON.stringify(r),isSuccess:0}),e.config={flows:[]},e.emitter.emit("error",r),new Error(DM(r))})).then((r=>{e.reporter.reportKeyValue({action:NM.actionMap.getJSON,execTime:new Date-t,isSuccess:1}),r||(r={});var n=r.data||{},{sign:a,config:i}=n;e.sign=a,e.config=i,e.config}))}function EM(){var e=(0,Db.Wj)(this);this.isDestroyed=!0,this.ready=!1,e.emitter.off("_error"),e.emitter.off("load"),e.pages.forEach((e=>{Bh.uo.remove(e)}))}function xM(){var e=(0,Db.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{EM.call(this),t()})).catch((()=>{EM.call(this),t()})):(EM.call(this),t())}))),e.destroyPromise}function MM(){var e=(0,Db.Wj)(this);return e.fetchPromise=PM.call(this).then((()=>{if(this.isDestroyed)throw new Error("组件已经被销毁");return e.uiEngine.init()})),e.fetchPromise}function DM(e){var t;try{t=JSON.stringify(e)}catch(e){t="{}"}return t}function RM(e){return JSON.parse(JSON.stringify(e))}function LM(e,t){var r;e=e||"{}";try{r=JSON.parse(e)}catch(e){r=t||{}}return r}var OM={appid:"",scene:0};D.default.onReady((()=>{var e=D.default.appLaunchInfo||{},t=D.default.accountInfo||{};OM.scene=e.scene||0,OM.appid=t.appId||"",OM.SDKVersion=D.default.SDKVersion}));class NM{constructor(e){this._private=e}reportKeyValue({action:e,execTime:t=0,externInfo:r="",isSuccess:n=1,flowid:a=""}){var i=[OM.scene,this._private.act_id,this._private.comp_id,OM.SDKVersion,(0,Qe._getCurrentNetworkType)(),e,n,t,r,a].map(encodeURIComponent).join(",");_.reportKeyValue({key:"GameComponent",value:i,force:!0,immediately:!0})}}NM.actionMap={getJSON:1,execFlow:2,execModelAction:3,shareAppMessage:4,launchGameWithShare:5,broadcastEvent:6,closeComponent:7,exposure:8,createRewardedVideoAd:9,createAndShowRewardedVideoAdSuccess:10,createAndShowRewardedVideoAdFail:11,confirmRewardVideo:12,cancelRewardVideo:13,destroyRewardedVideoAd:14,videoOnError:15,showModal:16,confirmModal:17};var jM=/\$(.+)\$/,BM={},FM={},UM={launchInfo:{query:FM.query||{}}};Object.defineProperty(UM,"network_type",{configurable:!0,enumerable:!0,get:()=>(0,Qe._getCurrentNetworkType)()}),D.default.onReady((()=>{FM=D.default.appLaunchInfo,Object.assign(UM.launchInfo.query,FM.query||{}),S.onShow((e=>{Object.assign(UM.launchInfo.query,e.query||{})}))}));var WM={String:"",Unit32:"0",Boolean:"true"},GM={String:String,Uint32:String,Boolean:Boolean};var VM=/\$\((.+)\)/;function $M(e,t,r,n){return"Variable"===t?AM(UM,r):"datasetValue"===t?function(e,t,r){var n=t.split("."),a=n[0];if(VM.test(a)){var i=VM.exec(a)[1],o="this"===i?r:e.uiEngine.getElementById(i);return o&&AM(o.dataset,n.slice(1).join("."))}}(e,r,n):r}function qM(e,t,r=null){return Object.keys(t&&t.inputs||{}).reduce(((n,a)=>{var i,o,s=t.inputs[a];return n[a]=(i={value:$M(e,s.parse,s.value,r),format:s.format},void 0===(o=RM(i)).value&&(o.value=WM[o.format]),"Boolean"!==o.format?o.value=GM[o.format]&&GM[o.format](o.value)||o.value:o.value="true"===o.value,o),n}),{})}const zM=new class{getCgi(e,t={},r){var{channel:n,id:a}=t,i={act_id:e.act_id,flow_id:a,sign:e.sign,inputs:qM(e,n,r)};return function(e,{act_id:t,flow_id:r,inputs:n,sign:a}){var i=new Date;return(0,U.Qh)({sdkApiName:"compflowinvoke",apiName:"webapi_compflowinvoke",reqData:{act_id:t,flow_id:r,inputs:n,sign:a}}).catch((t=>{throw e.reporter.reportKeyValue({action:NM.actionMap.execFlow,execTime:new Date-i,externInfo:DM(t),isSuccess:0,flowid:r}),new Error(t.errMsg||"")})).then((t=>(e.reporter.reportKeyValue({action:NM.actionMap.execFlow,execTime:new Date-i,isSuccess:1,flowid:r}),t)))}(e,i).then((t=>{t||(t={});var{data:r}=t;r.models;var{models:n=[]}=r,a="minigame_component_post";e.uiEngine.modelsHandler(r.models.filter((e=>e.id!==a)));var i=n.find((e=>e.id===a));if(i&&i.extra&&i.extra.action)return LM(i.extra.action)}))}closeComponent(e){var t=e.pages.map((e=>(e.style.hidden=!0,e.nextLayout())));return e.reporter.reportKeyValue({action:NM.actionMap.closeComponent,isSuccess:1}),Promise.all(t).then((()=>{e.emitter.emit("close")}))}shareAppMessage(e,t,r){var n=r&&r.dataset||{},a=n.share_params||{},i="";Object.keys(a).forEach(((e,t)=>{i+=`${e}=${a[e]}`,t<Object.keys(a).length-1&&(i+="&")})),e.reporter.reportKeyValue({action:NM.actionMap.shareAppMessage,isSuccess:1,externInfo:DM({title:n.title||"",query:i,imageUrl:n.image_url||""})}),(0,pf.$F)({title:n.title||"",query:i,imageUrl:n.image_url||""})}broadcastEvent(e,t){var{channel:r}=t,n=qM(e,r);n.eventName&&n.eventName.value&&(e.emitter.emit(n.eventName.value,{errcode:Number(n.errcode&&n.errcode.value||0),errMsg:n.errMsg&&n.errMsg.value||""}),e.reporter.reportKeyValue({action:NM.actionMap.broadcastEvent,isSuccess:1,externInfo:DM(n)}))}showModal(e,t){var{channel:r}=t,n=qM(e,r),a=n.title&&n.title.value||"提示",i=n.content&&n.content.value||"温馨提示",o=n.cancelText&&n.cancelText.value||"取消",s=n.cancelColor&&n.cancelColor.value||"#000000",u=n.confirmText&&n.confirmText.value||"确定",c=n.confirmColor&&n.confirmColor.value||"#576B95",l=n.showCancel&&n.showCancel.value;return l=void 0===l||l,e.reporter.reportKeyValue({action:NM.actionMap.showModal,isSuccess:1,externInfo:DM(n)}),new Promise((t=>{(0,Me.showModal)({title:a,content:i,showCancel:l,cancelText:o,cancelColor:s,confirmText:u,confirmColor:c,success(r){r.confirm?(e.reporter.reportKeyValue({action:NM.actionMap.confirmModal,isSuccess:1,externInfo:DM(n)}),t()):r.cancel}})}))}showLoading(e,t){var{channel:r}=t,n=qM(e,r),a=n.title&&n.title.value||"加载中...",i=n.mask&&n.mask.value||!1;return new Promise((e=>{(0,Me.showLoading)({title:a,mask:i,complete:e})}))}showToast(e,t){var{channel:r}=t,n=qM(e,r),a=n.duration&&n.duration.value||2e3;return new Promise((e=>{(0,Me.showToast)({title:n.title&&n.title.value||"",icon:n.type&&n.type.value||"none",duration:a,complete:e})}))}actionFlow(e,t,r){t.id;var{channel:n={},conditions:a={}}=t,i=qM(e,n,r),{models:o=[]}=n;return new Promise((t=>{var n=i.cond_key&&void 0!==i.cond_key.value?i.cond_key.value:void 0;if(void 0!==n&&Object.keys(a).find((e=>e===`${n}`))){var s=a[n],{channel:u={}}=s,{models:c=[]}=u;e.uiEngine.modelsHandler(c)}var l=o.map((e=>{var t=RM(e);t.attributes||(t.attributes={});var{attributes:n={}}=t,a=LM(n.dataset);for(var i in a){var o=jM.test(a[i]),s=jM.exec(a[i]);if(o){var u=s[1],c=AM(r,u);a[i]=a[i].replace(jM,c)}}return t.attributes.dataset=DM(a),t}));l.length&&e.uiEngine.modelsHandler(l),t()}))}createRewardedVideoAd(e,t,r){var{dataset:n}=r,{adUnitId:a}=n;return e.reporter.reportKeyValue({action:NM.actionMap.createRewardedVideoAd,externInfo:a}),new Promise(((t,r)=>{if(a||((0,Me.hideLoading)(),r(new Error("广告id参数必填"))),BM[a])t(BM[a]);else{var n=ADSDK.createRewardedVideoAd({adUnitId:a,multiton:!0});BM[a]=n,n.onError((t=>{t.adUnitId=a,e.reporter.reportKeyValue({action:NM.actionMap.videoOnError,externInfo:DM(t),isSuccess:0})})),t(n)}}))}createAndShowRewardedVideoAd(e,t,r){return(0,Me.showLoading)({title:"加载视频中..."}),new Promise(((n,a)=>{this.createRewardedVideoAd(e,t,r).then((t=>(t.load().then((r=>{t.show().then((()=>{e.reporter.reportKeyValue({action:NM.actionMap.createAndShowRewardedVideoAdSuccess,externInfo:t.adUnitId}),(0,Me.hideLoading)()}))})).catch((r=>{(0,Me.hideLoading)(),(0,Me.showToast)({title:"无可观看视频",icon:"none"}),e.reporter.reportKeyValue({action:NM.actionMap.createAndShowRewardedVideoAdFail,externInfo:t.adUnitId}),a(r)})),t.closeCbk&&t.offClose(t.closeCbk),t.closeCbk=r=>{r&&r.isEnded||void 0===r?(e.reporter.reportKeyValue({action:NM.actionMap.confirmRewardVideo,externInfo:t.adUnitId}),n()):(e.reporter.reportKeyValue({action:NM.actionMap.cancelRewardVideo,externInfo:t.adUnitId}),(0,Me.showToast)({title:"领取失败",icon:"none"}))},t.onClose(t.closeCbk),t.load())))}))}destroyRewardedVideoAd(e,t){var{channel:r}=t,n=qM(e,r),a=n.id&&n.id.value,i=BM.get(a);return new Promise(((t,r)=>{a&&i?(e.reporter.reportKeyValue({action:NM.actionMap.destroyRewardedVideoAd,externInfo:a,isSuccess:1}),i.destroy(),BM.delete(a),t()):(e.reporter.reportKeyValue({action:NM.actionMap.destroyRewardedVideoAd,externInfo:a,isSuccess:0}),r(new Error("组件不存在")))}))}flowParser(e,t={},r){var n,a=t.type||t.flow_type;return n=this[a]?this[a](e,t,r):Promise.reject(),t.next?n.then((()=>this.flowParser(e,t.next,r))):n}};function KM(e={},t){var r;return e.id===t&&(r=e),(e.items||[]).forEach((e=>{r=KM(e,t)||r})),r}function HM(e={},t,r){return r||(r=[]),(function(e){var{attributes:t={}}=e,{dataset:r="{}"}=t;return LM(r)}(e).className||"").split(/\s+/).find((e=>e===t))&&r.push(e),(e.items||[]).forEach((e=>HM(e,t,r))),r}function JM(e,t){if(e.value&&(t.value=e.value),e.attributes){if(t.attributes||(t.attributes={}),e.attributes.dataset){var r=Object.assign(LM(t.attributes.dataset||""),LM(e.attributes.dataset));t.attributes.dataset=DM(r)}if(e.attributes.style){var n=Object.assign(LM(t.attributes.style||""),LM(e.attributes.style));t.attributes.style=DM(n)}}}function YM(e={}){var{flows:t=[]}=e,r=t.find((e=>"init"===e.id));if(r){var{channel:n={}}=r,{models:a=[]}=n,{model:i={}}=e;a.forEach((e=>{var{extra:t={}}=e;if(t.action){var r=LM(t.action);if("execModelAction"===r.actionType){var n=r.model_actions||[];if("string"==typeof n)try{n=JSON.parse(n)}catch(e){n=[]}n.forEach((e=>{if(e.id){var t=KM(i,e.id);t&&JM(e,t)}else if(e.class){HM(i,e.class).forEach((t=>{JM(e,t)}))}}))}}}))}}var QM,ZM,XM=/(.+)\((.+)\)/,eD=/\$(.+)\$/,tD=/\$\((.+)\)/,rD={view:Bh.G7,text:Bh.xv,image:Bh.Ee};function nD(e,t){Object.keys(t.query||{}).find((e=>e.indexOf("minigame_component")>-1))&&(t.query,e.reporter.reportKeyValue({action:NM.actionMap.launchGameWithShare,isSuccess:1,externInfo:DM(t.query)}))}function aD(e,t){for(var r in e.style.scale=t,e.children)aD(e.children[r],t)}class iD{constructor(e,t){this._private=e,this.componentInstance=t,this.id=1}oneFlowExec(e,t){var{_private:r}=this,n=r.config&&r.config.flows.find((t=>t.id===e));return n&&zM.flowParser(r,n,t)}oneModelActionExec(e,t,r){var{_private:n}=this,a=n.config.model_actions.find((t=>t.name===e));if("$this"===t)this.updateOneElement(a,r);else{var i=t.split(":");if("$class"===i[0])this.getElementsByClassName(i[1]).forEach((e=>{this.updateOneElement(a,e)}));else if("$id"===i[0]){var o=this.getElementById(i[1]);o&&this.updateOneElement(a,o)}}}eventReigster(e,t){var{dataset:r}=t.attributes;r.click&&e.on("click",(t=>{(e.id,!e.disabled&&function(e){var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-r)<30&&Math.abs(n-t)<30&&i<300&&(o=!0),o}(t))&&r.click.split(";").forEach((t=>{if("execFlow"===t&&r.flowid)r.flowid.split(";").forEach((t=>{this.oneFlowExec(t,e)}));else if("execModelAction"===t&&r.action){r.action.split(";").filter((e=>e&&e.match(XM))).forEach((t=>{var r=XM.exec(t),n=r[1],a=r[2];this.oneModelActionExec(n,a,e)}))}}))}))}create(e,t){var{_private:r}=this,{attributes:n,component:a,value:i}=e;n.style=LM(n.style);var o=LM(n.dataset);n.dataset=o,n.value=i,n.src=i,n.bubbleEvent=!0;var s=new(0,rD[a])(n);if("list"===o.type&&o.listlength&&e.items.length){var u=e.items[0];e.items=[];for(var c=0;c<o.listlength;c++){var l=RM(u);o.defaultvalue&&(l.value=o.defaultvalue,l.src=o.defaultvalue);var d=LM(l.attributes.dataset);d.idprefix&&(d.idName=d.idprefix+c,l.attributes.dataset=DM(d)),e.items.push(l)}}s.dataset=o,o.if&&(s.style.hidden=!0,setTimeout((()=>{if(o.if&&tD.test(o.if)){var e=o.if.split("."),t=tD.exec(o.if)[1],r=this.getElementById(t),n=e.slice(1).join("."),a=`${n}__bridge`;r.dataset[a]=r.dataset[n],void 0!==r.dataset[n]&&(s.style.hidden=!r.dataset[n]),Object.defineProperty(r.dataset,n,{configurable:!0,enumerable:!0,get:()=>r.dataset[a],set:e=>{void 0!==e&&(s.style.hidden=!e),r.dataset[a]=e}})}}),0)),e.items.forEach((e=>{var r=this.create(e,t);s.add(r)})),this.eventReigster.call(this,s,e);var p=o.idName||this.id++;return r[`${t}Container`][p]=s,s}init(){var{_private:e}=this;YM(e.config);var t=(0,Ae.getSystemInfoSync)();e.pages=[],e.pageContainers={},e.root=new Bh.G7({}),e.root.dataset={};var r=e.config.model;r.items.forEach((n=>{var{id:a}=n,i=`${a}Container`;e[i]={},e.pageContainers[i]=e[i];var{attributes:o={}}=n,s=LM(o.style);s.hidden=!0,"singlePage"!==r.label&&(s.width=t.windowWidth,s.height=t.windowHeight),o.style=DM(s),this.create(n,a);var u=e[i][a];if(e[a]=u,e[a].isPage=!0,e.pages.push(u),Bh.uo.add(u),"singlePage"===r.label){var{style:c}=u;this.componentInstance.style={width:c.width||0,height:c.height||0,left:0,top:0};["width","height","left","top"].forEach((e=>{Object.defineProperty(this.componentInstance.style,e,{configurable:!0,enumerable:!0,get:()=>u.computedStyle[e],set:t=>{if("width"===e||"height"===e)throw new Error("can not set width and height");t!==c[e]&&(c[e]=t)}})})),Object.keys(e.style).forEach((t=>{"left"!==t&&"top"!==t||(this.componentInstance.style[t]=e.style[t])}))}})),this.componentInstance.ready=!0,e.emitter.emit("load"),nD(e,(0,hf.x9)()),(0,$o.dN)((t=>{nD(e,t)}))}updateListTreeChild(e,t){var{dataset:r}=e;if(r.origin&&eD.test(r.origin)){var n=AM({item:t},eD.exec(r.origin)[1]);r.origin_source=n}if(r.render&&eD.test(r.render)){var a=AM({item:t},eD.exec(r.render)[1]);a&&(e.value=a,e.src=a)}if(r.if&&eD.test(r.if)){var i=AM({item:t},eD.exec(r.if)[1]);void 0!==i&&(e.style.hidden=!i)}for(var o in e.children)this.updateListTreeChild(e.children[o],t)}updateListTree(e,t){var r=LM(t.value,[]),n=Object.keys(e.children).map((t=>e.children[t]));r.forEach(((e,t)=>{this.updateListTreeChild(n[t],e)}))}updateList(e,t){var{dataset:r}=e,n=LM(t.value);if(e&&"list"===e.dataset.type&&t.value_filter_name){var a=Object.keys(e.children).map((t=>e.children[t])),i=t.value_filter_name.split(".");if(i[0].indexOf("[]")>-1){var o=n[i[0].replace("[]","")];if(o){var s=i[1];a.forEach(((e,t)=>{if(o[t]&&o[t][s]){var n=o[t][s];"avatar_url"===s&&(n+="/0"),e.src=n,e.value=n}else r.defaultvalue&&(e.src=r.defaultvalue,e.value=r.defaultvalue)}))}}}}getElementsByClassName(e){var{_private:t}=this,r=[];return Object.keys(t.pageContainers).forEach((n=>{var a=t.pageContainers[n],i=Object.keys(a);r=r.concat(i.map((t=>!!(a[t].dataset.className||"").split(/\s+/).find((t=>t===e))&&a[t])).filter((e=>e)))})),r}getElementById(e){var t,{_private:r}=this;return"root"===e?r.root:(Object.keys(r.pageContainers).forEach((n=>{var a=r.pageContainers[n],i=Object.keys(a).find((t=>a[t].dataset.idName===e));i&&a[i]&&(t=a[i])})),t)}updateOneElement(e,t){var{_private:r}=this,n=t||this.getElementById(e.id),{attributes:a={},value:i}=e;if(n){if(void 0!==a.hide&&(n.style.hidden=a.hide,!1===n.style.hidden&&n.isPage&&r.reporter.reportKeyValue({action:NM.actionMap.exposure,isSuccess:1,externInfo:DM(n.dataset)})),i&&n.value&&(n.value=i),i&&n.src&&(n.src=i),a.dataset&&(n.dataset=Object.assign(n.dataset,LM(a.dataset))),a.style)try{var o=LM(a.style);Object.assign(n.style,o),void 0!==o.scale&&aD(n,o.scale)}catch(e){}void 0!==a.disabled&&(n.disabled=a.disabled),this.updateList(n,e),"list"!==n.dataset.type||e.value_filter_name||this.updateListTree(n,e)}e.items&&e.items.length&&e.items.forEach((e=>{this.updateOneElement(e)}))}modelsHandler(e){e.forEach((e=>{this.updateOneElement(e)})),e.filter((e=>"root"===e.id)).forEach(this.rootHandler.bind(this))}rootHandler(e){var{_private:t}=this,{extra:r={}}=e,n=LM(r.action);if("execFlow"===n.actionType)zM.flowParser(t,n);else if("execConfigFlow"===n.actionType){var{type:a,channel:i}=n,o=t.config.flows.find((e=>e.id===a));if(o){var s=RM(o);s.channel=i||s.channel,zM.actionFlow(t,s)}}else if("execModelAction"===n.actionType){var u=n.model_actions||[];"string"==typeof u&&(u=LM(u,[])),u.forEach((e=>{if(!e.name&&e.id)this.updateOneElement(e);else if(!e.name&&e.class)this.getElementsByClassName(e.class).forEach((t=>{this.updateOneElement(e,t)}));else{var r=RM(t.config.model_actions.find((t=>t.name===e.name)));r.id=e.id,this.updateOneElement(r)}}))}}}D.default.onReady((()=>{var e=t=>{(0,jP.gQ)("minigamelive")!==jP.Q_.injected?(QM||(QM=new __minigameLiveSDK__),(0,hx.h)("minigamelive","transferGameLiveStateChange",t)):(0,Ih.KR)(e)};(0,Ih.DT)(e)})),D.default.onReady((()=>{N.DD&&(0,wt.J)("gameCouponHangings")&&(0,$o.dN)((()=>{ZM||(ZM=new __minigamePlatformSDK__)}))}));var oD=p(2555),sD=0,uD=new kx.n({pluginAppId:"wxapplib_launchScreen",pluginVersion:"1.0.0"}),cD="LaunchScreen";var lD=new Sx.v;function dD(e){e.ExternInfo&&"string"!=typeof e.ExternInfo&&(e.ExternInfo=encodeURIComponent(JSON.stringify(e.ExternInfo))),lD.send(e)}function pD(e){dD({PositionID:1,ActionID:5,ExternInfo:{url:e}})}lD.setBase({SceneID:63,UIArea:6301});var fD=p(8285);var hD,gD="_private_@@launch_screen@@",vD=function(e){return e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Live=2]="Live",e}({}),mD=function(e){return e[e.REPORT_TYPE_EXPOSURE=1]="REPORT_TYPE_EXPOSURE",e}({}),yD=p(9693),{setStorageSync:bD,getStorageSync:_D}=ve.game;class wD{constructor(){this.layerDatas=[],this.canRenderNext=!0,this.onShowListener=void 0,this.onHideListener=void 0,uD.report({Type:oD.jJ.Info,Target:`${cD}Init`}),this.loadData()}loadData(){var e,t,r,n;sD=Date.now(),uD.report({Type:oD.jJ.Info,Target:`${cD}LoadData`}),(r=(0,gf.y)(),n=null!==(e=null===(t=r.referrerInfo.privateExtraData)||void 0===t?void 0:t.gift_bypass)&&void 0!==e?e:r.query.gift_bypass,new Promise(((e,t)=>{(0,eE.i)({reqData:{req_path:"data.getapppopupad",json_data:{appid:D.default.accountInfo.appId,bypass:n,version:1,scene:r.scene}},timeout:3e4,success(t){var{data:r}=t;e(r)},fail(e){t(e)}})}))).then((e=>{var t;uD.report({Type:oD.jJ.Info,CostTime:Date.now()-sD,Target:`${cD}LoadSuccess`}),this.layerDatas=this.parseData((null===(t=e.pop_ad)||void 0===t?void 0:t.layer_list)||[]),this.onShowListener=()=>{this.canRenderNext||(this.canRenderNext=!0,this.renderNext())},(0,$o.dN)(this.onShowListener),this.renderNext()})).catch((e=>{!function(e){uD.report({Type:oD.jJ.Error,CostTime:Date.now()-sD,Target:`${cD}LoadError`,Result:e})}((0,yD.bV)(e)),this.destroy()}))}parseData(e){var t=[];return null==e||e.forEach((e=>{var r=e.slot_meta,n=e.slot_info_list;if(r&&n&&"number"==typeof r.slot_width&&r.slot_width>0&&"number"==typeof r.slot_heigth&&r.slot_heigth>0){var a=e.layer_uuid||"",i={id:a,type:r.data_type,width:r.slot_width,height:r.slot_heigth,banners:[],videos:[]};r.data_type===vD.Image&&(n.forEach((e=>{var t=e.img_data;t&&t.img_url&&t.jump_url&&i.banners.push({imageUrl:t.img_url,jumpUrl:t.jump_url})})),i.banners.length>0&&this.checkCacheTime(a)&&t.push(i))}})),t}renderNext(){var e=this.layerDatas.shift();e?this.render(e):this.destroy()}render(e){var t=this;return X()((function*(){var r=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),n=r.append("launch-screen",{...e});n.addListener("ready",(()=>{uD.report({Type:oD.jJ.Info,CostTime:Date.now()-sD,Target:`${cD}CreateSuccess`}),dD({PositionID:1,ActionID:1}),function(e,t){new Promise(((r,n)=>{(0,eE.i)({reqData:{req_path:"data.reportapppopupad",json_data:{appid:D.default.accountInfo.appId,report_type:t,layer_uuid:e}},timeout:3e4,success(e){var{data:t}=e;r(t)},fail(e){n(e)}})}))}(e.id,mD.REPORT_TYPE_EXPOSURE),t.onHideListener=()=>{uD.report({Type:oD.jJ.Info,CostTime:Date.now()-sD,Target:`${cD}HideMiniGame`}),t.removeHideListener()},(0,_r.vv)(t.onHideListener)})),n.addListener("close",(r=>{var n,a;t.removeHideListener(),n=r.detail.isCacheToday,a=r.detail.isButton,dD({PositionID:1,ActionID:3,ExternInfo:{popup:n?1:0,off_position:a?1:2}}),!0===r.detail.isCacheToday&&t.cacheToday(e.id)})),n.addListener("destroy",(()=>{t.removeHideListener(),n=null,t.canRenderNext&&t.renderNext()})),n.addListener("openUrl",(r=>{t.removeHideListener();var{url:n}=r.detail;n?(!function(e,t){dD({PositionID:1,ActionID:2,ExternInfo:{popup:e?1:0,url:t,jumpType:0===t.indexOf("https://game.weixin.qq.com/")?1:2}})}(r.detail.isCacheToday,n),!0===r.detail.isCacheToday&&t.cacheToday(e.id),(0,fD.n8)({url:n,success:()=>{!function(e,t){dD({PositionID:1,ActionID:4,ExternInfo:{popup:e?1:0,url:t,jumpType:0===t.indexOf("https://game.weixin.qq.com/")?1:2}})}(r.detail.isCacheToday,n)},fail:()=>{pD(n)}}),t.canRenderNext=!1):pD()}))}))()}checkCacheTime(e){var t=_D(gD+e);try{t&&(t=JSON.parse(t))}catch(e){}return!(t&&t.time&&t.time>new Date((new Date).setHours(0,0,0,0)))||(this.cacheToday(e),!1)}cacheToday(e){bD(gD+e,JSON.stringify({time:Date.now()}))}removeHideListener(){this.onHideListener&&((0,_r.b$)(this.onHideListener),delete this.onHideListener)}destroy(){this.onShowListener&&((0,$o.Tb)(this.onShowListener),delete this.onShowListener),this.removeHideListener(),uD.report({Type:oD.jJ.Info,CostTime:Date.now()-sD,Target:`${cD}Destroy`})}}const ID=function(){return hD||(hD=new wD)};D.default.onReady((()=>{(0,wt.J)("gameLaunchPopupView")&&ID()}));var SD="MiniGameGift",kD="_private_@@game_welfare@@",CD=0,TD=new kx.n({pluginAppId:`wxapplib_${SD}`,pluginVersion:"1.0.0"}),AD={};function PD(e,t){TD.report({Type:oD.jJ.Error,CostTime:Date.now()-CD,Target:`${SD}LoadError`,Result:e,IsError:t?1:0,...AD})}var ED=new Cx.ZP.Group,xD=0;function MD(){null==ED||ED.update(),xD=requestAnimationFrame(MD)}var DD=(e,t,r=!0)=>{var n=e;r&&(n.on("touchstart",(()=>{n.style.opacity=.5})),n.on("touchend",(()=>{n.style.opacity=1}))),n.on("click",(e=>{(e=>{var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-r)<30&&Math.abs(n-t)<30&&i<300&&(o=!0),o})(e)&&t()}))};var RD="ease-out";class LD extends Db.wA{constructor(){super(),this.isDestroyed=!1,this.renderBodyTop=0,this.renderBodyLeft=0,this.renderSmallLeft=0,this.renderSmallWidth=0,this.deviceOrientationChangeFn=void 0,this.isAnimating=!0;var e=(0,Db.Wj)(this);e.xom="",e.style=""}init(e){var t=(0,Db.Wj)(this),{template:r,style:n,renderBodyTop:a,renderSmallLeft:i,renderBodyLeft:o,renderSmallWidth:s}=function(e){var t=(0,Ae.getSystemInfoSync)(),r=(0,Tp.z)(),{screenWidth:n,screenHeight:a,deviceOrientation:i}=t,o=n;n<a&&"landscape"===i&&(o=a);var s=o-(r.left-20),u=r.top,c=r.height||32,l=o-s-24;l>280&&(l=280);var d=l-72,p=o-l-s,f=13*(e.title||"").length+2,h=f+44,g=l-h,v=o-s-h;o<375&&(d=96);var m={body:{position:"absolute",top:-68,left:p,width:l,height:64,zIndex:999999},background:{position:"absolute",left:0,top:0,width:l,height:64,backgroundColor:"#404040E6",borderColor:"rgba(255, 255, 255, 0.25)",borderRadius:c/2,borderWidth:.5},big:{position:"absolute",left:0,top:0,width:l,height:64},icon:{position:"absolute",top:8,left:8,width:48,height:48},info:{position:"absolute",top:11,left:64,width:d,height:53},title:{fontSize:16,color:"#ffffff",lineHeight:22,width:d,height:22},desc:{fontSize:14,lineHeight:20,width:d,height:20,color:"#ffffff",opacity:.5,lineBreak:"ellipsis",overflow:"hidden"},small:{position:"absolute",left:g,top:0,width:h,height:c},iconSmall:{position:"absolute",left:8,top:(c-20)/2,width:20,height:20,opacity:0},titleSmall:{position:"absolute",left:32,top:(c-20)/2,color:"#ffffff",fontSize:13,lineHeight:20,height:20,width:f,opacity:0}};return{template:`\n    <view id="body">\n      <view id="background" bubble-event="true"></view>\n      <view id="big" bubble-event="true">\n        <image id="icon" bubble-event="true" src="${e.icon}"></image>\n        <view id="info" bubble-event="true">\n          <text id="title" bubble-event="true" value="${e.title}"></text>\n          <text id="desc" bubble-event="true" value="${e.desc}"></text>\n        </view>\n      </view>\n      <view id="small" bubble-event="true">\n        <image id="iconSmall" bubble-event="true" src="${e.icon}"></image>\n        <text id="titleSmall" bubble-event="true" value="${e.title}"></text>\n      </view>\n    </view>\n  `,style:m,renderBodyTop:u,renderSmallLeft:g,renderBodyLeft:v,renderSmallWidth:h}}(e),{root:u}=Mb()(r);return this.renderBodyTop=a,this.renderSmallLeft=i,this.renderBodyLeft=o,this.renderSmallWidth=s,Db.S1.call(this,u,n),Bh.uo.add(t.body),this.deviceOrientationChangeFn=()=>{this.deviceOrientationChange()},(0,xg.Qq)(this.deviceOrientationChangeFn),t.body.ready()}show(e){if(!this.isDestroyed){var t=(0,Db.Wj)(this),{body:r}=t;(0,yD.gw)((()=>{this.isDestroyed||(r.animate({top:this.renderBodyTop,duration:500,easing:RD}),(0,yD.gw)((()=>{this.scale()}),e))}),100)}}bindEvent(e){if(!this.isDestroyed){var t=(0,Db.Wj)(this),{big:r,small:n,icon:a,info:i,iconSmall:o,background:s,title:u,titleSmall:c,desc:l}=t;[r,n,a,i,o,s,u,c,l].forEach((t=>{DD(t,e,!1)}))}}destroy(){this.isDestroyed=!0;var e=(0,Db.Wj)(this);e.body.style.hidden=!0,Bh.uo.remove(e.body),(0,Db.bn)(this),(0,xg.tR)(this.deviceOrientationChangeFn)}deviceOrientationChange(){var e=(0,Ae.getSystemInfoSync)(),t=(0,Tp.z)(),{screenWidth:r,screenHeight:n,deviceOrientation:a}=e,i=r;r<n&&"landscape"===a&&(i=n);var o=i-(t.left-20);this.renderBodyTop=t.top,this.renderBodyLeft=i-o-this.renderSmallWidth,this.resetPos()}resetPos(){var e=(0,Db.Wj)(this),{body:t}=e;this.isAnimating||(t.style.left!==this.renderBodyLeft&&(t.style.left=this.renderBodyLeft),t.style.top!==this.renderBodyTop&&(t.style.top=this.renderBodyTop))}scale(){if(!this.isDestroyed){var e=(0,Db.Wj)(this),{body:t,big:r,small:n,desc:a,title:i,icon:o,background:s,titleSmall:u,iconSmall:c}=e,l=r.style.width,d=r.style.height,p=n.style.width,f=n.style.height,h=400;xD=requestAnimationFrame(MD),function(e,t,r,n){new Cx.ZP.Tween(e,ED).to(t,r).easing(Cx.ZP.Easing.Quadratic.Out).onComplete((()=>{null==n||n()})).start()}(s.style,{width:p,height:f,left:this.renderSmallLeft},h,(()=>{setTimeout((()=>{xD&&(cancelAnimationFrame(xD),xD=0)}),100)})),r.animate({opacity:0,scaleWidth:p/l,scaleHeight:f/d,left:(p-l)/2+this.renderSmallLeft,top:(f-d)/2,duration:h,easing:RD}),o.animate({opacity:0,duration:h,easing:RD}),a.animate({opacity:0,duration:h,easing:RD}),i.animate({opacity:0,duration:h,easing:RD}),(0,yD.gw)((()=>{this.isDestroyed||(u.animate({opacity:.8,duration:h/3,easing:RD}),c.animate({opacity:1,duration:h/3,easing:RD}),c.nextLayout().then((()=>{setTimeout((()=>{t.autoLayout=!1,s.autoLayout=!1,n.autoLayout=!1,s.style.left=0,s.style.width=p,s.style.height=f,n.style.left=0,t.style.width=p,t.style.height=f,this.isAnimating=!1,this.resetPos(),setTimeout((()=>{Bh.uo.layout(!1),this.active(3)}),0)}),0)})))}),h/3*2)}}active(e){if(!this.isDestroyed){var t=(0,Db.Wj)(this),{iconSmall:r}=t;r.animate({top:4,duration:150,easing:RD}),r.nextLayout().then((()=>{this.isDestroyed||(r.animate({top:6,duration:150,easing:"ease-in"}),r.nextLayout().then((()=>{e>1&&this.active(e-1)})))}))}}}var OD=new Sx.v,ND={};function jD(e){e.ExternInfo=encodeURIComponent(JSON.stringify(Object.assign({},ND,e.ExternInfo))),OD.send(e)}function BD(){OD.setBase({SceneID:67,UIArea:6701,AppId:D.default.accountInfo.appId}),jD({PositionID:1,ActionID:1})}var FD,{setStorageSync:UD,getStorageSync:WD}=ve.game;class GD{constructor(){this.giftView=void 0,this.firstShow=!0,CD=Date.now(),TD.report({Type:oD.jJ.Info,Target:`${SD}Init`,...AD})}show(e,t){e.scene;var r={appid:D.default.accountInfo.appId,scene:e.scene};if(t)r.bypass=t,1095===e.scene&&(r.ad_scene_data={wx_aid:e.query.wx_aid,wx_traceid:e.query.wx_traceid});else if(!this.firstShow)return;if(function(e,t){Object.assign(AD,{CustomKey1:e,CustomKey2:t})}(`${e.scene}`,t||""),this.giftView)PD("已存在礼包广告",!1);else{var n=WD(kD);t&&n&&"string"==typeof n&&0===t.indexOf(n)?PD("已显示过该广告",!1):(this.firstShow=!1,TD.report({Type:oD.jJ.Info,CostTime:Date.now()-CD,Target:`${SD}LoadData`,...AD}),function(e){return new Promise(((t,r)=>{(0,eE.i)({reqData:{req_path:"ad.getbubbleinfo",json_data:e},timeout:3e4,success(e){var{data:r}=e;t(r)},fail(e){r(e)}})}))}(r).then((r=>{var n,a;r.jump_url&&r.title?(TD.report({Type:oD.jJ.Info,CostTime:Date.now()-CD,Target:`${SD}LoadSuccess`,...AD}),this.render({url:r.jump_url,icon:r.logo||"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20230327/145748/gift_icon_big.png",title:r.title,desc:r.desc||"",stayTime:r.stay_duration_ms||1500,byPass:t},{giftId:r.gift_id,scene:e.scene,informType:r.bubble_type,informSource:r.bubble_source,advertiseType:null!==(n=null===(a=e.referrerInfo.privateExtraData)||void 0===a?void 0:a.advertiseType)&&void 0!==n?n:e.query.advertiseType})):PD("返回参数有误",!1)})).catch((e=>{PD((0,yD.bV)(e),!0)})))}}render(e,t){var r=this;return X()((function*(){r.giftView=new LD,r.giftView.init(e).then((()=>{r.giftView&&(TD.report({Type:oD.jJ.Info,CostTime:Date.now()-CD,Target:`${SD}CreateSuccess`,...AD}),function(e){Object.assign(ND,e)}({giftid:t.giftId,scene:t.scene,advertisetype:t.advertiseType,informtype:t.informType,informsource:t.informSource}),BD(),r.giftView.bindEvent((()=>{!function(e){new Promise(((t,r)=>{(0,eE.i)({reqData:{req_path:"ad.clickbubble",json_data:e},timeout:3e4,success(e){var{data:r}=e;t(r)},fail(e){r(e)}})}))}({appid:D.default.accountInfo.appId,bypass:e.byPass||""}),function(e){jD({PositionID:1,ActionID:2,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}(e.url||""),UD(kD,e.byPass),r.destroy(),(0,fD.n8)({url:e.url,success:()=>{!function(e){jD({PositionID:1,ActionID:4,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}(e.url||"")},fail:()=>{!function(e){jD({PositionID:1,ActionID:5,ExternInfo:{url:e}})}(e.url||"")}})})),r.giftView.show(e.stayTime||1500))})).catch((e=>{PD((0,yD.bV)(e),!0),r.destroy()}))}))()}destroy(){this.giftView&&(TD.report({Type:oD.jJ.Info,CostTime:Date.now()-CD,Target:`${SD}ViewDestroy`,...AD}),this.giftView.destroy(),delete this.giftView)}}const VD=function(){return FD||(FD=new GD)};var $D,qD=!1;D.default.onReady((e=>{var t=e=>{var t,r;$D||($D=VD());var n=null!==(t=null===(r=e.referrerInfo.privateExtraData)||void 0===r?void 0:r.gift_bypass)&&void 0!==t?t:e.query.gift_bypass;n?$D.show(e,n):(0,wt.J)("gameWelfareView")&&$D.show(e)};if("portrait"!==e.deviceOrientation){var r=function(){qD||(qD=!0,setTimeout((()=>{(0,$o.dN)(t),t((0,gf.y)())}),1e3),(0,xg.tR)(r))};(0,xg.Qq)(r),setTimeout((()=>{r()}),2e3)}else setTimeout((()=>{(0,$o.dN)(t),t((0,gf.y)())}),1e3)}));p(4761),(0,uM.Fr)(Qe.getNetworkType);(0,uM.Fr)(Qe.getNetworkType);var zD={screenWidth:0,screenHeight:0,platform:"",isIOS:!1,isAndroid:!1,sessionid:"",deviceOrientation:"",info:{},appid:"",sessionStartTime:KD(),sessionStayTime:0,maxGameCount:3,enterScene:0};function KD(){var e=new Date;return{s:parseInt(e.getTime()/1e3),ms:e.getTime()}}D.default.onReady((()=>{zD.sessionStartTime=KD(),zD.enterScene=D.default.appLaunchInfo&&D.default.appLaunchInfo.scene||0,zD.appid=D.default.accountInfo&&D.default.accountInfo.appId||"",zD.sessionid=D.default.appLaunchInfo.sessionid||D.default.appLaunchInfo.sessionId||""})),(0,$o.dN)((e=>{zD.sessionid=e.sessionid||e.sessionId||""}));var HD=new Sx.v;function JD(e,t){e.on("click",(e=>{(function(e){var t=e.absoluteX,r=e.absoluteY,n=e.absoluteEndX,a=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(a-r)<30&&Math.abs(n-t)<30&&i<300&&(o=!0),o})(e)&&t()}))}function YD(e){var t=!1;JD(e.close,(()=>{t||(t=!0,e.body.style.hidden=!0,HD.send({SceneID:61,UIArea:6101,PositionID:1,ActionID:3}),t=!1)}))}var QD;function ZD(e){var t=(0,Db.Wj)(this),{template:r,style:n}=(e=>{var t={body:{position:"absolute",zIndex:10,width:202,height:49,top:3,left:99999},arrow:{position:"absolute",left:93,top:0,width:16,height:9},tip:{position:"absolute",left:0,top:9,width:202,height:40},close:{position:"absolute",left:162,top:9,width:40,height:40}},r=(0,Ae.getSystemInfoSync)();return t.arrow.left=e.resizable?78:112,t.body.left=r.screenWidth-20-202,{template:'\n    <view id="body">\n        <image id="arrow" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20220909/113643/arrow.png"></image>\n        <image id="tip" src="https://res.wx.qq.com/wechatgame/product/webpack/userupload/20220909/111943/tips.png"></image>\n        <view id="close"></view>\n    </view>\n    ',style:t}})(e),{root:a}=Mb()(r);return Db.S1.call(this,a,n),Bh.uo.add(t.body),YD(t),t.body.ready()}class XD extends Db.wA{constructor(e){super();var t=(0,Db.Wj)(this);t.xom="",t.style="",t.state="",t.gameData=[],t.destroyPromise=null,HD.send({SceneID:61,UIArea:6101,PositionID:1,ActionID:1}),new Promise(((e,t)=>{(0,eE.i)({req_path:"wxaguserbehavdata.pullwxaguserdata",data_type:1,appid:D.default.accountInfo.appId,success(t){var{data:r}=t;e(r)},fail(e){t(e)}})})).then((r=>{!0!==(null==r?void 0:r.is_pc_close_desktop_guide)&&ZD.call(this,e).then((()=>{(0,wx.RM)({component:this,getVisibleAera:()=>t.style.body}),new Promise(((e,t)=>{(0,eE.i)({req_path:"wxaguserbehavdata.pushwxaguserdata",data_type:1,data:JSON.stringify({appid:D.default.accountInfo.appId,is_pc_close_desktop_guide:!0}),success(t){var{data:r}=t;e(r)},fail(e){t(e)}})}))}))})).catch((()=>{}))}destroy(){(0,wx.d8)(this),(0,Db.bn)(this)}}const eR=function(e){return QD||(QD=new XD(e))};var tR;N.DD&&D.default.onReady((e=>{new Promise((e=>{e(tR||(tR=(0,Ae.getSystemInfoSync)()))})).then((()=>{eR(e)}))}));class rR extends Db.wA{constructor({id:e,name:t,style:r={}}={}){super();var n=(0,Db.Wj)(this);n.style=r,n.uiEngine=new iD(n,this),n.act_id=e,n.comp_id=t,n.emitter=new aM.Z,n.destroyPromise=null,n.reporter=new NM(n),this.isDestroyed=!1,this.ready=!1,this.id=e,this.name=t,MM.call(this).catch((()=>{}))}offClose(e){this.isDestroyed||(0,Db.Wj)(this).emitter.off("close",e)}onClose(e){this.isDestroyed||(0,Db.Wj)(this).emitter.on("close",e)}destroy(){return xM.call(this)}onLoad(e){this.isDestroyed||(0,Db.Wj)(this).emitter.on("load",e)}onError(e){this.isDestroyed||(0,Db.Wj)(this).emitter.on("error",e)}offLoad(e){this.isDestroyed||(0,Db.Wj)(this).emitter.off("load",e)}onMessage(e,t){(0,Db.Wj)(this).emitter.on(e,t)}offMessage(e,t){(0,Db.Wj)(this).emitter.off(e,t)}invoke(e={}){if(this.isDestroyed)return Promise.reject(new Error("组件已经被销毁"));var t=(0,Db.Wj)(this),{action:r}=e;return t.config&&t.config.flows&&t.config.flows.find((e=>e.id===r))?r&&t.uiEngine.oneFlowExec(r):Promise.reject(new Error(`action ${r} is not exist`))}}var nR=e=>new rR(e);(0,O.a)((e=>{globalThis.setTimeout=e.setTimeout,globalThis.clearTimeout=e.clearTimeout,globalThis.setInterval=e.setInterval,globalThis.clearInterval=e.clearInterval,globalThis.requestAnimationFrame=e.requestAnimationFrame,globalThis.cancelAnimationFrame=e.cancelAnimationFrame})),globalThis.GameGlobal=globalThis,GameGlobal.__isAdapterInjected=!1;var aR=!1;yr.U.once("beforeTouchStart",(()=>{aR=!0}));var iR=(e={})=>{var t;aR?((0,Xv.y4)(Xv.F0.EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE),(0,Me._showModal)({content:`即将进入“${null===(t=D.default.accountInfo)||void 0===t?void 0:t.nickname}”客服会话`,confirmText:"确认",cancelText:"取消",success(t){t.confirm?(0,U.IN)("enterContact",e,{}):(0,U.YG)("openCustomerServiceConversation",e,"cancel")},fail(){(0,U.YG)("openCustomerServiceConversation",e,"showModal fail")}})):(0,U.YG)("openCustomerServiceConversation",e,"require user interaction")},oR=p(7137),sR=()=>{},uR=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});(0,U.IN)("reportRealtimeAction",{actionData:r})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},cR=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!(0,U.r3)("loadSubPackage",t,{name:""}))return;if(Xb(r))return void(0,U.YG)("loadSubpackage",t,'argument "name" cannot be "workers.js"');var a=D.default.subPackages||D.default.subpackages;if(!a)return void(0,U.YG)("loadSubpackage",t,"Your subpackages configuration is invalid.");if(t.name=((e,t)=>{t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)}));var r="__APP__"===e||"__GAME__"===e;return r||e.startsWith("/")||(e=`/${e}`),r||e.endsWith(".js")||e.endsWith("/")||(e=`${e}/`),"__GAME__"===e&&(e="__APP__"),e})(r,a),function(e,t=[]){return t.some((t=>{var r;return t.root===e&&"playable"===(null==t||null===(r=t.meta)||void 0===r?void 0:r.type)}))}(t.name,a))return void(0,U.YG)("loadSubpackage",t,"cannot load playable ad package.")}try{return new d_(t)}catch(e){return void(0,U.YG)("loadSubpackage",t,e.message)}},lR={};function dR(e={}){if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in lR)));return("all"!==e.network?new Promise(((e,t)=>{var r=(0,Qe._getCurrentNetworkType)();r?e(r):(0,Qe.getNetworkType)({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})})).then((e=>{if("wifi"!==e.toLowerCase())return Promise.reject(new Error(`network type does not match, '${e}' !== 'wifi'`))}),(()=>Promise.reject(new Error("get network type failed.")))):Promise.resolve()).then((()=>Promise.all(t.map((e=>new Promise((r=>{cR({name:e,success(){lR[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})}))))).then((e=>{if(e=e.filter((e=>e instanceof Error)),e.length>0){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))))}D.default.onReady((()=>{Xd((({path:e})=>{if(D.default.preloadRule&&D.default.preloadRule[e])return dR(D.default.preloadRule[e]).then((()=>{console.info("preloadSubpackages: success")}),(e=>{e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}))}))}));var pR=(e={})=>{var t=Object.assign({},e),{packageType:r}=t;if("workers"===r){t.name="/workers.js";try{return new Wx(t)}catch(e){return void(0,U.YG)("preDownloadSubpackage",t,e.message)}}else(0,U.YG)("preDownloadSubpackage",t,"invalid packageType")},fR=(0,Oe.Fr)(Me._showModal),hR=p(9636),gR="RefreshRuntimeSession",vR=e=>{var t=0,r=0,n=()=>{++t>=e&&(0,U.Qh)({apiName:gR,sdkApiName:gR,reqData:{}}).then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;(0,hR._w)(n)})).catch((e=>{++r>=2&&(0,hR._w)(n)}))};(0,hR.bm)(n)},mR=e=>new Promise((t=>setTimeout(t,e)));class yR{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=(0,Ae.getSystemInfoSync)(),a=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var i=new Bh.G7({id:a,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!(0,N.aI)()}}),o=new Bh.xv({id:a+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${(0,N.aI)()?"小游戏":"小程序"}业务及数据已由新开发者承接`});i.add(o),Bh.uo.add(i),this.banner=i,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,mR(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>mR(3e3))).then((()=>Bh.uo.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=(0,Ae.getSystemInfoSync)();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=(0,Ae.getSystemInfoSync)();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var bR=!1;D.default.onReady((()=>{try{bR=D.default.appContactInfo.operationInfo.jsonInfo.misc_ban_info.minigame_freeze_status}catch(e){}bR?(0,U.Qh)({sdkApiName:"informFreezed",apiName:"webapi_wxacloseinfo",reqData:{}}).then((e=>{var t=e.data;if(t.need_show&&t.svr_stoptimestamp){t.svr_stoptimestamp;var r=t.svr_stoptimestamp,n=new Date(1e3*r),a=n.getFullYear(),i=n.getMonth()+1,o=n.getDate();return fR({title:"提示",content:`本小游戏计划于 ${a}-${i}-${o} 下架，请及时处理充值所得道具，注意保护自身合法权益`,showCancel:!1})}})).catch((e=>{e.errMsg})).then((()=>iy())):iy(),setTimeout((()=>{var e,t;e=D.default.deviceOrientation,t=!0,(0,U.Qh)({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((r=>{var n=JSON.parse(r.rawData),{need_show:a,runtime_refresh_clicks:i}=n;if(i&&(0,N.er)()&&vR(i),a){var o=new yR(e,t);return o.show(),o}})).catch((()=>{}))}),2e3)}));var _R=!1,wR=0;yr.U.on("setLastTapTime",(e=>{wR=e})),yr.U.on("beforeTouchStart",(()=>{_R=!0,nm.limitSkipToOtherObject.startLimitCount||nm.limitSkipToOtherObject.allowStartLimitCount(),wR=Date.now()})),(0,_r.vv)((()=>{_R=!1,wR=0}));var IR=!0,SR=e=>{if(IR){nm.g.navigateCount++;var t=nm.limitSkipToOtherObject.allowSkip;if((0,mM.Y)({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===wR?-2:Date.now()-wR}),3===t)_R?((0,Xv.y4)(Xv.F0.EVENT_CANVAS_BEFORE_JUMP_TO_APP),(0,rm.ow)(e)):(0,U.YG)("navigateToMiniProgram",e,"require user interaction");else{IR=!1,nm.g.bannedCount++;var{modalMessage:r,modalConfirm:n,constant:{modalCancel:a}}=nm.limitSkipToOtherObject;(0,Me._showModal)({__sdk_inner_allowShowMoreLength__:!0,content:r,confirmText:n,cancelText:a,success(t){IR=!0,t.confirm?(nm.limitSkipToOtherObject.reportModalConfirm(),(0,em.n)({url:nm.limitSkipToOtherObject.modalSkipLink}),(0,U.YG)("navigateToMiniProgram",e,"navigate ability banned!")):(nm.limitSkipToOtherObject.reportModalCancel(),(0,U.YG)("navigateToMiniProgram",e,"navigate ability banned!"))},fail(e){IR=!0,e.errMsg}})}}},kR=e=>{(0,U.IN)("hideSplashScreen",e)},CR=1;D.default.onReady((()=>{["close","error","listening","message"].forEach((e=>{(0,U.jQ)(`onUDPSocket${(0,Oe.fm)(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,(0,Oe.fm)(e),(0,W.s)(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class TR{constructor(e){var t;if(this._id=CR++,(0,U.IN)("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=(0,W.s)(`jsapi-udp-${this._id}-${e}`);this[`on${(0,Oe.fm)(e)}`]=t.onMethod,this[`off${(0,Oe.fm)(e)}`]=t.offMethod}))}bind(e){var t,r;if((0,U.IN)("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if((0,U.IN)("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,(0,U.IN)("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{(0,W.s)(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if((0,U.IN)("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var AR=p(3140),PR=p(8089),ER=new WeakMap,xR=new WeakMap,MR=new WeakMap,DR=1;class RR{constructor(e){var t=O.Z.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=DR++;["close","error","listening","message"].forEach((e=>{var t=(0,W.s)(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=function(...r){"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?((0,PR.m)("createUDPSocket.onError.callback",(0,Fr.M8)(),void 0,!1,Date.now(),0,r[0],0,!0,0),_.reportIDKey({key:"UDPError"})):"message"===e&&_.reportIDKey({key:"receiveUDPMessage"})},this[`on${(0,Oe.fm)(e)}`]=t.onMethod,this[`off${(0,Oe.fm)(e)}`]=t.offMethod})),ER.set(this,r),xR.set(this,n),MR.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return(0,AR.P)("bindUDP","",1,0,"","",!1,0),_.reportIDKey({key:"bindUDP"}),ER.get(this).bind({port:e,type:MR.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){(0,W.s)(`jsbinding-udp-${xR.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=ER.get(this);"IPv6"===MR.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if((0,wt.J)("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=ER.get(this);if(e.setBroadcast){var a=n.getMacro("SOL_SOCKET"),i=n.getMacro("SO_BROADCAST");a>=0&&i>=0&&n.setopt({level:a,option:i,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};(0,AR.P)("sendUDP",r,1,0,"","",!1,(0,Oe.Y6)(e.message),0,{},0,o)}_.reportIDKey({key:"sendUDPMessage"})}else{(0,W.s)(`jsbinding-udp-${xR.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=ER.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if((0,wt.J)("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=ER.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{(0,W.s)(`jsbinding-udp-${xR.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){ER.get(this).onconnect=e}close(){return ER.get(this).close()}}var LR=(e="udp4")=>O.Z.UDP?new RR(e):new TR(e),OR=!1,NR=null,jR=null;(0,Vo.HM)((()=>{OR=!0})),Xd((()=>{OR=!1,NR&&(BR(NR),NR=null),jR&&(FR(jR),jR=null)}));var BR=e=>{(0,U.r3)("addCard",e,{cardList:[]})&&(OR?NR=e:(0,U.IN)("addCard",e))},FR=e=>{(0,U.r3)("openCard",e,{cardList:[]})&&(OR?jR=e:(0,U.IN)("openCard",e))},UR=(e={})=>{(0,U.IN)("markScene",e)},WR=!1;(0,Vo.HM)((()=>{WR=!1})),(0,di.J)((()=>{WR=!1}));var GR=e=>{_.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),(0,U.IN)("requestSubscribeMessage",t,{beforeAll(){WR=!1},beforeSuccess(){_.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),WR=!1},beforeFail(){_.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},VR=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return WR=!1,void(0,U.YG)("requestSubscribeMessage",e,t,r);var a=n.map((e=>({TemplateId:e})));(0,U.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:D.default.accountInfo.appId,ActionType:1,ItemList:a},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return WR=!1,void(0,U.FE)({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var a="订阅一次以下消息通知";3===r.TemplateType&&(a="长期订阅以下消息通知"),(0,Me.showModal)({title:a,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){WR=!1,$R(e,t)},fail(t){WR=!1,(0,U.YG)("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,U.YG)("requestSubscribeMessage",e,r,+t.err_code),WR=!1}})},$R=(e,t)=>{var r=e.tmplIds[0];(0,U.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:D.default.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),(0,U.FE)({name:"requestSubscribeMessage",args:e,res:n}),Pr({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,U.YG)("requestSubscribeMessage",e,r,+t.err_code)}})},qR=(0,uM.P2)((e=>{if(WR)(0,U.YG)("requestSubscribeMessage",e,"last call has not ended");else{if(!(0,U.r3)("requestSubscribeMessage",e,{tmplIds:[]}))return;WR=!0,N.gm?VR(e):GR(e)}}),1e3),zR=e=>{(0,vh.Vt)()?qR(e):(0,U.YG)("requestSubscribeMessage",e,"require user interaction (only in touchend event)")},KR=p(8978),HR=p(6580),JR="getWhatsNewSubscriptionsSetting",YR=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,JR);(0,wt.J)("requestSubscribeWhatsNew")?(0,U.yD)({sdkApiName:JR,apiName:"webapi_game_query_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){t({status:e.data.status})},fail:r}):n({code:4,msg:""})},QR=({action:e})=>{var t=(0,gf.y)(),r=[t.scene||"",t.scene_note||"",t.sessionid||t.sessionId||"",e].join(",");_.reportKeyValue({key:"GameWhatsNew",value:r})},ZR="requestSubscribeWhatsNew",XR=!1;function eL(){return new Promise((e=>{QR({action:2});var t=(0,HR.U)({title:"接收游戏更新提醒",content:`${D.default.accountInfo.nickname}更新时，你将收到微信小游戏的提醒`,confirmText:"接收",cancelText:"取消",confirm(){t.destroy(),e({confirm:!0}),QR({action:4})},cancel(){t.destroy(),e({confirm:!1}),QR({action:3})},style:{title:{fontSize:17,color:"#1b1b1b"},content:{fontSize:14,color:"#d4d4d4",lineHeight:19.6,marginTop:16,marginBottom:0},confirm:{backgroundColor:"#FA9D3B"},cancel:{color:"#FA9D3B"}}})}))}function tL(e={}){XR?(0,U.YG)(ZR,e,"please invoke after last subscription ended"):(XR=!0,(0,vh.UP)().then((()=>function(e={}){return new Promise(((t,r)=>{QR({action:1}),(0,wt.J)("requestSubscribeWhatsNew")?YR({msgType:e.msgType,success(e){1===e.status?t():r({errCode:e.status})},fail(e){r(e)}}):r({errCode:4})}))}(e))).then(eL).then((t=>t.confirm?function(e={}){return new Promise(((t,r)=>{(0,U.yD)({apiName:"webapi_game_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){var n=e.data,{errcode:a}=n;0===a?t({confirm:!0}):r({errCode:a})},fail(e){r({errCode:e.errcode||e.errCode,errMsg:e.errMsg})}})}))}(e):t)).then((t=>{(0,U.FE)({name:ZR,args:e,res:t}),XR=!1})).catch((t=>{(0,U.YG)(ZR,e,t.errMsg||t.message,+(t.errCode||t.err_code)),XR=!1})))}var rL,nL={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},aL=e=>e.toString().endsWith(1),iL=e=>e.toString().endsWith(2),oL=e=>e.toString().endsWith(3),sL=(e,t)=>{var r={};return e&&(0,Q.HD)(e.template)&&(0,Q.s$)(e.data)&&(r.desc_template_data={name:e.template,data_list:Object.keys(e.data).map((t=>({key:t,value:e.data[t]})))}),t&&(0,Q.HD)(t.template)&&(r.launch_desc_template=t.template),(0,U.Qh)({sdkApiName:"getplaybackinfo",apiName:"webapi_getplaybackinfo",reqData:r}).then((e=>({shareTitle:(e=e.data).title,shareDesc:e.desc,buttonText:e.launch_desc,videoDesc:e.playback_desc})))},uL=null,cL=(e,{shareTitle:t="",sharePath:r="",useBgm:n=!1,useTimeRange:a=!1,useAtempo:i=!1,atempo:o=1,hookBgm:s=!0}={})=>(uL||(uL=(0,U.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig"}).then((e=>(e=e.data).enable_share_to_haowan)).catch((()=>!1)))).then((u=>{var c=u?2:1,l=(0,gf.y)(),d=[l.scene||"",l.scene_note||"",l.sessionid||l.sessionId||"",e,c,t,r,D.default.appType+1e3,n,a,i,o,s].join(",");_.reportKeyValue({key:"GameRecorder",value:d})})),lL=["start","stop","pause","resume","abort","timeUpdate","error"].reduce(((e,t)=>(e[t]={internal:(0,W.s)(`GameRecorder-internal-${t}`),external:(0,W.s)(`GameRecorder-external-${t}`)},e)),{}),dL=!1,pL=!1,fL=!1,hL=!1,gL=()=>{if(!rL){var{version:e,system:t}=(0,Ae.getStableSystemInfo)(),r=t.split(" ")[1],n=N.wZ&&-1===(0,Oe.M7)(r,"5.0"),a=N.cj&&-1===(0,Oe.M7)(e,"7.0.8");"7.0.5"===e||n||a||(0,U.IN)("isGameRecorderSupported",{success(e){dL=e.isFrameSupported,pL=e.isSoundSupported,fL=e.isVolumeSupported,hL=e.isAtempoSupported}}),rL=!0}},vL=e=>{var t={101:{code:nL.GameRecorder_StartDurationInvalid,message:"GameRecorder.start:fail duration invalid"},103:{code:nL.GameRecorder_StartWhileAlreadyStartRecording,message:"GameRecorder.start:fail start while already start recording"},104:{code:nL.GameRecorder_StartWhilePaused,message:"GameRecorder.start:fail start while paused"},106:{code:nL.GameRecorder_StartBitRateInvalid,message:"GameRecorder.start:fail bitrate invalid"},107:{code:nL.GameRecorder_StartFPSInvalid,message:"GameRecorder.start:fail fps invalid"},108:{code:nL.GameRecorder_StartGOPInvalid,message:"GameRecorder.start:fail gop invalid"},112:{code:nL.GameRecorder_UnknownError,message:"GameRecorder.start:fail 小游戏直播中，暂不支持录制"},201:{code:nL.GameRecorder_PauseWhileNotStartRecording,message:"GameRecorder.pause:fail pause while not start recording"},202:{code:nL.GameRecorder_PauseWhileAlreadyPaused,message:"GameRecorder.pause:fail pause while already paused"},301:{code:nL.GameRecorder_ResumeWhileNotStartRecording,message:"GameRecorder.resume:fail resume while not start recording"},302:{code:nL.GameRecorder_ResumeWhileRecording,message:"GameRecorder.resume:fail resume while recording"},401:{code:nL.GameRecorder_AbortWhileNotStartRecording,message:"GameRecorder.abort:fail abort while not start recording"},501:{code:nL.GameRecorder_StopWhileNotStartRecording,message:"GameRecorder.stop:fail stop while not start recording"},503:{code:nL.Global_FileStorageNotEnough,message:"GameRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:nL.GameRecorder_InternalFailed,message:"GameRecorder:fail internal failed"}:{code:nL.GameRecorder_UnknownError,message:"GameRecorder:fail unknown error"}};D.default.onReady((()=>{(0,U.jQ)("onGameRecorderStateChange",(e=>{var t=e.state;if(delete e.state,"stop"===t)lL[t].internal.emit(e),lL[t].external.emit({duration:Math.floor(e.duration/1e3)});else if("timeUpdate"===t)lL[t].internal.emit(e),lL[t].external.emit({currentTime:e.currentTime});else if("error"===t){var r=vL(e.errCode);lL[t].external.emit({error:r})}else lL[t].external.emit()}))}));var mL=null;class yL{constructor(){lL.stop.internal.onMethod((e=>{mL=e.tempFilePath})),this._operatePromise=Promise.resolve()}isFrameSupported(){return gL(),dL}isSoundSupported(){return gL(),pL}isVolumeSupported(){return gL(),fL}isAtempoSupported(){return gL(),hL}_operate(e,t){return this._operatePromise=this._operatePromise.then((()=>this.__operate(e,t))).catch((()=>this.__operate(e,t))),this._operatePromise}__operate(e="start",t={}){if(!this.isFrameSupported()){var r=`GameRecorder.${e}:fail frame not supported`;return Promise.reject({errMsg:r,error:{message:r,code:nL.GameRecorder_NotSupported}})}var n=!0;return new Promise(((r,a)=>{(0,U.IN)("operateGameRecorder",Object.assign({operationType:e,success:()=>{"start"===e?cL(1,{hookBgm:t.hookBgm}):"stop"===e&&cL(2),r({errMsg:`GameRecorder.${e}:ok`,error:{code:nL.OK,message:`GameRecorder.${e}:ok`}}),n=!1},fail:e=>{var t=vL(e.errCode);a({errMsg:t.message,error:t}),n=!1},complete:t=>{if(n)if(0!==t.errCode){var i=vL(t.errCode);i?a({errMsg:i.message,error:i}):(a({errMsg:`GameRecorder: ${e} unknow error`}),console.error(t))}else r()}},t))}))}start({fps:e=24,bitrate:t=1e3,gop:r=12,duration:n=7200,hookBgm:a=!0}={}){return n="number"==typeof n?Math.min(7200,Math.max(5,n)):7200,t="number"==typeof t?Math.min(3e3,Math.max(600,t)):1e3,"boolean"!=typeof a&&(a=!0),this._operate("start",{fps:e,bitrate:t,gop:r,duration:n,hookBgm:a,audioBitrate:128,width:D.default.screenWidth+4-D.default.screenWidth%4,height:D.default.screenHeight+4-D.default.screenHeight%4,cumulativeStamp:!0,notifyVideoKeyFrame:!0,timeUpdateInterval:30})}stop(){return this._operate("stop")}pause(){return this._operate("pause")}resume(){return this._operate("resume")}abort(){return this._operate("abort")}on(e,t){lL[e].external.onMethod(t)}off(e,t){lL[e].external.offMethod(t)}}var bL=null,_L=()=>bL||(bL=new yL),wL=()=>mL,IL=null;var SL=2e3,kL=null,CL=null;(0,p_.OQ)((()=>{CL&&CL()}));var TL=(e,t,r)=>{var n,a=6e4*t,i=0;return Array.isArray(e)||(n=[[0,a]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${a}]] under x${t} atempo`)),n=e.reduce(((e,t,r)=>{if(Array.isArray(t)&&2===t.length){var[n,o]=t,s=(0,Q.U)(n)&&(0,Q.U)(o),u=n<o&&(!e[r-1]||n>=e[r-1][1]);s&&u&&i+o-n<=a&&(e.push([n,o]),i+=o-n)}return e}),[]),0===n.length&&(n=[[0,a]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${a}]] under x${t} atempo`)),n},AL=e=>"number"==typeof e&&e>=0&&e<=1?Number(e.toFixed(2)):(console.warn(`GameRecorder:volume invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),PL=e=>"number"==typeof e&&[.3,.5,1,1.5,2,2.5,3].includes(e)?e:(console.warn(`GameRecorder:atempo invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),EL=function({query:e="",path:t="",title:r,button:n,bgm:a="",timeRange:i=[],volume:o=1,atempo:s=1,audioMix:u=!1}={}){var c=wL();if(!c){var l="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:l,error:{code:nL.GameRecorder_NoVideo,message:l}})}var d=AL(o),p=PL(s),f=TL(i,p);if(f.reduce(((e,t)=>e+t[1]-t[0]),0)<SL*p){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${SL*p}ms under x${p} atempo.`;return Promise.reject({errMsg:g,error:{code:nL.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([sL(r,n),IL||(IL=(0,U.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig",reqData:{appServiceType:D.default.appType}}).then((e=>e.data)))]).then((([t,r])=>{var n={videoSrc:c,timeRange:f,bgmSrc:a,volume:d,atempo:p,shareOptions:[{id:1,name:"发送给好友",needExtUrl:!1}],audioMix:!!u};return r.enable_share_to_haowan,r.enable_share_to_timeline&&n.shareOptions.push({id:3,name:"分享到朋友圈"}),new Promise(((r,o)=>{kL=new Promise((e=>{CL=e})),(0,U.IN)("editGameRecorderVideo",Object.assign(n,{success:n=>{cL(5,{shareTitle:t.shareTitle,sharePath:`?${e}`,useBgm:!!a,useTimeRange:Array.isArray(i)&&i.length>0,useAtempo:[.3,.5,1.5,2,2.5,3].includes(s),atempo:s,audioMix:!!u}),r(Object.assign(n,t))},fail:e=>{if(804===e.errCode||803===e.errCode)return r();var t={0:{code:nL.OK,message:"GamaRecorder.share:ok"},801:{code:nL.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:nL.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};o({errMsg:e.errMsg.replace("editGameRecorderVideo","shareGameVideo"),error:t[e.errCode]||{code:nL.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).then((e=>kL.then((()=>e)))).then((r=>{kL=null,CL=null;var n=t;if(void 0!==r){if(2===r.chosenId&&"string"==typeof r.extUrl)cL(7),(0,U.IN)("private_openUrl",{url:r.extUrl});else if(1===r.chosenId||0===r.chosenId){var a=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_VIDEO,query:e});cL(6,{shareTitle:r.shareTitle,sharePath:a}),(0,pf.dg)({filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,path:a,userPath:n}).then((()=>{cL(8,{shareTitle:r.shareTitle,sharePath:r.path})}))}else if(3===r.chosenId){var i=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_VIDEO,query:e});cL(9,{shareTitle:r.shareTitle,sharePath:i}),(o={filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,userPath:n},(0,Me.showLoading)({title:"请稍等"}),(0,rh.c)({filePath:o.filePath,thumbFilePath:o.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,Me.hideLoading)(),e))).then((e=>{var t=(0,Yf.xF)({pageType:Xf.Gy.PLAY_PAGE_VIDEO,query:o.query});return uh(e,{title:o.title,path:t,imageUrl:e.thumbUrl},Xf.Gy.PLAY_PAGE_VIDEO,o)})).catch((e=>{(0,Me.hideLoading)(),oh.error("fail",e)}))).then((()=>{cL(10,{shareTitle:r.shareTitle,sharePath:i})}))}var o;return{errMsg:"GamaRecorder.share:ok",error:{code:nL.OK,message:"GamaRecorder.share:ok"}}}})).catch((e=>{h.error(e)}))},xL=["left","top","height","paddingLeft","paddingRight","backgroundColor","borderColor","borderWidth","borderRadius"],ML=["fontSize","color"],DL=new WeakMap,RL=null,LL=(e,t)=>{var r=(()=>{if(RL)return RL;var e=new O.Z.Canvas;return e.width=1,e.height=1,RL=e.getContext("2d")})();return t&&(r.font=`${t}px sans-serif`),r.measureText(e).width};class OL{constructor({style:e={},image:t="",icon:r="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht7bQQ8PW9rXljICmxVsZbEwrJgsCiaWWGm6YibFoxibLwX5UvINt8owvFnBibrv2uDgqvw/0?wx_fmt=png",text:n="分享游戏时刻",share:a={}}){var i={};DL.set(this,i),i.emitter=new aM.Z,e=Object.assign((0,iM.ph)(),e);var o=Object.keys(e).filter((e=>xL.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});o.paddingLeft=o.paddingLeft||16,o.paddingLeft=Math.max(o.paddingLeft,16),o.paddingRight=o.paddingRight||16,o.paddingRight=Math.max(o.paddingRight,16),o.position="absolute",o.flexDirection="row",o.justifyContent="center",o.alignItems="center",o.backgroundColor=o.backgroundColor||"#09bb07",o.borderRadius=o.borderRadius||3;var s=Object.keys(e).filter((e=>ML.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});s.color=s.color||"#ffffff",s.fontSize=s.fontSize||17,s.lineHeight=24*s.fontSize/17,s.width=LL(n,s.fontSize),s.height=s.lineHeight,i.button=new Bh.Ee({style:o,src:t,clickState:!0}),i.icon=new Bh.Ee({style:{width:24,height:16,marginRight:e.iconMarginRight||8},src:r}),i.text=new Bh.xv({style:s,value:n,bubbleEvent:!0}),i.button.add(i.icon),i.button.add(i.text),Bh.uo.add(i.button),Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>n,set:e=>{n=e,i.text.value=e,i.text.style.width=LL(n,i.text.style.fontSize)}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,i.button.src=e}}),this.style={};var u={};xL.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>u[e],set:t=>{"height"===e?t=Math.max(t,40):"paddingLeft"!==e&&"paddingRight"!==e||(t=Math.max(t,16)),u[e]=t,i.button.style[e]=t}})})),ML.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>u[e],set:t=>{"fontSize"===e&&(t=Math.min(Math.max(t,17),22),i.text.style.width=LL(n,t),i.text.style.height=24*t/17,i.text.style.lineHeight=24*t/17),u[e]=t,i.text.style[e]=t}})})),Object.defineProperty(this.style,"iconMarginRight",{configurable:!0,enumerable:!0,get:()=>u.iconMarginRight,set:e=>{u.iconMarginRight=e,i.icon.style.marginRight=e}}),this.share=a,i.button.on("click",(()=>{cL(3),EL(this.share).catch((e=>{i.emitter.emit("tap",e),lL.error.external.emit(e)}))})),cL(4)}onTap(e){DL.get(this).emitter.on("tap",e)}offTap(e){DL.get(this).emitter.off("tap",e)}show(){var e=DL.get(this);e.button.style.hidden&&(e.button.style.hidden=!1,cL(4))}hide(){DL.get(this).button.style.hidden=!0}}var NL=null,jL=(e={})=>NL||(NL=new OL(e)),BL=(e={})=>{if((0,vh.Vt)()){var t={};try{"string"==typeof e.configJson&&(t=JSON.parse(e.configJson))}catch(e){console.error(e)}(function({title:e="",desc:t="",bgm:r="",timeRange:n=[],volume:a=1,atempo:i=1,audioMix:o=!1,configJson:s=""}={}){var u=wL();if(!u){var c="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:c,error:{code:nL.GameRecorder_NoVideo,message:c}})}var l=AL(a),d=PL(i),p={isEdit:1},f=TL(n,d,p);if(f.reduce(((e,t)=>e+t[1]-t[0]),0)<SL*d){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${SL*d}ms under x${d} atempo.`;return Promise.reject({errMsg:g,error:{code:nL.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([sL()]).then((([n])=>{e||(e=n.shareTitle),t||(t=n.videoDesc);var a={title:e,desc:t,videoSrc:u,timeRange:f,bgmSrc:r,volume:l,atempo:d,shareOptions:[0,1,2,3],audioMix:!!o,configJson:s,isDevRequestEdit:p.isEdit},i="shareGameRecorderVideo";return new Promise(((e,t)=>{(0,U.IN)(i,Object.assign(a,{success:t=>{e(t)},fail:e=>{var r={0:{code:nL.OK,message:"GamaRecorder.share:ok"},801:{code:nL.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:nL.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};t({errMsg:e.errMsg.replace(i,"operateGameRecorderVideo"),error:r[e.errCode]||{code:nL.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).catch((e=>{throw h.error(e),e}))})({title:e.title,desc:e.desc,bgm:e.bgm,timeRange:e.timeRange,volume:e.volume,atempo:e.atempo,audioMix:e.audioMix,configJson:JSON.stringify(Object.assign({},t,{path:e.path,query:e.query})),version:1}).then((t=>{var r,n={};null==t||null===(r=t.shareResult)||void 0===r||r.forEach((e=>{switch(e.optionKey){case 0:n.shareGameCenter={errCode:e.errCode,errMsg:e.errMsg};break;case 1:(0,wt.J)("gameRecorderShareAppMessageCallback")&&(n.shareAppMessage={errCode:e.errCode,errMsg:e.errMsg});break;case 2:(0,wt.J)("gameRecorderShareTimelineCallback")&&(n.shareTimeline={errCode:e.errCode,errMsg:e.errMsg});break;case 3:n.shareStash={errCode:e.errCode,errMsg:e.errMsg}}})),(0,U.FE)({res:n,args:e,name:"operateGameRecorderVideo"})})).catch((t=>{(0,U.YG)("operateGameRecorderVideo",e,t.errMsg)}))}else{(0,U.YG)("operateGameRecorderVideo",e,"require user interaction (only in touchend event)")}},FL="互推组件已经废弃";class UL{constructor(){console.warn(FL)}load(){return Promise.reject({errMsg:FL})}offResize(){}offClose(){}offError(){}offLoad(){}onClose(){}onError(){}onLoad(){}show(){return Promise.reject({errMsg:FL})}hide(){return Promise.reject({errMsg:FL})}destroy(){return Promise.reject({errMsg:FL})}onResize(){}}var WL=e=>new UL(e),GL=e=>new UL(e),VL=e=>new UL(e),$L=(0,U.TG)("getUserInteractiveStorage","webapi_getuserinteractivedata",(({keyList:e=[]})=>({key:e}))),qL=e=>{var t=(0,bw.M)(e.keyList);t?(0,U.YG)("getUserInteractiveStorage",e,t):(_.reportIDKey({key:"getUserInteractiveStorage"}),$L(e))},zL=(e={})=>{(0,U.r3)("scanCode",e,{})&&(0,U.IN)("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},KL=((0,U.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),(0,U.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),()=>{if(!D.default.ext)return{};try{return JSON.parse(JSON.stringify(D.default.ext))}catch(e){return{}}}),HL=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:KL()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},JL=p(7328),YL={};function QL(e,t=!0){_.reportKeyValue({key:"MidasFriendPayment",value:[YL.scene,1,31,t?1:2,0,"1","",0,"",(0,Qe._getCurrentNetworkType)(),0,0,0,0,0,YL.scene_note,encodeURIComponent(JSON.stringify({label:e.mark_type,report_info:e.report_info,sessionId:YL.sessionid||YL.sessionId}))].join(",")})}D.default.onReady((()=>{var e;YL=D.default.appLaunchInfo||{},e=(YL.referrerInfo||{}).messageExtraData||{},(0,U.yD)({apiName:"webapi_game_getsharemarkingame",reqData:{lib_version:Je.c,scene:YL.scene,launch_with_share_mark:!!e.shareCardMarker},success:({data:e})=>{e&&(e.mark_list||[]).forEach(((e,t)=>setTimeout((()=>{QL(e),function({label:e,icon:t,tag:r,data:n,more:a=!1}){(0,JL._)({label:e,icon:t,tag:r,more:a,background:"transparent",base64:N.wZ}).then((t=>{var r=new Bh.Ee({src:t,autoInsert:!0,style:{left:0,width:210,height:40,opacity:0,top:/landscape/.test(D.default.deviceOrientation)?48:104}}),i=!1;a&&r.on("click",(()=>{i=!0,(0,U.yD)({apiName:"webapi_game_getfriendsscore",success:({data:t})=>{var r=t.friend_score_list||[];(0,tm.q7)({title:e,list:r})}}),QL(n,!1),r.destroy()})),(0,U.IN)("animateCoverView",{viewId:r.id,finalStyle:{opacity:1},duration:250,easing:"ease-out"}),setTimeout((()=>{setTimeout((()=>i||r.destroy()),300),i||(0,U.IN)("animateCoverView",{viewId:r.id,finalStyle:{opacity:0},duration:200,easing:"ease-in"})}),5250)}))}({data:e,label:e.wording,icon:e.head_img_url,tag:e.mark_word,more:6===e.mark_type})}),2e3+4500*t)))}})}));var ZL=null,XL=!1,eO=()=>!0===XL||("function"!=typeof getProfiler?(void 0!==O.Z.Profiler&&(ZL=O.Z.Profiler,XL=!0),!0):((ZL=getProfiler())&&(XL=!0),!0)),tO=!1,rO=()=>(eO(),ZL?(tO||(tO=!0,ZL.startCpuProfiling()),!0):null),nO=()=>{if(eO(),!ZL)return null;if(tO){tO=!1;var e=ZL.stopCpuProfiling();return e}return null},aO=()=>(eO(),ZL?ZL.takeHeapSnapshot():null);function iO(e){for(var t="",r=0;r<e.length;){var n=e[r],a=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(a=(3&e[r])<<30,a|=(63&e[r+1])<<24,a|=(63&e[r+2])<<18,a|=(63&e[r+3])<<12,a|=(63&e[r+4])<<6,a|=63&e[r+5],t+=String.fromCharCode(a),r+=6):248==(248&n)?(a=(7&e[r])<<24,a|=(63&e[r+1])<<18,a|=(63&e[r+2])<<12,a|=(63&e[r+3])<<6,a|=63&e[r+4],t+=String.fromCharCode(a),r+=5):240==(240&n)?(a=(15&e[r])<<18,a|=(63&e[r+1])<<12,a|=(63&e[r+2])<<6,a|=63&e[r+3],t+=String.fromCharCode(a),r+=4):224==(224&n)?(a=(31&e[r])<<12,a|=(63&e[r+1])<<6,a|=63&e[r+2],t+=String.fromCharCode(a),r+=3):192==(192&n)?(a=(63&e[r])<<6,a|=63&e[r+1],t+=String.fromCharCode(a),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}var oO="START_CPU_PROFILE",sO="STOP_CPU_PROFILE",uO="TAKE_HEAP_SNAPSHOT",cO="PERFDOG_METHOD",lO="PERFDOG_METHOD_CALLBACK",dO="LAN_DEBUG_GET_DEVICE_INFO",pO="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",fO="OPEN",hO="CLOSED",gO="ERROR",vO="CONNECTING",mO="LAN_DEBUG_STATUS_CHANGE",yO=!1;function bO(e,t){var{model:r,version:n,system:a,SDKVersion:i}=(0,Ae.getStableSystemInfo)(),{accountInfo:o,isDevEdition:s}=D.default,{appId:u,nickname:c}=o,l={model:r,wechatVersion:n,system:a,SDKVersion:i,appId:u,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(l))}function _O(e,t,r){yO||(yO=!0,function(e){var t=p.g.LanDebug;t&&(N.aI||delete p.g.LanDebug,t.registerCallback?t.registerCallback(cO,((t,r)=>{e(lO,r)})):t.registerCallback)}(t),e(dO,(()=>{bO(dO,t)})),e(pO,(()=>{bO(pO,t)})),e(cO,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(cO,e)),t(lO,n)})),e(oO,(()=>{rO()})),e(sO,(()=>{var e=nO();N.wZ&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=iO(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(sO,e||"")})),e(uO,(()=>{setTimeout((()=>{var e=aO();if(t(`${uO}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(uO,""),t(`${uO}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(uO),a=!1;e.on("data",(e=>{a||(t(`${uO}:PROGRESS`,JSON.stringify({data:"data"})),a=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${uO}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${uO}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var wO,IO=0,SO=(0,Sw.as)(),kO=null,CO=()=>kO||(kO=__protobufSDK__.getProtobuf()("\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n")),TO=()=>{wO||(wO=((e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")})())},AO=new jn.Z,PO=null,EO=hO,xO="",MO=-1,DO=!1,RO=null,LO=null,OO=[],NO=[],jO=[];function BO(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(EO===fO&&LO)return Promise.resolve(LO);if(EO===vO)return PO;var{ip:r,port:n,token:a,useStaticServer:i=!1,mode:o}=t;DO=i,xO=r,MO=n,EO=vO;var s="mpHelper"===o?"MPHELPER":"LANDEBUG",u=(0,Ae.getStableSystemInfo)();return _O(VO,WO,GO),PO=new Promise((e=>{TO(),(LO=SO.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${u.system}_v${u.version}_${wO}`)}||${a}`]})).onOpen((()=>{LO.send({data:"ping",success(){OO.forEach((e=>{$O(e)}))},fail(e){}}),EO=fO,AO.emit(mO,EO),e(LO)})),LO.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),a=new Uint32Array(n)[0],i=r.slice(4,4+a);try{t=CO().LanDebugHeader.decode(i)}catch(e){return e.message,void e.stack}var o,{isString:s,method:u}=t;if(s)o=iO(r.slice(4+a));else o=r.slice(4+a).buffer;AO.emit(u,o)}})),LO.onClose((()=>{FO(hO),jO.forEach((e=>{zO(e)}))})),LO.onError((e=>{FO(gO),RO=e,NO.forEach((e=>{qO(e)}))}))})),PO}function FO(e){EO=e,AO.emit(mO,EO),xO="",MO=-1,DO=!1,LO=null}function UO(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var a=!1;return PO?("string"==typeof r&&(a=!0,r=function(e){for(var t,r=[],n=e.length,a=0;a<n;a++)(t=e.charCodeAt(a))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var i=new Int8Array(r.length),o=0;o<r.length;o++)i[o]=r[o];return i.buffer}(r)),PO.then((i=>new Promise((o=>{if(!i)return o({errMsg:"sendSocketMessage:fail no client"});TO();var s=CO().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:a,clientId:wO,options:JSON.stringify({isDevEdition:D.default.isDevEdition})},n?{notEnd:!0}:{})),u=new Uint32Array([s.length]);i.send({data:new Uint8Array([...new Uint8Array(u.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var WO=function(e,t){return UO(IO++,e,t)},GO=function(e){var t=IO++;return{send:r=>UO(t,e,r,!0),end:(r=new ArrayBuffer(0))=>UO(t,e,r)}},VO=function(e,t){AO.on(e,t)},$O=function(e){try{e()}catch(e){e.message,e.stack}},qO=function(e){try{e(RO)}catch(e){e.message,e.stack}},zO=function(e){try{e(RO)}catch(e){e.message,e.stack}},KO={sendPackage:WO,sendStream:GO,onMessage:VO,offMessage:function(e,t){AO.off(e,t)},onReady:function(e){"function"==typeof e&&(EO===fO?$O(e):OO.push(e))},onError:function(e){"function"==typeof e&&(EO===gO?qO(e):NO.push(e))},onClose:function(e){"function"==typeof e&&(EO===gO?zO(e):jO.push(e))},get status(){return EO},get ip(){return xO},get port(){return MO},get useStaticServer(){return DO}};Object.defineProperty(KO,"_start",{get:()=>(...e)=>BO(...e)});(0,$o.dN)((()=>{(e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:a,useLanDebug:i}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||i)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return BO({ip:t,port:r,token:n,useStaticServer:a})}),500)})(D.default)}));var HO=(0,U.TG)("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),JO=(0,U.TG)("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),YO=(0,U.TG)("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function QO(){if(void 0===Ne.hr)return"";var e=Ne.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function ZO(e,t,r,n="",a=0,i="",o="",s=0){var u=[e||"",QO(),t,r,n,a,D.default.appType+1e3,i,o,s].map(encodeURIComponent).join(",");_.reportKeyValue({key:"WeAppToChannels",value:u})}(0,Ye.n)("onNavigateBackFromChannelsActivity",(e=>{(0,U.nY)("onNavigateBackFromChannelsActivity",e)}));var XO=!1;yr.U.on("beforeTouchEnd",(()=>{XO=!0})),yr.U.on("afterTouchEnd",(()=>{XO=!1})),(0,_r.vv)((()=>{XO=!1}));var eN=(e,t)=>r=>{XO?t(r):(0,U.YG)(e,r,"require user interaction (only in touchend event)")},tN=eN("openChannelsLive",(function(e={}){(0,N.tK)()?function(e={}){(0,U.IN)("openChannelsLive",e)}(e):YP(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){var a=t?`“${t}”`:"";(0,Me._showModal)({title:`即将打开${a}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var a=2;"release"===D.default.envVersion&&(a=1),"trial"===D.default.envVersion&&(a=3),(0,U.IN)("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:D.default.accountInfo.appId,version_type:a}}),{beforeAll({errMsg:t}){ZO(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else ZO(e.finderUserName,1,0,"cancel",5,e.feedId),(0,U.YG)("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){ZO(e.finderUserName,1,0,t,4,e.feedId),(0,U.YG)("openChannelsLive",e,t,r)},complete:null}))})),rN=eN("openChannelsActivity",(function(e={}){(0,N.tK)()?function(e={}){(0,U.IN)("openChannelsActivity",e)}(e):YP(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){var n=t?`“${t}”`:"";(0,Me._showModal)({title:`即将打开${n}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,U.IN)("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){ZO(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(ZO(e.finderUserName,3,0,"cancel"),(0,U.YG)("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){ZO(e.finderUserName,3,0,t,4,e.feedId),(0,U.YG)("openChannelsActivity",e,t,r)},complete:null}))})),nN=eN("openChannelsUserProfile",(function(e={}){(0,N.tK)()?function(e={}){(0,U.IN)("openChannelsUserProfile",e)}(e):(0,U.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Me._showModal)({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?(0,U.IN)("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){ZO(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(ZO(e.finderUserName,2,0,"cancel",5),(0,U.YG)("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{ZO(e.finderUserName,2,0,r||t,4),(0,U.YG)("openChannelsUserProfile",e,r||t)}))})),aN=eN("openChannelsLiveCollection",(function(e={}){var t={appId:D.default.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));(0,U.IN)("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:(0,N.aI)()?5:4,pageTitle:(0,N.aI)()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),ZO("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})})),iN=eN("openChannelsEvent",(function(e={}){Promise.all([(0,U.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),(0,U.Qh)({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Me._showModal)({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,U.IN)("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),ZO(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):(0,U.YG)("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{(0,U.YG)("openChannelsEvent",e,r||t),ZO(e.finderUserName,6,0,r||t,4)}))})),oN=eN("reserveChannelsLive",(function(e={}){(0,U.IN)("reserveChannelsLive",Object.assign({},e,{wxData:{appid:D.default.accountInfo.appId,apptype:D.default.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){ZO("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})})),sN="navigateToUserCenter",uN=(0,Oe.Fr)(em.n),cN=null,lN=!1,dN=()=>(cN?Promise.resolve(cN):new Promise(((e,t)=>{(0,U.yD)({sdkApiName:sN,apiName:"webapi_getadcardrechargeinfo",reqData:{},success(r){var n=r.data;n.rechargeUrl?e(cN=n):t(n)},fail:t})}))).then((e=>{var t=e.rechargeUrl;return uN({url:t,isNativeStyle:!0})})),pN=(e={})=>{lN?(0,U.YG)(sN,e,"please invoke after last navigate ended"):(lN=!0,(0,vh.UP)().then((()=>((e={})=>{var{type:t}=e;return"adsSkipCard"===t?dN():Promise.reject(new Error("invalid type"))})(e))).then((()=>((0,U.FE)({name:sN,args:e,res:{}}),lN=!1,null))).catch((t=>{(0,U.YG)(sN,e,t.errMsg||t.message,t.errCode||t.err_code),lN=!1})))},fN="requestConsumeAdsSkipCard",hN=(0,Oe.Fr)(Me._showModal),gN=!1;function vN({amount:e,subactionID:t}){_.reportKeyValue({key:"MidasFriendPayment",value:["",1,10,18,t,"","","","",(0,Qe._getCurrentNetworkType)(),"","","","","","",encodeURIComponent(JSON.stringify({num:e}))].join(",")})}function mN(e){var{amount:t}=e;return vN({subactionID:1}),hN({content:`使用 ${t} 张广告跳过卡`,confirmText:"确认",cancelText:"取消"}).then((r=>{if(r.confirm)return e;throw vN({amount:t,subactionID:7}),{errMsg:"cancel"}}))}function yN({token:e,amount:t}){return(0,U.Qh)({sdkApiName:"consume",apiName:"webapi_payadcardcostorder",reqData:{token:e}}).then((e=>{var r=e.data,{errMsg:n,errCode:a}=r;if(0===a)return vN({amount:t,subactionID:3}),(0,Me.showToast)({icon:"none",title:`已消耗${t}张广告跳过卡`,duration:1e3}),r;throw vN({amount:t,subactionID:4}),(0,Me.showToast)({icon:"none",title:"广告跳过卡使用失败，请重试",duration:2500}),{errMsg:n,errCode:a}})).catch((e=>{throw vN({amount:t,subactionID:4}),e}))}function bN(e={}){gN?(0,U.YG)(fN,e,"please invoke after last request ended"):(0,U.r3)(fN,e,{orderNo:""})&&(gN=!0,function(e={}){return(0,U.Qh)({sdkApiName:"check",apiName:"webapi_getadcardcostorderpaypackage",reqData:{orderNo:e.orderNo}}).then((e=>{var{token:t,errCode:r,errMsg:n,amount:a}=e.data;if(t)return{token:t,amount:a};throw{errCode:r,errMsg:n}}))}(e).then(mN).then(yN).then((()=>{gN=!1,(0,U.FE)({name:fN,args:e,res:{}})})).catch((t=>{gN=!1,void 0!==t.errCode||void 0!==t.err_code?(0,U.YG)(fN,e,t.errMsg||t.message,+(t.errCode||t.err_code||0)):(0,U.YG)(fN,e,t.errMsg||t.message)})))}var _N=(0,U.TG)("getAdsSkipCardSharePresentQuota","webapi_getadcardsharepresentquota",(()=>({})),(e=>{delete e.clientInfo})),wN=(e={})=>{var{success:t,failWithMsg:r,fail:n}=(0,U.Rn)(e,"getAdsSkipCardQuestInfo");(0,U.yD)({reqData:{},apiName:"webapi_getadcardquestinfo",sdkApiName:"getAdsSkipCardQuestInfo",success(e){var{data:n}=e,{errCode:a,errMsg:i,balance:o,questInfoList:s}=n;0===a?t({balance:o,questInfoList:s}):r({msg:i,code:a})},fail:n})},IN="getLatestUserKey",SN={},kN=null;var CN={getLatestUserKey:function(e){(SN.expireTime&&SN.expireTime>Date.now()?Promise.resolve(SN):kN||(kN=(0,U.Qh)({apiName:"webapi_getuserencryptkey",reqData:{}}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:a}=e.data;return SN={encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:a},kN=null,SN})).catch((e=>{throw kN=null,e})),kN)).then((t=>((0,U.FE)({name:IN,args:e,res:t}),null))).catch((t=>{(0,U.YG)(IN,e,t.message||t.errMsg)}))},getRandomValues:(e={})=>{(0,U.r3)("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&(0,U.YG)("getRandomValues",e,"invalid length"),(0,U.IN)("getRandomValues",e))}},TN=()=>CN,AN=()=>p.g.__debuggerMessager__?p.g.__debuggerMessager__:{};function PN(e={}){(0,U.IN)("getGameLivePermission",Object.assign({},e),{beforeSuccess(e){e.isEnabled=1!==e.errCode,delete e.status,delete e.errCode},beforeAll(e){e.errMsg=e.errMsg.replace("getGameLivePermission","checkGameLiveEnabled")}})}var EN=!1;(0,Ih.DT)((e=>{var{event:t}=e;1===t?EN=!0:0===t&&(EN=!1)}));var xN=()=>({isLive:EN}),MN="getUserRecentGameLiveInfo",DN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,MN);(0,wt.J)(MN)?(0,U.yD)({sdkApiName:MN,apiName:"webapi_getuserrecentgameliveinfolist",reqData:{},success(e){var{feedIdList:r,errCode:a,errMsg:i}=e.data;Number.isInteger(a)&&0!==a?n({msg:i,code:a}):t({feedIdList:r||[]})},fail:r}):n({msg:"no permission"})},RN="getUserCurrentGameliveInfo",LN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,RN);xN().isLive?(0,wt.J)("getUserRecentGameLiveInfo")?(0,U.yD)({sdkApiName:RN,apiName:"webapi_getusercurrentgameliveinfo",reqData:{},success(e){var{errCode:r,errMsg:a,feedId:i}=e.data;Number.isInteger(r)&&0!==r?n({msg:a,code:r}):t({feedId:i})},fail:r}):n({msg:"no permission"}):n({msg:"no live"})},ON="getUserGameLiveDetails",NN=(e={})=>{var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,ON);(0,wt.J)("getUserRecentGameLiveInfo")?(0,U.yD)({sdkApiName:ON,apiName:"webapi_getusergamelivedetailinfo",reqData:{feedIdList:Array.isArray(e.feedIdList)?e.feedIdList:[]},success(e){var{data:r,iv:a,encryptedData:i,cloudID:o}=e,{errCode:s,errMsg:u}=r;Number.isInteger(s)&&0!==s?n({msg:u,code:s}):t({iv:a,encryptedData:i,cloudID:o})},fail:r}):n({msg:"no permission"})},jN=p(1325),BN=p(4419),FN=!1,UN=1,WN=2,GN=0,VN=1,$N=2,qN=3,zN=4,KN=5,HN=6,JN="reportScene",YN="dimension",QN="metric",ZN="release",XN=[],ej=new jN.Z({reportFunc:_.reportKeyValue,logid:"WXGameSceneLaunchReport",protocolParams:["InstanceId","AppType","Scene","Path","IsDownloadCode","IsPatch","IsPreload","InitProcess","RunningState","BenchmarkLevel","NetworkType","SDKVersion","RuntimeType","SceneId","CostTime","RunTime","CustomInfo","CustomData"],schemas:{InstanceId:BN.QD.STRING,AppType:BN.QD.UINT,Scene:BN.QD.UINT,Path:BN.QD.STRING,IsDownloadCode:BN.QD.UINT,IsPatch:BN.QD.UINT,IsPreload:BN.QD.UINT,InitProcess:BN.QD.UINT,RunningState:BN.QD.UINT,BenchmarkLevel:BN.QD.INT,NetworkType:BN.QD.STRING,SDKVersion:BN.QD.STRING,RuntimeType:BN.QD.UINT,SceneId:BN.QD.UINT,CostTime:BN.QD.UINT,RunTime:BN.QD.UINT,CustomInfo:BN.QD.STRING,CustomData:BN.QD.STRING}}),tj=()=>{FN=!0,(()=>{try{var e=(0,Ae._getSystemInfoSyncFromCache)(),t={InstanceId:D.default.instanceId||"",AppType:D.default.appType+1e3,Scene:D.default.appLaunchInfo.scene,Path:D.default.appLaunchInfo.path||"",IsDownloadCode:D.default.appLaunchInfo.downloadCode||0,IsPatch:D.default.appLaunchInfo.isPkgPatch||0,IsPreload:D.default.preloadType||D.default.appLaunchInfo.preloadType,InitProcess:D.default.appLaunchInfo.initProcess||0,RunningState:UN,BenchmarkLevel:e.benchmarkLevel||-1,NetworkType:D.default.networkType||"unknown",SDKVersion:D.default.SDKVersion,RuntimeType:N.wZ?VN:N.cj?N.jP?qN:$N:N.qB?zN:N.Mq?KN:N.gm?HN:GN};ej.setBase(t)}catch(e){console.error("[minigamefe reportScene]: ",e)}})(),(0,$o.dN)((()=>{ej.setBase({RunningState:UN})})),(0,_r.vv)((()=>{ej.setBase({RunningState:WN})})),Qe.onNetworkStatusChange((e=>{ej.setBase({NetworkType:e.networkType})}))},rj=(e,t)=>{var r="";if(Object.keys(e).forEach((n=>{var a=e[n];(0,Q.HD)(a)&&""!==a?t===QN&&(r+=(0,Q.i2)(Number(a))?`parameter.${t}.${n} needs to be a numeric value of type string;`:""):r+=`parameter.${t}.${n} needs to be a string type and a non-empty string;`})),""===r){var n=(0,Q.e6)(e);""===n?r+=`failed to serialize parameter.${t} by JSON.stringify;`:n.length>1024&&(r+=`parameter.${t} cannot exceed 1024 characters;`)}return r},nj=e=>{var t="",{sceneId:r,costTime:n=0,dimension:a={},metric:i={}}=e,o={sceneId:r,costTime:n,dimension:a,metric:i};return""===(t+=(0,Q.x7)(o,{sceneId:0,costTime:0,dimension:{},metric:{}}))&&(t+=(e=>{for(var t=Object.keys(e),r="",n=0;n<t.length;n++){var a=t[n],i=e[a];(0,Q.i2)(i)?r+=`parameter.${a} should not be NaN;`:i<0&&(r+=`parameter.${a} should greater than or equal to zero;`)}return r})({sceneId:r,costTime:n})),""!==t||(0,Q.Qr)(a)||(t+=rj(a,YN)),""!==t||(0,Q.Qr)(i)||(t+=rj(i,QN)),t},aj=e=>{var{success:t,fail:r,complete:n,...a}=e;return a},ij=(e,t="")=>{(0,U.FE)({name:JN,args:e,res:{data:aj(e)},errMsg:t,success:!t})},oj=(0,U.TG)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",(e=>({source:1,custom_scene_info:{msg:JSON.stringify(e)}})));function sj(e){FN||tj();var t=nj(e);if(t)ij(e,t);else{var{sceneId:r,costTime:n=0,dimension:a,metric:i}=e;if(XN.includes(r))ij(e,`report sceneId:${r} repeatedly;`);else{XN.push(r);var o=D.default.coldLaunchTime||0,s={SceneId:r,CostTime:n,RunTime:o?Number(Date.now()-o):0,CustomInfo:a?(0,Q.e6)(a):"",CustomData:i?(0,Q.e6)(i):""};ej.send(s,(()=>{ij(e)})),D.default.envVersion!==ZN&&oj(s)}}}var uj=(e,...t)=>{(0,Q.mf)(e)&&e(...t)},cj=234234669135,lj=234231453256,dj=234532352353;var pj=e=>"function"==typeof e,fj=e=>"object"==typeof e&&e,hj="break_callback_execute",gj=Symbol("defineGeneralSymbol"),vj=new WeakSet;function mj(e,t){return function(r,n,a){if("noCondom"===e&&Dx(n),a.value){a.value.extraInfos[e]=t}else{var i=a.initializer();if("noHook"===e)return void(a.initializer=()=>i);if("noExpose"===e)return void(a.initializer=()=>{});a.value={extraInfos:{[e]:t}},a.initializer=()=>{var e,t=null===(e=a.value)||void 0===e?void 0:e.extraInfos;return delete a.value.extraInfos,t.api=n,t.prefix="",Object.assign(t,r[gj]),yj(t,i,this)}}return a}}function yj(e,t,r,n=1){if(!fj(e))return t;var{api:a,prefix:i=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&fj(t)){var o=t=>{Object.keys(t).forEach((r=>{var o=Object.assign({},e,{api:r,prefix:i||a+"."});o.handleObject=!1;var s,u,{get:c,configurable:l}=Object.getOwnPropertyDescriptor(t,r);c||(c=null===(s=e.lazy)||void 0===s||null===(u=s.hookHandlers)||void 0===u?void 0:u.getter);if(c)l&&Object.defineProperty(t,r,{get(){var e=c();return yj(o,e,t,n)},configurable:!0});else{if("CDN"===r&&"serviceMarket"===a)return;t[r]=yj(o,t[r],t,n)}}))};return null!=e&&e.handleObject?o(t):Jk(a,o),t}if(!pj(t))return t;var s,u=!0,c=[],l=[],d=function(...r){var o,d,p;r[r.length-2]===Yk&&(t=r[r.length-1],r=r.slice(0,-2));var f=!1,h=r[0],g=h,v=i+a,m={};if(u){u=!1,s=new Map;var y={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:n,getState:o,otherDecoratorStates:u}=r;if(n&&Object.keys(n).forEach((e=>{var r=s.get(e);r?r.push({fn:n[e],metaKey:t}):s.set(e,[{fn:n[e],metaKey:t}])})),o){c.push(t);var d=o(),p=Date.now(),f=Math.random(),g=1e4*p+Math.round(9999*f);d.prefix=i,d.api=a,d.originArgs=h,d.invokeTime=p,d.random=f,d.uuid=g,m[t]=d,y[t]&&(y[t].forEach((e=>{e[t]=d})),delete y[t])}u&&(l.push(t),m[t]=m[t]||{},m[t].otherDecoratorStates={},u.forEach((e=>{m[e]?m[t].otherDecoratorStates[e]=m[e]:y[e]?y[e].push(m[t].otherDecoratorStates):y[e]=[m[t].otherDecoratorStates]})))}}))}else{var b=Date.now(),_=Math.random(),w=1e4*b+Math.round(9999*_);c.forEach((function(t){var r=e[t],{getState:n}=r,o=n();o.prefix=i,o.api=a,o.originArgs=h,o.invokeTime=b,o.random=_,o.uuid=w,m[t]=o})),l.forEach((function(t){var r=e[t],{otherDecoratorStates:n}=r;m[t]=m[t]||{},m[t].otherDecoratorStates={},n.forEach((e=>{m[t].otherDecoratorStates[e]=m[e]}))}))}var I,S,k=()=>{var e,o,u,c,l;(0,Q.Kn)(h)&&(g=Object.assign({},g),r[0]=g,f=!0);try{var d,p,y=!1,b=s.get("beforeExecute");if(b&&b.forEach((function({fn:e,metaKey:t}){var r=e.call(m[t]);Array.isArray(r)&&r[0]===Qk&&(y=r)})),!1!==y)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{(0,U.YG)(v,r[0],y[1])})):pj(y[2])?y[2]():void 0;var _=s.get("paramHandler");_&&_.forEach((function({fn:e,metaKey:t}){m[t].modifyArgs?e.call(m[t],r):e.call(m[t],...r)})),(!(null==m||null===(d=m.promised)||void 0===d||!d.promise)||!(0,uk.iq)(v,r[0]))&&(f||(g=Object.assign({},g),m.timeout&&(m.timeout.afterCopyArgs=g)),["complete","success","fail"].forEach((function(t){var r=s.get(t),n=g[t];g[`__origin_${t}__`]=n,r&&(g[t]=function(a){"fail"===t&&(e=a),"success"===t&&(c=a);try{r.forEach((({fn:e,metaKey:t})=>e.call(m[t],a)))}catch(e){if(e===hj)return}pj(n)&&n.call(h,a);var i="after"+t[0].toUpperCase()+t.slice(1),o=s.get(i);o&&o.forEach((({fn:e,metaKey:t})=>e.call(m[t],a)))})})),f||(r[0]=g,f=!0));var w=s.get("hookArgs");w&&w.forEach((({fn:e,metaKey:t})=>e.call(m[t],g)));var I=!1,S=s.get("breakDirectly");if(S)for(var k=0;k<S.length;k++){var C=S[k].fn.call(m[S[k].metaKey],...r);if(C!==lj){I=!0,u=C;break}}if(!I)try{u=t.call(this,...r)}catch(e){var T=!1,A=s.get("errorHandler");A&&A.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===dj&&(T=!0)})),T||(o=e)}var P={};if(null!=m&&null!==(p=m.report)&&void 0!==p&&p.deep){var E,x=null==m||null===(E=m.report)||void 0===E?void 0:E.deep;if((!0===x||n<x)&&(0,Q.Kn)(u)){var M=Object.getPrototypeOf(u);for(var D of Object.getOwnPropertyNames(u).concat(Object.getOwnPropertyNames(M))){var R=D in M?M:u,L=(i||"")+a,O=(0,uk.SO)(R,D);if(O&&(!O.get&&O.writable&&pj(R[D]))){var N={prefix:L+".",api:D};P[D]||(P[D]=N),P[D].report=Object.assign({},null==m?void 0:m.report)}}}}var j=s.get("resultHandler");if(j&&j.forEach((({fn:t,metaKey:n})=>{var a=t.call(m[n],u,r,{syncError:o,callbackError:e});a!==cj&&(u=a)})),!vj.has(u)&&(0,Q.Kn)(u)){for(var B of Object.getOwnPropertyNames(P))u[B]=yj(P[B],u[B],u,n+1);vj.add(u)}}catch(e){l=e;var F=s.get("uncaughtErrorHandler");F&&F.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===dj&&(l=null)}))}var W=!0,G=s.get("afterCallback");if(G&&G.forEach((function({fn:t,metaKey:n}){t.call(m[n],r,c||u,{syncError:o,callbackError:e})===dj&&(W=!1)})),l)throw l;if(!o)return u;if(W)throw o},C=!0,T=s.get("asyncPrepositive"),A=s.get("syncPrepositive"),P=(null==m?void 0:m.promised)&&!(null!==(o=g)&&void 0!==o&&o.success||null!==(d=g)&&void 0!==d&&d.fail||null!==(p=g)&&void 0!==p&&p.complete);if(A)for(var E of A){var{fn:x,metaKey:M}=E,D=x.call(m[M],g);if(D[0]){if(D[3])return;var R,L,O=void 0;return O=D[4]?`${i+a}:fail${D[1]?" ":""}${D[1]}`:{errMsg:`${i+a}:fail${D[1]?" ":""}${D[1]}`,...D[2]?{errno:D[2]}:{}},P?Promise.reject(O):(null!==(R=g)&&void 0!==R&&R.fail&&g.fail(O),void(null!==(L=g)&&void 0!==L&&L.complete&&g.complete(O)))}}if(T){var N=[];T.forEach((({fn:e,metaKey:t})=>{N.push(e.call(m[t],g))})),N.find((e=>(0,Q.tI)(e)))&&(S=Promise.all(N))}return S?P?new Promise(((e,t)=>{S.then((r=>{for(var n of r)if(n[0]){C=!1,I=n[4]?`${i+a}:fail${n[1]?" ":""}${n[1]}`:{errMsg:`${i+a}:fail${n[1]?" ":""}${n[1]}`,...n[2]?{errno:n[2]}:{}};break}return C?void e(k()):void t(I)}))})):void S.then((e=>{for(var t of e)if(t[0]){C=!1,I=t[4]?`${i+a}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${i+a}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(C)return k();var r,n;null!==(r=g)&&void 0!==r&&r.fail&&g.fail(I),null!==(n=g)&&void 0!==n&&n.complete&&g.complete(I)})):k()};return n>1?d.bind(r):d}function bj(e,t){return function(r){r.prototype[gj]?r.prototype[gj][e]=t:r.prototype[gj]={[e]:t}}}var _j=p(2908),wj=p(4606),Ij=()=>{},Sj=function(e,t,r,n){var a,i=this.prefix+this.api,o=this.uuid,s=this.params,[u,...c]=s,l=this.invokeTime,d=this.subContext;(0,Q.Kn)(u)?(a={...u},["complete","success","fail"].forEach((e=>{var t;null===(t=a)||void 0===t||delete t[`__origin_${e}__`]}))):a=u,(0,PR.m)(i,o,c.length?[a,...c]:a,t?1:0,l,n?0:1,e,d,r,kj.call(this),this.syncCost)};function kj(){return!this.shouldBelieveAsync}function Cj(e,t=!1,r=0){return mj("report",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;(0,wj.d)(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!_.isLimitReport(21688))&&Sj.call(this,e,!0,t)})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),setTimeout(Ij,16)},fail(e){var r=this.prefix+this.api;(0,wj.d)(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!_.isLimitReport(21688))&&Sj.call(this,e,!1,t)})).catch((e=>{h.warn("checkPointFullReportRule err:",e)})),e.errno&&_.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")}),setTimeout(Ij,16)},complete(){setTimeout(Ij,16)},afterCallback(e,r,n){var a=Date.now()-this.invokeTime;this.syncCost=a;var i=this.prefix+this.api,{callbackError:o,syncError:s}=n;(0,wj.d)(i,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var n=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,n&&(!t||!_.isLimitReport(21688))&&Sj.call(this,r,!(s||o),t,!0)})).catch((e=>{h.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,a=(0,_j._K)(n),i=null!==(r=null==a?void 0:a.ratio)&&void 0!==r?r:e;t=1===(null==a?void 0:a.ratio)||t,this.report=this.random<i,this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync:kj},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,params:void 0,invokeTime:void 0,report:void 0,shouldBelieveAsync:void 0,hasCheckReq:void 0,subContext:r,deep:2})})}function Tj(e=0){return Cj(1,!0,e)}var Aj={cache:null,ret:null,rawResult:null},Pj={isReleaseQueue:null,cacheList:null,doubleCacheList:null};function Ej(){return mj("apiCache",{hookHandlers:{breakDirectly:()=>Aj.cache?Aj.ret:lj,afterCallback(e,t,r){var{syncError:n,callbackError:a}=r,i=e[0];n||a||(Aj.cache?(uj(null==i?void 0:i.__origin_success__,Aj.rawResult||t),uj(null==i?void 0:i.__origin_complete__,Aj.rawResult||t)):(Aj.cache=!0,Aj.ret=t,setTimeout((()=>{Aj.cache=!1,Aj.ret=null,Aj.rawResult=null}))))}},getState:()=>({cacheInfo:Aj})})}function xj(){return mj("apiCache",{hookHandlers:{breakDirectly(...e){var t,r,n,a,i=e[0];return Pj.isReleaseQueue?Pj.doubleCacheList?void Pj.doubleCacheList.push([(null===(t=this.otherDecoratorStates.promised)||void 0===t?void 0:t.resolve)||(null==i?void 0:i.__origin_success__),(null===(r=this.otherDecoratorStates.promised)||void 0===r?void 0:r.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(Pj.doubleCacheList=[],lj):Pj.cacheList?void Pj.cacheList.push([(null===(n=this.otherDecoratorStates.promised)||void 0===n?void 0:n.resolve)||(null==i?void 0:i.__origin_success__),(null===(a=this.otherDecoratorStates.promised)||void 0===a?void 0:a.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(Pj.cacheList=[],lj)},success(e){Pj.isReleaseQueue=!0,Pj.cacheList&&Pj.cacheList.forEach((t=>{uj(t[0],e)}))},fail(e){Pj.isReleaseQueue=!0,Pj.cacheList&&Pj.cacheList.forEach((t=>{uj(t[1],e)}))},complete(){Pj.cacheList&&(Pj.cacheList.forEach((e=>{uj(e[2])})),Pj.cacheList=null),Pj.isReleaseQueue=!1,Pj.cacheList=Pj.doubleCacheList,Pj.doubleCacheList=null}},getState:()=>({cacheInfo:Pj}),otherDecoratorStates:["promised"]})}var Mj={promise:null};function Dj(){return mj("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:a}=t;r||n||a||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Mj.promise=this.promise)},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return cj;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return(0,Q.tI)(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.otherDecoratorStates)&&void 0!==n&&n.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return cj},success(e){var t,r,n=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}const Rj={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const Lj={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const Oj={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const Nj={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:30,openChannelsActivity:30,openChannelsUserProfile:30,openChannelsLiveCollection:30,openChannelsEvent:30,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0};const jj={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const Bj={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};var Fj=Object.create(null);Object.assign(Fj,{openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,onAppShow:10,onAppHide:10});const Uj=Fj;var Wj=Object.create(null);Object.assign(Wj,{sample:Rj,ui:Lj,log:Oj,tap:Nj,singlePage:jj,thirdApp:Bj,background:Uj});var Gj=(e,t)=>Wj[t][e],Vj=[10,30,40,50];function $j(e){return(...t)=>{if(4===D.default.appType)return Ir("tap"),e.apply(this,t),void Sr();Ne.P3.wrapTapMark((()=>{e.apply(this,t)}))}}var qj=function(){if(!this.emitFail){if(this.isTimeout)throw hj;clearTimeout(this.timer)}};function zj(){return mj("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,uj(t.fail,e),uj(t.complete,e),this.emitFail=!1}),r))},success(){qj.call(this)},fail(){qj.call(this)},complete(){qj.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})})}function Kj(){return mj("noCondom",{})}function Hj(){return mj("privacy",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){return Nu(this.api).then((({success:e,errMsg:t,errno:r})=>e?[!1]:[!0,t,r])).catch((e=>[!1]))}},getState:()=>({modifyArgs:!0})})}var Jj=function(){return mj("handleSdkSubPackageObject",{})},Yj=!1;var Qj=p(9899),Zj=!1,Xj=!1;function eB(e=!1){var r,n,a=O.Z.saveCodeCache;"function"==typeof a&&null!==(r=t)&&void 0!==r&&null!==(n=r.features)&&void 0!==n&&n.delayedServiceCodeCache&&(Xj||(Xj=e,Zj||(Zj=!0,setTimeout((()=>{Date.now();a(!1,Xj),Date.now(),Zj=!1}),0))))}o.onLoad((()=>{1===D.default.envPreloadType?setTimeout((()=>{eB(!1)}),0):D.default.onReady((()=>{eB(!0)}))}));var tB=mj("onlyNeedHookGeneral",{}),rB=Symbol("specialAdd");(0,Ye.n)("onAddToDesktop",(()=>{(0,Me.showToast)({icon:"loading",title:"加载中",duration:5e3}),nB({timeout:5e3,special:rB,fail(e){(0,Me.showToast)({icon:"error",title:"链接生成失败，请重试"}),h.info("onAddToDesktop addToDesktop occur error: ",e)},success(){(0,U.IN)("hideToast",null)}})}));var nB=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||(0,Q.HD)(e.path))if(N.gm||N.wZ)(0,U.YG)("addToDesktop",e,"not supported");else{var{path:n="",fail:a,success:i}=e;if((0,wt.J)("openUrlByExtBrowser2")||(0,wt.J)("openUrlByExtBrowser")&&t===rB){var o,s=!1;r&&(o=setTimeout((()=>{s=!0,(0,Q.mf)(a)&&a({errMsg:"timeout"})}),r)),(0,U.Qh)({apiName:"webapi_adduserurllink",reqData:{query:n}}).then((e=>{if(!s){if(o&&clearTimeout(o),0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===rB?fD.AM:fD.uA)({url:r,success(){(0,Q.mf)(i)&&i()},fail(e){(0,Q.mf)(a)&&a(e)}})}})).catch((e=>{s||(o&&clearTimeout(o),e.err_code&&(e.errno=e.err_code,delete e.err_code),(0,Q.mf)(a)&&a(e))}))}else(0,U.YG)("addToDesktop",e,"no permission","-12001")}else(0,U.YG)("addToDesktop",e,"invalid request data")},aB=(e={})=>{var t="openPage";if((0,U.r3)(t,e,{openlink:""})){var{openlink:r}=e,{success:n,failWithMsg:a}=(0,U.Rn)(e,t);(0,U.yD)({apiName:"webapi_game_transfer",sdkApiName:t,reqData:{req_path:"api.translateopenpagelink",openlink:r},success(e){var t,r,i,o=null==e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.url;o?(o=(N.cj||N.wZ)&&o.indexOf("wechat_pkgid")>=0?o.replace("#wechat_redirect",""):o,(0,em.n)({useGameWePkgIfExist:!0,url:o,success(){n({})},fail(e){a({msg:e.errMsg})}})):a({msg:null==e||null===(i=e.data)||void 0===i?void 0:i.errmsg})},fail(e){console.error(e),h.error(e),a({msg:e.errMsg})}})}},iB=(e={})=>{var t="getGameClubData";(0,U.r3)(t,e,{dataTypeList:[]})&&(0,U.yD)({apiName:"webapi_getgameclubdata",sdkApiName:t,reqData:{dataTypeList:e.dataTypeList},success:e.success,fail:e.fail,complete:e.complete})};function oB(){return _}function sB(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var uB=1e3,cB=null,lB=[],dB=!1,pB=!1,fB=N.gm||!(0,N.oS)(),hB=[];function gB(){cB=null,0!==lB.length&&(c.invoke("reportKeyValue",{version:2,dataArray:lB.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(sB(e.args))].join(",")})))}),lB=[])}function vB(e,t){N.gm&&function(e,t){var r={...t,phase:e};r.args=sB(r.args),c.invoke("traceEvent",{events:[r]})}(e,t),dB&&function(e,t){(pB||"API"!==t.category)&&(cB||(cB=setTimeout(gB,uB)),lB.push({...t,phase:e}))}(e,t)}function mB(){return fB}D.default.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?dB=!0:"2"===n&&(dB=!0,pB=!0),fB=fB||pB||!!(0,N.Dq)())&&(null===(r=hB)||void 0===r||r.forEach((e=>e())));hB=null}));var yB=!1;function bB(){var e;return yB?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var _B={},wB={};const IB=function(e){var t=[];function r(r,n,a,i=!1){var o;if(u.traceBegin(r,n),!i){var s={category:r,name:n,timeStamp:bB(),args:a||{}};t.push(s),"Framework"===r&&h.info(`[Trace][B] ${n} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=_B[s.category])||void 0===o||o.forEach((t=>t(s,e))),vB("B",s)}}function n(r,n=!1){var a,i;if(u.traceEnd(),!n){var o=bB(),s=t.pop();if(!s)return h.error("[Trace] Must call traceBeginEvent before traceEndEvent."),oB().assertWithIDKey(!1,6),void oB().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var c=s.args,l=s.timeStamp;s.timeStamp=o,s.args=r||s.args,"Framework"===s.category&&h.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(a=s.args)||void 0===a?void 0:a.path)||""}`),null===(i=wB[s.category])||void 0===i||i.forEach((t=>t(s,l,c,e))),vB("E",s)}}function a(e,t){r("API",e,t,mB())}function i(){n(void 0,mB())}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:a,traceEndAPI:i,useTraced:function(e,t,a,i){return function(...o){try{return r(e,t,i),a.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(t,r,n){var a,i,o=bB(),s={category:t,name:r,timeStamp:o,args:n||{}};u.traceInstant(t,r),"Framework"===t&&h.info(`[Trace][I] ${r} @ ${o}`),null===(a=_B[t])||void 0===a||a.forEach((t=>t(s,e))),vB("B",s),vB("E",s),null===(i=wB[t])||void 0===i||i.forEach((t=>t(s,o,n,e)))},useTracedApi:function(e,t,r){return function(...n){try{return a(e,r),t.apply(this,n)}finally{i()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{i()}}}}}(Infinity);var SB,kB={},CB=!1,TB=e=>{kB=e;try{kB="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,CB=!0}catch(e){kB={}}};CB||(CB="SDK"===(null===(SB=D.default.host)||void 0===SB?void 0:SB.env));var AB,PB=e=>kB&&kB[e];(0,Ye.n)("onThirdPlatformApiPermissionBytesUpdate",(e=>{TB(N.wZ?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==AB&&AB()}));D.default.onReady((()=>{TB(D.default.thirdPlatformApiPermissionBytes)}));var EB=(0,U.TG)("checkIsAddedToMyMiniProgram","webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa}));function xB(e){EB(Object.assign({},e))}var MB="requestSubscribeLiveActivity",DB=!1,RB=(e={})=>{if((0,U.r3)(MB,e,{activityType:0}))if((0,vh.Vt)())if(DB)(0,U.YG)(MB,e,"please invoke after last navigate ended");else{var{success:t,fail:r}=(0,U.Rn)(e,MB);DB=!0,(0,U.yD)({sdkApiName:MB,apiName:"webapi_getwxanotifycode",reqData:{type:e.activityType,env_check:"{}"},success(e){DB=!1,t({code:e.data.init_code||""})},fail(e){DB=!1,r(e)}})}else(0,U.YG)(MB,e,"require user interaction (only in touchend event)")},LB=(e={})=>{e=Object.assign({},e);var t=()=>{try{Pr({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}};(0,N.aI)()?(0,U.yD)({apiName:"webapi_getgamewxkfinfo",sdkApiName:"openCustomerServiceChat",reqData:{raw_kf_args:{extinfo:e.extInfo,corpid:e.corpId,show_message_card:e.showMessageCard,send_message_title:e.sendMessageTitle,send_message_path:e.sendMessagePath,send_message_img:e.sendMessageImg}},success:r=>{var n=r.data;if(0===(null==n?void 0:n.err_code)){var{processed_kf_args:a,need_ban_kf:i}=n;if(i)(0,U.YG)("openCustomerServiceChat",e,"customer service ability is banned");else{var{extinfo:o,corpid:s,show_message_card:u,send_message_title:c,send_message_path:l,send_message_img:d}=a||{};o.scene=20,(0,U.IN)("openCustomerServiceChat",{extInfo:o,corpId:s,showMessageCard:u,sendMessageTitle:c,sendMessagePath:l,sendMessageImg:d,scene:+D.default.appLaunchInfo.scene,success:e.success,fail:e.fail,complete:e.complete},{beforeSuccess:t})}}else{var{err_code:p,err_msg:f}=n;h.error("openCustomerServiceChat err_code",p),(0,U.YG)("openCustomerServiceChat",e,f,p)}},fail:t=>{h.error("openCustomerServiceChat operateWXData Fail",t),console.error("openCustomerServiceChat operateWXData Fail",t),(0,U.YG)("openCustomerServiceChat",e,t.errMsg)}}):(e.extInfo=Object.assign({},e.extInfo,{scene:8}),(0,U.IN)("openCustomerServiceChat",Object.assign({},e,{scene:+D.default.appLaunchInfo.scene}),{beforeSuccess:t}))};Nf.onTouchStart((e=>{var t=e;yu.externInfo.touchPoint={clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY},yu.externInfo.touchPoint}));var OB,NB,jB,BB,FB,UB,WB,GB,VB,$B,qB,zB,KB,HB,JB,YB,QB,ZB,XB,eF,tF,rF,nF,aF,iF,oF,sF,uF,cF,lF,dF,pF,fF,hF,gF,vF,mF,yF,bF,_F,wF,IF,SF,kF,CF,TF,AF,PF,EF,xF,MF,DF,RF,LF,OF,NF,jF,BF,FF,UF,WF,GF,VF,$F,qF,zF,KF,HF,JF,YF,QF,ZF,XF,eU,tU,rU,nU,aU,iU,oU,sU,uU,cU,lU,dU,pU,fU,hU,gU,vU,mU,yU,bU,_U,wU,IU,SU,kU,CU,TU,AU,PU,EU,xU,MU,DU,RU,LU,OU,NU,jU,BU,FU,UU,WU,GU,VU,$U,qU,zU,KU,HU,JU,YU,QU,ZU,XU,eW,tW,rW,nW,aW,iW,oW,sW,uW,cW,lW,dW,pW,fW,hW,gW,vW,mW,yW,bW,_W,wW,IW,SW,kW,CW,TW,AW,PW,EW,xW,MW,DW,RW,LW,OW,NW,jW,BW,FW,UW,WW,GW,VW,$W,qW,zW,KW,HW,JW,YW,QW,ZW,XW,eG,tG,rG,nG,aG,iG,oG,sG,uG,cG,lG,dG,pG,fG,hG,gG,vG,mG,yG,bG,_G,wG,IG,SG,kG,CG,TG,AG,PG,EG,xG,MG,DG,RG,LG,OG,NG,jG,BG,FG,UG,WG,GG,VG,$G,qG,zG,KG,HG,JG,YG,QG,ZG,XG,eV,tV,rV,nV,aV,iV,oV,sV,uV,cV,lV,dV,pV,fV,hV,gV,vV,mV,yV,bV,_V,wV,IV,SV,kV,CV,TV,AV,PV,EV,xV,MV,DV,RV,LV,OV,NV,jV,BV,FV,UV,WV,GV,VV,$V,qV,zV,KV,HV,JV,YV,QV,ZV,XV,e$,t$,r$,n$,a$,i$,o$,s$,u$,c$,l$,d$,p$,f$,h$,g$,v$,m$,y$,b$,_$,w$,I$,S$,k$,C$,T$,A$,P$,E$,x$,M$,D$,R$,L$,O$,N$,j$,B$,F$,U$,W$,G$,V$,$$,q$,z$,K$,H$,J$,Y$,Q$,Z$,X$,eq,tq,rq,nq,aq,iq,oq,sq,uq,cq,lq,dq,pq,fq,hq,gq,vq,mq,yq,bq,_q,wq,Iq,Sq,kq,Cq,Tq,Aq,Pq,Eq,xq,Mq,Dq,Rq,Lq,Oq,Nq,jq,Bq,Fq,Uq,Wq,Gq,Vq,$q,qq,zq,Kq,Hq,Jq,Yq,Qq,Zq,Xq,ez,tz,rz,nz,az,iz,oz,sz,uz,cz,lz,dz,pz,fz,hz,gz,vz,mz,yz,bz,_z,wz,Iz,Sz,kz,Cz,Tz,Az,Pz,Ez,xz,Mz,Dz,Rz,Lz,Oz,Nz,jz,Bz,Fz,Uz,Wz,Gz,Vz,$z,qz,zz,Kz,Hz,Jz,Yz,Qz,Zz,Xz,eK,tK,rK,nK,aK,iK,oK,sK,uK,cK,lK,dK,pK,fK,hK,gK,vK,mK,yK,bK,_K,wK,IK,SK,kK,CK,TK,AK,PK,EK,xK,MK,DK,RK,LK,OK,NK,jK,BK,FK,UK,WK,GK,VK,$K,qK,zK,KK,HK,JK,YK,QK,ZK,XK,eH,tH,rH,nH,aH,iH,oH,sH,uH,cH,lH,dH,pH,fH,hH,gH,vH,mH,yH,bH,_H,wH,IH,SH,kH,CH,TH,AH,PH,EH,xH,MH,DH,RH,LH,OH,NH,jH,BH,FH,UH,WH,GH,VH,$H,qH,zH,KH,HH,JH,YH,QH,ZH,XH,eJ,tJ,rJ,nJ,aJ,iJ,oJ,sJ,uJ,cJ,lJ,dJ,pJ,fJ,hJ,gJ,vJ,mJ,yJ,bJ,_J,wJ,IJ,SJ,kJ,CJ,TJ,AJ,PJ,EJ,xJ,MJ,DJ,RJ,LJ,OJ,NJ,jJ,BJ,FJ,UJ,WJ,GJ,VJ,$J,qJ,zJ,KJ,HJ,JJ,YJ,QJ,ZJ,XJ,eY,tY,rY,nY,aY,iY,oY,sY,uY,cY,lY,dY,pY,fY,hY,gY,vY,mY,yY,bY,_Y,wY,IY,SY,kY,CY,TY,AY,PY,EY,xY,MY,DY,RY,LY,OY,NY,jY,BY,FY,UY,WY,GY,VY,$Y,qY,zY,KY,HY,JY,YY,QY,ZY,XY,eQ,tQ,rQ,nQ,aQ,iQ,oQ,sQ,uQ,cQ,lQ,dQ,pQ,fQ,hQ,gQ,vQ,mQ,yQ,bQ,_Q,wQ,IQ,SQ,kQ,CQ,TQ,AQ,PQ,EQ,xQ,MQ,DQ,RQ,LQ,OQ,NQ,jQ,BQ,FQ,UQ,WQ,GQ,VQ,$Q,qQ,zQ,KQ,HQ,JQ,YQ,QQ,ZQ,XQ,eZ,tZ,rZ,nZ,aZ,iZ,oZ,sZ,uZ,cZ,lZ,dZ,pZ,fZ,hZ,gZ,vZ,mZ,yZ,bZ,_Z,wZ,IZ,SZ,kZ,CZ,TZ,AZ,PZ,EZ,xZ,MZ,DZ,RZ,LZ,OZ,NZ,jZ,BZ,FZ,UZ,WZ,GZ,VZ,$Z,qZ,zZ,KZ,HZ,JZ,YZ,QZ,ZZ,XZ,eX,tX,rX,nX,aX,iX,oX,sX,uX,cX,lX,dX,pX,fX,hX,gX,vX,mX,yX,bX,_X,wX,IX,SX,kX,CX,TX,AX,PX,EX,xX,MX,DX,RX,LX,OX,NX,jX,BX,FX,UX,WX,GX,VX,$X,qX,zX,KX,HX,JX,YX,QX,ZX,XX,e0,t0,r0,n0,a0,i0,o0,s0,u0,c0,l0,d0,p0,f0,h0,g0,v0,m0,y0,b0,_0,w0,I0,S0,k0,C0,T0,A0,P0,E0,x0,M0,D0,R0,L0,O0,N0,j0,B0,F0,U0,W0,G0,V0,$0,q0,z0,K0,H0,J0,Y0,Q0,Z0,X0,e1,t1,r1,n1,a1,i1,o1,s1,u1,c1,l1,d1,p1,f1,h1,g1,v1,m1,y1,b1,_1,w1,I1,S1,k1,C1,T1,A1,P1,E1,x1,M1,D1,R1,L1,O1,N1,j1,B1,F1,U1,W1,G1,V1,$1,q1,z1,K1,H1,J1,Y1,Q1,Z1,X1,e2,t2,r2,n2,a2,i2,o2,s2,u2,c2,l2,d2,p2,f2,h2,g2,v2,m2,y2,b2,_2,w2,I2,S2,k2,C2,T2,A2,P2,E2,x2,M2,D2,R2,L2,O2,N2,j2,B2,F2,U2,W2,G2,V2,$2,q2,z2,K2,H2,J2,Y2,Q2,Z2,X2,e3,t3,r3,n3,a3,i3,o3,s3,u3,c3,l3,d3,p3,f3,h3,g3,v3,m3,y3,b3,_3=e=>{var t;t=e,yu.useCustomPrivacyAuthorization=!0,Iu=e=>{null===t?e({success:!1,errMsg:"privacy permission is not authorized",errno:zo.Nac}):t((({buttonId:t,event:r})=>{Cu({event:r}),"agree"===r?e({success:!0}):"disagree"===r&&e({success:!1,errMsg:"privacy permission is not authorized",errno:zo.Nac})}))}};D.default.onReady((()=>{(0,di.J)((()=>{_.flushReportKeyValueList(),_.flushReportIDKeyList()}))})),__||(__=!0,D.default.onReady((()=>{(0,N.aI)()&&(setTimeout((()=>{var e=k_=Object.assign({},D.default.appLaunchInfo||{},(0,hf.x9)()||{});O_({scene:e.scene||-1,isLaunch:!0,sessionId:e.sessionid||e.sessionId||""}),(0,p_.OQ)(O_),g_(N_)}),0),y_=(0,Ae._getSystemInfoSyncFromCache)(!0))}))),(0,Xv.az)();var w3=Nf,I3=Ff,S3=Gf,k3=zf,C3=Kf,T3=Hf,A3=Jf,P3=e=>{Qf=b.surroundThirdByTryCatch(e,"at onShareAppMessage callback function")},E3=()=>{Qf=null},x3=e=>{ph=b.surroundThirdByTryCatch(e,"at onShareTimeline callback function")},M3=()=>{ph=null},D3=hh.a2,R3=hh.pp,L3=()=>{(0,gh.v)("onLaunch"),console.warn("onLaunch 已废弃，请使用 wx.getLaunchOptionsSync()。")},O3=()=>{(0,gh.v)("offLaunch"),console.warn("offLaunch 已废弃")},N3=e=>{Eh=e},j3=()=>{Eh=null},B3=function(e){Ch.on("down",e)},F3=function(e){Ch.off("down",e)},U3=function(e){Ch.on("up",e)},W3=function(e){Ch.off("up",e)},G3=Ph.s2,V3=Ph.S1,$3=Ph.xN,q3=Ph._g,z3=Ph.ri,K3=Ph.r,H3=Ph.Gr,J3=Ph.g7,Y3=e=>Vf.on("Wheel",e),Q3=e=>Vf.off("Wheel",e),Z3=e=>{yr.U.on("onWindowResize",e)},X3=e=>{yr.U.off("onWindowResize",e)},e5=e=>{Sh=b.surroundThirdByTryCatch(e,"at onGameLiveStateChange callback function")},t5=()=>{Sh=null},{onTouchStart:r5,offTouchStart:n5,onTouchMove:a5,offTouchMove:i5,onTouchEnd:o5,offTouchEnd:s5,onTouchCancel:u5,offTouchCancel:c5}=w3,{onMouseDown:l5,offMouseDown:d5,onMouseMove:p5,offMouseMove:f5,onMouseUp:h5,offMouseUp:g5}=I3,{onPointerLockChange:v5,offPointerLockChange:m5,onPointerLockError:y5,offPointerLockError:b5}=S3,{setStorage:_5,setStorageSync:w5,getStorage:I5,getStorageSync:S5,getStorageInfo:k5,getStorageInfoSync:C5,removeStorage:T5,removeStorageSync:A5,clearStorage:P5,clearStorageSync:E5}=ve.game;o.onLoad((()=>{v.hijack(!0,!1)}));var x5,M5=q.Wb.connectSocket,D5=q.Wb.closeSocket,R5=q.Wb.sendSocketMessage,L5=q.Wb.onSocketOpen,O5=q.Wb.onSocketClose,N5=q.Wb.onSocketMessage,j5=q.Wb.onSocketError,B5=(e={})=>{var t=cr.Z.get(e.shareTicket),{success:r,fail:n,failWithMsg:a}=(0,U.Rn)(e,lr);t?(0,U.yD)({sdkApiName:lr,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):a({msg:"invalid shareTicket"})},F5=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){dr.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(dr.withShareTicket=!0,(0,U.IN)("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(dr.withShareTicket=!1,(0,U.IN)("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){dr.showShareTimelineMenu=!0;var a=new Promise(((e,t)=>{(0,U.IN)("showShareTimelineMenu",{success:e,fail:t})}));r.push(a)}Promise.all(r).then((()=>{(0,U.FE)({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");(0,U.YG)("showShareMenu",e,r,t.errCode)}))},U5=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{(0,U.IN)("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(dr.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){dr.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var a=new Promise(((e,t)=>{(0,U.IN)("hideShareMenu",{success:e,fail:t})}));r.push(a)}Promise.all(r).then((()=>{(0,U.FE)({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");(0,U.YG)("hideShareMenu",e,r,t.errCode)}))},W5=(e={})=>{Promise.all([pr(e),fr(e),hr(e)]).then((t=>{"function"==typeof e.success&&b.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&b.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&b.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&b.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},G5=function(e={}){var{success:t,fail:r,failWithMsg:n}=(0,U.Rn)(e,gr),a=cr.Z.get(e.shareTicket);a&&a.shareKey?(0,wt.J)("authShareRelationship")?(0,U.yD)({sdkApiName:gr,apiName:"webapi_authmgr",reqData:{share_key:a.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:a}=e.data;t({iv:r,encryptedData:n,valid:1===a})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})},V5=kn,$5=Me.showToast,q5=Me.hideToast,z5=Me.showLoading,K5=Me.hideLoading,H5=Me.showModal,J5=Me.showActionSheet,Y5=Za,Q5=Xa,Z5=gk,X5=vk,e6=mk,t6=bk,r6=wk,n6=Ck,a6=_k,i6=Ik,o6=Tk,s6=(e={})=>{(0,U.r3)("subscribeVoIPVideoMembers",e,{openIdList:[]})&&(0,U.IN)("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},u6=Pk,c6=Ek,l6=Mk,d6=Dk,p6=(OB=bj("protect",{hookHandlers:{beforeExecute(){!function(e){var t=Gj(e,"thirdApp");0!==t&&1!==t||!(0,N.er)()||1===t&&kr()&&(0,U.IN)("showToast",{icon:"",title:"暂不支持当前功能",duration:2500})}(this.api)}},getState:()=>({api:void 0})}),x5="gameSDKScriptError",NB=bj("catchErr",{hookHandlers:{afterCallback(e,t,r){var{syncError:n}=r;if(void 0!==n){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(n)&&"AppServiceSdkKnownError"!==n.type)return"ThirdScriptError"===n.type?(_.thirdErrorReport({error:n,extend:a}),dj):(_.errorReport({key:x5,error:n,extend:a}),dj)}}},getState:()=>({api:void 0})}),jB=bj("checkTapPermission",{hookHandlers:{syncPrepositive(e){var t=this.api,r=Gj(t,"tap"),n=kr();return 10===r&&!n&&((0,mM.Y)({name:t,scene:0,strategy:1}),N.gm||!(0,Oe.KU)(t))||40===r&&4!==D.default.appType&&!n?e&&(e.fail||e.complete)?(setTimeout((()=>{(0,U.YG)(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,null,null,!0]):[!0,"can only be invoked by user TAP gesture."]:50!==r||n?[!1]:e&&(e.fail||e.complete)?(setTimeout((()=>{(0,U.YG)(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,!1,!1,!0]):[!0,"can only be invoked by user TAP gesture."]},paramHandler(...e){var t=this.api,r=Gj(t,"tap"),n=kr();this.status=r;var a=e[0];(20===r&&n||30===r)&&("function"==typeof a?a=$j.call(this,a):"object"==typeof a&&null!==a&&["success","fail","complete"].forEach((e=>{"function"==typeof a[e]&&(a[e]=$j.call(this,a[e]))})))},afterCallback(){(0,N.aI)()&&Vj.includes(this.status)&&Sr()}},getState:()=>({api:void 0,status:void 0,refuseExec:void 0,refuseExecReason:void 0})}),BB=Cj(.05),FB=Cj(.05),UB=Cj(.05),WB=Cj(.05),GB=Cj(.05),VB=Cj(.05),$B=Cj(.05),qB=Cj(.05),zB=Cj(.05),KB=Cj(.05),HB=Cj(.05),JB=Dj(),YB=Cj(.05),QB=Dj(),ZB=Cj(.05),XB=Cj(.05),eF=Cj(.05),tF=Cj(.05),rF=xj(),nF=Cj(.05),aF=Dj(),iF=Cj(.05),oF=Cj(.05),sF=Cj(.05),uF=Cj(.05),cF=Cj(.05),lF=Dj(),dF=Cj(.05),pF=Dj(),fF=Cj(.05),hF=Cj(.05),gF=Dj(),vF=Cj(.05),mF=Cj(.05),yF=Dj(),bF=Cj(.05),_F=Cj(.05),wF=Dj(),IF=Cj(.05),SF=Cj(.05),kF=Dj(),CF=Cj(.05),TF=Cj(.05),AF=Dj(),PF=Cj(.05),EF=Dj(),xF=Hj(),MF=Tj(),DF=Dj(),RF=zj(),LF=Hj(),OF=Tj(),NF=Dj(),jF=zj(),BF=Tj(),FF=Dj(),UF=zj(),WF=Cj(.05),GF=Dj(),VF=Tj(),$F=Dj(),qF=Cj(.05),zF=Hj(),KF=Cj(.05),HF=Dj(),JF=zj(),YF=Cj(.05),QF=Cj(.05),ZF=Cj(.05),XF=Cj(.05),eU=Dj(),tU=Cj(.05),rU=Dj(),nU=Cj(.05),aU=Dj(),iU=Cj(.05),oU=Cj(.05),sU=Cj(.05),uU=Cj(.05),cU=Dj(),lU=Cj(.05),dU=Cj(.05),pU=Cj(.05),fU=Dj(),hU=Cj(.05),gU=Dj(),vU=Cj(.05),mU=Cj(.05),yU=Cj(.05),bU=Dj(),_U=Cj(.05),wU=Cj(.05),IU=Dj(),SU=Cj(.05),kU=Dj(),CU=Cj(.05),TU=Dj(),AU=Cj(.05),PU=Dj(),EU=Cj(.05),xU=Dj(),MU=Cj(.05),DU=Dj(),RU=Cj(.05),LU=Dj(),OU=Cj(.05),NU=Dj(),jU=Cj(.05),BU=Cj(.05),FU=Cj(.05),UU=Cj(.05),WU=Cj(.05),GU=Cj(.05),VU=Cj(.05),$U=Cj(.05),qU=Cj(.05),zU=Hj(),KU=Cj(.05),HU=Dj(),JU=Cj(.05),YU=Dj(),QU=Cj(.05),ZU=Cj(.05),XU=Cj(.05),eW=Dj(),tW=Hj(),rW=Cj(.05),nW=Dj(),aW=Cj(.05),iW=Dj(),oW=Cj(.05),sW=Cj(.05),uW=Hj(),cW=Cj(.05),lW=Dj(),dW=Cj(.05),pW=Dj(),fW=Cj(.05),hW=Cj(.05),gW=Hj(),vW=Cj(.05),mW=Dj(),yW=Cj(.05),bW=Dj(),_W=Cj(.05),wW=Cj(.05),IW=Cj(.05),SW=Dj(),kW=Cj(.05),CW=Dj(),TW=Cj(.05),AW=Dj(),PW=Cj(.05),EW=Cj(.05),xW=Dj(),MW=Cj(.05),DW=Dj(),RW=Hj(),LW=Cj(.05),OW=Dj(),NW=Hj(),jW=Cj(.05),BW=Dj(),FW=Cj(.05),UW=Dj(),WW=Cj(.05),GW=Dj(),VW=Hj(),$W=Cj(.05),qW=Dj(),zW=Cj(.05),KW=Dj(),HW=Cj(.05),JW=Dj(),YW=Cj(.05),QW=Cj(.05),ZW=Cj(.05),XW=Dj(),eG=Cj(.05),tG=Dj(),rG=Cj(.05),nG=Dj(),aG=Cj(.05),iG=Dj(),oG=Cj(.05),sG=Dj(),uG=Cj(.05),cG=Dj(),lG=Cj(.05),dG=Dj(),pG=Cj(.05),fG=Dj(),hG=Cj(.05),gG=Dj(),vG=Cj(.05),mG=Dj(),yG=Cj(.05),bG=Dj(),_G=Hj(),wG=Cj(.05),IG=Dj(),SG=Cj(.05),kG=Cj(.05),CG=Cj(.05),TG=Cj(.05),AG=Dj(),PG=Cj(.05),EG=Dj(),xG=Cj(.05),MG=Dj(),DG=Cj(.05),RG=Cj(.05),LG=Cj(.05),OG=Cj(.05),NG=Cj(.05),jG=Cj(.05),BG=Cj(.05),FG=Cj(.05),UG=Cj(.05),WG=Cj(.05),GG=Cj(.05),VG=Dj(),$G=Cj(.05),qG=Dj(),zG=Cj(.05),KG=Dj(),HG=Cj(.05),JG=Cj(.05),YG=Cj(.05),QG=Cj(.05),ZG=Hj(),XG=Cj(.05),eV=Dj(),tV=Hj(),rV=Cj(.05),nV=Hj(),aV=Cj(.05),iV=Cj(.05),oV=Cj(.05),sV=Dj(),uV=Cj(.05),cV=Dj(),lV=Cj(.05),dV=Cj(.05),pV=Cj(.05),fV=Cj(.05),hV=Hj(),gV=Cj(.05),vV=Dj(),mV=Cj(.05),yV=Dj(),bV=Cj(.05),_V=Dj(),wV=Hj(),IV=Cj(.05),SV=Dj(),kV=Hj(),CV=Cj(.05),TV=Dj(),AV=Cj(.05),PV=Dj(),EV=Cj(.05),xV=Dj(),MV=Cj(.05),DV=Cj(.05),RV=Cj(.05),LV=Cj(.05),OV=Cj(.05),NV=Cj(.05),jV=Cj(.05),BV=Dj(),FV=Cj(.05),UV=Cj(.05),WV=Cj(.05),GV=Cj(.05),VV=mj("reportCompressedTexImage2D",{hookHandlers:{resultHandler(e){if(Yj)return e;if(null!=e&&e.getContext){var t=e.getContext;e.getContext=(...r)=>{var n=t.call(e,...r);if(n&&n.compressedTexImage2D){var a=n.compressedTexImage2D;n.compressedTexImage2D=(...e)=>{Yj=!0,(0,PR.m)("WebGLRenderingContext.compressedTexImage2D",(0,Fr.M8)(),{},1,Date.now(),(0,Qe._getCurrentNetworkType)(),0,void 0),a.call(n,...e)}}return n}}return e}}}),$V=Cj(.05),qV=Cj(.05),zV=Cj(.05),KV=Cj(.05),HV=Cj(.05),JV=Cj(.05),YV=Cj(.05),QV=Cj(.05),ZV=Cj(.05),XV=Cj(.05),e$=Cj(.05),t$=Cj(.05),r$=Cj(.05),n$=Cj(.05),a$=Cj(.05),i$=Cj(.05),o$=Cj(.05),s$=Cj(.05),u$=Cj(.05),c$=Cj(.05),l$=Cj(.05),d$=Cj(.05),p$=Cj(.05),f$=Cj(.05),h$=Cj(.05),g$=Cj(.05),v$=Cj(.05),m$=Cj(.05),y$=Cj(.05),b$=Cj(.05),_$=Cj(.05),w$=Cj(.05),I$=Cj(.05),S$=Cj(.05),k$=Cj(.05),C$=Cj(.05),T$=Cj(.05),A$=Cj(.05),P$=Cj(.05),E$=Cj(.05),x$=Cj(.05),M$=Cj(.05),D$=Cj(.05),R$=Cj(.05),L$=Cj(.05),O$=Cj(.05),N$=Cj(.05),j$=Cj(.05),B$=Dj(),F$=zj(),U$=Cj(.05),W$=Cj(.05),G$=Cj(.05),V$=Dj(),$$=Cj(.05),q$=Cj(.05),z$=Cj(.05),K$=Cj(.05),H$=Cj(.05),J$=Cj(.05),Y$=Cj(.05),Q$=Cj(.05),Z$=Cj(.05),X$=Cj(.05),eq=Cj(.05),tq=Cj(.05),rq=Dj(),nq=Cj(.05),aq=Cj(.05),iq=Cj(.05),oq=Cj(.05),sq=Dj(),uq=Cj(.05),cq=Dj(),lq=Cj(.05),dq=Dj(),pq=Cj(.05),fq=Dj(),hq=Cj(.05),gq=Dj(),vq=Cj(.05),mq=Dj(),yq=Cj(.05),bq=Dj(),_q=Cj(.05),wq=Dj(),Iq=Cj(.05),Sq=Dj(),kq=Cj(.05),Cq=Cj(.05),Tq=Cj(.05),Aq=Cj(.05),Pq=Cj(.05),Eq=Cj(.05),xq=Cj(.05),Mq=Cj(.05),Dq=Cj(.05),Rq=Cj(.05),Lq=Cj(.05),Oq=Cj(.05),Nq=Cj(.05),jq=Cj(.05),Bq=Cj(.05),Fq=Cj(.05),Uq=Cj(.05),Wq=Cj(.05),Gq=Ej(),Vq=Cj(.05),$q=Dj(),qq=Ej(),zq=Cj(.05),Kq=xj(),Hq=Cj(.05),Jq=Dj(),Yq=Cj(.05),Qq=Dj(),Zq=Cj(.05),Xq=Cj(.05),ez=Cj(.05),tz=Cj(.05),rz=Cj(.05),nz=Cj(.05),az=Cj(.05),iz=Cj(.05),oz=Cj(.05),sz=Cj(.05),uz=Tj(),cz=Dj(),lz=Tj(),dz=Tj(),pz=Cj(.05),fz=Cj(.05),hz=Cj(.05),gz=Cj(.05),vz=Dj(),mz=Cj(.05),yz=Cj(.05),bz=Cj(.05),_z=Dj(),wz=Cj(.05),Iz=Dj(),Sz=Cj(.05),kz=Dj(),Cz=Cj(.05),Tz=Dj(),Az=Cj(.05),Pz=Cj(.05),Ez=Cj(.05),xz=Cj(.05),Mz=Cj(.05),Dz=Cj(.05),Rz=Cj(.05),Lz=Cj(.05),Oz=Cj(.05),Nz=Cj(.05),jz=Cj(.05),Bz=Cj(.05),Fz=Cj(.05),Uz=Cj(.05),Wz=Cj(.05),Gz=Cj(.05),Vz=Cj(.05),$z=Cj(.05),qz=Cj(.05),zz=Cj(.05),Kz=Cj(.05),Hz=Cj(.05),Jz=Cj(.05),Yz=Kj(),Qz=mj("noHook",{}),Zz=Cj(.05),Xz=Dj(),eK=Cj(.05),tK=Cj(.05),rK=Cj(.05),nK=Cj(.05),aK=Cj(.05),iK=Cj(.05),oK=Cj(.05),sK=Dj(),uK=Cj(.05),cK=Cj(.05),lK=Dj(),dK=Cj(.05),pK=Cj(.05),fK=Cj(.05),hK=Cj(.05),gK=Cj(.05),vK=Cj(.05),mK=Cj(.05),yK=Cj(.05),bK=Cj(.05),_K=Cj(.05),wK=Cj(.05),IK=Cj(.05),SK=Cj(.05),kK=Cj(.05),CK=Cj(.05),TK=Cj(.05),AK=Cj(.05),PK=Cj(.05),EK=Cj(.05),xK=Cj(.05),MK=Cj(.05),DK=Dj(),RK=Cj(.05),LK=Cj(.05),OK=Cj(.05),NK=Cj(.05),jK=Cj(.05),BK=Cj(.05),FK=Hj(),UK=Cj(.05),WK=Dj(),GK=Cj(.05),VK=Cj(.05),$K=Cj(.05),qK=Cj(.05),zK=Cj(.05),KK=Cj(.05),HK=Cj(.05),JK=Cj(.05),YK=Cj(.05),QK=Cj(.05),ZK=Kj(),XK=Cj(.05,"cloud"),eH=Jj(),tH=Cj(.05,"cloud"),rH=Jj(),nH=Cj(.05),aH=Kj(),iH=Kj(),oH=Cj(.05),sH=Cj(.05),uH=Cj(.05),cH=Cj(.05),lH=Cj(.05),dH=Cj(.05),pH=Cj(.05),fH=Cj(.05),hH=Cj(.05),gH=Cj(.05),vH=Cj(.05),mH=Cj(.05),yH=Cj(.05),bH=Dj(),_H=Cj(.05),wH=Dj(),IH=Cj(.05),SH=Cj(.05),kH=Cj(.05),CH=Cj(.05),TH=Cj(.05),AH=Cj(.05),PH=Cj(.05),EH=Cj(.05),xH=Cj(.05),MH=Cj(.05),DH=Cj(.05),RH=Cj(.05),LH=Cj(.05),OH=Cj(.05),NH=Hj(),jH=Cj(.05),BH=Cj(.05),FH=Cj(.05),UH=Cj(.05),WH=Cj(.05),GH=Cj(.05),VH=Cj(.05),$H=Cj(.05),qH=Cj(.05),zH=Cj(.05),KH=Cj(.05),HH=mj("handleObject",{}),JH=Cj(.05),YH=Cj(.05),QH=Cj(.05),ZH=Cj(.05),XH=Cj(.05),eJ=Cj(.05),tJ=Cj(.05),rJ=Cj(.05),nJ=Cj(.05),aJ=Cj(.05),iJ=Cj(.05),oJ=Cj(.05),sJ=Cj(.05),uJ=Cj(.05),cJ=Cj(.05),lJ=Cj(.05),dJ=Cj(.05),pJ=Cj(.05),fJ=Cj(.05),hJ=Hj(),gJ=Cj(.05),vJ=Cj(.05),mJ=Cj(.05),yJ=Cj(.05),bJ=Cj(.05),OB(_J=NB(_J=jB((wJ=class{constructor(){A()(this,"requirePrivacyAuthorize",IJ,this),A()(this,"onNeedPrivacyAuthorization",SJ,this),A()(this,"getPrivacySetting",kJ,this),A()(this,"openPrivacyContract",CJ,this),A()(this,"request",TJ,this),A()(this,"downloadFile",AJ,this),A()(this,"uploadFile",PJ,this),A()(this,"addNativeDownloadTask",EJ,this),A()(this,"calRqt",xJ,this),A()(this,"connectSocket",MJ,this),A()(this,"closeSocket",DJ,this),A()(this,"sendSocketMessage",RJ,this),A()(this,"onSocketOpen",LJ,this),A()(this,"onSocketClose",OJ,this),A()(this,"onSocketMessage",NJ,this),A()(this,"onSocketError",jJ,this),A()(this,"getNetworkType",BJ,this),A()(this,"onNetworkStatusChange",FJ,this),A()(this,"offNetworkStatusChange",UJ,this),A()(this,"onNetworkWeakChange",WJ,this),A()(this,"offNetworkWeakChange",GJ,this),A()(this,"openDocument",VJ,this),A()(this,"setStorage",$J,this),A()(this,"setStorageSync",qJ,this),A()(this,"getStorage",zJ,this),A()(this,"getStorageSync",KJ,this),A()(this,"getStorageInfo",HJ,this),A()(this,"getStorageInfoSync",JJ,this),A()(this,"removeStorage",YJ,this),A()(this,"removeStorageSync",QJ,this),A()(this,"clearStorage",ZJ,this),A()(this,"clearStorageSync",XJ,this),A()(this,"authorize",eY,this),A()(this,"checkSession",tY,this),A()(this,"getUserInfo",rY,this),A()(this,"getUserProfile",nY,this),A()(this,"login",aY,this),A()(this,"openSetting",iY,this),A()(this,"getSetting",oY,this),A()(this,"operateWXData",sY,this),A()(this,"getWeRunData",uY,this),A()(this,"uploadWeRunData",cY,this),A()(this,"addWeRunData",lY,this),A()(this,"getGroupMsgTicket",dY,this),A()(this,"removeUserCloudStorage",pY,this),A()(this,"setUserCloudStorage",fY,this),A()(this,"openCustomerServiceConversation",hY,this),A()(this,"sendRedPacket",gY,this),A()(this,"openRedPacket",vY,this),A()(this,"sendBizRedPacket",mY,this),A()(this,"showRedPackage",yY,this),A()(this,"reportAnalytics",bY,this),A()(this,"reportMonitor",_Y,this),A()(this,"requestSubscribeMessage",wY,this),A()(this,"requestSubscribeSystemMessage",IY,this),A()(this,"requestSubscribeWhatsNew",SY,this),A()(this,"getWhatsNewSubscriptionsSetting",kY,this),A()(this,"getUserGameLabel",CY,this),A()(this,"reportUserBehaviorBranchAnalytics",TY,this),A()(this,"publishWeChatState",AY,this),A()(this,"addCard",PY,this),A()(this,"openCard",EY,this),A()(this,"saveFile",xY,this),A()(this,"getFileInfo",MY,this),A()(this,"getSavedFileList",DY,this),A()(this,"getSavedFileInfo",RY,this),A()(this,"removeSavedFile",LY,this),A()(this,"getFileSystemManager",OY,this),A()(this,"saveFileToDisk",NY,this),A()(this,"getDeviceInfo",jY,this),A()(this,"getWindowInfo",BY,this),A()(this,"getAppBaseInfo",FY,this),A()(this,"getSystemSetting",UY,this),A()(this,"getAppAuthorizeSetting",WY,this),A()(this,"openSystemBluetoothSetting",GY,this),A()(this,"openAppAuthorizeSetting",VY,this),A()(this,"startAccelerometer",$Y,this),A()(this,"stopAccelerometer",qY,this),A()(this,"onAccelerometerChange",zY,this),A()(this,"offAccelerometerChange",KY,this),A()(this,"scanCode",HY,this),A()(this,"startCompass",JY,this),A()(this,"stopCompass",YY,this),A()(this,"onCompassChange",QY,this),A()(this,"offCompassChange",ZY,this),A()(this,"startDeviceMotionListening",XY,this),A()(this,"stopDeviceMotionListening",eQ,this),A()(this,"onDeviceMotionChange",tQ,this),A()(this,"offDeviceMotionChange",rQ,this),A()(this,"startGyroscope",nQ,this),A()(this,"stopGyroscope",aQ,this),A()(this,"onGyroscopeChange",iQ,this),A()(this,"offGyroscopeChange",oQ,this),A()(this,"setScreenBrightness",sQ,this),A()(this,"getScreenBrightness",uQ,this),A()(this,"setKeepScreenOn",cQ,this),A()(this,"captureScreen",lQ,this),A()(this,"vibrateShort",dQ,this),A()(this,"vibrateLong",pQ,this),A()(this,"getClipboardData",fQ,this),A()(this,"setClipboardData",hQ,this),A()(this,"makeBluetoothPair",gQ,this),A()(this,"isBluetoothDevicePaired",vQ,this),A()(this,"openBluetoothAdapter",mQ,this),A()(this,"closeBluetoothAdapter",yQ,this),A()(this,"getBluetoothAdapterState",bQ,this),A()(this,"onBluetoothAdapterStateChange",_Q,this),A()(this,"offBluetoothAdapterStateChange",wQ,this),A()(this,"startBluetoothDevicesDiscovery",IQ,this),A()(this,"stopBluetoothDevicesDiscovery",SQ,this),A()(this,"getBluetoothDevices",kQ,this),A()(this,"getConnectedBluetoothDevices",CQ,this),A()(this,"createBLEConnection",TQ,this),A()(this,"closeBLEConnection",AQ,this),A()(this,"getBLEDeviceServices",PQ,this),A()(this,"getBLEDeviceRSSI",EQ,this),A()(this,"setBLEMTU",xQ,this),A()(this,"getBLEMTU",MQ,this),A()(this,"getBLEDeviceCharacteristics",DQ,this),A()(this,"createBLEPeripheralServer",RQ,this),A()(this,"onBLEPeripheralConnectionStateChanged",LQ,this),A()(this,"offBLEPeripheralConnectionStateChanged",OQ,this),A()(this,"notifyBLECharacteristicValueChanged",NQ,this),A()(this,"notifyBLECharacteristicValueChange",jQ,this),A()(this,"readBLECharacteristicValue",BQ,this),A()(this,"writeBLECharacteristicValue",FQ,this),A()(this,"onBluetoothDeviceFound",UQ,this),A()(this,"offBluetoothDeviceFound",WQ,this),A()(this,"onBLEMTUChange",GQ,this),A()(this,"offBLEMTUChange",VQ,this),A()(this,"onBLEConnectionStateChanged",$Q,this),A()(this,"onBLEConnectionStateChange",qQ,this),A()(this,"onBLECharacteristicValueChange",zQ,this),A()(this,"offBLEConnectionStateChanged",KQ,this),A()(this,"offBLEConnectionStateChange",HQ,this),A()(this,"offBLECharacteristicValueChange",JQ,this),A()(this,"startBeaconDiscovery",YQ,this),A()(this,"stopBeaconDiscovery",QQ,this),A()(this,"getBeacons",ZQ,this),A()(this,"onBeaconUpdate",XQ,this),A()(this,"offBeaconUpdate",eZ,this),A()(this,"onBeaconServiceChange",tZ,this),A()(this,"offBeaconServiceChange",rZ,this),A()(this,"getLocation",nZ,this),this.getFuzzyLocation=()=>{},A()(this,"chooseMedia",aZ,this),A()(this,"chooseMessageFile",iZ,this),A()(this,"createInnerAudioContext",oZ,this),A()(this,"getAvailableAudioSources",sZ,this),A()(this,"setInnerAudioOption",uZ,this),A()(this,"createVideoDecoder",cZ,this),A()(this,"createMediaAudioPlayer",lZ,this),A()(this,"createWebAudioContext",dZ,this),A()(this,"getRecorderManager",pZ,this),A()(this,"chooseImage",fZ,this),A()(this,"previewImage",hZ,this),A()(this,"previewMedia",gZ,this),A()(this,"saveImageToPhotosAlbum",vZ,this),A()(this,"joinVoIPChat",mZ,this),A()(this,"exitVoIPChat",yZ,this),A()(this,"updateVoIPChatMuteConfig",bZ,this),A()(this,"onVoIPChatMembersChanged",_Z,this),A()(this,"onVoIPChatSpeakersChanged",wZ,this),A()(this,"onVoIPChatInterrupted",IZ,this),A()(this,"offVoIPChatMembersChanged",SZ,this),A()(this,"offVoIPChatSpeakersChanged",kZ,this),A()(this,"offVoIPChatInterrupted",CZ,this),A()(this,"subscribeVoIPVideoMembers",TZ,this),A()(this,"onVoIPVideoMembersChanged",AZ,this),A()(this,"offVoIPVideoMembersChanged",PZ,this),A()(this,"onVoIPChatStateChanged",EZ,this),A()(this,"offVoIPChatStateChanged",xZ,this),A()(this,"createCanvas",MZ,this),A()(this,"createOffScreenCanvas",DZ,this),A()(this,"createImage",RZ,this),A()(this,"createImageData",LZ,this),A()(this,"createPath2D",OZ,this),A()(this,"onTouchStart",NZ,this),A()(this,"offTouchStart",jZ,this),A()(this,"onTouchMove",BZ,this),A()(this,"offTouchMove",FZ,this),A()(this,"onTouchEnd",UZ,this),A()(this,"offTouchEnd",WZ,this),A()(this,"onTouchCancel",GZ,this),A()(this,"offTouchCancel",VZ,this),A()(this,"onWheel",$Z,this),A()(this,"offWheel",qZ,this),A()(this,"onMouseDown",zZ,this),A()(this,"offMouseDown",KZ,this),A()(this,"onMouseMove",HZ,this),A()(this,"offMouseMove",JZ,this),A()(this,"onMouseUp",YZ,this),A()(this,"offMouseUp",QZ,this),A()(this,"onKeyDown",ZZ,this),A()(this,"offKeyDown",XZ,this),A()(this,"onKeyUp",eX,this),A()(this,"offKeyUp",tX,this),A()(this,"onPointerLockChange",rX,this),A()(this,"offPointerLockChange",nX,this),A()(this,"onPointerLockError",aX,this),A()(this,"offPointerLockError",iX,this),A()(this,"onKeyboardInput",oX,this),A()(this,"offKeyboardInput",sX,this),A()(this,"onKeyboardConfirm",uX,this),A()(this,"offKeyboardConfirm",cX,this),A()(this,"onKeyboardComplete",lX,this),A()(this,"offKeyboardComplete",dX,this),A()(this,"onKeyboardHeightChange",pX,this),A()(this,"offKeyboardHeightChange",fX,this),A()(this,"onWindowResize",hX,this),A()(this,"offWindowResize",gX,this),A()(this,"onGameLiveStateChange",vX,this),A()(this,"offGameLiveStateChange",mX,this),A()(this,"startGameLive",yX,this),A()(this,"checkGameLiveEnabled",bX,this),A()(this,"getGameLiveState",_X,this),A()(this,"getUserRecentGameLiveInfo",wX,this),A()(this,"getUserCurrentGameliveInfo",IX,this),A()(this,"getUserGameLiveDetails",SX,this),A()(this,"getShareInfo",kX,this),A()(this,"authPrivateMessage",CX,this),A()(this,"showShareMenu",TX,this),A()(this,"hideShareMenu",AX,this),A()(this,"updateShareMenu",PX,this),A()(this,"onShareAppMessage",EX,this),A()(this,"offShareAppMessage",xX,this),A()(this,"onShareTimeline",MX,this),A()(this,"offShareTimeline",DX,this),A()(this,"shareAppMessage",RX,this),A()(this,"shareInvitationToLiveRoom",LX,this),A()(this,"setMessageToFriendQuery",OX,this),A()(this,"onShareMessageToFriend",NX,this),A()(this,"onAddToFavorites",jX,this),A()(this,"offAddToFavorites",BX,this),A()(this,"showShareImageMenu",FX,this),A()(this,"onCopyUrl",UX,this),A()(this,"offCopyUrl",WX,this),A()(this,"setWindowSize",GX,this),A()(this,"setTopBarText",VX,this),A()(this,"showToast",$X,this),A()(this,"hideToast",qX,this),A()(this,"showLoading",zX,this),A()(this,"hideLoading",KX,this),A()(this,"showModal",HX,this),A()(this,"showActionSheet",JX,this),A()(this,"setMenuStyle",YX,this),A()(this,"setStatusBarStyle",QX,this),A()(this,"getMenuButtonBoundingClientRect",ZX,this),A()(this,"hideSplashScreen",XX,this),A()(this,"onError",e0,this),A()(this,"offError",t0,this),A()(this,"onUnhandledRejection",r0,this),A()(this,"offUnhandledRejection",n0,this),A()(this,"onLaunch",a0,this),A()(this,"offLaunch",i0,this),A()(this,"onShow",o0,this),A()(this,"offShow",s0,this),A()(this,"onHide",u0,this),A()(this,"offHide",c0,this),A()(this,"onAudioInterruptionBegin",l0,this),A()(this,"offAudioInterruptionBegin",d0,this),A()(this,"onAudioInterruptionEnd",p0,this),A()(this,"offAudioInterruptionEnd",f0,this),A()(this,"onShareInvitationToLiveRoom",h0,this),A()(this,"offShareInvitationToLiveRoom",g0,this),A()(this,"getSystemInfo",v0,this),A()(this,"getSystemInfoSync",m0,this),A()(this,"getSystemInfoAsync",y0,this),A()(this,"getBatteryInfo",b0,this),A()(this,"getBatteryInfoSync",_0,this),A()(this,"getLaunchOptionsSync",w0,this),A()(this,"getEnterOptionsSync",I0,this),A()(this,"setPreferredFramesPerSecond",S0,this),A()(this,"loadFont",k0,this),A()(this,"setCursor",C0,this),A()(this,"requestPointerLock",T0,this),A()(this,"exitPointerLock",A0,this),A()(this,"isPointerLocked",P0,this),A()(this,"getTextLineHeight",E0,this),A()(this,"requestMidasPayment",x0,this),A()(this,"requestMidasPaymentGameItem",M0,this),A()(this,"requestMidasFriendPayment",D0,this),A()(this,"checkIsSupportMidasFriendPayment",R0,this),A()(this,"gameLoginReport",L0,this),A()(this,"gameLogoutReport",O0,this),A()(this,"exitMiniProgram",N0,this),A()(this,"restartMiniProgram",j0,this),A()(this,"launchApp",B0,this),A()(this,"showKeyboard",F0,this),A()(this,"hideKeyboard",U0,this),A()(this,"updateKeyboard",W0,this),A()(this,"getExtConfig",G0,this),A()(this,"getExtConfigSync",V0,this),A()(this,"bindGroup",$0,this),A()(this,"joinGroup",q0,this),A()(this,"getAccountInfoSync",z0,this),A()(this,"encode",K0,this),A()(this,"decode",H0,this),A()(this,"parseXML",J0,this),A()(this,"createVideo",Y0,this),A()(this,"createCamera",Q0,this),A()(this,"createLivePlayer",Z0,this),A()(this,"createLivePusher",X0,this),A()(this,"createWebView",e1,this),A()(this,"setDeviceOrientation",t1,this),A()(this,"onDeviceOrientationChange",r1,this),A()(this,"offDeviceOrientationChange",n1,this),A()(this,"onUserCaptureScreen",a1,this),A()(this,"offUserCaptureScreen",i1,this),A()(this,"postMessage",o1,this),A()(this,"onMessage",s1,this),A()(this,"getOpenDataContext",u1,this),A()(this,"createUserGameData",c1,this),A()(this,"updateUserGameData",l1,this),A()(this,"getPerformance",d1,this),A()(this,"setEnableDebug",p1,this),A()(this,"triggerGC",f1,this),A()(this,"onMemoryWarning",h1,this),A()(this,"offMemoryWarning",g1,this),A()(this,"reportPerformance",v1,this),A()(this,"testApiCallTime",m1,this),A()(this,"createWorker",y1,this),A()(this,"createSharedArrayBuffer",b1,this),A()(this,"checkIsUserAdvisedToRest",_1,this),A()(this,"getUpdateManager",w1,this),A()(this,"updateWeChatApp",I1,this),A()(this,"getAd",S1,this),A()(this,"openTencentGameContract",k1,this),A()(this,"openTencentPrivacyContract",C1,this),A()(this,"openUrl",T1,this),A()(this,"openTencentBoardGameContract",A1,this),A()(this,"openTencentChildrenGuideContract",P1,this),A()(this,"openTencentAccountCancelContract",E1,this),A()(this,"createRewardedVideoAd",x1,this),A()(this,"createIncentiveVideoAd",M1,this),A()(this,"createBannerAd",D1,this),A()(this,"createInterstitialAd",R1,this),A()(this,"createCustomAd",L1,this),A()(this,"createGridAd",O1,this),A()(this,"createCpsAd",N1,this),A()(this,"createUserInfoButton",j1,this),A()(this,"createGameClubButton",B1,this),A()(this,"createOpenSettingButton",F1,this),A()(this,"createFeedbackButton",U1,this),A()(this,"loadSubpackage",W1,this),A()(this,"preDownloadSubpackage",G1,this),A()(this,"navigateToMiniProgram",V1,this),A()(this,"createUDPSocket",$1,this),A()(this,"markScene",q1,this),A()(this,"reportScene",z1,this),A()(this,"createGamePortal",K1,this),A()(this,"createGameBanner",H1,this),A()(this,"createGameIcon",J1,this),A()(this,"getUserInteractiveStorage",Y1,this),A()(this,"onInteractiveStorageModified",Q1,this),A()(this,"offInteractiveStorageModified",Z1,this),this.env=Cb,A()(this,"getLogManager",X1,this),A()(this,"getRealtimeLogManager",e2,this),this.error=nL,A()(this,"isSystemError",t2,this),A()(this,"isSDKError",r2,this),A()(this,"isThirdError",n2,this),A()(this,"getGameRecorder",a2,this),A()(this,"createGameRecorderShareButton",i2,this),A()(this,"operateGameRecorderVideo",o2,this),A()(this,"cloud",s2,this),A()(this,"serviceMarket",u2,this),this.version=(0,bl.sb)(),A()(this,"getGameServerManager",c2,this),A()(this,"getBox2D",l2,this),A()(this,"protobuf",d2,this),A()(this,"createGameComponent",p2,this),A()(this,"getGroupEnterInfo",f2,this),A()(this,"onHandoff",h2,this),A()(this,"offHandoff",g2,this),A()(this,"setHandoffQuery",v2,this),A()(this,"faceDetect",m2,this),A()(this,"initFaceDetect",y2,this),A()(this,"stopFaceDetect",b2,this),A()(this,"createBufferURL",_2,this),A()(this,"revokeBufferURL",w2,this),A()(this,"createSignal",I2,this),A()(this,"startLocalServiceDiscovery",S2,this),A()(this,"stopLocalServiceDiscovery",k2,this),A()(this,"onLocalServiceFound",C2,this),A()(this,"offLocalServiceFound",T2,this),A()(this,"onLocalServiceLost",A2,this),A()(this,"offLocalServiceLost",P2,this),A()(this,"onLocalServiceDiscoveryStop",E2,this),A()(this,"offLocalServiceDiscoveryStop",x2,this),A()(this,"onLocalServiceResolveFail",M2,this),A()(this,"offLocalServiceResolveFail",D2,this),A()(this,"getLocalIPAddress",R2,this),A()(this,"startCPUProfiling",L2,this),A()(this,"stopCPUProfiling",O2,this),A()(this,"getExptInfo",N2,this),A()(this,"getExptInfoSync",j2,this),A()(this,"reportEvent",B2,this),A()(this,"getChannelsLiveInfo",F2,this),A()(this,"getChannelsLiveState",U2,this),A()(this,"getChannelsLiveReservation",W2,this),A()(this,"getChannelsLiveNoticeInfo",G2,this),A()(this,"openChannelsLive",V2,this),A()(this,"openChannelsActivity",$2,this),A()(this,"openChannelsUserProfile",q2,this),A()(this,"openChannelsLiveCollection",z2,this),A()(this,"openChannelsEvent",K2,this),A()(this,"reserveChannelsLive",H2,this),A()(this,"lanDebug",J2,this),A()(this,"createVKSession",Y2,this),A()(this,"createVKReference",Q2,this),A()(this,"isVKSupport",Z2,this),A()(this,"onVerifyNotify",X2,this),A()(this,"offVerifyNotify",e3,this),A()(this,"navigateToUserCenter",t3,this),A()(this,"requestConsumeAdsSkipCard",r3,this),A()(this,"dumpGameLivePanelUI",n3,this),A()(this,"updateGameLivePanelMenu",a3,this),A()(this,"createInferenceSession",i3,this),A()(this,"getInferenceEnvInfo",o3,this),A()(this,"getDebuggerMessager",s3,this),A()(this,"getAdsSkipCardSharePresentQuota",u3,this),A()(this,"getAdsSkipCardQuestInfo",c3,this),A()(this,"getUserCryptoManager",l3,this),A()(this,"getDebuggerMessager",d3,this),A()(this,"getRealNameVerifyMethod",p3,this),A()(this,"addToDesktop",f3,this),A()(this,"openPage",h3,this),A()(this,"getGameClubData",g3,this),A()(this,"previewPlayableView",v3,this),A()(this,"checkIsAddedToMyMiniProgram",m3,this),A()(this,"requestSubscribeLiveActivity",y3,this),A()(this,"openCustomerServiceChat",b3,this)}},IJ=E()(wJ.prototype,"requirePrivacyAuthorize",[BB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lu}}),SJ=E()(wJ.prototype,"onNeedPrivacyAuthorization",[FB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _3}}),kJ=E()(wJ.prototype,"getPrivacySetting",[UB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ju}}),CJ=E()(wJ.prototype,"openPrivacyContract",[WB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Au}}),TJ=E()(wJ.prototype,"request",[GB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.WY}}),AJ=E()(wJ.prototype,"downloadFile",[VB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.Sv}}),PJ=E()(wJ.prototype,"uploadFile",[$B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.cT}}),EJ=E()(wJ.prototype,"addNativeDownloadTask",[qB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.aS}}),xJ=E()(wJ.prototype,"calRqt",[zB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.Co}}),MJ=E()(wJ.prototype,"connectSocket",[KB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M5}}),DJ=E()(wJ.prototype,"closeSocket",[HB,JB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D5}}),RJ=E()(wJ.prototype,"sendSocketMessage",[YB,QB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R5}}),LJ=E()(wJ.prototype,"onSocketOpen",[ZB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L5}}),OJ=E()(wJ.prototype,"onSocketClose",[XB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O5}}),NJ=E()(wJ.prototype,"onSocketMessage",[eF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N5}}),jJ=E()(wJ.prototype,"onSocketError",[tF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j5}}),BJ=E()(wJ.prototype,"getNetworkType",[rF,nF,aF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe._getNetworkType}}),FJ=E()(wJ.prototype,"onNetworkStatusChange",[iF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe.onNetworkStatusChange}}),UJ=E()(wJ.prototype,"offNetworkStatusChange",[oF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe.offNetworkStatusChange}}),WJ=E()(wJ.prototype,"onNetworkWeakChange",[sF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe.onNetworkWeakChange}}),GJ=E()(wJ.prototype,"offNetworkWeakChange",[uF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qe.offNetworkWeakChange}}),VJ=E()(wJ.prototype,"openDocument",[cF,lF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.KK}}),$J=E()(wJ.prototype,"setStorage",[dF,pF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _5}}),qJ=E()(wJ.prototype,"setStorageSync",[fF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w5}}),zJ=E()(wJ.prototype,"getStorage",[hF,gF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I5}}),KJ=E()(wJ.prototype,"getStorageSync",[vF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S5}}),HJ=E()(wJ.prototype,"getStorageInfo",[mF,yF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k5}}),JJ=E()(wJ.prototype,"getStorageInfoSync",[bF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C5}}),YJ=E()(wJ.prototype,"removeStorage",[_F,wF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T5}}),QJ=E()(wJ.prototype,"removeStorageSync",[IF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A5}}),ZJ=E()(wJ.prototype,"clearStorage",[SF,kF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P5}}),XJ=E()(wJ.prototype,"clearStorageSync",[CF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E5}}),eY=E()(wJ.prototype,"authorize",[TF,AF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qn}}),tY=E()(wJ.prototype,"checkSession",[PF,EF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return On}}),rY=E()(wJ.prototype,"getUserInfo",[xF,MF,DF,RF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ha}}),nY=E()(wJ.prototype,"getUserProfile",[LF,OF,NF,jF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ma}}),aY=E()(wJ.prototype,"login",[BF,FF,UF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ln}}),iY=E()(wJ.prototype,"openSetting",[WF,GF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ea.a}}),oY=E()(wJ.prototype,"getSetting",[VF,$F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xn}}),sY=E()(wJ.prototype,"operateWXData",[qF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oa}}),uY=E()(wJ.prototype,"getWeRunData",[zF,KF,HF,JF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ra}}),cY=E()(wJ.prototype,"uploadWeRunData",[YF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return na}}),lY=E()(wJ.prototype,"addWeRunData",[QF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aa}}),dY=E()(wJ.prototype,"getGroupMsgTicket",[ZF],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tv}}),pY=E()(wJ.prototype,"removeUserCloudStorage",[XF,eU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ww}}),fY=E()(wJ.prototype,"setUserCloudStorage",[tU,rU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yw}}),hY=E()(wJ.prototype,"openCustomerServiceConversation",[nU,aU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iR}}),gY=E()(wJ.prototype,"sendRedPacket",[iU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tn}}),vY=E()(wJ.prototype,"openRedPacket",[oU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return An}}),mY=E()(wJ.prototype,"sendBizRedPacket",[sU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cn}}),yY=E()(wJ.prototype,"showRedPackage",[uU,cU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dn}}),bY=E()(wJ.prototype,"reportAnalytics",[lU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sR}}),_Y=E()(wJ.prototype,"reportMonitor",[dU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uR}}),wY=E()(wJ.prototype,"requestSubscribeMessage",[pU,fU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zR}}),IY=E()(wJ.prototype,"requestSubscribeSystemMessage",[hU,gU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KR.S}}),SY=E()(wJ.prototype,"requestSubscribeWhatsNew",[vU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tL}}),kY=E()(wJ.prototype,"getWhatsNewSubscriptionsSetting",[mU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YR}}),CY=E()(wJ.prototype,"getUserGameLabel",[yU,bU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sa}}),TY=E()(wJ.prototype,"reportUserBehaviorBranchAnalytics",[_U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ua.s}}),AY=E()(wJ.prototype,"publishWeChatState",[wU,IU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ur}}),PY=E()(wJ.prototype,"addCard",[SU,kU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BR}}),EY=E()(wJ.prototype,"openCard",[CU,TU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FR}}),xY=E()(wJ.prototype,"saveFile",[AU,PU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.yH}}),MY=E()(wJ.prototype,"getFileInfo",[EU,xU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.hr}}),DY=E()(wJ.prototype,"getSavedFileList",[MU,DU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.rW}}),RY=E()(wJ.prototype,"getSavedFileInfo",[RU,LU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.vL}}),LY=E()(wJ.prototype,"removeSavedFile",[OU,NU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.bh}}),OY=E()(wJ.prototype,"getFileSystemManager",[jU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.ls}}),NY=E()(wJ.prototype,"saveFileToDisk",[BU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cp}}),jY=E()(wJ.prototype,"getDeviceInfo",[FU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getDeviceInfo}}),BY=E()(wJ.prototype,"getWindowInfo",[UU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getWindowInfo}}),FY=E()(wJ.prototype,"getAppBaseInfo",[WU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getAppBaseInfo}}),UY=E()(wJ.prototype,"getSystemSetting",[GU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getSystemSetting}}),WY=E()(wJ.prototype,"getAppAuthorizeSetting",[VU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getAppAuthorizeSetting}}),GY=E()(wJ.prototype,"openSystemBluetoothSetting",[$U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.openSystemBluetoothSetting}}),VY=E()(wJ.prototype,"openAppAuthorizeSetting",[qU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.openAppAuthorizeSetting}}),$Y=E()(wJ.prototype,"startAccelerometer",[zU,KU,HU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ia}}),qY=E()(wJ.prototype,"stopAccelerometer",[JU,YU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sa}}),zY=E()(wJ.prototype,"onAccelerometerChange",[QU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ta}}),KY=E()(wJ.prototype,"offAccelerometerChange",[ZU],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ca}}),HY=E()(wJ.prototype,"scanCode",[XU,eW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zL}}),JY=E()(wJ.prototype,"startCompass",[tW,rW,nW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ea}}),YY=E()(wJ.prototype,"stopCompass",[aW,iW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xa}}),QY=E()(wJ.prototype,"onCompassChange",[oW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ra}}),ZY=E()(wJ.prototype,"offCompassChange",[sW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Da}}),XY=E()(wJ.prototype,"startDeviceMotionListening",[uW,cW,lW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bo}}),eQ=E()(wJ.prototype,"stopDeviceMotionListening",[dW,pW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fo}}),tQ=E()(wJ.prototype,"onDeviceMotionChange",[fW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uo}}),rQ=E()(wJ.prototype,"offDeviceMotionChange",[hW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wo}}),nQ=E()(wJ.prototype,"startGyroscope",[gW,vW,mW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ro}}),aQ=E()(wJ.prototype,"stopGyroscope",[yW,bW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lo}}),iQ=E()(wJ.prototype,"onGyroscopeChange",[_W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oo}}),oQ=E()(wJ.prototype,"offGyroscopeChange",[wW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return No}}),sQ=E()(wJ.prototype,"setScreenBrightness",[IW,SW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ya}}),uQ=E()(wJ.prototype,"getScreenBrightness",[kW,CW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ja}}),cQ=E()(wJ.prototype,"setKeepScreenOn",[TW,AW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qa}}),lQ=E()(wJ.prototype,"captureScreen",[PW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Va}}),dQ=E()(wJ.prototype,"vibrateShort",[EW,xW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y5}}),pQ=E()(wJ.prototype,"vibrateLong",[MW,DW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q5}}),fQ=E()(wJ.prototype,"getClipboardData",[RW,LW,OW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return La}}),hQ=E()(wJ.prototype,"setClipboardData",[NW,jW,BW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oa}}),gQ=E()(wJ.prototype,"makeBluetoothPair",[FW,UW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return co}}),vQ=E()(wJ.prototype,"isBluetoothDevicePaired",[WW,GW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lo}}),mQ=E()(wJ.prototype,"openBluetoothAdapter",[VW,$W,qW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ei}}),yQ=E()(wJ.prototype,"closeBluetoothAdapter",[zW,KW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ti}}),bQ=E()(wJ.prototype,"getBluetoothAdapterState",[HW,JW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ri}}),_Q=E()(wJ.prototype,"onBluetoothAdapterStateChange",[YW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bi}}),wQ=E()(wJ.prototype,"offBluetoothAdapterStateChange",[QW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _i}}),IQ=E()(wJ.prototype,"startBluetoothDevicesDiscovery",[ZW,XW],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ni}}),SQ=E()(wJ.prototype,"stopBluetoothDevicesDiscovery",[eG,tG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ai}}),kQ=E()(wJ.prototype,"getBluetoothDevices",[rG,nG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ii}}),CQ=E()(wJ.prototype,"getConnectedBluetoothDevices",[aG,iG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return si}}),TQ=E()(wJ.prototype,"createBLEConnection",[oG,sG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Di}}),AQ=E()(wJ.prototype,"closeBLEConnection",[uG,cG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ri}}),PQ=E()(wJ.prototype,"getBLEDeviceServices",[lG,dG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Li}}),EQ=E()(wJ.prototype,"getBLEDeviceRSSI",[pG,fG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oi}}),xQ=E()(wJ.prototype,"setBLEMTU",[hG,gG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return po}}),MQ=E()(wJ.prototype,"getBLEMTU",[vG,mG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mo}}),DQ=E()(wJ.prototype,"getBLEDeviceCharacteristics",[yG,bG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oi}}),RQ=E()(wJ.prototype,"createBLEPeripheralServer",[_G,wG,IG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return io}}),LQ=E()(wJ.prototype,"onBLEPeripheralConnectionStateChanged",[SG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return so}}),OQ=E()(wJ.prototype,"offBLEPeripheralConnectionStateChanged",[kG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uo}}),NQ=E()(wJ.prototype,"notifyBLECharacteristicValueChanged",[CG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ni}}),jQ=E()(wJ.prototype,"notifyBLECharacteristicValueChange",[TG,AG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ji}}),BQ=E()(wJ.prototype,"readBLECharacteristicValue",[PG,EG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bi}}),FQ=E()(wJ.prototype,"writeBLECharacteristicValue",[xG,MG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fi}}),UQ=E()(wJ.prototype,"onBluetoothDeviceFound",[DG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qi}}),WQ=E()(wJ.prototype,"offBluetoothDeviceFound",[RG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zi}}),GQ=E()(wJ.prototype,"onBLEMTUChange",[LG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return go}}),VQ=E()(wJ.prototype,"offBLEMTUChange",[OG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vo}}),$Q=E()(wJ.prototype,"onBLEConnectionStateChanged",[NG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wi}}),qQ=E()(wJ.prototype,"onBLEConnectionStateChange",[jG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gi}}),zQ=E()(wJ.prototype,"onBLECharacteristicValueChange",[BG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vi}}),KQ=E()(wJ.prototype,"offBLEConnectionStateChanged",[FG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi}}),HQ=E()(wJ.prototype,"offBLEConnectionStateChange",[UG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vi}}),JQ=E()(wJ.prototype,"offBLECharacteristicValueChange",[WG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $i}}),YQ=E()(wJ.prototype,"startBeaconDiscovery",[GG,VG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Na}}),QQ=E()(wJ.prototype,"stopBeaconDiscovery",[$G,qG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ja}}),ZQ=E()(wJ.prototype,"getBeacons",[zG,KG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ba}}),XQ=E()(wJ.prototype,"onBeaconUpdate",[HG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fa}}),eZ=E()(wJ.prototype,"offBeaconUpdate",[JG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ua}}),tZ=E()(wJ.prototype,"onBeaconServiceChange",[YG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wa}}),rZ=E()(wJ.prototype,"offBeaconServiceChange",[QG],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ga}}),nZ=E()(wJ.prototype,"getLocation",[ZG,XG,eV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jd}}),aZ=E()(wJ.prototype,"chooseMedia",[tV,rV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return np}}),iZ=E()(wJ.prototype,"chooseMessageFile",[nV,aV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rp}}),oZ=E()(wJ.prototype,"createInnerAudioContext",[iV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xd}}),sZ=E()(wJ.prototype,"getAvailableAudioSources",[oV,sV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vd}}),uZ=E()(wJ.prototype,"setInnerAudioOption",[uV,cV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $d}}),cZ=E()(wJ.prototype,"createVideoDecoder",[lV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _p}}),lZ=E()(wJ.prototype,"createMediaAudioPlayer",[dV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qd}}),dZ=E()(wJ.prototype,"createWebAudioContext",[pV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wl}}),pZ=E()(wJ.prototype,"getRecorderManager",[fV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gd}}),fZ=E()(wJ.prototype,"chooseImage",[hV,gV,vV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un}}),hZ=E()(wJ.prototype,"previewImage",[mV,yV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ln}}),gZ=E()(wJ.prototype,"previewMedia",[bV,_V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ip}}),vZ=E()(wJ.prototype,"saveImageToPhotosAlbum",[wV,IV,SV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pn}}),mZ=E()(wJ.prototype,"joinVoIPChat",[kV,CV,TV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z5}}),yZ=E()(wJ.prototype,"exitVoIPChat",[AV,PV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X5}}),bZ=E()(wJ.prototype,"updateVoIPChatMuteConfig",[EV,xV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e6}}),_Z=E()(wJ.prototype,"onVoIPChatMembersChanged",[MV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t6}}),wZ=E()(wJ.prototype,"onVoIPChatSpeakersChanged",[DV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r6}}),IZ=E()(wJ.prototype,"onVoIPChatInterrupted",[RV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n6}}),SZ=E()(wJ.prototype,"offVoIPChatMembersChanged",[LV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a6}}),kZ=E()(wJ.prototype,"offVoIPChatSpeakersChanged",[OV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i6}}),CZ=E()(wJ.prototype,"offVoIPChatInterrupted",[NV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o6}}),TZ=E()(wJ.prototype,"subscribeVoIPVideoMembers",[jV,BV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s6}}),AZ=E()(wJ.prototype,"onVoIPVideoMembersChanged",[FV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u6}}),PZ=E()(wJ.prototype,"offVoIPVideoMembersChanged",[UV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c6}}),EZ=E()(wJ.prototype,"onVoIPChatStateChanged",[WV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l6}}),xZ=E()(wJ.prototype,"offVoIPChatStateChanged",[GV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d6}}),MZ=E()(wJ.prototype,"createCanvas",[VV,$V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sf.vL}}),DZ=E()(wJ.prototype,"createOffScreenCanvas",[qV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sf.pr}}),RZ=E()(wJ.prototype,"createImage",[zV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uf.B}}),LZ=E()(wJ.prototype,"createImageData",[KV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cf}}),OZ=E()(wJ.prototype,"createPath2D",[HV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lf}}),NZ=E()(wJ.prototype,"onTouchStart",[JV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r5}}),jZ=E()(wJ.prototype,"offTouchStart",[YV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n5}}),BZ=E()(wJ.prototype,"onTouchMove",[QV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a5}}),FZ=E()(wJ.prototype,"offTouchMove",[ZV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i5}}),UZ=E()(wJ.prototype,"onTouchEnd",[XV],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o5}}),WZ=E()(wJ.prototype,"offTouchEnd",[e$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s5}}),GZ=E()(wJ.prototype,"onTouchCancel",[t$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u5}}),VZ=E()(wJ.prototype,"offTouchCancel",[r$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c5}}),$Z=E()(wJ.prototype,"onWheel",[n$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y3}}),qZ=E()(wJ.prototype,"offWheel",[a$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q3}}),zZ=E()(wJ.prototype,"onMouseDown",[i$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l5}}),KZ=E()(wJ.prototype,"offMouseDown",[o$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d5}}),HZ=E()(wJ.prototype,"onMouseMove",[s$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p5}}),JZ=E()(wJ.prototype,"offMouseMove",[u$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f5}}),YZ=E()(wJ.prototype,"onMouseUp",[c$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h5}}),QZ=E()(wJ.prototype,"offMouseUp",[l$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g5}}),ZZ=E()(wJ.prototype,"onKeyDown",[d$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B3}}),XZ=E()(wJ.prototype,"offKeyDown",[p$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F3}}),eX=E()(wJ.prototype,"onKeyUp",[f$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U3}}),tX=E()(wJ.prototype,"offKeyUp",[h$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W3}}),rX=E()(wJ.prototype,"onPointerLockChange",[g$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v5}}),nX=E()(wJ.prototype,"offPointerLockChange",[v$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m5}}),aX=E()(wJ.prototype,"onPointerLockError",[m$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y5}}),iX=E()(wJ.prototype,"offPointerLockError",[y$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b5}}),oX=E()(wJ.prototype,"onKeyboardInput",[b$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G3}}),sX=E()(wJ.prototype,"offKeyboardInput",[_$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V3}}),uX=E()(wJ.prototype,"onKeyboardConfirm",[w$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $3}}),cX=E()(wJ.prototype,"offKeyboardConfirm",[I$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q3}}),lX=E()(wJ.prototype,"onKeyboardComplete",[S$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z3}}),dX=E()(wJ.prototype,"offKeyboardComplete",[k$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K3}}),pX=E()(wJ.prototype,"onKeyboardHeightChange",[C$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H3}}),fX=E()(wJ.prototype,"offKeyboardHeightChange",[T$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J3}}),hX=E()(wJ.prototype,"onWindowResize",[A$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z3}}),gX=E()(wJ.prototype,"offWindowResize",[P$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X3}}),vX=E()(wJ.prototype,"onGameLiveStateChange",[E$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e5}}),mX=E()(wJ.prototype,"offGameLiveStateChange",[x$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t5}}),yX=E()(wJ.prototype,"startGameLive",[M$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _h}}),bX=E()(wJ.prototype,"checkGameLiveEnabled",[D$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PN}}),_X=E()(wJ.prototype,"getGameLiveState",[R$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xN}}),wX=E()(wJ.prototype,"getUserRecentGameLiveInfo",[L$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DN}}),IX=E()(wJ.prototype,"getUserCurrentGameliveInfo",[O$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LN}}),SX=E()(wJ.prototype,"getUserGameLiveDetails",[N$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NN}}),kX=E()(wJ.prototype,"getShareInfo",[j$,B$,F$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B5}}),CX=E()(wJ.prototype,"authPrivateMessage",[U$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G5}}),TX=E()(wJ.prototype,"showShareMenu",[W$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){setTimeout(F5.bind(this,e))}}}),AX=E()(wJ.prototype,"hideShareMenu",[G$,V$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U5}}),PX=E()(wJ.prototype,"updateShareMenu",[$$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){setTimeout(W5.bind(this,e))}}}),EX=E()(wJ.prototype,"onShareAppMessage",[q$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P3}}),xX=E()(wJ.prototype,"offShareAppMessage",[z$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E3}}),MX=E()(wJ.prototype,"onShareTimeline",[K$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x3}}),DX=E()(wJ.prototype,"offShareTimeline",[H$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M3}}),RX=E()(wJ.prototype,"shareAppMessage",[J$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pf.$F}}),LX=E()(wJ.prototype,"shareInvitationToLiveRoom",[Y$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Df.vC}}),OX=E()(wJ.prototype,"setMessageToFriendQuery",[Q$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ff.r}}),NX=E()(wJ.prototype,"onShareMessageToFriend",[Z$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pf.ld}}),jX=E()(wJ.prototype,"onAddToFavorites",[X$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N3}}),BX=E()(wJ.prototype,"offAddToFavorites",[eq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j3}}),FX=E()(wJ.prototype,"showShareImageMenu",[tq,rq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V5}}),UX=E()(wJ.prototype,"onCopyUrl",[nq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gv}}),WX=E()(wJ.prototype,"offCopyUrl",[aq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vv}}),GX=E()(wJ.prototype,"setWindowSize",[iq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kp}}),VX=E()(wJ.prototype,"setTopBarText",[oq,sq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sp}}),$X=E()(wJ.prototype,"showToast",[uq,cq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $5}}),qX=E()(wJ.prototype,"hideToast",[lq,dq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q5}}),zX=E()(wJ.prototype,"showLoading",[pq,fq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z5}}),KX=E()(wJ.prototype,"hideLoading",[hq,gq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K5}}),HX=E()(wJ.prototype,"showModal",[vq,mq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H5}}),JX=E()(wJ.prototype,"showActionSheet",[yq,bq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J5}}),YX=E()(wJ.prototype,"setMenuStyle",[_q,wq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ug}}),QX=E()(wJ.prototype,"setStatusBarStyle",[Iq,Sq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zg}}),ZX=E()(wJ.prototype,"getMenuButtonBoundingClientRect",[kq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tp.z}}),XX=E()(wJ.prototype,"hideSplashScreen",[Cq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kR}}),e0=E()(wJ.prototype,"onError",[Tq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k3}}),t0=E()(wJ.prototype,"offError",[Aq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C3}}),r0=E()(wJ.prototype,"onUnhandledRejection",[Pq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T3}}),n0=E()(wJ.prototype,"offUnhandledRejection",[Eq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A3}}),a0=E()(wJ.prototype,"onLaunch",[xq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L3}}),i0=E()(wJ.prototype,"offLaunch",[Mq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O3}}),o0=E()(wJ.prototype,"onShow",[Dq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $o.Ke}}),s0=E()(wJ.prototype,"offShow",[Rq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $o.il}}),u0=E()(wJ.prototype,"onHide",[Lq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _r.Jv}}),c0=E()(wJ.prototype,"offHide",[Oq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _r.Or}}),l0=E()(wJ.prototype,"onAudioInterruptionBegin",[Nq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.p$}}),d0=E()(wJ.prototype,"offAudioInterruptionBegin",[jq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qu.hA}}),p0=E()(wJ.prototype,"onAudioInterruptionEnd",[Bq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zu.aS}}),f0=E()(wJ.prototype,"offAudioInterruptionEnd",[Fq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zu.xJ}}),h0=E()(wJ.prototype,"onShareInvitationToLiveRoom",[Uq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D3}}),g0=E()(wJ.prototype,"offShareInvitationToLiveRoom",[Wq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R3}}),v0=E()(wJ.prototype,"getSystemInfo",[Gq,Vq,$q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getSystemInfoNoCache}}),m0=E()(wJ.prototype,"getSystemInfoSync",[qq,zq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getSystemInfoSyncNoCache}}),y0=E()(wJ.prototype,"getSystemInfoAsync",[Kq,Hq,Jq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ae.getSystemInfoAsyncNoCache}}),b0=E()(wJ.prototype,"getBatteryInfo",[Yq,Qq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ya}}),_0=E()(wJ.prototype,"getBatteryInfoSync",[Zq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ba}}),w0=E()(wJ.prototype,"getLaunchOptionsSync",[Xq],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hf.Ir}}),I0=E()(wJ.prototype,"getEnterOptionsSync",[ez],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gf.r}}),S0=E()(wJ.prototype,"setPreferredFramesPerSecond",[tz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vf}}),k0=E()(wJ.prototype,"loadFont",[rz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yf}}),C0=E()(wJ.prototype,"setCursor",[nz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bf}}),T0=E()(wJ.prototype,"requestPointerLock",[az],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _f}}),A0=E()(wJ.prototype,"exitPointerLock",[iz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wf}}),P0=E()(wJ.prototype,"isPointerLocked",[oz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return If}}),E0=E()(wJ.prototype,"getTextLineHeight",[sz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xg}}),x0=E()(wJ.prototype,"requestMidasPayment",[uz,cz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fy}}),M0=E()(wJ.prototype,"requestMidasPaymentGameItem",[lz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return By}}),D0=E()(wJ.prototype,"requestMidasFriendPayment",[dz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qy}}),R0=E()(wJ.prototype,"checkIsSupportMidasFriendPayment",[pz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xy}}),L0=E()(wJ.prototype,"gameLoginReport",[fz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eb}}),O0=E()(wJ.prototype,"gameLogoutReport",[hz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tb}}),N0=E()(wJ.prototype,"exitMiniProgram",[gz,vz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ap.HK}}),j0=E()(wJ.prototype,"restartMiniProgram",[mz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pp}}),B0=E()(wJ.prototype,"launchApp",[yz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oh}}),F0=E()(wJ.prototype,"showKeyboard",[bz,_z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nh.ez}}),U0=E()(wJ.prototype,"hideKeyboard",[wz,Iz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nh.Sn}}),W0=E()(wJ.prototype,"updateKeyboard",[Sz,kz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nh.vv}}),G0=E()(wJ.prototype,"getExtConfig",[Cz,Tz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HL}}),V0=E()(wJ.prototype,"getExtConfigSync",[Az],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KL}}),$0=E()(wJ.prototype,"bindGroup",[Pz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rv}}),q0=E()(wJ.prototype,"joinGroup",[Ez],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nv}}),z0=E()(wJ.prototype,"getAccountInfoSync",[xz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.E}}),K0=E()(wJ.prototype,"encode",[Mz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jh.c}}),H0=E()(wJ.prototype,"decode",[Dz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jh.J}}),J0=E()(wJ.prototype,"parseXML",[Rz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eg}}),Y0=E()(wJ.prototype,"createVideo",[Lz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fh}}),Q0=E()(wJ.prototype,"createCamera",[Oz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tg}}),Z0=E()(wJ.prototype,"createLivePlayer",[Nz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ag}}),X0=E()(wJ.prototype,"createLivePusher",[jz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pg}}),e1=E()(wJ.prototype,"createWebView",[Bz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.pd}}),t1=E()(wJ.prototype,"setDeviceOrientation",[Fz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xg.MI}}),r1=E()(wJ.prototype,"onDeviceOrientationChange",[Uz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xg.Qq}}),n1=E()(wJ.prototype,"offDeviceOrientationChange",[Wz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xg.tR}}),a1=E()(wJ.prototype,"onUserCaptureScreen",[Gz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ka}}),i1=E()(wJ.prototype,"offUserCaptureScreen",[Vz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ha}}),o1=E()(wJ.prototype,"postMessage",[$z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rg}}),s1=E()(wJ.prototype,"onMessage",[qz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lg}}),u1=E()(wJ.prototype,"getOpenDataContext",[zz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fg}}),c1=E()(wJ.prototype,"createUserGameData",[Kz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zg}}),l1=E()(wJ.prototype,"updateUserGameData",[Hz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kg}}),d1=E()(wJ.prototype,"getPerformance",[Jz,Yz,Qz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kf}}),p1=E()(wJ.prototype,"setEnableDebug",[Zz,Xz],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ep}}),f1=E()(wJ.prototype,"triggerGC",[eK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mf}}),h1=E()(wJ.prototype,"onMemoryWarning",[tK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pf}}),g1=E()(wJ.prototype,"offMemoryWarning",[rK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ef}}),v1=E()(wJ.prototype,"reportPerformance",[nK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dv}}),m1=E()(wJ.prototype,"testApiCallTime",[aK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rv}}),y1=E()(wJ.prototype,"createWorker",[iK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iv}}),b1=E()(wJ.prototype,"createSharedArrayBuffer",[tB],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rg}}),_1=E()(wJ.prototype,"checkIsUserAdvisedToRest",[oK,sK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return la}}),w1=E()(wJ.prototype,"getUpdateManager",[uK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _b}}),I1=E()(wJ.prototype,"updateWeChatApp",[cK,lK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sb}}),S1=E()(wJ.prototype,"getAd",[dK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),k1=E()(wJ.prototype,"openTencentGameContract",[pK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.n8}}),C1=E()(wJ.prototype,"openTencentPrivacyContract",[fK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.L5}}),T1=E()(wJ.prototype,"openUrl",[hK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.Yo}}),A1=E()(wJ.prototype,"openTencentBoardGameContract",[gK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.fE}}),P1=E()(wJ.prototype,"openTencentChildrenGuideContract",[vK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.Et}}),E1=E()(wJ.prototype,"openTencentAccountCancelContract",[mK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oR.Qi}}),x1=E()(wJ.prototype,"createRewardedVideoAd",[yK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),M1=E()(wJ.prototype,"createIncentiveVideoAd",[bK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),D1=E()(wJ.prototype,"createBannerAd",[_K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),R1=E()(wJ.prototype,"createInterstitialAd",[wK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),L1=E()(wJ.prototype,"createCustomAd",[IK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),O1=E()(wJ.prototype,"createGridAd",[SK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),N1=E()(wJ.prototype,"createCpsAd",[kK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),j1=E()(wJ.prototype,"createUserInfoButton",[CK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SM}}),B1=E()(wJ.prototype,"createGameClubButton",[TK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kM}}),F1=E()(wJ.prototype,"createOpenSettingButton",[AK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CM}}),U1=E()(wJ.prototype,"createFeedbackButton",[PK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TM}}),W1=E()(wJ.prototype,"loadSubpackage",[EK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cR}}),G1=E()(wJ.prototype,"preDownloadSubpackage",[xK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pR}}),V1=E()(wJ.prototype,"navigateToMiniProgram",[MK,DK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SR}}),$1=E()(wJ.prototype,"createUDPSocket",[RK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LR}}),q1=E()(wJ.prototype,"markScene",[LK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UR}}),z1=E()(wJ.prototype,"reportScene",[OK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sj}}),K1=E()(wJ.prototype,"createGamePortal",[NK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WL}}),H1=E()(wJ.prototype,"createGameBanner",[jK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GL}}),J1=E()(wJ.prototype,"createGameIcon",[BK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VL}}),Y1=E()(wJ.prototype,"getUserInteractiveStorage",[FK,UK,WK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qL}}),Q1=E()(wJ.prototype,"onInteractiveStorageModified",[GK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ak.U7}}),Z1=E()(wJ.prototype,"offInteractiveStorageModified",[VK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ak.$X}}),X1=E()(wJ.prototype,"getLogManager",[$K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xp._}}),e2=E()(wJ.prototype,"getRealtimeLogManager",[qK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return af}}),t2=E()(wJ.prototype,"isSystemError",[zK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aL}}),r2=E()(wJ.prototype,"isSDKError",[KK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iL}}),n2=E()(wJ.prototype,"isThirdError",[HK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oL}}),a2=E()(wJ.prototype,"getGameRecorder",[JK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _L}}),i2=E()(wJ.prototype,"createGameRecorderShareButton",[YK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jL}}),o2=E()(wJ.prototype,"operateGameRecorderVideo",[QK],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BL}}),s2=E()(wJ.prototype,"cloud",[ZK,XK,eH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u2=E()(wJ.prototype,"serviceMarket",[tH,rH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c2=E()(wJ.prototype,"getGameServerManager",[nH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QS}}),l2=E()(wJ.prototype,"getBox2D",[aH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>O.Z.Box2D}}),d2=E()(wJ.prototype,"protobuf",[iH,oH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(...e)=>__protobufSDK__.getProtobuf()(...e)}}),p2=E()(wJ.prototype,"createGameComponent",[sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nR}}),f2=E()(wJ.prototype,"getGroupEnterInfo",[uH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fa}}),h2=E()(wJ.prototype,"onHandoff",[cH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dw}}),g2=E()(wJ.prototype,"offHandoff",[lH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pw}}),v2=E()(wJ.prototype,"setHandoffQuery",[dH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cw}}),m2=E()(wJ.prototype,"faceDetect",[pH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ov}}),y2=E()(wJ.prototype,"initFaceDetect",[fH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lv}}),b2=E()(wJ.prototype,"stopFaceDetect",[hH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nv}}),_2=E()(wJ.prototype,"createBufferURL",[gH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fv.c5}}),w2=E()(wJ.prototype,"revokeBufferURL",[vH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fv.EL}}),I2=E()(wJ.prototype,"createSignal",[mH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uv}}),S2=E()(wJ.prototype,"startLocalServiceDiscovery",[yH,bH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Io}}),k2=E()(wJ.prototype,"stopLocalServiceDiscovery",[_H,wH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return So}}),C2=E()(wJ.prototype,"onLocalServiceFound",[IH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ko}}),T2=E()(wJ.prototype,"offLocalServiceFound",[SH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Co}}),A2=E()(wJ.prototype,"onLocalServiceLost",[kH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return To}}),P2=E()(wJ.prototype,"offLocalServiceLost",[CH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ao}}),E2=E()(wJ.prototype,"onLocalServiceDiscoveryStop",[TH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Po}}),x2=E()(wJ.prototype,"offLocalServiceDiscoveryStop",[AH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eo}}),M2=E()(wJ.prototype,"onLocalServiceResolveFail",[PH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xo}}),D2=E()(wJ.prototype,"offLocalServiceResolveFail",[EH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mo}}),R2=E()(wJ.prototype,"getLocalIPAddress",[xH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Go}}),L2=E()(wJ.prototype,"startCPUProfiling",[MH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rO}}),O2=E()(wJ.prototype,"stopCPUProfiling",[DH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nO}}),N2=E()(wJ.prototype,"getExptInfo",[RH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gt}}),j2=E()(wJ.prototype,"getExptInfoSync",[LH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vt}}),B2=E()(wJ.prototype,"reportEvent",[OH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yt}}),F2=E()(wJ.prototype,"getChannelsLiveInfo",[NH,jH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZP}}),U2=E()(wJ.prototype,"getChannelsLiveState",[BH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HO}}),W2=E()(wJ.prototype,"getChannelsLiveReservation",[FH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JO}}),G2=E()(wJ.prototype,"getChannelsLiveNoticeInfo",[UH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YO}}),V2=E()(wJ.prototype,"openChannelsLive",[WH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tN}}),$2=E()(wJ.prototype,"openChannelsActivity",[GH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rN}}),q2=E()(wJ.prototype,"openChannelsUserProfile",[VH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nN}}),z2=E()(wJ.prototype,"openChannelsLiveCollection",[$H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aN}}),K2=E()(wJ.prototype,"openChannelsEvent",[qH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iN}}),H2=E()(wJ.prototype,"reserveChannelsLive",[zH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oN}}),J2=E()(wJ.prototype,"lanDebug",[KH,HH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KO}}),Y2=E()(wJ.prototype,"createVKSession",[JH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ku}}),Q2=E()(wJ.prototype,"createVKReference",[YH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hu}}),Z2=E()(wJ.prototype,"isVKSupport",[QH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ju}}),X2=E()(wJ.prototype,"onVerifyNotify",[ZH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oy}}),e3=E()(wJ.prototype,"offVerifyNotify",[XH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sy}}),t3=E()(wJ.prototype,"navigateToUserCenter",[eJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pN}}),r3=E()(wJ.prototype,"requestConsumeAdsSkipCard",[tJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bN}}),n3=E()(wJ.prototype,"dumpGameLivePanelUI",[rJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),a3=E()(wJ.prototype,"updateGameLivePanelMenu",[nJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),i3=E()(wJ.prototype,"createInferenceSession",[aJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qj.AS}}),o3=E()(wJ.prototype,"getInferenceEnvInfo",[iJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qj.y$}}),s3=E()(wJ.prototype,"getDebuggerMessager",[oJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AN}}),u3=E()(wJ.prototype,"getAdsSkipCardSharePresentQuota",[sJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _N}}),c3=E()(wJ.prototype,"getAdsSkipCardQuestInfo",[uJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wN}}),l3=E()(wJ.prototype,"getUserCryptoManager",[cJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TN}}),d3=E()(wJ.prototype,"getDebuggerMessager",[lJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AN}}),p3=E()(wJ.prototype,"getRealNameVerifyMethod",[dJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tm}}),f3=E()(wJ.prototype,"addToDesktop",[pJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nB}}),h3=E()(wJ.prototype,"openPage",[fJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aB}}),g3=E()(wJ.prototype,"getGameClubData",[hJ,gJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iB}}),v3=E()(wJ.prototype,"previewPlayableView",[vJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vx}}),m3=E()(wJ.prototype,"checkIsAddedToMyMiniProgram",[mJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xB}}),y3=E()(wJ.prototype,"requestSubscribeLiveActivity",[yJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RB}}),b3=E()(wJ.prototype,"openCustomerServiceChat",[bJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LB}}),_J=wJ))||_J)||_J)||_J);_.setAsGame();var f6=new p6,h6=Object.getOwnPropertyNames(Object.getPrototypeOf(f6)),g6=Object.getOwnPropertyNames(f6),v6=h6.concat(g6).reduce(((e,t)=>(e[t]=f6[t],e)),{});delete v6.constructor,CB&&(v6.invokeThird=(e,t={},r={},n={})=>{var a,i=r.fail;"function"==typeof i&&(i=i.bind(r));var o={...r};o.isThird=!0;try{a=(0,U.yt)(t,e,o,n)}catch(e){return void("function"==typeof i&&i(`SDK error: ${e}`))}PB(e)?(0,fx.N)(e,t,(e=>{try{a(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof i&&i(`没有权限调用JSAPI: ${e}`))},v6.onThird=(e,t)=>{PB(e)?(0,Ye.vu)(e,t):console.warn(`没有权限监听Event: ${e}`)});var m6={createCanvas:v6.createCanvas,createInnerAudioContext:v6.createInnerAudioContext,getSystemInfoSync:v6.getSystemInfoSync,onTouchStart:v6.onTouchStart,onTouchMove:v6.onTouchMove,onTouchEnd:v6.onTouchEnd,onTouchCancel:v6.onTouchCancel,createImage:v6.createImage,setEnableDebug:v6.setEnableDebug,notifyMiniProgramPlayableStatus(){},getFileSystemManager:()=>({readFile:(...e)=>(0,K.ls)().readFile(...e),readFileSync:(...e)=>(0,K.ls)().readFileSync(...e)}),env:{USER_DATA_PATH:"/"}},y6={wx:v6,mockPlayableEnvWX:m6,traceBeginEvent:IB.traceBeginEvent,traceEndEvent:IB.traceEndEvent,useTraced:IB.useTraced,useTracedEnd:IB.useTracedEnd,traceFlag:IB.traceFlag,splitOnBridgeListener:M.p};nM(y6,e,v6),nM(y6,C,v6),o.onLoad((()=>{fC(v6,!0)})),(e=>{var t;t=e,Object.assign(BP,t)})(y6);const b6=y6})(),w=I.default})();var S=w.wx;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.wx=S);S=w.wx;if("function"==typeof __passWAGameGlobal__){var k={};k.JSContext=g,k.Protect=v,k.__cloudSDK__=__cloudSDK__,k.__subContextEngine__=y,k.Safeway=Safeway,k.Reporter=_,k.__appServiceSDK__=w,k.WeixinJSBridge=c,k.WeixinWorker=d,k.wxNativeConsole=h,__passWAGameGlobal__(k)}e.wx=S,e.requirePlugin=I,o.onLoad((function(){console.info("Wechat Lib:"+S.version.version+", "+S.version.updateTime),h.info("Wechat Lib:"+S.version.version+", "+S.version.updateTime),y.initGameRelatedContexts()}))}(this);var __WAGameEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;