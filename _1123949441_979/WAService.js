this.__wxLibrary={fileName:"WAService.js",envType:"Service",contextType:"App:Uncertain",execStart:Date.now(),mayHaveSnapshot:!1};var __WAServiceStartTime__=this.__wxLibrary.execStart;(function(e){var r={updateTime:"2023.8.3 23:35:47",version:"3.0.0",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,wkFeatureVersion:4,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,expt:["clicfg_appbrand_ios_native_download_new","clicfg_appbrand_native_download","clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_appbrand_android_tcp_buffer","clicfg_appbrand_ios_tcp_buffer","clicfg_weapp_weak_net_predict_local","clicfg_wa_ar_iosurface_switch","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_free_httpdns_sdk_cache","clicfg_appbrand_android_free_httpdns_sdk_cache","clicfg_appbrand_ios_inneraudio2webaudio","clicfg_appbrand_android_inneraudio2webaudio","clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio","clicfg_appbrand_android_inneraudio2webaudio_usewebaudio","clicfg_appbrand_ios_allow_multi_context_worker","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_game_split_multi_plugincode","clicfg_appbrand_game_split_multi_plugincode","clicfg_appbrand_ios_arkit2wevision_usewevision","clicfg_appbrand_ios_enable_async_create_request_task","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_android_inneraudio2webaudio_stream","clicfg_appbrand_ios_inneraudio2webaudio_stream","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_android_use_fake_native_get_phone_number","clicfg_appbrand_ios_use_fake_native_get_phone_number","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_android_forbid_sharedcanvas_defineproperty"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}}},debugOptions:{}},n={},i=e.Function,a=i,l,c={};(()=>{var e={5803:(e,t,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=5803},7386:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}r.r(t),r.d(t,{default:()=>n})},8921:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>i})},8704:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9651:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},8680:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},2844:(e,t,r)=>{var n=r(5835),i=r(1501),a=r(6724),o=r(1703),s=a.data,l=a.normalize,c="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(i(e))for(var r=0;r<e.length;r++)s[l(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,a.NATIVE),d(e.usePolyfill,a.POLYFILL),d(e.useFeatureDetection,null),n(e,c)&&(o[c]=!!e[c]),n(e,u)&&(o[c]=e[u]))}},9573:(e,t,r)=>{var n=r(9548),i=r(1002),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a function")}},7663:(e,t,r)=>{var n=r(1908),i=r(1002),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}},8055:(e,t,r)=>{var n=r(9548),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},8153:(e,t,r)=>{var n=r(6501).has;e.exports=function(e){return n(e),e}},6539:(e,t,r)=>{var n=r(6619),i=r(8995),a=r(7981),o=r(9799),s=r(2317),l=r(6250),c=l("asyncDispose"),u=l("dispose"),d=n([].push),p=function(e,t,r){return i(r||function(e,t){return"async-dispose"==t&&s(e,c)||s(e,u)}(e,t),e)};e.exports=function(e,t,r,n){var i;if(n)i=o(t)?p(void 0,r,n):p(a(t),r,n);else{if(o(t))return;i=p(t,r)}d(e.stack,i)}},4014:(e,t,r)=>{var n=r(6250),i=r(3583),a=r(2468).f,o=n("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},5563:(e,t,r)=>{"use strict";var n=r(4637).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},3949:(e,t,r)=>{var n=r(631),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},7981:(e,t,r)=>{var n=r(3021),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not an object")}},3860:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7854:(e,t,r)=>{"use strict";var n,i,o,s=r(3860),l=r(8521),c=r(2689),u=r(9548),d=r(3021),p=r(5835),h=r(7221),f=r(1002),g=r(1720),v=r(9146),m=r(4173),y=r(631),_=r(5616),b=r(1672),w=r(6250),S=r(5567),C=r(7832),I=C.enforce,A=C.get,k=c.Int8Array,E=k&&k.prototype,T=c.Uint8ClampedArray,P=T&&T.prototype,x=k&&_(k),O=E&&_(E),R=Object.prototype,M=c.TypeError,D=w("toStringTag"),N=S("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",B=s&&!!b&&"Opera"!==h(c.opera),$=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=_(e);if(d(t)){var r=A(t);return r&&p(r,L)?r[L]:W(t)}},U=function(e){if(!d(e))return!1;var t=h(e);return p(F,t)||p(j,t)};for(n in F)(o=(i=c[n])&&i.prototype)?I(o)[L]=i:B=!1;for(n in j)(o=(i=c[n])&&i.prototype)&&(I(o)[L]=i);if((!B||!u(x)||x===a.prototype)&&(x=function(){throw M("Incorrect invocation")},B))for(n in F)c[n]&&b(c[n],x);if((!B||!O||O===R)&&(O=x.prototype,B))for(n in F)c[n]&&b(c[n].prototype,O);if(B&&_(P)!==O&&b(P,O),l&&!p(O,D))for(n in $=!0,m(O,D,{configurable:!0,get:function(){return d(this)?this[N]:void 0}}),F)c[n]&&g(c[n],N,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:$&&N,aTypedArray:function(e){if(U(e))return e;throw M("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||y(x,e)))return e;throw M(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(l){if(r)for(var i in F){var a=c[i];if(a&&p(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}O[e]&&!r||v(O,e,r?t:B&&E[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(l){if(b){if(r)for(n in F)if((i=c[n])&&p(i,e))try{delete i[e]}catch(e){}if(x[e]&&!r)return;try{return v(x,e,r?t:B&&x[e]||t)}catch(e){}}for(n in F)!(i=c[n])||i[e]&&!r||v(i,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!d(e))return!1;var t=h(e);return"DataView"===t||p(F,t)||p(j,t)},isTypedArray:U,TypedArray:x,TypedArrayPrototype:O}},819:(e,t,r)=>{"use strict";var n=r(2689),i=r(6619),a=r(8521),o=r(3860),s=r(4046),l=r(1720),c=r(4173),u=r(2669),d=r(9835),p=r(3949),h=r(8299),f=r(6443),g=r(1169),v=r(8763),m=r(5616),y=r(1672),_=r(4161).f,b=r(5035),w=r(6283),S=r(4029),C=r(7832),I=s.PROPER,A=s.CONFIGURABLE,k="ArrayBuffer",E="DataView",T="prototype",P="Wrong index",x=C.getterFor(k),O=C.getterFor(E),R=C.set,M=n[k],D=M,N=D&&D[T],L=n[E],B=L&&L[T],$=Object.prototype,F=n.Array,j=n.RangeError,W=i(b),U=i([].reverse),V=v.pack,q=v.unpack,z=function(e){return[255&e]},G=function(e){return[255&e,e>>8&255]},H=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},K=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Q=function(e){return V(e,23,4)},J=function(e){return V(e,52,8)},X=function(e,t,r){c(e[T],t,{configurable:!0,get:function(){return r(this)[t]}})},Y=function(e,t,r,n){var i=g(r),a=O(e);if(i+t>a.byteLength)throw j(P);var o=a.bytes,s=i+a.byteOffset,l=w(o,s,s+t);return n?l:U(l)},Z=function(e,t,r,n,i,a){var o=g(r),s=O(e);if(o+t>s.byteLength)throw j(P);for(var l=s.bytes,c=o+s.byteOffset,u=n(+i),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(o){var ee=I&&M.name!==k;if(d((function(){M(1)}))&&d((function(){new M(-1)}))&&!d((function(){return new M,new M(1.5),new M(NaN),1!=M.length||ee&&!A})))ee&&A&&l(M,"name",k);else{(D=function(e){return p(this,N),new M(g(e))})[T]=N;for(var te,re=_(M),ne=0;re.length>ne;)(te=re[ne++])in D||l(D,te,M[te]);N.constructor=D}y&&m(B)!==$&&y(B,$);var ie=new L(new D(2)),ae=i(B.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||u(B,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else N=(D=function(e){p(this,N);var t=g(e);R(this,{type:k,bytes:W(F(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[T],B=(L=function(e,t,r){p(this,B),p(e,N);var n=x(e),i=n.byteLength,o=h(t);if(o<0||o>i)throw j("Wrong offset");if(o+(r=void 0===r?i-o:f(r))>i)throw j("Wrong length");R(this,{type:E,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=o)})[T],a&&(X(D,"byteLength",x),X(L,"buffer",O),X(L,"byteLength",O),X(L,"byteOffset",O)),u(B,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return K(Y(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return K(Y(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return q(Y(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return q(Y(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Z(this,1,e,z,t)},setUint8:function(e,t){Z(this,1,e,z,t)},setInt16:function(e,t){Z(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Z(this,2,e,G,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Z(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Z(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Z(this,4,e,Q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Z(this,8,e,J,t,arguments.length>2?arguments[2]:void 0)}});S(D,k),S(L,E),e.exports={ArrayBuffer:D,DataView:L}},5035:(e,t,r)=>{"use strict";var n=r(18),i=r(3610),a=r(56);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},778:(e,t,r)=>{"use strict";var n=r(8995),i=r(6619),a=r(18),o=r(1908),s=r(6249),l=r(8631),c=r(6302),u=r(5569),d=r(2317),p=r(9682),h=r(2555),f=r(6250),g=r(2429),v=r(9937).toArray,m=f("asyncIterator"),y=i(p("Array").values),_=i(y([]).next),b=function(){return new w(this)},w=function(e){this.iterator=y(e)};w.prototype.next=function(){return _(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,i=r>1?arguments[1]:void 0,p=r>2?arguments[2]:void 0;return new(h("Promise"))((function(r){var h=a(e);void 0!==i&&(i=n(i,p));var f=d(h,m),y=f?void 0:u(h)||b,_=o(t)?new t:[],w=f?s(h,f):new g(c(l(h,y)));r(v(w,i,_))}))}},113:(e,t,r)=>{var n=r(56);e.exports=function(e,t){for(var r=0,i=n(t),a=new e(i);i>r;)a[r]=t[r++];return a}},5931:(e,t,r)=>{"use strict";var n=r(8995),i=r(6619),a=r(8582),o=r(18),s=r(56),l=r(8017),c=l.Map,u=l.get,d=l.has,p=l.set,h=i([].push);e.exports=function(e){for(var t,r,i=o(this),l=a(i),f=n(e,arguments.length>1?arguments[1]:void 0),g=new c,v=s(l),m=0;v>m;m++)t=f(r=l[m],m,i),d(g,t)?h(u(g,t),r):p(g,t,[r]);return g}},9639:(e,t,r)=>{var n=r(8995),i=r(6619),a=r(8582),o=r(18),s=r(7880),l=r(56),c=r(3583),u=r(113),d=Array,p=i([].push);e.exports=function(e,t,r,i){for(var h,f,g,v=o(e),m=a(v),y=n(t,r),_=c(null),b=l(m),w=0;b>w;w++)g=m[w],(f=s(y(g,w,v)))in _?p(_[f],g):_[f]=[g];if(i&&(h=i(v))!==d)for(f in _)_[f]=u(h,_[f]);return _}},5379:(e,t,r)=>{var n=r(7417),i=r(3610),a=r(56),o=function(e){return function(t,r,o){var s,l=n(t),c=a(l),u=i(o,c);if(e&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},3792:(e,t,r)=>{var n=r(8995),i=r(8582),a=r(18),o=r(56),s=function(e){var t=1==e;return function(r,s,l){for(var c,u=a(r),d=i(u),p=n(s,l),h=o(d);h-- >0;)if(p(c=d[h],h,u))switch(e){case 0:return c;case 1:return h}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},8250:(e,t,r)=>{var n=r(8995),i=r(6619),a=r(8582),o=r(18),s=r(56),l=r(3848),c=i([].push),u=function(e){var t=1==e,r=2==e,i=3==e,u=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,v,m){for(var y,_,b=o(f),w=a(b),S=n(g,v),C=s(w),I=0,A=m||l,k=t?A(f,C):r||p?A(f,0):void 0;C>I;I++)if((h||I in w)&&(_=S(y=w[I],I,b),e))if(t)k[I]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return I;case 2:c(k,y)}else switch(e){case 4:return!1;case 7:c(k,y)}return d?-1:i||u?u:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6732:(e,t,r)=>{"use strict";var n=r(9835);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3447:(e,t,r)=>{"use strict";var n=r(8521),i=r(1501),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6283:(e,t,r)=>{var n=r(3610),i=r(56),a=r(9117),o=Array,s=Math.max;e.exports=function(e,t,r){for(var l=i(e),c=n(t,l),u=n(void 0===r?l:r,l),d=o(s(u-c,0)),p=0;c<u;c++,p++)a(d,p,e[c]);return d.length=p,d}},7687:(e,t,r)=>{var n=r(6619);e.exports=n([].slice)},2026:(e,t,r)=>{var n=r(6283),i=Math.floor,a=function(e,t){var r=e.length,l=i(r/2);return r<8?o(e,t):s(e,a(n(e,0,l),t),a(n(e,l),t),t)},o=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=a},2028:(e,t,r)=>{var n=r(1501),i=r(1908),a=r(3021),o=r(6250)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},3848:(e,t,r)=>{var n=r(2028);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},6203:(e,t,r)=>{var n=r(56);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},4784:(e,t,r)=>{var n=r(56),i=r(8299),a=RangeError;e.exports=function(e,t,r,o){var s=n(e),l=i(r),c=l<0?s+l:l;if(c>=s||c<0)throw a("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?o:e[d];return u}},2429:(e,t,r)=>{"use strict";var n=r(970),i=r(7981),a=r(3583),o=r(2317),s=r(2669),l=r(7832),c=r(2555),u=r(2342),d=r(2549),p=c("Promise"),h="AsyncFromSyncIterator",f=l.set,g=l.getterFor(h),v=function(e,t,r){var n=e.done;p.resolve(e.value).then((function(e){t(d(e,n))}),r)},m=function(e){e.type=h,f(this,e)};m.prototype=s(a(u),{next:function(){var e=g(this);return new p((function(t,r){var a=i(n(e.next,e.iterator));v(a,t,r)}))},return:function(){var e=g(this).iterator;return new p((function(t,r){var a=o(e,"return");if(void 0===a)return t(d(void 0,!0));var s=i(n(a,e));v(s,t,r)}))}}),e.exports=m},86:(e,t,r)=>{var n=r(970),i=r(2555),a=r(2317);e.exports=function(e,t,r,o){try{var s=a(e,"return");if(s)return i("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){o(e)}))}catch(e){return o(e)}t(r)}},5817:(e,t,r)=>{"use strict";var n=r(970),i=r(3576),a=r(7981),o=r(3583),s=r(1720),l=r(2669),c=r(6250),u=r(7832),d=r(2555),p=r(2317),h=r(2342),f=r(2549),g=r(7087),v=d("Promise"),m=c("toStringTag"),y="AsyncIteratorHelper",_="WrapForValidAsyncIterator",b=u.set,w=function(e){var t=!e,r=u.getterFor(e?_:y),s=function(e){var n=i((function(){return r(e)})),a=n.error,o=n.value;return a||t&&o.done?{exit:!0,value:a?v.reject(o):v.resolve(f(void 0,!0))}:{exit:!1,value:o}};return l(o(h),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=i((function(){return a(t.nextHandler(v))})),n=r.error,o=r.value;return n&&(t.done=!0),n?v.reject(o):v.resolve(o)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var o,l,c=r.iterator,u=i((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(c,"throw",e)}return p(c,"return")}));return o=l=u.value,u.error?v.reject(l):void 0===o?v.resolve(f(void 0,!0)):(l=(u=i((function(){return n(o,c)}))).value,u.error?v.reject(l):e?v.resolve(l):v.resolve(l).then((function(e){return a(e),f(void 0,!0)})))}})},S=w(!0),C=w(!1);s(C,m,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?_:y,n.nextHandler=e,n.counter=0,n.done=!1,b(this,n)};return r.prototype=t?S:C,r}},9937:(e,t,r)=>{"use strict";var n=r(970),i=r(9573),a=r(7981),o=r(3021),s=r(5396),l=r(2555),c=r(6302),u=r(86),d=function(e){var t=0==e,r=1==e,d=2==e,p=3==e;return function(e,h,f){var g=c(e),v=l("Promise"),m=g.iterator,y=g.next,_=0,b=void 0!==h;return!b&&t||i(h),new v((function(e,i){var l=function(e){u(m,i,e,i)},c=function(){try{if(b)try{s(_)}catch(e){l(e)}v.resolve(a(n(y,m))).then((function(n){try{if(a(n).done)t?(f.length=_,e(f)):e(!p&&(d||void 0));else{var s=n.value;try{if(b){var g=h(s,_),y=function(n){if(r)c();else if(d)n?c():u(m,e,!1,i);else if(t)try{f[_++]=n,c()}catch(e){l(e)}else n?u(m,e,p||s,i):c()};o(g)?v.resolve(g).then(y,l):y(g)}else f[_++]=s,c()}catch(e){l(e)}}}catch(e){i(e)}}),i)}catch(e){i(e)}};c()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},3101:(e,t,r)=>{"use strict";var n=r(970),i=r(9573),a=r(7981),o=r(3021),s=r(6302),l=r(5817),c=r(2549),u=r(86),d=l((function(e){var t=this,r=t.iterator,i=t.mapper;return new e((function(s,l){var d=function(e){t.done=!0,l(e)},p=function(e){u(r,d,e,d)};e.resolve(a(n(t.next,r))).then((function(r){try{if(a(r).done)t.done=!0,s(c(void 0,!0));else{var n=r.value;try{var l=i(n,t.counter++),u=function(e){s(c(e,!1))};o(l)?e.resolve(l).then(u,p):u(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return new d(s(this),{mapper:i(e)})}},2342:(e,t,r)=>{var n,i,o=r(2689),s=r(1703),l=r(9548),c=r(3583),u=r(5616),d=r(9146),p=r(6250),h=r(5231),f="USE_FUNCTION_CONSTRUCTOR",g=p("asyncIterator"),v=o.AsyncIterator,m=s.AsyncIteratorPrototype;if(m)n=m;else if(l(v))n=v.prototype;else if(s[f]||o[f])try{i=u(u(u(a("return async function*(){}()")()))),u(i)===Object.prototype&&(n=i)}catch(e){}n?h&&(n=c(n)):n={},l(n[g])||d(n,g,(function(){return this})),e.exports=n},6784:(e,t,r)=>{var n=r(970),i=r(5817);e.exports=i((function(){return n(this.next,this.iterator)}),!0)},579:(e,t,r)=>{var n=r(7981),i=r(7087);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},2176:(e,t,r)=>{var n=r(6250)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},1335:(e,t,r)=>{var n=r(6619),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},7221:(e,t,r)=>{var n=r(8024),i=r(9548),a=r(1335),o=r(6250)("toStringTag"),s=Object,l="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?a(t):"Object"==(n=a(t))&&i(t.callee)?"Arguments":n}},4361:(e,t,r)=>{var n=r(5835),i=r(313),a=r(7812),o=r(2468);e.exports=function(e,t,r){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];n(e,d)||r&&n(r,d)||l(e,d,c(t,d))}}},1086:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2549:e=>{e.exports=function(e,t){return{value:e,done:t}}},1720:(e,t,r)=>{var n=r(8521),i=r(2468),a=r(3179);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},3179:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9117:(e,t,r)=>{"use strict";var n=r(7880),i=r(2468),a=r(3179);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},4173:(e,t,r)=>{var n=r(9424),i=r(2468);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},9146:(e,t,r)=>{var n=r(9548),i=r(2468),a=r(9424),o=r(4017);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},2669:(e,t,r)=>{var n=r(9146);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},4017:(e,t,r)=>{var n=r(2689),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9580:(e,t,r)=>{"use strict";var n=r(1002),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},8521:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},806:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},7345:(e,t,r)=>{var n=r(2689),i=r(3021),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},5396:e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},3262:(e,t,r)=>{var n=r(350).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},9529:(e,t,r)=>{var n=r(687),i=r(8976);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},687:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},1353:(e,t,r)=>{var n=r(350);e.exports=/MSIE|Trident/.test(n)},4556:(e,t,r)=>{var n=r(350);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},8604:(e,t,r)=>{var n=r(350);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},8976:(e,t,r)=>{var n=r(1335);e.exports="undefined"!=typeof process&&"process"==n(process)},5114:(e,t,r)=>{var n=r(350);e.exports=/web0s(?!.*chrome)/i.test(n)},350:e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9168:(e,t,r)=>{var n,i,a=r(2689),o=r(350),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},2842:(e,t,r)=>{var n=r(350).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},9682:(e,t,r)=>{var n=r(2689);e.exports=function(e){return n[e].prototype}},8288:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1496:(e,t,r)=>{var n=r(6619),i=Error,a=n("".replace),o=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},9431:(e,t,r)=>{var n=r(1720),i=r(1496),a=r(9764),o=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(o?o(e,t):n(e,"stack",i(r,s)))}},9764:(e,t,r)=>{var n=r(9835),i=r(3179);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},5077:(e,t,r)=>{var n=r(2689),i=r(7812).f,a=r(1720),o=r(9146),s=r(4017),l=r(4361),c=r(6724);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[f]||s(f,{}):(n[f]||{}).prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=i(r,u))&&h.value:r[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},9835:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},1552:(e,t,r)=>{"use strict";r(5403);var n=r(3482),i=r(9146),a=r(8627),o=r(9835),s=r(6250),l=r(1720),c=s("species"),u=RegExp.prototype;e.exports=function(e,t,r,d){var p=s(e),h=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!f||r){var g=n(/./[p]),v=t(p,""[e],(function(e,t,r,i,o){var s=n(e),l=t.exec;return l===a||l===u.exec?h&&!o?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(u,p,v[1])}d&&l(u[p],"sham",!0)}},352:(e,t,r)=>{var n=r(9966),i=a.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},8995:(e,t,r)=>{var n=r(3482),i=r(9573),a=r(9966),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},9966:(e,t,r)=>{var n=r(9835);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},970:(e,t,r)=>{var n=r(9966),i=a.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},4046:(e,t,r)=>{var n=r(8521),i=r(5835),o=a.prototype,s=n&&Object.getOwnPropertyDescriptor,l=i(o,"name"),c=l&&"something"===function(){}.name,u=l&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:l,PROPER:c,CONFIGURABLE:u}},2221:(e,t,r)=>{var n=r(6619),i=r(9573);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},3482:(e,t,r)=>{var n=r(1335),i=r(6619);e.exports=function(e){if("Function"===n(e))return i(e)}},6619:(e,t,r)=>{var n=r(9966),i=a.prototype,o=i.call,s=n&&i.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},5968:(e,t,r)=>{var n=r(970),i=r(9548),a=r(7981),o=r(6302),s=r(5569),l=r(2317),c=r(6250),u=r(2429),d=c("asyncIterator");e.exports=function(e){var t,r=a(e),c=!0,p=l(r,d);return i(p)||(p=s(r),c=!1),i(p)?t=n(p,r):(t=r,c=!0),a(t),o(c?t:new u(o(t)))}},6249:(e,t,r)=>{var n=r(970),i=r(2429),a=r(7981),o=r(8631),s=r(6302),l=r(2317),c=r(6250)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?l(e,c):t;return r?a(n(r,e)):new i(s(o(e)))}},2555:(e,t,r)=>{var n=r(2689),i=r(9548);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},6302:(e,t,r)=>{var n=r(9573),i=r(7981);e.exports=function(e){return{iterator:e,next:n(i(e).next)}}},894:(e,t,r)=>{var n=r(970),i=r(9548),a=r(7981),o=r(6302),s=r(5569);e.exports=function(e){var t=a(e),r=s(t);return o(a(i(r)?n(r,t):t))}},5569:(e,t,r)=>{var n=r(7221),i=r(2317),a=r(9799),o=r(807),s=r(6250)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},8631:(e,t,r)=>{var n=r(970),i=r(9573),a=r(7981),o=r(1002),s=r(5569),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw l(o(e)+" is not iterable")}},3849:(e,t,r)=>{var n=r(6619),i=r(1501),a=r(9548),o=r(1335),s=r(9013),l=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?l(r,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||l(r,s(c))}var u=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var n=0;n<u;n++)if(r[n]===e)return t}}}},2317:(e,t,r)=>{var n=r(9573),i=r(9799);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},1958:(e,t,r)=>{var n=r(9573),i=r(7981),a=r(970),o=r(8299),s=TypeError,l=Math.max,c=function(e,t,r,n){this.set=e,this.size=t,this.has=r,this.keys=n};c.prototype={getIterator:function(){return i(a(this.keys,this.set))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw s("Invalid size");return new c(e,l(o(t),0),n(e.has),n(e.keys))}},2754:(e,t,r)=>{var n=r(6619),i=r(18),a=Math.floor,o=n("".charAt),s=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var h=r+e.length,f=n.length,g=u;return void 0!==d&&(d=i(d),g=c),s(p,g,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,h);case"<":c=d[l(s,1,-1)];break;default:var u=+s;if(0===u)return i;if(u>f){var p=a(u/10);return 0===p?i:p<=f?void 0===n[p-1]?o(s,1):n[p-1]+o(s,1):i}c=n[u-1]}return void 0===c?"":c}))}},2689:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||a("return this")()},5835:(e,t,r)=>{var n=r(6619),i=r(18),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},1553:e=>{e.exports={}},7416:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},9856:(e,t,r)=>{var n=r(2555);e.exports=n("document","documentElement")},1910:(e,t,r)=>{var n=r(8521),i=r(9835),a=r(7345);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8763:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,l){var c,u,d,p=t(l),h=8*l-s-1,f=(1<<h)-1,g=f>>1,v=23===s?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,c=f):(c=i(a(e)/o),e*(d=n(2,-c))<1&&(c--,d*=2),(e+=c+g>=1?v/d:v*n(2,1-g))*d>=2&&(c++,d/=2),c+g>=f?(u=0,c=f):c+g>=1?(u=(e*d-1)*n(2,s),c+=g):(u=e*n(2,g-1)*n(2,s),c=0));s>=8;)p[y++]=255&u,u/=256,s-=8;for(c=c<<s|u,h+=s;h>0;)p[y++]=255&c,c/=256,h-=8;return p[--y]|=128*m,p},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,l=a-7,c=i-1,u=e[c--],d=127&u;for(u>>=7;l>0;)d=256*d+e[c--],l-=8;for(r=d&(1<<-l)-1,d>>=-l,l+=t;l>0;)r=256*r+e[c--],l-=8;if(0===d)d=1-s;else{if(d===o)return r?NaN:u?-1/0:1/0;r+=n(2,t),d-=s}return(u?-1:1)*r*n(2,d-t)}}},8582:(e,t,r)=>{var n=r(6619),i=r(9835),a=r(1335),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},3570:(e,t,r)=>{var n=r(9548),i=r(3021),a=r(1672);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},2958:(e,t,r)=>{var n=r(6619),i=r(9548),o=r(1703),s=n(a.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},5016:(e,t,r)=>{var n=r(3021),i=r(1720);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},7832:(e,t,r)=>{var n,i,a,o=r(1894),s=r(2689),l=r(3021),c=r(1720),u=r(5835),d=r(1703),p=r(5923),h=r(1553),f="Object already initialized",g=s.TypeError,v=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw g(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(u(e,y))throw g(f);return t.facade=e,c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},4713:(e,t,r)=>{var n=r(6250),i=r(807),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},1501:(e,t,r)=>{var n=r(1335);e.exports=Array.isArray||function(e){return"Array"==n(e)}},2488:(e,t,r)=>{var n=r(7221);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},9548:(e,t,r)=>{var n=r(806),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},1908:(e,t,r)=>{var n=r(6619),i=r(9835),a=r(9548),o=r(7221),s=r(2555),l=r(2958),c=function(){},u=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),f=!p.exec(c),g=function(e){if(!a(e))return!1;try{return d(c,u,e),!0}catch(e){return!1}},v=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,l(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?v:g},6724:(e,t,r)=>{var n=r(9835),i=r(9548),a=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r==u||r!=c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},3781:(e,t,r)=>{var n=r(3021),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},9799:e=>{e.exports=function(e){return null==e}},3021:(e,t,r)=>{var n=r(9548),i=r(806),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},5231:e=>{e.exports=!1},5781:(e,t,r)=>{var n=r(3021),i=r(1335),a=r(6250)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},7870:(e,t,r)=>{var n=r(2555),i=r(9548),a=r(631),o=r(7079),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},1700:(e,t,r)=>{var n=r(970);e.exports=function(e,t,r){for(var i,a,o=r||e.next;!(i=n(o,e)).done;)if(void 0!==(a=t(i.value)))return a}},4760:(e,t,r)=>{var n=r(8995),i=r(970),a=r(7981),o=r(1002),s=r(4713),l=r(56),c=r(631),u=r(8631),d=r(5569),p=r(7087),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,y,_,b,w,S,C=r&&r.that,I=!(!r||!r.AS_ENTRIES),A=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),T=n(t,C),P=function(e){return v&&p(v,"normal",e),new f(!0,e)},x=function(e){return I?(a(e),E?T(e[0],e[1],P):T(e[0],e[1])):E?T(e,P):T(e)};if(A)v=e.iterator;else if(k)v=e;else{if(!(m=d(e)))throw h(o(e)+" is not iterable");if(s(m)){for(y=0,_=l(e);_>y;y++)if((b=x(e[y]))&&c(g,b))return b;return new f(!1)}v=u(e,m)}for(w=A?e.next:v.next;!(S=i(w,v)).done;){try{b=x(S.value)}catch(e){p(v,"throw",e)}if("object"==typeof b&&b&&c(g,b))return b}return new f(!1)}},7087:(e,t,r)=>{var n=r(970),i=r(7981),a=r(2317);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},4610:(e,t,r)=>{"use strict";var n=r(7357).IteratorPrototype,i=r(3583),a=r(3179),o=r(4029),s=r(807),l=function(){return this};e.exports=function(e,t,r,c){var u=t+" Iterator";return e.prototype=i(n,{next:a(+!c,r)}),o(e,u,!1,!0),s[u]=l,e}},3389:(e,t,r)=>{"use strict";var n=r(970),i=r(3583),a=r(1720),o=r(2669),s=r(6250),l=r(7832),c=r(2317),u=r(7357).IteratorPrototype,d=r(2549),p=r(7087),h=s("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=l.set,m=function(e){var t=l.getterFor(e?g:f);return o(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return d(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var a=c(i,"return");return a?n(a,i):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(e){return p(i,"throw",e)}return p(i,"normal"),d(void 0,!0)}})},y=m(!0),_=m(!1);a(_,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?g:f,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?y:_,r}},5504:(e,t,r)=>{"use strict";var n=r(970),i=r(9573),a=r(7981),o=r(6302),s=r(3389),l=r(579),c=s((function(){var e=this.iterator,t=a(n(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return new c(o(this),{mapper:i(e)})}},7357:(e,t,r)=>{"use strict";var n,i,a,o=r(9835),s=r(9548),l=r(3021),c=r(3583),u=r(5616),d=r(9146),p=r(6250),h=r(5231),f=p("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(n=i):g=!0),!l(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},807:e=>{e.exports={}},56:(e,t,r)=>{var n=r(6443);e.exports=function(e){return n(e.length)}},9424:(e,t,r)=>{var n=r(6619),i=r(9835),o=r(9548),s=r(5835),l=r(8521),c=r(4046).CONFIGURABLE,u=r(2958),d=r(7832),p=d.enforce,h=d.get,f=String,g=Object.defineProperty,v=n("".slice),m=n("".replace),y=n([].join),_=l&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===v(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(l?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&s(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?l&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=p(e);return s(n,"source")||(n.source=y(b,"string"==typeof t?t:"")),e};a.prototype.toString=w((function(){return o(this)&&h(this).source||u(this)}),"toString")},8017:(e,t,r)=>{var n=r(6619),i=Map.prototype;e.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},2707:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},9722:(e,t,r)=>{var n,i,a,o,s,l=r(2689),c=r(8995),u=r(7812).f,d=r(3233).set,p=r(2576),h=r(8604),f=r(4556),g=r(5114),v=r(8976),m=l.MutationObserver||l.WebKitMutationObserver,y=l.document,_=l.process,b=l.Promise,w=u(l,"queueMicrotask"),S=w&&w.value;if(!S){var C=new p,I=function(){var e,t;for(v&&(e=_.domain)&&e.exit();t=C.get();)try{t()}catch(e){throw C.head&&n(),e}e&&e.enter()};h||v||g||!m||!y?!f&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,s=c(o.then,o),n=function(){s(I)}):v?n=function(){_.nextTick(I)}:(d=c(d,l),n=function(){d(I)}):(i=!0,a=y.createTextNode(""),new m(I).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),S=function(e){C.head||n(),C.add(e)}}e.exports=S},9203:(e,t,r)=>{"use strict";var n=r(9573),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},8364:(e,t,r)=>{var n=r(9013);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},9024:e=>{var t=RangeError;e.exports=function(e){if(e==e)return e;throw t("NaN is not allowed")}},3583:(e,t,r)=>{var n,i=r(7981),a=r(4002),o=r(8288),s=r(1553),l=r(9856),c=r(7345),u=r(5923),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(n);for(var i=o.length;i--;)delete m[d][o[i]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[h]=e):r=m(),void 0===t?r:a.f(r,t)}},4002:(e,t,r)=>{var n=r(8521),i=r(6144),a=r(2468),o=r(7981),s=r(7417),l=r(549);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=l(t),c=i.length,u=0;c>u;)a.f(e,r=i[u++],n[r]);return e}},2468:(e,t,r)=>{var n=r(8521),i=r(1910),a=r(6144),o=r(7981),s=r(7880),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7812:(e,t,r)=>{var n=r(8521),i=r(970),a=r(4423),o=r(3179),s=r(7417),l=r(7880),c=r(5835),u=r(1910),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},4161:(e,t,r)=>{var n=r(5147),i=r(8288).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},4644:(e,t)=>{t.f=Object.getOwnPropertySymbols},5616:(e,t,r)=>{var n=r(5835),i=r(9548),a=r(18),o=r(5923),s=r(1086),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},631:(e,t,r)=>{var n=r(6619);e.exports=n({}.isPrototypeOf)},5147:(e,t,r)=>{var n=r(6619),i=r(5835),a=r(7417),o=r(5379).indexOf,s=r(1553),l=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&l(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(u,r)||l(u,r));return u}},549:(e,t,r)=>{var n=r(5147),i=r(8288);e.exports=Object.keys||function(e){return n(e,i)}},4423:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},1672:(e,t,r)=>{var n=r(2221),i=r(7981),a=r(8055);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},6082:(e,t,r)=>{var n=r(970),i=r(9548),a=r(3021),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}},313:(e,t,r)=>{var n=r(2555),i=r(6619),a=r(4161),o=r(4644),s=r(7981),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?l(t,r(e)):t}},1626:(e,t,r)=>{var n=r(2689);e.exports=n},3576:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3984:(e,t,r)=>{var n=r(2689),i=r(9512),a=r(9548),o=r(6724),s=r(2958),l=r(6250),c=r(9529),u=r(687),d=r(5231),p=r(9168),h=i&&i.prototype,f=l("species"),g=!1,v=a(n.PromiseRejectionEvent),m=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===p)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=n,!(g=r.then((function(){}))instanceof n))return!0}return!t&&(c||u)&&!v}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:v,SUBCLASSING:g}},9512:(e,t,r)=>{var n=r(2689);e.exports=n.Promise},2988:(e,t,r)=>{var n=r(7981),i=r(3021),a=r(9203);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},5774:(e,t,r)=>{var n=r(9512),i=r(2176),a=r(3984).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},2756:(e,t,r)=>{var n=r(2468).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},2576:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},8343:(e,t,r)=>{var n=r(970),i=r(7981),a=r(9548),o=r(1335),s=r(8627),l=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var c=n(r,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return n(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},8627:(e,t,r)=>{"use strict";var n,i,a=r(970),o=r(6619),s=r(9013),l=r(9811),c=r(6340),u=r(969),d=r(3583),p=r(7832).get,h=r(7050),f=r(1897),g=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,m=v,y=o("".charAt),_=o("".indexOf),b=o("".replace),w=o("".slice),S=(i=/b*/g,a(v,n=/a/,"a"),a(v,i,"a"),0!==n.lastIndex||0!==i.lastIndex),C=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(S||I||C||h||f)&&(m=function(e){var t,r,n,i,o,c,u,h=this,f=p(h),A=s(e),k=f.raw;if(k)return k.lastIndex=h.lastIndex,t=a(m,k,A),h.lastIndex=k.lastIndex,t;var E=f.groups,T=C&&h.sticky,P=a(l,h),x=h.source,O=0,R=A;if(T&&(P=b(P,"y",""),-1===_(P,"g")&&(P+="g"),R=w(A,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(A,h.lastIndex-1))&&(x="(?: "+x+")",R=" "+R,O++),r=new RegExp("^(?:"+x+")",P)),I&&(r=new RegExp("^"+x+"$(?!\\s)",P)),S&&(n=h.lastIndex),i=a(v,T?r:h,R),T?i?(i.input=w(i.input,O),i[0]=w(i[0],O),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:S&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),I&&i&&i.length>1&&a(g,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&E)for(i.groups=c=d(null),o=0;o<E.length;o++)c[(u=E[o])[0]]=i[u[1]];return i}),e.exports=m},9811:(e,t,r)=>{"use strict";var n=r(7981);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3715:(e,t,r)=>{var n=r(970),i=r(5835),a=r(631),o=r(9811),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:n(o,e)}},6340:(e,t,r)=>{var n=r(9835),i=r(2689).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},7050:(e,t,r)=>{var n=r(9835),i=r(2689).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},1897:(e,t,r)=>{var n=r(9835),i=r(2689).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8602:(e,t,r)=>{var n=r(9799),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},1558:(e,t,r)=>{var n=r(6501),i=r(7717),a=n.Set,o=n.add;e.exports=function(e){var t=new a;return i(e,(function(e){o(t,e)})),t}},3472:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501),a=r(1558),o=r(1255),s=r(1958),l=r(7717),c=r(1700),u=i.has,d=i.remove;e.exports=function(e){var t=n(this),r=s(e),i=a(t);return o(t)<=r.size?l(t,(function(e){r.includes(e)&&d(i,e)})):c(r.getIterator(),(function(e){u(t,e)&&d(i,e)})),i}},6501:(e,t,r)=>{var n=r(6619),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i,$has:i.has,$keys:i.keys}},4228:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501),a=r(1255),o=r(1958),s=r(7717),l=r(1700),c=i.Set,u=i.add,d=i.has,p=i.$has,h=i.$keys;e.exports=function(e){var t,r=n(this),i=o(e),f=new c;if(((t=i).has!==p||t.keys!==h)&&a(r)>i.size){if(l(i.getIterator(),(function(e){d(r,e)&&u(f,e)})),a(f)<2)return f;var g=f;f=new c,s(r,(function(e){d(g,e)&&u(f,e)}))}else s(r,(function(e){i.includes(e)&&u(f,e)}));return f}},9728:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501).has,a=r(1255),o=r(1958),s=r(7717),l=r(1700),c=r(7087);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==l(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},7214:(e,t,r)=>{"use strict";var n=r(8153),i=r(1255),a=r(7717),o=r(1958);e.exports=function(e){var t=n(this),r=o(e);return!(i(t)>r.size)&&!1!==a(t,(function(e){if(!r.includes(e))return!1}),!0)}},6781:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501).has,a=r(1255),o=r(1958),s=r(1700),l=r(7087);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!i(t,e))return l(c,"normal",!1)}))}},7717:(e,t,r)=>{var n=r(6619),i=r(1700),a=r(6501),o=a.Set,s=a.proto,l=n(s.forEach),c=n(s.keys),u=c(new o).next;e.exports=function(e,t,r){return r?i(c(e),t,u):l(e,t)}},4001:(e,t,r)=>{var n=r(2555);e.exports=function(e){try{return(new(n("Set")))[e]({size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}),!0}catch(e){return!1}}},1255:(e,t,r)=>{var n=r(2221),i=r(6501);e.exports=n(i.proto,"size","get")||function(e){return e.size}},7025:(e,t,r)=>{"use strict";var n=r(2555),i=r(4173),a=r(6250),o=r(8521),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},7418:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501),a=r(1558),o=r(1958),s=r(1700),l=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=o(e).getIterator(),i=a(t);return s(r,(function(e){c(t,e)?u(i,e):l(i,e)})),i}},4029:(e,t,r)=>{var n=r(2468).f,i=r(5835),a=r(6250)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},3268:(e,t,r)=>{"use strict";var n=r(8153),i=r(6501).add,a=r(1558),o=r(1958),s=r(1700);e.exports=function(e){var t=n(this),r=o(e).getIterator(),l=a(t);return s(r,(function(e){i(l,e)})),l}},5923:(e,t,r)=>{var n=r(969),i=r(5567),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},1703:(e,t,r)=>{var n=r(2689),i=r(4017),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},969:(e,t,r)=>{var n=r(5231),i=r(1703);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5667:(e,t,r)=>{var n=r(7981),i=r(7663),a=r(9799),o=r(6250)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},4637:(e,t,r)=>{var n=r(6619),i=r(8299),a=r(9013),o=r(8602),s=n("".charAt),l=n("".charCodeAt),c=n("".slice),u=function(e){return function(t,r){var n,u,d=a(o(t)),p=i(r),h=d.length;return p<0||p>=h?e?"":void 0:(n=l(d,p))<55296||n>56319||p+1===h||(u=l(d,p+1))<56320||u>57343?e?s(d,p):n:e?c(d,p,p+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},9133:(e,t,r)=>{"use strict";var n=r(5272).end,i=r(5238);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},5238:(e,t,r)=>{var n=r(4046).PROPER,i=r(9835),a=r(8689);e.exports=function(e){return i((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||n&&a[e].name!==e}))}},5272:(e,t,r)=>{var n=r(6619),i=r(8602),a=r(9013),o=r(8689),s=n("".replace),l=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),u=function(e){return function(t){var r=a(i(t));return 1&e&&(r=s(r,l,"")),2&e&&(r=s(r,c,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},4427:(e,t,r)=>{var n=r(9168),i=r(9835);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3233:(e,t,r)=>{var n,i,a,o,s=r(2689),l=r(352),c=r(8995),u=r(9548),d=r(5835),p=r(9835),h=r(9856),f=r(7687),g=r(7345),v=r(1150),m=r(8604),y=r(8976),_=s.setImmediate,b=s.clearImmediate,w=s.process,S=s.Dispatch,C=s.Function,I=s.MessageChannel,A=s.String,k=0,E={},T="onreadystatechange";p((function(){n=s.location}));var P=function(e){if(d(E,e)){var t=E[e];delete E[e],t()}},x=function(e){return function(){P(e)}},O=function(e){P(e.data)},R=function(e){s.postMessage(A(e),n.protocol+"//"+n.host)};_&&b||(_=function(e){v(arguments.length,1);var t=u(e)?e:C(e),r=f(arguments,1);return E[++k]=function(){l(t,void 0,r)},i(k),k},b=function(e){delete E[e]},y?i=function(e){w.nextTick(x(e))}:S&&S.now?i=function(e){S.now(x(e))}:I&&!m?(o=(a=new I).port2,a.port1.onmessage=O,i=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(R)?(i=R,s.addEventListener("message",O,!1)):i=T in g("script")?function(e){h.appendChild(g("script"))[T]=function(){h.removeChild(this),P(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:_,clear:b}},3610:(e,t,r)=>{var n=r(8299),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},710:(e,t,r)=>{var n=r(3912),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},1169:(e,t,r)=>{var n=r(8299),i=r(6443),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw a("Wrong length or index");return r}},7417:(e,t,r)=>{var n=r(8582),i=r(8602);e.exports=function(e){return n(i(e))}},8299:(e,t,r)=>{var n=r(2707);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},6443:(e,t,r)=>{var n=r(8299),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},18:(e,t,r)=>{var n=r(8602),i=Object;e.exports=function(e){return i(n(e))}},3092:(e,t,r)=>{var n=r(6382),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},6382:(e,t,r)=>{var n=r(8299),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},3912:(e,t,r)=>{var n=r(970),i=r(3021),a=r(7870),o=r(2317),s=r(6082),l=r(6250),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7880:(e,t,r)=>{var n=r(3912),i=r(7870);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},8024:(e,t,r)=>{var n={};n[r(6250)("toStringTag")]="z",e.exports="[object z]"===String(n)},9013:(e,t,r)=>{var n=r(7221),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},1002:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9919:(e,t,r)=>{"use strict";var n=r(5077),i=r(2689),a=r(970),o=r(8521),s=r(3471),l=r(7854),c=r(819),u=r(3949),d=r(3179),p=r(1720),h=r(3781),f=r(6443),g=r(1169),v=r(3092),m=r(7880),y=r(5835),_=r(7221),b=r(3021),w=r(7870),S=r(3583),C=r(631),I=r(1672),A=r(4161).f,k=r(8382),E=r(8250).forEach,T=r(7025),P=r(4173),x=r(2468),O=r(7812),R=r(7832),M=r(3570),D=R.get,N=R.set,L=R.enforce,B=x.f,$=O.f,F=Math.round,j=i.RangeError,W=c.ArrayBuffer,U=W.prototype,V=c.DataView,q=l.NATIVE_ARRAY_BUFFER_VIEWS,z=l.TYPED_ARRAY_TAG,G=l.TypedArray,H=l.TypedArrayPrototype,K=l.aTypedArrayConstructor,Q=l.isTypedArray,J="BYTES_PER_ELEMENT",X="Wrong length",Y=function(e,t){K(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},Z=function(e,t){P(e,t,{configurable:!0,get:function(){return D(this)[t]}})},ee=function(e){var t;return C(U,e)||"ArrayBuffer"==(t=_(e))||"SharedArrayBuffer"==t},te=function(e,t){return Q(e)&&!w(t)&&t in e&&h(+t)&&t>=0},re=function(e,t){return t=m(t),te(e,t)?d(2,e[t]):$(e,t)},ne=function(e,t,r){return t=m(t),!(te(e,t)&&b(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?B(e,t,r):(e[t]=r.value,e)};o?(q||(O.f=re,x.f=ne,Z(H,"buffer"),Z(H,"byteOffset"),Z(H,"byteLength"),Z(H,"length")),n({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var o=e.match(/\d+/)[0]/8,l=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,h=i[l],m=h,y=m&&m.prototype,_={},w=function(e,t){B(e,t,{get:function(){return function(e,t){var r=D(e);return r.view[c](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=D(e);r&&(n=(n=F(n))<0?0:n>255?255:255&n),i.view[d](t*o+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};q?s&&(m=t((function(e,t,r,n){return u(e,y),M(b(t)?ee(t)?void 0!==n?new h(t,v(r,o),n):void 0!==r?new h(t,v(r,o)):new h(t):Q(t)?Y(m,t):a(k,m,t):new h(g(t)),e,m)})),I&&I(m,G),E(A(h),(function(e){e in m||p(m,e,h[e])})),m.prototype=y):(m=t((function(e,t,r,n){u(e,y);var i,s,l,c=0,d=0;if(b(t)){if(!ee(t))return Q(t)?Y(m,t):a(k,m,t);i=t,d=v(r,o);var p=t.byteLength;if(void 0===n){if(p%o)throw j(X);if((s=p-d)<0)throw j(X)}else if((s=f(n)*o)+d>p)throw j(X);l=s/o}else l=g(t),i=new W(s=l*o);for(N(e,{buffer:i,byteOffset:d,byteLength:s,length:l,view:new V(i)});c<l;)w(e,c++)})),I&&I(m,G),y=m.prototype=S(H)),y.constructor!==m&&p(y,"constructor",m),L(y).TypedArrayConstructor=m,z&&p(y,z,l);var C=m!=h;_[l]=m,n({global:!0,constructor:!0,forced:C,sham:!q},_),J in m||p(m,J,o),J in y||p(y,J,o),T(l)}):e.exports=function(){}},3471:(e,t,r)=>{var n=r(2689),i=r(9835),a=r(2176),o=r(7854).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new s(2),1,void 0).length}))},8382:(e,t,r)=>{var n=r(8995),i=r(970),a=r(7663),o=r(18),s=r(56),l=r(8631),c=r(5569),u=r(4713),d=r(2488),p=r(7854).aTypedArrayConstructor,h=r(710);e.exports=function(e){var t,r,f,g,v,m,y,_,b=a(this),w=o(e),S=arguments.length,C=S>1?arguments[1]:void 0,I=void 0!==C,A=c(w);if(A&&!u(A))for(_=(y=l(w,A)).next,w=[];!(m=i(_,y)).done;)w.push(m.value);for(I&&S>2&&(C=n(C,arguments[2])),r=s(w),f=new(p(b))(r),g=d(f),t=0;r>t;t++)v=I?C(w[t],t):w[t],f[t]=g?h(v):+v;return f}},5567:(e,t,r)=>{var n=r(6619),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},7079:(e,t,r)=>{var n=r(4427);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6144:(e,t,r)=>{var n=r(8521),i=r(9835);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1150:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},1894:(e,t,r)=>{var n=r(2689),i=r(9548),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},1274:(e,t,r)=>{var n=r(1626),i=r(5835),a=r(7411),o=r(2468).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},7411:(e,t,r)=>{var n=r(6250);t.f=n},6250:(e,t,r)=>{var n=r(2689),i=r(969),a=r(5835),o=r(5567),s=r(4427),l=r(7079),c=n.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),u[e]}},8689:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},884:(e,t,r)=>{"use strict";var n=r(2555),i=r(5835),a=r(1720),o=r(631),s=r(1672),l=r(4361),c=r(2756),u=r(3570),d=r(8364),p=r(5016),h=r(9431),f=r(8521),g=r(5231);e.exports=function(e,t,r,v){var m="stackTraceLimit",y=v?2:1,_=e.split("."),b=_[_.length-1],w=n.apply(null,_);if(w){var S=w.prototype;if(!g&&i(S,"cause")&&delete S.cause,!r)return w;var C=n("Error"),I=t((function(e,t){var r=d(v?t:e,void 0),n=v?new w(e):new w;return void 0!==r&&a(n,"message",r),h(n,I,n.stack,2),this&&o(S,this)&&u(n,this,I),arguments.length>y&&p(n,arguments[y]),n}));if(I.prototype=S,"Error"!==b?s?s(I,C):l(I,C,{name:!0}):f&&m in w&&(c(I,w,m),c(I,w,"prepareStackTrace")),l(I,w),!g)try{S.name!==b&&a(S,"name",b),S.constructor=I}catch(e){}return I}}},2894:(e,t,r)=>{var n=r(5077),i=r(2555),a=r(352),o=r(9835),s=r(884),l="AggregateError",c=i(l),u=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],l,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(l,(function(e){return function(t,r){return a(e,this,arguments)}}),u,!0)})},6598:(e,t,r)=>{"use strict";var n=r(5077),i=r(631),a=r(5616),o=r(1672),s=r(4361),l=r(3583),c=r(1720),u=r(3179),d=r(5016),p=r(9431),h=r(4760),f=r(8364),g=r(6250)("toStringTag"),v=Error,m=[].push,y=function(e,t){var r,n=i(_,this);o?r=o(v(),n?a(this):_):(r=n?this:l(_),c(r,g,"Error")),void 0!==t&&c(r,"message",f(t)),p(r,y,r.stack,1),arguments.length>2&&d(r,arguments[2]);var s=[];return h(e,m,{that:s}),c(r,"errors",s),r};o?o(y,v):s(y,v,{name:!0});var _=y.prototype=l(v.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:y})},4006:(e,t,r)=>{r(6598)},3665:(e,t,r)=>{"use strict";var n=r(5077),i=r(3482),a=r(9835),o=r(819),s=r(7981),l=r(3610),c=r(6443),u=r(5667),d=o.ArrayBuffer,p=o.DataView,h=p.prototype,f=i(d.prototype.slice),g=i(h.getUint8),v=i(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var r=s(this).byteLength,n=l(e,r),i=l(void 0===t?r:t,r),a=new(u(this,d))(c(i-n)),o=new p(this),h=new p(a),m=0;n<i;)v(h,m++,g(o,n++));return a}})},6291:(e,t,r)=>{"use strict";var n=r(5077),i=r(18),a=r(56),o=r(8299),s=r(4014);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},2495:(e,t,r)=>{"use strict";var n=r(5077),i=r(3792).findLastIndex,a=r(4014);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},2933:(e,t,r)=>{"use strict";var n=r(5077),i=r(3792).findLast,a=r(4014);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},628:(e,t,r)=>{"use strict";var n=r(5077),i=r(18),a=r(56),o=r(3447),s=r(5396);n({target:"Array",proto:!0,arity:1,forced:r(9835)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;s(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return o(t,r),r}})},611:(e,t,r)=>{"use strict";var n=r(5077),i=r(6619),a=r(1501),o=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},503:(e,t,r)=>{"use strict";var n=r(5077),i=r(6203),a=r(7417),o=r(4014),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),s)}}),o("toReversed")},624:(e,t,r)=>{"use strict";var n=r(5077),i=r(6619),a=r(9573),o=r(7417),s=r(113),l=r(9682),c=r(4014),u=Array,d=i(l("Array").sort);n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),r=s(u,t);return d(r,e)}}),c("toSorted")},9349:(e,t,r)=>{"use strict";var n=r(5077),i=r(4014),a=r(5396),o=r(56),s=r(3610),l=r(7417),c=r(8299),u=Array,d=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,h,f=l(this),g=o(f),v=s(e,g),m=arguments.length,y=0;for(0===m?r=n=0:1===m?(r=0,n=g-v):(r=m-2,n=p(d(c(t),0),g-v)),i=a(g+r-n),h=u(i);y<v;y++)h[y]=f[y];for(;y<v+r;y++)h[y]=arguments[y-v+2];for(;y<i;y++)h[y]=f[y+n-r];return h}}),i("toSpliced")},3823:(e,t,r)=>{r(4014)("flatMap")},4166:(e,t,r)=>{r(4014)("flat")},922:(e,t,r)=>{"use strict";var n=r(5077),i=r(18),a=r(56),o=r(3447),s=r(9580),l=r(5396);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){l(r+n);for(var c=r;c--;){var u=c+n;c in t?t[u]=t[c]:s(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,r+n)}})},1398:(e,t,r)=>{"use strict";var n=r(5077),i=r(4784),a=r(7417),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),o,e,t)}})},5932:(e,t,r)=>{var n=r(5077),i=r(2689),a=r(352),o=r(884),s="WebAssembly",l=i[s],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(l&&l[e]){var r={};r[e]=o(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},3194:(e,t,r)=>{var n=r(5077),i=r(2689);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},3322:(e,t,r)=>{var n=r(5077),i=r(2555),a=r(352),o=r(970),s=r(6619),l=r(9835),c=r(9548),u=r(7870),d=r(7687),p=r(3849),h=r(4427),f=String,g=i("JSON","stringify"),v=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),_=s("".replace),b=s(1..toString),w=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,I=!h||l((function(){var e=i("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),A=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),k=function(e,t){var r=d(arguments),n=p(t);if(c(n)||void 0!==e&&!u(e))return r[1]=function(e,t){if(c(n)&&(t=o(n,this,f(e),t)),!u(t))return t},a(g,null,r)},E=function(e,t,r){var n=m(r,t-1),i=m(r,t+1);return v(S,e)&&!v(C,i)||v(C,e)&&!v(S,n)?"\\u"+b(y(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:I||A},{stringify:function(e,t,r){var n=d(arguments),i=a(I?k:g,null,n);return A&&"string"==typeof i?_(i,w,E):i}})},9219:(e,t,r)=>{var n=r(5077),i=r(4760),a=r(9117);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},9696:(e,t,r)=>{r(5077)({target:"Object",stat:!0},{hasOwn:r(5835)})},4371:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(9203),s=r(3576),l=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,i(r,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--c||n(o))}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--c||n(o))}))})),--c||n(o)}));return u.error&&c(u.value),r.promise}})},890:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(9203),s=r(3576),l=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,i(r,t,e).then((function(e){l||(l=!0,o[a]=e,--u||n(o))}),c)})),--u||n(o)}));return u.error&&c(u.value),r.promise}})},5422:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(2555),s=r(9203),l=r(3576),c=r(4760),u=r(5774),d="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),u=n.resolve,p=n.reject,h=l((function(){var n=a(t.resolve),o=[],s=0,l=1,h=!1;c(e,(function(e){var a=s++,c=!1;l++,i(n,t,e).then((function(e){c||h||(h=!0,u(e))}),(function(e){c||h||(c=!0,o[a]=e,--l||p(new r(o,d)))}))})),--l||p(new r(o,d))}));return h.error&&p(h.value),n.promise}})},4745:(e,t,r)=>{"use strict";var n=r(5077),i=r(5231),a=r(3984).CONSTRUCTOR,o=r(9512),s=r(2555),l=r(9548),c=r(9146),u=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(o)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},1546:(e,t,r)=>{"use strict";var n,i,a,o=r(5077),s=r(5231),l=r(8976),c=r(2689),u=r(970),d=r(9146),p=r(1672),h=r(4029),f=r(7025),g=r(9573),v=r(9548),m=r(3021),y=r(3949),_=r(5667),b=r(3233).set,w=r(9722),S=r(7416),C=r(3576),I=r(2576),A=r(7832),k=r(9512),E=r(3984),T=r(9203),P="Promise",x=E.CONSTRUCTOR,O=E.REJECTION_EVENT,R=E.SUBCLASSING,M=A.getterFor(P),D=A.set,N=k&&k.prototype,L=k,B=N,$=c.TypeError,F=c.document,j=c.process,W=T.f,U=W,V=!!(F&&F.createEvent&&c.dispatchEvent),q="unhandledrejection",z=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},G=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&X(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?c($("Promise-chain cycle")):(n=z(r))?u(n,r,l,c):l(r)):c(a)}catch(e){d&&!i&&d.exit(),c(e)}},H=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,n=e.reactions;r=n.get();)G(r,e);e.notified=!1,t&&!e.rejection&&Q(e)})))},K=function(e,t,r){var n,i;V?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!O&&(i=c["on"+e])?i(n):e===q&&S("Unhandled promise rejection",r)},Q=function(e){u(b,c,(function(){var t,r=e.facade,n=e.value;if(J(e)&&(t=C((function(){l?j.emit("unhandledRejection",n,r):K(q,r,n)})),e.rejection=l||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},X=function(e){u(b,c,(function(){var t=e.facade;l?j.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Y=function(e,t,r){return function(n){e(t,n,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,H(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw $("Promise can't be resolved itself");var n=z(t);n?w((function(){var r={done:!1};try{u(n,t,Y(ee,r,e),Y(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,H(e,!1))}catch(t){Z({done:!1},t,e)}}};if(x&&(B=(L=function(e){y(this,B),g(e),u(n,this);var t=M(this);try{e(Y(ee,t),Y(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(B,"then",(function(e,t){var r=M(this),n=W(_(this,L));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=l?j.domain:void 0,0==r.state?r.reactions.add(n):w((function(){G(n,r)})),n.promise})),i=function(){var e=new n,t=M(e);this.promise=e,this.resolve=Y(ee,t),this.reject=Y(Z,t)},T.f=W=function(e){return e===L||undefined===e?new i(e):U(e)},!s&&v(k)&&N!==Object.prototype)){a=N.then,R||d(N,"then",(function(e,t){var r=this;return new L((function(e,t){u(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}p&&p(N,B)}o({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:L}),h(L,P,!1,!0),f(P)},3366:(e,t,r)=>{"use strict";var n=r(5077),i=r(5231),a=r(9512),o=r(9835),s=r(2555),l=r(9548),c=r(5667),u=r(2988),d=r(9146),p=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=l(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&l(a)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},2167:(e,t,r)=>{r(1546),r(890),r(4745),r(4947),r(8237),r(8085)},4947:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(9203),s=r(3576),l=r(4760);n({target:"Promise",stat:!0,forced:r(5774)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},8237:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9203);n({target:"Promise",stat:!0,forced:r(3984).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},8085:(e,t,r)=>{"use strict";var n=r(5077),i=r(2555),a=r(5231),o=r(9512),s=r(3984).CONSTRUCTOR,l=r(2988),c=i("Promise"),u=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},3517:(e,t,r)=>{var n=r(5077),i=r(2689),a=r(4029);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},5403:(e,t,r)=>{"use strict";var n=r(5077),i=r(8627);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},909:(e,t,r)=>{var n=r(2689),i=r(8521),a=r(4173),o=r(9811),s=r(9835),l=n.RegExp,c=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&a(c,"flags",{configurable:!0,get:o})},4744:(e,t,r)=>{"use strict";var n=r(5077),i=r(6619),a=r(8602),o=r(8299),s=r(9013),l=r(9835),c=i("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(t,i)}})},164:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(3482),o=r(4610),s=r(2549),l=r(8602),c=r(6443),u=r(9013),d=r(7981),p=r(9799),h=r(1335),f=r(5781),g=r(3715),v=r(2317),m=r(9146),y=r(9835),_=r(6250),b=r(5667),w=r(5563),S=r(8343),C=r(7832),I=r(5231),A=_("matchAll"),k="RegExp String",E=k+" Iterator",T=C.set,P=C.getterFor(E),x=RegExp.prototype,O=TypeError,R=a("".indexOf),M=a("".matchAll),D=!!M&&!y((function(){M("a",/./)})),N=o((function(e,t,r,n){T(this,{type:E,regexp:e,string:t,global:r,unicode:n,done:!1})}),k,(function(){var e=P(this);if(e.done)return s(void 0,!0);var t=e.regexp,r=e.string,n=S(t,r);return null===n?(e.done=!0,s(void 0,!0)):e.global?(""===u(n[0])&&(t.lastIndex=w(r,c(t.lastIndex),e.unicode)),s(n,!1)):(e.done=!0,s(n,!1))})),L=function(e){var t,r,n,i=d(this),a=u(e),o=b(i,RegExp),s=u(g(i));return t=new o(o===RegExp?i.source:i,s),r=!!~R(s,"g"),n=!!~R(s,"u"),t.lastIndex=c(i.lastIndex),new N(t,a,r,n)};n({target:"String",proto:!0,forced:D},{matchAll:function(e){var t,r,n,a,o=l(this);if(p(e)){if(D)return M(o,e)}else{if(f(e)&&(t=u(l(g(e))),!~R(t,"g")))throw O("`.matchAll` does not allow non-global regexes");if(D)return M(o,e);if(void 0===(n=v(e,A))&&I&&"RegExp"==h(e)&&(n=L),n)return i(n,e,o)}return r=u(o),a=new RegExp(e,"g"),I?i(L,a,r):a[A](r)}}),I||A in x||m(x,A,L)},4481:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(6619),o=r(8602),s=r(9548),l=r(9799),c=r(5781),u=r(9013),d=r(2317),p=r(3715),h=r(2754),f=r(6250),g=r(5231),v=f("replace"),m=TypeError,y=a("".indexOf),_=a("".replace),b=a("".slice),w=Math.max,S=function(e,t,r){return r>e.length?-1:""===t?r:y(e,t,r)};n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,f,C,I,A,k,E,T=o(this),P=0,x=0,O="";if(!l(e)){if((r=c(e))&&(n=u(o(p(e))),!~y(n,"g")))throw m("`.replaceAll` does not allow non-global regexes");if(a=d(e,v))return i(a,e,T,t);if(g&&r)return _(u(T),e,t)}for(f=u(T),C=u(e),(I=s(t))||(t=u(t)),A=C.length,k=w(1,A),P=S(f,C,0);-1!==P;)E=I?u(t(C,P,f)):h(C,f,P,[],void 0,t),O+=b(f,x,P)+E,x=P+A,P=S(f,C,P+k);return x<f.length&&(O+=b(f,x)),O}})},1943:(e,t,r)=>{"use strict";var n=r(352),i=r(970),a=r(6619),o=r(1552),s=r(9835),l=r(7981),c=r(9548),u=r(9799),d=r(8299),p=r(6443),h=r(9013),f=r(8602),g=r(5563),v=r(2317),m=r(2754),y=r(8343),_=r(6250)("replace"),b=Math.max,w=Math.min,S=a([].concat),C=a([].push),I=a("".indexOf),A=a("".slice),k="$0"==="a".replace(/./,"$0"),E=!!/./[_]&&""===/./[_]("a","$0");o("replace",(function(e,t,r){var a=E?"$":"$0";return[function(e,r){var n=f(this),a=u(e)?void 0:v(e,_);return a?i(a,e,n,r):i(t,h(n),e,r)},function(e,i){var o=l(this),s=h(e);if("string"==typeof i&&-1===I(i,a)&&-1===I(i,"$<")){var u=r(t,o,s,i);if(u.done)return u.value}var f=c(i);f||(i=h(i));var v=o.global;if(v){var _=o.unicode;o.lastIndex=0}for(var k=[];;){var E=y(o,s);if(null===E)break;if(C(k,E),!v)break;""===h(E[0])&&(o.lastIndex=g(s,p(o.lastIndex),_))}for(var T,P="",x=0,O=0;O<k.length;O++){for(var R=h((E=k[O])[0]),M=b(w(d(E.index),s.length),0),D=[],N=1;N<E.length;N++)C(D,void 0===(T=E[N])?T:String(T));var L=E.groups;if(f){var B=S([R],D,M,s);void 0!==L&&C(B,L);var $=h(n(i,void 0,B))}else $=m(R,s,M,D,L,i);M>=x&&(P+=A(s,x,M)+$,x=M+R.length)}return P+A(s,x)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||E)},5149:(e,t,r)=>{r(4458);var n=r(5077),i=r(9133);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},4458:(e,t,r)=>{var n=r(5077),i=r(9133);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},9228:(e,t,r)=>{"use strict";var n=r(5077),i=r(5272).trim;n({target:"String",proto:!0,forced:r(5238)("trim")},{trim:function(){return i(this)}})},889:(e,t,r)=>{"use strict";var n=r(5077),i=r(8521),a=r(2689),o=r(6619),s=r(5835),l=r(9548),c=r(631),u=r(9013),d=r(4173),p=r(4361),h=a.Symbol,f=h&&h.prototype;if(i&&l(h)&&(!("description"in f)||void 0!==h().description)){var g={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(f,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};p(v,h),v.prototype=f,f.constructor=v;var m="Symbol(test)"==String(h("test")),y=o(f.valueOf),_=o(f.toString),b=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),S=o("".slice);d(f,"description",{configurable:!0,get:function(){var e=y(this);if(s(g,e))return"";var t=_(e),r=m?S(t,7,-1):w(t,b,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},9778:(e,t,r)=>{r(1274)("matchAll")},7841:(e,t,r)=>{"use strict";var n=r(7854),i=r(56),a=r(8299),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},5906:(e,t,r)=>{"use strict";var n=r(7854),i=r(5035),a=r(710),o=r(7221),s=r(970),l=r(6619),c=r(9835),u=n.aTypedArray,d=n.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},5822:(e,t,r)=>{"use strict";var n=r(7854),i=r(3792).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},3719:(e,t,r)=>{"use strict";var n=r(7854),i=r(3792).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},2815:(e,t,r)=>{r(9919)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},5595:(e,t,r)=>{r(9919)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},1189:(e,t,r)=>{"use strict";var n=r(3471);(0,r(7854).exportTypedArrayStaticMethod)("from",r(8382),n)},8931:(e,t,r)=>{r(9919)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},3209:(e,t,r)=>{r(9919)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},950:(e,t,r)=>{r(9919)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},7017:(e,t,r)=>{"use strict";var n=r(7854),i=r(3471),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},9589:(e,t,r)=>{"use strict";var n=r(2689),i=r(970),a=r(7854),o=r(56),s=r(3092),l=r(18),c=r(9835),u=n.RangeError,d=n.Int8Array,p=d&&d.prototype,h=p&&p.set,f=a.aTypedArray,g=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(v)return i(h,this,r,t);var n=this.length,a=o(r),c=0;if(a+t>n)throw u("Wrong length");for(;c<a;)this[t+c]=r[c++]}),!v||m)},5428:(e,t,r)=>{"use strict";var n=r(2689),i=r(3482),a=r(9835),o=r(9573),s=r(2026),l=r(7854),c=r(3262),u=r(1353),d=r(9168),p=r(2842),h=l.aTypedArray,f=l.exportTypedArrayMethod,g=n.Uint16Array,v=g&&i(g.prototype.sort),m=!(!v||a((function(){v(new g(2),null)}))&&a((function(){v(new g(2),{})}))),y=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},6706:(e,t,r)=>{"use strict";var n=r(6203),i=r(7854),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},3002:(e,t,r)=>{"use strict";var n=r(7854),i=r(6619),a=r(9573),o=r(113),s=n.aTypedArray,l=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=o(l(t),t);return u(r,e)}))},6469:(e,t,r)=>{r(9919)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4730:(e,t,r)=>{r(9919)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},968:(e,t,r)=>{r(9919)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},55:(e,t,r)=>{r(9919)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},9303:(e,t,r)=>{"use strict";var n=r(4784),i=r(7854),a=r(2488),o=r(8299),s=r(710),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),i=o(e),u=a(r)?s(t):+t;return n(r,c(r),i,u)}}.with,!d)},4570:(e,t,r)=>{r(4006)},1339:(e,t,r)=>{r(6291)},3785:(e,t,r)=>{r(2495)},472:(e,t,r)=>{r(2933)},5957:(e,t,r)=>{r(5077)({target:"Array",stat:!0},{fromAsync:r(778)})},27:(e,t,r)=>{var n=r(5077),i=r(6732),a=r(4014),o=r(5931);n({target:"Array",proto:!0,name:"groupToMap",forced:r(5231)||!i("groupByToMap")},{groupByToMap:o}),a("groupByToMap")},8569:(e,t,r)=>{"use strict";var n=r(5077),i=r(9639),a=r(6732),o=r(4014);n({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},146:(e,t,r)=>{var n=r(5077),i=r(4014),a=r(5931);n({target:"Array",proto:!0,forced:r(5231)},{groupToMap:a}),i("groupToMap")},3924:(e,t,r)=>{"use strict";var n=r(5077),i=r(9639),a=r(4014);n({target:"Array",proto:!0},{group:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},699:(e,t,r)=>{r(503)},5544:(e,t,r)=>{r(624)},7712:(e,t,r)=>{r(9349)},7515:(e,t,r)=>{r(1398)},2048:(e,t,r)=>{"use strict";var n=r(5077),i=r(3949),a=r(1720),o=r(5835),s=r(6250),l=r(2342),c=r(5231),u=s("toStringTag"),d=function(){i(this,l)};d.prototype=l,o(l,u)||a(l,u,"AsyncIterator"),!c&&o(l,"constructor")&&l.constructor!==Object||a(l,"constructor",d),n({global:!0,constructor:!0,forced:c},{AsyncIterator:d})},3818:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(7981),o=r(6302),s=r(9024),l=r(6382),c=r(5817),u=r(2549),d=c((function(e){var t=this;return new e((function(r,n){var o=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(a(i(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new d(o(this),{remaining:l(s(+e))})}})},1199:(e,t,r)=>{"use strict";var n=r(5077),i=r(9937).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return i(this,e)}})},8973:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(7981),s=r(3021),l=r(6302),c=r(5817),u=r(2549),d=r(86),p=c((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},p=function(e){d(r,c,e,c)},h=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),d=function(e){e?a(u(i,!1)):h()};s(l)?e.resolve(l).then(d,p):d(l)}catch(e){p(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}};h()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new p(l(this),{predicate:a(e)})}})},8360:(e,t,r)=>{"use strict";var n=r(5077),i=r(9937).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return i(this,e)}})},8294:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(7981),s=r(3021),l=r(6302),c=r(5817),u=r(2549),d=r(5968),p=r(86),h=c((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},h=function(e){p(r,c,e,c)},f=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),p=function(e){try{t.inner=d(e),g()}catch(e){h(e)}};s(l)?e.resolve(l).then(p,h):p(l)}catch(e){h(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(o(i(r.next,r.iterator))).then((function(e){try{o(e).done?(t.inner=null,f()):a(u(e.value,!1))}catch(e){h(e)}}),h)}catch(e){h(e)}else f()};g()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new h(l(this),{mapper:a(e),inner:null})}})},5358:(e,t,r)=>{"use strict";var n=r(5077),i=r(9937).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return i(this,e)}})},4255:(e,t,r)=>{var n=r(5077),i=r(18),a=r(631),o=r(5968),s=r(2342),l=r(6784);n({target:"AsyncIterator",stat:!0},{from:function(e){var t=o("string"==typeof e?i(e):e);return a(s,t.iterator)?t.iterator:new l(t)}})},7022:(e,t,r)=>{r(5077)({target:"AsyncIterator",proto:!0,real:!0},{map:r(3101)})},3586:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(7981),s=r(3021),l=r(2555),c=r(6302),u=r(86),d=l("Promise"),p=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var t=c(this),r=t.iterator,n=t.next,l=arguments.length<2,h=l?void 0:arguments[1],f=0;return a(e),new d((function(t,a){var c=function(e){u(r,a,e,a)},g=function(){try{d.resolve(o(i(n,r))).then((function(r){try{if(o(r).done)l?a(p("Reduce of empty iterator with no initial value")):t(h);else{var n=r.value;if(l)l=!1,h=n,g();else try{var i=e(h,n,f),u=function(e){h=e,g()};s(i)?d.resolve(i).then(u,c):u(i)}catch(e){c(e)}}f++}catch(e){a(e)}}),a)}catch(e){a(e)}};g()}))}})},3588:(e,t,r)=>{"use strict";var n=r(5077),i=r(9937).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return i(this,e)}})},6570:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(7981),o=r(6302),s=r(9024),l=r(6382),c=r(5817),u=r(2549),d=c((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var o=u(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(i(t,n,void 0)).then((function(){return o})):o}return e.resolve(i(r.next,n)).then((function(e){return a(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new d(o(this),{remaining:l(s(+e))})}})},281:(e,t,r)=>{"use strict";var n=r(5077),i=r(9937).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},289:(e,t,r)=>{"use strict";var n=r(5077),i=r(8521),a=r(2555),o=r(9573),s=r(3949),l=r(9146),c=r(2669),u=r(4173),d=r(6250),p=r(7832),h=r(6539),f=a("SuppressedError"),g=ReferenceError,v=d("dispose"),m=d("toStringTag"),y="DisposableStack",_=p.set,b=p.getterFor(y),w="sync-dispose",S="disposed",C=y+" already disposed",I=function(){_(s(this,A),{type:y,state:"pending",stack:[]}),i||(this.disposed=!1)},A=I.prototype;c(A,{dispose:function(){var e=b(this);if(e.state!=S){e.state=S,i||(this.disposed=!0);for(var t,r=e.stack,n=r.length,a=!1;n;){var o=r[--n];r[n]=null;try{o()}catch(e){a?t=new f(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){var t=b(this);if(t.state==S)throw g(C);return h(t,e,w),e},adopt:function(e,t){var r=b(this);if(r.state==S)throw g(C);return o(t),h(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=b(this);if(t.state==S)throw g(C);o(e),h(t,void 0,w,e)},move:function(){var e=b(this);if(e.state==S)throw g(C);var t=new I;return b(t).stack=e.stack,e.stack=[],t}}),i&&u(A,"disposed",{configurable:!0,get:function(){return b(this).state==S}}),l(A,v,A.dispose,{name:"dispose"}),l(A,m,y,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:I})},1313:(e,t,r)=>{r(3194)},6032:(e,t,r)=>{"use strict";var n=r(5077),i=r(2689),a=r(3949),o=r(9548),s=r(1720),l=r(9835),c=r(5835),u=r(6250),d=r(7357).IteratorPrototype,p=r(5231),h=u("toStringTag"),f=i.Iterator,g=p||!o(f)||f.prototype!==d||!l((function(){f({})})),v=function(){a(this,d)};c(d,h)||s(d,h,"Iterator"),!g&&c(d,"constructor")&&d.constructor!==Object||s(d,"constructor",v),v.prototype=d,n({global:!0,constructor:!0,forced:g},{Iterator:v})},1865:(e,t,r)=>{"use strict";var n=r(970),i=r(9146),a=r(2317),o=r(5835),s=r(6250),l=r(7357).IteratorPrototype,c=s("dispose");o(l,c)||i(l,c,(function(){var e=a(this,"return");e&&n(e,this)}))},3182:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(7981),o=r(6302),s=r(9024),l=r(6382),c=r(3389)((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=a(i(r,t)),this.done=!!e.done)return;if(e=a(i(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new c(o(this),{remaining:l(s(+e))})}})},6936:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{every:function(e){var t=o(this),r=0;return a(e),!i(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7217:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(7981),s=r(6302),l=r(3389),c=r(579),u=l((function(){for(var e,t,r=this.iterator,n=this.predicate,a=this.next;;){if(e=o(i(a,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new u(s(this),{predicate:a(e)})}})},2491:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{find:function(e){var t=o(this),r=0;return a(e),i(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},8215:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(9573),o=r(7981),s=r(6302),l=r(894),c=r(3389),u=r(7087),d=c((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=o(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=o(i(this.next,r)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++))}catch(e){u(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new d(s(this),{mapper:a(e),inner:null})}})},7153:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){var t=o(this),r=0;a(e),i(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},7279:(e,t,r)=>{var n=r(5077),i=r(970),a=r(18),o=r(631),s=r(7357).IteratorPrototype,l=r(3389),c=r(894),u=l((function(){return i(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0},{from:function(e){var t=c("string"==typeof e?a(e):e);return o(s,t.iterator)?t.iterator:new u(t)}})},9833:(e,t,r)=>{r(5077)({target:"Iterator",proto:!0,real:!0},{map:r(5504)})},9183:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(9573),o=r(6302),s=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){var t=o(this);a(e);var r=arguments.length<2,n=r?void 0:arguments[1],l=0;if(i(t,(function(t){r?(r=!1,n=t):n=e(n,t,l),l++}),{IS_RECORD:!0}),r)throw s("Reduce of empty iterator with no initial value");return n}})},6916:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(9573),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{some:function(e){var t=o(this),r=0;return a(e),i(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9988:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(7981),o=r(6302),s=r(9024),l=r(6382),c=r(3389),u=r(7087),d=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=a(i(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0},{take:function(e){return new d(o(this),{remaining:l(s(+e))})}})},1716:(e,t,r)=>{"use strict";var n=r(5077),i=r(4760),a=r(6302),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return i(a(this),o,{that:e,IS_RECORD:!0}),e}})},673:(e,t,r)=>{"use strict";var n=r(5077),i=r(2429),a=r(6784),o=r(6302);n({target:"Iterator",proto:!0,real:!0},{toAsync:function(){return new a(o(new i(o(this))))}})},2858:(e,t,r)=>{r(9696)},332:(e,t,r)=>{r(4371)},5475:(e,t,r)=>{r(5422)},5628:(e,t,r)=>{var n=r(5077),i=r(3472);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("difference")},{difference:i})},5827:(e,t,r)=>{var n=r(5077),i=r(4228);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("intersection")},{intersection:i})},1361:(e,t,r)=>{var n=r(5077),i=r(9728);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isDisjointFrom")},{isDisjointFrom:i})},5996:(e,t,r)=>{var n=r(5077),i=r(7214);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isSubsetOf")},{isSubsetOf:i})},6366:(e,t,r)=>{var n=r(5077),i=r(6781);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("isSupersetOf")},{isSupersetOf:i})},7151:(e,t,r)=>{var n=r(5077),i=r(7418);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("symmetricDifference")},{symmetricDifference:i})},1903:(e,t,r)=>{var n=r(5077),i=r(3268);n({target:"Set",proto:!0,real:!0,forced:!r(4001)("union")},{union:i})},977:(e,t,r)=>{"use strict";var n=r(5077),i=r(6619),a=r(8602),o=r(9013),s=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(a(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},3680:(e,t,r)=>{r(164)},6194:(e,t,r)=>{r(4481)},532:(e,t,r)=>{"use strict";var n=r(5077),i=r(970),a=r(6619),o=r(8602),s=r(9013),l=r(9835),c=Array,u=a("".charAt),d=a("".charCodeAt),p=a([].join),h="".toWellFormed,f=h&&l((function(){return"1"!==i(h,1)}));n({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=s(o(this));if(f)return i(h,e);for(var t=e.length,r=c(t),n=0;n<t;n++){var a=d(e,n);55296!=(63488&a)?r[n]=u(e,n):a>=56320||n+1>=t||56320!=(64512&d(e,n+1))?r[n]="�":(r[n]=u(e,n),r[++n]=u(e,n))}return p(r,"")}})},6753:(e,t,r)=>{"use strict";var n=r(5077),i=r(631),a=r(5616),o=r(1672),s=r(4361),l=r(3583),c=r(1720),u=r(3179),d=r(9431),p=r(8364),h=r(6250)("toStringTag"),f=Error,g=function(e,t,r){var n,s=i(v,this);return o?n=o(f(),s?a(this):v):(n=s?this:l(v),c(n,h,"Error")),void 0!==r&&c(n,"message",p(r)),d(n,g,n.stack,1),c(n,"error",e),c(n,"suppressed",t),n};o?o(g,f):s(g,f,{name:!0});var v=g.prototype=l(f.prototype,{constructor:u(1,g),message:u(1,""),name:u(1,"SuppressedError")});n({global:!0,constructor:!0,arity:3},{SuppressedError:g})},7835:(e,t,r)=>{r(1274)("dispose")},9321:(e,t,r)=>{r(7841)},2804:(e,t,r)=>{r(5822)},959:(e,t,r)=>{r(3719)},4775:(e,t,r)=>{r(6706)},2170:(e,t,r)=>{r(3002)},978:(e,t,r)=>{"use strict";var n=r(7854),i=r(56),a=r(2488),o=r(3610),s=r(710),l=r(8299),c=r(9835),u=n.aTypedArray,d=n.getTypedArrayConstructor,p=n.exportTypedArrayMethod,h=Math.max,f=Math.min;p("toSpliced",(function(e,t){var r,n,c,p,g,v,m,y=u(this),_=d(y),b=i(y),w=o(e,b),S=arguments.length,C=0;if(0===S)r=n=0;else if(1===S)r=0,n=b-w;else if(n=f(h(l(t),0),b-w),r=S-2){p=new _(r),c=a(p);for(var I=2;I<S;I++)g=arguments[I],p[I-2]=c?s(g):+g}for(m=new _(v=b+r-n);C<w;C++)m[C]=y[C];for(;C<w+r;C++)m[C]=p[C-w];for(;C<v;C++)m[C]=y[C+n-r];return m}),!!c((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},3807:(e,t,r)=>{r(9303)},4844:(e,t,r)=>{var n=r(5803);n.keys().forEach((e=>{c[e.substr(2)]=n(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(889),r(9778),r(5932),r(4006),r(2894),r(6291),r(2933),r(2495),r(628),r(611),r(4166),r(3823),r(922),r(3665),r(3194),r(3322),r(9219),r(9696),r(2167),r(4371),r(5422),r(3366),r(3517),r(909),r(4744),r(164),r(1943),r(4481),r(9228),r(5149),r(2815),r(5595),r(950),r(8931),r(3209),r(968),r(55),r(6469),r(4730),r(7841),r(5906),r(3719),r(5822),r(1189),r(7017),r(9589),r(5428),r(4570),r(1339),r(472),r(3785),r(1313),r(2858),r(332),r(5475),r(3680),r(6194),r(9321),r(959),r(2804),r(6753),r(5957),r(3924),r(8569),r(27),r(146),r(699),r(5544),r(7712),r(7515),r(2048),r(3818),r(1199),r(8973),r(8360),r(8294),r(5358),r(4255),r(7022),r(3586),r(3588),r(6570),r(281),r(289),r(6032),r(1865),r(3182),r(6936),r(7217),r(2491),r(8215),r(7153),r(7279),r(9833),r(9183),r(6916),r(9988),r(1716),r(673),r(5628),r(5827),r(1361),r(5996),r(6366),r(7151),r(1903),r(977),r(532),r(7835),r(4775),r(2170),r(978),r(3807);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform)"ios"===r.g.__wxConfig.platform.toLowerCase()&&(e=!0);else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var t=navigator.userAgent.toLowerCase();(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&(e=!0)}var n=[];e&&(r.g.Promise=void 0,n.push("Promise")),r(2844)({usePolyfill:n,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var u=!1,d=function(e){e()},p,h;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{e.d(t,{default:()=>rt});var n={};e.r(n),e.d(n,{convertToErrorObj:()=>Y,emitFrameworkError:()=>re,emitUnhandledError:()=>ne,emitUnhandledRejection:()=>Z,onFrameworkError:()=>ae,onUnhandledError:()=>oe,onUnhandledRejection:()=>ie});var o=e.g.__wxLibrary,s=e.g.__wxConfig,l=o.envType,c=o.contextType,u="Service"===l,d="WebView"===l,h="Worker"===l,f=d||u&&0===c.indexOf("App:"),g=u&&0===c.indexOf("Game:"),m=!!s.isIsolateContext,y=m&&u&&c.indexOf("MainContext")>=0,w=m&&u&&c.indexOf("SubContext")>=0,S=w&&c.indexOf("Safe")>=0,C=y||w,I="wxlib"===s.workerContentType,A=d||y||S||I,k=function(e,t){var r=s.platform;if(!r&&"string"==typeof(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)){var n=window.navigator.userAgent.toLowerCase();n.indexOf("devtools")>=0?r="devtools":n.indexOf("miniprogramenv/windows")>=0?r="windows":n.indexOf("miniprogramenv/mac")>=0?r="mac":n.indexOf("miniprogramenv/mina")>=0?r="mina":n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?r="ios":n.indexOf("android")>=0&&(r="android")}return(r||"unknown").toLowerCase()}(),E=r,P=void 0===E||"develop"===E.version?"9.9.9":E.version,x=!!o.mayHaveSnapshot,O=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const R={platform:k,SDKVersion:P,isIsolateContext:C,isGame:g,isApp:f,isMainContext:y,isSubContext:w,isSafeEnv:A,isService:u,isWebView:d,isWorker:h,isWidget:!1,typeStr:w?"SubContext":l,fileName:o.fileName,isWXLibWorker:I,workerType:"user",contextName:"",mayHaveSnapShot:x,isWKGame:!!O};var M=()=>{},D="devtools"===R.platform;"undefined"!=typeof performance&&performance.now;function N(e,t=(()=>M)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function L(){var t=p||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var B=()=>{},$=["log","info","warn","error","debug"];const F=N($);var j=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],W=(()=>{var e=N(j);return e})();const U=W;var V=Symbol("error"),q=Symbol("slow");class z{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(V,e),this}onSlow(e){return this.onInternalEvent(q,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>z.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(q,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(V,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}z.SLOW_CALLBACK_THRESHOLD=50;var G=new z,H="unhandlederror",K="unhandledrejection",Q="frameworkerror",J=new WeakMap;var X=Object.prototype.hasOwnProperty;function Y(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function Z(e,t){e=Y(e),$e.onLoad((()=>{G.emit(K,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var ee=!1,te=!1;function re(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Y(e),p.isSnapshoting)throw e;$e.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive framework error detected.",e);else{ee=!0;try{G.emit(Q,e)||ne(e)}catch(e){console.error("Framework",e)}ee=!1}}))}function ne(e){if(e=Y(e),p.isSnapshoting)throw e;$e.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{te=!0;try{G.emit(H,e)||("windows"!==p.platform&&"mac"!==p.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==p.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}te=!1}}))}function ie(e){G.on(K,e)}function ae(e){G.on(Q,e)}function oe(e){G.on(H,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener?(e.addEventListener("unhandledrejection",(e=>{Z(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;ne(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;X.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(J.has(r)||setTimeout((()=>{var e=J.get(r);0===(null==e?void 0:e.type)&&Z(e.reason,e.promise),J.delete(r)}),0),J.set(r,t))):Z(e.reason,e.promise)}})}(e.g);var se,le=JSON.parse,ce=JSON.stringify,ue=9782784e5;function de(e){return le(ce(e))}function pe(e){e.platform=R.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=R.SDKVersion,e.isReady=!1,e.onReady=$e.onStart}function he(e){var t;pe(e),R.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(t=r.debugOptions)||void 0===t?void 0:t.overwriteExpt;n&&(e.expt=Object.assign(e.expt||{},n))}function fe(e){if(he(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+ue-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var i=n.split("&").filter((e=>0===e.indexOf("ts=")));i.length>0&&(r=parseInt(i[0].slice(3),10))}catch(e){re(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ge=!(null===(se=r.features)||void 0===se||!se.pruneWxConfigByPage),ve=Object.defineProperty,me=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,n){ve(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{var e;F.warn("[__wxConfig usage] developer uses __wxConfig."+r),"function"==typeof(null===(e=T)||void 0===e?void 0:e.reportKeyValue)&&T.reportKeyValue({key:"DeprecatedAPI",value:"__wxConfig."+r,force:!0})}catch(e){re(e,"report __wxConfig usage")}try{return"function"!=typeof n?n:n()}catch(e){return void re(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var _e=R.isSafeEnv,be=Object.create(null),we=R.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return Reflect.set(e,t,r,n);var i=Reflect.get(e,"__siblings__",n);return Array.isArray(i)?(i.length>1&&F.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`),i.forEach((e=>{Reflect.set(e,t,r)})),!0):Reflect.set(e,t,r,n)}})}(be):be,Se=e=>{},Ce="wxConfig:updatePage";function Ie(t,r=!1){return Se(!1),be.currentPhase="onStart",void 0===t||(r?(Object.assign(be,t),Object.defineProperty(be,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(be,_e?t:de(t)),fe(be),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var i=t.subPackages||t.subpackages;Array.isArray(i)&&i.length>0&&(i.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=i),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ge&&(R.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(be,((e,t)=>{$e.emit(Ce,{key:e,value:t})})),Object.defineProperty(be,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(be.__siblings__)&&be.__siblings__.push(be),be.onPageUpdate((({key:e,value:t})=>{be.page=be.page||{},be.page[e]=be.page[e+".html"]=t,n&&(n[e+".html"]=de(t))})),_e||(n=function(){var t=e.g.__wxConfig,r={},n={},i=ge?{}:t.page||{};try{ye(n,r,"deprecated",!0),me.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":ye(n,r,e,i);break;case"env":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":ye(n,r,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),wx&&"function"==typeof wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(n,r,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:ye(n,r,e,a)}}})),e.g.__wxConfig=n}catch(r){re(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return i}())),we;var n}var Ae=new z,ke=new z,Ee={},Te="WeixinJSBridgeReady",Pe="libraryEnd",xe="load",Oe="postLoad",Re="start",Me="postStart";function De(e,t){var r=void 0!==_,n=()=>{try{r&&_.traceBegin("Framework",`LibLifeCycle.${e} @ ${R.fileName}`),t(Ee[e])}catch(t){re(t,"LifeCycle."+e)}finally{r&&_.traceEnd()}};e in Ee?n():ke.once(e,n)}function Ne(e,t){var r,n;if(e in Ee)return!1;Ee[e]=t,null===(r=v)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${R.fileName}`);var i=ke.emit(e,t);return null===(n=v)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${R.fileName}`),i}var Le,Be=e=>{R.mayHaveSnapShot?De(xe,e):e()},$e={EventEmitter:z,on:Ae.on.bind(Ae),emit:Ae.emit.bind(Ae),once:Ae.once.bind(Ae),getIsLoaded:()=>xe in Ee,getIsStarted:()=>Re in Ee,onBridgeReady(e){De(Te,e)},setWeixinJSBridge(e){Ne(Te,e)},onLibraryEnd:De.bind(null,Pe),onCreate(e){e()},onLoadInstant:Be,onLoad:Be,_onPostLoad:De.bind(null,Oe),onStart:De.bind(null,Re),onPostStart:De.bind(null,Me)};ke.onError(((e,t)=>{F.error(`[LifeCycle/${R.typeStr}] ${e.toString()} failed: `,t),re(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{U.warn(`[LifeCycle/${R.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){Ne(Pe),R.mayHaveSnapShot||We()},Le=e.g.__wxConfig,be.currentPhase="onCreate",void 0===Le||(Se(!1),Object.assign(be,_e?Le:de(Le)),pe(be),Se(!0));var Fe=!1,je=!1;function We(){Fe||je?re(new Error(`LifeCycle error: undesired onLoad(${Fe}/${je})`)):(Fe=!0,p=function(e){return be.currentPhase="onLoad",void 0===e||(Se(!1),Object.assign(be,_e?e:de(e)),be.onPageUpdate=$e.on.bind(null,Ce),he(be),Se(!0)),we}(e.g.__wxConfig),Ne(xe,p),R.isSubContext?p.__readyHandler=e=>{Ue(e,!0)}:!0===p.preload?$e.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ue(e.g.__wxConfig)}))})):$e.onLibraryEnd((()=>{Ue(e.g.__wxConfig)})),Ne(Oe,p))}function Ue(e,t=!1){if(Fe&&!je){je=!0;var r=Date.now();"onReadyStart"in(p=Ie(e,t))||(p.onReadyStart=r),Ne(Re,p),p.onReadyEnd=Date.now(),Ne(Me,p)}else re(new Error(`LifeCycle error: undesired onStart(${Fe}/${je})`))}(p=we).isSnapshoting?(R.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,p.isSnapshoting=!1,We()}}):R.mayHaveSnapShot&&$e.onLibraryEnd(We);class Ve{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:B}}var qe={ALL:new Ve(Number.MIN_VALUE,"ALL"),DEBUG:new Ve(5e3,"DEBUG",console.debug),LOG:new Ve(1e4,"LOG",console.log),INFO:new Ve(2e4,"INFO",console.info),WARN:new Ve(3e4,"WARN",console.warn),ERROR:new Ve(4e4,"ERROR",console.error),OFF:new Ve(Number.MAX_VALUE,"OFF")},ze=(e,t)=>({debug:e(qe.DEBUG,t),log:e(qe.LOG,t),info:e(qe.INFO,t),warn:e(qe.WARN,t),error:e(qe.ERROR,t)}),Ge=qe.INFO,He=(()=>{if(R.isWorker||R.isWidget){return Object.assign({createLogger:function(){return F}},F)}return R.isSubContext&&R.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=v.__isFromMainContext?v.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},$e.onStart(r),{...ze(t),createLogger:e=>ze(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=R.platform,t="android"!==e,r=[],n=function(t){var r=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),o=("0"+t.getSeconds()).slice(-2),s=("00"+t.getMilliseconds()).slice(-3),l=t.getFullYear()+"-"+r+"-"+n,c=i+":"+a+":"+o+"."+s;return"ios"===e?l+" "+c+"000"+(t.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(t.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+c},i=function(t){"android"!==e?b.invoke("systemLog",{dataArray:t.map((e=>({message:`\n${n(e.date)} [${e.level.type[0].toUpperCase()}][wxapplib]] ${e.content}`})))}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,n){return function(...o){var s;if(n&&Array.prototype.unshift.call(o,"["+n+"]"),(L()||e.num>=qe.WARN.num)&&(null===(s=F[e.type.toLowerCase()])||void 0===s||s.call(F,...o)),e.num>=Ge.num){var l=Array.prototype.slice.call(o).map(a).join(" ");if(t){var c=new Date;r&&r.length>1024&&r.shift(),r.push({date:c,level:e,content:l})}else i([{level:e,content:l}])}}};return $e.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(i(r),r=[])}),4e3)})),{...ze(o),createLogger:function(e){return ze(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;o(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();$e.onLoad((()=>{He.info(`[BaseLibVersion] ${R.fileName}: ${r.version} (${r.updateTime})}`)}));const Ke=He;const Qe=N(["log","info","warn","error"],(e=>function(...t){(D||L())&&console[e]("[system]",...t)}));var Je;function Xe(){return Je||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}$e.onLoad((()=>{Je=Xe()}));var Ye=Object.create(null);Object.defineProperty(Ye,"WebAssembly",{enumerable:!0,get:Xe});const Ze=Ye;var et=e.g,tt={env:R,global:et,get isConfigReady(){return $e.getIsStarted()},get isStarted(){return $e.getIsStarted()},get isLoaded(){return $e.getIsLoaded()},...$e,...n,wxConsole:F,wxPerfConsole:U,wxNativeConsole:Ke,libConsole:Qe,libGlobal:Ze,globalShare:{}};void 0!==i&&(a=function(){return"return this"===arguments[arguments.length-1]?function(){return et}:new i(...arguments)},a.prototype=i.prototype);const rt=tt})(),h=t.default})();var f=h.wxConsole,g=h.wxPerfConsole,v=h.wxNativeConsole,m=h.libConsole,y=h.libGlobal,_,b,w,S,C,I,A,k,E,T,P,x;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>n});var r={traceBegin(){},traceEnd(){},traceInstant(){}};h.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):v.warn("[Trace] TraceGlobal not found")}));const n=r})(),_=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>z});class r{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}}class n{constructor(e=0){this.id=e,this.$={}}add(e){var t=this.id++;return"function"==typeof e&&(this.$[t]=e),t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class i{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t)}}class o{constructor(e){this.onNewEvent=e,this.$={},this.$e=new h.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}var s=()=>{},l=JSON.parse,c=JSON.stringify,u="custom_event_",d=0,f=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function g(t){var r=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),a=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=s),h.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:s,invokeThirdHandler:s},d=1<<25),e.g.WeixinJSCore={invokeHandler:s,publishHandler:s,setTimerHandler:s,clearTimerHandler:s},t}(),o=new n(d),g=new i,v=new i;function m(e,t){if(void 0!==e&&o.has(t)&&""!==e&&null!==e){if("string"==typeof e)try{e=l(e),e=S.unpack(e)}catch(t){e={}}o.callAndRemove(t,e)}}var y={},_={},b=0;function w(e,t,r){var n,i=++b;y[i]=r;try{n=a.invokeThirdHandler(e,t,i)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof y[i]&&""!==n&&null!==n){if("string"==typeof n)try{n=l(n)}catch(e){n={}}var o=y[i];delete y[i],"function"==typeof o&&o(n)}}var C=function(e,t){_[e]=t},I=(e,t)=>{var r=_[e];r&&r(t)},A=(e,t,r,n)=>{var i=y[e];delete y[e],"function"==typeof i&&i(t)};return{invoke(e,n,i,s={}){var l=n;s.keepOriginalParams||t.directInvokeJS||(s.notPack?delete s.notPack:n=S.pack(n),("ios"!==p.platform||f||1!==Number(p.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(l=c(n||{}))),delete s.keepOriginalParams;var u=o.add(i);return s.highPerformance&&(s.highPerformance[u]=n,delete s.highPerformance),function(e,n,i,o={}){if(a){var s,l;m("splashad"===h.env.workerType||p.supportInvokeWithAppId?null===(s=a.invokeHandler)||void 0===s?void 0:s.call(a,e,n,i,o):null===(l=a.invokeHandler)||void 0===l?void 0:l.call(a,e,n,i),i)}else{var u={event:e,paramsString:n,callbackId:i,privateArgs:c(o)};if(t.isWebMiniGame)m(prompt("webgame_invoke",c(u)),i);else{var d=null==r?void 0:r.messageHandlers.invokeHandler.postMessage(u);null!=d&&d.catch&&d.catch((t=>{var r=console.error.bind(console);r("webkit.messageHandlers.invokeHandler.postMessage fail"),r(`event=${e}`),r("params=",n),r("err=",t),r("err.code=",t.code),r("err.message=",t.message),r("err.name=",t.name)}))}}}(e,l,u,s),u},on(e,t){g.set(e,t)},subscribe(e,t){v.set(u+e,t)},publish(e,n,i){e=u+e;var o=i,s=n;t.directInvokeJS||(s=c(n),o=c(i)),function(e,t,n){if(a){var i;null===(i=a.publishHandler)||void 0===i||i.call(a,e,t,n)}else{var o=null==r?void 0:r.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:n});null!=o&&o.catch&&o.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,s,o)},invokeCallbackHandler:function(e,t){t=S.unpack(t),o.callAndRemove(e,t)},subscribeHandler:function(e,t,r,n){t=S.unpack(t),-1!==e.indexOf(u)?v.emit(e,t,r,n||{}):g.emit(e,t,r,n||{})},get invokeThird(){return w},get onThird(){return C},get subscribeThirdHandler(){return I},get invokeThirdCallbackHandler(){return A}}}var m=!0,y={},_={},w=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);h.onPostStart((()=>{m=!1,y={},_={}}));var C=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var I=null;var A=new r,k=A.ready.bind(A),E=new o(((e,t)=>{C.has(e)?k((r=>{r.on(e,t.emitCancelable.bind(t,e))})):k((r=>{r.on(e,t.emit.bind(t,e))}))})),T=()=>{},P=[],x={on(e,t){C.has(e)?E.add(e,t):E.setSingle(e,t)},addEventListener(e,t,r){E.add(e,t,r)},removeEventListener(e,t){E.remove(e,t)},invoke(e,t,r,n={}){var i=!0,a=!1,o=[],s=e=>{for(var t of(a||(i=!1),o))t(e,i);null==r||r(e)};if(I){var l=e=>{o.push(e)};for(var c of P){var u=c(e,t,l);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}I.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return a=!0,i},pureInvoke:(e,t,r,n={})=>I.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=I)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=I)||void 0===e?void 0:e.subscribeHandler},publish:T,subscribe:T,addSubscribeListener:T,removeSubscribeListener:T,addInvokeInterceptor(e){return P.push(e),this},get invokeThird(){var e;return null===(e=I)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=I)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null}};h.onLoad((()=>{!function(t){if(!("devtools"===h.env.platform&&!h.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){var r=g({directInvokeJS:!!p.wmpfDirectInvokeJs,isWebMiniGame:!!p.isWK}),n={get invokeCallbackHandler(){return r.invokeCallbackHandler},get subscribeHandler(){return r.subscribeHandler},get subscribeThirdHandler(){return r.subscribeThirdHandler},get invokeThirdCallbackHandler(){return r.invokeThirdCallbackHandler}};return p.clientDebug&&h.onLibraryEnd((()=>{Object.assign(n,{on:x.on,publish:x.publish,invoke:x.invoke,subscribe:x.subscribe}),e.g.WeixinJSBridge=n})),e.g.WeixinJSBridge=n,t(r,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{I=t,r&&e.g.WeixinJSBridge===b&&Object.keys(t).forEach((e=>{e in x||(x[e]=(...r)=>t[e](...r))})),A.done(I)}))})),x.addInvokeInterceptor((e=>{if(!h.isStarted&&"splashad"!==h.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(m&&w.has(e)){if(e in y)return y[e];if(e in _)return _[e];if(w.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete _[e],y[e]=r)}))}));_[e]=n}}}));class O{constructor(e){this.onMessage=e}dispatch(e,t,r,n={}){var i;null===(i=this.onMessage)||void 0===i||i.call(this,e,t,r,n)}}class R extends O{publish(e,t,r=[]){var n=function(e=[]){if(Array.isArray(e)){var t=e.filter((e=>null!=e));if(0===e.length||0!==t.length)return t;v.error("[publish] unexpected broadcast detected, aborted.")}}(r);n?0===n.length?this.broadcast(e,t):this.multicast(e,t,n):v.error(`[publish] invalid target: ${r.join(",")} (event=${e})`)}}class M extends R{constructor(e,t){super(t),this.$=void 0,this._hasFirstTarget=!1,this._pendingBroadCast=[],this.$=e}cb(e,t,r,n={}){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.flushBroadCast(),this.$.publish(e,t,[r])}multicast(e,t,r=[]){this.flushBroadCast(),this.$.publish(e,t,r)}broadcast(e,t){this._hasFirstTarget?this.$.publish(e,t,[]):this._pendingBroadCast.push([e,t])}flushBroadCast(){if(!this._hasFirstTarget){for(var[e,t]of(this._hasFirstTarget=!0,this._pendingBroadCast))this.broadcast(e,t);this._pendingBroadCast=[]}}registerEvent(e){this.$.subscribe(e,this.cb.bind(this,e))}addClient(e){}adoptPending(e,t){}}class D{constructor(e,t){this.$=e,this.onMessage=t,this.isServer=void 0,this.$.setMessageListener(this.selfId,this.cb.bind(this)),this.isServer=this.selfId===this.serverId,this.updateGroup()}get selfId(){return this.$.id}get serverId(){return this.$.serviceId}get version(){return this.$.version}waitserverId(e){this.isServer||this.serverId?e(this.serverId):h.onStart((()=>{e(this.serverId)}))}resetId(e){this.$.setMessageListener(),this.$.setMessageListener(e,this.cb.bind(this)),this.$.id=e,this.updateGroup()}pack(e,t){return{event:e,param:t,id:this.selfId,sendTime:Date.now()}}postMessage(e,t,r){this.$.postMessage(r,this.pack(e,t))}multicast(e,t,r){for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.waitserverId((r=>{this.$.broadcastMessage(r,this.pack(e,t))}))}updateGroup(){this.isServer||this.waitserverId((e=>{this.$.addGroup(e,this.selfId)}))}cb(e){this.onMessage(e.event,e.param,e.id,{nativeTime:e.sendTime||Date.now()})}}class N extends R{constructor(e,t){super(t),this.$=void 0,this.clients=new Set,this.pending=new Map,this.$=new D(e,this.cb.bind(this)),v.info(`[NTrans/Server] init ${e.id}(${e.version})`)}cb(e,t,r,n){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.$.postMessage(e,t,r)}multicast(e,t,r){if((r=r.filter((r=>{if(this.clients.has(r))return!0;var n=this.pending.get(r);return n?Date.now()-n.initTime>3e5?n.queue=[]:n.queue.push([e,t]):this.pending.set(r,{initTime:Date.now(),queue:[[e,t]]}),!1}))).length>0)for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.$.broadcast(e,t)}registerEvent(e){}flushQueue(e){var t=this.pending.get(e);if(t)for(var[r,n]of t.queue)this.postMessage(r,n,e);this.pending.delete(e)}addClient(e){this.clients.add(e),this.flushQueue(e)}adoptPending(e,t){var r=this.pending.get(e);r&&(this.pending.set(t,r),this.pending.delete(e))}}var L=String.prototype.replace,B=/["'\\]/g;new Map;var $=Symbol("error"),F=Symbol("slow");class j{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent($,e),this}onSlow(e){return this.onInternalEvent(F,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>j.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(F,e,s,l,o.cb)}catch(t){if(!this.emitPrivate($,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}j.SLOW_CALLBACK_THRESHOLD=50;var W=new r,U=new r,V=function(e,t,r){var n=new o((e=>{r.ready((t=>{t.registerEvent(e)}))}));return e.subscribe=function(e,t){n.setSingle(e,t)},e.addSubscribeListener=function(e,t){n.add(e,t)},e.removeSubscribeListener=function(e,t){n.remove(e,t)},e.publish=function(e,r,n){var i;i=e||"",e=L.call(i,B,""),t.ready((t=>{t.publish(e,r,n||[])}))},n.emit.bind(n)}(x,W,U);x.clientManager=new j;var q="[MsgCh/Server]";k((t=>{var r,n,i,a=(r=e.g.ntrans,i=!1,(n="object"==typeof r)&&(i=!!r.serviceId,h.onStart((()=>{i=!!r.serviceId,delete e.g.ntrans}))),{ntrans:r,selfId:n?r.id:void 0,serverEnabled:n,clientEnabled:n,get serviceIdReady(){return i}}),o=a.serverEnabled;var s=new M(t,V);h.onStart((()=>{W.hasValue()||(v.info(q,"preinitMessageChannel (jsbridge)"),W.done(s))}));var l=!0;t.subscribe("jsbridge:SYNC",((r,n)=>{var i;if(n=null!==(i=r.id)&&void 0!==i?i:n,v.info(q,`recv SYNC from ${n}, publish ACK @ ${Date.now()}`),l){l=!1,a.clientEnabled=!!r.enableNTrans,o=function(t){var r=t.clientEnabled&&t.serverEnabled,n=r&&t.serviceIdReady;return e.g.__nativeTransEnabled__=n,r&&!t.serviceIdReady&&h.emitFrameworkError(new Error("Empty ntrans serverId"),"NTrans"),"android"!==p.platform||n||v.warn(`nTrans disabled. (server: ${t.serverEnabled}, client: ${t.clientEnabled})`),n}(a),v.info(q,`initMessageChannel (ntrans=${o})`);var c=o?new N(a.ntrans,V):s;c!==s&&s.flushBroadCast(),W.done(c),U.done(c)}!function(e){t.publish("jsbridge:ACK",{enableNTrans:o,id:a.selfId},[e])}(n),x.clientManager.emit("clientConnected",n,r.extra),W.ready((e=>{e.addClient(n)}))})),x.clientManager.on("clientIdChanged",((e,r)=>{v.info(q,`clientID changed ${e} -> ${r}, publish ACK @ ${Date.now()}`),t.publish("jsbridge:RESET",{newClientId:r},[r]),W.ready((t=>{t.adoptPending(e,r)}))}))})),h.setWeixinJSBridge(x);const z=x;b=t.default})(),(()=>{var e={26:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(e,t,r){var n=d;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return x()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=u(e,t,r);if("normal"===l.type){if(n=r.done?f:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=f,r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",g={};function v(){}function m(){}function y(){}var _={};_[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==r&&n.call(w,a)&&(_=w);var S=y.prototype=v.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,o,s){var l=u(e[i],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function A(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=u(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:x}}function x(){return{value:t,done:!0}}return m.prototype=S.constructor=y,y.constructor=m,m.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},C(I.prototype),I.prototype[o]=function(){return this},e.AsyncIterator=I,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new I(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),l(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{w=t}catch(e){a("r","regeneratorRuntime = r")(t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{r(26);var e=()=>{var e={};Object.keys(w).forEach((t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>w[t],set(r){delete e[t],e[t]=r}})})),globalThis.regeneratorRuntime=e};"function"==typeof p.onReady?p.onReady((t=>{"devtools"===t.platform||["develop","trial"].includes(t.envVersion)||e()})):e()})()})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>b});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,a=0;a<i;a++)t+=String.fromCharCode(n[a]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,i=String(e),a="",o=0,s=r;i.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&t>>8-o%1*8)){if((n=i.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return a}(t)}function i(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var i,a,o=0,s=0;a=t.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?n+=String.fromCharCode(255&i>>(-2*o&6)):0)a=r.indexOf(a);return n}(e),n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i.buffer}var a,o=p.platform,s="ios"===o,l="android"===o||"windows"===o||"mac"===o||"mina"===o;s&&(a=e.g.WeixinNativeBuffer);var c=null;function u(e,t=!1){var r={};if(c&&!t){var i=!1,a=Object.getPrototypeOf(e);a!==ArrayBuffer.prototype&&(i=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=c.create(e),i&&Object.setPrototypeOf(e,a)}else r.base64=n(e);return r}function d(e){if(null!=e)return c&&void 0!==e.id?c.get(e.id):void 0!==e.base64?i(e.base64):void 0}h.onLoad((()=>{c=function(e){var t=a,r=e.getNativeBufferId,n=e.setNativeBuffer,i=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return l&&"function"==typeof r&&"function"==typeof n&&"function"==typeof i&&p.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>i(e),useCompatibleMode(){}}:s&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var f=Object.prototype.toString;function g(e){return"[object Array]"===f.call(e)}function v(e){return"[object ArrayBuffer]"===f.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],i=e,a=0;a<r.length-1;a++){if(!i)return null;i=i[r[a]]}return[i,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,i=function(e,r,a=[]){var o,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var l in e){var c=e[l];if(o=c,"[object Object]"===f.call(o)||g(c)){var d=[...a];d.push(l),i(c,r,d)}else if(v(c)){if(e._sabId)continue;var p=u(c,t),h=Array.prototype.concat.call(a,l).join(".");p.key=h,delete e[l],r.push(p)}}};return i(e,r),r}(e,r);else{for(var i in n=[],e){var a=e[i];if(v(a)){var o=u(a,r);o.key=i,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function _(e,t=!1){if(null==e||null==e.__nativeBuffers__)return e;var r=e.__nativeBuffers__;delete e.__nativeBuffers__;var n=[];for(var i of r)if(null!=i){var a=d(i);if(v(a)){if(t){var o=m(e,i.key);if(!o)return;var[s,l]=o;s[l]=a}else e[i.key]=a;n.push(i.key)}}return e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=n,e}const b={new:u,get:d,useCompatibleMode:function(e){var t;null===(t=c)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:_,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>_(e,!0)}})(),S=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>A});var r,n,i=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],o=p.supportWorkerMultiContext||p.supoortWorkerMultiContext,s=()=>{if("windows"===p.platform||"mac"===p.platform)return!0;var e="ios"===p.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!e||1===Number(p.expt&&p.expt[e])},l=[],c=[],u=[],d={},f=function(e){return d[e]},g=function(e,t){d[e]=t},v=function(e){e=S.unpackPostMessage(e),c.forEach((t=>{"function"==typeof t&&t(e)}))},m=function(e,t){t=S.unpackPostMessage(t),l.forEach((r=>{"function"==typeof r&&r(e,t)}))},y=function(e,t){u.forEach((r=>{"function"==typeof r&&r(e,t)}))},_=(e,t)=>{n.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},b=function(e,t){WORKER_RUNTIME&&o&&s()?_(e,t):h.emitUnhandledError(e)},w={get appServiceMsgHandler(){return v},get workerMsgHandler(){return m},get workerCreatedHandler(){return y},get errorHandler(){return b},get __workerId__(){return n.__workerId__}},I={create:function(e,t){var a,o,s=!(!(t=t||{}).useExperimentalWorker||!r);if(s?(o=r,a=JSON.stringify(t)):(o=n,a={APIList:i,pluginId:t.PluginId}),"function"==typeof o.create){var l=o.create.call(o,e,a);return g(l,o),{workerId:l,useWKWorker:s}}return{workerId:-1,useWKWorker:s}},createWXLibWorker:function(e,t){var r={APIList:i};t.APIList&&(r.APIList=i.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;if("function"==typeof a.createWXLibWorker){var o=a.createWXLibWorker.call(a,e,JSON.stringify(r));return g(o,a),{workerId:o}}return{workerId:-1}},terminate:function(e){var t=f(e);if("function"==typeof(null==t?void 0:t.terminate))return function(e){delete d[e]}(e),t.terminate.call(t,e)},postMsgToAppService:function(e,t){if(h.env.isWKGame)n.sendMsgToAppService(e);else if("ios"===h.env.platform&&1===Number(p.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=S.packPostMessage(e,!1),n.sendMsgToAppService(e);else try{!1!==t&&(e=S.packPostMessage(e),e=JSON.stringify(e)),n.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,n){var i=f(e);if(h.env.isWKGame)null==i||i.sendMsgToWorker(e,t);else if("ios"!==h.env.platform||1!==Number(p.expt.clicfg_appbrand_ios_allow_worker_binding_message)||n)try{!1!==r&&(t=S.packPostMessage(t,n),t=JSON.stringify(t)),null==i||i.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=S.packPostMessage(t,!1),null==i||i.sendMsgToWorker(e,t)},onWorkerMsg:function(e){l.push(e)},onWorkerCreated:function(e){u.push(e)},onAppServiceMsg:function(e){c.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};h.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=w,e.g.WeAppWorker=w,("devtools"===p.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&o&&s())&&(I.appServiceMsgHandler=w.appServiceMsgHandler,I.workerMsgHandler=w.workerMsgHandler,I.errorHandler=w.errorHandler,I.__workerId__=w.__workerId__)}));const A=I;C=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>p});var r,n,i,o=()=>-9999,s=()=>!1,l=()=>{},c=e=>()=>{throw console.warn(`WARNING: single context mode error: lose function: ${e}`),new Error(`unexpected error: lose function ${e}`)},u={alloc:o,create:o,destroy:o,publish:l,subscribe:l,supportAlloc:s,supportAllocEmpty:s,supportAllocFromSnapshot:s,isEmptyContext:2,loadLibFiles:r,init:e=>{if(e){if(u.isEmptyContext=1,e,r=e.loadLibFiles){var t=r;r=(e,r,n)=>{var i=JSON.stringify([e]);try{if(0===t(n,i))return void r(`failed: WAFiles: ${i} is not exist.`);r("success")}catch(e){r("failed: "+e)}}}n=r||c("loadSubContextLibFile"),i=r||c("loadMainContextLibFile"),r||(r=c("loadLibFiles")),delete e.loadLibFiles}else r=c("loadLibFiles"),n=c("loadSubContextLibFile"),i=c("loadMainContextLibFile");u.loadLibFiles=r,u.loadMainContextLibFile=i,u.loadSubContextLibFile=n},loadMainContextLibFile:i,loadSubContextLibFile:n,getAppSubContextId:()=>0};const d=u;h.onLoad((()=>{d.init("undefined"==typeof WeixinJSContext?void 0:WeixinJSContext),delete d.__init__,delete e.g.WeixinJSContext}));const p=d;I=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};function r(){b.publish(...arguments)}function n(){b.subscribe(...arguments)}e.d(t,{default:()=>U});var i=(()=>(p.onReady((()=>{i!==p&&void 0!==i&&Object.assign(i,p)})),p))();const o=i;var s=(()=>o.platform)(),l=(()=>"devtools"===s)(),c=(()=>"ios"===s)();function u(){if(o&&"debug"in o&&void 0!==o.debug)return!!o.debug}var d=(()=>Object.prototype.toString)(),h=a.prototype.call.bind(d);function f(e){return h(e).slice(8,-1)}var g=e=>"Number"===f(e),v=e=>null===e,m=(()=>Number.isNaN||(e=>e!=e))(),y=e=>g(e)&&Math.abs(e)===1/0,_=(()=>Array.isArray||(e=>"Array"===f(e)))(),w=e=>"function"==typeof e,S=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===f(e))(e);var C={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`};function I(e){var t=function(e){var t=f(e);if("Number"===t){if(m(e))return"NaN";if(y(e))return"Infinity"}else if("Object"===t){if(v(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&S(e))return"TypedArray";return t}(e);return t in C?C[t]?w(C[t])?[C[t](e),!0]:[C[t],!0]:[e,!0]:[null,!1]}function k(e){var t=new WeakMap,r=0;return function e(n,i){var a,[o,s]=I(n);return s?o:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,_(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(a={},Object.keys(n).forEach((t=>{a[t]=e(n[t],`${i}.${t}`)})),a))}(e,"@")}function E(e,t){try{return(e=Array.prototype.slice.call(e)).map(k)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var T=["log","warn","error","info","debug"],P=null,x=null,O=null;function R(e,t,r){P=e,x=t,O=r}var M=null,D=e=>M=e;class N{constructor({context:e}={}){var t=this;if(!O)throw new Error("BaseConsole: call setBaseConsoleStaticProps first");var n=O,i=function(e){"function"==typeof n[e]&&(t[e]=function(...t){(n[e]||(()=>{})).call(n,...t)})};for(var a of Object.keys(n))i(a);var o=function(i){var a=n[i]||(()=>{});t[i]=function(...t){var o,s,c=u();if(!1!==c){null===(o=M)||void 0===o||o.callConsoleAPI(i,t);var d=E(arguments,n[i]);d&&(x&&x.length>1024&&x.shift(),null===(s=x)||void 0===s||s.push({method:i,log:d,timestamp:Date.now()}),c&&P&&P.length>0&&r(i,{log:d},P),a.apply(n,d))}else{if("main"===e){if("warn"!==i&&"error"!==i&&!l)return;return void a.call(n,...t)}if(!l)return;a.call(n,...t)}}};for(var s of T)o(s);this.group=function(){(n.group||(()=>{})).apply(n,arguments)},this.groupEnd=function(){(n.groupEnd||(()=>{})).apply(n,arguments)}}}var L=!c&&!!e.g.__isAppServiceRemoteDebugMode__,B=null,$=null,F=null;if(l||L){if(l||L){R([],[],console)}}else{var j=[],W=[];R(W,j,console),n("GenerateFuncReady",((e,t)=>{t&&W.push(t),u()&&r("initLogs",{logs:j},[t])})),n("webviewClearLog",((e,t)=>{var n=W.filter((e=>e!==t));r("serviceClearLog",{triggerWebViewId:t},n),j.length=0})),o.onReady((()=>{var e;u()&&(W.length>0&&r("initLogs",{logs:j},W),null===(e=B)||void 0===e||e(j,D))})),console=new N({context:"main"})}const U={BaseConsole:N,onDebugEnabledAfterBaseConsoleInjected:e=>{B=e},setInspecteeRoots:e=>$=e,getInspecteeRoots:()=>$,setSkylineRuntimeGetter:e=>F=e,getSkylineRuntime:()=>{var e;return null===(e=F)||void 0===e?void 0:e()}};A=t.default})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>a});var n={None:0,BeforeLaunch:1,AfterLaunch:2},i=(()=>(p.onReady((()=>{i!==p&&void 0!==i&&Object.assign(i,p)})),p))();const a=i},133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>n});var n=e=>{T.reportKeyValue({key:"DeprecatedAPI",value:e})}},996:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(133),{default:i}=r(342);e.exports={hijack:function(e=!0,t=!0){!function(e){if("function"==typeof globalThis.Function){var t={};r.prototype=globalThis.Function.prototype,r.prototype.constructor=r,globalThis.Function=r}function r(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e?t:{}}}}(t),"undefined"!=typeof eval&&("ios"===i.platform&&r.g.__isAppServiceRemoteDebugMode__||i.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=E.surroundThirdByTryCatch(t,"at setTimeout callback function"),i=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,i)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=E.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,i)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))}}},585:()=>{if("undefined"==typeof navigator){try{new a('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new a('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new a('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>G,deepFreezeObj:()=>R,deepFreezeObjProperty:()=>O,doNotWriteGlobalObjs:()=>z,doNotWriteObj:()=>L,doNotWriteObjProperty:()=>M,globalEsHiddenObjs:()=>t,globalEsObjs:()=>i,hijack:()=>H.hijack,overwriteSetPrototypeOf:()=>q});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),i=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(342),l=(()=>s.default.platform)(),c=(()=>"ios"===l)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return c?function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];if(!d.test(o)){++a;var s=o.indexOf("@");if(-1===s){var l=h(o);r.push({fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}else{var c=o.substring(0,s),u=h(o.substr(s+1));r.push({functionName:c,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];u.test(o)&&(r.push(o),++a)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=h(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:e}}))}(r,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,w=Object.preventExtensions;var S=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function C(){var e,t,r=Date.now(),n=p(new Error,3),i=n[1],a=n[2],o=!(i.fileName&&a.fileName&&a.fileName!==i.fileName&&(e=a.fileName,t=i.fileName,!S.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function I(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return b(this)},set(r){if(this===e)t&&C()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var A=new Map,k=(e,t,r)=>{A.has(e)||A.set(e,new Map);var n=A.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function E(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(i){if(this===e)r&&C()&&(n.set?n.set.call(this,i):n.writable&&(n.value=i));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,i)}},enumerable:n.enumerable,configurable:!1}),r&&k(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var T=new WeakSet;function P(e){T.add(e)}function x(e){return T.has(e)}function O(e,t,r){E(e,t)&&R(e[t],r)}function R(e,t){if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){P(e);for(var r=y(e),n=_(e),i=0;i<r.length;++i)O(e,r[i],t);for(var a=0;a<n.length;++a)O(e,n[a],t);t?w(e):I(e,!1)}else if(t){var o=e=>{if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){P(e),f(e);for(var t=y(e),r=_(e),n=0;n<t.length;++n)o(e[t[n]]);for(var i=0;i<r.length;++i)o(e[r[i]])}};o(Error)}}function M(e,t){E(e,t,!0)&&L(e[t])}var D=new WeakSet;function N(e){return D.has(e)}function L(e){if(e&&!N(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){D.add(e)}(e);for(var t=y(e),r=_(e),n=0;n<t.length;++n)M(e,t[n]);for(var i=0;i<r.length;++i)M(e,r[i]);I(e,!0)}}var B=Object.prototype.hasOwnProperty,$=Object.defineProperty,F=Object.defineProperties,j=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,U=Object.getOwnPropertyDescriptor,V=!1,q=function(){V||(V=!0,$(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),$(o.Object,"defineProperty",{value(e,t,r){if(!N(e))return $(e,t,r);if(!C())return r;var n=U(e,t);if(!n||n.configurable){var i=$(e,t,r);return M(e,t),i}return k(e,t,r),r},configurable:!0}),$(o.Object,"defineProperties",{value(e,t){if(!N(e))return F(e,t);if(!C())return t;var r=r=>{var n=U(e,r);if(!n||n.configurable){var i=$(e,r,t[r]);return M(e,r),i}return k(e,r,t[r]),t[r]};return j(t).forEach(r),W(t).forEach(r),t},configurable:!0}))},z=function(e=[]){try{for(var r=[...i,...a,...t,...e],n=(Date.now(),0);n<r.length;++n){var s=r[n],l=typeof s;"string"===l?B.call(o,s)&&M(o,s):"function"!==l&&"object"!==l||L(s)}Date.now()}catch(e){}},G=function(e=[],r=!1){try{for(var n=[...i,...a,...t,...e],s=(Date.now(),0);s<n.length;++s){var l=n[s],c=typeof l;"string"===c?B.call(o,l)&&O(o,l,r):"function"!==c&&"object"!==c||R(l,r)}Date.now()}catch(e){}},H=r(996),K=Object.prototype.isPrototypeOf,Q=Object.defineProperty,J=Object.prototype.hasOwnProperty,X=Symbol.hasInstance,Y=function(e){return!("function"!=typeof this||!Z(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Z=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t){for(var r=function(){var r=e[n],i=t[n];if("function"!=typeof r)return"continue";var a=J.call(r,X)?r[X]:Y,o=J.call(i,X)?i[X]:Y;Q(r,X,{value(e){return a.call(this,e)||o.call(i,e)},writable:!0,enumerable:!1,configurable:!0}),Q(i,X,{value(e){return o.call(this,e)||a.call(r,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)r()}})(),k=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>h,convertStack:()=>i,endSystemFunctionCall:()=>c,findCurrentSource:()=>s,startSystemFunctionCall:()=>l,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function i(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,i=n.length-1,o=0;o>=0&&i>=0;){var s=r.length,l=0;for(var c in a)if(a[c]){var u=r.indexOf(a[c],o);u<0||s<=u||(s=u,l=a[c].length)}if(s>=r.length)break;var d=`at <${n[i--].description}>`;r=r.slice(0,s)+d+r.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",i=0;t&&t.forEach((e=>{if(r.test(e)&&2===(i+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var l=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},c=()=>{n.pop()};function u(e,t,r,l,c,u=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(l,c)}catch(t){if(i(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();T.thirdErrorReport({error:t,source:h,triggerErrorCallback:!u})}else T.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...i){return u(e,t,r,this,i,n)}}function p(e,t,r,s,l,c=!1){var u;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,l)}catch(t){if(i(t)&&T.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw n.pop(),t}return n.pop(),u}function h(e,t,r,n,i=!1){return p(s(),e,t,r,n,i)}function f(e,t,r,n=!1){return function(...i){return p(e,t,r,this,i,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return p(s(),n,i,i,e,!1)}}E=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>oe});var n={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},i={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,SdkInnerApiInvoke:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503},o={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},s={apiCallback:1,pageInvoke:2,widgetInvoke:3},l={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},c={[n.APP]:"thirdScriptError",[n.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[n.WIDGET]:"widgetThirdScriptError",[n.GAME]:"gameThirdScriptError",[n.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var u={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},d=0;function f(){var e=0;return{get(){if(e>0)return e;if(0===d)throw Error("initTime not ready");return e=d},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==h?h.onLoad((()=>{u.offset=Date.now(),d=Date.now()})):(u.offset=Date.now(),d=Date.now());class g{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=f(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=f(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class v{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=f(),this._periodStartTime=f(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class m{constructor(e,t,r,n){this.reportTime=f(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new v(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,i){this.continueDecreaseReportLimitStrategys[e]=new g(t,r,n,i)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var y=(()=>(p.onReady((()=>{y!==p&&void 0!==y&&Object.assign(y,p)})),p))();const _=y;var w=(()=>_.platform)(),S=(()=>"devtools"===w)(),C=(()=>"ios"===w)();var I=(()=>Object.prototype.toString)(),A=a.prototype.call.bind(I);function k(e){return A(e).slice(8,-1)}var T=6e4,P=15e3;function x(...e){b.invoke(...e)}var O={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},R=new m("id",P,100,T);function M(e){_.onReady((()=>{x("reportIDKey",{dataArray:e})}))}function D(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){R.pushReportQueue({id:e,key:t,value:r});var i=R.attemptReportAndGetReportMsgs(n);i.length&&M(i)}}function N(){var e=R.attemptReportAndGetReportMsgs(!0);e.length&&M(e)}var L=[],B=0,$=0,F=0,j={},W={},U={},V=new m("key",P,100,T);function q(e){_.onReady((()=>{x("reportKeyValue",{dataArray:e})}))}function z(){_.onReady((()=>{!L||L.length<=0||(x("systemLog",{dataArray:L}),L=[])}))}function G(e){var t=_&&_.appContactInfo&&_.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}V.setContinueDecreaseReportLimitStrategyKey(18042,P,.5,100,T);var H=()=>{},K=()=>{},Q=()=>{},J=()=>{},X="",Y={},Z=-1,ee=0,te=n.APP,re="";"function"==typeof _.onReady&&_.onReady((()=>{void 0!==_.appType&&(Z=_.appType),"object"==typeof _.appLaunchInfo&&(ee=_.appLaunchInfo.scene);var e=_.networkType;e?re=e:b.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(re=e.networkType)})),"function"==typeof b.addEventListener&&b.addEventListener("onNetworkStatusChange",(e=>{re=e.networkType}))}));var ne={surroundThirdByTryCatch:E.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var i=s[e],a=Date.now();if(i&&(n||!(a-F<500))&&!(Object.keys(U).length>50||(U[r]||(U[r]=0),U[r]++,U[r]>3))){F=a;var o=`${t},${encodeURIComponent(r)},${i},${ne.getAppType()}`;ne.reportKeyValue({key:"Slow",value:o})}},isLimitReport:e=>V.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var i=o[e],a=Date.now(),s=0,l=r.nativeTime;if(i&&(n||!(a-(j[i]||0)<500))&&r.startTime&&r.endTime&&(1!==i&&2!==i||l)){t&&(s=JSON.stringify(t).length),j[i]=a;var c=`${i},${r.startTime},${l},${l},${r.endTime},${s},${ne.getAppType()}`;ne.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,n=[]){var a=r-t;a<0&&(a=0),x("reportKeyValue",{version:2,dataArray:[{key:i[e],value:[a,ee,t,r,...n].join(",")}]})},reportQualityData2(e,t=[]){x("reportKeyValue",{version:2,dataArray:[{key:i[e],value:t.join(",")}]})},flushReportKeyValueList:()=>{var e=V.attemptReportAndGetReportMsgs(!0);e.length&&q(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||i[e]){V.pushReportQueue({key:n?e:i[e],value:t},r);var a=V.attemptReportAndGetReportMsgs(r);a.length&&q(a)}},flushReportIDKeyList:N,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1}){O[t]&&D(e||(C?356:358),O[t],r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&D(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||D(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){D(1874,e,t)},thirdErrorReport:({key:e=te,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:i,source:a="",isOpenDataContextError:o=!1})=>{ne.errorReport({key:c[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:i,source:a,isOpenDataContextError:o})},errorReport:({key:e,error:t,isThirdScriptError:i=!1,triggerErrorCallback:a=!0,isUnhandledRejection:o=!1,promise:s,source:c="",isOpenDataContextError:u=!1,extra:d=""})=>{if(l[e]&&t){var p,h;"function"==typeof __wxSourceMapRetrace__&&(t=__wxSourceMapRetrace__(t)),"object"==typeof t&&(t.message||t.stack)?(p=t.message,h=t.stack):(p=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(t),h=k(t));var f=i?"MiniProgramError":`SystemError (${e})`,g=p,v="";t.name&&0!==(h||"").indexOf(t.name)&&(v="\n"+t.name+": "+g);var m=`${f}\n${g}${v}\n${h}`;if(S){var y=new Error(`${f}\n${g}`);"object"==typeof t&&void 0!==t.name&&Object.defineProperty(y,"name",{value:t.name}),"object"==typeof t&&void 0!==t.stack&&Object.defineProperty(y,"stack",{value:t.stack}),console.error(y)}else o?console.error("(in promise) "+m):console.error(m);if(!(u||m.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){b.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:m},options:{timestamp:Date.now()}}):a&&(ne.triggerErrorMessage(m,o,t,s),i&&ne.triggerThirdErrorMessage(m,o,t,s)),Object.keys(W).length>50||o&&"Error"!==k(t)))){var _="",w="";te!==n.APP&&te!==n.GAME||(_=X,w=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(Y));var C=0;if(1004===ne.getAppType())try{re=__appServiceSDK__.getGameRelatedContextsExports().game._getCurrentNetworkType();var I=t.stackInfoArr;if(delete t.stackInfoArr,I){var A=I[0];if(A&&"usr"===A.type&&"__plugin__"===A.package&&"string"==typeof A.file){var E=A.file.split("/");C=G(c=E&&E[0])}}}catch(y){}else C=c.match(/wx[0-9a-f]{16}/)?G(c):0;var T=[l[e],t.name,...[g,h,void 0!==r&&r.version||"",ne.getAppType(),_,w,void 0!==r&&r.updateTime||"","",o?1:0,c,C,re,d].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(W[T]||(W[T]=0),W[T]++,!(i&&W[T]>3||W[T]>3)){ne.reportIDKey({key:e}),ne.reportKeyValue({key:"Error",value:T});var P=V.attemptReportAndGetReportMsgs(!0);P.length&&q(P),N(),z()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-B<50||(B=Date.now(),L.push(e+""),L.length>=50&&z()))},submit:()=>{Date.now()-$<50||($=Date.now(),N(),q(V.attemptReportAndGetReportMsgs(!0)),z())},registerErrorListener:e=>{"function"==typeof e&&(H=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(K=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(Q=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(J=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Q(r,n):H(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?J(r,n):K(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{te=n.WIDGET},setAsGame:()=>{te=n.GAME},setAsGameSubContext:()=>{te=n.GAME_SUBCONTEXT},getAppType:()=>-1===Z?0:Z+1e3},ie={};function ae(e){Object.defineProperty(ie,e,{get(){return t=ne[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(ne).forEach((e=>{ae(e)})),Object.defineProperty(ie,"__route__",{set(e){X=e}}),Object.defineProperty(ie,"__method__",{set(){}}),Object.defineProperty(ie,"__query__",{set(e){Y=e}}),ie.RunType=n,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){ne.submit()}});const oe=ie})(),T=t.default})(),(()=>{var e={420:(e,t,r)=>{var n;r.d(t,{k:()=>a,r:()=>i}),h.onLoad((()=>{n=[...k.globalEsObjs.map((e=>globalThis[e])),...k.globalEsHiddenObjs].filter(Boolean)}));var i=()=>n;function a(e){var t=e.getGlobals(),r=i();t.length===r.length?k.bridgeGlobalInstanceOf(i(),t):h.emitFrameworkError(new Error("remoteGlobals mismatch with currentGlobals"),"bridgeGlobalInstanceOf")}},533:(e,t,r)=>{r.d(t,{A:()=>n});var n=(globalThis.__wxLibrary||{}).contextType}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{_getSelfBridgeContext:()=>a,bridgeContext:()=>o});var e=r(420),t=r(533),i=new Map;function a(){return{getGlobals:e.r,contextType:t.A,setBridged:(e,t)=>{i.set(e,t)}}}function o(r){var n=r._getSelfBridgeContext();t.A,n.contextType;try{if(i.has(n.contextType))return;i.set(n.contextType,n),n.setBridged(t.A,a()),(0,e.k)(n)}catch(e){t.A,n.contextType}}})(),P=n})(),(()=>{var e={227:(e,t,r)=>{r.d(t,{D:()=>i,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},i={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_"}},752:(e,t,r)=>{var n=r(796),i=r(410);h.onBridgeReady((()=>{b.on("onError",(e=>{h.emitUnhandledError(e)})),b.on("unhandledRejection",(e=>{h.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),h.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),v.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),h.onUnhandledError((function(e){e=(0,i.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),v.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),h.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),v.error("FrameworkError",e)}))},673:(e,t,r)=>{r.d(t,{OJ:()=>a,YZ:()=>i,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function i(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},550:(e,t,r)=>{var n=r(18);p.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var i=t[r].contextGlobal.__wxSourceMap;if("object"==typeof i&&i[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(i[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},168:(e,t,r)=>{r.d(t,{Z:()=>T});var n,i=r(888),a=r.n(i),o=r(796),s=r(410),l=r(227),c={},u={},d={},f={},g={},m={},y={},_=0;I.subscribe("subContextMessage",((e,t)=>{var r=d[t];return r&&r.__onMessageHandler(e)})),I.subscribe("subContextReady",((e,t)=>{var r;if(((0,o.G$)()||(0,o.oi)())&&(r=d[t]),h.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var i=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,o.G$)()||(0,o.oi)()?d[t].__onReadyHandler(t,e):i&&i.__onReadyHandler(t,e)},(0,o.G$)()||(0,o.oi)())return void d[t].__onPreloadReadyHandler(t,e);if(!i)return;i.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||(0,o.oi)())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||I.isAsync())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),I.subscribe("subContextLibVarReady",((e,t)=>{d[t].__onLibVarReadyHandler(e)}));var b=function(e){var t=I.create(e);return c[this.__guid__]=t,t},w=function(e,t,r){var n,i,a=(0,o.G$)()||I.isAsync(),s=!1;if("number"==typeof t&&I.supportAllocFromSnapshot()?(v.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=I.allocFromSnapshot(e,t),e===l.m.APP&&I.setAppSubContextId(n),I.associateRealId2SdkId(n)):r&&I.supportAllocEmpty()?(v.info(`[JSContext] alloc(empty) name=${e}`),s=!0,a?i=new Promise((t=>{n=I.allocEmpty(e,(()=>{t(n)}))})):n=I.allocEmpty()):(r&&v.warn("SubContext: allocEmpty is not supported"),v.info(`[JSContext] alloc name=${e}`),n=a?I.alloc(e):I.alloc(),e===l.m.APP&&I.setAppSubContextId(n),I.associateRealId2SdkId(n)),a&&(d[n]=this),c[this.__guid__]=n,s&&n>0)if(i)i=i.then((e=>{var t=this.loadLibFiles(r);return v.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var u=this.loadLibFiles(r);v.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${u}`)}return i||n},S=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},C=function(){void 0!==u[this.__guid__]&&(m[this.__guid__].forEach((e=>{this.postMessage(e)})),m[this.__guid__]=[])},A=function(){void 0!==u[this.__guid__]&&(0,s.YF)((()=>{y[this.__guid__].forEach((e=>{this.postMessage(e)})),y[this.__guid__]=[]}))},k=(e,t)=>(__appServiceSDK__.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{__appServiceSDK__.traceEndEvent({isSuccess:e})}),E=new Set;const T=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:i=null,injectAfterAlloc:a=!0,snapshotContextName:o="",isPreload:s=!1}){S.call(this,"__name__",e,s),S.call(this,"__guid__",_++,s),S.call(this,"__secure__",t,s),S.call(this,"__entry__",n,s),S.call(this,"__entryLibs__",i,s),S.call(this,"__injectAfterAlloc__",a,s),S.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),g[this.__guid__]=[],m[this.__guid__]=[],y[this.__guid__]=[]}static supportEntryLibs(){return I.supportAllocEmpty()}getInnerId(){return u[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=p)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!I.supportAlloc())return b.call(this,this.__entry__);var t=w.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(v.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(v.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return a()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!I.supportAlloc())return b.call(this,this.__entry__);w.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return a()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),i=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return h.env.platform,t();setTimeout(i)}};i()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===h.env.platform||"ios"===h.env.platform)&&!I.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(g[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),g[this.__guid__]=[])}postMessage(e){var t=u[this.__guid__];return void 0!==t?I.publish("mainContextMessage",e,[t])[0]:void m[this.__guid__].push(e)}postMessageAsync(e){var t=u[this.__guid__];void 0!==t?(0,s.YF)((()=>{I.publish("mainContextMessage",e,[t])})):y[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,f[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}updateExportEnv(e){u[this.__guid__]}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");var r=f[this.__guid__];e.notUpdateIntact&&(e=Object.assign({},r,e)),this.setExportEnv(e);var n=f[this.__guid__],i=u[this.__guid__];I.publish("subContextEnvReady",n,[i],!0),I.subscribe("subContextRefreshEnvReady",((e,r)=>{i===r&&t()}))}))}refreshWxConfig(e,t){var r=u[this.__guid__];I.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=u[this.__guid__];I.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==c[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=c[this.__guid__];if(void 0!==r){"game.js"===e&&I.notifyGameEngineReady();var n=k([e],t);if(((0,o.G$)()||I.isAsync())&&(0,o.N0)())return new Promise((t=>{var i=I.evaluateScriptFile(r,e,(()=>t(i)));if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`)})).then((()=>{n(!0)}));var i=I.evaluateScriptFile(r,e);if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=c&&c[this.__guid__];if(void 0===t)return"fail: no clientId";if(!I||!I.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=I.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:i=!1}={}){e=e.map((e=>"/"===e[0]?e:"/"+e));var a=c&&c[this.__guid__],o=e.filter((e=>this.alreadyLoadedJsFiles.has(e)));o.length>0&&v.info("[SubContext] loadJsFiles ignored loaded: "+o.join(","));var s=null;if(0===(e=e.filter((e=>!this.alreadyLoadedJsFiles.has(e)))).length)return v.info("[SubContext] loadJsFiles have no files to load, return"),s;var u={};if(void 0!==a){var d="android"===p.platform?"key":"reportKey",h=n;if(void 0!==h){if(E.has(h)){var f=1;do{h=n+"-#"+f++}while(E.has(h))}E.add(h)}if(u[d]=h,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),i&&!this.initialScriptInjected&&this.__name__===l.m.APP&&(this.initialScriptInjected=!0,u.initialScript=!0,u.initialScriptStartTime=this.firstLoadJsFilesStartTime),I&&I.batchLoadJsFiles)try{var g=Date.now(),m=k(e,t);try{I.batchLoadJsFiles(a,e,u)}catch(e){throw m(!1),e}r?s=e=>{m(!!e)}:m(!0),v.info("[SubContext] loadJsFiles done, cost "+(Date.now()-g)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return s}destroy(){var e=c[this.__guid__],t=u[this.__guid__];e>0&&(I.publish("subContextDestroy",{},[t]),I.destroy(e)),delete d[t],delete c[this.__guid__],delete u[this.__guid__],delete f[this.__guid__],delete g[this.__guid__],delete m[this.__guid__],delete y[this.__guid__],delete this.__guid__,delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void g[this.__guid__].push(e)}__onReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=f[this.__guid__];r&&I.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,C.call(this),A.call(this)}__onPreloadReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=f[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,I.publish("preloadSubContextEnvReady",r,[e],!0))}}},18:(e,t,r)=>{r.d(t,{M:()=>a,z:()=>i});var n=[],i=function(e){n.push(e)},a=function(){return n}},796:(e,t,r)=>{r.d(t,{Dt:()=>f,F:()=>s,G$:()=>d,Hw:()=>u,N0:()=>o,NG:()=>v,QT:()=>l,Qj:()=>m,c6:()=>y,cF:()=>g,gn:()=>h,oi:()=>_,sK:()=>c,xJ:()=>a});var n=r(888),i=r.n(n),a=globalThis;var o=function(){return void 0!==p&&p.isIsolateContext},s=function(){k.deepFreezeGlobalObjs(["console"],!0)},l=function(){var e=i()((function*(e,t){T.reportIDKey({key:t});try{yield e()}catch(e){T.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";T.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),c=function(e,t,r){void 0!==r?T.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):T.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},u=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){T.errorReport({key:e,error:t,extend:""})}}},d=function(){return"devtools"===p.platform},h=function(){return"ios"===p.platform},f=function(){return"android"===p.platform},g=e=>{var t;if(b.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},v=e=>{var t,r;if(b.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},m=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",i=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var o=a.every(((e,t)=>e===r[t]));if(o)return o}if(i&&0===e.indexOf(i))return!0}return!1}));if(n)return n}return!1},y=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,_=()=>I.isAsync()},642:(e,t,n)=>{n.d(t,{E:()=>N,F:()=>L});var a=n(168),o=n(673),s=n(796),c=n(510),u=n(227);n.g.LanDebug=o.OJ,n.g.getPerfDog=o.yQ,n.g.getProfiler=o.YZ;var d,f="undefined"!=typeof __AppServiceRemoteDebugger__,g=null,m={};h.onLoad((()=>{g=f?__AppServiceRemoteDebugger__(p.platform,c.M,c.O,s.NG,n.g.WeixinJSBridge):null,f&&g&&((m=(0,s.gn)()?g.runtime.getSubContextGlobals():{}).BaseConsole&&g.runtime.setupConsole(console,m.BaseConsole),n.g.__remoteDebug__=g.__remoteDebug__,n.g.__isAppServiceRemoteDebugMode__=!0,n.g.__debuggerMessager__=c.O)}));var y=e=>d=e,w="app-service.js",S="appservice.app.js",C="common.app.js",k="appservice.js",E=new a.Z({name:u.m.APP,secure:!1,entry:[w],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),x=new Set;p.onReady((()=>{"develop"!==p.envVersion&&"trial"!==p.envVersion||(x.add("wx0354ba48aadc0ab2"),x.add("wxfa43a4a7041a84de"))}));var O=e=>v.info("[injectEntryFile] "+e),R=new Set,M=(e,t,r)=>{if(!R.has(e)){__appServiceSDK__.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),f&&g&&(0,s.gn)()&&g.runtime.registerScript(e);var n=-1,i=-1;R.add(e);var a="boolean"==typeof r?r:p.isLazyLoad;O(`isLazyLoad: ${a}`),O(`moduleName: ${e}`),O(`separatedPlugins: ${JSON.stringify(t)}`);var o=[];if(a){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id));try{O(`accessSync path: ${r+C}`),(0,s.cF)(r+C),o.push(r+C,r+S),t.prefix_path||((e,t)=>{v.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,s.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}v.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(p.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,v.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),E.refreshWxConfig("subPackages",p.subPackages)}})(e,r+"plugin.json")}catch(e){o.push(r+k)}})),o.push(e+C,e+S),O(`using separated plugins: ${JSON.stringify(o)}`);var l=e||"__APP__";n=Date.now(),E.loadJsFiles(o,l,{reportKey:`entry-${l}`}),i=Date.now()}else(o=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,x.add(t.plugin_id)),r+k}))).push(e+w),O(`using separated plugins: ${JSON.stringify(o)}`),n=Date.now(),o.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!E.alreadyLoadedJsFiles.has(t)){try{E.evaluateScriptFile(t,e||"__APP__")}catch(e){O(`inject ${t} failed, reason: ${e.message}`)}E.alreadyLoadedJsFiles.add(t)}})),i=Date.now();E.refreshWxConfig("extendedLibList",Array.from(x)),n>0&&i>0&&O("time cost: "+(i-n)),__appServiceSDK__.traceEndEvent()}},D=(0,s.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[],i=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),d.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,s.gn)()&&f?(t=r?"":t,g.runtime.isInitialInject()?(g.runtime.startBufferBridgeMessages(),g.runtime.runAfterAttached((()=>{M(t,n,i),g.runtime.dispatchBridgeMessages()}))):M(t,n,i)):M(r?"":t,n,i),d.globalRequireBlocker.unblock(),p.onReady((()=>{__appServiceSDK__.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),d.globalRequireBlocker.flushQueue(),__appServiceSDK__.traceEndEvent()}))})),N=function(){var e,t={};f&&g&&(t={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:g.__remoteDebug__,...m});var n={wxLibVersion:(null===(e=r)||void 0===e?void 0:e.version)||"9.9.9",__Function__:i,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:l,__wxConfig:p,Reporter:T,BaseConsole:A.BaseConsole,wxNativeConsole:v,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:P,__freezeLibContextGlobal__:()=>(0,s.F)(),originConsole:console,...t,debuggerMessager:c.O,__userActionTracer__:__userActionTracer__,__appServiceSDK__:__appServiceSDK__,WeixinJSBridge:b,setWxModule:y,__glassEaselAdapter__:__glassEaselAdapter__,__refreshEnv:(e={},t=null)=>{"sclEngine"===t&&(e||(e={}),l.inject&&l.inject(),e.__sclEngine__=l),E.refreshExportEnv({...e,notUpdateIntact:!0})}};return n.Trace=_,__appServiceSDK__.onSubPackageReady(D),E.setExportEnv(n),E.init()},L=function(){return E};I&&I.subscribe&&I.subscribe("injectEntryFile",(e=>{M(e.moduleName,e.separatedPlugins)}))},612:(e,t,r)=>{r.d(t,{DW:()=>a,Tq:()=>s,vh:()=>o});var n=r(227),i=new(r(168).Z)({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:["WARenderContext.js"],snapshotContextName:"app:subRender"}),a=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:T,BaseConsole:A.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,__sclEngine__:l,__appServiceConsole__:A,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:__glassEaselAdapter__};return e.Trace=_,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>I.publish(e,t,[i.getInnerId()])},801:(e,t,r)=>{r.d(t,{Nz:()=>s,Pc:()=>o,dx:()=>a});var n=r(227),i=new(r(168).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),a=function(){l.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:T,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,__sclEngine__:l};return e.Trace=_,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>I.publish(e,t,[i.getInnerId()])},740:(e,t,r)=>{r.d(t,{$:()=>o,k:()=>s});var n,i=r(227),a=r(168),o=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new a.Z({name:i.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===p.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:p,Reporter:T,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:v,WeixinJSBridge:b,Trace:_,console:console,subContextInitCallback:e,BaseConsole:A.BaseConsole};return n.setExportEnv(t),n.init(),n},s=()=>n},510:(e,t,r)=>{r.d(t,{M:()=>a,O:()=>i});var n=[],i="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};i.registerCallback=e=>{"function"==typeof e&&n.push(e)},i.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},561:(e,t,r)=>{r.d(t,{M:()=>u,eC:()=>d,xC:()=>h});var n=r(168),i=r(796),a=r(673),o=r(510),s=r(227);r.g.LanDebug=a.OJ,r.g.getPerfDog=a.yQ,r.g.__debuggerMessager__=o.O;var l=new n.Z({name:s.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"});function c(){__appServiceSDK__.getABTestConfig({experimentId:(0,i.gn)()?"clicfg_appbrand_ios_game_split_multi_plugincode":"clicfg_appbrand_game_split_multi_plugincode",experimentType:"Expt",success(e){e&&1===Number(e.testConfig)&&function(){var e=p.plugins||p.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!r||r.some((e=>"gameContext"===e.type))})).map((t=>e[t]));l.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}()},fail(e){v.error("getABTestConfig fail",e)}})}var u=function(e){return e.__wxConfig=p,l.setExportEnv(e),(0,i.G$)()||I.isAsync()||c(),l.afterPreloadInit()},d=function(){return l},h=function(e,t){return l.preInit(e,t)}},681:(e,t,r)=>{r.d(t,{J:()=>s,r:()=>l});var n=r(227),i=r(168),a=r(796),o=new i.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var s=e=>(e.__wxConfig=p,o.setExportEnv(e),(0,a.G$)()||I.isAsync()||function(){var e=p.plugins||p.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));o.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),o.init()),l=function(){return o}},29:(e,t,r)=>{r.d(t,{K0:()=>w,dr:()=>_,hS:()=>S,qo:()=>b});var n=r(888),i=r.n(n),a=r(227),o=r(168),s=r(18),l=r(796),c=r(561),u=r(681),d={},f={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},g=e=>`__plugin__/${e}/plugin.js`,v=null,m=!1,y=1;h.onLoad((()=>{h.env.isGame&&p.preload&&"android"===h.env.platform&&!I.isAsync()?(v=new o.Z({name:a.D.GAME_PLUGIN_PRELOAD+y,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),y++,v.preInit()):m=!0}));var _=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:c}=e,{provider:u}=e;if(!1===(0,l.N0)())throw new Error("isn't isolateContext mode!");var h,y=d[u=`${u}_${c?"_sub":"main"}`];if(y)return h=y.contextGlobal.__require,!0===y.__isCompleted||!1===y.__isCompleted&&(y.dynamicExportGlobal({name:"pluginEnv",value:t}),f.isolatedContext[u]=h),h;var _,b=a.D.GAME_PLUGIN+u,w=g(u.slice(0,-5));_=m?new o.Z({name:b,secure:r,entry:[w],snapshotContextName:"game:sub"}):v;var S=e=>{if(e.__wxConfig=p,_.setExportEnv({...e,pluginEnv:t}),m)return _.init();_.setName(b),_.setEntry([w]),_.afterPreloadInit(),m=!0};return((0,l.G$)()||I.isAsync())&&!0===n?i()((function*(){return yield(0,l.QT)(i()((function*(){(0,s.z)(_),yield S(__appServiceSDK__.getIsolatedGamePluginContextEnv(e)),h=_.contextGlobal.__require,_.__isCompleted=!1,d[u]=_})),"initGamePluginContext"),h}))():((0,l.QT)((()=>{(0,s.z)(_),S(__appServiceSDK__.getIsolatedGamePluginContextEnv(e)),h=_.contextGlobal.__require,_.__isCompleted=!0,d[u]=_}),"initGamePluginContext"),f.isolatedContext[u]=h,h)},b=(e,t,r)=>{var{__name__:n}=e,a=g(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,l.G$)()||I.isAsync())&&!0===r?i()((function*(){return yield e.evaluateScriptFile(a),f[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(a),f[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},w=function(){var e=i()((function*(){var e,t,r=(e=p.gamePlugins||p.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push({...e[r],context:n,contexts:null});var i=e[r].provider;"wx20afc706a711eefc"!==i&&"wx4d5893418b75cb20"!==i||t.push({...e[r],context:n,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return _({...e,isPreload:!0});case"gameContext":return n((0,c.eC)(),g(t));case"openDataContext":return n((0,u.r)(),g(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),S=()=>f},144:(e,t,r)=>{var n=r(18);I&&I.subscribe&&(I.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);v.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),I.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);v.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},410:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},i=!1,a=[],o=e=>{a.push(e),i||(i=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw v.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}i=!1,a.length=0})))}},888:e=>{e.exports=c.asyncToGenerator}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{createAppRenderContext:()=>b,createAppSclContext:()=>S,createAppXRFrameRenderContext:()=>A,createGameOpenDataContext:()=>R,createIsolatedGamePlugin:()=>u.dr,getAppContext:()=>r.F,getGameContext:()=>l.eC,getGameOpenDataContext:()=>c.r,getGamePlugins:()=>u.hS,getPool:()=>f.M,initAppRelatedContexts:()=>_,initFunctionalPage:()=>P,initGameJS:()=>x,initGameRelatedContexts:()=>E,injectGamePlugin:()=>u.qo,isIsolateContext:()=>d.N0,isValidGameIndependentSubpackagePath:()=>d.Qj,loadJsFiles:()=>M,onSubContextMessage:()=>L,postMessageToSubContext:()=>D,postMessageToSubContextSync:()=>N,publishToRenderContext:()=>i.Tq,publishToSclContext:()=>s.Nz,waitAppRenderContextInit:()=>w,waitAppSclContextInit:()=>C});var e=n(888),t=n.n(e),r=(n(752),n(642)),i=n(612),a=n(740),s=n(801),l=n(561),c=n(681),u=n(29),d=n(796),f=n(18),g=(n(144),n(550),n(227)),m=Object.keys,y=new h.EventEmitter,_=function(e){(0,d.N0)();for(var t=m(e),n=0;n<t.length;n++){var i=t[n];d.xJ[i]=e[i]}(0,d.N0)()&&(0,d.QT)((()=>{k.hijack(),(0,f.z)((0,r.F)());var e=(0,r.E)();1===p.envPreloadType&&(e instanceof Promise?e.then((e=>{__appServiceSDK__.loadPreloadSdkSubPackage(),v.info("load subpackage finish")})):(__appServiceSDK__.loadPreloadSdkSubPackage(),v.info("load subpackage finish")))}),"initAppIsolatedContext"),p.onReady((()=>{!(0,d.N0)()&&p.plugins&&(k.overwriteSetPrototypeOf(),k.deepFreezeGlobalObjs([],!1))}))},b=function(){var e;(0,d.N0)(),(0,d.QT)((()=>{e=(0,i.DW)(),(0,f.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,d.F)()}),"createAppRenderContext")},w=function(){var e=t()((function*(){var e,t=(0,f.M)().find((e=>e.__name__===g.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),S=function(){var e;(0,d.N0)(),(0,d.QT)((()=>{e=(0,s.dx)(),(0,f.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,d.F)()}),"createAppSclContext")},C=function(){var e=t()((function*(){var e,t=(0,f.M)().find((e=>e.__name__===g.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),A=function(e){(0,d.QT)((()=>{var t=(0,a.$)(e);(0,f.z)(t),t.onMessage((e=>{y.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},E=()=>{var e,t;if(1===p.envPreloadType){var r=__appServiceSDK__.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=__appServiceSDK__.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=p.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))P(e);else if((0,d.c6)(r.scene)){var n=(0,d.Qj)(r.path,p.subPackages);if(n){var i;if("playable"===(null==n||null===(i=n.meta)||void 0===i?void 0:i.type)&&(__appServiceSDK__.runPlayableGameJS(n.root,n.meta),(0,d.Dt)()||(0,d.gn)()))return;var a=(0,l.eC)(),o=n.root;o.endsWith(".js")||(o.endsWith("/")||(o=`${o}/`),o=`${o}game.js`),a.setEntry([o]),console.log("exportEnvs ==",e),O(e,(e=>{e&&(console.error("run game independent subpackage fail",e),v.error("run game independent subpackage fail",e),a.evaluateScriptFile("game.js"),T.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else O(e)}else O(e)}1===p.envPreloadType&&(__appServiceSDK__.loadPreloadSdkSubPackage(),v.info("load subpackage finish")),(0,l.xC)(e,t),p.onReady((()=>{((0,d.G$)()||I.isAsync())&&(0,d.N0)()?(0,u.K0)().then((()=>(n(),null))):n()}))};function P(e){(e=e||__appServiceSDK__.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function x(e){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,f.M)().length>0||O(e)}function O(e,t){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,d.N0)()&&(0,d.QT)((()=>{(0,d.F)(),(0,f.z)((0,l.eC)());var r=(0,l.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function R(e){e=e||__appServiceSDK__.getGameRelatedContextsExports(),(0,d.QT)((()=>{(0,f.z)((0,c.r)());var t=(0,c.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var M=()=>{},D=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,i.vh)().postMessageAsync(e)},N=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,a.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,i.vh)().postMessage(e)},L=e=>{y.on("subContextMessage",e)}})(),x=o})();var O=function(){var e,u;(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};t.r(r),t.d(r,{actionController:()=>Ce,allowReportLoadingTime:()=>yt,checkIsWebviewPageDetach:()=>Qe,clearAsyncCallApiRelatedEvent:()=>Ve,clearCurrentEventApiList:()=>Re,clearCurrentEventInfo:()=>Be,closeTrackUserAction:()=>xe,convert24247SchemaToSensitiveQueryJudgeSchema:()=>L,convertReportInfo2Strategys:()=>ie,endLoading:()=>vt,endTraceHandler:()=>rt,endTraceLastRouteStayTime:()=>b,filterApiReportReq:()=>se,getAppServiceVariable:()=>ze,getAsyncCallApiRelatedEvent:()=>Ue,getAsyncCallbackJoinEventInterval:()=>Ze,getCompatPathWithoutValue:()=>U,getCurrentEventApiList:()=>Fe,getCurrentEventInfo:()=>Le,getCurrentFullyRoutePath:()=>O,getCurrentPageTitle:()=>P,getCurrentRawRoutePath:()=>q,getCurrentRoutePath:()=>C,getCurrentRoutePathWithoutQuery:()=>I,getCurrentRouteStartTime:()=>z,getEventJoinInterval:()=>Ye,getLastRoutePath:()=>S,getPageTitle:()=>R,getQualityConfig:()=>pt,getReportEvent:()=>de,getRouteHasWebview:()=>Ke,getSafeRoutePath:()=>B,getSamplePercent:()=>ce,getSessionId:()=>pe,getTextContentMaxLayer:()=>_e,getTextContentMaxLength:()=>ye,getTrackUserAction:()=>$e,protectActionReporter:()=>_t,pruneSensitiveUrl:()=>W,pushApiToEventApiList:()=>je,reportInteractionAPI:()=>ut,setAppServiceVariable:()=>qe,setAsyncCallApiRelatedEvent:()=>We,setAsyncCallbackJoinEventInterval:()=>et,setCurrentEventApiList:()=>Oe,setCurrentEventInfo:()=>Ne,setCurrentRouteStartTime:()=>G,setEventJoinInterval:()=>Xe,setQualityConfig:()=>dt,setReportSetting:()=>Ie,setRouteHasWebview:()=>He,setSessionId:()=>ne,shouldReportApi:()=>me,shouldReportEvent:()=>ue,shouldReportLifetime:()=>he,shouldStartReport:()=>ve,shouldStopReport24689:()=>le,shouldUpdateReportInfo:()=>ge,startActionChainReport:()=>fe,startLoading:()=>gt,startTraceHandler:()=>tt,startTraceLastRouteStayTime:()=>_,startTrackUserAction:()=>Pe,traceApi:()=>Te,traceBootRoutePath:()=>k,traceEvent:()=>Ee,traceFullyRoutePath:()=>x,traceLife:()=>Ae,traceNewRoute:()=>M,traceRawRoutePath:()=>V,traceRoute:()=>ke,traceRoutePath:()=>m,traceRoutePathWithoutQuery:()=>y,updateWebviewPageInfo:()=>Je});var n=(()=>Object.prototype.toString)(),i=a.prototype.call.bind(n);function o(e){return i(e).slice(8,-1)}var s=e=>"Object"===o(e);class l{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const c=(()=>new l)();var u,d,f,g,m=e=>{u=C(),c.set("current_route_path",e,!0)},y=e=>{c.set("current_route_without_query_path",e,!0)},_=()=>{f=Date.now()},b=()=>Date.now()-f,S=()=>u,C=()=>c.get("current_route_path"),I=()=>c.get("current_route_without_query_path"),A=!0,k=e=>{A&&(m(e),A=!1)},E={},P=()=>{var e=O();return E[e]},x=(e,t)=>{try{if("string"!=typeof e)return d=e;if(!s(t))return d=e;for(var r of(e+="?",Object.keys(t))){e+=`${r}=${t[r]}&`}return d=e.slice(0,e.length-1)}catch(t){return v.error("getFullyRoutePath err:",t),d=e}},O=()=>d,R=e=>E[e],M=(e,t)=>{var r,n,i=(t&&t.window||{}).navigationBarTitleText||"",a=q(),o=null==e?void 0:e[a],s=(null==o||null===(r=o.window)||void 0===r?void 0:r.navigationBarTitleText)||i;n=s,E[d]=n},D={},N=!1,L=e=>{try{var t,r,n,i=(null==e||null===(t=e.common)||void 0===t?void 0:t.importantKeyInfo)||[];(i=i.map((e=>{var t;return new RegExp(e.pure,null!==(t=e.flag)&&void 0!==t?t:"")}))).length&&(D.keyJudge=i);var a=(null==e||null===(r=e.common)||void 0===r?void 0:r.sensitiveInfo)||[],o=[...(null==e||null===(n=e.common)||void 0===n?void 0:n.safeSensitiveInfo)||[],...a].reduce(((e,t)=>{var r;return t.matchKey||e.push(new RegExp(t.pure,null!==(r=t.flag)&&void 0!==r?r:"")),e}),[]);o.length&&(D.valJudge=o),N=!0}catch(e){v.error("convert24247SchemaToSensitiveQueryJudgeSchema err:",e)}},B=(e,t,r,n=!1)=>{try{if("string"!=typeof e)return e;var i=((e,t,r=!1)=>{if(!s(e))return e;if(!N||r){var n={};return Object.keys(e).forEach((r=>{n[r]=1092!=t||S()?"":e[r]})),n}var{keyJudge:i,valJudge:a}=D,o={},l=function(t){var r=e[t];i&&i.some((e=>e.test(t)))&&(r=null),r&&a&&a.forEach((e=>{r=r.replace(e,"")})),o[t]=r};for(var c of Object.keys(e))l(c);return o})(t,r,n);if(!s(i))return e;for(var a of(e+="?",Object.keys(i))){e+=`${a}=${i[a]}&`}return e.slice(0,e.length-1)}catch(t){return v.error("getSafeRoutePath err:",t),e}},$=new RegExp("[^&=?]+=[^&]*","g"),F=new RegExp("(.*)=(.*)"),j=e=>{try{if("string"!=typeof e)return e;var t=e.indexOf("?");if(-1===t)return e;var r=e.slice(t+1).match($);return r?[e.slice(0,t),r=r.reduce(((e,t)=>{var r,n,i=null===(r=t.match(F))||void 0===r||null===(n=r.slice)||void 0===n?void 0:n.call(r,1);return i?(Object.assign(e,Object.fromEntries([i])),e):e}),{})]:e}catch(t){return e}},W=e=>{try{var t=j(e);if(!Array.isArray(t))return t;var[r,n]=t;return B(r,n)}catch(t){return e}},U=e=>{try{var t=j(e);if(!Array.isArray(t))return t;var[r,n]=t;return B(r,n,null,!0)}catch(t){return e}},V=e=>{c.set("current_raw_route_path",e,!0)},q=()=>c.get("current_raw_route_path"),z=()=>g,G=()=>g=Date.now(),H=(()=>(p.onReady((()=>{H!==p&&void 0!==H&&Object.assign(H,p)})),p))();const K=H;K.onReady((()=>{c.set("api_call_from_hot_boot_time",Date.now(),!0),void 0!==w&&w.onAppEnterForeground((()=>{c.set("api_call_from_hot_boot_time",Date.now())}))}));var Q,J=e=>{try{e=JSON.stringify(e)}catch(e){}return e},X={},Y={tap:!0},Z={},ee=30,te=3,re=!1,ne=e=>{Q=e},ie=e=>{e&&"object"==typeof e&&(e.api.forEach((e=>{"string"==typeof e.name&&(X[e.name]={req:e.req,res:e.resp,samplePercent:e.samplePercent})})),(e=>{e.forEach((e=>{Y[e.type]=!0}))})(e.event),(e=>{e.lifetimes&&e.lifetimes.forEach((e=>{Z[e.type]=!0}))})(e),(e=>{void 0!==e.textContentMaxLength&&(ee=e.textContentMaxLength>30?30:e.textContentMaxLength<0?0:e.textContentMaxLength),void 0!==e.textContentMaxLayer&&(te=e.textContentMaxLayer>3?3:e.textContentMaxLayer<0?0:e.textContentMaxLayer)})(e),v.info("TUA ApiReportStrategys:",X))},ae=e=>{if(!s(e))return e;var t={};for(var r of Object.keys(e)){var n=e[r];s(n)?t={...t,...ae(n)}:t[r]=n}return t},oe=(e,t)=>{if(!e)return null;if(!t)return t;if("string"==typeof t)return s(e)?null:t.slice(0,512);if(!0===e||"string"==typeof e)return t;var r;if(Array.isArray(t))r=[];else{if("[object Object]"!==Object.prototype.toString.call(t))return t;r={}}for(var n of Object.keys(e))if("string"==typeof n){var i=t[n];if(void 0!==i){var a=e[n];if(a){var o=n.toLowerCase();"string"==typeof a&&(o=a.toLowerCase()),r[o]=oe(a,i)}}}return r=ae(r)},se=(e,t,r=!1)=>{var n,i=X[e];if(!i)return null;var a={};return 1===(null===(n=i=i[r?"res":"req"])||void 0===n?void 0:n.__ALL__)?a.ext_data=J(t):a.ext_data=J(oe(i,t)),a},le=e=>Math.random()>ce(e),ce=(e={})=>{var t;return"api"===e.type?null===(t=X[e.data])||void 0===t?void 0:t.samplePercent:1},ue=e=>re&&Y[e],de=()=>re?Y:[],pe=()=>Q,he=e=>Z[e],fe=()=>{re=!0},ge=e=>Q!==e,ve=()=>re,me=e=>X[e],ye=()=>ee,_e=()=>te;var be,we,Se,Ce=new class{constructor({sendInterval:e=5e3,cache:t=5}={}){this.sendInterval=e,this.cache=t,this.actions=[],this.isInit=!1,this.currentActionId=1}create(){return{}}intervalSend(){if(!this.sendClear){var e=setTimeout((()=>{this.send(),this.intervalSend()}),this.sendInterval);this.sendClear=e}}clearIntervalSend(){clearTimeout(this.sendClear),this.sendClear=null}getCurrentId(){return this.currentActionId++}add(e,t={}){var r,n;this.isInit&&(1!==e.result&&le({type:e.reporttype,data:e.name})||(e.id=this.getCurrentId(),e.hotbootdistance=(n=c.get("api_call_from_hot_boot_time"),Date.now()-n),e.pagename=null!==(r=t.path)&&void 0!==r?r:C(),e.instanceId=K.appLaunchInfo.sessionid||K.appLaunchInfo.sessionId,e.source=void 0!==h?h.env.isWebView?2:1:0,e.appId=K.accountInfo&&K.accountInfo.appId,e.pagetitle=t.path?R(t.fullyPath):P(),e.extra_info=JSON.stringify({isasyncreturn:e.isAsync,...e.extra_info}),delete e.isAsync,e.time=Date.now(),"api"!==e.reporttype||"navigateTo"!==e.name&&"redirectTo"!==e.name&&"switchTab"!==e.name&&"navigateBack"!==e.name||(e.pagename=S()),this.actions.push(JSON.stringify(e)),this.actions.length>this.cache&&this.send()))}cut(e){if("string"!=typeof e)return e;var t=Math.floor(204700/this.cache);return e.length>t?e.slice(0,t):e}send(){void 0!==w&&(this.actions.length&&w.reportActionTrace({cs_session_id:pe(),click_event_data_list:this.actions.map(this.cut.bind(this))},{fail(e){var t=["","","webapi_reportwxacityservicescreenshot",C(),1,JSON.stringify({err:e.errMsg})].map(encodeURIComponent).join(",");T.reportKeyValue({key:"SdkInnerApiInvoke",value:t,force:!0}),v.error("report user action err:",e)}}),this.actions=[],this.clearIntervalSend(),this.intervalSend())}protect(){if(this.isInit)return null;void 0!==w&&(this.intervalSend(),w.onAppEnterBackground((()=>{this.clearIntervalSend(),this.send()})),w.onAppEnterForeground((()=>{this.intervalSend()})),this.isInit=!0)}setReportSetting({reportCache:e,reportInterval:t}){this.cache=null!=e?e:5,this.sendInterval=null!=t?t:5e3}},Ie=e=>Ce.setReportSetting(e),Ae=(e,t)=>{if(he(e)){var r={reporttype:"lifetimes",result:0,type:e};Ce.add(r,{path:t.path,fullyPath:t.fullyPath})}},ke=(e,t,r=!0)=>{Te(e,{url:t},null,r,null,0)},Ee=(e,t,r,n,i,a)=>{if("onH5Open"===e||ue(e)){var o={reporttype:"event",event:{currenttarget:r,target:n},errmsg:t||null,result:t?1:0,eventname:e,event_id:String(a)};Ce.add(o)}},Te=(e,t,r,n,i,a,o,s={})=>{if(me(e)){var{errMsg:l,errno:c,relatedEvent:u}=s,d={reporttype:"api",name:e,req:s.noFilterReq?{ext_data:J(t)}:se(e,t),resp:s.noFilterRes?{ext_data:J(r)}:se(e,r,!0),uid:String(i),result:n?1:0,cost_time:a,isAsync:o,extraInfo:s,jsapi_errmsg:l,jsapi_errno:c,...u?{in_event:String(u)}:{}};delete s.noFilterReq,delete s.noFilterRes,Ce.add(d)}},Pe=e=>{c.set("start_track_user_action",e,!0)},xe=()=>{c.set("start_track_user_action",!1)},Oe=e=>{c.set("current_event_api_list",e,!0)},Re=()=>{c.set("current_event_api_list",null)},Me=null,De=null,Ne=e=>{Me=e},Le=()=>Me,Be=e=>{if($e()!==e)return!1;Me=null},$e=()=>c.get("start_track_user_action"),Fe=()=>c.get("current_event_api_list"),je=(e,t)=>{var r=Fe();return!(!r||!me(e))&&(r.push(String(t)),!0)},We=e=>{if(De)return!1;De=e},Ue=()=>De,Ve=e=>{if(e!==De)return!1;De=null},qe=e=>{be=e},ze=()=>be,Ge={},He=(e,t)=>{if(!t)return!1;t.startTime=Date.now(),Ge[e]=t},Ke=e=>Ge[e],Qe=()=>{var e,t=q();if(e=Ge[t]){var{src:r,startTime:n}=e,{scene:i,scene_note:a,instanceId:o}=ze()||{},s=[o,i,a,W(r),Date.now(),Date.now()-n,C()].map(encodeURIComponent).join(",");T.reportKeyValue({key:"detachFromNestWebviewPage",value:s})}},Je=()=>{var e,t=q();(e=Ge[t])&&(e.startTime=Date.now())};var Xe=e=>we=null!=e?e:50,Ye=()=>we,Ze=()=>Se,et=e=>Se=null!=e?e:25,tt=e=>{if(e&&ue(e.type)){if($e())return null;var t,r;try{var{currentTarget:{__extra:n},target:{__extra:i}}=e;r=i,(t=n)&&(delete e.currentTarget.__extra,delete e.target.__extra)}catch(e){}var a=[],o=1e4*Date.now()+Math.round(9999*Math.random());return Pe(o),Oe(a),Ne({type:e.type,callErr:null,currentTargetTrace:t,targetTrace:r,apiCalls:a}),o}},rt=e=>{e===$e()&&setTimeout((()=>{var t=Le()||{};Ee(t.type,t.callErr,t.currentTargetTrace,t.targetTrace,t.apiCalls,e),Be(e),xe(),Re()}),we)},nt=0,it=0,at={},ot=[1005,1006,1042,1053,1106,1179,1027,1153];K.onReady((()=>{nt=K.appLaunchInfo.scene,it=K.appLaunchInfo.sessionid||K.appLaunchInfo.sessionId,Object.assign(at,K.appLaunchInfo)}));var st,lt,ct=null,ut=({api:e,result:t,res:r})=>{if(!1!==ct){null===ct&&(ct=ot.includes(nt)),0===t&&r&&r.cancel&&(t=2);var n=[e,t,Date.now(),nt,encodeURIComponent(at.scene_note||at.sceneNote),it,I()].join(",");T.reportKeyValue({key:"WeAppInteractionApiCall",value:n})}},dt=e=>{st=e},pt=()=>st,ht=-1,ft=!1,gt=()=>{if(!ft)return!1;lt=Date.now()},vt=e=>{var t;if(!ft)return!1;ht=Date.now()-lt;var r=mt(),n=ze().instanceId,i=["showLoading",String(r),C(),n,3,e].join(",");null!==(t=pt())&&void 0!==t&&t.reportLoading&&T.reportKeyValue({key:"WeAppInteractiveApiError",value:i})},mt=()=>{if(-1===ht)return!1;var e=ht;return ht=-1,e},yt=()=>{ft=!0},_t=()=>{Ce.protect()};e=r})(),(()=>{var e={715:e=>{function t(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,l,"next",e)}function l(e){t(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},959:(e,t,r)=>{"use strict";r.d(t,{V1:()=>$,V3:()=>qe,j:()=>de,m:()=>F});var n=r(715),i=r.n(n),a=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(e&&(t=e(e=0)),t),p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})},f=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t){var i=function(i){!u.call(e,i)&&i!==r&&o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable})};for(var a of l(t))i(a)}return e},g=(e,t,r)=>(r=null!=e?a(c(e)):{},f(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),v=d((()=>{})),m=p((e=>{v();var t=[0,255,65535,16777215,4294967295];function r(e,t,r,n,i){var a;for(a=0;a<i;a++)r[n+a]=e[t+a]}function n(e,t,r,n){var i;for(i=0;i<n;i++)e[t+i]=e[t-r+i]}function i(e){this.array=e,this.pos=0}i.prototype.readUncompressedLength=function(){for(var e,t,r=0,n=0;n<32&&this.pos<this.array.length;){if(e=this.array[this.pos],this.pos+=1,(t=127&e)<<n>>>n!==t)return-1;if(r|=t<<n,e<128)return r;n+=7}return-1},i.prototype.uncompressToBuffer=function(e){for(var i,a,o,s,l=this.array,c=l.length,u=this.pos,d=0;u<l.length;)if(i=l[u],u+=1,0==(3&i)){if((a=1+(i>>>2))>60){if(u+3>=c)return!1;o=a-60,a=1+((a=l[u]+(l[u+1]<<8)+(l[u+2]<<16)+(l[u+3]<<24))&t[o]),u+=o}if(u+a>c)return!1;r(l,u,e,d,a),u+=a,d+=a}else{switch(3&i){case 1:a=4+(i>>>2&7),s=l[u]+(i>>>5<<8),u+=1;break;case 2:if(u+1>=c)return!1;a=1+(i>>>2),s=l[u]+(l[u+1]<<8),u+=2;break;case 3:if(u+3>=c)return!1;a=1+(i>>>2),s=l[u]+(l[u+1]<<8)+(l[u+2]<<16)+(l[u+3]<<24),u+=4}if(0===s||s>d)return!1;n(e,d,s,a),d+=a}return!0},e.SnappyDecompressor=i})),y=p((e=>{v();var t=new Array(15);function r(e,t){return 506832829*e>>>t}function n(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)}function i(e,t,r){return e[t]===e[r]&&e[t+1]===e[r+1]&&e[t+2]===e[r+2]&&e[t+3]===e[r+3]}function a(e,t,r,n,i){return r<=60?(n[i]=r-1<<2,i+=1):r<256?(n[i]=240,n[i+1]=r-1,i+=2):(n[i]=244,n[i+1]=r-1&255,n[i+2]=r-1>>>8,i+=3),function(e,t,r,n,i){var a;for(a=0;a<i;a++)r[n+a]=e[t+a]}(e,t,n,i,r),i+r}function o(e,t,r,n){return n<12&&r<2048?(e[t]=1+(n-4<<2)+(r>>>8<<5),e[t+1]=255&r,t+2):(e[t]=2+(n-1<<2),e[t+1]=255&r,e[t+2]=r>>>8,t+3)}function s(e,t,r,n){for(;n>=68;)t=o(e,t,r,64),n-=64;return n>64&&(t=o(e,t,r,60),n-=60),o(e,t,r,n)}function l(e,o,l,c,u){for(var d=1;1<<d<=l&&d<=14;)d+=1;var p=32-(d-=1);typeof t[d]>"u"&&(t[d]=new Uint16Array(1<<d));var h,f=t[d];for(h=0;h<f.length;h++)f[h]=0;var g,v,m,y,_,b,w,S,C,I,A=o+l,k=o,E=o,T=!0;if(l>=15)for(g=A-15,m=r(n(e,o+=1),p);T;){b=32,y=o;do{if(v=m,w=b>>>5,b+=1,y=(o=y)+w,o>g){T=!1;break}m=r(n(e,y),p),_=k+f[v],f[v]=o-k}while(!i(e,o,_));if(!T)break;u=a(e,E,o-E,c,u);do{for(S=o,C=4;o+C<A&&e[o+C]===e[_+C];)C+=1;if(o+=C,u=s(c,u,S-_,C),E=o,o>=g){T=!1;break}f[r(n(e,o-1),p)]=o-1-k,_=k+f[I=r(n(e,o),p)],f[I]=o-k}while(i(e,o,_));if(!T)break;m=r(n(e,o+=1),p)}return E<A&&(u=a(e,E,A-E,c,u)),u}function c(e){this.array=e}c.prototype.maxCompressedLength=function(){var e=this.array.length;return 32+e+Math.floor(e/6)},c.prototype.compressToBuffer=function(e){var t,r=this.array,n=r.length,i=0,a=0;for(a=function(e,t,r){do{t[r]=127&e,(e>>>=7)>0&&(t[r]+=128),r+=1}while(e>0);return r}(n,e,a);i<n;)a=l(r,i,t=Math.min(n-i,65536),e,a),i+=t;return a},e.SnappyCompressor=c})),_=p((e=>{function t(){return"object"==typeof process&&"object"==typeof process.versions&&typeof process.versions.node<"u"}function r(e){return e instanceof Uint8Array&&(!t()||!Buffer.isBuffer(e))}function n(e){return e instanceof ArrayBuffer}function i(e){return!!t()&&Buffer.isBuffer(e)}v();var a=m().SnappyDecompressor,o=y().SnappyCompressor,s="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";e.uncompress=function(e,t){if(!r(e)&&!n(e)&&!i(e))throw new TypeError(s);var o=!1,l=!1;r(e)?o=!0:n(e)&&(l=!0,e=new Uint8Array(e));var c,u,d=new a(e),p=d.readUncompressedLength();if(-1===p)throw new Error("Invalid Snappy bitstream");if(p>t)throw new Error(`The uncompressed length of ${p} is too big, expect at most ${t}`);if(o){if(c=new Uint8Array(p),!d.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream")}else if(l){if(c=new ArrayBuffer(p),u=new Uint8Array(c),!d.uncompressToBuffer(u))throw new Error("Invalid Snappy bitstream")}else if(c=Buffer.alloc(p),!d.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream");return c},e.compress=function(e){if(!r(e)&&!n(e)&&!i(e))throw new TypeError(s);var t=!1,a=!1;r(e)?t=!0:n(e)&&(a=!0,e=new Uint8Array(e));var l,c,u,d=new o(e),p=d.maxCompressedLength();if(t?(l=new Uint8Array(p),u=d.compressToBuffer(l)):a?(l=new ArrayBuffer(p),c=new Uint8Array(l),u=d.compressToBuffer(c)):(l=Buffer.alloc(p),u=d.compressToBuffer(l)),!l.slice){var h=new Uint8Array(Array.prototype.slice.call(l,0,u));if(t)return h;if(a)return h.buffer;throw new Error("Not implemented")}return l.slice(0,u)}})),b=p(((e,t)=>{v(),t.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){a&&(a=!1,o(e))}}))}})),w=p((e=>{v();var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};var r,n=new Array(64),i=new Array(123);for(r=0;r<64;)i[n[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(e,t,r){for(var i,a=null,o=[],s=0,l=0;t<r;){var c=e[t++];switch(l){case 0:o[s++]=n[c>>2],i=(3&c)<<4,l=1;break;case 1:o[s++]=n[i|c>>4],i=(15&c)<<2,l=2;break;case 2:o[s++]=n[i|c>>6],o[s++]=n[63&c],l=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return l&&(o[s++]=n[i],o[s++]=61,1===l&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,r){for(var n,o=r,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return r-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})),S=p(((e,t)=>{function r(){this._listeners={}}v(),t.exports=r,r.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}})),C=p(((e,t)=>{function r(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function a(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:a,e.writeFloatBE=n?a:i,e.readFloatLE=n?o:s,e.readFloatBE=n?s:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,a=n>>>23&255,o=8388607&n;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,o)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function a(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:a,e.writeDoubleBE=n?a:i,e.readDoubleLE=n?o:s,e.readDoubleBE=n?s:o}():function(){function t(e,t,r,n,i,a){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,a+t),e(1/n>0?0:2147483648,i,a+r);else if(isNaN(n))e(0,i,a+t),e(2146959360,i,a+r);else if(n>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,i,a+t),e((o<<31|l+1023<<20|1048576*s&1048575)>>>0,i,a+r)}}}function r(e,t,r,n,i){var a=e(n,i+t),o=e(n,i+r),s=2*(o>>31)+1,l=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,o,4,0)}(),e}function n(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}v(),t.exports=r(r)})),I=p(((e,t)=>{function r(e){try{var t=eval("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}v(),t.exports=r})),A=p((e=>{v();var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n="",i=t;i<r;){var a=e[i++];if(a<=127)n+=String.fromCharCode(a);else if(a>=192&&a<224)n+=String.fromCharCode((31&a)<<6|63&e[i++]);else if(a>=224&&a<240)n+=String.fromCharCode((15&a)<<12|(63&e[i++])<<6|63&e[i++]);else if(a>=240){var o=((7&a)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;n+=String.fromCharCode(55296+(o>>10)),n+=String.fromCharCode(56320+(1023&o))}}return n},t.write=function(e,t,r){for(var n,i,a=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-a}})),k=p(((e,t)=>{v(),t.exports=function(e,t,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(a=e(n),o=0);var s=t.call(a,o,o+=r);return 7&o&&(o=1+(7|o)),s}}})),E=p(((e,t)=>{v(),t.exports=n;var r=T();function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,a=(e-r)/4294967296>>>0;return t&&(a=~a>>>0,r=~r>>>0,++r>4294967295&&(r=0,++a>4294967295&&(a=0))),new n(r,a)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(r.isString(e)){if(!r.Long)return n.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var o=String.prototype.charCodeAt;n.fromHash=function(e){return e===a?i:new n((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}})),T=p((e=>{v();var t=e;function n(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(void 0===e[n[i]]||!r)&&(e[n[i]]=t[n[i]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=b(),t.base64=w(),t.EventEmitter=S(),t.float=C(),t.inquire=I(),t.utf8=A(),t.pool=k(),t.LongBits=E(),t.isNode=Boolean(typeof r.g<"u"&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),t.global=t.isNode&&r.g||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=i,t.ProtocolError=i("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),P=p(((e,t)=>{v(),t.exports=u;var r,n=T(),i=n.LongBits,a=n.base64,o=n.utf8;function s(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new s(l,0,0),this.tail=this.head,this.states=null}var d=function(){return n.Buffer?function(){return(u.create=function(){return new r})()}:function(){return new u}};function p(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function f(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=d(),u.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new s(e,t,r),this.len+=t,this},h.prototype=Object.create(s.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(f,10,i.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=i.from(e);return this._push(f,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(f,t.length(),t)},u.prototype.bool=function(e){return this._push(p,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var m=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(n.isString(e)){var r=u.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},u.prototype.string=function(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(p,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new s(l,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(l,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){r=e,u.create=d(),r._configure()}})),x=p(((e,t)=>{v(),t.exports=i;var r=P();(i.prototype=Object.create(r.prototype)).constructor=i;var n=T();function i(){r.call(this)}function a(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()})),O=p(((e,t)=>{v(),t.exports=s;var r,n=T(),i=n.LongBits,a=n.utf8;function o(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var l,c=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")},u=function(){return n.Buffer?function(e){return(s.create=function(e){return n.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw o(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw o(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw o(this,8);return new i(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}s.create=u(),s.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,s.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return l;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return l}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return p(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|p(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw o(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},s.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw o(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(e){r=e,s.create=u(),r._configure();var t=n.Long?"toLong":"toNumber";n.merge(s.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}})),R=p(((e,t)=>{v(),t.exports=i;var r=O();(i.prototype=Object.create(r.prototype)).constructor=i;var n=T();function i(e){r.call(this,e)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()})),M=p(((e,t)=>{v(),t.exports=n;var r=T();function n(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,n,i,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return r.asPromise(e,s,t,n,i,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,r){if(e)return s.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",r,t),o(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}})),D=p((e=>{v(),e.Service=M()})),N=p(((e,t)=>{v(),t.exports={}})),L=p((e=>{v();var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=P(),t.BufferWriter=x(),t.Reader=O(),t.BufferReader=R(),t.util=T(),t.rpc=D(),t.roots=N(),t.configure=r,r()})),B=p(((e,t)=>{v(),t.exports=L()}));v();var $={};h($,{decode:()=>je,decodeRequest:()=>We,decodeResponse:()=>Ue,decodeStdPrivResponse:()=>Ve,encode:()=>De,encodeRequest:()=>Ne,encodeResponse:()=>Le,encodeStdPrivRequest:()=>Be}),v(),v(),v();var F=(e=>(e.pb="PB",e.json="JSON",e))(F||{});function j(e){return"number"==typeof e}function W(e){return e instanceof Uint8Array}function U(e,t,r){var n=t?t.byteLength:r||65536;if(4095&n||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new e(new ArrayBuffer(n))}function V(e,t,r,n,i){var a=e.length-t,o=a<i?a:i;return e.set(r.subarray(n,n+o),t),o}v(),v();var q=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),e})(),z=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"SecurityError"}}),e})(),G=(()=>{var e,t,r,n,i,a,o=!1;function s(r,n){var i=e[(t[r]+t[n])%255];return(0===r||0===n)&&(i=0),i}function l(){function l(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return a^=99}o||function(){e=[],t=[];var r,n,i=1;for(r=0;r<255;r++)e[r]=i,n=128&i,i<<=1,i&=255,128===n&&(i^=27),i^=e[r],t[e[r]]=r;e[255]=e[0],t[0]=0,o=!0}(),r=[],n=[],i=[[],[],[],[]],a=[[],[],[],[]];for(var c=0;c<256;c++){var u=l(c);r[c]=u,n[u]=c,i[0][c]=s(2,u)<<24|u<<16|u<<8|s(3,u),a[0][u]=s(14,c)<<24|s(9,c)<<16|s(13,c)<<8|s(11,c);for(var d=1;d<4;d++)i[d][c]=i[d-1][c]>>>8|i[d-1][c]<<24,a[d][u]=a[d-1][u]>>>8|a[d-1][u]<<24}}var c=function(e,t){l();var o=new Uint32Array(t);o.set(r,512),o.set(n,768);for(var s=0;s<4;s++)o.set(i[s],4096+1024*s>>2),o.set(a[s],8192+1024*s>>2);var c=function(e,t,r){var n=0,i=0,a=0,o=0,s=0,l=0,c=0,u=0,d=0,p=0,h=0,f=0,g=0,v=0,m=0,y=0,_=0,b=new e.Uint32Array(r),w=new e.Uint8Array(r);function S(e,t,r,s,l,c,u,d){t|=0,s|=0,l|=0,c|=0,u|=0,d|=0;var p,h,f,g=0,v=0,m=0,y=0,_=0;for(p=1024|(r|=0),h=2048|r,f=3072|r,l^=b[(0|(e|=0))>>2],c^=b[(4|e)>>2],u^=b[(8|e)>>2],d^=b[(12|e)>>2],_=16;(0|_)<=s<<4;_=_+16|0)g=b[(r|l>>22&1020)>>2]^b[(p|c>>14&1020)>>2]^b[(h|u>>6&1020)>>2]^b[(f|d<<2&1020)>>2]^b[(e|_|0)>>2],v=b[(r|c>>22&1020)>>2]^b[(p|u>>14&1020)>>2]^b[(h|d>>6&1020)>>2]^b[(f|l<<2&1020)>>2]^b[(e|_|4)>>2],m=b[(r|u>>22&1020)>>2]^b[(p|d>>14&1020)>>2]^b[(h|l>>6&1020)>>2]^b[(f|c<<2&1020)>>2]^b[(e|_|8)>>2],y=b[(r|d>>22&1020)>>2]^b[(p|l>>14&1020)>>2]^b[(h|c>>6&1020)>>2]^b[(f|u<<2&1020)>>2]^b[(e|_|12)>>2],l=g,c=v,u=m,d=y;n=b[(t|l>>22&1020)>>2]<<24^b[(t|c>>14&1020)>>2]<<16^b[(t|u>>6&1020)>>2]<<8^b[(t|d<<2&1020)>>2]^b[(e|_|0)>>2],i=b[(t|c>>22&1020)>>2]<<24^b[(t|u>>14&1020)>>2]<<16^b[(t|d>>6&1020)>>2]<<8^b[(t|l<<2&1020)>>2]^b[(e|_|4)>>2],a=b[(t|u>>22&1020)>>2]<<24^b[(t|d>>14&1020)>>2]<<16^b[(t|l>>6&1020)>>2]<<8^b[(t|c<<2&1020)>>2]^b[(e|_|8)>>2],o=b[(t|d>>22&1020)>>2]<<24^b[(t|l>>14&1020)>>2]<<16^b[(t|c>>6&1020)>>2]<<8^b[(t|u<<2&1020)>>2]^b[(e|_|12)>>2]}function C(e,t,r,d){S(0,2048,4096,_,s^(e|=0),l^(t|=0),c^(r|=0),u^(d|=0)),s=n,l=i,c=a,u=o}var I=[,,C,function(e,t,r,d){var p;S(1024,3072,8192,_,e|=0,d|=0,r|=0,t|=0),p=i,i=o,o=p,n^=s,i^=l,a^=c,o^=u,s=e,l=t,c=r,u=d},,,,],A=[C];return{set_rounds:function(e){_=e|=0},set_state:function(e,t,r,s){n=e|=0,i=t|=0,a=r|=0,o=s|=0},set_iv:function(e,t,r,n){s=e|=0,l=t|=0,c=r|=0,u=n|=0},set_nonce:function(e,t,r,n){d=e|=0,p=t|=0,h=r|=0,f=n|=0},set_mask:function(e,t,r,n){g=e|=0,v=t|=0,m=r|=0,y=n|=0},set_counter:function(e,t,r,n){f=~y&f|y&(n|=0),h=~m&h|m&(r|=0),p=~v&p|v&(t|=0),d=~g&d|g&(e|=0)},get_state:function(e){return 15&(e|=0)?-1:(w[0|e]=n>>>24,w[1|e]=n>>>16&255,w[2|e]=n>>>8&255,w[3|e]=255&n,w[4|e]=i>>>24,w[5|e]=i>>>16&255,w[6|e]=i>>>8&255,w[7|e]=255&i,w[8|e]=a>>>24,w[9|e]=a>>>16&255,w[10|e]=a>>>8&255,w[11|e]=255&a,w[12|e]=o>>>24,w[13|e]=o>>>16&255,w[14|e]=o>>>8&255,w[15|e]=255&o,16)},get_iv:function(e){return 15&(e|=0)?-1:(w[0|e]=s>>>24,w[1|e]=s>>>16&255,w[2|e]=s>>>8&255,w[3|e]=255&s,w[4|e]=l>>>24,w[5|e]=l>>>16&255,w[6|e]=l>>>8&255,w[7|e]=255&l,w[8|e]=c>>>24,w[9|e]=c>>>16&255,w[10|e]=c>>>8&255,w[11|e]=255&c,w[12|e]=u>>>24,w[13|e]=u>>>16&255,w[14|e]=u>>>8&255,w[15|e]=255&u,16)},cipher:function(e,t,r){e|=0,r|=0;var s=0;if(15&(t|=0))return-1;for(;(0|r)>=16;)I[7&e](w[0|t]<<24|w[1|t]<<16|w[2|t]<<8|w[3|t],w[4|t]<<24|w[5|t]<<16|w[6|t]<<8|w[7|t],w[8|t]<<24|w[9|t]<<16|w[10|t]<<8|w[11|t],w[12|t]<<24|w[13|t]<<16|w[14|t]<<8|w[15|t]),w[0|t]=n>>>24,w[1|t]=n>>>16&255,w[2|t]=n>>>8&255,w[3|t]=255&n,w[4|t]=i>>>24,w[5|t]=i>>>16&255,w[6|t]=i>>>8&255,w[7|t]=255&i,w[8|t]=a>>>24,w[9|t]=a>>>16&255,w[10|t]=a>>>8&255,w[11|t]=255&a,w[12|t]=o>>>24,w[13|t]=o>>>16&255,w[14|t]=o>>>8&255,w[15|t]=255&o,s=s+16|0,t=t+16|0,r=r-16|0;return 0|s},mac:function(e,t,r){e|=0,r|=0;var n=0;if(15&(t|=0))return-1;for(;(0|r)>=16;)A[1&e](w[0|t]<<24|w[1|t]<<16|w[2|t]<<8|w[3|t],w[4|t]<<24|w[5|t]<<16|w[6|t]<<8|w[7|t],w[8|t]<<24|w[9|t]<<16|w[10|t]<<8|w[11|t],w[12|t]<<24|w[13|t]<<16|w[14|t]<<8|w[15|t]),n=n+16|0,t=t+16|0,r=r-16|0;return 0|n}}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},0,t);return c.set_key=function(e,t,n,i,s,l,u,d,p){var h=o.subarray(0,60),f=o.subarray(256,316);h.set([t,n,i,s,l,u,d,p]);for(var g=e,v=1;g<4*e+28;g++){var m=h[g-1];(g%e==0||8===e&&g%e==4)&&(m=r[m>>>24]<<24^r[m>>>16&255]<<16^r[m>>>8&255]<<8^r[255&m]),g%e==0&&(m=m<<8^m>>>24^v<<24,v=v<<1^(128&v?27:0)),h[g]=h[g-e]^m}for(var y=0;y<g;y+=4)for(var _=0;_<4;_++){m=h[g-(4+y)+(4-_)%4];f[y+_]=y<4||y>=g-4?m:a[0][r[m>>>24]]^a[1][r[m>>>16&255]]^a[2][r[m>>>8&255]]^a[3][r[255&m]]}c.set_rounds(e+5)},c};return c.ENC={CBC:2},c.DEC={CBC:3},c.MAC={CBC:0},c.HEAP_DATA=16384,c})(),H=new Uint8Array(1048576),K=G(null,H.buffer),Q=class{constructor(e,t,r,n,i){this.nonce=null,this.counter=0,this.counterSize=0,this.heap=U(Uint8Array,n).subarray(G.HEAP_DATA),this.asm=i||G(null,this.heap.buffer),this.mode=null,this.key=null,this.AES_reset(e,t,r)}AES_set_key(e){if(void 0!==e){if(!W(e))throw new TypeError("unexpected key type");var t=e.length;if(16!==t&&24!==t&&32!==t)throw new q("illegal key size");var r=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(t>>2,r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12),t>16?r.getUint32(16):0,t>16?r.getUint32(20):0,t>24?r.getUint32(24):0,t>24?r.getUint32(28):0),this.key=e}else if(!this.key)throw new Error("key is required")}AES_CTR_set_options(e,t,r){if(void 0!==r){if(r<8||r>48)throw new q("illegal counter size");this.counterSize=r;var n=Math.pow(2,r)-1;this.asm.set_mask(0,0,n/4294967296|0,0|n)}else this.counterSize=r=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");if(!W(e))throw new TypeError("unexpected nonce type");var i=e.length;if(!i||i>16)throw new q("illegal nonce size");this.nonce=e;var a=new DataView(new ArrayBuffer(16));if(new Uint8Array(a.buffer).set(e),this.asm.set_nonce(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)),void 0!==t){if(!j(t))throw new TypeError("unexpected counter type");if(t<0||t>=Math.pow(2,r))throw new q("illegal counter value");this.counter=t,this.asm.set_counter(0,0,t/4294967296|0,0|t)}else this.counter=0}AES_set_iv(e){if(void 0!==e){if(!W(e))throw new TypeError("unexpected iv type");if(16!==e.length)throw new q("illegal iv size");var t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.iv=e,this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))}else this.iv=null,this.asm.set_iv(0,0,0,0)}AES_set_padding(e){this.padding=void 0===e||!!e}AES_reset(e,t,r){return this.result=null,this.pos=0,this.len=0,this.AES_set_key(e),this.AES_set_iv(t),this.AES_set_padding(r),this}AES_Encrypt_process(e){if(!W(e))throw new TypeError("data isn't of expected type");for(var t=this.asm,r=this.heap,n=G.ENC[this.mode],i=G.HEAP_DATA,a=this.pos,o=this.len,s=0,l=e.length||0,c=0,u=0,d=new Uint8Array(o+l&-16);l>0;)o+=u=V(r,a+o,e,s,l),s+=u,l-=u,(u=t.cipher(n,i+a,o))&&d.set(r.subarray(a,a+u),c),c+=u,u<o?(a+=u,o-=u):(a=0,o=0);return this.result=d,this.pos=a,this.len=o,this}AES_Encrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Encrypt_process(e).result).length);var n=this.asm,i=this.heap,a=G.ENC[this.mode],o=G.HEAP_DATA,s=this.pos,l=this.len,c=16-l%16,u=l;if(this.hasOwnProperty("padding")){if(this.padding){for(var d=0;d<c;++d)i[s+l+d]=c;u=l+=c}else if(l%16)throw new q("data length must be a multiple of the block size")}else l+=c;var p=new Uint8Array(r+u);return r&&p.set(t),l&&n.cipher(a,o+s,l),u&&p.set(i.subarray(s,s+u),r),this.result=p,this.pos=0,this.len=0,this}AES_Decrypt_process(e){if(!W(e))throw new TypeError("data isn't of expected type");var t=this.asm,r=this.heap,n=G.DEC[this.mode],i=G.HEAP_DATA,a=this.pos,o=this.len,s=0,l=e.length||0,c=0,u=o+l&-16,d=0,p=0;this.padding&&(u-=d=o+l-u||16);for(var h=new Uint8Array(u);l>0;)o+=p=V(r,a+o,e,s,l),s+=p,l-=p,(p=t.cipher(n,i+a,o-(l?0:d)))&&h.set(r.subarray(a,a+p),c),c+=p,p<o?(a+=p,o-=p):(a=0,o=0);return this.result=h,this.pos=a,this.len=o,this}AES_Decrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Decrypt_process(e).result).length);var n=this.asm,i=this.heap,a=G.DEC[this.mode],o=G.HEAP_DATA,s=this.pos,l=this.len,c=l;if(l>0){if(l%16){if(this.hasOwnProperty("padding"))throw new q("data length must be a multiple of the block size");l+=16-l%16}if(n.cipher(a,o+s,l),this.hasOwnProperty("padding")&&this.padding){var u=i[s+c-1];if(u<1||u>16||u>c)throw new z("bad padding");for(var d=0,p=u;p>1;p--)d|=u^i[s+c-p];if(d)throw new z("bad padding");c-=u}}var h=new Uint8Array(r+c);return r>0&&h.set(t),c>0&&h.set(i.subarray(s,s+c),r),this.result=h,this.pos=0,this.len=0,this}},J=(()=>{class e extends Q{constructor(e,t=null,r=!0,n,i){super(e,t,r,n,i),this.mode="CBC",this.BLOCK_SIZE=16}encrypt(e){return this.AES_Encrypt_finish(e)}decrypt(e){return this.AES_Decrypt_finish(e)}}return e.encrypt=Y,e.decrypt=Z,e})(),X;function Y(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new J(t,n,r,H,K).encrypt(e).result}function Z(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new J(t,n,r,H,K).decrypt(e).result}function ee(e){return new Promise(((t,r)=>{for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<64;a++)i[n.charCodeAt(a)]=a;var o=typeof o<"u"?o:{},s=Object.assign({},o);"object"==typeof process&&"object"==typeof process.versions&&process.versions.node,o.print||console.log.bind(console);var l=o.printErr||console.warn.bind(console);Object.assign(o,s),s=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit,o.wasmBinary&&o.wasmBinary,o.noExitRuntime,"object"!=typeof e&&m("[WACloudCrypto] no native wasm support detected");var c,u=!1;o.INITIAL_MEMORY;var d,p=[],h=[],f=[];var g=0,v=null;function m(t){o.onAbort&&o.onAbort(t),l(t="Aborted("+t+")"),u=!0,t+=". Build with -sASSERTIONS for more info.";var n=new e.RuntimeError(t);r(n)}var y={env:{STACKTOP:0}};function _(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?w(r)():w(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(o)}}var b=[];function w(e){var t=b[e];return t||(e>=b.length&&(b.length=e+1),b[e]=t=d.get(e)),t}var S,C={};function I(e){function t(){S||(S=!0,o.calledRun=!0,!u&&(_(h),o.onRuntimeInitialized&&o.onRuntimeInitialized(),function(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)e=o.postRun.shift(),f.unshift(e);var e;_(f)}()))}g>0||(function(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)e=o.preRun.shift(),p.unshift(e);var e;_(p)}(),g>0)||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t())}if(function(){var r={a:C};function n(e,r){var n=e.exports;o.asm=n,c=o.asm.a,o.memory=c,function(e){o.HEAP8=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=new Int32Array(e),o.HEAPU8=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}(c.buffer),d=o.asm.g,function(e){h.unshift(e)}(o.asm.b),function(e){if(g--,o.monitorRunDependencies&&o.monitorRunDependencies(g),0==g&&v){var t=v;v=null,t()}}(),t(o)}function a(e){n(e.instance)}function s(t){return e.instantiate(function(e){var t,r,n,a,o,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;t<l;t+=4)r=i[e.charCodeAt(t)],n=i[e.charCodeAt(t+1)],a=i[e.charCodeAt(t+2)],o=i[e.charCodeAt(t+3)],d[c++]=r<<2|n>>4,d[c++]=(15&n)<<4|a>>2,d[c++]=(3&a)<<6|63&o;return u}("AGFzbQEAAAABIgVgA39/fwBgBH9/f38AYAAAYAV/f39/fwBgBn9/f39/fwADBwYBAgADBAAEBQFwAQEBBQYBAYABgAEGCQF/AUHAzMACCwcdBwFhAgABYgABAWMAAgFkAAUBZQAEAWYAAwFnAQAK5zoG/hIBCn8gACgCBCIFQRBqIQQgBSgCDCACKAAMcyEGIAUoAgggAigACHMhByAFKAIEIAIoAARzIQggBSgCACACKAAAcyECIAAoAgAhAAJ/IAFFBEAgAEEETgRAIABBAXYhCQNAIAhBFnZB/AdxQbAiaigCACAHQQ52QfwHcUGwGmooAgAgBkEGdkH8B3FBsBJqKAIAIAJB/wFxQQJ0QbAKaigCACAEKAIAc3NzcyIAQRZ2QfwHcUGwImooAgAgB0EWdkH8B3FBsCJqKAIAIAZBDnZB/AdxQbAaaigCACACQQZ2QfwHcUGwEmooAgAgCEH/AXFBAnRBsApqKAIAIAQoAgRzc3NzIgFBDnZB/AdxQbAaaigCACAGQRZ2QfwHcUGwImooAgAgAkEOdkH8B3FBsBpqKAIAIAhBBnZB/AdxQbASaigCACAHQf8BcUECdEGwCmooAgAgBCgCCHNzc3MiBUEGdkH8B3FBsBJqKAIAIAJBFnZB/AdxQbAiaigCACAIQQ52QfwHcUGwGmooAgAgB0EGdkH8B3FBsBJqKAIAIAZB/wFxQQJ0QbAKaigCACAEKAIMc3NzcyICQf8BcUECdEGwCmooAgAgBCgCHHNzc3MhBiACQRZ2QfwHcUGwImooAgAgAEEOdkH8B3FBsBpqKAIAIAFBBnZB/AdxQbASaigCACAFQf8BcUECdEGwCmooAgAgBCgCGHNzc3MhByAFQRZ2QfwHcUGwImooAgAgAkEOdkH8B3FBsBpqKAIAIABBBnZB/AdxQbASaigCACABQf8BcUECdEGwCmooAgAgBCgCFHNzc3MhCCABQRZ2QfwHcUGwImooAgAgBUEOdkH8B3FBsBpqKAIAIAJBBnZB/AdxQbASaigCACAAQf8BcUECdEGwCmooAgAgBCgCEHNzc3MhAiAEQSBqIQQgCUECSyEAIAlBAWshCSAADQALC0GwKiEFIAdBFnZB/AdxQbAiaigCACAGQQ52QfwHcUGwGmooAgAgAkEGdkH8B3FBsBJqKAIAIAhB/wFxQQJ0QbAKaigCACAEKAIEc3NzcyIAIQEgCEEWdkH8B3FBsCJqKAIAIAdBDnZB/AdxQbAaaigCACAGQQZ2QfwHcUGwEmooAgAgAkH/AXFBAnRBsApqKAIAIAQoAgBzc3NzIgkhCiACQRZ2QfwHcUGwImooAgAgCEEOdkH8B3FBsBpqKAIAIAdBBnZB/AdxQbASaigCACAGQf8BcUECdEGwCmooAgAgBCgCDHNzc3MiCyEMIAZBFnZB/AdxQbAiaigCACACQQ52QfwHcUGwGmooAgAgCEEGdkH8B3FBsBJqKAIAIAdB/wFxQQJ0QbAKaigCACAEKAIIc3NzcyINDAELIABBBE4EQCAAQQF2IQkDQCAIQRZ2QfwHcUGwxABqKAIAIAJBDnZB/AdxQbA8aigCACAGQQZ2QfwHcUGwNGooAgAgB0H/AXFBAnRBsCxqKAIAIAQoAghzc3NzIgBBFnZB/AdxQbDEAGooAgAgAkEWdkH8B3FBsMQAaigCACAGQQ52QfwHcUGwPGooAgAgB0EGdkH8B3FBsDRqKAIAIAhB/wFxQQJ0QbAsaigCACAEKAIEc3NzcyIBQQ52QfwHcUGwPGooAgAgBkEWdkH8B3FBsMQAaigCACAHQQ52QfwHcUGwPGooAgAgCEEGdkH8B3FBsDRqKAIAIAJB/wFxQQJ0QbAsaigCACAEKAIAc3NzcyIFQQZ2QfwHcUGwNGooAgAgB0EWdkH8B3FBsMQAaigCACAIQQ52QfwHcUGwPGooAgAgAkEGdkH8B3FBsDRqKAIAIAZB/wFxQQJ0QbAsaigCACAEKAIMc3NzcyICQf8BcUECdEGwLGooAgAgBCgCHHNzc3MhBiABQRZ2QfwHcUGwxABqKAIAIAVBDnZB/AdxQbA8aigCACACQQZ2QfwHcUGwNGooAgAgAEH/AXFBAnRBsCxqKAIAIAQoAhhzc3NzIQcgBUEWdkH8B3FBsMQAaigCACACQQ52QfwHcUGwPGooAgAgAEEGdkH8B3FBsDRqKAIAIAFB/wFxQQJ0QbAsaigCACAEKAIUc3NzcyEIIAJBFnZB/AdxQbDEAGooAgAgAEEOdkH8B3FBsDxqKAIAIAFBBnZB/AdxQbA0aigCACAFQf8BcUECdEGwLGooAgAgBCgCEHNzc3MhAiAEQSBqIQQgCUECSyEAIAlBAWshCSAADQALC0GwCCEFIAJBFnZB/AdxQbDEAGooAgAgBkEOdkH8B3FBsDxqKAIAIAdBBnZB/AdxQbA0aigCACAIQf8BcUECdEGwLGooAgAgBCgCBHNzc3MiCyEBIAhBFnZB/AdxQbDEAGooAgAgAkEOdkH8B3FBsDxqKAIAIAZBBnZB/AdxQbA0aigCACAHQf8BcUECdEGwLGooAgAgBCgCCHNzc3MiDSEKIAdBFnZB/AdxQbDEAGooAgAgCEEOdkH8B3FBsDxqKAIAIAJBBnZB/AdxQbA0aigCACAGQf8BcUECdEGwLGooAgAgBCgCDHNzc3MiACEMIAZBFnZB/AdxQbDEAGooAgAgB0EOdkH8B3FBsDxqKAIAIAhBBnZB/AdxQbA0aigCACACQf8BcUECdEGwLGooAgAgBCgCAHNzc3MiCQshAiAEKAIQIQYgBCgCFCEHIAQoAhghCCADIAQoAhwiBCAFIAxB/wFxai0AAHM6AAwgAyAIIAUgDUH/AXFqLQAAczoACCADIAcgBSABQf8BcWotAABzOgAEIAMgBiAFIAlB/wFxai0AAHM6AAAgAyAEIAUgCkEYdmotAABBGHRzQRh2OgAPIAMgCCAFIAtBGHZqLQAAQRh0c0EYdjoACyADIAcgBSACQRh2ai0AAEEYdHNBGHY6AAcgAyAGIAUgAEEYdmotAABBGHRzQRh2OgADIAMgBCAFIAFBEHZB/wFxai0AAEEQdHNBEHY6AA4gAyAEIAUgAkEIdkH/AXFqLQAAQQh0c0EIdjoADSADIAggBSAJQRB2Qf8BcWotAABBEHRzQRB2OgAKIAMgCCAFIABBCHZB/wFxai0AAEEIdHNBCHY6AAkgAyAHIAUgDEEQdkH/AXFqLQAAQRB0c0EQdjoABiADIAcgBSAKQQh2Qf8BcWotAABBCHRzQQh2OgAFIAMgBiAFIA1BEHZB/wFxai0AAEEQdHNBEHY6AAIgAyAGIAUgC0EIdkH/AXFqLQAAQQh0c0EIdjoAAQsDAAELpxYBBn8CQCAAAn9BCiACQYABRg0AGiACQYACRwRAIAJBwAFHDQJBDAwBC0EOCyIENgIAIAAgAEEIaiIDNgIEIAJBBXYhBUEAIQIDQCADIAJBAnQiBmogASAGaigAADYCACACQQFqIgIgBUcNAAsCQAJAAkAgBEEKaw4FAQMAAwIDCyAAIAAoAgggACgCHCIBQQh2Qf8BcUGwCGotAABzIAFBEHZB/wFxQbAIai0AAEEIdHMgAUEYdkGwCGotAABBEHRzIAFB/wFxQbAIai0AAEEYdHMiA0EBcyICNgIgIAAgAiAAKAIMcyICNgIkIAAgACgCECIGIAJzIgQ2AiggACAAKAIUIARzIgQ2AiwgACAAKAIYIgcgBHMiBTYCMCAAIAEgBXMiATYCNCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIANzIghBA3MiBTYCOCAAQUBrIAUgBnMiAzYCACAAIAIgBXMiBTYCPCAAIAMgB3MiBjYCSCAAIAMgBHM2AkQgACABIAZzIgI2AkwgACACQQh2Qf8BcUGwCGotAAAgAkEQdkH/AXFBsAhqLQAAQQh0ciACQRh2QbAIai0AAEEQdHIgAkH/AXFBsAhqLQAAQRh0ciAIcyIIQQdzIgI2AlAgACACIAVzIgU2AlQgACAEIAVzIgQ2AlwgACADIAVzNgJYIAAgASAEcyICNgJkIAAgBCAGczYCYCAAIAJBCHZB/wFxQbAIai0AACACQRB2Qf8BcUGwCGotAABBCHRyIAJBGHZBsAhqLQAAQRB0ciACQf8BcUGwCGotAABBGHRyIAhzIghBD3MiBjYCaCAAIAYgB3MiBzYCeCAAIAMgBnMiAzYCcCAAIAUgBnMiBTYCbCAAIAIgB3MiAjYCfCAAIAMgBHM2AnQgACACQQh2Qf8BcUGwCGotAAAgAkEQdkH/AXFBsAhqLQAAQQh0ciACQRh2QbAIai0AAEEQdHIgAkH/AXFBsAhqLQAAQRh0ciAIcyIGQR9zIgI2AoABIAAgAiAFcyICNgKEASAAIAEgAnMiATYClAEgACACIARzIgQ2AowBIAAgAiADcyIDNgKIASAAIAQgB3MiBTYCkAEgACABQQh2Qf8BcUGwCGotAAAgAUEQdkH/AXFBsAhqLQAAQQh0ciABQRh2QbAIai0AAEEQdHIgAUH/AXFBsAhqLQAAQRh0ciAGcyIGQT9zIgc2ApgBIAAgAiAHcyICNgKcASAAIAIgA3MiAzYCoAEgACADIARzIgQ2AqQBIAAgBCAFcyIFNgKoASAAIAEgBXMiATYCrAEgACABQQh2Qf8BcUGwCGotAAAgAUEQdkH/AXFBsAhqLQAAQQh0ciABQRh2QbAIai0AAEEQdHIgAUH/AXFBsAhqLQAAQRh0ciAGcyIGQf8AcyIHNgKwASAAIAIgB3MiAjYCtAEgACACIANzIgM2ArgBIAAgAyAEcyIENgK8ASAAIAQgBXMiBTYCwAEgACABIAVzIgE2AsQBIAAgAUEIdkH/AXFBsAhqLQAAIAFBEHZB/wFxQbAIai0AAEEIdHIgAUEYdkGwCGotAABBEHRyIAFB/wFxQbAIai0AAEEYdHIgBnNB/wFzIgY2AsgBIAAgAiAGcyICNgLMASAAIAIgA3MiAjYC0AEgACACIARzIgI2AtQBIAAgAiAFcyICNgLYASAAIAEgAnM2AtwBDwsgACAAKAIIIAAoAhQiAUEIdkH/AXFBsAhqLQAAcyABQRB2Qf8BcUGwCGotAABBCHRzIAFBGHZBsAhqLQAAQRB0cyABQf8BcUGwCGotAABBGHRzIgRBAXMiAjYCGCAAIAIgACgCDHMiAjYCHCAAIAAoAhAgAnMiAzYCICAAIAEgA3MiATYCJCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRBA3MiBTYCKCAAIAIgBXMiAjYCLCAAIAIgA3MiAzYCMCAAIAEgA3MiATYCNCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRBB3MiBTYCOCAAIAIgBXMiAjYCPCAAQUBrIAIgA3MiAzYCACAAIAEgA3MiATYCRCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRBD3MiBTYCSCAAIAIgBXMiAjYCTCAAIAIgA3MiAzYCUCAAIAEgA3MiATYCVCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRBH3MiBTYCWCAAIAIgBXMiAjYCXCAAIAIgA3MiAzYCYCAAIAEgA3MiATYCZCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRBP3MiBTYCaCAAIAIgBXMiAjYCbCAAIAIgA3MiAzYCcCAAIAEgA3MiATYCdCAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRB/wBzIgU2AnggACACIAVzIgI2AnwgACACIANzIgM2AoABIAAgASADcyIBNgKEASAAIAFBCHZB/wFxQbAIai0AACABQRB2Qf8BcUGwCGotAABBCHRyIAFBGHZBsAhqLQAAQRB0ciABQf8BcUGwCGotAABBGHRyIARzIgRB/wFzIgU2AogBIAAgAiAFcyICNgKMASAAIAIgA3MiAzYCkAEgACABIANzIgE2ApQBIAAgAUEIdkH/AXFBsAhqLQAAIAFBEHZB/wFxQbAIai0AAEEIdHIgAUEYdkGwCGotAABBEHRyIAFB/wFxQbAIai0AAEEYdHIgBHMiBEHkAXMiBTYCmAEgACACIAVzIgI2ApwBIAAgAiADcyIDNgKgASAAIAEgA3MiATYCpAEgACABQQh2Qf8BcUGwCGotAAAgAUEQdkH/AXFBsAhqLQAAQQh0ciABQRh2QbAIai0AAEEQdHIgAUH/AXFBsAhqLQAAQRh0ciAEc0HSAXMiBDYCqAEgACACIARzIgI2AqwBIAAgAiADcyICNgKwASAAIAEgAnM2ArQBDwsgAygCACEBQQAhBANAIAMgAygCHCIAQQh2Qf8BcUGwCGotAAAgBEECdEGACGooAgAgAXNzIABBEHZB/wFxQbAIai0AAEEIdHMgAEEYdkGwCGotAABBEHRzIABB/wFxQbAIai0AAEEYdHMiATYCICADIAEgAygCBHMiAjYCJCADIAMoAgggAnMiAjYCKCADIAMoAgwgAnMiAjYCLCADIAMoAhAgAkH/AXFBsAhqLQAAcyACQQh2Qf8BcUGwCGotAABBCHRzIAJBEHZB/wFxQbAIai0AAEEQdHMgAkEYdkGwCGotAABBGHRzIgI2AjAgAyACIAMoAhRzIgI2AjQgAyADKAIYIAJzIgI2AjggAyAAIAJzNgI8IANBIGohAyAEQQFqIgRBB0cNAAsLC8IGARJ/IwBBEGsiBSQAIAFBAEoEQCACQQFqIRYgAkECaiEIIAJBA2ohCSACQQRqIQogAkEFaiELIAJBBmohDCACQQdqIQ0gAkEIaiEOIAJBCWohDyACQQpqIRAgAkELaiERIAJBDGohEiACQQ1qIRMgAkEOaiEUIAJBD2ohFQNAIABBASACIAUQACAEIAUtAAAgAy0AAHM6AAAgBCAFLQABIAMtAAFzOgABIAQgBS0AAiADLQACczoAAiAEIAUtAAMgAy0AA3M6AAMgBCAFLQAEIAMtAARzOgAEIAQgBS0ABSADLQAFczoABSAEIAUtAAYgAy0ABnM6AAYgBCAFLQAHIAMtAAdzOgAHIAQgBS0ACCADLQAIczoACCAEIAUtAAkgAy0ACXM6AAkgBCAFLQAKIAMtAApzOgAKIAQgBS0ACyADLQALczoACyAEIAUtAAwgAy0ADHM6AAwgBCAFLQANIAMtAA1zOgANIAQgBS0ADiADLQAOczoADiAEIAUtAA8gAy0AD3M6AA8gFSEGAkACQCACLQAPIgdB/wFHDQAgFUEAOgAAIBQhBiAULQAAIgdB/wFHDQAgFEEAOgAAIBMhBiATLQAAIgdB/wFHDQAgE0EAOgAAIBIhBiASLQAAIgdB/wFHDQAgEkEAOgAAIBEhBiARLQAAIgdB/wFHDQAgEUEAOgAAIBAhBiAQLQAAIgdB/wFHDQAgEEEAOgAAIA8hBiAPLQAAIgdB/wFHDQAgD0EAOgAAIA4hBiAOLQAAIgdB/wFHDQAgDkEAOgAAIA0hBiANLQAAIgdB/wFHDQAgDUEAOgAAIAwhBiAMLQAAIgdB/wFHDQAgDEEAOgAAIAshBiALLQAAIgdB/wFHDQAgC0EAOgAAIAohBiAKLQAAIgdB/wFHDQAgCkEAOgAAIAkhBiAJLQAAIgdB/wFHDQAgCUEAOgAAIAghBiAILQAAIgdB/wFHDQAgCEEAOgAAIBYiBi0AACIHQf8BRw0AIAJBADoAASACIQYgAi0AACIHQf8BRw0AIAJBADoAAAwBCyAGIAdBAWo6AAALIARBEGohBCADQRBqIQMgAUEQSyEGIAFBEGshASAGDQALCyAFQRBqJAALxQUBAn8jAEEQayIGJAACQCABBEAgAkEATA0BA0AgBSADLQAAIAQtAABzOgAAIAUgAy0AASAELQABczoAASAFIAMtAAIgBC0AAnM6AAIgBSADLQADIAQtAANzOgADIAUgAy0ABCAELQAEczoABCAFIAMtAAUgBC0ABXM6AAUgBSADLQAGIAQtAAZzOgAGIAUgAy0AByAELQAHczoAByAFQQhqIAMtAAggBC0ACHM6AAAgBSADLQAJIAQtAAlzOgAJIAUgAy0ACiAELQAKczoACiAFIAMtAAsgBC0AC3M6AAsgBSADLQAMIAQtAAxzOgAMIAUgAy0ADSAELQANczoADSAFIAMtAA4gBC0ADnM6AA4gBSADLQAPIAQtAA9zOgAPIAAgASAFIAUQACADIAUpAAg3AAggAyAFKQAANwAAIAVBEGohBSAEQRBqIQQgAkEQSyEHIAJBEGshAiAHDQALDAELIAJBAEwNAANAIAYgBCkAADcDACAGIAQpAAg3AwggAEEAIAQgBRAAIAUgAy0AACAFLQAAczoAACAFIAMtAAEgBS0AAXM6AAEgBSADLQACIAUtAAJzOgACIAUgAy0AAyAFLQADczoAAyAFIAMtAAQgBS0ABHM6AAQgBSADLQAFIAUtAAVzOgAFIAUgAy0ABiAFLQAGczoABiAFIAMtAAcgBS0AB3M6AAcgBSADLQAIIAUtAAhzOgAIIAUgAy0ACSAFLQAJczoACSAFIAMtAAogBS0ACnM6AAogBSADLQALIAUtAAtzOgALIAUgAy0ADCAFLQAMczoADCAFIAMtAA0gBS0ADXM6AA0gBSADLQAOIAUtAA5zOgAOIAUgAy0ADyAFLQAPczoADyADIAYpAwg3AAggAyAGKQMANwAAIAVBEGohBSAEQRBqIQQgAkEQSyEBIAJBEGshAiABDQALCyAGQRBqJAALrAUBAn8jAEGgAmsiAyQAAkAgAAJ/QQogAkGAAUYNABogAkGAAkcEQCACQcABRw0CQQwMAQtBDgs2AgAgACAAQQhqNgIEIANBCGogASACEAIgACADKAIMIAMoAghBBHRqIgEoAgA2AgggACABKAIENgIMIAAgASgCCDYCECAAIAEoAgw2AhQgAEEYaiECIAFBEGshASAAKAIAIgRBAk4EQANAIAIgASgCACIAQQh2Qf8BcUGwCGotAABBAnRBsBJqKAIAIABB/wFxQbAIai0AAEECdEGwCmooAgBzIABBEHZB/wFxQbAIai0AAEECdEGwGmooAgBzIABBGHZBsAhqLQAAQQJ0QbAiaigCAHM2AgAgAiABKAIEIgBBCHZB/wFxQbAIai0AAEECdEGwEmooAgAgAEH/AXFBsAhqLQAAQQJ0QbAKaigCAHMgAEEQdkH/AXFBsAhqLQAAQQJ0QbAaaigCAHMgAEEYdkGwCGotAABBAnRBsCJqKAIAczYCBCACIAEoAggiAEEIdkH/AXFBsAhqLQAAQQJ0QbASaigCACAAQf8BcUGwCGotAABBAnRBsApqKAIAcyAAQRB2Qf8BcUGwCGotAABBAnRBsBpqKAIAcyAAQRh2QbAIai0AAEECdEGwImooAgBzNgIIIAIgASgCDCIAQQh2Qf8BcUGwCGotAABBAnRBsBJqKAIAIABB/wFxQbAIai0AAEECdEGwCmooAgBzIABBEHZB/wFxQbAIai0AAEECdEGwGmooAgBzIABBGHZBsAhqLQAAQQJ0QbAiaigCAHM2AgwgAUEQayEBIAJBEGohAiAEQQJLIQAgBEEBayEEIAANAAsLIAIgASgCADYCACACIAEoAgQ2AgQgAiABKAIINgIIIAIgASgCDDYCDAsgA0GgAmokAAsLs0QCAEGACAslAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAbAAAANgBBsAgLgERjfHd78mtvxTABZyv+16t2yoLJffpZR/Ct1KKvnKRywLf9kyY2P/fMNKXl8XHYMRUExyPDGJYFmgcSgOLrJ7J1CYMsGhtuWqBSO9azKeMvhFPRAO0g/LFbasu+OUpMWM/Q76r7Q00zhUX5An9QPJ+oUaNAj5KdOPW8ttohEP/z0s0ME+xfl0QXxKd+PWRdGXNggU/cIiqQiEbuuBTeXgvb4DI6CkkGJFzC06xikZXkeefIN22N1U6pbFb06mV6rgi6eCUuHKa0xujddB9LvYuKcD61ZkgD9g5hNVe5hsEdnuH4mBFp2Y6Umx6H6c5VKN+MoYkNv+ZCaEGZLQ+wVLsWUfSnUH5BZVMaF6TDOideljura8sfnUXxrPpYq0vjA5MgMPpVrXZt9ojMdpH1AkwlT+XX/MUqy9cmNUSAtWKjj96xWkkluhtnReoOmF3+wOHDL3UCgUzwEo1Gl6Nr0/nGA49f5xWSnJW/bXrrlVJZ2tS+gy1YdCHTSeBpKY7JyER1wolq9I55eJlYPmsnuXHdvuFPtvCIrRfJIKxmfc46tGPfShjlGjGCl1EzYGJTf0WxZHfgu2uuhP6BoBz5CCuUcEhoWI9F/RmU3myHUnv4t6tz0yNySwLi4x+PV2ZVqyqy6ygHL7XCA4bFe5rTNwilMCiH8iO/pbICA2q67RaCXIrPHCunebSS8wfy8E5p4qFl2vTNBgW+1dE0Yh/Epv6KNC5TnaLzVaAFiuEypPbrdQuD7DlAYO+qXnGfBr1uEFE+IYr5lt0GPd0+Ba5N5r1GkVSNtXHEXQUEBtRvYFAV/xmY+yTWvemXiUBDzGfZnnew6EK9B4mLiOcZWzh5yO7boXwKR3xCD+n4hB7JAAAAAAmAhoMyK+1IHhFwrGxack79Dv/7D4U4Vj2u1R42LTknCg/ZZGhcpiGbW1TRJDYuOgwKZ7GTV+cPtO6W0hubkZ6AwMVPYdwgolp3S2kcEhoW4pO6CsCgKuU8IuBDEhsXHQ4JDQvyi8etLbaouRQeqchX8RmFr3UHTO6Z3bujf2D99wEmn1xy9bxEZjvFW/t+NItDKXbLI8bctu38aLjk8WPXMdzKQmOFEBOXIkCExhEghUokfdK7Pfiu+TIRxymhbR2eL0vcsjDzDYZS7HfB49ArsxZsqXC5mRGUSPpH6WQiqPyMxKDwPxpWfSzYIjOQ74dJTsfZONHBjMqi/pjUCzam9YHPpXreKNq3jiY/rb+kLDqd5FB4kg1qX8ybVH5GYvaNE8KQ2LjoLjn3XoLDr/WfXYC+adCTfG/VLanPJRKzyKyZOxAYfafonGNu2zu7e80meAluWRj07Jq3AYNPmqjmlW5lqv/mfiG8zwjvFejmuueb2UpvNs7qnwnUKbB81jGksq8qPyMxxqWUMDWiZsB0Trw3/ILKpuCQ0LAzp9gV8QSYSkHs2vd/zVAOF5H2L3ZN1o1D77BNzKpNVOSWBN+e0bXjTGqIG8EsH7hGZVF/nV7qBAGMNV36h3Rz+wtBLrNnHVqS29JS6RBWM23WRxOa12GMN6EMeln4FI7rEzyJzqkn7rdhyTXhHOXtekexPJzS31lV8nM/GBTOeXPHN79T983qX/2qW989bxR4RNuGyq/zgbloxD44JDQswqNAXxYdw3K84iUMKDxJi/8NlUE5qAFxCAyz3ti05JxkVsGQe8uEYdUytnBIbFx00LhXQlBR9KdTfkFlwxoXpJY6J17LO6tr8R+dRaus+liTS+MDVSAw+vatdm2RiMx2JfUCTPxP5dfXxSrLgCY1RI+1YqNJ3rFaZyW6G5hF6g7hXf7AAsMvdRKBTPCjjUaXxmvT+ecDj1+VFZKc679tetqVUlkt1L6D01h0ISlJ4GlEjsnIanXCiXj0jnlrmVg+3Se5cba+4U8X8IitZskgrLR9zjoYY99KguUaMWCXUTNFYlN/4LFkd4S7a64c/oGglPkIK1hwSGgZj0X9h5TebLdSe/gjq3PT4nJLAlfjH48qZlWrB7LrKAMvtcKahsV7pdM3CPIwKIeyI7+lugIDalztFoIris8ckqd5tPDzB/KhTmnizWXa9NUGBb4f0TRiisSm/p00LlOgovNVMgWK4XWk9us5C4PsqkBg7wZecZ9RvW4Q+T4hij2W3Qau3T4FRk3mvbWRVI0FccRdbwQG1P9gUBUkGZj7l9a96cyJQEN3Z9mevbDoQogHiYs45xlb23nI7kehfArpfEIPyfiEHgAAAACDCYCGSDIr7aweEXBObFpy+/0O/1YPhTgePa7VJzYtOWQKD9khaFym0ZtbVDokNi6xDApnD5NX59K07paeG5uRT4DAxaJh3CBpWndLFhwSGgrik7rlwKAqQzwi4B0SGxcLDgkNrfKLx7kttqjIFB6phVfxGUyvdQe77pnd/aN/YJ/3ASa8XHL1xURmOzRb+352i0Mp3Msjxmi27fxjuOTxytcx3BBCY4VAE5ciIITGEX2FSiT40rs9Ea75Mm3HKaFLHZ4v89yyMOwNhlLQd8HjbCuzFpmpcLn6EZRIIkfpZMSo/IwaoPA/2FZ9LO8iM5DHh0lOwdk40f6MyqI2mNQLz6b1gSilet4m2reOpD+tv+QsOp0NUHiSm2pfzGJUfkbC9o0T6JDYuF4uOff1gsOvvp9dgHxp0JOpb9Uts88lEjvIrJmnEBh9buicY3vbO7sJzSZ49G5ZGAHsmreog0+aZeaVbn6q/+YIIbzP5u8V6Nm655vOSm821OqfCdYpsHyvMaSyMSo/IzDGpZTANaJmN3ROvKb8gsqw4JDQFTOn2ErxBJj3QezaDn/NUC8XkfaNdk3WTUPvsFTMqk3f5JYE457RtRtMaoi4wSwff0ZlUQSdXupdAYw1c/qHdC77C0Fas2cdUpLb0jPpEFYTbdZHjJrXYXo3oQyOWfgUiesTPO7OqSc1t2HJ7eEc5Tx6R7FZnNLfP1Xyc3kYFM6/c8c36lP3zVtf/aoU3z1vhnhE24HKr/M+uWjELDgkNF/Co0ByFh3DDLziJYsoPElB/w2VcTmoAd4IDLOc2LTkkGRWwWF7y4Rw1TK2dEhsXELQuFenUFH0ZVN+QaTDGhdeljona8s7q0XxH51Yq6z6A5NL4/pVIDBt9q12dpGIzEwl9QLX/E/ly9fFKkSAJjWjj7ViWknesRtnJboOmEXqwOFd/nUCwy/wEoFMl6ONRvnGa9Nf5wOPnJUVknrrv21Z2pVSgy3UviHTWHRpKUngyESOyYlqdcJ5ePSOPmuZWHHdJ7lPtr7hrRfwiKxmySA6tH3OShhj3zGC5RozYJdRf0ViU3fgsWSuhLtroBz+gSuU+QhoWHBI/RmPRWyHlN74t1J70yOrcwLickuPV+MfqypmVSgHsuvCAy+1e5qGxQil0zeH8jAopbIjv2q6AgOCXO0WHCuKz7SSp3ny8PMH4qFOafTNZdq+1QYFYh/RNP6KxKZTnTQuVaCi8+EyBYrrdaT27DkLg++qQGCfBl5xEFG9bor5PiEGPZbdBa7dPr1GTeaNtZFUXQVxxNRvBAYV/2BQ+yQZmOmX1r1DzIlAnndn2UK9sOiLiAeJWzjnGe7becgKR6F8D+l8Qh7J+IQAAAAAhoMJgO1IMitwrB4Rck5sWv/7/Q44Vg+F1R49rjknNi3ZZAoPpiFoXFTRm1suOiQ2Z7EMCucPk1eW0rTukZ4bm8VPgMAgomHcS2ladxoWHBK6CuKTKuXAoOBDPCIXHRIbDQsOCcet8ououS22qcgUHhmFV/EHTK913bvumWD9o38mn/cB9bxccjvFRGZ+NFv7KXaLQ8bcyyP8aLbt8WO45NzK1zGFEEJjIkATlxEghMYkfYVKPfjSuzIRrvmhbccpL0sdnjDz3LJS7A2G49B3wRZsK7O5malwSPoRlGQiR+mMxKj8Pxqg8CzYVn2Q7yIzTseHSdHB2Tii/ozKCzaY1IHPpvXeKKV6jibat7+kP62d5Cw6kg1QeMybal9GYlR+E8L2jbjokNj3Xi45r/WCw4C+n12TfGnQLalv1RKzzyWZO8isfacQGGNu6Jy7e9s7eAnNJhj0blm3AeyamqiDT25l5pXmfqr/zwghvOjm7xWb2brnNs5KbwnU6p981imwsq8xpCMxKj+UMMalZsA1orw3dE7KpvyC0LDgkNgVM6eYSvEE2vdB7FAOf832LxeR1o12TbBNQ+9NVMyqBN/klrXjntGIG0xqH7jBLFF/RmXqBJ1eNV0BjHRz+odBLvsLHVqzZ9JSkttWM+kQRxNt1mGMmtcMejehFI5Z+DyJ6xMn7s6pyTW3YeXt4RyxPHpH31mc0nM/VfLOeRgUN79zx83qU/eqW1/9bxTfPduGeETzgcqvxD65aDQsOCRAX8Kjw3IWHSUMvOJJiyg8lUH/DQFxOaiz3ggM5JzYtMGQZFaEYXvLtnDVMlx0SGxXQtC49KdQUUFlU34XpMMaJ16WOqtryzudRfEf+lirrOMDk0sw+lUgdm32rcx2kYgCTCX15df8TyrL18U1RIAmYqOPtbFaSd66G2cl6g6YRf7A4V0vdQLDTPASgUaXo43T+cZrj1/nA5KclRVteuu/Ulnalb6DLdR0IdNY4GkpScnIRI7CiWp1jnl49Fg+a5m5cd0n4U+2voitF/AgrGbJzjq0fd9KGGMaMYLlUTNgl1N/RWJkd+Cxa66Eu4GgHP4IK5T5SGhYcEX9GY/ebIeUe/i3UnPTI6tLAuJyH49X41WrKmbrKAeytcIDL8V7moY3CKXTKIfyML+lsiMDaroCFoJc7c8cK4p5tJKnB/Lw82nioU7a9M1lBb7VBjRiH9Gm/orELlOdNPNVoKKK4TIF9ut1pIPsOQtg76pAcZ8GXm4QUb0hivk+3QY9lj4Frt3mvUZNVI21kcRdBXEG1G8EUBX/YJj7JBm96ZfWQEPMidmed2foQr2wiYuIBxlbOOfI7tt5fApHoUIP6XyEHsn4AAAAAICGgwkr7UgyEXCsHlpyTmwO//v9hThWD67VHj0tOSc2D9lkClymIWhbVNGbNi46JApnsQxX5w+T7pbStJuRnhvAxU+A3CCiYXdLaVoSGhYck7oK4qAq5cAi4EM8GxcdEgkNCw6Lx63ytqi5LR6pyBTxGYVXdQdMr5ndu+5/YP2jASaf93L1vFxmO8VE+340W0MpdosjxtzL7fxotuTxY7gx3MrXY4UQQpciQBPGESCESiR9hbs9+NL5MhGuKaFtx54vSx2yMPPchlLsDcHj0HezFmwrcLmZqZRI+hHpZCJH/IzEqPA/GqB9LNhWM5DvIklOx4c40cHZyqL+jNQLNpj1gc+met4opbeOJtqtv6Q/Op3kLHiSDVBfzJtqfkZiVI0TwvbYuOiQOfdeLsOv9YJdgL6f0JN8adUtqW8lErPPrJk7yBh9pxCcY27oO7t72yZ4Cc1ZGPRumrcB7E+aqIOVbmXm/+Z+qrzPCCEV6Obv55vZum82zkqfCdTqsHzWKaSyrzE/IzEqpZQwxqJmwDVOvDd0gsqm/JDQsOCn2BUzBJhK8eza90HNUA5/kfYvF03WjXbvsE1Dqk1UzJYE3+TRteOeaogbTCwfuMFlUX9GXuoEnYw1XQGHdHP6C0Eu+2cdWrPb0lKSEFYz6dZHE23XYYyaoQx6N/gUjlkTPInrqSfuzmHJNbcc5e3hR7E8etLfWZzycz9VFM55GMc3v3P3zepT/apbXz1vFN9E24Z4r/OBymjEPrkkNCw4o0Bfwh3DchbiJQy8PEmLKA2VQf+oAXE5DLPeCLTknNhWwZBky4RhezK2cNVsXHRIuFdC0FIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH3GY2Ol+Hx8hO53d5n2e3uN//LyDdZra73eb2+xkcXFVGAwMFACAQEDzmdnqVYrK33n/v4ZtdfXYk2rq+bsdnaaj8rKRR+Cgp2JyclA+n19h+/6+hWyWVnrjkdHyfvw8AtBra3ss9TUZ1+iov1Fr6/qI5ycv1OkpPfkcnKWm8DAW3W3t8Lh/f0cPZOTrkwmJmpsNjZafj8/QfX39wKDzMxPaDQ0XFGlpfTR5eU0+fHxCOJxcZOr2NhzYjExUyoVFT8IBAQMlcfHUkYjI2Wdw8NeMBgYKDeWlqEKBQUPL5qatQ4HBwkkEhI2G4CAm9/i4j3N6+smTicnaX+yss3qdXWfEgkJGx2Dg55YLCx0NBoaLjYbGy3cbm6ytFpa7lugoPukUlL2djs7TbfW1mF9s7POUikpe93j4z5eLy9xE4SEl6ZTU/W50dFoAAAAAMHt7SxAICBg4/z8H3mxsci2W1vt1Gpqvo3Ly0Znvr7Zcjk5S5RKSt6YTEzUsFhY6IXPz0q70NBrxe/vKk+qquXt+/sWhkNDxZpNTddmMzNVEYWFlIpFRc/p+fkQBAICBv5/f4GgUFDweDw8RCWfn7pLqKjjolFR812jo/6AQEDABY+Pij+Skq0hnZ28cDg4SPH19QRjvLzfd7a2wa/a2nVCISFjIBAQMOX//xr98/MOv9LSbYHNzUwYDAwUJhMTNcPs7C++X1/hNZeXoohERMwuFxc5k8TEV1Wnp/L8fn6Cej09R8hkZKy6XV3nMhkZK+Zzc5XAYGCgGYGBmJ5PT9Gj3Nx/RCIiZlQqKn47kJCrC4iIg4xGRsrH7u4pa7i40ygUFDyn3t55vF5e4hYLCx2t29t22+DgO2QyMlZ0OjpOFAoKHpJJSdsMBgYKSCQkbLhcXOSfwsJdvdPTbkOsrO/EYmKmOZGRqDGVlaTT5OQ38nl5i9Xn5zKLyMhDbjc3WdptbbcBjY2MsdXVZJxOTtJJqang2GxstKxWVvrz9PQHz+rqJcplZa/0enqOR66u6RAICBhvurrV8Hh4iEolJW9cLi5yOBwcJFempvFztLTHl8bGUcvo6COh3d186HR0nD4fHyGWS0vdYb293A2Li4YPioqF4HBwkHw+PkJxtbXEzGZmqpBISNgGAwMF9/b2ARwODhLCYWGjajU1X65XV/lpubnQF4aGkZnBwVg6HR0nJ56eudnh4Tjr+PgTK5iYsyIRETPSaWm7qdnZcAeOjokzlJSnLZubtjweHiIVh4eSyenpIIfOzkmqVVX/UCgoeKXf33oDjIyPWaGh+AmJiYAaDQ0XZb+/2tfm5jGEQkLG0GhouIJBQcMpmZmwWi0tdx4PDxF7sLDLqFRU/G27u9YsFhY6pcZjY4T4fHyZ7nd3jfZ7ew3/8vK91mtrsd5vb1SRxcVQYDAwAwIBAanOZ2d9VisrGef+/mK119fmTaurmux2dkWPysqdH4KCQInJyYf6fX0V7/r667JZWcmOR0cL+/Dw7EGtrWez1NT9X6Ki6kWvr78jnJz3U6SkluRyclubwMDCdbe3HOH9/a49k5NqTCYmWmw2NkF+Pz8C9ff3T4PMzFxoNDT0UaWlNNHl5Qj58fGT4nFxc6vY2FNiMTE/KhUVDAgEBFKVx8dlRiMjXp3DwygwGBihN5aWDwoFBbUvmpoJDgcHNiQSEpsbgIA93+LiJs3r62lOJyfNf7Kyn+p1dRsSCQmeHYODdFgsLC40GhotNhsbstxubu60Wlr7W6Cg9qRSUk12Oztht9bWzn2zs3tSKSk+3ePjcV4vL5cThIT1plNTaLnR0QAAAAAswe3tYEAgIB/j/PzIebGx7bZbW77UampGjcvL2We+vktyOTnelEpK1JhMTOiwWFhKhc/Pa7vQ0CrF7+/lT6qqFu37+8WGQ0PXmk1NVWYzM5QRhYXPikVFEOn5+QYEAgKB/n9/8KBQUER4PDy6JZ+f40uoqPOiUVH+XaOjwIBAQIoFj4+tP5KSvCGdnUhwODgE8fX132O8vMF3trZ1r9raY0IhITAgEBAa5f//Dv3z822/0tJMgc3NFBgMDDUmExMvw+zs4b5fX6I1l5fMiEREOS4XF1eTxMTyVaengvx+fkd6PT2syGRk57pdXSsyGRmV5nNzoMBgYJgZgYHRnk9Pf6Pc3GZEIiJ+VCoqqzuQkIMLiIjKjEZGKcfu7tNruLg8KBQUeafe3uK8Xl4dFgsLdq3b2zvb4OBWZDIyTnQ6Oh4UCgrbkklJCgwGBmxIJCTkuFxcXZ/Cwm6909PvQ6yspsRiYqg5kZGkMZWVN9Pk5IvyeXky1efnQ4vIyFluNze32m1tjAGNjWSx1dXSnE5O4EmpqbTYbGz6rFZWB/P09CXP6uqvymVljvR6eulHrq4YEAgI1W+6uojweHhvSiUlclwuLiQ4HBzxV6amx3O0tFGXxsYjy+jofKHd3ZzodHQhPh8f3ZZLS9xhvb2GDYuLhQ+KipDgcHBCfD4+xHG1tarMZmbYkEhIBQYDAwH39vYSHA4Oo8JhYV9qNTX5rldX0Gm5uZEXhoZYmcHBJzodHbknnp442eHhE+v4+LMrmJgzIhERu9JpaXCp2dmJB46OpzOUlLYtm5siPB4ekhWHhyDJ6elJh87O/6pVVXhQKCh6pd/fjwOMjPhZoaGACYmJFxoNDdplv78x1+bmxoRCQrjQaGjDgkFBsCmZmXdaLS0RHg8Py3uwsPyoVFTWbbu7OiwWFmOlxmN8hPh8d5nud3uN9nvyDf/ya73Wa2+x3m/FVJHFMFBgMAEDAgFnqc5nK31WK/4Z5/7XYrXXq+ZNq3aa7HbKRY/Kgp0fgslAicl9h/p9+hXv+lnrsllHyY5H8Av78K3sQa3UZ7PUov1foq/qRa+cvyOcpPdTpHKW5HLAW5vAt8J1t/0c4f2Trj2TJmpMJjZabDY/QX4/9wL198xPg8w0XGg0pfRRpeU00eXxCPnxcZPicdhzq9gxU2IxFT8qFQQMCATHUpXHI2VGI8NencMYKDAYlqE3lgUPCgWatS+aBwkOBxI2JBKAmxuA4j3f4usmzesnaU4nss1/snWf6nUJGxIJg54dgyx0WCwaLjQaGy02G26y3G5a7rRaoPtboFL2pFI7TXY71mG31rPOfbMpe1Ip4z7d4y9xXi+ElxOEU/WmU9FoudEAAAAA7SzB7SBgQCD8H+P8sch5sVvttltqvtRqy0aNy77ZZ745S3I5St6USkzUmExY6LBYz0qFz9Bru9DvKsXvquVPqvsW7ftDxYZDTdeaTTNVZjOFlBGFRc+KRfkQ6fkCBgQCf4H+f1DwoFA8RHg8n7oln6jjS6hR86JRo/5do0DAgECPigWPkq0/kp28IZ04SHA49QTx9bzfY7y2wXe22nWv2iFjQiEQMCAQ/xrl//MO/fPSbb/SzUyBzQwUGAwTNSYT7C/D7F/hvl+XojWXRMyIRBc5LhfEV5PEp/JVp36C/H49R3o9ZKzIZF3nul0ZKzIZc5Xmc2CgwGCBmBmBT9GeT9x/o9wiZkQiKn5UKpCrO5CIgwuIRsqMRu4px+6402u4FDwoFN55p95e4rxeCx0WC9t2rdvgO9vgMlZkMjpOdDoKHhQKSduSSQYKDAYkbEgkXOS4XMJdn8LTbr3TrO9DrGKmxGKRqDmRlaQxleQ30+R5i/J55zLV58hDi8g3WW43bbfabY2MAY3VZLHVTtKcTqngSalstNhsVvqsVvQH8/TqJc/qZa/KZXqO9Hqu6UeuCBgQCLrVb7p4iPB4JW9KJS5yXC4cJDgcpvFXprTHc7TGUZfG6CPL6N18od10nOh0HyE+H0vdlku93GG9i4YNi4qFD4pwkOBwPkJ8PrXEcbVmqsxmSNiQSAMFBgP2Aff2DhIcDmGjwmE1X2o1V/muV7nQabmGkReGwViZwR0nOh2euSee4TjZ4fgT6/iYsyuYETMiEWm70mnZcKnZjokHjpSnM5Sbti2bHiI8HoeSFYfpIMnpzkmHzlX/qlUoeFAo33ql34yPA4yh+FmhiYAJiQ0XGg2/2mW/5jHX5kLGhEJouNBoQcOCQZmwKZktd1otDxEeD7DLe7BU/KhUu9ZtuxY6LBZjY6XGfHyE+Hd3me57e4328vIN/2trvdZvb7HexcVUkTAwUGABAQMCZ2epzisrfVb+/hnn19ditaur5k12dprsyspFj4KCnR/JyUCJfX2H+vr6Fe9ZWeuyR0fJjvDwC/utrexB1NRns6Ki/V+vr+pFnJy/I6Sk91NycpbkwMBbm7e3wnX9/Rzhk5OuPSYmakw2NlpsPz9Bfvf3AvXMzE+DNDRcaKWl9FHl5TTR8fEI+XFxk+LY2HOrMTFTYhUVPyoEBAwIx8dSlSMjZUbDw16dGBgoMJaWoTcFBQ8Kmpq1LwcHCQ4SEjYkgICbG+LiPd/r6ybNJydpTrKyzX91dZ/qCQkbEoODnh0sLHRYGhouNBsbLTZubrLcWlrutKCg+1tSUvakOztNdtbWYbezs859KSl7UuPjPt0vL3FehISXE1NT9abR0Wi5AAAAAO3tLMEgIGBA/Pwf47GxyHlbW+22amq+1MvLRo2+vtlnOTlLckpK3pRMTNSYWFjosM/PSoXQ0Gu77+8qxaqq5U/7+xbtQ0PFhk1N15ozM1VmhYWUEUVFz4r5+RDpAgIGBH9/gf5QUPCgPDxEeJ+fuiWoqONLUVHzoqOj/l1AQMCAj4+KBZKSrT+dnbwhODhIcPX1BPG8vN9jtrbBd9rada8hIWNCEBAwIP//GuXz8w790tJtv83NTIEMDBQYExM1JuzsL8NfX+G+l5eiNUREzIgXFzkuxMRXk6en8lV+foL8PT1HemRkrMhdXee6GRkrMnNzleZgYKDAgYGYGU9P0Z7c3H+jIiJmRCoqflSQkKs7iIiDC0ZGyozu7inHuLjTaxQUPCje3nmnXl7ivAsLHRbb23at4OA72zIyVmQ6Ok50CgoeFElJ25IGBgoMJCRsSFxc5LjCwl2f09Nuvays70NiYqbEkZGoOZWVpDHk5DfTeXmL8ufnMtXIyEOLNzdZbm1tt9qNjYwB1dVksU5O0pypqeBJbGy02FZW+qz09Afz6uolz2Vlr8p6eo70rq7pRwgIGBC6utVveHiI8CUlb0ouLnJcHBwkOKam8Ve0tMdzxsZRl+joI8vd3XyhdHSc6B8fIT5LS92Wvb3cYYuLhg2KioUPcHCQ4D4+Qny1tcRxZmaqzEhI2JADAwUG9vYB9w4OEhxhYaPCNTVfaldX+a65udBphoaRF8HBWJkdHSc6np65J+HhONn4+BPrmJizKxERMyJpabvS2dlwqY6OiQeUlKczm5u2LR4eIjyHh5IV6ekgyc7OSYdVVf+qKCh4UN/feqWMjI8DoaH4WYmJgAkNDRcav7/aZebmMddCQsaEaGi40EFBw4KZmbApLS13Wg8PER6wsMt7VFT8qLu71m0WFjos"),y).then((function(e){return e})).then(t,(function(e){l("[WACloudCrypto] failed to asynchronously prepare wasm: "+e),m(e)}))}if(g++,o.monitorRunDependencies&&o.monitorRunDependencies(g),o.instantiateWasm)try{return o.instantiateWasm(r,n)}catch(e){return l("[WACloudCrypto] Module.instantiateWasm callback failed with error: "+e),!1}s(a)}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.b).apply(null,arguments)},o._aes_setkey_enc=function(){return(o._aes_setkey_enc=o.asm.c).apply(null,arguments)},o._aes_setkey_dec=function(){return(o._aes_setkey_dec=o.asm.d).apply(null,arguments)},o._aes_crypt_cbc=function(){return(o._aes_crypt_cbc=o.asm.e).apply(null,arguments)},o._aes_crypt_ctr=function(){return(o._aes_crypt_ctr=o.asm.f).apply(null,arguments)},v=function e(){S||I(),S||(v=e)},o.run=I,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return o}))}function te(e){return parseInt(e)===e}function re(e){if(!te(e.length))return!1;for(var t=0;t<e.length;t++)if(!te(e[t])||e[t]<0||e[t]>255)return!1;return!0}function ne(e,t){if(e.buffer&&ArrayBuffer.isView(e))return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!re(e))throw new Error("[WACloudCrypto] Array contains invalid value: "+e);return new Uint8Array(e)}if(te(e.length)&&re(e))return new Uint8Array(e);throw new Error("[WACloudCrypto] unsupported array-like object")}function ie(){var e=16384;return t=>(e+=t)-t}function ae(e){return new Uint8Array(e)}function oe(e,t,r,n,i){(null!=n||null!=i)&&(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}function se(e){var t=16-(e=ne(e,!0)).length%16,r=ae(e.length+t);oe(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r}function le(e){if((e=ne(e,!0)).length<16)throw new Error("[WACloudCrypto] PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("[WACloudCrypto] PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("[WACloudCrypto] PKCS#7 invalid padding byte");var i=ae(r);return oe(e,i,0,0,r),i}function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=i()((function*(e){var t,r=yield ee(e),n=ie(),i=r,a=new Uint8Array(i.memory.buffer),o=n(276),s=n(276),l=n(16),c=n(16),u=n(0);function d(e){var t=ne(e);a.set(t,u)}function p(e,r,n="CBC"){a.set(r,c),a.set(e,l),i._aes_setkey_enc(o,l,128),i._aes_setkey_dec(s,l,128),t=n}return{init:p,encrypt:(e,r,n)=>(p(r,n,"CBC"),d(e=se(e)),"CBC"===t?i._aes_crypt_cbc(o,1,e.length,c,u,u):i._aes_crypt_ctr(o,e.length,c,u,u),a.subarray(u,u+e.length).slice()),decrypt:(e,r,n)=>(p(r,n,"CBC"),d(e),"CBC"===t?i._aes_crypt_cbc(s,0,e.length,c,u,u):i._aes_crypt_ctr(o,e.length,c,u,u),le(a.subarray(u,u+e.length).slice()))}}))).apply(this,arguments)}function de(e){if(!X)return ce(e).then((e=>{X=e})).catch((()=>{}))}function pe(){return X}function he(e,t){var r=pe();return{encrypted:r?r.encrypt(t,e,e):J.encrypt(t,e,void 0,e),backend:r?"wasm":"js"}}function fe(e){return me(e).buffer}function ge(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ve(e){return null==e}function me(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}function ye(e){for(var t=e.length;t--;)e[t]=Math.floor(256*Math.random());return e}function _e(e){var t=e.reduce(((e,t)=>e+t.length),0);if(!e.length)return null;var r=new Uint8Array(t),n=0;for(var i of e)r.set(i,n),n+=i.length;return r}function be(e){return we(e)}v(),v(),v();var we=function(){var e=new Array(128),t=String.fromCodePoint||String.fromCharCode,r=[];return function(n){var i,a,o=n.length;r.length=0;for(var s=0;s<o;)(a=n[s++])<=127?i=a:a<=223?i=(31&a)<<6|63&n[s++]:a<=239?i=(15&a)<<12|(63&n[s++])<<6|63&n[s++]:String.fromCodePoint?i=(7&a)<<18|(63&n[s++])<<12|(63&n[s++])<<6|63&n[s++]:(i=63,s+=3),r.push(e[i]||(e[i]=t(i)));return r.join("")}}(),Se=g(_(),1);v();var Ce=g(B(),1),Ie=Ce.Reader,Ae=Ce.Writer,ke=Ce.util,Ee=Ce.roots.default||(Ce.roots.default={}),Te=Ee.HTTPRequest=(()=>{function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.method="",e.prototype.header=ke.emptyArray,e.prototype.body=ke.newBuffer([]),e.prototype.callId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ae.create()),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(10).string(e.method),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)Ee.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),null!=e.callId&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(34).string(e.callId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.HTTPRequest;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.method=e.string();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(Ee.HTTPHeader.decode(e,e.uint32()));break;case 3:n.body=e.bytes();break;case 4:n.callId=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.method&&e.hasOwnProperty("method")&&!ke.isString(e.method))return"method: string expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=Ee.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||ke.isString(e.body))?"body: buffer expected":null!=e.callId&&e.hasOwnProperty("callId")&&!ke.isString(e.callId)?"callId: string expected":null},e.fromObject=function(e){if(e instanceof Ee.HTTPRequest)return e;var t=new Ee.HTTPRequest;if(null!=e.method&&(t.method=String(e.method)),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPRequest.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPRequest.header: object expected");t.header[r]=Ee.HTTPHeader.fromObject(e.header[r])}}return null!=e.body&&("string"==typeof e.body?ke.base64.decode(e.body,t.body=ke.newBuffer(ke.base64.length(e.body)),0):e.body.length>=0&&(t.body=e.body)),null!=e.callId&&(t.callId=String(e.callId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.method="",t.bytes===String?r.body="":(r.body=[],t.bytes!==Array&&(r.body=ke.newBuffer(r.body))),r.callId=""),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=Ee.HTTPHeader.toObject(e.header[n],t)}return null!=e.body&&e.hasOwnProperty("body")&&(r.body=t.bytes===String?ke.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),null!=e.callId&&e.hasOwnProperty("callId")&&(r.callId=e.callId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPRequest"},e})(),Pe=Ee.HTTPResponse=(()=>{function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.statusCode=0,e.prototype.header=ke.emptyArray,e.prototype.bodyBuffer=ke.newBuffer([]),e.prototype.bodyString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ae.create()),null!=e.statusCode&&Object.hasOwnProperty.call(e,"statusCode")&&t.uint32(8).uint32(e.statusCode),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)Ee.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.bodyBuffer&&Object.hasOwnProperty.call(e,"bodyBuffer")&&t.uint32(26).bytes(e.bodyBuffer),null!=e.bodyString&&Object.hasOwnProperty.call(e,"bodyString")&&t.uint32(34).string(e.bodyString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.HTTPResponse;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.statusCode=e.uint32();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(Ee.HTTPHeader.decode(e,e.uint32()));break;case 3:n.bodyBuffer=e.bytes();break;case 4:n.bodyString=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.statusCode&&e.hasOwnProperty("statusCode")&&!ke.isInteger(e.statusCode))return"statusCode: integer expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=Ee.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&!(e.bodyBuffer&&"number"==typeof e.bodyBuffer.length||ke.isString(e.bodyBuffer))?"bodyBuffer: buffer expected":null!=e.bodyString&&e.hasOwnProperty("bodyString")&&!ke.isString(e.bodyString)?"bodyString: string expected":null},e.fromObject=function(e){if(e instanceof Ee.HTTPResponse)return e;var t=new Ee.HTTPResponse;if(null!=e.statusCode&&(t.statusCode=e.statusCode>>>0),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPResponse.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPResponse.header: object expected");t.header[r]=Ee.HTTPHeader.fromObject(e.header[r])}}return null!=e.bodyBuffer&&("string"==typeof e.bodyBuffer?ke.base64.decode(e.bodyBuffer,t.bodyBuffer=ke.newBuffer(ke.base64.length(e.bodyBuffer)),0):e.bodyBuffer.length>=0&&(t.bodyBuffer=e.bodyBuffer)),null!=e.bodyString&&(t.bodyString=String(e.bodyString)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.statusCode=0,t.bytes===String?r.bodyBuffer="":(r.bodyBuffer=[],t.bytes!==Array&&(r.bodyBuffer=ke.newBuffer(r.bodyBuffer))),r.bodyString=""),null!=e.statusCode&&e.hasOwnProperty("statusCode")&&(r.statusCode=e.statusCode),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=Ee.HTTPHeader.toObject(e.header[n],t)}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&(r.bodyBuffer=t.bytes===String?ke.base64.encode(e.bodyBuffer,0,e.bodyBuffer.length):t.bytes===Array?Array.prototype.slice.call(e.bodyBuffer):e.bodyBuffer),null!=e.bodyString&&e.hasOwnProperty("bodyString")&&(r.bodyString=e.bodyString),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPResponse"},e})(),xe=Ee.HTTPHeader=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ae.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.HTTPHeader;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!ke.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!ke.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof Ee.HTTPHeader)return e;var t=new Ee.HTTPHeader;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=""),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPHeader"},e})(),Oe=Ee.QBaseApiData=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.qbaseApiName="",e.prototype.qbaseMeta=null,e.prototype.qbaseOptions=null,e.prototype.qbaseReq="",e.prototype.cliReqId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ae.create()),null!=e.qbaseApiName&&Object.hasOwnProperty.call(e,"qbaseApiName")&&t.uint32(10).string(e.qbaseApiName),null!=e.qbaseMeta&&Object.hasOwnProperty.call(e,"qbaseMeta")&&Ee.QBaseApiData.QBaseMeta.encode(e.qbaseMeta,t.uint32(18).fork()).ldelim(),null!=e.qbaseOptions&&Object.hasOwnProperty.call(e,"qbaseOptions")&&Ee.QBaseApiData.QBaseOptions.encode(e.qbaseOptions,t.uint32(26).fork()).ldelim(),null!=e.qbaseReq&&Object.hasOwnProperty.call(e,"qbaseReq")&&t.uint32(34).string(e.qbaseReq),null!=e.cliReqId&&Object.hasOwnProperty.call(e,"cliReqId")&&t.uint32(42).string(e.cliReqId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.QBaseApiData;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.qbaseApiName=e.string();break;case 2:n.qbaseMeta=Ee.QBaseApiData.QBaseMeta.decode(e,e.uint32());break;case 3:n.qbaseOptions=Ee.QBaseApiData.QBaseOptions.decode(e,e.uint32());break;case 4:n.qbaseReq=e.string();break;case 5:n.cliReqId=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.qbaseApiName&&e.hasOwnProperty("qbaseApiName")&&!ke.isString(e.qbaseApiName))return"qbaseApiName: string expected";if(null!=e.qbaseMeta&&e.hasOwnProperty("qbaseMeta")){var t=Ee.QBaseApiData.QBaseMeta.verify(e.qbaseMeta);if(t)return"qbaseMeta."+t}if(null!=e.qbaseOptions&&e.hasOwnProperty("qbaseOptions")){var r=Ee.QBaseApiData.QBaseOptions.verify(e.qbaseOptions);if(r)return"qbaseOptions."+r}return null!=e.qbaseReq&&e.hasOwnProperty("qbaseReq")&&!ke.isString(e.qbaseReq)?"qbaseReq: string expected":null!=e.cliReqId&&e.hasOwnProperty("cliReqId")&&!ke.isString(e.cliReqId)?"cliReqId: string expected":null},e.fromObject=function(e){if(e instanceof Ee.QBaseApiData)return e;var t=new Ee.QBaseApiData;if(null!=e.qbaseApiName&&(t.qbaseApiName=String(e.qbaseApiName)),null!=e.qbaseMeta){if("object"!=typeof e.qbaseMeta)throw TypeError(".QBaseApiData.qbaseMeta: object expected");t.qbaseMeta=Ee.QBaseApiData.QBaseMeta.fromObject(e.qbaseMeta)}if(null!=e.qbaseOptions){if("object"!=typeof e.qbaseOptions)throw TypeError(".QBaseApiData.qbaseOptions: object expected");t.qbaseOptions=Ee.QBaseApiData.QBaseOptions.fromObject(e.qbaseOptions)}return null!=e.qbaseReq&&(t.qbaseReq=String(e.qbaseReq)),null!=e.cliReqId&&(t.cliReqId=String(e.cliReqId)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.qbaseApiName="",r.qbaseMeta=null,r.qbaseOptions=null,r.qbaseReq="",r.cliReqId=""),null!=e.qbaseApiName&&e.hasOwnProperty("qbaseApiName")&&(r.qbaseApiName=e.qbaseApiName),null!=e.qbaseMeta&&e.hasOwnProperty("qbaseMeta")&&(r.qbaseMeta=Ee.QBaseApiData.QBaseMeta.toObject(e.qbaseMeta,t)),null!=e.qbaseOptions&&e.hasOwnProperty("qbaseOptions")&&(r.qbaseOptions=Ee.QBaseApiData.QBaseOptions.toObject(e.qbaseOptions,t)),null!=e.qbaseReq&&e.hasOwnProperty("qbaseReq")&&(r.qbaseReq=e.qbaseReq),null!=e.cliReqId&&e.hasOwnProperty("cliReqId")&&(r.cliReqId=e.cliReqId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData"},e.QBaseMeta=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.firstLaunch=!1,e.prototype.sessionId="",e.prototype.sdkVersion="",e.prototype.filterUserInfo=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ae.create()),null!=e.firstLaunch&&Object.hasOwnProperty.call(e,"firstLaunch")&&t.uint32(8).bool(e.firstLaunch),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(18).string(e.sessionId),null!=e.sdkVersion&&Object.hasOwnProperty.call(e,"sdkVersion")&&t.uint32(26).string(e.sdkVersion),null!=e.filterUserInfo&&Object.hasOwnProperty.call(e,"filterUserInfo")&&t.uint32(32).bool(e.filterUserInfo),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.QBaseApiData.QBaseMeta;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.firstLaunch=e.bool();break;case 2:n.sessionId=e.string();break;case 3:n.sdkVersion=e.string();break;case 4:n.filterUserInfo=e.bool();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.firstLaunch&&e.hasOwnProperty("firstLaunch")&&"boolean"!=typeof e.firstLaunch?"firstLaunch: boolean expected":null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!ke.isString(e.sessionId)?"sessionId: string expected":null!=e.sdkVersion&&e.hasOwnProperty("sdkVersion")&&!ke.isString(e.sdkVersion)?"sdkVersion: string expected":null!=e.filterUserInfo&&e.hasOwnProperty("filterUserInfo")&&"boolean"!=typeof e.filterUserInfo?"filterUserInfo: boolean expected":null},e.fromObject=function(e){if(e instanceof Ee.QBaseApiData.QBaseMeta)return e;var t=new Ee.QBaseApiData.QBaseMeta;return null!=e.firstLaunch&&(t.firstLaunch=Boolean(e.firstLaunch)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.sdkVersion&&(t.sdkVersion=String(e.sdkVersion)),null!=e.filterUserInfo&&(t.filterUserInfo=Boolean(e.filterUserInfo)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.firstLaunch=!1,r.sessionId="",r.sdkVersion="",r.filterUserInfo=!1),null!=e.firstLaunch&&e.hasOwnProperty("firstLaunch")&&(r.firstLaunch=e.firstLaunch),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(r.sessionId=e.sessionId),null!=e.sdkVersion&&e.hasOwnProperty("sdkVersion")&&(r.sdkVersion=e.sdkVersion),null!=e.filterUserInfo&&e.hasOwnProperty("filterUserInfo")&&(r.filterUserInfo=e.filterUserInfo),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData.QBaseMeta"},e}(),e.QBaseOptions=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.env="",e.prototype.appid="",e.prototype.region="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ae.create()),null!=e.env&&Object.hasOwnProperty.call(e,"env")&&t.uint32(10).string(e.env),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(18).string(e.appid),null!=e.region&&Object.hasOwnProperty.call(e,"region")&&t.uint32(26).string(e.region),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.QBaseApiData.QBaseOptions;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.env=e.string();break;case 2:n.appid=e.string();break;case 3:n.region=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.env&&e.hasOwnProperty("env")&&!ke.isString(e.env)?"env: string expected":null!=e.appid&&e.hasOwnProperty("appid")&&!ke.isString(e.appid)?"appid: string expected":null!=e.region&&e.hasOwnProperty("region")&&!ke.isString(e.region)?"region: string expected":null},e.fromObject=function(e){if(e instanceof Ee.QBaseApiData.QBaseOptions)return e;var t=new Ee.QBaseApiData.QBaseOptions;return null!=e.env&&(t.env=String(e.env)),null!=e.appid&&(t.appid=String(e.appid)),null!=e.region&&(t.region=String(e.region)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.env="",r.appid="",r.region=""),null!=e.env&&e.hasOwnProperty("env")&&(r.env=e.env),null!=e.appid&&e.hasOwnProperty("appid")&&(r.appid=e.appid),null!=e.region&&e.hasOwnProperty("region")&&(r.region=e.region),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData.QBaseOptions"},e}(),e})(),Re=Ee.V3Header=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.encryptionTimestamp=ke.Long?ke.Long.fromBits(0,0,!0):0,e.prototype.compression="",e.prototype.userTimeout=ke.Long?ke.Long.fromBits(0,0,!0):0,e.prototype.libBuildTs=ke.Long?ke.Long.fromBits(0,0,!0):0,e.prototype.appProtocol="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ae.create()),null!=e.encryptionTimestamp&&Object.hasOwnProperty.call(e,"encryptionTimestamp")&&t.uint32(8).uint64(e.encryptionTimestamp),null!=e.compression&&Object.hasOwnProperty.call(e,"compression")&&t.uint32(18).string(e.compression),null!=e.userTimeout&&Object.hasOwnProperty.call(e,"userTimeout")&&t.uint32(24).uint64(e.userTimeout),null!=e.libBuildTs&&Object.hasOwnProperty.call(e,"libBuildTs")&&t.uint32(32).uint64(e.libBuildTs),null!=e.appProtocol&&Object.hasOwnProperty.call(e,"appProtocol")&&t.uint32(42).string(e.appProtocol),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ie||(e=Ie.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Ee.V3Header;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.encryptionTimestamp=e.uint64();break;case 2:n.compression=e.string();break;case 3:n.userTimeout=e.uint64();break;case 4:n.libBuildTs=e.uint64();break;case 5:n.appProtocol=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ie||(e=new Ie(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null==e.encryptionTimestamp||!e.hasOwnProperty("encryptionTimestamp")||ke.isInteger(e.encryptionTimestamp)||e.encryptionTimestamp&&ke.isInteger(e.encryptionTimestamp.low)&&ke.isInteger(e.encryptionTimestamp.high)?null!=e.compression&&e.hasOwnProperty("compression")&&!ke.isString(e.compression)?"compression: string expected":null==e.userTimeout||!e.hasOwnProperty("userTimeout")||ke.isInteger(e.userTimeout)||e.userTimeout&&ke.isInteger(e.userTimeout.low)&&ke.isInteger(e.userTimeout.high)?null==e.libBuildTs||!e.hasOwnProperty("libBuildTs")||ke.isInteger(e.libBuildTs)||e.libBuildTs&&ke.isInteger(e.libBuildTs.low)&&ke.isInteger(e.libBuildTs.high)?null!=e.appProtocol&&e.hasOwnProperty("appProtocol")&&!ke.isString(e.appProtocol)?"appProtocol: string expected":null:"libBuildTs: integer|Long expected":"userTimeout: integer|Long expected":"encryptionTimestamp: integer|Long expected"},e.fromObject=function(e){if(e instanceof Ee.V3Header)return e;var t=new Ee.V3Header;return null!=e.encryptionTimestamp&&(ke.Long?(t.encryptionTimestamp=ke.Long.fromValue(e.encryptionTimestamp)).unsigned=!0:"string"==typeof e.encryptionTimestamp?t.encryptionTimestamp=parseInt(e.encryptionTimestamp,10):"number"==typeof e.encryptionTimestamp?t.encryptionTimestamp=e.encryptionTimestamp:"object"==typeof e.encryptionTimestamp&&(t.encryptionTimestamp=new ke.LongBits(e.encryptionTimestamp.low>>>0,e.encryptionTimestamp.high>>>0).toNumber(!0))),null!=e.compression&&(t.compression=String(e.compression)),null!=e.userTimeout&&(ke.Long?(t.userTimeout=ke.Long.fromValue(e.userTimeout)).unsigned=!0:"string"==typeof e.userTimeout?t.userTimeout=parseInt(e.userTimeout,10):"number"==typeof e.userTimeout?t.userTimeout=e.userTimeout:"object"==typeof e.userTimeout&&(t.userTimeout=new ke.LongBits(e.userTimeout.low>>>0,e.userTimeout.high>>>0).toNumber(!0))),null!=e.libBuildTs&&(ke.Long?(t.libBuildTs=ke.Long.fromValue(e.libBuildTs)).unsigned=!0:"string"==typeof e.libBuildTs?t.libBuildTs=parseInt(e.libBuildTs,10):"number"==typeof e.libBuildTs?t.libBuildTs=e.libBuildTs:"object"==typeof e.libBuildTs&&(t.libBuildTs=new ke.LongBits(e.libBuildTs.low>>>0,e.libBuildTs.high>>>0).toNumber(!0))),null!=e.appProtocol&&(t.appProtocol=String(e.appProtocol)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(ke.Long){var n=new ke.Long(0,0,!0);r.encryptionTimestamp=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.encryptionTimestamp=t.longs===String?"0":0;if(r.compression="",ke.Long){var i=new ke.Long(0,0,!0);r.userTimeout=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.userTimeout=t.longs===String?"0":0;if(ke.Long){var a=new ke.Long(0,0,!0);r.libBuildTs=t.longs===String?a.toString():t.longs===Number?a.toNumber():a}else r.libBuildTs=t.longs===String?"0":0;r.appProtocol=""}return null!=e.encryptionTimestamp&&e.hasOwnProperty("encryptionTimestamp")&&("number"==typeof e.encryptionTimestamp?r.encryptionTimestamp=t.longs===String?String(e.encryptionTimestamp):e.encryptionTimestamp:r.encryptionTimestamp=t.longs===String?ke.Long.prototype.toString.call(e.encryptionTimestamp):t.longs===Number?new ke.LongBits(e.encryptionTimestamp.low>>>0,e.encryptionTimestamp.high>>>0).toNumber(!0):e.encryptionTimestamp),null!=e.compression&&e.hasOwnProperty("compression")&&(r.compression=e.compression),null!=e.userTimeout&&e.hasOwnProperty("userTimeout")&&("number"==typeof e.userTimeout?r.userTimeout=t.longs===String?String(e.userTimeout):e.userTimeout:r.userTimeout=t.longs===String?ke.Long.prototype.toString.call(e.userTimeout):t.longs===Number?new ke.LongBits(e.userTimeout.low>>>0,e.userTimeout.high>>>0).toNumber(!0):e.userTimeout),null!=e.libBuildTs&&e.hasOwnProperty("libBuildTs")&&("number"==typeof e.libBuildTs?r.libBuildTs=t.longs===String?String(e.libBuildTs):e.libBuildTs:r.libBuildTs=t.longs===String?ke.Long.prototype.toString.call(e.libBuildTs):t.longs===Number?new ke.LongBits(e.libBuildTs.low>>>0,e.libBuildTs.high>>>0).toNumber(!0):e.libBuildTs),null!=e.appProtocol&&e.hasOwnProperty("appProtocol")&&(r.appProtocol=e.appProtocol),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ce.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/V3Header"},e})();function Me(e,t,r){var n=Date.now();return(...i)=>{var a=t(...i),o=Date.now();return e[r]=o-n,a}}function De(e,t,r){var n=Me(r,Se.default.compress,"compress")(t);return{data:Me(r,he,"encrypt")(e,n).encrypted}}function Ne(e,t,r,n,i,a){var o,s=Object.entries(t).filter((([e,t])=>!ve(e)&&!ve(t))).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),l=ge(n),c=!1;return"object"===l?o=JSON.stringify(n):"arraybuffer"!==l?o="undefined"===l?void 0:n+"":(o=n,c=!0),{...De(e,c?Me(a,Te.encode,"encodePb")({body:new Uint8Array(n),callId:i,header:s,method:r}).finish():new Uint8Array(Me(a,fe,"stringToBuffer")(JSON.stringify({method:r,header:s,body:o,call_id:i}))),a),contentEncoding:c?"PB":"JSON"}}function Le(e,t,r,n,i){var a=n instanceof ArrayBuffer,o=Object.entries(t).filter((([e,t])=>e&&t)).map((([e,t])=>({key:e.toLowerCase(),value:t})));return{...De(e,a?Pe.encode({bodyBuffer:new Uint8Array(n),statusCode:r,header:o}).finish():Pe.encode({bodyString:JSON.stringify(n),statusCode:r,header:o}).finish(),i),contentEncoding:a?"PB":"JSON"}}function Be(e,t,r){return{...De(e,Oe.encode(t).finish(),r)}}function $e(e,t){var r=pe();return r?r.decrypt(t,e,e):J.decrypt(t,e,void 0,e)}v(),v(),v();var Fe=g(_(),1);function je(e,t,r){var n=$e(e,t);return{data:r?Fe.default.uncompress(n):n}}function We(e,t,r,n){var i,{data:a}=je(e,t,r);if("PB"===n)i=Te.decode(a);else{var o=be(a);i=JSON.parse(o)}return i}function Ue(e,t,r,n){var i,{data:a}=je(e,t,r);if("PB"===n)i=Pe.decode(a);else{var o=be(a);i=JSON.parse(o)}return{statusCode:i.statusCode,body:i.bodyString||i.bodyBuffer,header:i.header.reduce(((e,t)=>(t.key&&t.value&&(e[t.key]=e[t.key]?e[t.key]+","+t.value:t.value),e)),{})}}function Ve(e,t,r){var{data:n}=je(e,t,r),i=be(n);return{data:JSON.parse(i)}}var qe={};function ze(e,t){var r=pe(),n=new Uint8Array(16);return ye(n),{iv:n,encrypted:r?r.encrypt(t,e,n):J.encrypt(t,e,void 0,n)}}h(qe,{decode:()=>rt,decodeRequest:()=>nt,decodeResponse:()=>it,encode:()=>Je,encodeRequest:()=>Xe,encodeResponse:()=>Ye}),v(),v(),v(),v();var Ge="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",He=(e=21)=>{for(var t="",r=e;r--;)t+=Ge[64*Math.random()|0];return t},Ke=g(_(),1);function Qe(e,t,r){return t=+t,e[r>>>=0]=t>>>8,e[r+1]=255&t,r+2}function Je(e,t,r="JSON",n={}){var i={appProtocol:`1/${r}`,compression:"snappy",encryptionTimestamp:Date.now(),libBuildTs:1686213666626},a=ze(e,Re.encode(i).finish()),o=a.iv.length+a.encrypted.length,s=new Uint8Array(2);Qe(s,o,0);var l=Me(n,Ke.default.compress,"compress")(t),c=Me(n,ze,"encrypt")(e,l);return{data:_e([s,a.iv,a.encrypted,c.iv,c.encrypted]),__v3__header:i}}function Xe(e,t,r,n,i={}){var a,o=ge(n),s=Object.entries(t).filter((([e,t])=>!ve(e)&&!ve(t))).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),l=`${Date.now()}-${He(8)}`,c=!1;return"object"===o?a=JSON.stringify(n):"arraybuffer"!==o?a="undefined"===o?void 0:n+"":(a=n,c=!0),{...Je(e,c?Me(i,Te.encode,"encodePb")({body:new Uint8Array(a),callId:l,header:s,method:r}).finish():new Uint8Array(Me(i,fe,"stringToBuffer")(JSON.stringify({body:a,call_id:l,header:s,method:r}))),c?"PB":"JSON",i),callId:l,stats:i}}function Ye(e,t,r,n){var i,a=ge(n),o=Object.entries(t).filter((([e,t])=>e&&t)).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),s=!1;return"object"===a?i=JSON.stringify(n):"arraybuffer"!==a?i=n+"":(i=n,s=!0),"object"===a?i=JSON.stringify(n):"arraybuffer"!==a?i=n+"":(i=n,s=!0),Je(e,s?Pe.encode({bodyBuffer:new Uint8Array(i),statusCode:r,header:o}).finish():Pe.encode({bodyString:JSON.stringify(n),statusCode:r,header:o}).finish(),"PB")}function Ze(e,t){var r=pe(),n=t.subarray(0,16),i=t.subarray(16);return r?r.decrypt(i,e,n):J.decrypt(i,e,void 0,n)}v(),v();var et=g(_(),1);function tt(e,t){return e[t>>>=0]<<8|e[t+1]}function rt(e,t,r={}){var n=tt(t,0),i=Ze(e,t.slice(2,n+2)),a=Re.decode(i),o="snappy"===a.compression,s=Me(r,Ze,"decrypt")(e,t.slice(n+2));return{data:o?Me(r,et.default.uncompress,"uncompress")(s):s,__v3__header:a}}function nt(e,t,r={}){var n,{data:i,__v3__header:a}=rt(e,t,r),o=!1,s=a.appProtocol.split("/")[1];return s&&(o="PB"===s),n=o?Te.decode(i):Me(r,(e=>JSON.parse(be(e))),"decodeJson")(i),{...n,__v3__header:a,stats:r}}function it(e,t,r={}){var n,{data:i,__v3__header:a}=rt(e,t,r),o=!1,s=a.appProtocol.split("/")[1];return s&&(o="PB"===s),{statusCode:(n=o?Me(r,Pe.decode,"decodePb")(i):Me(r,(e=>JSON.parse(be(e))),"decodeJson")(i)).statusCode,body:n.bodyString||n.bodyBuffer,header:n.header.reduce(((e,t)=>(t.key&&t.value&&(e[t.key]=e[t.key]?e[t.key]+","+t.value:t.value),e)),{}),__v3__header:a}}},946:(e,t,r)=>{var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o=!1;function s(){o=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)n[t]=e[t],i[e.charCodeAt(t)]=t;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}function c(e){var t;o||s();for(var r=e.length,i=r%3,a="",c=[],u=16383,d=0,p=r-i;d<p;d+=u)c.push(l(e,d,d+u>p?p:d+u));return 1===i?(t=e[r-1],a+=n[t>>2],a+=n[t<<4&63],a+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],a+=n[t>>10],a+=n[t>>4&63],a+=n[t<<2&63],a+="="),c.push(a),c.join("")}function u(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)}function d(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}var p={}.toString,h=Array.isArray||function(e){return"[object Array]"==p.call(e)};m.TYPED_ARRAY_SUPPORT=void 0===r.g.TYPED_ARRAY_SUPPORT||r.g.TYPED_ARRAY_SUPPORT;var f=g();function g(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function v(e,t){if(g()<t)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=m.prototype:(null===e&&(e=new m(t)),e.length=t),e}function m(e,t,r){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return b(this,e)}return y(this,e,t,r)}function y(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);m.TYPED_ARRAY_SUPPORT?(e=t).__proto__=m.prototype:e=w(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!m.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|I(t,r);e=v(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(C(t)){var r=0|S(t.length);return 0===(e=v(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?v(e,0):w(e,t);if("Buffer"===t.type&&h(t.data))return w(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function _(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function b(e,t){if(_(t),e=v(e,t<0?0:0|S(t)),!m.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function w(e,t){var r=t.length<0?0:0|S(t.length);e=v(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function S(e){if(e>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|e}function C(e){return!(null==e||!e._isBuffer)}function I(e,t){if(C(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function A(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return L(this,t,r);case"ascii":return $(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return N(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function k(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=m.from(t,n)),C(t))return 0===t.length?-1:T(e,t,r,n,i);if("number"==typeof t)return t&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):T(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function T(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function P(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function x(e,t,r,n){return Z(X(t,e.length-r),e,r,n)}function O(e,t,r,n){return Z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function R(e,t,r,n){return O(e,t,r,n)}function M(e,t,r,n){return Z(Y(t),e,r,n)}function D(e,t,r,n){return Z(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function N(e,t,r){return 0===t&&r===e.length?c(e):c(e.slice(t,r))}function L(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}m.poolSize=8192,m._augment=function(e){return e.__proto__=m.prototype,e},m.from=function(e,t,r){return y(null,e,t,r)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array),m.alloc=function(e,t,r){return function(e,t,r,n){return _(t),t<=0?v(e,t):void 0!==r?"string"==typeof n?v(e,t).fill(r,n):v(e,t).fill(r):v(e,t)}(null,e,t,r)},m.allocUnsafe=function(e){return b(null,e)},m.allocUnsafeSlow=function(e){return b(null,e)},m.isBuffer=ee,m.compare=function(e,t){if(!C(e)||!C(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},m.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(e,t){if(!h(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return m.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=m.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!C(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},m.byteLength=I,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this},m.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},m.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},m.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):A.apply(this,arguments)},m.prototype.equals=function(e){if(!C(e))throw new TypeError("Argument must be a Buffer");return this===e||0===m.compare(this,e)},m.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},m.prototype.compare=function(e,t,r,n,i){if(!C(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),c=e.slice(t,r),u=0;u<s;++u)if(l[u]!==c[u]){a=l[u],o=c[u];break}return a<o?-1:o<a?1:0},m.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},m.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},m.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},m.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return P(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return O(this,e,t,r);case"latin1":case"binary":return R(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function $(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=J(e[a]);return i}function W(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function U(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function V(e,t,r,n,i,a){if(!C(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function q(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function G(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,i){return i||G(e,0,r,4),d(e,t,r,n,23,4),r+4}function K(e,t,r,n,i){return i||G(e,0,r,8),d(e,t,r,n,52,8),r+8}m.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),m.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=m.prototype;else{var i=t-e;r=new m(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},m.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},m.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},m.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},m.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},m.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},m.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},m.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},m.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},m.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},m.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},m.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},m.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},m.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},m.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),u(this,e,!0,23,4)},m.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),u(this,e,!1,23,4)},m.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),u(this,e,!0,52,8)},m.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),u(this,e,!1,52,8)},m.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||V(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},m.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||V(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},m.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,1,255,0),m.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},m.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},m.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},m.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):z(this,e,t,!0),t+4},m.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},m.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},m.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,1,127,-128),m.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},m.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},m.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},m.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):z(this,e,t,!0),t+4},m.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),m.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):z(this,e,t,!1),t+4},m.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},m.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},m.prototype.writeDoubleLE=function(e,t,r){return K(this,e,t,!0,r)},m.prototype.writeDoubleBE=function(e,t,r){return K(this,e,t,!1,r)},m.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!m.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},m.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=C(e)?e:X(new m(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var Q=/[^+\/0-9A-Za-z-_]/g;function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(e){return function(e){var t,r,n,l,c,u;o||s();var d=e.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[d-2]?2:"="===e[d-1]?1:0,u=new a(3*d/4-c),n=c>0?d-4:d;var p=0;for(t=0,r=0;t<n;t+=4,r+=3)l=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],u[p++]=l>>16&255,u[p++]=l>>8&255,u[p++]=255&l;return 2===c?(l=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,u[p++]=255&l):1===c&&(l=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,u[p++]=l>>8&255,u[p++]=255&l),u}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e){return null!=e&&(!!e._isBuffer||te(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&te(e.slice(0,0))}(e))}function te(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var re=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:f,Buffer:m,SlowBuffer:function(e){return+e!=e&&(e=0),m.alloc(+e)},isBuffer:ee});var ne=function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=t;var r={},n={};function i(e,t){var i,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=n[e])?a:(i=o(e,(0|e)<0?-1:0,!0),s&&(n[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(i=o(e,e<0?-1:0,!1),s&&(r[e]=i),i)}function a(e,t){if(isNaN(e))return t?g:f;if(t){if(e<0)return g;if(e>=d)return b}else{if(e<=-p)return w;if(e+1>=p)return _}return e<0?a(-e,t).neg():o(e%u|0,e/u|0,t)}function o(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=a,e.fromBits=o;var s=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return f;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=a(s(r,8)),o=f,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),d=parseInt(e.substring(c,c+u),r);if(u<8){var p=a(s(r,u));o=o.mul(p).add(a(d))}else o=(o=o.mul(i)).add(a(d))}return o.unsigned=t,o}function c(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?l(e,t):o(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.fromString=l,e.fromValue=c;var u=4294967296,d=u*u,p=d/2,h=i(1<<24),f=i(0);e.ZERO=f;var g=i(0,!0);e.UZERO=g;var v=i(1);e.ONE=v;var m=i(1,!0);e.UONE=m;var y=i(-1);e.NEG_ONE=y;var _=o(-1,2147483647,!1);e.MAX_VALUE=_;var b=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=b;var w=o(0,-2147483648,!1);e.MIN_VALUE=w;var S=e.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=a(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(s(e,6),this.unsigned),o=this,l="";;){var c=o.div(i),u=(o.sub(c.mul(i)).toInt()>>>0).toString(e);if((o=c).isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(v)},S.neg=S.negate,S.add=function(e){t(e)||(e=c(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,u=e.low>>>16,d=0,p=0,h=0,f=0;return h+=(f+=a+(65535&e.low))>>>16,p+=(h+=i+u)>>>16,d+=(p+=n+l)>>>16,d+=r+s,o((h&=65535)<<16|(f&=65535),(d&=65535)<<16|(p&=65535),this.unsigned)},S.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return f;if(t(e)||(e=c(e)),e.isZero())return f;if(this.eq(w))return e.isOdd()?w:f;if(e.eq(w))return this.isOdd()?w:f;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,l=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,g=0,v=0,m=0,y=0;return m+=(y+=s*p)>>>16,v+=(m+=i*p)>>>16,m&=65535,v+=(m+=s*d)>>>16,g+=(v+=n*p)>>>16,v&=65535,g+=(v+=i*d)>>>16,v&=65535,g+=(v+=s*u)>>>16,g+=r*p+n*d+i*u+s*l,o((m&=65535)<<16|(y&=65535),(g&=65535)<<16|(v&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");var r,n,i;if(this.isZero())return this.unsigned?g:f;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return m;i=g}else{if(this.eq(w))return e.eq(v)||e.eq(y)?w:e.eq(w)?v:(r=this.shr(1).div(e).shl(1)).eq(f)?e.isNegative()?v:y:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(w))return this.unsigned?g:f;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=f}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:s(2,o-48),u=a(r),d=u.mul(e);d.isNegative()||d.gt(n);)d=(u=a(r-=l,this.unsigned)).mul(e);u.isZero()&&(u=v),i=i.add(u),n=n.sub(d)}return i},S.div=S.divide,S.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return o(~this.low,~this.high,this.unsigned)},S.and=function(e){return t(e)||(e=c(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return t(e)||(e=c(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return t(e)||(e=c(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?o(this.low>>>e|r<<32-e,r>>>e,this.unsigned):o(32===e?r:r>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},Object.defineProperty(e.prototype,"_bsontype",{value:"Long"}),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t,r){return t&&ae(e.prototype,t),r&&ae(e,r),e}var se=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Double"}),e}();function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}var pe=function(e){function t(e,r){var n;return ie(this,t),n=ne.isLong(e)?ce(this,ue(t).call(this,e.low,e.high,!0)):ce(this,ue(t).call(this,e,r,!0)),ce(n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),oe(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new t(ne.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new t(ne.fromNumber(e,!0))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(ne.fromString(e,r,!0))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),Object.defineProperty(t.prototype,"_bsontype",{value:"Timestamp"}),t.MAX_VALUE=t.MAX_UNSIGNED_VALUE,t}(ne),he={};function fe(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var ge={normalizedFunctionString:function(e){return e.toString().replace("function(","function (")},randomBytes:function(){var e=fe;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)e=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{e=he.randomBytes}catch(e){}null==e&&(e=fe)}return e}()};new Date;var ve=function(){function e(e,t){var r={seen:[],stylize:ye};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ce(t)?r.showHidden=t:t&&De(r,t),Ee(r.showHidden)&&(r.showHidden=!1),Ee(r.depth)&&(r.depth=2),Ee(r.colors)&&(r.colors=!1),Ee(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=me),_e(r,e,r.depth)}return e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e}();function me(e,t){var r=ve.styles[t];return r?"["+ve.colors[r][0]+"m"+e+"["+ve.colors[r][1]+"m":e}function ye(e,t){return e}function _e(e,t,r){if(e.customInspect&&t&&Re(t.inspect)&&t.inspect!==ve&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return ke(n)||(n=_e(e,n,r)),n}var i=function(e,t){if(Ee(t))return e.stylize("undefined","undefined");if(ke(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Ae(t))return e.stylize(""+t,"number");if(Ce(t))return e.stylize(""+t,"boolean");if(Ie(t))return e.stylize("null","null")}(e,t);if(i)return i;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),Oe(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return be(t);if(0===a.length){if(Re(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(Te(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(xe(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Oe(t))return be(t)}var l,c="",u=!1,d=["{","}"];(Se(t)&&(u=!0,d=["[","]"]),Re(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Te(t)&&(c=" "+RegExp.prototype.toString.call(t)),xe(t)&&(c=" "+Date.prototype.toUTCString.call(t)),Oe(t)&&(c=" "+be(t)),0!==a.length||u&&0!=t.length?r<0?Te(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=u?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)Ne(t,String(o))?a.push(we(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(we(e,t,r,n,i,!0))})),a}(e,t,r,o,a):a.map((function(n){return we(e,t,r,o,n,u)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,c,d)):d[0]+c+d[1]}function be(e){return"["+Error.prototype.toString.call(e)+"]"}function we(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),Ne(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=Ie(r)?_e(e,l.value,null):_e(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),Ee(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function Se(e){return Array.isArray(e)}function Ce(e){return"boolean"==typeof e}function Ie(e){return null===e}function Ae(e){return"number"==typeof e}function ke(e){return"string"==typeof e}function Ee(e){return void 0===e}function Te(e){return Pe(e)&&"[object RegExp]"===Me(e)}function Pe(e){return"object"===le(e)&&null!==e}function xe(e){return Pe(e)&&"[object Date]"===Me(e)}function Oe(e){return Pe(e)&&("[object Error]"===Me(e)||e instanceof Error)}function Re(e){return"function"==typeof e}function Me(e){return Object.prototype.toString.call(e)}function De(e,t){if(!t||!Pe(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Le=ve,Be=function e(t,n){if(Ee(r.g.process))return function(){return e(t,n).apply(this,arguments)};var i=!1;return function(){return i||(console.error(n),i=!0),t.apply(this,arguments)}},$e=(()=>re.Buffer)(),Fe=Be,je=(0,ge.randomBytes)(5),We=new RegExp("^[0-9a-fA-F]{24}$"),Ue=function(){var e=!1;try{$e&&$e.from&&(e=!0)}catch(t){e=!1}return e}(),Ve=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<=15?"0":"")+t.toString(16);return e}(),qe=function(){for(var e=[],t=0;t<10;)e[48+t]=t++;for(;t<16;)e[55+t]=e[87+t]=t++;return e}(),ze=$e;var Ge=function(){function e(t){if(ie(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&Ue)return new e($e.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return oe(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t,r,n,i="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof ze)return i=this.id.toString("hex"),e.cacheHexString&&(this.__id=i),i;for(var a=0;a<this.id.length;a++){var o=Ve[this.id.charCodeAt(a)];if("string"!=typeof o)throw t=this.id,n=void 0,n=t[r=a],new TypeError('ObjectId string "'.concat(t,'" contains invalid character "').concat(n,'" with character code (').concat(t.charCodeAt(r),"). All character codes for a non-hex string must be less than 256."));i+=o}return e.cacheHexString&&(this.__id=i),i}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof ze?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=$e.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=je[0],n[5]=je[1],n[6]=je[2],n[7]=je[3],n[8]=je[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=$e.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(Ue)return new e($e.from(t,"hex"));for(var r=new ze(12),n=0,i=0;i<24;)r[n++]=qe[t.charCodeAt(i++)]<<4|qe[t.charCodeAt(i++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&We.test(t):t instanceof e||(t instanceof ze&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&We.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.getInc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.generate=Fe((function(t){return e.generate(t)}),"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(e.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.prototype[Le.custom||"inspect"]=e.prototype.toString,e.index=~~(16777215*Math.random()),Object.defineProperty(e.prototype,"_bsontype",{value:"ObjectID"}),e}(),He=Ge;var Ke=function(){function e(t,r){ie(this,e),this.pattern=t||"",this.options=r?r.split("").sort().join(""):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return oe(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){return t.$regex?"BSONRegExp"===t.$regex._bsontype?t:new e(t.$regex,e.parseOptions(t.$options)):new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"BSONRegExp"}),e}(),Qe=function(){function e(t){ie(this,e),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Symbol"}),e}(),Je=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return oe(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Int32"}),e}(),Xe=function(){function e(t,r){ie(this,e),this.code=t,this.scope=r}return oe(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Code"}),e}(),Ye=Xe,Ze=(()=>re.Buffer)(),et=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,tt=/^(\+|-)?(Infinity|inf)$/i,rt=/^(\+|-)?NaN$/i,nt=6111,it=-6176,at=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ot=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),st=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),lt=/^([-+])?(\d+)?$/;function ct(e){return!isNaN(parseInt(e,10))}function ut(e){var t=ne.fromNumber(1e9),r=ne.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new ne(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function dt(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var pt=function(){function e(e){this.bytes=e}e.fromString=function(t){var r,n=!1,i=!1,a=!1,o=0,s=0,l=0,c=0,u=0,d=[0],p=0,h=0,f=0,g=0,v=0,m=0,y=[0,0],_=[0,0],b=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var w=t.match(et),S=t.match(tt),C=t.match(rt);if(!w&&!S&&!C||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(w){var I=w[2],A=w[4],k=w[5],E=w[6];A&&void 0===E&&dt(t,"missing exponent power"),A&&void 0===I&&dt(t,"missing exponent base"),void 0===A&&(k||E)&&dt(t,"missing e before exponent")}if("+"!==t[b]&&"-"!==t[b]||(n="-"===t[b++]),!ct(t[b])&&"."!==t[b]){if("i"===t[b]||"I"===t[b])return new e(Ze.from(n?ot:st));if("N"===t[b])return new e(Ze.from(at))}for(;ct(t[b])||"."===t[b];)"."!==t[b]?(p<34&&("0"!==t[b]||a)&&(a||(u=s),a=!0,d[h++]=parseInt(t[b],10),p+=1),a&&(l+=1),i&&(c+=1),s+=1,b+=1):(i&&dt(t,"contains multiple periods"),i=!0,b+=1);if(i&&!s)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[b]||"E"===t[b]){var T=t.substr(++b).match(lt);if(!T||!T[2])return new e(Ze.from(at));v=parseInt(T[0],10),b+=T[0].length}if(t[b])return new e(Ze.from(at));if(f=0,p){if(g=p-1,1!==(o=l))for(;"0"===t[u+o-1];)o-=1}else f=0,g=0,d[0]=0,l=1,p=1,o=0;for(v<=c&&c-v>16384?v=it:v-=c;v>nt;){if((g+=1)-f>34){if(d.join("").match(/^0+$/)){v=nt;break}dt(t,"overflow")}v-=1}for(;v<it||p<l;){if(0===g&&o<p){v=it,o=0;break}if(p<l?l-=1:g-=1,v<nt)v+=1;else{if(d.join("").match(/^0+$/)){v=nt;break}dt(t,"overflow")}}if(g-f+1<o){var P=s;i&&(u+=1,P+=1),n&&(u+=1,P+=1);var x=parseInt(t[u+g+1],10),O=0;if(x>=5&&(O=1,5===x))for(O=d[g]%2==1,m=u+g+2;m<P;m++)if(parseInt(t[m],10)){O=1;break}if(O)for(var R=g;R>=0;R--)if(++d[R]>9&&(d[R]=0,0===R)){if(!(v<nt))return new e(Ze.from(n?ot:st));v+=1,d[R]=1}}if(y=ne.fromNumber(0),_=ne.fromNumber(0),0===o)y=ne.fromNumber(0),_=ne.fromNumber(0);else if(g-f<17){var M=f;for(_=ne.fromNumber(d[M++]),y=new ne(0,0);M<=g;M++)_=(_=_.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[M]))}else{var D=f;for(y=ne.fromNumber(d[D++]);D<=g-17;D++)y=(y=y.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[D]));for(_=ne.fromNumber(d[D++]);D<=g;D++)_=(_=_.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[D]))}var N,L,B,$,F=function(e,t){if(!e&&!t)return{high:ne.fromNumber(0),low:ne.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new ne(e.getLowBits(),0),i=t.shiftRightUnsigned(32),a=new ne(t.getLowBits(),0),o=r.multiply(i),s=r.multiply(a),l=n.multiply(i),c=n.multiply(a);return o=o.add(s.shiftRightUnsigned(32)),s=new ne(s.getLowBits(),0).add(l).add(c.shiftRightUnsigned(32)),{high:o=o.add(s.shiftRightUnsigned(32)),low:c=s.shiftLeft(32).add(new ne(c.getLowBits(),0))}}(y,ne.fromString("100000000000000000"));F.low=F.low.add(_),N=F.low,L=_,B=N.high>>>0,$=L.high>>>0,(B<$||B===$&&N.low>>>0<L.low>>>0)&&(F.high=F.high.add(ne.fromNumber(1))),r=v+6176;var j={low:ne.fromNumber(0),high:ne.fromNumber(0)};F.high.shiftRightUnsigned(49).and(ne.fromNumber(1)).equals(ne.fromNumber(1))?(j.high=j.high.or(ne.fromNumber(3).shiftLeft(61)),j.high=j.high.or(ne.fromNumber(r).and(ne.fromNumber(16383).shiftLeft(47))),j.high=j.high.or(F.high.and(ne.fromNumber(0x7fffffffffff)))):(j.high=j.high.or(ne.fromNumber(16383&r).shiftLeft(49)),j.high=j.high.or(F.high.and(ne.fromNumber(562949953421311)))),j.low=F.low,n&&(j.high=j.high.or(ne.fromString("9223372036854775808")));var W=Ze.alloc(16);return b=0,W[b++]=255&j.low.low,W[b++]=j.low.low>>8&255,W[b++]=j.low.low>>16&255,W[b++]=j.low.low>>24&255,W[b++]=255&j.low.high,W[b++]=j.low.high>>8&255,W[b++]=j.low.high>>16&255,W[b++]=j.low.high>>24&255,W[b++]=255&j.high.low,W[b++]=j.high.low>>8&255,W[b++]=j.high.low>>16&255,W[b++]=j.high.low>>24&255,W[b++]=255&j.high.high,W[b++]=j.high.high>>8&255,W[b++]=j.high.high>>16&255,W[b++]=j.high.high>>24&255,new e(W)};return e.prototype.toString=function(){for(var e,t,r,n,i,a,o=0,s=new Array(36),l=0;l<s.length;l++)s[l]=0;var c,u,d,p,h,f=0,g=!1,v={parts:new Array(4)},m=[];f=0;var y=this.bytes;if(n=y[f++]|y[f++]<<8|y[f++]<<16|y[f++]<<24,r=y[f++]|y[f++]<<8|y[f++]<<16|y[f++]<<24,t=y[f++]|y[f++]<<8|y[f++]<<16|y[f++]<<24,e=y[f++]|y[f++]<<8|y[f++]<<16|y[f++]<<24,f=0,{low:new ne(n,r),high:new ne(t,e)}.high.lessThan(ne.ZERO)&&m.push("-"),(i=e>>26&31)>>3==3){if(30===i)return m.join("")+"Infinity";if(31===i)return"NaN";a=e>>15&16383,d=8+(e>>14&1)}else d=e>>14&7,a=e>>17&16383;if(c=a-6176,v.parts[0]=(16383&e)+((15&d)<<14),v.parts[1]=t,v.parts[2]=r,v.parts[3]=n,0===v.parts[0]&&0===v.parts[1]&&0===v.parts[2]&&0===v.parts[3])g=!0;else for(h=3;h>=0;h--){var _=0,b=ut(v);if(v=b.quotient,_=b.rem.low)for(p=8;p>=0;p--)s[9*h+p]=_%10,_=Math.floor(_/10)}if(g)o=1,s[f]=0;else for(o=36;!s[f];)o-=1,f+=1;if((u=o-1+c)>=34||u<=-7||c>0){if(o>34)return m.push(0),c>0?m.push("E+"+c):c<0&&m.push("E"+c),m.join("");m.push(s[f++]),(o-=1)&&m.push(".");for(var w=0;w<o;w++)m.push(s[f++]);m.push("E"),u>0?m.push("+"+u):m.push(u)}else if(c>=0)for(var S=0;S<o;S++)m.push(s[f++]);else{var C=o+c;if(C>0)for(var I=0;I<C;I++)m.push(s[f++]);else m.push("0");for(m.push(".");C++<0;)m.push("0");for(var A=0;A<o-Math.max(C-1,0);A++)m.push(s[f++])}return m.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},Object.defineProperty(e.prototype,"_bsontype",{value:"Decimal128"}),e}(),ht=pt,ft=function(){function e(){ie(this,e)}return oe(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MinKey"}),e}(),gt=function(){function e(){ie(this,e)}return oe(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MaxKey"}),e}(),vt=function(){function e(t,r,n,i){ie(this,e);var a=t.split(".");2===a.length&&(n=a.shift(),t=a.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return oe(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach((function(e){return delete r[e]})),new e(t.$ref,t.$id,t.$db,r)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1}),e}(),mt=(()=>re.Buffer)(),yt=function(){function e(r,n){if(ie(this,e),!(null==r||"string"==typeof r||mt.isBuffer(r)||r instanceof Uint8Array||Array.isArray(r)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?t:n,this.position=0,null==r||r instanceof Number)void 0!==mt?this.buffer=mt.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof r)if(void 0!==mt)this.buffer=mt.from(r);else{if("undefined"==typeof Uint8Array&&!Array.isArray(r))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=function(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(r)}else this.buffer=r;this.position=r.length}}oe(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==mt&&mt.isBuffer(this.buffer)){var i=mt.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=n}else{var a=null;a=r(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)a[o]=this.buffer[o];this.buffer=a,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==mt&&mt.isBuffer(this.buffer))n=mt.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(r(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var i=0;i<this.position;i++)n[i]=this.buffer[i]}this.buffer=n}if(void 0!==mt&&mt.isBuffer(e)&&mt.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==mt&&"string"==typeof e&&mt.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(r(e)||Array.isArray(e)&&"string"!=typeof e){for(var a=0;a<e.length;a++)this.buffer[t++]=e[a];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==mt&&mt.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==mt&&mt.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=r(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return function(e,t,r){for(var n="",i=t;i<r;i++)n+=String.fromCharCode(e[i]);return n}(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=mt.isBuffer(this.buffer)?this.buffer.toString("base64"):mt.from(this.buffer).toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===r.length?"0"+r:r}:{$binary:{base64:t,subType:1===r.length?"0"+r:r}}}}],[{key:"fromExtendedJSON",value:function(t,r){var n,i;return(r=r||{}).legacy?(i=t.$type?parseInt(t.$type,16):0,n=mt.from(t.$binary,"base64")):(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=mt.from(t.$binary.base64,"base64")),new e(n,i)}}]);var t=0;function r(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}return e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,Object.defineProperty(e.prototype,"_bsontype",{value:"Binary"}),e}(),_t=yt,bt={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},wt={$oid:He,$binary:_t,$symbol:Qe,$numberInt:Je,$numberDecimal:ht,$numberDouble:se,$numberLong:ne,$minKey:ft,$maxKey:gt,$regex:Ke,$regularExpression:Ke,$timestamp:pe};function St(e,t,r,n){if("number"==typeof r){if(n.relaxed||n.legacy)return r;if(Math.floor(r)===r){if(r>=At&&r<=It)return new Je(r);if(r>=Et&&r<=kt)return new ne.fromNumber(r)}return new se(r)}if(null==r||"object"!==le(r))return r;if(r.$undefined)return null;for(var i=Object.keys(r).filter((function(e){return e.startsWith("$")&&null!=r[e]})),a=0;a<i.length;a++){var o=wt[i[a]];if(o)return o.fromExtendedJSON(r,n)}if(null!=r.$date){var s=r.$date,l=new Date;return n.legacy?"number"==typeof s?l.setTime(s):"string"==typeof s&&l.setTime(Date.parse(s)):"string"==typeof s?l.setTime(Date.parse(s)):ne.isLong(s)?l.setTime(s.toNumber()):"number"==typeof s&&n.relaxed&&l.setTime(s),l}if(null!=r.$code){var c=Object.assign({},r);return r.$scope&&(c.$scope=St(e,null,r.$scope)),Ye.fromExtendedJSON(r)}if(null!=r.$ref||null!=r.$dbPointer){var u=r.$ref?r:r.$dbPointer;if(u instanceof vt)return u;var d=Object.keys(u).filter((function(e){return e.startsWith("$")})),p=!0;if(d.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(p=!1)})),p)return vt.fromExtendedJSON(u)}return r}function Ct(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0,legacy:!1},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,(function(e,n){return St(r,0,n,t)}))}var It=2147483647,At=-2147483648,kt=0x8000000000000000,Et=-0x8000000000000000;function Tt(e,t,r,n){null!=r&&"object"===le(r)&&(n=r,r=0),null==t||"object"!==le(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0,legacy:!1},n);var i=Array.isArray(e)?Pt(e,n):Mt(e,n);return JSON.stringify(i,t,r)}function Pt(e,t){return e.map((function(e){return Ot(e,t)}))}function xt(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Ot(e,t){if(Array.isArray(e))return Pt(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.legacy?t.relaxed&&n?{$date:e.getTime()}:{$date:xt(e)}:t.relaxed&&n?{$date:xt(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=Et&&e<=kt;if(e>=At&&e<=It)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var a=e.flags;return void 0===a&&(a=e.toString().match(/[gimuy]*$/)[0]),new Ke(e.source,a).toExtendedJSON(t)}return null!=e&&"object"===le(e)?Mt(e,t):e}var Rt={Binary:function(e){return new _t(e.value(),e.subtype)},Code:function(e){return new Ye(e.code,e.scope)},DBRef:function(e){return new vt(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new ht(e.bytes)},Double:function(e){return new se(e.value)},Int32:function(e){return new Je(e.value)},Long:function(e){return ne.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new gt},MinKey:function(){return new ft},ObjectID:function(e){return new He(e)},ObjectId:function(e){return new He(e)},BSONRegExp:function(e){return new Ke(e.pattern,e.options)},Symbol:function(e){return new Qe(e.value)},Timestamp:function(e){return pe.fromBits(e.low,e.high)}};function Mt(e,t){if(null==e||"object"!==le(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var i in e)n[i]=Ot(e[i],t);return n}if("string"==typeof r){var a=e;if("function"!=typeof a.toExtendedJSON){var o=Rt[r];if(!o)throw new TypeError("Unrecognized or invalid _bsontype: "+r);a=o(a)}return"Code"===r&&a.scope?a=new Ye(a.code,Ot(a.scope,t)):"DBRef"===r&&a.oid&&(a=new vt(a.collection,Ot(a.oid,t),a.db,a.fields)),a.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+le(r))}var Dt={parse:Ct,deserialize:function(e,t){return t=t||{},Ct(JSON.stringify(e),t)},serialize:function(e,t){return t=t||{},JSON.parse(Tt(e,t))},stringify:Tt};bt.JS_INT_MAX,bt.JS_INT_MIN;t.EJSON=Dt}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{DefaultCloud:()=>Ll,InstanceCloud:()=>Bl,getCloudAPI:()=>Nl,getCloudInstance:()=>Dl,getSDK:()=>re,getServiceMarketAPI:()=>lc,patchDefaultSDK:()=>ae,setDefaultSDK:()=>ie,setSDK:()=>ne});var e={};r.r(e),r.d(e,{GeoLineString:()=>Zi,GeoMultiLineString:()=>ta,GeoMultiPoint:()=>Xi,GeoMultiPolygon:()=>aa,GeoPoint:()=>Qi,GeoPolygon:()=>na,LineString:()=>Yi,MultiLineString:()=>ea,MultiPoint:()=>Ji,MultiPolygon:()=>ia,Point:()=>Ki,Polygon:()=>ra,__safe_props__:()=>oa});var t={};r.r(t),r.d(t,{AggregateOperatorMap:()=>ps,AggregateSerializer:()=>_s,Decoder:()=>Os,OperatorMap:()=>ds,ProjectionSerializer:()=>xs,QuerySerializer:()=>ws,UpdateSerializer:()=>Es,aggregateOperatorToString:()=>ys,decodeInternalDataType:()=>Ra,encode:()=>Ss,encodeInternalDataType:()=>Oa,extractQueryOptions:()=>Ma,flattenObject:()=>Ta,flattenQueryObject:()=>Ea,getProjectionDefinition:()=>Na,isConversionRequired:()=>xa,mergeConditionAfterEncode:()=>Pa,operatorToString:()=>ms});var i=r(715),o=r.n(i);function s(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}const l=function e(t,r){if(t===r)return t;for(var n of Object.keys(r)){var i=s(r,n),a=s(t,n),o=void 0;"object"==typeof i?e(o=a||{},i):o=i,t[n]=o}return t};var c=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),u=e=>"object"===c(e),d=e=>"string"===c(e),g=e=>"number"===c(e),v=e=>"function"==typeof e,m=e=>Array.isArray(e),y=e=>"date"===c(e),_=e=>"regexp"===c(e),b=e=>e&&"symbol"===c(e._internalType),S=e=>{if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},C={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-402002":"realtime listener init watch fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:-402002,"-402003":"realtime listener reconnect ws fail",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL:-402003,"-402004":"realtime listener rebuild watch fail",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:-402004,"-402005":"realtime listener close watch fail",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:-402005,"-402006":"realtime listener receive server error msg",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:-402006,"-402007":"realtime listener receive invalid server data",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:-402007,"-402008":"realtime listener websocket connection error",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:-402008,"-402009":"realtime listener websocket connection closed",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:-402009,"-402010":"realtime listener check last fail",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:-402010,"-402011":"realtime listener unexpected fatal error",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:-402011,"-402012":"realtime listener init ws fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL:-402012,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"poll result base resp ret abnormal",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"poll result status code error",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"poll error",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-404012":"polling exceed max timeout retry",SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY:-404012,"-404013":"polling exceed max system error retry",SDK_FUNCTIONS_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-404013,"-405001":"empty call result",SDK_CONTAINER_EMPTY_CALL_RESULT:-405001,"-405002":"empty event id",SDK_CONTAINER_EMPTY_EVENT_ID:-405002,"-405003":"empty poll url",SDK_CONTAINER_EMPTY_POLL_URL:-405003,"-405004":"empty poll result json",SDK_CONTAINER_EMPTY_POLL_RESULT_JSON:-405004,"-405005":"exceed max poll retry",SDK_CONTAINER_EXCEED_MAX_POLL_RETRY:-405005,"-405006":"empty poll result base resp",SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP:-405006,"-405007":"poll result base resp ret abnormal",SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-405007,"-405008":"poll result status code error",SDK_CONTAINER_POLL_RESULT_STATUS_CODE_ERROR:-405008,"-405009":"poll error",SDK_CONTAINER_POLL_ERROR:-405009,"-405010":"result expired",SDK_CONTAINER_POLL_RESULT_EXPIRED:-405010,"-405012":"polling exceed max timeout retry",SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY:-405012,"-405013":"polling exceed max system error retry",SDK_CONTAINER_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-405013,"-405014":"cannot download result (cdn)",SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL:-405014,"-405015":"exceed max client request count, avoid infinite loop in your code and retry after 60s",SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT:-405015,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-601005":"invalid cloudID",WX_INVALID_CLOUDID:-601005,"-601006":"cloudID expired",WX_CLOUDID_EXPIRED:-601006,"-601007":"cloudID and calling user does not match",WX_CLOUDID_USER_NOT_MATCH:-601007,"-601008":"server-side request timedout",WX_SERVER_REQUEST_TIMEOUT:-601008,"-601009":"missing mobile phone",WX_MISSING_MOBILE_PHONE:-601009,"-601010":"no write permission",WX_NO_WRITE_PERMISSION:-601010,"-601011":"no privilege permission",WX_NO_PRIVILEGE_PERMISSION:-601011,"-601012":"unauthorized env",WX_UNAUTHORIZED_ENV:-601012,"-601013":"no multiend permission",WX_NO_MULTIEND_PERMISSION:-601013,"-601015":"access denied (cloudfunction cloudbase_auth returns empty errCode)",WX_CLOUDBASE_AUTH_RETURN_EMPTY_ERRCODE:-601015,"-601016":"missing env auth info",WX_MISSING_ENV_AUTH_INFO:-601016,"-601017":"access denied (cloudbase_auth returns non-zero errCode)",WX_CLOUDBASE_AUTH_RETURN_NON_ZERO_ERRCODE:-601017,"-602018":"unauthorized API",WX_UNAUTHORIZED_API:-601018,"-602001":"database query result size exceed limit (1MB)",WX_DATABASE_QUERY_SIZE_EXCEED_LIMIT:-602001,"-604001":"cloudfunction result size exceed limit (1MB)",WX_CLOUDFUNCTION_RESULT_SIZE_EXCEED_LIMIT:-604001,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-501010":"tencentcloud key signature verification fail",TCB_KEY_SIGNATURE_VERIFICATION_FAIL:-501010,"-501011":"invalid env status",TCB_INVALID_ENV_STATUS:-501011,"-501012":"invalid api name",TCB_INVALID_API_NAME:-501012,"-501013":"request data size exceeds limit (5M)",TCB_REQ_DATA_EXCEED_LIMIT_5M:-501013,"-501014":"upload file size exceeds limit (5M)",TCB_UPLOAD_FILE_SIZE_EXCEED_LIMIT_5M:-501014,"-501023":"permission denied",TCB_PERMISSION_DENIED:-501023,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002};class I extends Error{constructor(e){super(e.errMsg),this.errCode=-1,this.errMsg=void 0,this.requestID=void 0,Object.defineProperties(this,{message:{get(){return`errCode: ${this.errCode} ${C[this.errCode]||""} | errMsg: `+this.errMsg},set(e){this.errMsg=e}}}),this.errCode=e.errCode||-1,this.errMsg=e.errMsg}get message(){return`errCode: ${this.errCode} | errMsg: `+this.errMsg}set message(e){this.errMsg=e}}function A(e){return e&&e instanceof Error&&d(e.errMsg)}function k(e,t){return E(e,t)}function E(e,t){if(e){if(A(e))return e;var r,n=`${t}:fail `;if(e instanceof Error)e.message=`${n}${e.message}`,e.stack=e.stack?e.stack.slice(0,7)+n+e.stack.slice(7):e.stack,(r=e).errCode=-1;else if("string"==typeof e)(r=new Error(`${n}${e}`)).errCode=-1;else{var i=e.errMsg||"";(r=new Error(`${t}:fail ${e.errCode} ${C[e.errCode]||""}. ${i}`)).errCode=e.errCode||-1}return r.errMsg=r.message+"",r}var a=new Error(`${t}:fail`);return a.errCode=-1,a.errMsg=a.message+"",a}class P extends Error{constructor(e,t){super(e),this.type="timeout",this.payload=void 0,this.generic=!0,this.payload=t}}var O=e=>"timeout"===e.type;class R extends Error{constructor(e,t){super(e),this.type="cancelled",this.payload=void 0,this.generic=!0,this.payload=t}}var M,D=e=>"cancelled"===e.type,N={fake:!0,surroundThirdByTryCatch:(e,t)=>function(...r){return j((()=>{try{return e.apply(e,r)}catch(r){throw console.error(JSON.stringify(r)+`; ${t}\n`+r.stack),console.error(e.toString()),r}}),t)},reportIDKey:(...e)=>{},reportIDKeyDirectly:(...e)=>{},reportKeyValue:(...e)=>{}},L=!1,B=10;function $(){try{return L?T:B<=0?M:(B--,T.surroundThirdByTryCatch,L=!0,M=T)}catch(e){return M=N}}const F={surroundThirdByTryCatch:(e,t)=>$().surroundThirdByTryCatch(e,t),reportIDKey:e=>$().reportIDKey(e),reportIDKeyDirectly:e=>$().reportIDKeyDirectly(e),reportKeyValue:e=>$().reportKeyValue(e),errorReport:e=>$().errorReport(e)};function j(e,t=""){try{return e()}catch(e){if(A(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new I({errMsg:r})}}function W(e,t=""){return function(...r){return j((()=>e.apply(e,r)),t)}}function U(e){var t=e.param;t&&(t.success&&v(t.success)&&(t.success=F.surroundThirdByTryCatch(t.success,`at api ${e.apiName} success callback function`)),t.fail&&v(t.fail)&&(t.fail=F.surroundThirdByTryCatch(t.fail,`at api ${e.apiName} fail callback function`)),t.complete&&v(t.complete)&&(t.complete=F.surroundThirdByTryCatch(t.complete,`at api ${e.apiName} complete callback function`)))}function V(e,t,r){t.complete&&v(t.complete)&&W(t.complete,`at api ${e} complete callback function;`)(r)}function q(e,t,r){!function(e,t,r){t.success&&v(t.success)&&W(t.success,`at api ${e} success callback function;`)(r)}(e,t,r),V(e,t,r)}function z(e,t,r){!function(e,t,r){t.fail&&v(t.fail)&&W(t.fail,`at api ${e} fail callback function;`)(r)}(e,t,r),V(e,t,r)}function G(e){return e&&(e.success||e.fail||e.complete)}function H(e,t,r="parameter",n=I){var i=function(e,t,r="parameter"){var n=function e(t,r,n){var i=c(t),a=c(r);if("string"===a)return i!==r?`${n} should be ${r} instead of ${i};`:"";if(i!==a)return`${n} should be ${a} instead of ${i}; `;var o="";switch(i){case"object":for(var s in r)o+=e(t[s],r[s],`${n}.${s}`);break;case"array":for(var l=0;l<r.length;l++)o+=e(t[l],r[l],`${n}[${l}]`)}return o}(e,t,r);return{passed:!n,reason:n}}(e,t,r);if(!i.passed)throw new n({errCode:C.SDK_API_PARAMETER_TYPE_ERROR,errMsg:i.reason})}function K(e,t,r,n=I){if(null==e)throw new n({errCode:C.SDK_API_PARAMETER_ERROR,errMsg:`parameter ${t} of function ${r} must be provided`})}function Q({name:e,input:t,max:r,maxWording:n="",ErrorClass:i=I}){if(t.length>r)throw new i({errCode:C.SDK_API_PARAMETER_ERROR,errMsg:`${e} size must be less than ${n||r}`})}function J({target:e,name:t,ErrorClass:r=I}){if(0===Object.keys(e).length)throw new r({errCode:C.SDK_API_PARAMETER_ERROR,errMsg:`${t} must not be empty`})}function X(e,t=!1){if(t)return function(e){switch(c(e)){case"object":return{...e};case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if(S(e))return{...e};switch(c(e)){case"object":default:return e;case"array":return e.slice()}}var Y,Z=new WeakMap,ee=[];function te(){var e,t=null!==(e=Y)&&void 0!==e?e:void 0!==w?w:void 0;return t?ee.reduce(((e,t)=>t(e)),t):t}var re=e=>{if(!e)return te();var t=Z.get(e);return t&&t||te()},ne=(e,t)=>{Z.set(e,t)},ie=e=>{Y=e},ae=e=>{ee.push((t=>Object.assign({},t,e)))};const oe=(e,t)=>{var r=null,n=!1,i=()=>{r?n=!0:(e(),r=setTimeout((()=>{clearTimeout(r),r=null,n&&(n=!1,i())}),t))};return i};function se(e){if(void 0===e||!e.timestamp||!e.expires_in)return 0;var t=Date.now()-e.timestamp,r=.8*e.expires_in,n=Math.min(e.timestamp,Date.now())+1e3*r;return t>1e3*r?Date.now()+1e3*r:n}var le,ce=void 0!==f?f:void 0,ue=(e=0)=>new Promise((t=>setTimeout(t,e))),de=!1,pe=[],he=()=>new Promise(((e,t)=>{if(le)e(le);else{0;try{re().wx.getNetworkType({success:t=>{le={networkType:t.networkType,isConnected:"none"!==t.networkType},e(le),de||(re().wx.onNetworkStatusChange((e=>{if(le.networkType=e.networkType,le.isConnected=e.isConnected,e.isConnected&&pe.length)for(;pe.length;)try{pe.shift()()}catch(e){}})),de=!0)},fail:t})}catch(e){t(e)}}}));var fe,ge=!1,ve=new Set;function me(e){try{re().wx.onAppShow&&(ge||(!function(){var e=re().wx;e.onAppShow&&e.onAppHide&&(e.onAppShow((()=>{for(var e of("visible",ve))try{e("show")}catch(e){0}})),e.onAppHide((()=>{for(var e of("hidden",ve))try{e("hide")}catch(e){0}})))}(),ge=!0),ve.size>50&&ve.clear(),ve.add(e))}catch(e){}}function ye(e){ve.delete(e)}function _e(){if(fe)return fe;var e=re().wx;return fe=e.getSystemInfoSync()}var be,we=!1,Se=void 0;function Ce(e=500,t={}){if(re().private_getBackgroundFetchData&&!t.pluginId){if(Se)return Se;if(be)return be.then((()=>Se));if(!we){we=!0;var r=Date.now(),n=jt();return be=Promise.race([ue(e).then((()=>({error:"bg fetch timeout"}))),new Promise(((e,t)=>{re().private_getBackgroundFetchData({fetchType:0,success:t=>{try{t||e({error:"empty"}),(Se=JSON.parse(t.fetchedData)).expiresTs=se(Se),e(Se),Ht({apiName:"private_getBackgroundFetchData",apiStartTime:r,apiEndTime:Date.now(),warmStartTime:n})}catch(t){e({error:t})}},fail:t=>{e({error:t})}})}))]),Se?(null==ce||ce.log("private_getBackgroundFetchData (cloud) (sync)",JSON.stringify(Se)),Se):be.then((e=>(be=void 0,null==ce||ce.log("private_getBackgroundFetchData (cloud)",JSON.stringify(e)),e.error?void 0:e)))}}}function Ie(e){try{return JSON.parse(e)}catch(t){return e}}function Ae(e){return encodeURIComponent(function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e))}var ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ee(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return function(e){for(var t,r,n=String(e),i="",a=0,o=ke;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i}(t)}function Te(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=ke.indexOf(i);return r}(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}function Pe(e){return De(new Uint8Array(e))}function xe(e){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e).buffer}var Oe,Re,Me,De=(Oe=new Array(128),Re=String.fromCodePoint||String.fromCharCode,Me=[],function(e){var t,r,n=e.length;Me.length=0;for(var i=0;i<n;)(r=e[i++])<=127?t=r:r<=223?t=(31&r)<<6|63&e[i++]:r<=239?t=(15&r)<<12|(63&e[i++])<<6|63&e[i++]:String.fromCodePoint?t=(7&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++]:(t=63,i+=3),Me.push(Oe[t]||(Oe[t]=Re(t)));return Me.join("")});var Ne=r(959),Le=ce,Be=new Set(["tcbapi_init","tcbapi_get_service_info"]);var $e=new class{constructor(e){this.limitPerMinute=void 0,this.tokens=void 0,this.lastRefillTime=void 0,this.reported=!1,this.serverLastLimitExceedSeen=0,this.serverLimited=!1,this.limitPerMinute=e,this.tokens=this.limitPerMinute,this.lastRefillTime=Date.now()}markServerLimitExceed(){this.serverLastLimitExceedSeen=Date.now(),this.serverLimited=!0}updateLimit(e){this.limitPerMinute=e}reportClientLimited(){if(!this.reported){this.reported=!0;var e=Date.now();Ht({apiName:"RequestLimiter",funcName:"limit",apiStartTime:this.lastRefillTime,apiEndTime:e,tunnelStartTime:this.lastRefillTime,tunnelEndTime:e,errMsg:"user request limit exceed",resultStatus:2,bypassCheck:!0})}}refillTokens(){var e=Date.now();e-this.lastRefillTime>6e4&&(this.tokens=this.limitPerMinute,this.lastRefillTime=e)}allowRequest(){return this.refillTokens(),this.serverLimited&&Date.now()-this.serverLastLimitExceedSeen<1e3?(this.reportClientLimited(),!1):this.tokens>0?(this.tokens-=1,!0):(this.reportClientLimited(),!1)}}(1e3);var Fe=new class{constructor(){this._running=0,this._onIdleCallbacks=[],this._idleTriggerTimer=void 0}get running(){return this._running}incrementRunning(e=1){this._running+=e,this._idleTriggerTimer&&clearTimeout(this._idleTriggerTimer)}decrementRunning(e=1){this._running-=e,this._running<0&&(this._running=0),this._running<=0&&this._onIdleCallbacks.length&&(this._idleTriggerTimer=setTimeout((()=>{if(this._idleTriggerTimer=null,this._onIdleCallbacks.length){var e=this._onIdleCallbacks.shift();e&&e()}}),50))}onceIdle(e){this._running>0?this._onIdleCallbacks.push(e):e()}};function je(e,t={}){if(t.fireOnIdle&&Fe.running>0)return new Promise(((r,n)=>{Fe.onceIdle(o()((function*(){try{var i=yield je(e,t);r(i)}catch(e){n(e)}})))}));if(t.onFire)try{t.onFire()}catch(e){}return new Promise(((r,n)=>{var i,a,o,s,l,c,u;if(Fe.incrementRunning(),$e.allowRequest()){var d;if(null!==(i=e.cloud)&&void 0!==i&&i.plugins)d=`https://${e.cloud.plugins.reduce(((e,t)=>t.getMetadata(e)),{}).host||"servicewechat.com"}/wxa-qbase/jsoperatewxdata`,e=e.cloud.plugins.reduce(((t,r)=>r.beforeTunnelRequest(e)),e)||e;re((e.cloud||t.cloud||{}).identifiers).invokeOperateWXData({appid:(null===(a=e.cloud)||void 0===a||null===(o=a.instanceOptions)||void 0===o?void 0:o.resourceAppid)||(null===(s=e.cloud)||void 0===s?void 0:s.config.appid),accessToken:null===(l=e.cloud)||void 0===l||null===(c=l.authStorage)||void 0===c?void 0:c.getItem("access_token"),webRequest:null===(u=e.cloud)||void 0===u?void 0:u.webRequest,url:d,apiName:e.apiName||"qbase_commapi",reqData:e.data,requestInQueue:!1,success:i=>{var a;i=(null===(a=e.cloud)||void 0===a?void 0:a.plugins.reduce(((e,t)=>t.afterTunnelRequest(e)),i))||i;var o={...i,data:i.data};if(i.data)try{var s=i.data;if(s.baseresponse&&0!==s.baseresponse.errcode){var l=new I({errCode:s.baseresponse.errcode,errMsg:s.baseresponse.errmsg});return void n(l)}o={...i,data:s}}catch(e){var c=new I({errMsg:e&&e.toString()});return void n(c)}else if(t&&t.requireDataNotEmpty){var u=new I({errCode:i.errCode,errMsg:`error empty internal server response, ${i.errMsg}`});return void n(u)}r(o)},fail:e=>{if(e&&e.errMsg)if(e.errMsg.includes("invalid scope")){var t="invalid scope 没有权限，请先开通云服务";(e=new Error(t)).errMsg=t,e.operateWXDataFail=!0}else{var r=e.errMsg.replace(/^operateWXData:fail /,"");r.includes("meet frequency limit")&&$e.markServerLimitExceed(),(e=new Error(r)).errMsg=r,e.operateWXDataFail=!0}n(e)},complete:function(){e.complete&&e.complete.apply(null,arguments),Fe.decrementRunning()}})}else n(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},"cloud"))}))}function We(e){var{cloud:t}=e;return function(){var e=o()((function*(e){var r=t.isInstance?{...t.instanceOptions,appid:t.instanceOptions.resourceAppid,env:t.instanceOptions.resourceEnv}:{identityless:"sdk"===t.runtimeInfo.platform||void 0,appid:"sdk"===t.runtimeInfo.platform?t.config.appid:void 0,env:e.env||("sdk"===t.runtimeInfo.platform?t.config.env:void 0)},n={qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:r,qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`};if(e.stdpriv&&!Be.has(e.apiName)&&"windows"!==_e().platform){var i=yield function(e,t){return Ue.apply(this,arguments)}(t,n).catch((e=>{if(e&&(-9999===e.errCode||-9998===e.errCode))return je({apiName:"qbase_commapi",data:n,cloud:t}).then((t=>({...t,channelType:-9998===e.errCode?0:2})));throw e}));return i}return je({apiName:"qbase_commapi",data:n,cloud:t})}));return function(t){return e.apply(this,arguments)}}()}function Ue(){return Ue=o()((function*(e,t){var r=e.serviceEndpoint.getEndpointSync("container");if(null==r||!r.cloudServiceUrl)throw{errCode:-9998,errMsg:"cloudServiceUrl not found"};null==Le||Le.info("cloud stdpriv begin",t);var n=re(e.identifiers),i={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":r.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-LIB-BUILD-TS":1691076764460,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"JSON","Content-Type":"application/octet-stream","X-WX-REQUEST-CONTENT-ENCODING":"PB"},a=new Uint8Array(Te(r.key)),{data:o}=Ne.V1.encodeStdPrivRequest(a,{cliReqId:t.cli_req_id,qbaseApiName:t.qbase_api_name,qbaseMeta:{filterUserInfo:t.qbase_meta.filter_user_info,sdkVersion:t.qbase_meta.sdk_version,sessionId:t.qbase_meta.session_id},qbaseOptions:{env:t.qbase_options.env},qbaseReq:t.qbase_req},{}),s=function(e){var t,r=null===(t=Ct.container)||void 0===t?void 0:t.getTokenSync();if(null==r||!r.cloudServiceUrl)return;e.rdm&&(r.cloudServiceUrl=r.cloudServiceUrl.replace(yt,"https://wxardm.weixin.qq.com"));return r}({rdm:e.getConfig().rdm});return new Promise(((e,t)=>{$e.allowRequest()?n._requestSkipCheckDomain({url:s.url,method:"POST",header:i,data:o.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,success:r=>{try{for(var n in null==Le||Le.info("res",r),r.header)if("x-nws-log-uuid"===n.toLowerCase()&&(null==Le||Le.log(`[cloud.callContainer] x-nws-log-uuid ${r.header[n]}`)),"x-wx-system-error"===n.toLowerCase()){var i=Number(r.header[n]);return 85104===i&&s.invalidate(),102003===i&&$e.markServerLimitExceed(),void t(new Error(`wx system error. code: ${i}`))}if(200===r.statusCode){var o=r.data,l=!1;for(var c in r.header)"x-wx-compression"===c.toLowerCase()&&"snappy"===r.header[c]&&(l=!0);var u=Ne.V1.decodeStdPrivResponse(a,new Uint8Array(o),l);e({errCode:0,errMsg:"",data:u,profile:r.profile,channelType:1})}else t({errCode:-9999,errMsg:"system conn status not 200"})}catch(e){t(new Error(`error while processing internal response ${e}`))}},fail:e=>{t({...e,errCode:-9999,errMsg:e.errMsg})}}):t(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},"cloud"))}))})),Ue.apply(this,arguments)}const Ve=je;const qe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const ze="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;var Ge="object"==typeof self&&self&&self.Object===Object&&self;const He=ze||Ge||a("return this")();const Ke=function(){return He.Date.now()};const Qe=He.Symbol;var Je=Object.prototype,Xe=Je.hasOwnProperty,Ye=Je.toString,Ze=Qe?Qe.toStringTag:void 0;const et=function(e){var t=Xe.call(e,Ze),r=e[Ze];try{e[Ze]=void 0;var n=!0}catch(e){}var i=Ye.call(e);return n&&(t?e[Ze]=r:delete e[Ze]),i};var tt=Object.prototype.toString;const rt=function(e){return tt.call(e)};var nt=Qe?Qe.toStringTag:void 0;const it=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":nt&&nt in Object(e)?et(e):rt(e)};const at=function(e){return null!=e&&"object"==typeof e};const ot=function(e){return"symbol"==typeof e||at(e)&&"[object Symbol]"==it(e)};var st=/^\s+|\s+$/g,lt=/^[-+]0x[0-9a-f]+$/i,ct=/^0b[01]+$/i,ut=/^0o[0-7]+$/i,dt=parseInt;const pt=function(e){if("number"==typeof e)return e;if(ot(e))return NaN;if(qe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(st,"");var r=ct.test(e);return r||ut.test(e)?dt(e.slice(2),r?2:8):lt.test(e)?NaN:+e};var ht=Math.max,ft=Math.min;const gt=function(e,t,r){var n,i,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=n,a=i;return n=i=void 0,c=t,o=e.apply(a,r)}function f(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=a}function g(){var e=Ke();if(f(e))return v(e);s=setTimeout(g,function(e){var r=t-(e-l);return d?ft(r,a-(e-c)):r}(e))}function v(e){return s=void 0,p&&n?h(e):(n=i=void 0,o)}function m(){var e=Ke(),r=f(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(g,t),u?h(e):o}(l);if(d)return s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=pt(t)||0,qe(r)&&(u=!!r.leading,a=(d="maxWait"in r)?ht(pt(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=i=s=void 0},m.flush=function(){return void 0===s?o:v(Ke())},m};var vt=()=>{};class mt{constructor(e,t,r){this.refreshToken=e,this.proactiveRefreshTimer=t,this.onRefreshedToken=r,this.state="init",this.currentToken=void 0,this.currentSession=void 0,this.currentTask=void 0,this.refreshHandler=void 0}transition(e,t){switch(vt(`[gateway:token] transition ${this.state} -> ${e}`,t),this.state){case"init":"refreshing"===e?(this.state="refreshing",this.currentTask=t.task):vt(`[gateway:token] invalid transition ${this.state} -> ${e}`);break;case"normal":"refreshing"===e?(this.state="refreshing",Object.defineProperty(this.currentToken,"__invalidated",{value:!0}),this.currentToken=void 0,this.currentTask=t.task):"normal"===e?t.token&&this.currentToken&&t.token.timestamp>this.currentToken.timestamp&&(this.currentToken=t.token,this.currentTask=void 0):vt(`[gateway:token] invalid transition ${this.state} -> ${e}`);break;case"refreshing":"normal"===e?(this.state="normal",this.currentToken=t.token,this.currentTask=void 0):vt(`[gateway:token] invalid transition ${this.state} -> ${e}`)}}getTokenSync(){if(this.currentToken)return this.currentToken.exp<Date.now()?void this.invalidate(this.currentToken):this.currentToken}getToken(){var e=this;return o()((function*(){return e.currentToken?e.currentToken.exp<Date.now()?e.invalidate(e.currentToken):e.currentToken:e.invalidate()}))()}updateSession(e){var t=this;return o()((function*(){var r=new Promise((t=>"string"==typeof e?t(e):e?e.then(t):t(e)));return t.currentSession=yield r,t.invalidate()}))()}invalidate(e,t){var r=this;return o()((function*(){var n;if("refreshing"===r.state&&r.currentTask)return r.currentTask;if(null!=e&&e.__invalidated&&"normal"===r.state&&r.currentToken)return vt("[gateway:token] already invalidated token returning latest not refreshing"),r.currentToken;r.refreshHandler&&clearTimeout(r.refreshHandler);var i=r.currentSession,a=new Promise(((n,a)=>{var o=Date.now();r.refreshToken(i).then((t=>{var i=0,a=0;"iat"in t?(i=1e3*t.iat,a=t.exp-t.iat):(i=t.timestamp,a=t.expires_in);var o=se({timestamp:i,expires_in:a}),s={...t,exp:o,timestamp:i,invalidate:()=>r.invalidate(e)};r.transition("normal",{token:s});var l=s.exp-Date.now();r.refreshHandler=r.proactiveRefreshTimer?setTimeout((()=>{r.invalidate(void 0,!0)}),r.proactiveRefreshTimer(l)):void 0,n(s)})).catch((e=>{var r=Date.now(),n="";(n=e instanceof Error?e.message:"string"==typeof e?e:e+"").replace(/,/g,"."),Ht({apiName:"TokenManager",funcName:t?"ProactiveRefreshTimer":"Invalidation",apiStartTime:o,apiEndTime:r,tunnelStartTime:o,tunnelEndTime:r,errMsg:n,resultStatus:2}),a(n)}))}));t||r.transition("refreshing",{task:a});var o=yield a;return null===(n=r.onRefreshedToken)||void 0===n||n.call(r,o),o}))()}}var yt=/https:\/\/servicewechat\.com/,_t={},bt="servicewechat.com",wt=!1,St=`${Math.random()}_${Date.now()}`;void 0!==h&&h.onLoad((()=>{St=`${Math.random()}_${Date.now()}`}));var Ct={};class It{constructor(e){this.identifiers=e,this._tunnelRequest=void 0,this._meta=void 0,this.containerTokenManager=new mt(this.refreshContainerServiceEndpoint.bind(this),(e=>e),(e=>this.processServiceEndpoint(e))),Ct.container=this.containerTokenManager}setMetaData(e){this._meta=e}setTunnelRequest(e){this._tunnelRequest=e}getEndpointSync(e){if("container"===e){var t=this.containerTokenManager.getTokenSync();if(null!=t&&t.url)return t}}getEndpoint(e){var t=this;return o()((function*(){return"container"===e?t.containerTokenManager.getToken():null}))()}processServiceEndpoint(e){return o()((function*(){Qt(e,"1"),bt=e.domain||"servicewechat.com",function(){Tt.apply(this,arguments)}(),xt()}))()}refreshContainerServiceEndpoint(){var e=this;return o()((function*(){if(clearTimeout(_t.container),re().private_getBackgroundFetchData&&!wt){wt=!0;var t,r,n=Ce(500,e.identifiers);if(n&&!n.url_info&&(n=yield n),n&&n.expiresTs>Date.now()&&n.url_info)return{url:null!==(t=n.url_info)&&void 0!==t&&t.cloudrun_url?`${n.url_info.cloudrun_url}?token=${n.token}`:`https://${n.domain}/wxa-qbase/container_service?token=${n.token}`,cloudServiceUrl:null!==(r=n.url_info)&&void 0!==r&&r.cloudbase_url?`${n.url_info.cloudbase_url}?token=${n.token}`:void 0,domain:n.domain||"servicewechat.com",token:n.token,http:!0,key:n.key,timestamp:n.timestamp,expires_in:n.expires_in,exp:n.expires_in}}for(var i=[],a=0;a<3;a++)try{var o,s,l=Date.now(),c=_e(),u=(e._tunnelRequest?yield e._tunnelRequest({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({client_random:St,system:c.system,wx_app_version:c.version})}):yield Ve({apiName:"qbase_commapi",data:{qbase_api_name:"tcbapi_get_service_info",qbase_req:JSON.stringify({client_random:St,system:c.system,wx_app_version:c.version}),qbase_options:{},qbase_meta:e._meta,cli_req_id:`${+new Date}_${Math.random()}`}})).data;if(Date.now()-l>1e3*u.expires_in){i.push(`result already expired (startTs ${l} resultTs ${Date.now()})`);continue}var d=u.domain||"servicewechat.com";return{url:null!==(o=u.url_info)&&void 0!==o&&o.cloudrun_url?`${u.url_info.cloudrun_url}?token=${u.token}`:`https://${d}/wxa-qbase/container_service?token=${u.token}`,cloudServiceUrl:null!==(s=u.url_info)&&void 0!==s&&s.cloudbase_url?`${u.url_info.cloudbase_url}?token=${u.token}`:void 0,domain:d,token:u.token,http:u.http,key:u.key,timestamp:u.timestamp,ip:u.ip,vip:u.vip,expires_in:u.expires_in,exp:u.expires_in}}catch(e){i.push(e+"")}throw new Error(`get container service endpoints errors: ${i.join("\n")}`)}))()}invalidateToken(e,t){"container"===e&&this.containerTokenManager.invalidate(t)}static invalidateService(e,t){var r;null===(r=Ct[e])||void 0===r||r.invalidate(t)}}var At=!1,kt=!1,Et=0;function Tt(){return(Tt=o()((function*(){if(!At){At=!0;var e=()=>{At&&setTimeout(o()((function*(){yield Ot(),e()})),2e4)};if(e(),!kt){var t;kt=!0;var r=re();null!==(t=r.wx)&&void 0!==t&&t.onAppHide&&r.wx.onAppHide((()=>{At=!1}))}return Ot()}}))).apply(this,arguments)}var Pt=0,xt=()=>{Pt=Date.now()},Ot=gt((()=>new Promise((e=>{if(!(Date.now()-Pt<3e4)){var t=Date.now(),r=!/^\d+/.test(bt);re()._requestSkipCheckDomain({url:`${r?"https":"http"}://${bt}/wxa-qbase/keepalive`,header:r?{}:{host:"servicewechat.com"},method:"GET",dataType:"text",enableHttp2:r,success:()=>{e(),Et++%4==0&&Xt(22990,1,["privateHttpKeepAlive",bt,t,Date.now(),Date.now()-t].join(","))},fail:()=>{e()}})}})))),Rt=p;const Mt=Rt;var Dt=()=>"devtools"===Rt.platform,Nt=!1,Lt=[],Bt=Date.now(),$t=Date.now(),Ft="unknown";Mt.onReady((()=>{Bt=Date.now(),$t=Date.now()}));var jt=()=>$t,Wt=()=>{for(var e of Lt)try{e()}catch(e){0}Lt=[]};function Ut(e){for(var t=0;t<e.length;t++){var r=e[t];"string"==typeof r&&(e[t]=r.replace(/,/g," "))}return e}var Vt,qt,zt,Gt,Ht=e=>{setTimeout((()=>{try{var t,r,n,i;if(!(e=>!!e.bypassCheck||!(e.tunnelStartTime&&e.tunnelEndTime&&e.tunnelEndTime<e.tunnelStartTime)&&!!(e.apiStartTime&&e.apiEndTime&&e.apiEndTime>e.apiStartTime))(e))return;if(!Nt&&Lt.length<100)return void Lt.push(Ht.bind(null,e));var a=e.apiEndTime-e.apiStartTime,o=e.tunnelEndTime?e.tunnelEndTime-e.tunnelStartTime:0,s=Ut([0,e.apiName,a,o,(e.pollStartTime&&e.pollEndTime&&e.pollEndTime>e.pollStartTime?e.pollEndTime-e.pollStartTime:0)||0,Ft,e.tunnelTimeNoCSNetCost?a-e.tunnelTimeNoCSNetCost:0,e.tunnelTimeNoCSNetCost?o-e.tunnelTimeNoCSNetCost:0,e.funcExecTime?e.funcExecTime:0,null!==(t=e.channelType)&&void 0!==t?t:0,e.funcName||"",e.apiStartTime-Bt,void 0!==e.warmStartTime?e.apiStartTime-e.warmStartTime:0,null!==(r=e.usingPrefetchToken)&&void 0!==r?r:0,null!==(n=e.resultStatus)&&void 0!==n?n:1,null!==(i=e.errMsg)&&void 0!==i?i:""]);F.fake?Xt(16588,6,s.join(",")):F.reportKeyValue({key:"CloudReport",value:s.join(","),force:!0})}catch(e){}}))},Kt=(e,t,r,n)=>{F.reportIDKeyDirectly({id:e,key:t,force:r,immediately:n})},Qt=(e,t)=>(Vt=e,qt=t),Jt=[],Xt=(e,t,r)=>{Jt.push({log_id:e,version:t,user_log_list:r}),Vt&&Yt()},Yt=oe((()=>{re()._requestSkipCheckDomain({url:`https://servicewechat.com/wxa-qbase/report?token=${Vt.token}&v=${qt}`,method:"POST",header:{},enableHttp2:!0,dataType:"json",data:JSON.stringify({report_info_list:Jt}),success:e=>{for(var t in e.header)"x-wx-system-error"===t.toLocaleLowerCase()&&"85104"===e.header[t]&&Vt.invalidate()}}),Jt=[],Ot()}),3e4),Zt=(e,t)=>{var r=v(e);function n(...n){if(t.samplePicker&&!t.samplePicker.next())return r?e.apply(this,n):e;var a=Date.now(),o=!0;try{var s,l;if(null!==(s=t.condition)&&void 0!==s&&s.emptyKey&&t.timing[t.startKey])return r?e.apply(this,n):e;if(r){var u=e.apply(this,n);if("promise"!==c(u))return o=!1,u;l=u}else l=e;return l.then((()=>i(a))).catch((()=>i(a))),l}catch(e){throw o=!1,e}finally{o||i(a)}}function i(e){t.timing[t.startKey]=e,t.timing[t.endKey]=Date.now(),t.autoReport&&Ht({...t.timing,apiName:t.autoReport})}return r?n:n()},er=(zt=10,Gt=!0,function*(){for(var e=()=>parseInt(Math.round(2*Math.random()*zt),10),t=Gt?0:e();;)t>0?(t--,yield!1):(t=e(),yield!0)})();function tr(e){if(e&&!isNaN(e))return e>6e4?6e4:e<0?0:e}function rr(e,t,r){t.stats.apiEndTime=Date.now(),Ht({...t.context,apiEndTime:t.stats.apiEndTime,apiName:e});var n=Boolean(t.stats.profile),i=t.stats.profile||{},a=t.stats.serverEndTs-t.stats.serverStartTs,o=t.stats.httpRequest?t.stats.httpRequest<=6e4?t.stats.httpRequest:6e4:void 0,s=t.stats.apiEndTime,l=s-t.context.apiStartTime;l>9e4&&(l=9e4);var c=t.path||"";c=c.split("?")[0].replace(/\/\d+\//g,"/*/").replace(/\/\d+$/g,"/*"),Xt(22601,14,Ut([t.stats.callid,t.context.apiStartTime,s,t.stats.serverStartTs,t.stats.serverEndTs,t.stats.requestBodyBytes,t.stats.responseBodyBytes,t.stats.getServiceEndpoint,t.stats.queryDNS,t.stats.compress,t.stats.loadAsmcrypto,t.stats.encrypt,o,t.stats.decrypt,t.stats.uncompress,t.stats.decodePb,t.stats.decodeBody,t.stats.ip,i.redirectStart,n?i.redirectEnd-i.redirectStart:void 0,i.fetchStart,i.domainLookupStart,n?i.domainLookUpEnd-i.domainLookUpStart:void 0,i.connectStart,n?i.connectEnd-i.connectStart:void 0,i.SSLconnectionStart,n?i.SSLconnectionEnd-i.SSLconnectionStart:void 0,i.requestStart,n?i.requestEnd-i.requestStart:void 0,i.responseStart,n?i.responseEnd-i.responseStart:void 0,i.rtt,i.estimate_nettype,tr(i.httpRttEstimate),tr(i.transportRttEstimate),tr(i.downstreamThroughputKbpsEstimate),i.throughputKbps,i.peerIP,i.port,n?i.socketReused?1:0:void 0,i.sendBytesCount,i.receivedBytedCount,i.protocol,_e().system,l,a>0?a:0,o?l-o:void 0,c,_e().platform,t.stats.requestStartTs,1691076764460,t.stats.ecdnId,t.stats.ecdnEdgeTiming,t.stats.domain,t.stats.stringToBuffer,t.stats.encodePb,t.stats.tsBeforeCallContainerImpl,t.stats.tsCallContainerImplStart,t.stats.decodeJson,`SDK:${r}`,n?i.requestStart-t.stats.requestStartTs:void 0,n?t.stats.requestSuccessTs-i.requestEnd:void 0,t.stats.responseProcessEndTs?s-t.stats.responseProcessEndTs:void 0,t.stats.upstreamCost,t.stats.meshStartTs,t.stats.meshEndTs]).join(","))}function nr(e){return`${e}:ok`}function ir(e,t){return JSON.stringify(e,((e,r)=>t&&t.has(r)?t.get(r):"arraybuffer"===c(r)?{type:"Buffer",data:[...new Uint8Array(r)]}:r))}function ar(e){return or(JSON.parse(e))}function or(e){switch(c(e)){case"object":return sr(e);case"array":return e.map(or);default:return e}}function sr(e){var t=e,r=lr(t);if(t!==r)return r;for(var n in t){var i=t[n];switch(c(i)){case"object":var a=lr(i);t[n]=a!==i?a:sr(t[n]);break;case"array":var o=or(i);o!==i&&(t[n]=o);break;default:continue}}return t}function lr(e){for(var t in e)if("type"===t)if("Buffer"===e.type)if(m(e.data)&&g(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}return e}var cr=Symbol.for("CLOUD_ID"),ur=Symbol("CDN");function dr(e){var t=[];for(var r in e)u(e[r])&&e[r]._internalType===cr&&t.push({key:r,cloudID:e[r].cloudID});return t}var pr=20,hr=2,fr=2,gr=2e4,vr=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},mr=e=>e.join("->");function yr(e){return function(){var t=o()((function*(t){var r={...t.data},n=dr(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var a=ir(r,yield t.cdnMapPromise);Q({input:a,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var s=`${+new Date}-${Math.random()}`;t.context.tunnelStartTime=+new Date;var{result:l,requestID:c}=yield function(e,t,r,n){return u.apply(this,arguments)}(t,a,n,s);return t.context.tunnelEndTime=+new Date,{errMsg:nr(Ar),result:l,requestID:c};function u(){return u=o()((function*(t,r,n,i){return new Promise(((a,o)=>{var s=[vr("start")],{resolve:l,reject:c}=function(e,t,r){var n=t=>{e.push(vr(`app ${t}`))};me(n);var i=e=>{ye(n),t(e)},a=e=>{ye(n),r(e)};return{resolve:i,reject:a}}(s,a,o);d({param:t,functionName:t.name,data:r,cloudIDList:n,callID:i,action:Cr.CALL,scene:Ir.INITIATE_CALL,tryCount:e.appConfig.maxPollRetry||pr,systemErrorRetry:hr,timeoutErrorRetry:fr,trace:s,resolve:l,reject:c})}))})),u.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=o()((function*(r){var{functionName:i,data:a,callID:s,action:l,scene:c,tryCount:u,trace:p,systemErrorRetry:h,timeoutErrorRetry:f,resolve:g,reject:v}=r,m=l===Cr.CALL&&Dt()?t.localDebugNoTimeout:void 0,y=ir({function_name:i,data:l===Cr.CALL?a:void 0,action:l,scene:c,call_id:s,cloudid_list:l===Cr.CALL?n:[],local_debug_no_timeout:m}),_=!1,b=!1,w=()=>{clearTimeout(I),b=!0},S=+new Date,I=m?void 0:setTimeout(o()((function*(){var t=e.appConfig.clientPollTimeout||gr;if(!(+new Date-S>t&&(yield ue(),b))){if(!Dt()&&+new Date-S>e.appConfig.maxStartRetryGap)return p.push(vr("timeout, exceed max retry gap")),v(E({errCode:C.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${s}) (trace: ${mr(p)})`},Ar));_=!0,r.timeoutErrorRetry>0?(p.push(vr("timeout, retry")),d({...r,scene:Ir.TIMEOUT_RETRY,tryCount:u-1,timeoutErrorRetry:f-1})):(p.push(vr("timeout, abort")),v(E({errCode:C.SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${s}) (trace: ${mr(p)})`},Ar)))}})),e.appConfig.clientPollTimeout||gr);e.request({...t.config,apiName:"tcbapi_slowcallfunction_v2",serviceName:e.name,serializedReqData:y,env:t.config&&t.config.env||e.env,stdpriv:!0}).then((function(e){try{if(_)return;w(),(e=>{var r,n=e.data;n&&n.baseresponse&&n.baseresponse.stat&&(n.baseresponse.stat.qbase_cost_time&&(t.context.tunnelTimeNoCSNetCost+=n.baseresponse.stat.qbase_cost_time),n.baseresponse.stat.func_exec_cost_time&&(t.context.funcExecTime=n.baseresponse.stat.func_exec_cost_time)),t.context.channelType=null!==(r=e.channelType)&&void 0!==r?r:0,e.profile&&(null==ce||ce.log("callFunction profile",e.profile))})(e);var n=e.data;if(!n)return p.push(vr("empty resp")),v(E({errCode:C.SDK_FUNCTIONS_EMPTY_CALL_RESULT},Ar));if(!n.baseresponse||0!==n.baseresponse.errcode)return n.baseresponse?0!==n.baseresponse.errcode?v(E({errCode:C.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${n.baseresponse.errcode} errmsg ${n.baseresponse.errmsg} (callId: ${s})`},Ar)):v(E({errCode:C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(n.baseresponse)} (callId: ${s})`},Ar)):v(E({errCode:C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP},Ar));if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){if(n.service_errcode===C.TCB_FUNCTIONS_EXEC_FAIL){var i=n.service_errmsg||"";try{for(var a=i.split("\n"),o=[],l=0;l<a.length;l++)a[l].startsWith("Error: ")&&o.push([a[l],l]);if(o.length%2==1){var c=o[Math.floor(o.length/2)][1];i=a.slice(c).join("\n")}}catch(e){}var h=E({errCode:C.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`云函数执行错误\n云端堆栈信息(error stack)(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${s}):\n${i}`},Ar);return h.stack=`Error: ${h.message}`,h.requestID=n.func_request_id,v(h)}var f=E({errCode:C.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`\n云函数调用失败(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${s}):\n${n.service_errcode} ${n.service_errmsg}`},Ar);return f.stack=`Error: ${f.message}`,f.requestID=n.func_request_id,v(f)}var m=n.data;try{m=ar(m)}catch(e){try{m=JSON.parse(m)}catch(e){}}return g({result:m,requestID:n.func_request_id})}return p.push(vr("poll result expired")),v(E({errCode:C.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${s}) (trace: ${mr(p)})`},Ar))}if(!(u>=0))return p.push(vr("too many polls, abort")),v(E({errCode:C.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${s}) (trace: ${mr(p)})`},Ar));p.push(vr("normal poll")),d({...r,action:Cr.POLL,scene:Ir.NORMAL_POLL_RETRY,tryCount:u-1})}catch(e){v(E({errCode:C.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${s})`},Ar))}})).catch((e=>{_||(w(),e&&e.operateWXDataFail&&h>0?(p.push(vr(`system error (${e}), retry`)),d({...r,scene:Ir.SYSTEM_ERROR_RETRY,tryCount:u-1,systemErrorRetry:h-1})):(p.push(vr(`system error (${e}), abort`)),v(E(`${e} (callId: ${s}) (trace: ${mr(p)})`,Ar))))}))})),p.apply(this,arguments)}}));return function(e){return t.apply(this,arguments)}}()}function _r(e){var t=new WeakMap,r=[];if(e&&(JSON.stringify(e,((e,n)=>n&&n._internalType===ur?void r.push(new Promise(((e,r)=>{var i,a={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},o=n;if("object"===c(o.target)){if(!o.target.filePath)throw new Error("filePath must be provided");a.filePath=o.target.filePath}else a.fileData=o.target;e((i=a,new Promise(((e,t)=>{var r={...i,appType:i.appType||301,fileType:i.fileType||20303,fileKey:i.fileKey||`file_${Math.random()}`};re().uploadToCommonCDN({...r,success:e,fail:t})}))).then((e=>{t.set(n,e.fileUrl)})))}))):n)),r.length))return Promise.all(r).then((()=>t))}var br=e=>({...e,errMsg:void 0}),wr=e=>{try{Dt()&&"undefined"!=typeof __global&&__global.networkLog&&__global.networkLog({...e,domain:"cloud",method:"POST",realMethod:e.method,timestampMs:e.timestampMs||+new Date,callFramesIgnoreLength:e.hasOwnProperty("callFramesIgnoreLength")?e.callFramesIgnoreLength:1})}catch(e){}},Sr=(e,t)=>{try{if(Dt()&&"undefined"!=typeof __global&&__global.networkLog){var r=t(),n=`${Math.random()}-${+new Date}`,i=r.console||!1,a=r.resultGetter||br;wr({reqId:n,type:"requestWillBeSent",url:r.url,headers:r.headers||{},body:r.reqBody,console:i,callFramesIgnoreLength:2,timestampMs:r.timestampMs,method:r.method}),e.then(function(){var e=o()((function*(e){try{yield((e=0)=>new Promise((t=>setTimeout(t,e))))(),wr({reqId:n,type:"loadingFinished",body:JSON.stringify(a(e),null,2),console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{try{wr({reqId:n,type:"loadingFailed",errorCode:e&&e.errCode||-1,errorMsg:u(e)?e.errMsg||JSON.stringify(e):e.toString(),console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}))}}catch(e){0}},Cr=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e}({}),Ir=function(e){return e[e.INITIATE_CALL=1]="INITIATE_CALL",e[e.NORMAL_POLL_RETRY=2]="NORMAL_POLL_RETRY",e[e.SYSTEM_ERROR_RETRY=3]="SYSTEM_ERROR_RETRY",e[e.TIMEOUT_RETRY=4]="TIMEOUT_RETRY",e}({}),Ar="cloud.callFunction",kr="cloud.callFunction_real_v2";function Er(e){var t,r,n;function i(){return t||(t=function(e){return function(){var t=o()((function*(t){var r={...t.data},n=dr(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var a=ir(r,yield t.cdnMapPromise);Q({input:a,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var s=ir({function_name:t.name,data:a,cloudid_list:n});t.context.tunnelStartTime=+new Date;var l=yield e.request({...t.config,apiName:"tcbapi_slowcallfunction",serviceName:e.name,serializedReqData:s,env:t.config&&t.config.env||e.env});t.context.tunnelEndTime=+new Date;var c=l.data;if(!c)throw k({errCode:C.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:C[C.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},Ar);if(c.event_id,!c.poll_url)throw k({errCode:C.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:C[C.SDK_FUNCTIONS_EMPTY_POLL_URL]},Ar);c.poll_url.indexOf("?")>-1?c.poll_url+="&devtools_ignore=true&skip_domain_check=true":c.poll_url+="?devtools_ignore=true&skip_domain_check=true",t.context.pollStartTime=+new Date;var{result:u,requestID:d}=yield function(e){return p.apply(this,arguments)}(c.poll_url);return t.context.pollEndTime=+new Date,{errMsg:nr(Ar),result:u,requestID:d};function p(){return(p=o()((function*(t){return new Promise(((r,n)=>{h(t,e.appConfig.maxPollRetry||50,r,n)}))}))).apply(this,arguments)}function h(e,t,r,n){return f.apply(this,arguments)}function f(){return f=o()((function*(t,r,n,i){var a=re(e.identifiers);$e.allowRequest()?a._requestSkipCheckDomain({url:t,success:e=>{try{if(200!==e.statusCode)return i(k({errCode:C.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:`polling status code ${e.statusCode}`},Ar));var a=e.data;if(!a)return i(k({errCode:C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:C[C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},Ar));if(a.base_resp&&0===a.base_resp.ret){if(0!==a.status){if(1===a.status){if(0!==a.service_errcode){var o=k({errCode:C.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`requestID ${a.func_req_id}, cloud function service error code ${a.service_errcode||"unknown"}, error message ${a.service_errmsg||"unknown"}`},Ar);return o.requestID=a.func_req_id,i(o)}var s=a.content;try{s=ar(s)}catch(e){try{s=JSON.parse(s)}catch(e){}}return n({result:s,requestID:a.func_req_id})}return i(k({errCode:C.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},Ar))}if(!(r>=0))return i(k({errCode:C.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:C[C.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},Ar));h(t,r-1,n,i)}else{if(!a.base_resp)return i(k({errCode:C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:C[C.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},Ar));if(0!==a.base_resp.ret)return i(k({errCode:C.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.ret ${a.base_resp.ret}`},Ar))}}catch(e){i(k({errCode:C.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e}`},Ar))}},fail:e=>{i(k(e,Ar))}}):i(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},Ar))})),f.apply(this,arguments)}}));return function(e){return t.apply(this,arguments)}}()}(e)),t}function a(){return n||(n=function(e){return function(){var t=o()((function*(t){var r,n={function_name:t.name,data:ir(t.data),cloudid_list:[]},i=ir(n),a=yield e.serviceEndpoint.getEndpoint("container"),o=new Uint8Array(w.wx.base64ToArrayBuffer(a.key)),s={"X-WX-EV":3,"Content-Type":"application/octet-stream"},l=Ne.V3.encodeRequest(o,{"X-WX-CALLID":`${+new Date}-${Math.random()}`,"X-WX-CLOUDFUNCTION-NAME":t.name,"X-WX-CLOUDFUNCTION-ENV":(null===(r=t.config)||void 0===r?void 0:r.env)||e.env||""},"POST",i),c=yield new Promise(((e,t)=>re()._requestSkipCheckDomain({url:a.cloudServiceUrl,method:"POST",header:s,data:l.data.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,success:e,fail:t}))),u=Ne.V3.decodeResponse(o,new Uint8Array(c.data)).body;if(u)try{u=JSON.parse(u)}catch(e){}return{errMsg:nr(Ar),result:u}}));return function(e){return t.apply(this,arguments)}}()}(e)),n}return function(e){var t=+new Date;H(e,"object");var r=X(e);return r.data||(r.data={}),r.context={tunnelTimeNoCSNetCost:0,funcName:e.name,apiStartTime:t,warmStartTime:jt()},G(r)?function(e){U({apiName:Ar,param:e}),s(e).then((t=>{q(Ar,e,t)})).catch((t=>{z(Ar,e,t)}))}(r):s(r)};function s(e){return l.apply(this,arguments)}function l(){return(l=o()((function*(t){try{var n;if(function(e){H(e,{name:"string"}),e.data&&H(e.data,"object"),e.config&&e.config.env&&H(e.config.env,"string")}(t),t.cdnMapPromise=_r(t.data),n="sdk"===e.runtime.platform&&e.plugins.length?a()(t):s()?i()(t):(r||(r=yr(e)),r)(t),Dt()){var o=Date.now();Sr(n,(()=>{var r;return{url:`wx.cloud.callFunction.${t.name}`,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env},reqBody:ir(t.data),timestampMs:o,console:e.debug}}))}return yield n}catch(e){throw k(e,Ar)}finally{Ht({...t.context,apiEndTime:+new Date,apiName:s()?Ar:kr})}function s(){return 1===t.version}}))).apply(this,arguments)}}function Tr(e){return{callFunction:Er(e)}}var Pr,xr="functions";function Or(e){e.registerService(function(e){var t={name:xr,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,runtime:e.runtimeInfo,plugins:e.plugins,get debug(){return e.debug},get env(){return e.getEnvForService(xr)},appConfig:{get maxReqDataSize(){return e.appConfig.call_function_max_req_data_size},get maxPollRetry(){return e.appConfig.call_function_poll_max_retry},get maxStartRetryGap(){return e.appConfig.call_function_valid_start_retry_gap},get clientPollTimeout(){return e.appConfig.call_function_client_poll_timeout}}};return{name:xr,context:t,getAPIs:Tr.bind(null,t)}}(e))}function Rr(){if(!Pr){var e=re();if(!e.private_getUserAgent)return Pr;e.private_getUserAgent((e=>{Pr=e}))}return Pr}function Mr(e){e.path||(e.path=""),e.method||(e.method="GET"),e.header||(e.header={}),e.dataType||(e.dataType="json"),e.responseType||(e.responseType="text");var t="";for(var r in e.header)"content-type"===r.toLowerCase()&&e.header&&(t=e.header[r]);if(t||(t="application/json",e.header["content-type"]="application/json"),e.header["User-Agent"]=Rr()||"",/get/i.test(e.method||"")&&e.data&&u(e.data)){var n="";for(var i in e.data)n+=`${n.length?"&":""}${Ae(i)}=${Ae(e.data[i])}`;e.path.includes("?")?e.path+=`${e.path.endsWith("&")?"":n?"&":""}${n}`:e.path+=`${e.path.endsWith("?")?"":n?"?":""}${n}`,e.data=void 0}else if(/post|put|patch|delete/i.test(e.method||"")&&e.data)if(t.includes("application/json")){var a=c(e.data);e.shouldSerialize="string"!==a}else if(t.includes("application/x-www-form-urlencoded")&&u(e.data)){var o="";for(var s in e.data)o+=`${o.length?"&":""}${encodeURIComponent(s)}=${encodeURIComponent(e.data[s])}`;e.data=o}}function Dr(e){return e>=300&&e<=399}var Nr=new WeakMap;function Lr(e,t,r){var n,i="string"==typeof t?null:new Uint8Array(t).buffer;"json"!==e.dataType&&e.dataType||Dr(r)?n="text"===e.responseType?"string"==typeof t?t:Pe(i):"arraybuffer"===e.responseType?"string"==typeof t?xe(t):i:t:n=Ie("string"==typeof t?t:Pe(i));return n}var Br="cloud.callContainer";function $r(e){return function(){var r=o()((function*(r){var n=e.serviceEndpoint.getEndpointSync("container"),i=new WeakMap;if(r.cdnMapPromise||!n){var a=yield Promise.all([r.cdnMapPromise,Fr(e.serviceEndpoint.getEndpoint("container"),r.stats,"getServiceEndpoint")]);a[0]&&(i=a[0]),n=a[1]}else r.stats.getServiceEndpoint=0;if(r.shouldSerialize&&(r.data=ir(r.data,i)),n.http){var o=function(t,r){return new Promise(((n,i)=>{var a,o;r.stats.tsCallContainerImplStart=Date.now();var s=re(e.identifiers),l={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":t.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-USER-TIMEOUT":r.timeout||"","X-WX-LIB-BUILD-TS":1691076764460,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"PB, JSON","Content-Type":"application/octet-stream"},c=`${Math.random()}_${Date.now()}`,d={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-CALL-ID":c};e.appid&&(d["X-WX-RESOURCE-APPID"]=e.appid),r.service&&(d["X-WX-SERVICE"]=r.service);var p=r.stats;p.callid=c;var h=Date.now();if("GET"===(null===(o=r.method)||void 0===o?void 0:o.toUpperCase())&&r.data&&u(r.data)){var f=[];for(var g in r.data)f.push(`${g}=${r.data[g]}`);r.path+=`${r.path.includes("?")?r.path.endsWith("&")?"":"&":"?"}${f.join("&")}`,r.data=void 0}d["X-WX-CONTAINER-PATH"]=r.path;var v=new Uint8Array(Te(t.key)),{data:m,contentEncoding:y}=Ne.V1.encodeRequest(v,d,r.method||"GET",r.data,c,p);l["X-WX-REQUEST-CONTENT-ENCODING"]=y,p.encrypt=Date.now()-h,h=Date.now();var _=!0,b=_?t.url:`http://${t.vip}/wxa-qbase/container_service?token=${t.token}`;r.rdm?b=`https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=${t.token}`:r.ecdn&&(b=`https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=${t.token}`),r.verbose&&console.log(`[cloud.callContainer] url ${b}`),_&&t.domain&&(r.stats.domain=t.domain),p.requestBodyBytes=m.byteLength,p.requestStartTs=Date.now(),r._fallback?i({errCode:-9999,errMsg:`${Br}:fail emulated fallback`}):$e.allowRequest()?s._requestSkipCheckDomain({url:b,method:"POST",header:l,data:m.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:r.timeout,enableHttp2:_,success:e=>{try{for(var a in e.header)if("x-nws-log-uuid"===a.toLowerCase()&&(r.verbose&&console.log(`[cloud.callContainer] x-nws-log-uuid ${e.header[a]}`),r.stats.ecdnId=e.header[a]),"x-edge-timing"===a.toLowerCase()&&(r.stats.ecdnEdgeTiming=e.header[a]),"x-wx-system-error"===a.toLowerCase()){var o=Number(e.header[a]);return 85104===o&&t.invalidate(),102003===o&&$e.markServerLimitExceed(),void i({errCode:o,errMsg:`${Br}:fail system error. code: ${o}`})}if(r.verbose&&console.warn("res",e),p.profile=e.profile,p.httpRequest=Date.now()-h,200===e.statusCode){var s=e.data;p.responseBodyBytes=s.byteLength,h=Date.now();var l=!1,u=Ne.m.pb;for(var d in e.header)if("x-wx-compression"===d.toLowerCase()&&"snappy"===e.header[d]&&(h=Date.now(),l=!0),"x-wx-response-content-encoding"===d.toLowerCase()&&"json"===e.header[d].toLowerCase()&&(u=Ne.m.json),"x-wx-server-timing"===d.toLowerCase()){var f=(e.header[d]||"").split(",");f.length>=2&&(p.serverStartTs=Number(f[0]),p.serverEndTs=Number(f[1]))}var g,m=Ne.V1.decodeResponse(v,new Uint8Array(s),l,u);h=Date.now();var y=m.body;Dr(m.statusCode)||(g=Lr(r,y,m.statusCode)),p.decodeBody=Date.now()-h,p.responseProcessEndTs=Date.now(),n({statusCode:m.statusCode,header:m.header,data:g,stats:p,callID:c,errMsg:`${Br}:ok`})}else i({errCode:-9999,errMsg:`${Br}:fail [call_id ${c}] system conn status not 200`})}catch(e){i({errCode:-1,errMsg:`${Br}:fail [call_id ${c}] error while processing internal response ${e}`})}},fail:e=>{i({...e,errCode:-9999,errMsg:e.errMsg.replace(/^request/,Br)})}}):i(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},Br))}))}(n,r);return o.then(Ot).catch(Ot),o}return function(e,r){return t.apply(this,arguments)}(n.url,r)}));return function(e){return r.apply(this,arguments)}}();function t(){return t=o()((function*(t,r){return new Promise(((n,i)=>{var a,o=re(e.identifiers),s={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":`${Math.random()}_${Date.now()}`,"X-WX-USER-TIMEOUT":r.timeout};e.appid&&(s["X-WX-RESOURCE-APPID"]=e.appid),$e.allowRequest()?o._requestSkipCheckDomain({url:t,method:r.method,header:s,data:r.data,dataType:r.dataType,responseType:r.responseType,timeout:r.timeout,success:e=>{n({...e,errMsg:`${Br}:ok`})},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,Br)})}}):i(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},Br))}))})),t.apply(this,arguments)}}function Fr(e,t,r){var n=Date.now();return e.then((()=>t[r]=Date.now()-n)).catch((()=>t[r]=Date.now()-n)),e}var jr=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e}({}),Wr=function(e){return e[e.None=0]="None",e[e.Error=1]="Error",e[e.Timeout=2]="Timeout",e}({}),Ur=function(e){return e[e.RAW=0]="RAW",e[e.BASE64=1]="BASE64",e[e.CDN_URL=2]="CDN_URL",e}({}),Vr=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},qr=e=>e.join("->"),zr=20,Gr=2,Hr=2,Kr=2e4,Qr=1e5,Jr=Symbol();function Xr(e){return Yr.apply(this,arguments)}function Yr(){return Yr=o()((function*(e,t=`${+new Date}-${Math.random()}`){var r;if(e.shouldSerialize){var n=yield e.cdnMapPromise;e.data=ir(e.data,n)}var i=Ur.RAW;e.stats.callid=t;var a=(null===(r=e.method)||void 0===r?void 0:r.toUpperCase())||"GET";if(e.data&&/^(POST|PUT|PATCH|DELETE)$/.test(a)){var o=c(e.data);if("object"===o)e.data=JSON.stringify(e.data);else{if("arraybuffer"!==o&&"string"!==o)throw new Error(`input data type is not supported: ${o}`);var s=!1;if("string"===o)s=e.data.length>Qr;else if(e.data.byteLength>Qr)s=!0;else{var l=Ee(e.data);l.length>Qr?s=!0:(e.data=l,i=Ur.BASE64)}if(s){var d=new Error("input data size too large (> 100KB)");throw Object.defineProperty(d,"type",{value:Jr}),d}}}else if("GET"===a&&e.data&&u(e.data)){var p=[];for(var h in e.data)p.push(`${h}=${e.data[h]}`);e.path+=`${e.path.includes("?")?e.path.endsWith("&")?"":"&":"?"}${p.join("&")}`,e.data=void 0}else e.data=void 0;for(var f in e.header)null!==e.header[f]&&void 0!==e.header[f]&&(e.header[f]+="");return{tunnelReqDataType:i,callID:t}})),Yr.apply(this,arguments)}var Zr={"gateway.call":"tcbapi_call_gateway","cloud.callContainer":"tcbapi_call_container"};function en(e,t,r,n,i,a){return tn.apply(this,arguments)}function tn(){return tn=o()((function*(e,t,r,n,i,a){var o,s=!1;Object.prototype.hasOwnProperty.call(t,"timeout")&&(o=new Promise(((e,r)=>{setTimeout((()=>{s=!0,r(`timeout (options.timeout == ${t.timeout})`)}),t.timeout)})));var l=new Promise(((l,c)=>{var u,d=[Vr("start")],{resolve:p,reject:h}=function(e,t,r){var n=t=>{e.push(Vr(`app ${t}`))};me(n);var i=e=>{ye(n),t(e)},a=e=>{ye(n),r(e)};return{resolve:i,reject:a}}(d,l,c);rn(e,{param:t,data:r,dataType:n,callID:i,action:jr.CALL,retryType:Wr.None,tryCount:(null==a||null===(u=a.appConfig)||void 0===u?void 0:u.maxPollRetry)||zr,systemErrorRetry:Gr,timeoutErrorRetry:Hr,userTimeout:{get reached(){return!!o&&s}},trace:d,resolve:p,reject:h,context:a})}));return o?Promise.race([l,o]):l})),tn.apply(this,arguments)}function rn(e,t){return nn.apply(this,arguments)}function nn(){return nn=o()((function*(e,t){var r,n,{context:i,data:a,dataType:s,callID:l,action:c,retryType:u,tryCount:d,trace:p,systemErrorRetry:h,timeoutErrorRetry:f,userTimeout:g,resolve:v,reject:m,param:y}=t,_=[];for(var b in y.header)_.push({k:b,v:y.header[b]});var w=ir(c===jr.CALL?{method:y.method||"GET",headers:_,data:c===jr.CALL?a:void 0,data_type:s,action:c,retryType:u,call_id:l,user_timeout:y.timeout}:{call_id:l,action:c,retryType:u}),S=!1,I=!1,A=()=>{clearTimeout(T),I=!0},k=+new Date,T=setTimeout(o()((function*(){var r,n,a,o=(null==i||null===(r=i.appConfig)||void 0===r?void 0:r.clientPollTimeout)||Kr;if(!(+new Date-k>o&&(yield ue(),I)||g.reached)){if(!Dt()&&+new Date-k>(null!==(n=null==i||null===(a=i.appConfig)||void 0===a?void 0:a.maxStartRetryGap)&&void 0!==n?n:6e4))return p.push(Vr("timeout, exceed max retry gap")),m(E({errCode:C.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${l}) (trace: ${qr(p)})`},e));S=!0,t.timeoutErrorRetry>0?(p.push(Vr("timeout, retry")),rn(e,{...t,retryType:Wr.Timeout,tryCount:d-1,timeoutErrorRetry:f-1})):(p.push(Vr("timeout, abort")),m(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${l}) (trace: ${qr(p)})`},e)))}})),(null==i||null===(r=i.appConfig)||void 0===r?void 0:r.clientPollTimeout)||Kr),P=e=>{var t,r=e.data;null!=r&&null!==(t=r.baseresponse)&&void 0!==t&&t.stat&&r.baseresponse.stat.qbase_cost_time&&(y.context.tunnelTimeNoCSNetCost+=r.baseresponse.stat.qbase_cost_time)};function x(){return x=o()((function*(r){try{if(S||g.reached)return;A(),P(r);var n=r.data;if(!n)return p.push(Vr("empty resp")),m(E({errCode:C.SDK_CONTAINER_EMPTY_CALL_RESULT},e));if(!n.baseresponse||0!==n.baseresponse.errcode)return n.baseresponse?0!==n.baseresponse.errcode?m(E({errCode:C.SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${n.baseresponse.errcode} errmsg ${n.baseresponse.errmsg} (callId: ${l})`},e)):m(E({errCode:C.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(n.baseresponse)} (callId: ${l})`},e)):m(E({errCode:C.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP},e));if(0!==n.status){if(1===n.status){var a;if(n.data_type===Ur.BASE64)a=Te(n.data),"json"===y.dataType?a=Ie(Pe(a)):"arraybuffer"!==y.responseType&&(a=Pe(a));else if(n.data_type===Ur.CDN_URL)try{var o=re(null==i?void 0:i.identifiers),s=yield new Promise(((e,t)=>{o._requestSkipCheckDomain({url:n.data,dataType:y.dataType,responseType:y.responseType,success:r=>{200!==r.statusCode?t(`download response status code ${r.statusCode}`):e(r)},fail:e=>{t(e)}})}));a=s.data}catch(t){return m(E({errCode:C.SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL,errMsg:`error: ${t} \n (callId: ${l}) (trace: ${qr(p)})`},e))}else a=n.data,"arraybuffer"===y.responseType?a=xe(a):"json"===y.dataType&&(a=Ie(a));return v({result:{data:a,statusCode:n.http_code,header:n.headers.reduce(((e,t)=>{var r=e[t.k+""];return e[t.k+""]=r?r+","+t.v:t.v+"",e}),{})}})}return p.push(Vr("poll result expired")),m(E({errCode:C.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${l}) (trace: ${qr(p)})`},e))}if(!(d>=0))return p.push(Vr("too many polls, abort")),m(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${l}) (trace: ${qr(p)})`},e));p.push(Vr("normal poll")),rn(e,{...t,action:jr.POLL,retryType:Wr.None,tryCount:d-1})}catch(t){m(E({errCode:C.SDK_CONTAINER_POLL_ERROR,errMsg:`polling catch error: ${t} (callId: ${l})`},e))}})),x.apply(this,arguments)}g.reached||i.request({...y.config,apiName:Zr[e],serviceName:i.name,serializedReqData:w,env:(null===(n=y.config)||void 0===n?void 0:n.env)||i.env}).then((function(e){return x.apply(this,arguments)})).catch((r=>{S||g.reached||(A(),null!=r&&r.operateWXDataFail&&h>0?(p.push(Vr(`system error (${r}), retry`)),rn(e,{...t,retryType:Wr.Error,tryCount:d-1,systemErrorRetry:h-1})):(p.push(Vr(`system error (${r}), abort`)),m(E(`${r} (callId: ${l}) (trace: ${qr(p)})`,e))))}))})),nn.apply(this,arguments)}var an="cloud.callContainer";function on(e){return function(){var t=o()((function*(t){var r,{tunnelReqDataType:n,callID:i}=yield Xr(t);t.header={...t.header,"X-WX-ENV":e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env,"X-WX-CONTAINER-PATH":t.path},t.service&&(t.header["X-WX-SERVICE"]=t.service),t.context.tunnelStartTime=+new Date;var{result:a}=yield en(an,t,t.data,n,i,e);return t.context.tunnelEndTime=+new Date,{...a,errMsg:nr(an),callID:i}}));return function(e){return t.apply(this,arguments)}}()}var sn="cloud.callContainer";function ln(e){return function(){var r=o()((function*(r){var n=e.serviceEndpoint.getEndpointSync("container"),i=new WeakMap;if(r.cdnMapPromise||!n){var a=yield Promise.all([r.cdnMapPromise,cn(e.serviceEndpoint.getEndpoint("container"),r.stats,"getServiceEndpoint")]);a[0]&&(i=a[0]),n=a[1]}else r.stats.getServiceEndpoint=0;return r.shouldSerialize&&(r.data=ir(r.data,i)),n.http?function(t,r){return new Promise(((n,i)=>{var a;r.stats.tsCallContainerImplStart=Date.now();var o=re(e.identifiers),s={"X-WX-EV":3,"Content-Type":"application/octet-stream"},l=`${Math.random()}_${Date.now()}`,c={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":l};e.appid&&(c["X-WX-RESOURCE-APPID"]=e.appid);var u=r.stats;u.callid=l;var d=Date.now(),p=new Uint8Array(o.wx.base64ToArrayBuffer(t.key)),{data:h}=Ne.V3.encodeRequest(p,c,r.method||"GET",r.data);u.encrypt=Date.now()-d,d=Date.now();var f=!0,g=t.url;r.rdm?g=`https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=${t.token}`:r.ecdn&&(g=`https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=${t.token}`),r.verbose&&console.log(`[cloud.callContainer] url ${g}`),f&&t.domain&&(r.stats.domain=t.domain),u.requestBodyBytes=h.byteLength,u.requestStartTs=Date.now(),$e.allowRequest()?o._requestSkipCheckDomain({url:g,method:"POST",header:s,data:h.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:r.timeout,enableHttp2:f,success:e=>{try{for(var t in e.header)if("x-nws-log-uuid"===t.toLowerCase()&&(r.verbose&&console.log(`[cloud.callContainer] x-nws-log-uuid ${e.header[t]}`),r.stats.ecdnId=e.header[t]),"x-edge-timing"===t.toLowerCase()&&(r.stats.ecdnEdgeTiming=e.header[t]),"x-wx-system-error"===t.toLowerCase()){var a=Number(e.header[t]);return 102003===a&&$e.markServerLimitExceed(),void i({errCode:a,errMsg:`${sn}:fail system error. code: ${a}`})}if(u.profile=e.profile,u.httpRequest=Date.now()-d,200===e.statusCode){var o=e.data;u.responseBodyBytes=o.byteLength,d=Date.now();var s,c=Ne.V3.decodeResponse(p,new Uint8Array(o));for(var h in u.decrypt=Date.now()-d,e.header)if("x-wx-server-timing"===h.toLowerCase()){var f=(e.header[h]||"").split(",");f.length>=2&&(u.serverStartTs=Number(f[0]),u.serverEndTs=Number(f[1]))}d=Date.now();var g=c.body;if("json"===r.dataType)s=Ie("string"==typeof g?g:Pe(g.buffer));else s="text"===r.responseType?"string"==typeof g?g:Pe(g.buffer):"arraybuffer"===r.responseType?"string"==typeof g?xe(g):g.buffer:g;u.decodeBody=Date.now()-d,u.responseProcessEndTs=Date.now(),n({statusCode:c.statusCode,header:c.header,data:s,stats:u,callID:l,errMsg:`${sn}:ok`})}else{var v=-1;for(var m in e.header)"x-wx-system-error"===m.toLowerCase()&&(v=Number(e.header[m])),102003===v&&$e.markServerLimitExceed();i({errCode:v,errMsg:`${sn}:fail system error, status ${e.statusCode}. code: ${v}`})}}catch(e){i({errCode:-1,errMsg:`${sn}:fail error while processing internal response ${e}`})}},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,sn)})}}):i(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},sn))}))}(n,r):function(e,r){return t.apply(this,arguments)}(n.url,r)}));return function(e){return r.apply(this,arguments)}}();function t(){return t=o()((function*(t,r){return new Promise(((n,i)=>{var a,o=re(e.identifiers),s={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":`${Math.random()}_${Date.now()}`,"X-WX-USER-TIMEOUT":r.timeout};e.appid&&(s["X-WX-RESOURCE-APPID"]=e.appid),$e.allowRequest()?o._requestSkipCheckDomain({url:t,method:r.method,header:s,data:r.data,dataType:r.dataType,responseType:r.responseType,timeout:r.timeout,success:e=>{n({...e,errMsg:`${sn}:ok`})},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,sn)})}}):i(E({errCode:C.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},sn))}))})),t.apply(this,arguments)}}function cn(e,t,r){var n=Date.now();return e.then((()=>t[r]=Date.now()-n)).catch((()=>t[r]=Date.now()-n)),e}var un="cloud.callContainer",dn={OFF:0,ON:1,UNKNOWN:2},pn=!0,hn=0,fn=6,gn=new WeakMap;function vn(e){var t=[void 0,$r(e),on(e),ln(e)];function r(e){return t[e]}return function(e){var t=+new Date;H(e,"object");var r=X(e);return r.data||(r.data={}),r.dataType||(r.dataType="json"),r.context={tunnelTimeNoCSNetCost:0,apiStartTime:t,warmStartTime:jt()},r.stats={apiStartTime:t},G(r)?function(e){U({apiName:un,param:e}),n(e).then((t=>{q(un,e,t)})).catch((t=>{z(un,e,t)}))}(r):n(r)};function n(e){return i.apply(this,arguments)}function i(){return i=o()((function*(t){var r=!1;try{hn++,function(t){var r;if(t.service,e.isInstance){if(!e.env)throw new Error("envId must be provided")}else if(null!==(r=t.config)&&void 0!==r&&r.env)H(t.config.env,"string");else if(!e.env)throw new Error("envId must be provided")}(t),Mr(t),t.cdnMapPromise=t.shouldSerialize?_r(t.data):void 0;var n=Date.now();r=pn?(pn=!1,yield function(e){return a.apply(this,arguments)}(t)):s(t),t.stats.tsBeforeCallContainerImpl=Date.now();var i,o=X(t),c=t.data,u=l(t,r),d=t.service||t.header["X-WX-SERVICE"];i=d?`wx.cloud.callContainer.${d}${t.path}`:`wx.cloud.callContainer${t.path}`,Sr(u,(()=>{var r;return{url:i,method:t.method,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env,...t.header},reqBody:ir(c),timestampMs:n,console:e.debug}}));var p=function(t,r){var n;if(null!==(n=t.followRedirect)&&void 0!==n&&!n)return r;function i(t,n){return new Promise(((a,o)=>{n.then((n=>{var s;if(Dr(n.statusCode)){var c=null!==(s=gn.get(r))&&void 0!==s?s:0;if(c>=fn)o("reach the max redirect count");else{gn.set(r,c+1);var u="";for(var d in n.header)"location"===d.toLowerCase()&&(u=n.header[d]);if(u)if(u.startsWith("/")){var p=X(t);t.path=u,i(p,l(t)).then(a).catch(o)}else{re(e.identifiers).request({url:u,method:t.method,header:t.header,data:t.data,dataType:t.dataType,responseType:t.responseType,timeout:t.timeout,success:e=>{a({...e,errMsg:`${un}:ok`})},fail:e=>{o(e.errMsg.replace(/^request/,un))}})}else a(n)}}else a(n)})).catch(o)}))}return i(t,r)}(o,u),h=function(t,r){var n;if(e.identifiers.pluginId)return r;var i=re(e.identifiers),a=i.isUsedCache();if(!a)return r;var o=(v=r,m={abort:()=>{},promise:Promise.resolve()},y=new Promise(((e,t)=>{m.abort=t})),m.promise=Promise.race([v,y]),m),s=i.reportCallContainer,l=i.privateCacheManager,c=i.cacheManager,u=Date.now(),{data:d,method:p}=t,h=(null===(n=t.config)||void 0===n?void 0:n.env)||e.env,f=`https://wx.cloud.callContainer/${h}`,g=t.service;var v,m,y;if(!g)for(var _ in t.header)"X-WX-SERVICE"===_.toUpperCase()&&(g=t.header[_]);f+=g?`/${g}${t.path}`:t.path;var b=(e,t,n)=>{var i=()=>new Promise(((e,t)=>{r.then(e).catch(t)})),a=l.emit("request",{url:f,data:d,method:p,request:i});if(a.length){var s=a.find((e=>e&&"function"==typeof e.then));s&&s.then(e).catch(t).finally((()=>{o.abort()}))}else n&&t(n)};return new Promise(((e,t)=>{var n=t=>{s({isSuccess:!0,costTime:Date.now()-u,extra1:f}),e(t)},i=e=>{s({isSuccess:!1,costTime:Date.now()-u,extra1:f}),t(e)},a=e=>{l.checkNeedStore(f,d,p,e),n(e)};c.state===dn.UNKNOWN?r.then((e=>{a(e)})).catch((e=>{b(n,i,e)})):c.state===dn.ON?b(n,i):c.state===dn.OFF&&r.then((e=>{a(e)})).catch((e=>{i(e)}))}))}(o,p),f=yield h;return function(e,t){rr(un,e,t?"v1":"im")}(t,r),xt(),f}catch(e){throw k(e,un)}finally{0===--hn&&(0,Ne.j)(re()._WebAssembly)}})),i.apply(this,arguments)}function a(){return(a=o()((function*(t){if(!Boolean(e.serviceEndpoint.getEndpointSync("container"))){var r=new Promise((e=>setTimeout(e,50))),n=e.serviceEndpoint.getEndpoint("container");yield Promise.race([r,n])}return s(t)}))).apply(this,arguments)}function s(t){return"windows"!==_e().platform&&(1===t.apiVersion||2!==t.apiVersion&&Boolean(e.serviceEndpoint.getEndpointSync("container")))}function l(e,t){var n,i;if(t=null!==(n=t)&&void 0!==n?n:s(e)){var a={...e,stats:{...e.stats}};i=r(1)(e).catch((e=>{if(-9999===(null==e?void 0:e.errCode))return r(2)(a);throw e}))}else i=r(2)(e);return i}}var mn="cloud.connectContainer";function yn(e){return function(e){var r=X(e);return r.timing={apiStartTime:+new Date},G(r)?function(e){var r=t(e);r.then((t=>{q(mn,e,t)})).catch((t=>{z(mn,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=o()((function*(e){try{!function(e){e.config&&e.config.env&&H(e.config.env,"string")}(e);var t=yield function(e){return n.apply(this,arguments)}(e);return t}catch(e){throw e}finally{Ht({...e.timing,apiEndTime:+new Date,apiName:mn})}})),r.apply(this,arguments)}function n(){return(n=o()((function*(t){var r={service_name:t.service},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({...t.config,apiName:"tcbapi_get_websocket_info",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var a=i.data,{success:o,complete:s,...l}=t,c=re(e.identifiers)._socketSkipCheckDomainFactory().connectSocket({...l,url:`wss://${a.host}${t.path||""}`,header:{...l.header,"content-type":"application/json","x-wx-token":a.token},perMessageDeflate:!0});return{errMsg:nr(mn),socketTask:c}}))).apply(this,arguments)}}function _n(e){return{callContainer:vn(e),connectContainer:yn(e)}}var bn="container";function wn(e){e.registerService(function(e){var t={name:bn,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,get debug(){return e.debug},get appid(){return e.isInstance?e.instanceOptions.resourceAppid:void 0},get env(){return e.getEnvForService(bn)},appConfig:{get maxPollRetry(){return e.appConfig.call_container_poll_max_retry},get clientPollTimeout(){return e.appConfig.call_container_client_poll_timeout},get maxStartRetryGap(){return e.appConfig.call_container_valid_start_retry_gap}}};return{name:bn,context:t,getAPIs:_n.bind(null,t)}}(e))}const Sn={};var Cn={env:"",platform:""},In=()=>Cn;if(void 0!==p)Cn.env="miniprogram",Cn.platform=p.platform,p.host&&"SAAASDK"===p.host.env&&(Cn.platform="sdk");else if(Cn.env="web",window)if(window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)Cn.platform="miniprogram";else{var An=window.navigator.userAgent.toLowerCase();/MicroMessenger/i.test(An)&&(Cn.platform="wxweb")}var kn="cloud.uploadFile",En="cloud.uploadFile_v2";function Tn(e){return function(e){if(G(e=X(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t({...e,context:r,timing:i,uploadTaskAgent:n}).then((t=>{q(kn,e,t)})).catch((t=>{z(kn,e,t)})),n}(e);var r={apiStartTime:+new Date};return t({...e,timing:r})};function t(e){return new Promise(function(){var t=o()((function*(t,n){try{if(function(e){H(e,{cloudPath:"string"}),"miniprogram"===In().env?H(e,{filePath:"string"}):K(e,"file","uploadFile")}(e),e.context&&(e.context.abort=function(){n(k({errMsg:"abort"},kn))},e.context.aborted))return n(k({errMsg:"abort"},kn));var i=yield function(e){return r.apply(this,arguments)}(e);t(i)}catch(e){n(k(e,kn))}finally{Ht({...e.timing,apiEndTime:+new Date,apiName:En})}}));return function(e,r){return t.apply(this,arguments)}}())}function r(){return r=o()((function*(t){var r=re(e.identifiers),i=yield function(e){return n.apply(this,arguments)}(t);return new Promise(((e,n)=>{if(t.context&&t.context.aborted)return n(k({errMsg:"abort"},kn));var a,o;if("web"===In().env){var s=new FormData;s.append("key",t.cloudPath),s.append("signature",i.authorization),s.append("x-cos-security-token",i.token),s.append("x-cos-meta-fileid",i.cos_file_id),s.append("file",t.file),a={url:i.url,timeout:t.timeout,filePath:"",header:t.header,name:"",formData:s}}else a={url:i.url,timeout:t.timeout,filePath:t.filePath,header:t.header,name:"file",formData:{key:t.cloudPath,signature:i.authorization,"x-cos-security-token":i.token,"x-cos-meta-fileid":i.cos_file_id}};(o=r._uploadFileSkipCheckDomain({...a,success:t=>{try{if(t.statusCode>=200&&t.statusCode<300)e({errMsg:nr(kn),fileID:i.file_id,statusCode:t.statusCode});else{var r=new I({errMsg:`status ${t.statusCode}, error: ${t.data};`});n(r)}}catch(r){var a=new I({errMsg:`Error : ${t.data};`});n(a)}},fail:e=>{n(e)}}))&&(o.onProgressUpdate((function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&v(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._uploadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=o.abort.bind(o)))}))})),r.apply(this,arguments)}function n(){return(n=o()((function*(t){var r=JSON.stringify({path:t.cloudPath}),n=+new Date,i=(yield e.request({apiName:"tcbapi_cos_uploadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.url)throw new I({errCode:C.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:C[C.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return i}))).apply(this,arguments)}}var Pn="cloud.downloadFile";function xn(e){return function(e){if(G(e=X(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t({...e,context:r,timing:i,downloadTaskAgent:n}).then((t=>{q(Pn,e,t)})).catch((t=>{z(Pn,e,t)})),n}(e);var r={apiStartTime:+new Date};return t({...e,timing:r})};function t(e){return r.apply(this,arguments)}function r(){return r=o()((function*(e){return new Promise(function(){var t=o()((function*(t,r){try{if(function(e){H(e,{fileID:"string"}),e.config&&e.config.env&&H(e.config.env,"string")}(e),e.context&&(e.context.abort=function(){r(k({errMsg:"abort"},Pn))},e.context.aborted))return r(k({errMsg:"abort"},Pn));var i=yield function(e){return n.apply(this,arguments)}(e);t(i)}catch(e){r(k(e,Pn))}finally{Ht({...e.timing,apiEndTime:+new Date,apiName:Pn})}}));return function(e,r){return t.apply(this,arguments)}}())})),r.apply(this,arguments)}function n(){return n=o()((function*(t){var r=re(e.identifiers),n=yield function(e){return i.apply(this,arguments)}(t);return new Promise(((e,i)=>{if(t.context&&t.context.aborted)return i(k({errMsg:"abort"},Pn));var a=r._downloadFileSkipCheckDomain({url:n,header:t.header,timeout:t.timeout,success:t=>{e(t)},fail:e=>{i(e)}});a&&(a.onProgressUpdate((function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&v(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._downloadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=a.abort.bind(a)))}))})),n.apply(this,arguments)}function i(){return(i=o()((function*(t){var r=JSON.stringify({fileid:t.fileID}),n=+new Date,i=(yield e.request({apiName:"tcbapi_downloadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.download_url)throw new I({errCode:C.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:C[C.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return i.download_url.indexOf("?")>-1?i.download_url+="&skip_domain_check=true":i.download_url+="?skip_domain_check=true",i.download_url}))).apply(this,arguments)}}var On="cloud.getTempFileURL";function Rn(e){return function(e){var r=X(e);return r.timing={apiStartTime:+new Date},G(r)?function(e){var r=t(e);r.then((t=>{q(On,e,t)})).catch((t=>{z(On,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=o()((function*(t){try{if(function(t){if(H(t,{fileList:"array"}),t.config&&t.config.env&&H(t.config.env,"string"),e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new I({errCode:C.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}(t),!t.fileList.length)return{errMsg:nr(On),fileList:[]};var r=yield function(e){return n.apply(this,arguments)}(t);return r}catch(e){throw k(e,On)}finally{Ht({...t.timing,apiEndTime:+new Date,apiName:On})}})),r.apply(this,arguments)}function n(){return(n=o()((function*(t){var r={file_list:t.fileList.map((e=>d(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}))},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_gettempfileurl",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var a=i.data;return t.timing.tunnelTimeNoCSNetCost=a.baseresponse.stat.qbase_cost_time,{errMsg:nr(On),fileList:a.download_list.map((e=>({fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}var Mn="cloud.deleteFile";function Dn(e){return function(e){var r=X(e);return r.timing={apiStartTime:+new Date},G(r)?function(e){var r=t(e);r.then((t=>{q(Mn,e,t)})).catch((t=>{z(Mn,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=o()((function*(t){try{if(function(t){H(t,{fileList:"array"}),t.config&&t.config.env&&H(t.config.env,"string");for(var r=0,n=t.fileList.length;r<n;r++)H(t.fileList[r],"string",`parameter.fileList[${r}]`);if(e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new I({errCode:C.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}(t),!t.fileList.length)return{errMsg:nr(Mn),fileList:[]};var r=yield function(e){return n.apply(this,arguments)}(t);return r}catch(e){throw k(e,Mn)}finally{Ht({...t.timing,apiEndTime:+new Date,apiName:Mn})}})),r.apply(this,arguments)}function n(){return(n=o()((function*(t){var r={fileid_list:t.fileList},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_deletefile",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var a=i.data;return t.timing.tunnelTimeNoCSNetCost=a.baseresponse.stat.qbase_cost_time,{errMsg:nr(Mn),fileList:a.delete_list.map((e=>({fileID:e.fileid,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}function Nn(e){return{uploadFile:Tn(e),downloadFile:xn(e),getTempFileURL:Rn(e),deleteFile:Dn(e)}}var Ln="storage";function Bn(e){e.registerService(function(e){var t={name:Ln,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get env(){return e.getEnvForService(Ln)},get debug(){return e.debug},appConfig:{get uploadMaxFileSize(){return e.appConfig.upload_max_file_size},get getTempFileURLMaxReq(){return e.appConfig.get_temp_file_url_max_requests}}};return{name:Ln,context:t,getAPIs:Nn.bind(null,t)}}(e))}var $n=Symbol.for("UNSET_FIELD_NAME"),Fn=Symbol.for("AGGREGATE"),jn=Symbol.for("AGGREGATE_PIPELINE"),Wn=Symbol.for("AGGREGATE_PIPELINE_STAGE"),Un=Symbol.for("UPDATE_COMMAND"),Vn=Symbol.for("QUERY_COMMAND"),qn=Symbol.for("LOGIC_COMMAND"),zn=Symbol.for("AGGREGATE_COMMAND"),Gn=Symbol.for("PROJECT_COMMAND"),Hn=Symbol.for("GEO_POINT"),Kn=Symbol.for("GEO_LINESTRING"),Qn=Symbol.for("GEO_POLYGON"),Jn=Symbol.for("GEO_MULTIPOINT"),Xn=Symbol.for("GEO_MULTILINESTRING"),Yn=Symbol.for("GEO_MULTIPOLYGON"),Zn=Symbol.for("SERVER_DATE"),ei=Symbol.for("REGEXP"),ti=function(e){return e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor",e}({}),ri=[ti.AND,ti.OR,ti.NOT,ti.NOR],ni=new Set(ri);class ii{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=qn,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||$n}_setFieldName(e){var t=this.operands.map((t=>t===ti.AND||t===ti.OR?t._setFieldName(e):t));return new ii(this.operator,t,e)}and(...e){K(arguments[0],"expressions","and");var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.AND,[this,...t],this.fieldName)}or(...e){K(arguments[0],"expressions","or");var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.OR,[this,...t],this.fieldName)}nor(...e){K(arguments[0],"expressions","nor");var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.NOR,[this,...t],this.fieldName)}not(e){return K(e,"expression","not"),new ii(ti.NOT,[e],this.fieldName)}toJSON(){}}function ai(e){return e&&e instanceof ii&&e._internalType===qn}var oi=function(e){return e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects",e.EXISTS="exists",e.MOD="mod",e.ALL="all",e.ELEM_MATCH="elemMatch",e.SIZE="size",e.EXPR="expr",e}({}),si=[oi.EQ,oi.NEQ,oi.GT,oi.GTE,oi.LT,oi.LTE,oi.IN,oi.NIN,oi.GEO_NEAR,oi.GEO_WITHIN,oi.GEO_INTERSECTS,oi.EXISTS,oi.MOD,oi.ALL,oi.ELEM_MATCH,oi.SIZE],li=new Set(si);new Set([...li,...ni]);class ci extends ii{constructor(e,t,r){super(e,t,r),this.operator=void 0,this.__safe_props__=void 0,this.operator=e,this._internalType=Vn}_setFieldName(e){return new ci(this.operator,this.operands,e)}eq(e){var t=new ci(oi.EQ,[e],this.fieldName);return this.and(t)}neq(e){var t=new ci(oi.NEQ,[e],this.fieldName);return this.and(t)}gt(e){var t=new ci(oi.GT,[e],this.fieldName);return this.and(t)}gte(e){var t=new ci(oi.GTE,[e],this.fieldName);return this.and(t)}lt(e){var t=new ci(oi.LT,[e],this.fieldName);return this.and(t)}lte(e){var t=new ci(oi.LTE,[e],this.fieldName);return this.and(t)}in(e){H(e,"array");var t=new ci(oi.IN,e,this.fieldName);return this.and(t)}nin(e){H(e,"array");var t=new ci(oi.NIN,e,this.fieldName);return this.and(t)}geoNear(e){var t=new ci(oi.GEO_NEAR,[e],this.fieldName);return this.and(t)}geoWithin(e){var t=new ci(oi.GEO_WITHIN,[e],this.fieldName);return this.and(t)}geoIntersects(e){var t=new ci(oi.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}exists(e){var t=new ci(oi.EXISTS,[e],this.fieldName);return this.and(t)}mod(e,t){var r=new ci(oi.MOD,[e,t],this.fieldName);return this.and(r)}all(e){var t=new ci(oi.ALL,e,this.fieldName);return this.and(t)}elemMatch(e){var t=new ci(oi.ELEM_MATCH,[e],this.fieldName);return this.and(t)}size(e){var t=new ci(oi.SIZE,[e],this.fieldName);return this.and(t)}}function ui(e){return e&&e instanceof ci&&e._internalType===Vn}var di=function(e){return e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.MIN="min",e.MAX="max",e.RENAME="rename",e.BIT="bit",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.PULL="pull",e.PULL_ALL="pullAll",e}({});new Set([di.SET,di.REMOVE,di.INC,di.MUL,di.MIN,di.MAX,di.RENAME,di.BIT,di.PUSH,di.POP,di.SHIFT,di.UNSHIFT,di.ADD_TO_SET,di.PULL,di.PULL_ALL]);class pi{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=Un,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||$n}_setFieldName(e){return new pi(this.operator,this.operands,e)}toJSON(){}}function hi(e){return e&&e instanceof pi&&e._internalType===Un}var fi=function(e){return e.ABS="abs",e.ADD="add",e.ADDTOSET="addToSet",e.ALLELEMENTSTRUE="allElementsTrue",e.AND="and",e.ANYELEMENTTRUE="anyElementTrue",e.ARRAYELEMAT="arrayElemAt",e.ARRAYTOOBJECT="arrayToObject",e.AVG="avg",e.CEIL="ceil",e.CMP="cmp",e.CONCAT="concat",e.CONCATARRAYS="concatArrays",e.COND="cond",e.CONVERT="convert",e.DATEFROMPARTS="dateFromParts",e.DATETOPARTS="dateToParts",e.DATEFROMSTRING="dateFromString",e.DATETOSTRING="dateToString",e.DAYOFMONTH="dayOfMonth",e.DAYOFWEEK="dayOfWeek",e.DAYOFYEAR="dayOfYear",e.DIVIDE="divide",e.EQ="eq",e.EXP="exp",e.FILTER="filter",e.FIRST="first",e.FLOOR="floor",e.GT="gt",e.GTE="gte",e.HOUR="hour",e.IFNULL="ifNull",e.IN="in",e.INDEXOFARRAY="indexOfArray",e.INDEXOFBYTES="indexOfBytes",e.INDEXOFCP="indexOfCP",e.ISARRAY="isArray",e.ISODAYOFWEEK="isoDayOfWeek",e.ISOWEEK="isoWeek",e.ISOWEEKYEAR="isoWeekYear",e.LAST="last",e.LET="let",e.LITERAL="literal",e.LN="ln",e.LOG="log",e.LOG10="log10",e.LT="lt",e.LTE="lte",e.LTRIM="ltrim",e.MAP="map",e.MAX="max",e.MERGEOBJECTS="mergeObjects",e.META="meta",e.MIN="min",e.MILLISECOND="millisecond",e.MINUTE="minute",e.MOD="mod",e.MONTH="month",e.MULTIPLY="multiply",e.NEQ="ne",e.NOT="not",e.OBJECTTOARRAY="objectToArray",e.OR="or",e.POW="pow",e.PUSH="push",e.RANGE="range",e.REDUCE="reduce",e.REVERSEARRAY="reverseArray",e.RTRIM="rtrim",e.SECOND="second",e.SETDIFFERENCE="setDifference",e.SETEQUALS="setEquals",e.SETINTERSECTION="setIntersection",e.SETISSUBSET="setIsSubset",e.SETUNION="setUnion",e.SIZE="size",e.SLICE="slice",e.SPLIT="split",e.SQRT="sqrt",e.STDDEVPOP="stdDevPop",e.STDDEVSAMP="stdDevSamp",e.STRCASECMP="strcasecmp",e.STRLENBYTES="strLenBytes",e.STRLENCP="strLenCP",e.SUBSTR="substr",e.SUBSTRBYTES="substrBytes",e.SUBSTRCP="substrCP",e.SUBTRACT="subtract",e.SUM="sum",e.SWITCH="switch",e.TOBOOL="toBool",e.TODATE="toDate",e.TODECIMAL="toDecimal",e.TODOUBLE="toDouble",e.TOINT="toInt",e.TOLONG="toLong",e.TOOBJECTID="toObjectId",e.TOSTRING="toString",e.TOLOWER="toLower",e.TOUPPER="toUpper",e.TRIM="trim",e.TRUNC="trunc",e.TYPE="type",e.WEEK="week",e.YEAR="year",e.ZIP="zip",e}({});fi.ABS,fi.ADD,fi.ADDTOSET,fi.ALLELEMENTSTRUE,fi.AND,fi.ANYELEMENTTRUE,fi.ARRAYELEMAT,fi.ARRAYTOOBJECT,fi.AVG,fi.CEIL,fi.CMP,fi.CONCAT,fi.CONCATARRAYS,fi.COND,fi.CONVERT,fi.DATEFROMPARTS,fi.DATETOPARTS,fi.DATEFROMSTRING,fi.DATETOSTRING,fi.DAYOFMONTH,fi.DAYOFWEEK,fi.DAYOFYEAR,fi.DIVIDE,fi.EQ,fi.EXP,fi.FILTER,fi.FIRST,fi.FLOOR,fi.GT,fi.GTE,fi.HOUR,fi.IFNULL,fi.IN,fi.INDEXOFARRAY,fi.INDEXOFBYTES,fi.INDEXOFCP,fi.ISARRAY,fi.ISODAYOFWEEK,fi.ISOWEEK,fi.ISOWEEKYEAR,fi.LAST,fi.LET,fi.LITERAL,fi.LN,fi.LOG,fi.LOG10,fi.LT,fi.LTE,fi.LTRIM,fi.MAP,fi.MAX,fi.MERGEOBJECTS,fi.META,fi.MIN,fi.MILLISECOND,fi.MINUTE,fi.MOD,fi.MONTH,fi.MULTIPLY,fi.NEQ,fi.NOT,fi.OBJECTTOARRAY,fi.OR,fi.POW,fi.PUSH,fi.RANGE,fi.REDUCE,fi.REVERSEARRAY,fi.RTRIM,fi.SECOND,fi.SETDIFFERENCE,fi.SETEQUALS,fi.SETINTERSECTION,fi.SETISSUBSET,fi.SETUNION,fi.SIZE,fi.SLICE,fi.SPLIT,fi.SQRT,fi.STDDEVPOP,fi.STDDEVSAMP,fi.STRCASECMP,fi.STRLENBYTES,fi.STRLENCP,fi.SUBSTR,fi.SUBSTRBYTES,fi.SUBSTRCP,fi.SUBTRACT,fi.SUM,fi.SWITCH,fi.TOBOOL,fi.TODATE,fi.TODECIMAL,fi.TODOUBLE,fi.TOINT,fi.TOLONG,fi.TOOBJECTID,fi.TOSTRING,fi.TOLOWER,fi.TOUPPER,fi.TRIM,fi.TRUNC,fi.TYPE,fi.WEEK,fi.YEAR,fi.ZIP;class gi{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=zn,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||$n}_setFieldName(e){return new gi(this.operator,this.operands,e)}}function vi(e){return e&&e instanceof gi&&e._internalType===zn}var mi=function(e){return e.SLICE="slice",e}({});new Set([mi.SLICE]);class yi{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this.__safe_props__=void 0,this._internalType=Gn,this.operator=e,this.operands=t,this.fieldName=r||$n}_setFieldName(e){return new yi(this.operator,this.operands,e)}}function _i(e){return e&&e instanceof yi&&e._internalType===Gn}var bi=function(e){return e[e.WHERE=0]="WHERE",e[e.DOC=1]="DOC",e}({}),wi=function(e){return e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER",e}({}),Si=function(e){return e[e.ASC=0]="ASC",e[e.DESC=1]="DESC",e}({});function Ci(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=o()((function*(e){var{env:t,collectionName:r,data:n,instanceContext:i,timing:a}=e,o=JSON.stringify(n);Q({input:o,max:i.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(i.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var s={collection_name:r,data:o},l=JSON.stringify(s);a.tunnelStartTime=+new Date;var c=yield i.serviceContext.request({apiName:"tcbapi_db_adddocument",serviceName:i.serviceContext.name,serializedReqData:l,requireDataNotEmpty:!0,env:t||i.serviceContext.env});a.tunnelEndTime=+new Date;var u=c.data;return a.tunnelTimeNoCSNetCost=u.baseresponse.stat.qbase_cost_time,{_id:u._id_type===wi.NUMBER?u._id_number:u._id}}))).apply(this,arguments)}function Ai(e){return ki.apply(this,arguments)}function ki(){return ki=o()((function*(e){var{collectionName:t,query:n,options:i,instanceContext:a,timing:o,env:s}=e,l=Dt()?e.explain:void 0,c=i&&i.multi,u=JSON.stringify({collection_name:t,query:JSON.stringify(n),multi:c,query_type:c?bi.WHERE:bi.DOC,explain:l});o.tunnelStartTime=+new Date;var d=yield a.serviceContext.request({apiName:"tcbapi_db_deletedocument",serviceName:a.serviceContext.name,serializedReqData:u,requireDataNotEmpty:!0,env:s||a.serviceContext.env});if(o.tunnelEndTime=+new Date,l){var{EJSON:p}=r(946);return p.deserialize(d.data)}var h=d.data;return o.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{removed:h.deleted}})),ki.apply(this,arguments)}function Ei(e){return Ti.apply(this,arguments)}function Ti(){return Ti=o()((function*(e){var{env:t,collectionName:n,query:i,options:a={},instanceContext:o,timing:s,queryType:l}=e,c=Dt()?e.explain:void 0,u={collection_name:n,query:JSON.stringify(i),query_type:l,explain:c};a.offset&&(u.offset=a.offset),a.limit&&(u.limit=a.limit),a.order&&(u.order=a.order),a.projection&&(u.projection=JSON.stringify(a.projection));var d=JSON.stringify(u);s.tunnelStartTime=+new Date;var p=yield o.serviceContext.request({apiName:"tcbapi_db_querydocument",serviceName:o.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||o.serviceContext.env});if(s.tunnelEndTime=+new Date,c){var{EJSON:h}=r(946);return h.deserialize(p.data)}var f=p.data;s.tunnelTimeNoCSNetCost=f.baseresponse.stat.qbase_cost_time;var g=f.data_list?JSON.parse(f.data_list):[];return{list:g=o.engine.Decoder.decode(g),offset:f.offset,limit:f.limit,total:f.total}})),Ti.apply(this,arguments)}function Pi(e){return xi.apply(this,arguments)}function xi(){return xi=o()((function*(e){var{env:t,collectionName:n,query:i,data:a,options:o={},instanceContext:s,timing:l,queryType:c}=e,u=Dt()?e.explain:void 0,d=JSON.stringify(a);Q({input:d,max:s.serviceContext.appConfig.docSizeLimit,name:"update expression",maxWording:`${(s.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var p={collection_name:n,query:JSON.stringify(i),data:d,query_type:c,explain:u};p.multi=!1!==o.multi,p.merge=!1!==o.merge,o.upsert&&(p.upsert=o.upsert);var h=JSON.stringify(p);l.tunnelStartTime=+new Date;var f=yield s.serviceContext.request({apiName:"tcbapi_db_updatedocument",serviceName:s.serviceContext.name,serializedReqData:h,requireDataNotEmpty:!0,env:t||s.serviceContext.env});if(l.tunnelEndTime=+new Date,u){var{EJSON:g}=r(946);return g.deserialize(f.data)}var v=f.data;return l.tunnelTimeNoCSNetCost=v.baseresponse.stat.qbase_cost_time,{updated:v.updated}})),xi.apply(this,arguments)}function Oi(e){return Ri.apply(this,arguments)}function Ri(){return(Ri=o()((function*(e){var{env:t,collectionName:r,_id:n,data:i,options:a={},instanceContext:o,timing:s}=e,l=JSON.stringify(i);Q({input:l,max:o.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(o.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var c=g(n),u={collection_name:r,_id_type:c?wi.NUMBER:wi.STRING,data:l};c?u._id_number=n:u._id=n;var d=JSON.stringify(u);s.tunnelStartTime=+new Date;var p=yield o.serviceContext.request({apiName:"tcbapi_db_setdocument",serviceName:o.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||o.serviceContext.env});s.tunnelEndTime=+new Date;var h=p.data;return s.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{_id:h._id_type===wi.NUMBER?h._id_number:h._id,updated:h._id?0:1,created:h._id?1:0}}))).apply(this,arguments)}function Mi(e){return Di.apply(this,arguments)}function Di(){return Di=o()((function*(e){var{env:t,collectionName:n,query:i,instanceContext:a,timing:o}=e,s=Dt()?e.explain:void 0,l={collection_name:n,query:JSON.stringify(i),query_type:bi.WHERE,explain:s},c=JSON.stringify(l);o.tunnelStartTime=+new Date;var u=yield a.serviceContext.request({apiName:"tcbapi_db_countdocument",serviceName:a.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||a.serviceContext.env});if(o.tunnelEndTime=+new Date,s){var{EJSON:d}=r(946);return d.deserialize(u.data)}var p=u.data;return o.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time,{total:p.total}})),Di.apply(this,arguments)}function Ni(e){return Li.apply(this,arguments)}function Li(){return(Li=o()((function*(e){var{env:t,collectionName:n,stages:i,instanceContext:a,timing:o}=e,s=Dt()?e.explain:void 0,l={collection_name:n,stages:i.map((e=>{for(var t in e)return{stage_key:t,stage_value:JSON.stringify(e[t])};throw new Error(`empty encoded stage (${JSON.stringify(e)})`)})),explain:s},c=JSON.stringify(l);o.tunnelStartTime=+new Date;var u=yield a.serviceContext.request({apiName:"tcbapi_db_aggregate",serviceName:a.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||a.serviceContext.env});if(o.tunnelEndTime=+new Date,s){var{EJSON:d}=r(946);return d.deserialize(u.data)}var p=u.data;o.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time;var{EJSON:h}=r(946);return{list:JSON.parse(p.list).map((e=>h.parse(e)))}}))).apply(this,arguments)}function Bi(){return(Bi=o()((function*(e,t){var r=(yield e.request({apiName:"tcbapi_db_get_realtime_connection",env:t||e.env,serviceName:e.name,serializedReqData:JSON.stringify({}),requireDataNotEmpty:!0})).data;return{envId:r.env_id,secretVersion:r.secret_version,signStr:r.sign_str,wsUrl:r.ws_url}}))).apply(this,arguments)}var $i=e=>{class t extends ji{constructor(e,t){super(t),this.collection=void 0,this._internalType=Fn,this.collection=e}pushStage(e,r){return new t(this.collection,[...this._stages,new Fi(e,r)])}end(t={}){var r="collection.aggregate",n={apiStartTime:+new Date},i=()=>Ni({env:e.database.config.env,collectionName:this.collection.collectionName,stages:e.engine.AggregateSerializer.encodeStages(this._stages),instanceContext:e,timing:n,explain:t.explain});var a=G(t),s=new Promise(function(){var e=o()((function*(e,a){try{var o=yield i();if(t.explain&&Dt())return e(o);e({list:o.list,errMsg:nr(r)})}catch(e){a(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}}return t};class Fi{constructor(e,t){this.stage=void 0,this.val=void 0,this._internalType=Wn,this.stage=e,this.val=t}}class ji{constructor(e){this._stages=void 0,this._internalType=jn,this.__safe_props__=void 0,this._stages=e}pushStage(e,t){return new ji([...this._stages,new Fi(e,t)])}addFields(e){return this.pushStage("addFields",e)}bucket(e){return this.pushStage("bucket",e)}bucketAuto(e){return this.pushStage("bucketAuto",e)}collStats(e){return this.pushStage("collStats",e)}count(e){return this.pushStage("count",e)}facet(e){return this.pushStage("facet",e)}geoNear(e){return this.pushStage("geoNear",e)}graphLookup(e){return this.pushStage("graphLookup",e)}group(e){return this.pushStage("group",e)}indexStats(){return this.pushStage("indexStats",{})}limit(e){return this.pushStage("limit",e)}lookup(e){return this.pushStage("lookup",e)}match(e){return this.pushStage("match",e)}out(e){return this.pushStage("out",e)}project(e){return this.pushStage("project",e)}redact(e){return this.pushStage("redact",e)}replaceRoot(e){return this.pushStage("replaceRoot",e)}sample(e){return this.pushStage("sample",e)}skip(e){return this.pushStage("skip",e)}sort(e){return this.pushStage("sort",e)}sortByCount(e){return this.pushStage("sortByCount",e)}unwind(e){return this.pushStage("unwind",e)}end(){}}class Wi extends ji{constructor(e,t=!1){super(e),this._sealed=void 0,this._sealed=t}pushStage(e,t){if(this._sealed)throw new Error("pushing new stage is not allowed after calling 'done()'");return new Wi([...this._stages,new Fi(e,t)])}done(){return new Wi(this._stages,!0)}}var Ui=e=>e&&e._internalType===jn,Vi=e=>e&&e._internalType===Wn,qi=new Set(["each","position","slice","sort"]),zi={eq:e=>new ci(oi.EQ,[e]),neq:e=>new ci(oi.NEQ,[e]),lt:e=>new ci(oi.LT,[e]),lte:e=>new ci(oi.LTE,[e]),gt:e=>new ci(oi.GT,[e]),gte:e=>new ci(oi.GTE,[e]),in:e=>new ci(oi.IN,e),nin:e=>new ci(oi.NIN,e),geoNear:e=>new ci(oi.GEO_NEAR,[e]),geoWithin:e=>new ci(oi.GEO_WITHIN,[e]),geoIntersects:e=>new ci(oi.GEO_INTERSECTS,[e]),and(...e){var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.AND,t)},or(...e){var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.OR,t)},nor(...e){var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new ii(ti.NOR,t)},not:e=>new ii(ti.NOT,[e]),exists:e=>new ci(oi.EXISTS,[e]),mod:(e,t)=>new ci(oi.MOD,[e,t]),all:e=>new ci(oi.ALL,e),elemMatch:e=>new ci(oi.ELEM_MATCH,[e]),size:e=>new ci(oi.SIZE,[e]),expr:e=>new ci(oi.EXPR,[e]),set:e=>new pi(di.SET,[e]),remove:()=>new pi(di.REMOVE,[]),inc:e=>new pi(di.INC,[e]),mul:e=>new pi(di.MUL,[e]),min:e=>new pi(di.MIN,[e]),max:e=>new pi(di.MAX,[e]),rename:e=>new pi(di.RENAME,[e]),bit:e=>new pi(di.BIT,[e]),push(e){var t={};if(m(e))t.each=e;else if(u(e)&&m(e.each)){var r=Object.keys(e);if(1===r.length)t=e;else{var n=!1;for(var i of r)if(!qi.has(i)){n=!0;break}t=n?[e]:e}}else t.each=[e];return new pi(di.PUSH,[t])},pop:()=>new pi(di.POP,[]),shift:()=>new pi(di.SHIFT,[]),unshift(...e){var t=m(arguments[0])?arguments[0]:Array.from(arguments);return new pi(di.UNSHIFT,t)},addToSet:e=>new pi(di.ADD_TO_SET,[e]),pull:e=>new pi(di.PULL,[e]),pullAll:e=>new pi(di.PULL_ALL,[e]),project:{slice:e=>new yi(mi.SLICE,[e])},aggregate:{pipeline:()=>new Wi([]),abs:e=>new gi(fi.ABS,[e]),add:e=>new gi(fi.ADD,[e]),addToSet:e=>new gi(fi.ADDTOSET,[e]),allElementsTrue:e=>new gi(fi.ALLELEMENTSTRUE,[e]),and:e=>new gi(fi.AND,[e]),anyElementTrue:e=>new gi(fi.ANYELEMENTTRUE,[e]),arrayElemAt:e=>new gi(fi.ARRAYELEMAT,[e]),arrayToObject:e=>new gi(fi.ARRAYTOOBJECT,[e]),avg:e=>new gi(fi.AVG,[e]),ceil:e=>new gi(fi.CEIL,[e]),cmp:e=>new gi(fi.CMP,[e]),concat:e=>new gi(fi.CONCAT,[e]),concatArrays:e=>new gi(fi.CONCATARRAYS,[e]),cond:e=>new gi(fi.COND,[e]),convert:e=>new gi(fi.CONVERT,[e]),dateFromParts:e=>new gi(fi.DATEFROMPARTS,[e]),dateToParts:e=>new gi(fi.DATETOPARTS,[e]),dateFromString:e=>new gi(fi.DATEFROMSTRING,[e]),dateToString:e=>new gi(fi.DATETOSTRING,[e]),dayOfMonth:e=>new gi(fi.DAYOFMONTH,[e]),dayOfWeek:e=>new gi(fi.DAYOFWEEK,[e]),dayOfYear:e=>new gi(fi.DAYOFYEAR,[e]),divide:e=>new gi(fi.DIVIDE,[e]),eq:e=>new gi(fi.EQ,[e]),exp:e=>new gi(fi.EXP,[e]),filter:e=>new gi(fi.FILTER,[e]),first:e=>new gi(fi.FIRST,[e]),floor:e=>new gi(fi.FLOOR,[e]),gt:e=>new gi(fi.GT,[e]),gte:e=>new gi(fi.GTE,[e]),hour:e=>new gi(fi.HOUR,[e]),ifNull:e=>new gi(fi.IFNULL,[e]),in:e=>new gi(fi.IN,[e]),indexOfArray:e=>new gi(fi.INDEXOFARRAY,[e]),indexOfBytes:e=>new gi(fi.INDEXOFBYTES,[e]),indexOfCP:e=>new gi(fi.INDEXOFCP,[e]),isArray:e=>new gi(fi.ISARRAY,[e]),isoDayOfWeek:e=>new gi(fi.ISODAYOFWEEK,[e]),isoWeek:e=>new gi(fi.ISOWEEK,[e]),isoWeekYear:e=>new gi(fi.ISOWEEKYEAR,[e]),last:e=>new gi(fi.LAST,[e]),let:e=>new gi(fi.LET,[e]),literal:e=>new gi(fi.LITERAL,[e]),ln:e=>new gi(fi.LN,[e]),log:e=>new gi(fi.LOG,[e]),log10:e=>new gi(fi.LOG10,[e]),lt:e=>new gi(fi.LT,[e]),lte:e=>new gi(fi.LTE,[e]),ltrim:e=>new gi(fi.LTRIM,[e]),map:e=>new gi(fi.MAP,[e]),max:e=>new gi(fi.MAX,[e]),mergeObjects:e=>new gi(fi.MERGEOBJECTS,[e]),meta:e=>new gi(fi.META,[e]),min:e=>new gi(fi.MIN,[e]),millisecond:e=>new gi(fi.MILLISECOND,[e]),minute:e=>new gi(fi.MINUTE,[e]),mod:e=>new gi(fi.MOD,[e]),month:e=>new gi(fi.MONTH,[e]),multiply:e=>new gi(fi.MULTIPLY,[e]),neq:e=>new gi(fi.NEQ,[e]),not:e=>new gi(fi.NOT,[e]),objectToArray:e=>new gi(fi.OBJECTTOARRAY,[e]),or:e=>new gi(fi.OR,[e]),pow:e=>new gi(fi.POW,[e]),push:e=>new gi(fi.PUSH,[e]),range:e=>new gi(fi.RANGE,[e]),reduce:e=>new gi(fi.REDUCE,[e]),reverseArray:e=>new gi(fi.REVERSEARRAY,[e]),rtrim:e=>new gi(fi.RTRIM,[e]),second:e=>new gi(fi.SECOND,[e]),setDifference:e=>new gi(fi.SETDIFFERENCE,[e]),setEquals:e=>new gi(fi.SETEQUALS,[e]),setIntersection:e=>new gi(fi.SETINTERSECTION,[e]),setIsSubset:e=>new gi(fi.SETISSUBSET,[e]),setUnion:e=>new gi(fi.SETUNION,[e]),size:e=>new gi(fi.SIZE,[e]),slice:e=>new gi(fi.SLICE,[e]),split:e=>new gi(fi.SPLIT,[e]),sqrt:e=>new gi(fi.SQRT,[e]),stdDevPop:e=>new gi(fi.STDDEVPOP,[e]),stdDevSamp:e=>new gi(fi.STDDEVSAMP,[e]),strcasecmp:e=>new gi(fi.STRCASECMP,[e]),strLenBytes:e=>new gi(fi.STRLENBYTES,[e]),strLenCP:e=>new gi(fi.STRLENCP,[e]),substr:e=>new gi(fi.SUBSTR,[e]),substrBytes:e=>new gi(fi.SUBSTRBYTES,[e]),substrCP:e=>new gi(fi.SUBSTRCP,[e]),subtract:e=>new gi(fi.SUBTRACT,[e]),sum:e=>new gi(fi.SUM,[e]),switch:e=>new gi(fi.SWITCH,[e]),toBool:e=>new gi(fi.TOBOOL,[e]),toDate:e=>new gi(fi.TODATE,[e]),toDecimal:e=>new gi(fi.TODECIMAL,[e]),toDouble:e=>new gi(fi.TODOUBLE,[e]),toInt:e=>new gi(fi.TOINT,[e]),toLong:e=>new gi(fi.TOLONG,[e]),toObjectId:e=>new gi(fi.TOOBJECTID,[e]),toString:e=>new gi(fi.TOSTRING,[e]),toLower:e=>new gi(fi.TOLOWER,[e]),toUpper:e=>new gi(fi.TOUPPER,[e]),trim:e=>new gi(fi.TRIM,[e]),trunc:e=>new gi(fi.TRUNC,[e]),type:e=>new gi(fi.TYPE,[e]),week:e=>new gi(fi.WEEK,[e]),year:e=>new gi(fi.YEAR,[e]),zip:e=>new gi(fi.ZIP,[e])}};function Gi(e){return new Hi(e)}class Hi{constructor(e={offset:0}){this.options=void 0,H(e,"object","serverDate.options"),this.options=e}get _internalType(){return Zn}toJSON(){return{$date:this.options}}}function Ki(e,t){return ha(e)?sa(e):new Qi(e,t)}class Qi{constructor(e,t){this.longitude=void 0,this.latitude=void 0,this._internalType=Hn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,n=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:()=>r,set(e){if(H(e,"number","longitude"),e>180||e<-180)throw new I({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:()=>n,set(e){if(H(e,"number","latitude"),e>90||e<-90)throw new I({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=n}toJSON(){return{type:"Point",coordinates:[(e=this).longitude,e.latitude]};var e}toString(){return JSON.stringify(this.toJSON())}}function Ji(e){return fa(e)?la(e):new Xi(e)}class Xi{constructor(e){this.points=void 0,this._internalType=Jn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"MultiPoint",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function Yi(e){return ga(e)?ca(e):new Zi(e)}class Zi{constructor(e){this.points=void 0,this._internalType=Kn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"LineString",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function ea(e){return va(e)?ua(e):new ta(e)}class ta{constructor(e){this.lines=void 0,this._internalType=Xn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"MultiLineString",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function ra(e){return ma(e)?da(e):new na(e)}class na{constructor(e){this.lines=void 0,this._internalType=Qn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"Polygon",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function ia(e){return ya(e)?pa(e):new aa(e)}class aa{constructor(e){this.polygons=void 0,this._internalType=Yn,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.polygons=e}toJSON(){return{type:"MultiPolygon",coordinates:this.polygons.map((e=>e.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))))}}toString(){return JSON.stringify(this.toJSON())}}var oa=undefined;function sa(e){return Ki(e.coordinates[0],e.coordinates[1])}function la(e){return Ji(e.coordinates.map((e=>Ki(e[0],e[1]))))}function ca(e){return Yi(e.coordinates.map((e=>Ki(e[0],e[1]))))}function ua(e){return ea(e.coordinates.map((e=>Yi(e.map((e=>Ki(e[0],e[1])))))))}function da(e){return ra(e.coordinates.map((e=>Yi(e.map((e=>Ki(e[0],e[1])))))))}function pa(e){return ia(e.coordinates.map((e=>ra(e.map((e=>Yi(e.map((e=>Ki(e[0],e[1]))))))))))}function ha(e){return u(e)&&_a(e.coordinates)}function fa(e){return u(e)&&ba(e.coordinates)}function ga(e){return u(e)&&wa(e.coordinates)}function va(e){return u(e)&&Sa(e.coordinates)}function ma(e){return u(e)&&Ca(e.coordinates)}function ya(e){return u(e)&&(t=e.coordinates,m(t)&&t.every(Ca));var t}function _a(e){return m(e)&&g(e[0])&&g(e[1])}function ba(e){return m(e)&&e.every(_a)}function wa(e){return ba(e)}function Sa(e){return m(e)&&e.every(wa)}function Ca(e){return Sa(e)}function Ia(e){return Aa(e,[e])}function Aa(e,t){if(!b(e)){if(y(e))return{$date:+e};if(_(e))return{$regex:e.source,$options:e.flags};if(m(e))return e.map((e=>{if(t.indexOf(e)>-1)throw new I({errCode:C.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return Aa(e,[...t,e])}));if(u(e)){var r={...e};for(var n in r){if(t.indexOf(r[n])>-1)throw new I({errCode:C.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});r[n]=Aa(r[n],[...t,r[n]])}return r}return e}switch(e._internalType){case Hn:case Jn:case Kn:case Xn:case Qn:case Yn:return e.toJSON();case Zn:return{$date:e.options};case ei:return{$regex:e.regexp,$options:e.options};default:return e.toJSON?e.toJSON():e}}function ka(e,t,r,n){var i={...e};for(var a in e)if(!/^\$/.test(a)){var o=e[a];if(o&&u(o)&&!t(o)){if(n.indexOf(o)>-1)throw new I({errCode:C.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var s=ka(o,t,[...r,a],[...n,o]);i[a]=s;var l=!1;for(var c in s)/^\$/.test(c)?l=!0:(i[`${a}.${c}`]=s[c],delete i[a][c]);l||delete i[a]}}return i}function Ea(e){return ka(e,xa,[],[e])}function Ta(e){return ka(e,(e=>!1),[],[e])}function Pa(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?m(e[n])?e[n].push(t[n]):u(e[n])?u(t[n])?Object.assign(e[n],t[n]):(console.warn(`unmergable condition, query is object but condition is ${c(t)}, can only overwrite`,t,r),e[n]=t[n]):(console.warn(`to-merge query is of type ${c(e)}, can only overwrite`,e,t,r),e[n]=t[n]):e[n]=t[n]}function xa(e){return b(e)||y(e)||_(e)}function Oa(e){return Ia(e)}function Ra(e){return function(e){var t={...e};for(var r in t)switch(r){case"$date":switch(c(t[r])){case"number":return new Date(t[r]);case"object":return Gi(t[r])}break;case"type":switch(t.coordinates,t.type){case"Point":if(ha(t))return sa(t);break;case"MultiPoint":if(fa(t))return la(t);break;case"LineString":if(ga(t))return ca(t);break;case"MultiLineString":if(va(t))return ua(t);break;case"Polygon":if(ma(t))return da(t);break;case"MultiPolygon":if(ya(t))return pa(t)}}return e}(e)}function Ma(e,t){return{limit:e._query.limit,offset:e._query.offset,order:Da(e._query.order||[]),projection:t.engine.ProjectionSerializer.encode(e._field)}}function Da(e){return e.map((e=>({field:e.fieldPath,direction:e.order===ts.DESC?Si.DESC:Si.ASC})))}function Na(e){var t=Ta(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}var La=function(e){return e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e}({}),Ba=function(e){return e.CONNECTION_START="connectionStart",e.CONNECTION_SUCCESS="connectionSuccess",e.CONNECTION_FAIL="connectionFail",e.DISCONNECT="disconnect",e}({}),$a={[La.DISCONNECTED]:{transitions:[{accept:Ba.CONNECTION_START,to:La.CONNECTING}]},[La.CONNECTING]:{transitions:[{accept:Ba.CONNECTION_SUCCESS,to:La.CONNECTED},{accept:Ba.CONNECTION_FAIL,to:La.DISCONNECTED},{accept:Ba.DISCONNECT,to:La.DISCONNECTED}]},[La.CONNECTED]:{transitions:[{accept:Ba.DISCONNECT,to:La.DISCONNECTED},{accept:Ba.CONNECTION_FAIL,to:La.DISCONNECTED}]}};var Fa,ja,Wa=(Fa=e=>e.replace(/\[(\d+)\]/g,".[$1]").split(".").map((e=>/^\[(\d+)\]$/.test(e)?parseInt(e.substring(1,e.length-1)):e)),ja=new Map,function(e){return ja.has(e)||ja.set(e,Fa(e)),ja.get(e)});function Ua(e,t,r){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var n=Wa(t),i=e,a=0;a<n.length-1;++a){var o=n[a];i[o]||(i[o]="string"==typeof n[a+1]?{}:[]),i=i[o]}return i[n[n.length-1]]=r,e}e[t]=r}}function Va(e,t){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var r=Wa(t),n=e,i=0;i<r.length-1;++i){var a=r[i];if(!n[a])return;n=n[a]}return delete n[r[r.length-1]],e}delete e[t]}}var qa=function(e){return e.UNINIT="UNINIT",e.CLOSED="CLOSED",e.INIT_LOGGING_IN="INIT_LOGGING_IN",e.INIT_LOGGED_IN="INIT_LOGGED_IN",e.INIT_LOGIN_FAIL="INIT_LOGIN_FAIL",e.INIT_WATCH_PENDING="INIT_WATCH_PENDING",e.INIT_WATCH_FAIL="INIT_WATCH_FAIL",e.INIT_WATCH_SUCCESS="INIT_WATCH_SUCCESS",e.PAUSED="PAUSED",e.ABNORMAL_WATCH_STATUS="ABNORMAL_WATCH_STATUS",e.REBUILD_LOGGING_IN="REBUILD_LOGGING_IN",e.REBUILD_LOGGED_IN="REBUILD_LOGGED_IN",e.REBUILD_LOGIN_FAIL="REBUILD_LOGIN_FAIL",e.REBUILD_WATCH_PENDING="REBUILD_WATCH_PENDING",e.REBUILD_WATCH_FAIL="REBUILD_WATCH_FAIL",e.REBUILD_WATCH_SUCCESS="REBUILD_WATCH_SUCCESS",e}({}),za=function(e){return e.CLOSE="close",e.LOGIN_START="loginStart",e.LOGIN_FAIL="loginFail",e.LOGIN_SUCCESS="loginSuccess",e.INIT_WATCH_START="initWatchStart",e.INIT_WATCH_FAIL="initWatchFail",e.INIT_WATCH_SUCCESS="initWatchSuccess",e.WS_DISCONNECTED="wsDisconnected",e.WS_CONNECTED="wsConnected",e.REBUILD_WATCH_START="rebuildWatchStart",e.REBUILD_WATCH_FAIL="rebuildWatchFail",e.REBUILD_WATCH_SUCCESS="rebuildWatchSuccess",e.NEED_REBUILD_WATCH="needRebuildWatch",e}({}),Ga={accept:za.CLOSE,to:qa.CLOSED},Ha={accept:za.WS_DISCONNECTED,to:qa.CLOSED},Ka={accept:za.WS_DISCONNECTED,to:qa.PAUSED},Qa={[qa.UNINIT]:{transitions:[{accept:za.LOGIN_START,to:qa.INIT_LOGGING_IN},Ha,Ga]},[qa.CLOSED]:{transitions:[Ga]},[qa.INIT_LOGGING_IN]:{transitions:[{accept:za.LOGIN_FAIL,to:qa.INIT_LOGIN_FAIL},{accept:za.LOGIN_SUCCESS,to:qa.INIT_LOGGED_IN},Ha,Ga]},[qa.INIT_LOGIN_FAIL]:{transitions:[{accept:za.LOGIN_START,to:qa.INIT_LOGGING_IN},Ha,Ga]},[qa.INIT_LOGGED_IN]:{transitions:[{accept:za.INIT_WATCH_START,to:qa.INIT_WATCH_PENDING},Ha,Ga]},[qa.INIT_WATCH_PENDING]:{transitions:[{accept:za.INIT_WATCH_FAIL,to:qa.INIT_WATCH_FAIL},{accept:za.INIT_WATCH_SUCCESS,to:qa.INIT_WATCH_SUCCESS},Ha,Ga]},[qa.INIT_WATCH_FAIL]:{transitions:[{accept:za.LOGIN_START,to:qa.INIT_LOGGING_IN},Ha,Ga]},[qa.INIT_WATCH_SUCCESS]:{transitions:[{accept:za.WS_DISCONNECTED,to:qa.PAUSED},{accept:za.NEED_REBUILD_WATCH,to:qa.ABNORMAL_WATCH_STATUS},Ka,Ga]},[qa.PAUSED]:{transitions:[{accept:za.LOGIN_START,to:qa.REBUILD_LOGGING_IN},Ka,Ga]},[qa.ABNORMAL_WATCH_STATUS]:{transitions:[{accept:za.LOGIN_START,to:qa.REBUILD_LOGGING_IN},Ka,Ga]},[qa.REBUILD_LOGGING_IN]:{transitions:[{accept:za.LOGIN_FAIL,to:qa.REBUILD_LOGIN_FAIL},{accept:za.LOGIN_SUCCESS,to:qa.REBUILD_LOGGED_IN},Ka,Ga]},[qa.REBUILD_LOGIN_FAIL]:{transitions:[{accept:za.LOGIN_START,to:qa.REBUILD_LOGGING_IN},Ka,Ga]},[qa.REBUILD_LOGGED_IN]:{transitions:[{accept:za.REBUILD_WATCH_START,to:qa.REBUILD_WATCH_PENDING},Ka,Ga]},[qa.REBUILD_WATCH_PENDING]:{transitions:[{accept:za.REBUILD_WATCH_FAIL,to:qa.REBUILD_WATCH_FAIL},{accept:za.REBUILD_WATCH_SUCCESS,to:qa.REBUILD_WATCH_SUCCESS},Ka,Ga]},[qa.REBUILD_WATCH_FAIL]:{transitions:[{accept:za.LOGIN_START,to:qa.REBUILD_LOGGING_IN},Ka,Ga]},[qa.REBUILD_WATCH_SUCCESS]:{transitions:[{accept:za.NEED_REBUILD_WATCH,to:qa.ABNORMAL_WATCH_STATUS},Ka,Ga]}};class Ja{constructor(e){for(var t in this.currentState=void 0,this.states=void 0,this.listeners=new Set,this.history=void 0,this.currentState=e.initialState,this.states=new Map,e.states)this.states.set(t,{name:t,transitions:new Map(e.states[t].transitions.map((({accept:e,to:t})=>[e,t])))});this.history={options:{enable:!1,limit:100},transitions:[]},e.history&&("boolean"==typeof e.history?e.history&&(this.history.options.enable=!0):Boolean(e.history.enable)&&(void 0===e.history.limit||null===e.history.limit?this.history.options={enable:!0,limit:100}:e.history.limit>0&&(this.history.options={enable:!0,limit:e.history.limit}))),this.history.options.enable&&this.history.transitions.push({state:this.currentState})}transition(e,t){if(t&&(t instanceof Set?!t.has(this.currentState):t!==this.currentState))throw new Xa(`current state (${this.currentState}) != expected from state (${t instanceof Set?JSON.stringify([...t]):t})`,"unexpectedFromState");var r="string"==typeof e?{type:e}:e,n=this.states.get(this.currentState),i=n.transitions.get(r.type);if(!i)throw new Xa(`current state (${this.currentState}) does not accept "${r.type}"`,"unexpectedInput");this.currentState=i,this.history.options.enable&&(this.history.transitions.push({event:r.type,state:this.currentState}),this.history.transitions.length>this.history.options.limit&&(this.history.transitions.length===this.history.options.limit+1?this.history.transitions.shift():this.history.transitions.splice(0,this.history.transitions.length-this.history.options.limit))),this.listeners.forEach((e=>{try{e({event:r,from:n.name,to:this.currentState})}catch(e){console.error("FSM listener exec error: ",e)}}))}canAccept(e){return this.states.get(this.currentState).transitions.has(e)}subscribe(e){this.listeners.add(e)}unsubscribe(e){this.listeners.delete(e)}getHistoryRepresentation(e){return this.history.options.enable?`states: ${(e.limit?this.history.transitions.slice(-e.limit):this.history.transitions).map((({state:e,event:t})=>`${t?`-(${t})->`:""}${e}`)).join("")}`:""}}class Xa extends Error{constructor(e,t,r){super(e),this.type="transition",this.subtype=void 0,this.payload=void 0,this.generic=!0,this.subtype=t,this.payload=r}}function Ya(e=""){return`${e?`${e}_`:""}${+new Date}_${Math.random()}`}var Za=1128,eo=1,to=2,ro=3,no=4,io=5,ao=6,oo=7,so=8,lo=9,co=10,uo=11,po=12,ho=13,fo=14,go=15,vo=16,mo=17,yo=18,_o=30,bo=31,wo=32,So=33,Co=34,Io=35,Ao=36,ko=37,Eo=38,To=39,Po=40,xo=50,Oo=51,Ro=52,Mo=53,Do=54,No=55,Lo=56,Bo=57,$o=58,Fo=59,jo=60;class Wo{constructor(e){this.close=void 0,this.onChange=void 0,this.onError=void 0,this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:()=>e.virtualClient})}}class Uo{constructor(e){this.id=void 0,this.docChanges=void 0,this.docs=void 0,this.type=void 0,this.EJSON=void 0,this.requestId=void 0,this.watchId=void 0;var{id:t,docChanges:r,docs:n,type:i,EJSON:a,requestId:o,watchId:s}=e;Object.defineProperties(this,{id:{value:t,writable:!1,enumerable:!0},docChanges:{value:r,writable:!1,enumerable:!0},docs:{value:n,writable:!1,enumerable:!0},type:{value:i,writable:!1,enumerable:!0}}),this.requestId=o,this.watchId=s}}class Vo extends Error{constructor(e){super(`Watch Error ${JSON.stringify(e.msgData)} (requestid: ${e.requestId})`),this.isRealtimeErrorMessageError=!0,this.payload=void 0,this.payload=e}}var qo=e=>e&&e.isRealtimeErrorMessageError,zo=new Set([qa.REBUILD_LOGGING_IN,qa.INIT_LOGGING_IN]),Go=e=>{0};class Ho{constructor(e){var t=this;this.watchId=void 0,this._parentFSM=void 0,this._fsm=void 0,this.envId=void 0,this.collectionName=void 0,this.query=void 0,this.limit=void 0,this.orderBy=void 0,this.queryType=void 0,this.send=void 0,this.login=void 0,this.isWSConnected=void 0,this.getWaitExpectedTimeoutLength=void 0,this.getEJSON=void 0,this.getServiceContext=void 0,this.onWatchStart=void 0,this.onWatchClose=void 0,this.timing=void 0,this.closeWatchInvoked=!1,this.userOnErrorInvoked=!1,this.debug=void 0,this.wsclient=void 0,this.listener=void 0,this._availableRetries=void 0,this._ackTimeoutId=void 0,this._loginInvalidated=!1,this._errors=[],this._parentFSMListener=void 0,this._FSMListener=void 0,this._wsDisconnectionTS=void 0,this.sessionInfo=void 0,this._waitExpectedTimeoutId=void 0,this._snapshotHistory=[],this._login=function(){var e=o()((function*(e){t._fsm.transition(za.LOGIN_START);try{var r=yield t.login(t.envId,e||t._loginInvalidated,t.timing);t.envId||(t.envId=r.envId),t._fsm.transition(za.LOGIN_SUCCESS,zo),t._loginInvalidated=!1}catch(e){t._errors.push(e),t._loginInvalidated=!0;try{t._fsm.transition(za.LOGIN_FAIL,zo)}catch(e){console.warn("[realtime]",e)}}}));return function(t){return e.apply(this,arguments)}}(),this.initWatch=o()((function*(){var e=Date.now(),r=Ya();try{t._fsm.transition(za.INIT_WATCH_START,qa.INIT_LOGGED_IN);var n=t.envId,i={watchId:t.watchId,requestId:r,msgType:"INIT_WATCH",msgData:{envId:n,collName:t.collectionName,query:t.query,limit:t.limit,orderBy:t.orderBy,queryType:t.queryType}},a=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus();var{events:o,currEvent:s}=a.msgData;if(t.sessionInfo={queryID:a.msgData.queryID,currentEventId:s-1,currentDocs:[],currentEventTS:Date.now()},o.length>0){for(var l of o)l.ID=s;t.handleServerEvents(a)}else{t.sessionInfo.currentEventId=s;var c=new Uo({id:s,docChanges:[],docs:[],type:"init",EJSON:t.getEJSON(),requestId:a.requestId,watchId:t.watchId});F.surroundThirdByTryCatch((()=>t.listener.onChange(c)))(),t.scheduleSendACK(),t.debug&&t._snapshotHistory.push(c)}t.onWatchStart(t,t.sessionInfo.queryID),t._availableRetries.INIT_WATCH=2,t._wsDisconnectionTS=void 0,Kt(Za,io,!0),Ht({apiName:"_realtime.initWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(za.INIT_WATCH_SUCCESS)}catch(n){Ht({apiName:"_realtime.initWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"INIT_WATCH",requestId:r})}})),this.rebuildWatch=o()((function*(){var e=Date.now(),r=Ya();try{t._fsm.transition(za.REBUILD_WATCH_START,qa.REBUILD_LOGGED_IN);var n=t.envId;if(!t.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");if(t._wsDisconnectionTS&&Date.now()-t._wsDisconnectionTS>.9*t.getServiceContext().appConfig.realtimeQueryEventCacheTimeout)throw new P("query event cache timeout, ws has been disconnected for too long, PLEASE RECONNECT manually",{subtype:"queryEventCacheClientTimeout",retryable:!1});var i={watchId:t.watchId,requestId:r,msgType:"REBUILD_WATCH",msgData:{envId:n,collName:t.collectionName,queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}},a=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus(),yield t.handleServerEvents(a),t._availableRetries.REBUILD_WATCH=2,t._wsDisconnectionTS=void 0,Kt(Za,oo,!0),Ht({apiName:"_realtime.rebuildWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(za.REBUILD_WATCH_SUCCESS)}catch(n){Ht({apiName:"_realtime.rebuildWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"REBUILD_WATCH",requestId:r})}})),this.handleWatchEstablishmentError=function(){var e=o()((function*(e,r){var n="INIT_WATCH"===r.operationName,i=i=>{var a=`${i||e} (${n?"initWatch":"rebuildWatch"} requestId ${r.requestId})`;if(t.closeWithError(new I({errCode:n?C.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:C.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:a})),Kt(Za,n?ao:so,!0),!qo(e)){if(O(e)){switch(e.payload.subtype){case"totalConnectionTimeout":Kt(Za,n?Do:No,!0);break;case"queryEventCacheClientTimeout":n||Kt(Za,Lo,!0)}return}return D(e)?void Kt(Za,n?Bo:$o,!0):void Kt(Za,n?Fo:jo,!0)}switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":Kt(Za,n?xo:Oo,!0);break;default:Kt(Za,n?Ro:Mo,!0)}};t._errors.push(e),t.handleCommonError(e,{onSignError:()=>{t._loginInvalidated=!0,t._fsm.transition(t.initialized?za.REBUILD_WATCH_FAIL:za.INIT_WATCH_FAIL)},onTimeoutError:e=>{e.payload&&!e.payload.retryable?i(e):t._fsm.transition(t.initialized?za.REBUILD_WATCH_FAIL:za.INIT_WATCH_FAIL)},onNotRetryableError:i,onCancelledError:e=>{t._fsm.transition(t.initialized?za.REBUILD_WATCH_FAIL:za.INIT_WATCH_FAIL)},onUnknownError:()=>{t._fsm.transition(t.initialized?za.REBUILD_WATCH_FAIL:za.INIT_WATCH_FAIL)}})}));return function(t,r){return e.apply(this,arguments)}}(),this.closeWatch=o()((function*(){t.closeWatchInvoked=!0;var e=t.sessionInfo?t.sessionInfo.queryID:"";if(t._fsm.currentState!==qa.CLOSED)try{t._fsm.transition(za.CLOSE),yield t.sendCloseWatch()}catch(e){console.warn(`[realtime] non-fatal error while closing watch: ${e}`)}finally{t.sessionInfo=void 0,t.onWatchClose(t,e),t._cleanup()}})),this.sendCloseWatch=o()((function*(){var e={watchId:t.watchId,requestId:Ya(),msgType:"CLOSE_WATCH",msgData:null};yield t.send({msg:e})})),this.scheduleSendACK=()=>{this.clearACKSchedule(),this._ackTimeoutId=setTimeout((()=>{this._waitExpectedTimeoutId?this.scheduleSendACK():this.sendACK()}),1e4)},this.clearACKSchedule=()=>{this._ackTimeoutId&&clearTimeout(this._ackTimeoutId)},this.sendACK=o()((function*(){try{if(t._fsm.currentState!==qa.INIT_WATCH_SUCCESS&&t._fsm.currentState!==qa.REBUILD_WATCH_SUCCESS)return void t.scheduleSendACK();if(!t.sessionInfo)return void console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)");var e={watchId:t.watchId,requestId:Ya(),msgType:"CHECK_LAST",msgData:{queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}};yield t.send({msg:e}),t.scheduleSendACK()}catch(e){if(qo(e)){var r=e.payload;switch(r.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return t._loginInvalidated=!0,void(t._fsm.currentState!==qa.INIT_WATCH_SUCCESS&&t._fsm.currentState!==qa.REBUILD_WATCH_SUCCESS||t._fsm.transition(za.NEED_REBUILD_WATCH));case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return void t.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code}))}}t._availableRetries.CHECK_LAST&&t._availableRetries.CHECK_LAST>0?(t._availableRetries.CHECK_LAST--,t.scheduleSendACK()):t.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:e}))}})),this.handleCommonError=(e,t)=>{if(qo(e)){switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);default:return void t.onNotRetryableError(e)}}else{if(O(e))return void t.onTimeoutError(e);if(D(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId=`watchid_${+new Date}_${Math.random()}`,this._parentFSM=e.parentFSM,this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.queryType=e.queryType,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.getEJSON=e.getEJSON,this.getServiceContext=e.getServiceContext,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.timing=e.timing,this.debug=e.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this._fsm=new Ja({initialState:qa.UNINIT,states:Qa,history:!0}),this._subscribeParentFSMEvents(),this._subscribeFSMEvents(),this.listener=new Wo({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this._parentFSM.currentState===La.CONNECTED&&this._login(),e.debug&&(this.wsclient=e.wsclient)}get initialized(){return Boolean(this.sessionInfo)}_cleanup(){this._parentFSM.unsubscribe(this._parentFSMListener)}_subscribeParentFSMEvents(){this._parentFSMListener=e=>{var{event:t,from:r,to:n}=e;if(this._fsm.currentState!==qa.CLOSED)if(t.type===Ba.DISCONNECT||t.type===Ba.CONNECTION_FAIL)switch(this._fsm.currentState){case qa.UNINIT:case qa.INIT_LOGGING_IN:case qa.INIT_LOGIN_FAIL:case qa.INIT_LOGGED_IN:case qa.INIT_WATCH_PENDING:case qa.INIT_WATCH_FAIL:this.closeWithError(t.error||new Error("websocket connection fail"),!1);break;default:t.type===Ba.DISCONNECT?(this._wsDisconnectionTS||(this._wsDisconnectionTS=Date.now()),this._fsm.transition(za.WS_DISCONNECTED)):this.closeWithError(t.error||new Error("websocket connection fail"),!1)}else if(t.type===Ba.CONNECTION_SUCCESS)switch(this._fsm.currentState){case qa.UNINIT:case qa.PAUSED:this._login();break;case qa.CLOSED:break;default:console.warn(`[realtime] current state should not be ${this._fsm.currentState} (parent event ${t})`)}},this._parentFSM.subscribe(this._parentFSMListener)}_subscribeFSMEvents(){this._FSMListener=e=>{var{event:t,from:r,to:n}=e;switch(t.type){case za.WS_CONNECTED:this._login().catch(Go);break;case za.LOGIN_SUCCESS:r===qa.INIT_LOGGING_IN?this.initWatch().catch(Go):r===qa.REBUILD_LOGGING_IN?this.rebuildWatch().catch(Go):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case za.LOGIN_FAIL:r===qa.INIT_LOGGING_IN?this.useRetryTicket("INIT_WATCH")?this._login().catch(Go):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):r===qa.REBUILD_LOGGING_IN?this.useRetryTicket("REBUILD_WATCH")?this._login().catch(Go):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case za.INIT_WATCH_SUCCESS:this._availableRetries.INIT_WATCH=2,this._errors=[];break;case za.INIT_WATCH_FAIL:this.useRetryTicket("INIT_WATCH")?this._login().catch(Go):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case za.REBUILD_WATCH_SUCCESS:this._availableRetries.REBUILD_WATCH=2,this._errors=[];break;case za.REBUILD_WATCH_FAIL:this.useRetryTicket("REBUILD_WATCH")?this._login().catch(Go):this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case za.NEED_REBUILD_WATCH:this._login().catch(Go)}},this._fsm.subscribe(this._FSMListener)}useRetryTicket(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,!0)}assertAsyncTaskStatus(){if(this.closeWatchInvoked)throw new R("closeWatch",{subtype:"closeWatch"});switch(this._fsm.currentState){case qa.PAUSED:throw new R("pause",{subtype:"pause"});case qa.CLOSED:throw new R("close",{subtype:"close"})}}handleServerEvents(e){var t=this;return o()((function*(){try{t.scheduleSendACK(),yield t._handleServerEvents(e),t._postHandleServerEventsValidityCheck(e)}catch(e){throw Kt(Za,So,!0),e}}))()}_handleServerEvents(e){var t=this;return o()((function*(){var{requestId:r}=e,{events:n}=e.msgData;if(n.length&&t.sessionInfo){var i,a=t.sessionInfo;try{i=n.map(Ko)}catch(e){return void t.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e}))}for(var o=[...a.currentDocs],s=!1,l=function*(){var n=i[c];if(a.currentEventId>=n.id)return!i[c-1]||n.id>i[c-1].id?Kt(Za,Co,!0):(console.error(`[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ${r})`),Kt(Za,Io,!0)),"continue";if(a.currentEventId===n.id-1){switch(n.dataType){case"update":if(!n.doc)switch(n.queueType){case"update":case"dequeue":var l=o.find((e=>e._id===n.docId));if(l){var d=JSON.parse(JSON.stringify(l));if(n.updatedFields)for(var p in n.updatedFields)Ua(d,p,n.updatedFields[p]);if(n.removedFields)for(var h of n.removedFields)Va(d,h);n.doc=d}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated."),Kt(Za,Ao,!0);break;case"enqueue":var f=new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId ${e.requestId})`});throw t.closeWithError(f),f}break;case"limit":if(!n.doc&&"dequeue"===n.queueType){var g=o.find((e=>e._id===n.docId));g?n.doc=g:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType dequeue queueType event where no doc is associated.")}break;case"replace":if(!n.doc){var v=new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="replace" (requestId ${e.requestId})`});throw t.closeWithError(v),v}break;case"remove":var m=o.find((e=>e._id===n.docId));m?n.doc=m:(console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),Kt(Za,ko,!0))}switch(n.queueType){case"init":s?o.push(n.doc):(s=!0,o=[n.doc]);break;case"enqueue":o.push(n.doc);break;case"dequeue":var y=o.findIndex((e=>e._id===n.docId));y>-1?o.splice(y,1):(console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),Kt(Za,Eo,!0));break;case"update":var _=o.findIndex((e=>e._id===n.docId));_>-1?o[_]=n.doc:(console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),Kt(Za,To,!0))}if(c===u-1||i[c+1]&&i[c+1].id!==n.id){var b=[...o],w=i.slice(0,c+1).filter((e=>e.id===n.id));t.sessionInfo.currentEventId=n.id,t.sessionInfo.currentDocs=o,t.sessionInfo.currentEventTS=Date.now();var S=new Uo({id:n.id,type:"init"===w[0].queueType?"init":void 0,docChanges:t.getEJSON().deserialize(w),docs:t.getEJSON().deserialize(b),EJSON:t.getEJSON(),requestId:r,watchId:t.watchId});F.surroundThirdByTryCatch((()=>t.listener.onChange(S)))(),t.debug&&t._snapshotHistory.push(S)}}else Kt(Za,Po,!0),t._fsm.transition(za.NEED_REBUILD_WATCH)},c=0,u=i.length;c<u;c++)yield*l()}}))()}_postHandleServerEventsValidityCheck(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn(`[realtime listener] internal non-fatal error: client eventId ${this.sessionInfo.currentEventId} does not match with server event id after server event handling ${e.msgData.currEvent} (requestId ${e.requestId})`)):console.error(`[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur. (requestId ${e.requestId})`)}clearWaitExpectedEvent(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}onMessage(e){switch(this._fsm.currentState){case qa.INIT_WATCH_SUCCESS:case qa.REBUILD_WATCH_SUCCESS:break;case qa.PAUSED:if("ERROR"!==e.msgType)return;break;default:return void console.warn(`[realtime listener] internal non-fatal error: unexpected message received while state is ${this._fsm.currentState}`)}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":0,this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((()=>{this._fsm.transition(za.NEED_REBUILD_WATCH)}),this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:`${e.msgData.code} - ${e.msgData.message}`}))}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}closeWithError(e,t=!0){if(this._fsm.currentState!==qa.CLOSED&&this._fsm.transition(za.CLOSE),!this.userOnErrorInvoked){var r=this._fsm.getHistoryRepresentation({limit:20});A(e)?(e.errMsg+=`\nhistory ${r}`,e.history=r):e&&((e=new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`${e} \nhistory ${r}`})).history=r),this.clearACKSchedule(),F.surroundThirdByTryCatch((()=>this.listener.onError(e)))(),this.userOnErrorInvoked=!0,this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),t&&this.sendCloseWatch().catch(Go),this.sessionInfo=void 0}}}function Ko(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=e.removedFields?JSON.parse(e.removedFields):JSON.parse(e.RemovedFields))),t}var Qo={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3004:{code:3004,name:"Client Reconnect on Server Upgrade",description:"The client is terminating the connection in response to server upgrade"},3050:{code:3050,name:"Server Close Unauthenticated Idle Connection",description:"The server is terminating the connection because the connection is idle and not authenticated"},3051:{code:3051,name:"Server Upgrade",description:"The server is terminating the connection because it is upgrading"},3052:{code:3052,name:"Server Requires Authentication",description:"The server is terminating the connection because it has not received authentication message as the connection's first message"}},Jo=function(e){return e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.ReconnectOnServerUpgrade=3004]="ReconnectOnServerUpgrade",e[e.UnauthenticatedIdleConnection=3050]="UnauthenticatedIdleConnection",e[e.ServerUpgrade=3051]="ServerUpgrade",e[e.AuthenticationRequired=3052]="AuthenticationRequired",e}({}),Xo=(e,t)=>{var r=Qo[e],n=r?`${r.name}, code ${e}, reason ${t||r.description}`:`code ${e}`;return new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},Yo=1;class Zo{constructor(e){var t=this;this._fsm=void 0,this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._totalConnectionTimeoutId=void 0,this._serviceContext=void 0,this._ws=void 0,this._lastPingSendTS=void 0,this._pingFailed=0,this._pongMissed=0,this._pingTimeoutId=void 0,this._pongTimeoutId=void 0,this._logins=new Map,this._signatures=new Map,this._wsResponseWait=new Map,this._rttObserved=[],this._closedWatches=new Set,this._EJSON=void 0,this._defaultEnvId=void 0,this._connectionEnvId=void 0,this._retryLock=!1,this.initWebSocketConnection=function(){var e=o()((function*(e,r=t._maxReconnect){var n;if(t._EJSON||(n=function(){return es.apply(this,arguments)}().then((e=>t._EJSON=e))),t._fsm.currentState===La.DISCONNECTED){t._fsm.transition(Ba.CONNECTION_START),t._logins=new Map,t._wsResponseWait=new Map;var i=!1,a=[],o=!1;if(!t._totalConnectionTimeoutId&&t._totalConnectionTimeout&&t._totalConnectionTimeout!==1/0){var s=t._totalConnectionTimeout;t._totalConnectionTimeoutId=setTimeout((()=>{o=!0,e&&t._retryLock&&(t._retryLock=!1),t._totalConnectionTimeoutId=void 0;var r=new P(`reconnect timeout (reach totalConnectionTimeout ${s}s)`,{subtype:"totalConnectionTimeout",retryable:!1});Kt(Za,mo,!0),t._fsm.transition({type:Ba.CONNECTION_FAIL,error:r})}),1e3*s)}if(e){if(t._retryLock)return void 0;0,t._retryLock=!0}for(var l=function*(){try{if(!(yield he()).isConnected){if(!e)return t._fsm.transition({type:Ba.CONNECTION_FAIL,error:new Error("network offline")}),{v:void 0};if(yield new Promise((e=>{le&&le.isConnected?e():pe.push(e)})),0===t._virtualWSClient.size)return t.clearTotalReconnectTimeout(),{v:void 0};Dt()&&(yield ue(100))}if(o)return{v:void 0};0;var r=yield t.getSignature(t._connectionEnvId);if(o)return{v:void 0};0;var s=Date.now();return yield new Promise(((e,n)=>{t._ws=re(t._context.identifiers)._socketSkipCheckDomainFactory().connectSocket({url:r.wsUrl,header:{"content-type":"application/json"},perMessageDeflate:!0,success:e,fail:n})})),o?{v:void 0}:(Ht({apiName:"_realtime.connectSocket",apiStartTime:s,apiEndTime:Date.now()}),yield t.initWebSocketEvent(),o||n&&(yield n,o)?{v:void 0}:(i=!0,"break"))}catch(e){if(a.unshift(e),e.errCode===C.TCB_PERMISSION_DENIED)return"break";var{isConnected:l}=yield he();if(o)return{v:void 0};if(l&&(yield ue(t._reconnectInterval),o))return{v:void 0};if(Dt()&&(yield ue(0),o))return{v:void 0}}},c=t._maxReconnect;c>=0;c--){var u=yield*l();if("break"===u)break;if("object"==typeof u)return u.v}if(e&&t._retryLock&&(t._retryLock=!1),i)return t.clearTotalReconnectTimeout(),Kt(Za,e?ro:eo,!0),void t._fsm.transition(Ba.CONNECTION_SUCCESS);t.clearTotalReconnectTimeout(),Kt(Za,e?no:to,!0),e?t._fsm.transition({type:Ba.CONNECTION_FAIL,error:new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(a.map((e=>e+"")))}`})}):t._fsm.transition({type:Ba.CONNECTION_FAIL,error:new I({errCode:C.SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(a.map((e=>e+"")))}`})})}}));return function(t){return e.apply(this,arguments)}}(),this.initWebSocketEvent=()=>new Promise(((e,t)=>{if(!this._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;this._ws.onOpen((t=>{this._context.debug&&console.warn("[realtime] ws event: open",t),r=!0,e()}));var n=null;this._ws.onError((e=>{n=e,this._logins=new Map,r?(this._context.debug&&console.error("[realtime] ws event: error",e),this.clearHeartbeat(),Kt(Za,co,!0)):(this._context.debug&&console.error("[realtime] ws open failed with ws event: error",e),t(e),Kt(Za,lo,!0))})),this._ws.onClose((e=>{this._logins=new Map,this.clearHeartbeat();var t=n||Xo(e.code);switch(e.code){case Jo.ReconnectOnServerUpgrade:case Jo.ReconnectWebSocket:case Jo.NoRealtimeListeners:this._fsm.transition({type:Ba.DISCONNECT,error:t});break;case Jo.HeartbeatPingError:case Jo.HeartbeatPongTimeoutError:case Jo.NormalClosure:case Jo.AbnormalClosure:this._maxReconnect>0?(this._fsm.transition({type:Ba.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:Ba.CONNECTION_FAIL,error:t}),e.code===Jo.HeartbeatPingError?Kt(Za,po,!0):e.code===Jo.HeartbeatPongTimeoutError?Kt(Za,ho,!0):Kt(Za,fo,!0);break;case Jo.UnauthenticatedIdleConnection:this._fsm.transition({type:Ba.CONNECTION_FAIL,error:Xo(e.code,e.reason)}),Kt(Za,go,!0);break;case Jo.ServerUpgrade:this._fsm.transition({type:Ba.DISCONNECT,error:t}),this.initWebSocketConnection(!0),Kt(Za,yo,!0);break;default:this._maxReconnect>0?(this._fsm.transition({type:Ba.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:Ba.CONNECTION_FAIL,error:Xo(e.code,e.reason)}),Kt(Za,vo,!0)}Kt(Za,uo,!0)}));var i={timing:{},startKey:"apiStartTime",endKey:"apiEndTime",samplePicker:er,autoReport:"_realtime.onSocketMessage"};this._ws.onMessage(Zt(this.onSocketMessage,i)),this.heartbeat()})),this.isWSConnected=()=>Boolean(this._ws&&this._ws.readyState===Yo),this.onSocketMessage=e=>{var t,r=e.data;this.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error(`[realtime] onMessage parse res.data error: ${e}`)}this._context.debug&&console.log(`[realtime] onMessage ${t.msgType} (${(new Date).toLocaleString()})`,t);var n=this._wsResponseWait.get(t.requestId);if(n){try{"ERROR"===t.msgType?n.reject(new Vo(t)):n.resolve(t)}catch(e){this._context.debug&&console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{this._wsResponseWait.delete(t.requestId)}if(n.skipOnMessage)return}if("PONG"!==t.msgType){var i=t.watchId&&this._watchIdClientMap.get(t.watchId);if(i)i.onMessage(t);else switch(t.watchId?this._closedWatches.has(t.watchId)?Kt(Za,_o,!0):Kt(Za,bo,!0):Kt(Za,wo,!0),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(i=this._queryIdClientMap.get(t.msgData.queryID))&&i.onMessage(t)}}else if(this._lastPingSendTS){var a=Date.now()-this._lastPingSendTS;if(a>1e4)return void(this._context.debug&&console.warn(`[realtime] untrusted rtt observed: ${a}`));this._rttObserved.length>=3&&this._rttObserved.splice(0,this._rttObserved.length-3+1),this._rttObserved.push(a)}},this.login=function(){var e=o()((function*(e,r,n){if(e=e||t._context.env||t._defaultEnvId,!r)if(e){var i=t._logins.get(e);if(i){if(i.loggedIn&&i.loginResult)return i.loginResult;if(i.loggingInPromise)return i.loggingInPromise}}else{var a=t._logins.get("");if(a&&a.loggingInPromise)return a.loggingInPromise}var s=new Promise(function(){var i=o()((function*(i,a){try{var o=yield n?Zt(t.getSignature(e,r),{timing:n,startKey:"tunnelStartTime",endKey:"tunnelEndTime",condition:{emptyKey:!0}}):t.getSignature(e,r),s=(()=>{var e,t,r=re().wx;if(r&&r.version){e=r.version.version,t=r.version.updateTime;var n=r.version.updateTime.match(/^(\d+)\.(\d+)\.(\d+)/);return{version:e,updateTime:t,updateDateInDashes:n?`${n[1]}-${n[2]}-${n[3]}`:"unknown"}}return{version:"unknown",updateTime:"unknown",updateDateInDashes:"unknown"}})(),l={watchId:void 0,requestId:Ya(),msgType:"LOGIN",msgData:{envId:o.envId,signStr:o.signStr,secretVersion:o.secretVersion,referrer:"mp",sdkVersion:s.version,dataVersion:s.updateDateInDashes}},c=yield t.send({msg:l,waitResponse:!0,skipOnMessage:!0,timeout:5e3});c.msgData.code?a(new Error(`${c.msgData.code} ${c.msgData.message}`)):i({envId:o.envId})}catch(e){a(e)}}));return function(e,t){return i.apply(this,arguments)}}()),l=e&&t._logins.get(e),c=Date.now();l?(l.loggedIn=!1,l.loggingInPromise=s,l.loginStartTS=c):(l={loggedIn:!1,loggingInPromise:s,loginStartTS:c},t._logins.set(e||"",l));try{var u=yield s,d=t._logins.get(e||"");if(d&&d===l&&d.loginStartTS===c)return l.loggedIn=!0,l.loggingInPromise=void 0,l.loginStartTS=void 0,l.loginResult=u,u;if(d){if(d.loggedIn&&d.loginResult)return d.loginResult;if(d.loggingInPromise)return d.loggingInPromise;throw new Error("ws unexpected login info")}throw new Error("ws login info reset")}catch(e){throw l.loggedIn=!1,l.loggingInPromise=void 0,l.loginStartTS=void 0,l.loginResult=void 0,e}}));return function(t,r,n){return e.apply(this,arguments)}}(),this.getSignature=function(){var e=o()((function*(e,r){if(e=e||t._context.env||t._defaultEnvId,!r&&e&&t._signatures.has(e)){var n=t._signatures.get(e);if(Date.now()<n.expireTS)return n}else 0;var i=Date.now()+6e4,a=yield function(e,t){return Bi.apply(this,arguments)}(t._context,e);if(Date.now()-i>6e4)return t.getSignature(e,r);var o={...a,expireTS:i};return t._signatures.set(o.envId,o),e||(t._defaultEnvId=o.envId),o}));return function(t,r){return e.apply(this,arguments)}}(),this.getWaitExpectedTimeoutLength=()=>this._rttObserved.length?this._rttObserved.reduce(((e,t)=>e+t))/this._rttObserved.length*1.5:5e3,this.ping=o()((function*(){var e={watchId:void 0,requestId:Ya(),msgType:"PING",msgData:null};yield t.send({msg:e}),t._context.debug&&console.log("ping sent")})),this.send=e=>new Promise(function(){var r=o()((function*(r,n){if(t._fsm.currentState!==La.CONNECTED)return n(new Error("websocket not connected"));var i,a=!1,s=!1,l=e=>{a=!0,i&&clearTimeout(i),r(e)},c=e=>{s=!0,i&&clearTimeout(i),n(e)};e.timeout&&(i=setTimeout(o()((function*(){a&&s||(yield ue(0),a&&s||c(new P("wsclient.send timedout")))})),e.timeout));try{if(t._context.debug&&console.log(`[realtime] ws send ${e.msg.msgType} (${(new Date).toLocaleString()}): `,e),!t._ws)return void c(new Error("invalid state: ws connection not exists, can not send message"));if(t._ws.readyState!==Yo)return void c(new Error(`ws readyState invalid: ${t._ws.readyState}, can not send message`));e.waitResponse&&t._wsResponseWait.set(e.msg.requestId,{resolve:l,reject:c,skipOnMessage:e.skipOnMessage}),t._ws.send({data:JSON.stringify(e.msg),success:t=>{e.waitResponse||l(t)},fail:r=>{c(r),e.waitResponse&&t._wsResponseWait.delete(e.msg.requestId)}})}catch(e){c(e)}}));return function(e,t){return r.apply(this,arguments)}}()),this.onWatchStart=(e,t)=>{this._queryIdClientMap.set(t,e)},this.onWatchClose=(e,t)=>{t&&this._queryIdClientMap.delete(t),this._watchIdClientMap.delete(e.watchId),this._virtualWSClient.delete(e),this._closedWatches.add(e.watchId),this._virtualWSClient.size||this.close(Jo.NoRealtimeListeners)},this.getEJSON=()=>this._EJSON,this._fsm=new Ja({initialState:La.DISCONNECTED,states:$a}),this._serviceContext=e.serviceContext}get _context(){return this._serviceContext}get _maxReconnect(){return this._context.appConfig.realtimeMaxReconnect}get _reconnectInterval(){return this._context.appConfig.realtimeReconnectInterval}get _totalConnectionTimeout(){return this._context.appConfig.realtimeTotalConnectionTimeout}heartbeat(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(o()((function*(){try{if(!t._ws||t._ws.readyState!==Yo)return;t._lastPingSendTS=Date.now(),yield t.ping(),t._pingFailed=0,t._pongTimeoutId=setTimeout((()=>{t._context.debug&&console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.close(Jo.HeartbeatPongTimeoutError)}),t._context.appConfig.realtimePongWaitTimeout)}catch(e){t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(Jo.HeartbeatPingError)}})),e?0:this._context.appConfig.realtimePingInterval)}clearHeartbeat(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}clearTotalReconnectTimeout(){this._totalConnectionTimeoutId&&clearTimeout(this._totalConnectionTimeoutId)}close(e){this.clearHeartbeat(),this._ws&&(this._ws.close({code:e,reason:Qo[e].name}),this._ws=void 0)}watch(e){var t={apiStartTime:Date.now()},r=!1,n=()=>{Ht({...t,apiName:e.reportAPIName})},i=e.onChange,a=e.onError;this._fsm.currentState===La.DISCONNECTED&&(this._connectionEnvId=e.envId,this.initWebSocketConnection(!1));var o=new Ho({...e,parentFSM:this._fsm,send:this.send,login:this.login,isWSConnected:this.isWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,getEJSON:this.getEJSON,getServiceContext:()=>this._context,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,timing:t,debug:this._context.debug,wsclient:this,onChange:l,onError:c});this._virtualWSClient.add(o),this._watchIdClientMap.set(o.watchId,o);var s=o.listener;return s;function l(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),u(),F.surroundThirdByTryCatch((()=>s.onChange.apply(this,e)))()}function c(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),u(),F.surroundThirdByTryCatch((()=>s.onError.apply(this,e)))()}function u(){s.onChange===l&&(s.onChange=i),s.onError===c&&(s.onError=a)}}}function es(){return(es=o()((function*(){var e=Date.now(),t=r(946);return Ht({apiName:"_realtime.importBSON",apiStartTime:e,apiEndTime:Date.now()}),t.EJSON}))).apply(this,arguments)}var ts=function(e){return e.ASC="asc",e.DESC="desc",e}({}),rs=e=>{class t{constructor(t,n){if(this.collectionName=void 0,this._query=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(H(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new Zo({serviceContext:e.serviceContext})),e.serviceContext.ws.watch({...t,envId:e.database.config.env||e.serviceContext.env,collectionName:this.collectionName,query:JSON.stringify(e.engine.QuerySerializer.encode(this._query.where||{})),limit:this._query.limit,orderBy:this._query.order?this._query.order.reduce(((e,t)=>(e[t.fieldPath]=t.order,e)),{}):void 0,queryType:bi.WHERE,reportAPIName:"cloud.db.collection.watch"})),!t)throw new I({errCode:C.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"collectionName must be provided"});this.collectionName=t,this._query=new r(n),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=n&&n.field||{}}field(e){return K(e,"object","field"),new t(this.collectionName,{...this._query.getProperties(),field:e})}where(e){return K(e,"condition","where"),this._query.where?new t(this.collectionName,{...this._query.getProperties(),where:zi.and(this._query.where,e)}):new t(this.collectionName,{...this._query.getProperties(),where:e})}orderBy(e,r){return K(e,"fieldPath","orderBy"),K(r,"order","orderBy"),new t(this.collectionName,{...this._query.getProperties(),order:[...this._query.order||[],{fieldPath:e,order:r}]})}limit(e){return K(e,"max","limit"),new t(this.collectionName,{...this._query.getProperties(),limit:e})}skip(e){return K(e,"offset","skip"),new t(this.collectionName,{...this._query.getProperties(),offset:e})}get(t){var r="collection.get",n={apiStartTime:+new Date},i=()=>Ei({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:bi.WHERE,options:Ma(this,e),instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var a=G(t),s=new Promise(function(){var e=o()((function*(e,a){try{var o=yield i();if(null!=t&&t.explain&&Dt())return void e(o);e({data:o.list,errMsg:nr(r)})}catch(e){a(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}update(t){var r="collection.update",n={apiStartTime:+new Date},i=()=>{if(K(t,"options","update"),H(t,{data:"object"}),!this._query.where)throw new I({errCode:-1,errMsg:"query condition must be provided"})},a=()=>Pi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),data:e.engine.UpdateSerializer.encode(t.data),queryType:bi.WHERE,options:{multi:!1!==t.multi,merge:!0},instanceContext:e,timing:n,explain:t.explain});var s=G(t),l=new Promise(function(){var e=o()((function*(e,o){try{i();var s=yield a();if(null!=t&&t.explain&&Dt())return e(s);e({stats:{updated:s.updated},errMsg:nr(r)})}catch(e){o(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!s)return l;l.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}remove(t){var r="collection.remove",n={apiStartTime:+new Date},i=()=>{if(!this._query.where||0===Object.keys(this._query.where).length)throw new I({errCode:-1,errMsg:"query condition must be provided and not be empty"})},a=()=>Ai({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:bi.WHERE,options:{multi:!0},instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var s=G(t),l=new Promise(function(){var e=o()((function*(e,o){try{i();var s=yield a();if(null!=t&&t.explain&&Dt())return e(s);e({stats:{removed:s.removed||0},errMsg:nr(r)})}catch(e){o(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!s)return l;l.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}count(t){var r="collection.count",n={apiStartTime:+new Date},i=()=>Mi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:bi.WHERE,instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var a=G(t),s=new Promise(function(){var e=o()((function*(e,a){try{var o=yield i();if(null!=t&&t.explain&&Dt())return e(o);e({total:o.total,errMsg:nr(r)})}catch(e){a(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}toJSON(){}}class r{constructor(e){this.where=void 0,this.offset=void 0,this.limit=void 0,this.order=void 0,this.field=void 0,this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order,this.field=e&&e.field}getProperties(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order,field:this.field}}}return t},ns="document.get",is="document.update",as="document.set",os="document.remove",ss=e=>class{constructor(t,r){if(this._id=void 0,this.collection=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(H(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new Zo({serviceContext:e.serviceContext})),e.serviceContext.ws.watch({...t,envId:e.database.config.env||e.serviceContext.env,collectionName:this.collection.collectionName,query:JSON.stringify({_id:this._id}),queryType:bi.DOC,reportAPIName:"cloud.db.document.watch"})),this.collection=t,this._id=r,null==r)throw new I({errCode:C.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"docId must not be null or undefined"});Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}field(e){return K(e,"object","field"),H(e,"object","field"),this._field=e,this}get(t){var r=this,n={apiStartTime:+new Date},i=()=>Ei({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),options:{projection:e.engine.ProjectionSerializer.encode(this._field)},queryType:bi.DOC,instanceContext:e,timing:n});var a=G(t),s=new Promise(function(){var e=o()((function*(e,t){try{var a=r._id,o=yield i();if(!o.list||!o.list.length)throw new Error(`cannot find document with _id ${a}, please make sure that the document exists and you have the corresponding access permission`);e({data:o.list[0],errMsg:nr(ns)})}catch(e){t(k(e,ns))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${ns}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(ns,t,e)})).catch((e=>{z(ns,t,e)}))}set(t){var r={apiStartTime:+new Date},n=()=>Oi({env:e.database.config.env,collectionName:this.collection.collectionName,_id:this._id,data:e.engine.encodeInternalDataType(t.data),options:{},instanceContext:e,timing:r});var i=G(t),a=new Promise(function(){var e=o()((function*(e,i){try{H(t,{data:"object"}),J({name:"options.data",target:t.data});var a=yield n();e({_id:a._id,errMsg:nr(as),stats:{updated:a.updated,created:a.created}})}catch(e){i(k(e,as))}finally{Ht({...r,apiEndTime:+new Date,apiName:`cloud.db.${as}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return a;a.then((e=>{q(as,t,e)})).catch((e=>{z(as,t,e)}))}update(t){var r={apiStartTime:+new Date},n=()=>Pi({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),data:e.engine.UpdateSerializer.encode(t.data),queryType:bi.DOC,options:{multi:!1,merge:!1},instanceContext:e,timing:r});var i=G(t),a=new Promise(function(){var e=o()((function*(e,i){try{H(t,{data:"object"}),J({name:"options.data",target:t.data}),e({stats:{updated:(yield n()).updated},errMsg:nr(is)})}catch(e){i(k(e,is))}finally{Ht({...r,apiEndTime:+new Date,apiName:`cloud.db.${is}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return a;a.then((e=>{q(is,t,e)})).catch((e=>{z(is,t,e)}))}remove(t){var r=this,n={apiStartTime:+new Date},i=()=>Ai({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),queryType:bi.DOC,options:{},instanceContext:e,timing:n});var a=G(t),s=new Promise(function(){var e=o()((function*(e,t){try{var a=r._id,o=yield i();if(0===o.removed)throw new Error(`cannot remove document with _id ${a}, please make sure that the document exists and you have the corresponding Write permission`);e({stats:{removed:o.removed||0},errMsg:nr(os)})}catch(e){t(k(e,os))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${os}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(os,t,e)})).catch((e=>{z(os,t,e)}))}toJSON(){}},ls=e=>{var t=rs(e),r=ss(e),n=$i(e);return class extends t{constructor(e){super(e),this.collectionName=void 0,this.__safe_props__=void 0,this.collectionName=e}doc(e){if(null==e)throw k({errCode:-1,errMsg:"docId must not be empty"},"collection.doc");return new r(this,e)}add(t){var r="collection.add",n={apiStartTime:+new Date},i=()=>Ci({env:e.database.config.env,collectionName:this.collectionName,data:e.engine.encodeInternalDataType(t.data),instanceContext:e,timing:n});var a=G(t),s=new Promise(function(){var e=o()((function*(e,a){try{H(t,{data:"object"}),e({_id:(yield i())._id,errMsg:nr(r)})}catch(e){a(k(e,r))}finally{Ht({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{q(r,t,e)})).catch((e=>{z(r,t,e)}))}aggregate(){return new n(this,[])}}},cs=function(e){return new us(e)};class us{constructor(e){this.regexp=void 0,this.options=void 0,H(e,{regexp:"string"},"RegExp options"),e.options&&H(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}get _internalType(){return ei}toJSON(){return{$regex:this.regexp,$options:this.options}}}var ds={},ps={};for(var hs in oi)ds[oi[hs]]=`$${oi[hs]}`;for(var fs in ti)ds[ti[fs]]=`$${ti[fs]}`;for(var gs in di)ds[di[gs]]=`$${di[gs]}`;for(var vs in fi)"undefined"!=typeof IS_SDK_PACKAGE&&"toString"===fi[vs]||(ps[fi[vs]]=`$${fi[vs]}`);function ms(e){return ds[e]||`$${e.toLowerCase()}`}function ys(e){return ps[e]||`$${e.toLowerCase()}`}ds[oi.NEQ]="$ne",ds[di.REMOVE]="$unset",ds[di.SHIFT]="$pop",ds[di.UNSHIFT]="$push",ds[oi.GEO_NEAR]="$nearSphere",ds[oi.GEO_WITHIN]="$geoWithin",ds[oi.GEO_INTERSECTS]="$geoIntersects";class _s{static encodeStages(e){return(new bs).encodeStages(e)}static encode(e){return(new bs).encodeAny(e)}}class bs{encodeStages(e){return e.map((e=>this.encodePipelineStage(e)))}encodeAny(e){return xa(e)?Ui(e)?this.encodePipeline(e):Vi(e)?this.encodePipelineStage(e):vi(e)?this.encodeAggregateCommand(e):Oa(e):u(e)?this.encodeObject(e):m(e)?e.map((e=>this.encodeAny(e))):e}encodeObject(e){var t={};for(var r in e)t[r]=this.encodeAny(e[r]);return t}encodePipeline(e){return e._stages.map((e=>this.encodeAny(e)))}encodePipelineStage(e){var t=`$${e.stage}`;return"match"===e.stage?{[t]:ws.encode(e.val)}:{[t]:this.encodeAny(e.val)}}encodeAggregateCommand(e){return{[ys(e.operator)]:this.encodeAny(e.operands[0])}}}class ws{constructor(){}static encode(e){return Ss(e)}}var Ss=e=>ai(e)?Is(e):ui(e)?As(e):Ui(e)||vi(e)||Vi(e)?_s.encode(e):u(e)?Cs(e):Oa(e),Cs=e=>{var t=Ea(e),r=[],n={[ti.OR]:0,[ti.NOR]:0,[ti.AND]:0,[ti.NOT]:0},i=function(e){var i=t[e];if(ai(i))switch(i.operator){case ti.OR:case ti.NOR:case ti.AND:n[i.operator]++,r.push({[ms(i.operator)]:i.operands.map((t=>Ss({[e]:t})))});break;case ti.NOT:var a=i.operands[0];if(ai(a))switch(a.operator){case ti.AND:n[ti.OR]++,r.push(Is(new ii(ti.OR,a.operands.map((t=>({[e]:new ii(ti.NOT,[t])}))))));break;case ti.OR:n[ti.NOR]++,r.push(Is(new ii(ti.NOR,a.operands.map((t=>({[e]:t}))))));break;case ti.NOR:n[ti.OR]++,r.push(Is(new ii(ti.OR,a.operands.map((t=>({[e]:t}))))));break;case ti.NOT:r.push(Ss({[e]:a.operands[0]}))}else r.push({[e]:Is(i)})}else ui(i)?r.push({[e]:As(i)}):r.push({[e]:Oa(i)})};for(var a in t)i(a);return ks(r)},Is=e=>{switch(e.operator){case ti.AND:if(e.operands.every((e=>ui(e)))){var t={};for(var r of e.operands)Object.assign(t,As(r));return t}return{[ms(e.operator)]:e.operands.map(Ss)};case ti.OR:case ti.NOR:return{[ms(e.operator)]:e.operands.map(Ss)};case ti.NOT:var n=ms(e.operator),i=e.operands[0];return{[n]:Ss(i)};default:return{[ms(e.operator)]:e.operands.map(Ss)}}},As=e=>{var t=ms(e.operator);switch(e.operator){case oi.EQ:case oi.NEQ:case oi.LT:case oi.LTE:case oi.GT:case oi.GTE:case oi.EXISTS:case oi.SIZE:return{[t]:Oa(e.operands[0])};case oi.IN:case oi.NIN:case oi.MOD:return{[t]:Oa(e.operands)};case oi.ALL:return{[t]:e.operands.map(Ss)};case oi.ELEM_MATCH:case oi.EXPR:return{[t]:Ss(e.operands[0])};case oi.GEO_NEAR:return{[t]:{$geometry:Oa(e.operands[0].geometry),$maxDistance:e.operands[0].maxDistance,$minDistance:e.operands[0].minDistance}};case oi.GEO_WITHIN:var r={};return e.operands[0].geometry&&(r.$geometry=Oa(e.operands[0].geometry)),e.operands[0].centerSphere&&(r.$centerSphere=Oa(e.operands[0].centerSphere)),{[t]:r};case oi.GEO_INTERSECTS:return{[t]:{$geometry:Oa(e.operands[0].geometry)}};default:return{[t]:e.operands.length>1?e.operands.map(Ss):Ss(e.operands[0])}}},ks=e=>{var t={$and:0,$or:0,$nor:0};for(var r of e)r.$and&&t.$and++,r.$or&&t.$or++,r.$nor&&t.$nor++;var n=t.$and>1||t.$or>1||t.$nor>1,i=!1,a={};for(var o of e)for(var s in o){var l=o[s];n?i?a.$and.push(o):"$and"===s||"$or"===s||"$nor"===s?(i=!0,a.$and=[o]):a[s]=l:a[s]=l}return a};class Es{constructor(){}static encode(e){return Ts(e)}}var Ts=e=>Ps(e),Ps=e=>{var t=Ea(e),r={};for(var n in t){var i=t[n];if(hi(i)){var a=ms(i.operator);switch(r[a]||(r[a]={}),i.operator){case di.SET:case di.INC:case di.MUL:case di.MIN:case di.MAX:case di.RENAME:case di.BIT:r[a][n]=Oa(i.operands[0]);break;case di.REMOVE:r[a][n]="";break;case di.PUSH:var o=void 0;o=1===i.operands.length&&u(i.operands[0])?{$each:i.operands[0].each.map(Oa),$position:i.operands[0].position,$slice:i.operands[0].slice,$sort:i.operands[0].sort}:{$each:i.operands.map(Oa)},r[a][n]=o;break;case di.UNSHIFT:var s={$each:i.operands.map(Oa),$position:0};r[a][n]=s;break;case di.POP:r[a][n]=1;break;case di.SHIFT:r[a][n]=-1;break;case di.ADD_TO_SET:r[a][n]=u(i.operands[0])&&i.operands[0].each?{$each:i.operands[0].each}:i.operands[0];break;case di.PULL:r[a][n]=ws.encode(i.operands[0]);break;case di.PULL_ALL:default:r[a][n]=Oa(i.operands[0])}}else r.$set||(r.$set={}),r.$set[n]=Oa(i)}return r};class xs{constructor(){}static encode(e){return(new xs).encodeProjection(e)}encodeProjection(e){return _i(e)?this.encodeProjectionCommand(e):"object"===c(e)?this.encodeProjectionObject(e):e}encodeProjectionCommand(e){var t=ms(e.operator);return e.operator,mi.SLICE,{[t]:e.operands[0]}}encodeProjectionObject(e){var t=Ea(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:_i(t[r])?t[r]=this.encodeProjectionCommand(t[r]):delete t[r];return t}}class Os{constructor(){}static decode(e){return(new Os).decodeData(e)}decodeData(e){switch(c(e)){case"object":return this.decodeObject(e);case"array":return e.map((e=>{if(u(e)){var t=Ra(e);return t!==e?t:this.decodeObject(e)}return e}));default:return e}}decodeObject(e){var t={...e};for(var r in t){var n=t[r];switch(c(n)){case"object":var i=Ra(n);t[r]=i!==n?i:this.decodeObject(t[r]);break;case"array":var a=this.decodeData(n);a!==n&&(t[r]=a);break;default:continue}}return t}}const Rs=function(e,t){return new(Ds(e.identifiers||{}))({context:e,config:t})};function Ms(e){return e.debug}var Ds=r=>{var n,i;return class{constructor(a){this.identifiers=void 0,this.config=void 0,this.command=void 0,this.Geo=void 0,this.serverDate=void 0,this.RegExp=void 0,this.__safe_props__=void 0;var{config:o,context:s}=a;this.identifiers=r,this.config=o||{},i=ls(n={database:this,serviceContext:s,engine:t}),o&&o.env&&H(o.env,"string"),this.command=zi,this.Geo=e,this.serverDate=Gi,this.RegExp=cs,o&&o.hasOwnProperty("debug")&&Object.defineProperties(this,{debug:{value:!0},QuerySerializer:{enumerable:!1,configurable:!1,get(){return Ms((e=n).database)?e.engine.QuerySerializer:void 0;var e},set(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get(){return Ms((e=n).database)?e.engine.UpdateSerializer:void 0;var e},set(){}},ProjectionSerializer:{enumerable:!1,configurable:!1,get(){return Ms((e=n).database)?e.engine.ProjectionSerializer:void 0;var e},set(){}},AggregateSerializer:{enumerable:!1,configurable:!1,get(){return Ms((e=n).database)?e.engine.AggregateSerializer:void 0;var e},set(){}},Decoder:{enumerable:!1,configurable:!1,get(){return Ms((e=n).database)?e.engine.Decoder:void 0;var e},set(){}}})}collection(e){return new i(e)}toJSON(){}}};function Ns(e){return{database:Rs.bind(null,e)}}var Ls="database";function Bs(e){e.registerService(function(e){var t={name:Ls,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(Ls)},appConfig:{get docSizeLimit(){return e.appConfig.db_doc_size_limit},get realtimePingInterval(){return e.appConfig.db_realtime_ping_interval},get realtimePongWaitTimeout(){return e.appConfig.db_realtime_pong_wait_timeout},get realtimeMaxReconnect(){return e.config.database.realtime.maxReconnect},get realtimeReconnectInterval(){return e.config.database.realtime.reconnectInterval},get realtimeTotalConnectionTimeout(){return e.config.database.realtime.totalConnectionTimeout},get realtimeQueryEventCacheTimeout(){return e.appConfig.db_realtime_query_event_cache_timeout}}};return{name:Ls,context:t,getAPIs:Ns.bind(null,t)}}(e))}function $s(e){class t{constructor(e){this.cloudID=void 0,this._internalType=cr,this.cloudID=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toJSON(){return this.cloudID}toString(){return this.cloudID}}return function(e){return new t(e)}}function Fs(e){class t{constructor(e){this.target=void 0,this._internalType=ur,this.target=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toString(){return JSON.stringify({target:this.target})}}return function(e){return new t(e)}}function js(e){return{CloudID:$s(),CDN:Fs()}}var Ws="utils";function Us(e){e.registerService(function(e){var t={name:Ws,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug}};return{name:Ws,context:t,getAPIs:js.bind(null,t)}}(e))}class Vs{constructor(){}}var qs="gateway.call";class zs extends Error{constructor(e,t){super(e),this.code=void 0,this.code=t}}var Gs=()=>"miniprogram"===In().env;function Hs(e){return t=>{var r=new Ks(t),n=t.domain?t.domain:`${t.id||t.appid}.preview.wxcloudrun.com`,i={name:"gateway-plugin",host:n,getMetadata:e=>({...e,host:n}),beforeRequest:e=>e,afterRequest:e=>e,beforeTunnelRequest:e=>e,afterTunnelRequest:e=>e,context:e,refreshTunnelInfo:Gs()?o()((function*(){var t=_e();return(yield e.request({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({system:t.system,wx_app_version:t.version,scene:3})})).data})):void 0};return Zs.set(r,i),r.tokenManager.invalidate(),r.exportAPI}}class Ks extends Vs{constructor(e){super(),this.options=e,this.session=void 0,this.tokenManager=new mt(this.refreshToken.bind(this),(e=>Math.max(3e4,e)),(e=>Qt(e,"3"))),this.exportAPI=void 0,this.exportAPI={refresh:this.tokenManager.updateSession.bind(this.tokenManager),call:this.call.bind(this)}}refreshToken(e){this.session=e;var t=Zs.get(this);return new Promise(((r,n)=>{t.refreshTunnelInfo?t.refreshTunnelInfo().then((e=>r(e))).catch((e=>n(e))):re()._requestSkipCheckDomain({url:`https://${t.host}/__wx__/auth?devtools_ignore=true`,method:"post",header:{"x-wx-accept-encryption":3,"x-wx-encryption-timestamp":Date.now(),"x-wx-lib-build-ts":1691076764460},data:JSON.stringify({session:e,fingerprint:"",timestamp:Date.now(),nonce:Math.random()}),success:({data:e})=>r(e),fail:e=>{n(e)}})}))}callV2(e){var t=this;return o()((function*(){var{tunnelReqDataType:r,callID:n}=yield Xr(e,`v2-${Date.now()}-${((e=21)=>{for(var t="",r=e;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t})(8)}`),i=Zs.get(t),a=i.host;e.header={...e.header,"X-WX-HTTP-HOST":a,"X-WX-HTTP-PATH":e.path},e.context.tunnelStartTime=+new Date;var{result:o}=yield en(qs,e,e.data,r,n,i.context);return Js(e,o.header,o.data),e.context.tunnelEndTime=+new Date,rr(qs,e,"v2-gw"),{...o,callID:n,errMsg:`${qs}:ok`}}))()}callV3(e){var t=this;return o()((function*(){var r,n,i=e.context.apiStartTime,a=yield t.tokenManager.getToken();e.stats.getServiceEndpoint=Date.now()-i;var o=new Uint8Array(null===(r=(n=w.wx).base64ToArrayBuffer)||void 0===r?void 0:r.call(n,a.key)),s=Zs.get(t).host;e.stats.domain=s;var l=Ne.V3.encodeRequest(o,{...e.header,"X-WX-TARGET-SERVICE":"HTTP","X-WX-HTTP-HOST":s,"X-WX-HTTP-PATH":e.path},e.method||"GET",e.data,e.stats);return e.stats.requestStartTs=Date.now(),e.stats.callid=l.callId,new Promise(((r,n)=>{try{re()._requestSkipCheckDomain({url:`https://${s}/__wx__/call?token=${a.token}&devtools_ignore=true`,method:"POST",header:{"X-WX-EV":3,"Content-Type":"application/octet-stream"},data:l.data.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,enableQuic:!0,timeout:e.timeout,success:i=>{if(e.stats||(e.stats={}),e.stats.requestSuccessTs=Date.now(),e.stats.profile=i.profile,e.stats.httpRequest=Date.now()-e.stats.requestStartTs,i.statusCode&&200!==i.statusCode){var s=Qs(i.data);n(new zs(`${qs}: fail invalid status code ${s}, status code: ${i.statusCode}, callid: ${e.stats.callid}`,i.statusCode))}else{try{Js(e,i.header,i.data)}catch(e){return void n(e)}var{header:c,body:u,statusCode:d}=Ne.V3.decodeResponse(o,new Uint8Array(i.data),e.stats);try{Js(e,c,u)}catch(i){return 85104!==i.code||e.isRetry?void n(i):void a.invalidate().then((()=>{t.call({...e,isRetry:!0}).then(r).catch(n)})).catch(n)}var p=Lr(e,u,d);rr(qs,e,"v3"),r({data:p,statusCode:d,header:c,callID:l.callId,errMsg:`${qs}:ok`})}},fail:n})}catch(e){n(e)}}))}))()}call(e){var t=this;return o()((function*(){var r=Date.now();Mr(e);var n,i=Zs.get(t),a={...e,stats:{apiStartTime:r},context:{apiStartTime:r}},o=t.tokenManager.getTokenSync();return n=2!==a.apiVersion&&o?t.callV3(a).catch((e=>{var n=Date.now();if(-9999===(null==e?void 0:e.errCode))return Ht({apiName:qs,funcName:"GatewayV3",apiStartTime:r,apiEndTime:n,tunnelStartTime:r,tunnelEndTime:n,errMsg:null==e?void 0:e.errMsg,resultStatus:2}),t.callV2(a);throw e})):t.callV2(a).catch((e=>{var n=Date.now();if(e.type===Jr)return Ht({apiName:qs,funcName:"GatewayV2",apiStartTime:r,apiEndTime:n,tunnelStartTime:a.context.tunnelStartTime||r,tunnelEndTime:a.context.tunnelEndTime||n,errMsg:"DataSizeLimitFallback",resultStatus:2}),t.callV3({...a,apiVersion:3});throw Ht({apiName:qs,funcName:"GatewayV2",apiStartTime:r,apiEndTime:n,tunnelStartTime:a.context.tunnelStartTime||r,tunnelEndTime:a.context.tunnelEndTime||n,errMsg:null==e?void 0:e.errMsg,resultStatus:2}),e})),n=function(e,t,r,n,i){var a;return null===(a=e.followRedirect)||void 0===a||a?function e(a,o){return new Promise(((s,l)=>{o.then((o=>{var c;if(Dr(o.statusCode)){var u=null!==(c=Nr.get(t))&&void 0!==c?c:0;if(u>=5)l("reach the max redirect count");else{Nr.set(t,u+1);var d="";for(var p in o.header)"location"===p.toLowerCase()&&(d=o.header[p]);if(d)if(d.startsWith("/")){var h=X(a);a.path=d,e(h,r(a)).then(s).catch(l)}else re(n.identifiers).request({url:d,method:a.method,header:a.header,data:a.data,dataType:a.dataType,responseType:a.responseType,timeout:a.timeout,success:e=>{s({...e,errMsg:`${i}:ok`})},fail:e=>{l(e.errMsg.replace(/^request/,i))}});else s(o)}}else s(o)})).catch(l)}))}(e,t):t}(e,n,t.call.bind(t),i.context,qs),Sr(n,(()=>({url:`gateway.call${e.path}`,method:e.method,headers:e.header,reqBody:ir(e.data),timestampMs:r}))),yield n}))()}}function Qs(e){if(e instanceof ArrayBuffer)try{return Pe(e)}catch(e){}return e}function Js(e,t,r){if(t["x-wx-system-error"]){var n=+t["x-wx-system-error"];throw r=Qs(r),new zs(`${qs}: fail wx system error ${r}, code: ${n}, callid: ${e.stats.callid}`,n)}if(t["x-wx-server-timing"]){var i=(t["x-wx-server-timing"]||"").split(",");i.length>=2&&(e.stats.serverStartTs=Number(i[0]),e.stats.serverEndTs=Number(i[1]))}if(t["x-envoy-upstream-service-time"]){var a=+t["x-envoy-upstream-service-time"];isNaN(a)||(e.stats.upstreamCost=a)}if(t["x-wx-mesh-upstream-service-time"]){var o=t["x-wx-mesh-upstream-service-time"].split(",");o.length>=2&&(e.stats.meshStartTs=Number(o[0]),e.stats.meshEndTs=Number(o[1]))}}function Xs(e){return{Gateway:{initRequired:!1,fn:Hs(e)}}}var Ys="services",Zs=new WeakMap;function el(e){e.registerService(function(e){var t={name:Ys,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get appid(){return e.instanceOptions.appid},appConfig:{}};return{name:Ys,context:t,getAPIs:Xs.bind(null,t)}}(e),"services")}function tl(e,t){e.fail&&e.fail(t),e.complete&&e.complete(t),e.fail=void 0,e.complete=void 0}var rl=function(){var e=o()((function*(e){try{if(!e.appid)throw new Error("missing appid");var t={appid:e.appid,data:e.reqData},r=(yield new Promise(((r,n)=>re().wx.request({url:`${e.url||"https://servicewechat.com/wxa-qbase/jsoperatewxdata"}`,method:"POST",data:t,success:r,fail:n})))).data;0===r.base_resp.ret?function(e,t){e.success&&e.success(t),e.complete&&e.complete(t),e.success=void 0,e.complete=void 0}(e,{data:JSON.parse(r.data),rawData:r.data}):tl(e,{errMsg:`operateWXData:fail base_resp.ret ${r.base_resp.ret}`})}catch(t){tl(e,t)}}));return function(t){return e.apply(this,arguments)}}(),nl={_operateWXData:rl,invokeOperateWXData:rl};function il(e){return{}}var al="app";var ol={REALTIME_DB_MAX_RECONNECT:5,REALTIME_DB_WS_RECONNECT_INTERVAL:5e3,REALTIME_DB_TOTAL_CONNECTION_TIMEOUT:1/0};const sl={db_doc_size_limit:524288,db_realtime_ping_interval:15e3,db_realtime_pong_wait_timeout:15e3,db_realtime_query_event_cache_timeout:18e4,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880,call_function_client_poll_timeout:15e3,call_function_valid_start_retry_gap:6e4,call_container_poll_max_retry:10,call_container_client_poll_timeout:15e3,call_container_valid_start_retry_gap:6e4,call_container_max_req_data_size:5242880,call_container_use_private_http:0,rpm_per_client_limit:1e3};var ll=function(e){return e[e.AutoRecording=1]="AutoRecording",e[e.SdkRecording=2]="SdkRecording",e}(ll||{});function cl(){var e,t,r,n,i;return(null==Mt||null===(e=Mt.appContactInfo)||void 0===e||null===(t=e.wxob_meta_data)||void 0===t?void 0:t.wxob_mode)===ll.AutoRecording||(null==Mt||null===(r=Mt.appContactInfo)||void 0===r||null===(n=r.stablePassThroughInfo)||void 0===n||null===(i=n.wxob_meta_data)||void 0===i?void 0:i.wxob_mode)===ll.AutoRecording}function ul(){var e,t,r,n,i;return(null==Mt||null===(e=Mt.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t||null===(r=t.wxob_meta_data)||void 0===r?void 0:r.wxob_mode)===ll.SdkRecording||(null==Mt||null===(n=Mt.appContactInfo)||void 0===n||null===(i=n.wxob_meta_data)||void 0===i?void 0:i.wxob_mode)===ll.SdkRecording}function dl(){var e,t,r;if(null!=Mt&&null!==(e=Mt.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&t.wxob_meta_data){var n,i,a=null==Mt||null===(n=Mt.appContactInfo)||void 0===n||null===(i=n.stablePassThroughInfo)||void 0===i?void 0:i.wxob_meta_data;return{isWhitelistMaskMode:a.is_whitelist_mask_mode,proportion:a.proportion,encrypt:a.encrypt,cloudServiceProvider:a.cloud_service_provider,minVersion:a.min_available_sdk_version,versionBlackList:a.sdk_version_black_list,exposureSelectorList:a.exposure_selector_list,pluginList:a.plugin_list}}if(void 0!==(null==Mt||null===(r=Mt.appContactInfo)||void 0===r?void 0:r.wxob_meta_data)){var o,s=null==Mt||null===(o=Mt.appContactInfo)||void 0===o?void 0:o.wxob_meta_data;return{isWhitelistMaskMode:s.is_whitelist_mask_mode,proportion:s.proportion,encrypt:s.encrypt,cloudServiceProvider:s.cloud_service_provider,minVersion:s.min_available_sdk_version,versionBlackList:s.sdk_version_black_list,exposureSelectorList:s.exposure_selector_list,pluginList:s.plugin_list}}}function pl(){var e=Mt.system;if(!e||"ios"!==Mt.platform)return!0;var[t,r]=e.split(" ");return"ios"!==t.toLowerCase()||function(e,t){for(var r=e.split(".").map(Number),n=t.split(".").map(Number),i=0;i<r.length;++i){if(n.length===i)return 1;if(r[i]!==n[i])return r[i]>n[i]?1:-1}return r.length!==n.length?-1:0}(r,"13.4")>=0}function hl(e,t){return new Promise(((r,n)=>{(t||re()).invokeOperateWXData({...e,success:r,fail:n})}))}var fl=function(e){return e[e.LayoutCost=1]="LayoutCost",e[e.EncryptCost=2]="EncryptCost",e[e.CompressCost=3]="CompressCost",e[e.UploadCosCost=4]="UploadCosCost",e[e.UploadWxCost=5]="UploadWxCost",e[e.TaskCost=6]="TaskCost",e[e.LongTaskCost=7]="LongTaskCost",e[e.WebviewEvent=30]="WebviewEvent",e[e.AppserviceEvent=31]="AppserviceEvent",e[e.Error=32]="Error",e[e.Unsupport=33]="Unsupport",e[e.Task=34]="Task",e[e.LongTask=35]="LongTask",e[e.CosInfoFetch=37]="CosInfoFetch",e[e.CosInfoRefetch=38]="CosInfoRefetch",e[e.UploadCosSucess=39]="UploadCosSucess",e[e.UploadCosFailure=40]="UploadCosFailure",e[e.UploadWxSucess=41]="UploadWxSucess",e[e.UploadWxFailure=42]="UploadWxFailure",e[e.AutoSetup=43]="AutoSetup",e[e.SdkSetup=44]="SdkSetup",e[e.MissSample=45]="MissSample",e[e.CosAppend=46]="CosAppend",e[e.CosPut=47]="CosPut",e[e.CosHead=48]="CosHead",e[e.CommonAssetMiss=49]="CommonAssetMiss",e[e.CommonAssetHit=50]="CommonAssetHit",e[e.DbClose=51]="DbClose",e[e.UploadCosExpired=52]="UploadCosExpired",e[e.Teardown=53]="Teardown",e[e.Resetup=54]="Resetup",e[e.UploadWxSize=80]="UploadWxSize",e[e.UploadCosSize=81]="UploadCosSize",e[e.UploadCommonSize=82]="UploadCommonSize",e[e.HitCommonSize=83]="HitCommonSize",e}({}),gl=function(e){return e[e.Setup=1]="Setup",e[e.AppserviceStart=2]="AppserviceStart",e[e.WebviewStart=3]="WebviewStart",e[e.AppserviceCollect=4]="AppserviceCollect",e[e.WebviewCollect=5]="WebviewCollect",e[e.AppserviceEncode=6]="AppserviceEncode",e[e.WebviewEncode=7]="WebviewEncode",e[e.AppserviceReport=8]="AppserviceReport",e[e.WebviewReportCos=9]="WebviewReportCos",e[e.WebviewClean=10]="WebviewClean",e[e.WebviewReportWx=11]="WebviewReportWx",e[e.WebviewReport=12]="WebviewReport",e[e.AppserviceReportCos=13]="AppserviceReportCos",e[e.AppserviceReportWx=14]="AppserviceReportWx",e[e.CommonUploadError=15]="CommonUploadError",e[e.AppserviceTeardown=16]="AppserviceTeardown",e[e.TeardownApi=17]="TeardownApi",e[e.WebviewTeardown=18]="WebviewTeardown",e[e.Resetup=19]="Resetup",e[e.Debug=1e3]="Debug",e}({});function vl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=o()((function*(e,t){try{var r,n=yield hl({apiName:"webapi_getcloudstoragefederationtoken",reqData:{project_key:null!=t?t:null===(r=Mt.accountInfo)||void 0===r?void 0:r.appId,object_prefix:`${e}*`}});if(void 0===n.data)throw new Error("no cos info");if(!function(e){if(_l(e.bucket)||_l(e.region)||_l(e.secretid)||_l(e.secretkey)||_l(e.token))return!1;if(yl(e.bucket)||yl(e.region))return!1;return!0}(n.data))throw new Error("invalid cos info");if(n.data.expire_timestamp){var i=1e3*n.data.expire_timestamp-Date.now()-3e5;setTimeout(o()((function*(){try{var r=yield vl(e,t);re().count(fl.CosInfoRefetch),re().resetCosInfo({...r,prefix:e})}catch(e){re().handleWxobsError(gl.Setup,e,"refetch cos info"),re().count(fl.Error)}})),i>0?i:1e3)}return n.data}catch(e){throw e}}))).apply(this,arguments)}function yl(e){return e.includes(".")||e.includes("?")||e.includes("/")||e.includes("#")}function _l(e){return!e||""===e.trim()}var bl=null,wl={notSdkRecordingMode:"\n[体验分析] 当前处于非 SDK 采集模式，请前往体验分析控制台【设置-采集配置】切换模式\n（开发者工具请切换后重启开发者工具尝试；真机测试请重新扫码打开小程序）"},Sl={autoStart:!0,isWhitelistMaskMode:!0,exposureSelectorList:[],shouldCapturePage:()=>!0};class Cl{constructor(e){var t,r,n,i;if(this.attrs={},this.encrypt=void 0,this.cloudServiceProvider=void 0,this.param=void 0,this.prefix=void 0,this.setupState=void 0,this.getUuid=()=>{var e;return null!==(e=this.param.uuid)&&void 0!==e?e:null},this.setAttrs=e=>{if(e){for(var t of Object.keys(e)){var r=e[t];"string"==typeof t&&"string"==typeof r?this.attrs[t]=r:console.warn("[wxobs appservice]the type of attributes must be string")}this.uploadAttrs()}},this.teardown=o()((function*(){console.log("[wxobs appservice]obs is teardowning"),yield re().teardownWxobs(),console.log("[wxobs appservice]obs is teardowned"),re().count(fl.Teardown)})),this.uploadAttrs=()=>{Object.keys(this.attrs).length>0&&re().emitCustomAttrEvent({...this.attrs})},this.param=e,this.cloudServiceProvider=e.cloudServiceProvider,this.encrypt=e.encrypt,null!==(t=dl())&&void 0!==t&&t.versionBlackList&&Mt.sdkVersion&&dl().versionBlackList.indexOf(Mt.sdkVersion)>=0)throw new Error("[wxobs as] this sdk version is blocked");this.prefix=`${(r=new Date).getFullYear().toString()}${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getHours().toString().padStart(2,"0")}${r.getMinutes().toString().padStart(2,"0")}`,this.param.uuid=`${this.prefix}/${"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}`,this.setupState=new Promise(((e,t)=>{n=e,i=t})),this.setup().then((()=>n())).catch((e=>i(e)))}setup(){var e=this;return o()((function*(){var t,r=function(){var e,t;if(null===(e=Mt.accountInfo)||void 0===e||!e.appId)throw new Error("[wxobs as]appid is empty");return null===(t=Mt.accountInfo)||void 0===t?void 0:t.appId}();re().count(fl.CosInfoFetch);var n=yield vl(e.prefix,r),i={...Sl,...e.param};if(!pl())throw re().count(fl.Unsupport),new Error("[wxobs as] this system version is not supported");re().setupWxobs({projectId:r,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,cosInfo:{...n,prefix:e.prefix},...i,uuid:i.uuid,dataAttrs:null===(t=e.param.captureDataAttrs)||void 0===t||t}),console.log("[wxobs appservice] obs is setup"),e.setAttrs(e.param.attrs)}))()}}function Il(e){if(ul())if(bl)console.warn("[wxobs appservice] already setup");else try{var t=dl();return console.log("[wxobs as] sdk record",{param:e,remoteParam:t}),bl=new Cl({...e,encrypt:null==t?void 0:t.encrypt,cloudServiceProvider:null==t?void 0:t.cloudServiceProvider,exposureSelectorList:null==t?void 0:t.exposureSelectorList,pluginList:null==t?void 0:t.pluginList}),re().count(fl.SdkSetup),bl.getUuid()}catch(e){return re().handleWxobsError(gl.Setup,e),null}else console.error(wl.notSdkRecordingMode)}function Al(){return(Al=o()((function*(e){var t={};if(!ul())return console.error(wl.notSdkRecordingMode),t.errMsg="sdk recording mode is not supported",t;if(bl)return t.errMsg="recording is already setup",t;try{var r,n=dl();return console.log("[wxobs as] sdk record"),bl=new Cl({...e,encrypt:null==n?void 0:n.encrypt,cloudServiceProvider:null==n?void 0:n.cloudServiceProvider,exposureSelectorList:null==n?void 0:n.exposureSelectorList,pluginList:null==n?void 0:n.pluginList}),yield bl.setupState,t.sessionId=null!==(r=bl.getUuid())&&void 0!==r?r:void 0,re().count(fl.SdkSetup),t}catch(e){return t.errMsg=`setup failed: ${e.message}`,re().handleWxobsError(gl.Setup,e),t}}))).apply(this,arguments)}function kl(){return El.apply(this,arguments)}function El(){return(El=o()((function*(){if(bl)try{yield bl.teardown(),bl=null}catch(e){re().handleWxobsError(gl.TeardownApi,e),console.error("[wxobs appservice] teardown failed",e)}else console.warn("[wxobs appservice] not setup")}))).apply(this,arguments)}function Tl(){if(cl()){var e=dl();if(console.log("[wxobs appservice]auto recording mode",e),void 0!==e)if(bl)console.warn("[wxobs appservice]already setup");else try{var{proportion:t,isWhitelistMaskMode:r,encrypt:n,cloudServiceProvider:i,exposureSelectorList:a,pluginList:o}=e;t>=100*Math.random()?(console.log("[wxobs as] auto record",{param:e}),bl=new Cl({isWhitelistMaskMode:r,encrypt:n,cloudServiceProvider:i,exposureSelectorList:a,pluginList:o}),re().count(fl.AutoSetup)):re().count(fl.MissSample)}catch(e){re().handleWxobsError(gl.Setup,e)}else console.warn("[wxobs appservice]can not access recording param")}}function Pl(){return xl.apply(this,arguments)}function xl(){return(xl=o()((function*(){try{if(!bl)return void console.warn("[wxobs appservice] not setup");var e=bl.param,t=cl(),r=ul();if(r&&!e.autoSplitSession)return void(null==ce||ce.log("[wxobs appservice] autoSplitSession is not true cancel resetup"));null==ce||ce.log("[wxobs appservice] resetup"),re().count(fl.Resetup),yield kl(),setTimeout((()=>{try{if(t)Tl();else if(r){var n,i=Il(e);if(!i)throw new Error("setup failed: no uuid");null===(n=e.newSessionCallback)||void 0===n||n.call(e,{sessionId:i})}else console.warn("[wxobs appservice] unknown recording mode")}catch(e){re().handleWxobsError(gl.Resetup,e)}}),100)}catch(e){re().handleWxobsError(gl.Resetup,e)}}))).apply(this,arguments)}try{var Ol;null===(Ol=x)||void 0===Ol||Ol.onInitReady((()=>{try{Mt.onReady((()=>{Tl(),re().onLongTimeNoSee(Pl)}))}catch(e){null==ce||ce.warn(e)}}))}catch(e){}const Rl={setup:Il,asyncSetup:function(e){return Al.apply(this,arguments)},setAttrs:function(e){bl?bl.setAttrs(e):console.warn("[wxobs appservice] not setup")},teardown:kl};var Ml={},Dl=(e={})=>{var{sdk:t}=e,r=e.identifiers||{};return t&&ne(r,t),new Ll(r,!1)},Nl=(e={})=>Dl(e).exportAPI;class Ll{constructor(e,t){var r=this;this.inited=!1,this.isInstance=void 0,this.services={},this.apiServiceMap={},this.plugins=[],this.meta=void 0,this.config=void 0,this.identifiers=void 0,this.debug=!1,this.request=void 0,this.exportAPI=void 0,this.appConfig=void 0,this.apiPermissions=void 0,this.runtimeInfo=void 0,this.serviceEndpoint=void 0,this.authStorage=void 0,this.testSpeed=o()((function*(){var e,t,n=+new Date,i=n;return je((t=(e={cloud:r,apiName:"tcbapi_testspeed",serializedReqData:null}).cloud,{apiName:"qbase_commapi",data:{qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:{env:e.env},qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`},cloud:t}),{fireOnIdle:!0,onFire:()=>{n=+new Date,i=n}}).then((e=>{Ht({apiName:"cloud.testspeed",apiEndTime:+new Date,apiStartTime:n,tunnelEndTime:+new Date,tunnelStartTime:i,tunnelTimeNoCSNetCost:e.data.baseresponse.stat.qbase_cost_time})})).catch((e=>{0}))})),this.identifiers=e,this.isInstance=t,this.runtimeInfo=In(),this.serviceEndpoint=new It(e),this.request=We({cloud:this});var n,i=this;this.exportAPI={init:this.init.bind(this),obs:Rl},this.isInstance||(this.exportAPI.Cloud=function(t){return new Bl(e,i,t).exportAPI}),Or(n=this),Bn(n),Bs(n),Us(n),wn(n),el(n),this.meta={session_id:Date.now()+""},this.serviceEndpoint.setMetaData(this.getMetaData()),this.serviceEndpoint.setTunnelRequest(this.request),this.config={database:$l()},this.appConfig={...sl},this.apiPermissions={};try{Mt.onReady((()=>{setTimeout((()=>{(()=>{if(!Nt)try{var e=re();e.wx.onAppShow&&e.wx.onAppShow((()=>{$t=Date.now()})),e.wx.getNetworkType({success:e=>{Ft=e.networkType},complete:()=>{Nt=!0,Wt()}}),e.wx.onNetworkStatusChange((e=>{Nt||(Nt=!0,Wt()),Ft=e.networkType}))}catch(e){}})()}),2e3),Rr()}))}catch(e){}}getMetaData(){if(!this.meta.sdk_version){var e=re(this.identifiers);if(e){var t=e.wx;t&&t.version&&("miniprogram"===this.runtimeInfo.env?this.meta.sdk_version=`wx-miniprogram-sdk/${t.version.version} (${Date.parse(`${t.version.updateTime} GMT+0800`)} platform/${this.runtimeInfo.platform}})`:this.meta.sdk_version=`wx-web-sdk/undefined (${Date.parse("undefined GMT+0800")})`)}Mt.onReady((()=>{var e;this.meta.filter_user_info="singlePage"===(null===(e=Mt.appLaunchInfo)||void 0===e?void 0:e.mode)}))}return this.meta}getConfig(){return this.config}getEnvForService(e){if(this.isInstance)return this.instanceOptions.resourceEnv;var t=this.config;if(t.env)switch(c(t.env)){case"string":return t.env;case"object":return t.env[e];default:return}}checkAPIPermission(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]}init(e={}){this.inited=!0,this.initConfig(e);try{Ce(500,this.identifiers)}catch(e){null==ce||ce.log("privateGetBackgroundFetchData error",e)}return Promise.all([this.sendInitRequest().then((()=>{Math.random()<.1&&this.testSpeed()}))]).then((()=>{}))}initConfig(e){this.config=JSON.parse(JSON.stringify(e)),this.plugins=(e.plugins||[]).map((e=>Zs.get(e))).filter((e=>!!e)),this.config.database?this.config.database=l(this.config.database,$l()):this.config.database=$l(),"sdk"===this.runtimeInfo.platform&&ae(nl)}sendInitRequest(){var e=this;return o()((function*(){var t="string"==typeof e.config.env?e.config.env:void 0,r=JSON.stringify({trace_user:!1!==e.config.traceUser,env:t,region:e.config.region}),n=+new Date,i=n;try{var a=Ml[t||""],o=Boolean(a);if(!a)a=(yield e.request({...e.config,apiName:"tcbapi_init",serializedReqData:r,env:t})).data,Ml[t||""]=a;var s=+new Date;e.appConfig={...e.appConfig,...a.config},$e.updateLimit(e.appConfig.rpm_per_client_limit);for(var l=a.tcb_api_list||[],c=0,u=l.length;c<u;c++)e.apiPermissions[l[c].apiname]=l[c].status;o||Ht({apiName:"cloud.init",apiEndTime:+new Date,apiStartTime:n,tunnelEndTime:s,tunnelStartTime:i,tunnelTimeNoCSNetCost:a.baseresponse.stat.qbase_cost_time})}catch(e){console.error("cloud init error: ",e)}}))()}registerService(e,t){this.services[e.name]=e;var r=e.getAPIs();for(var n in r)if(this.apiServiceMap[n]=e.name,"function"==typeof r[n])this.registerFunction(n,!0,r[n],t);else{var{initRequired:i,fn:a}=r[n];this.registerFunction(n,i,a,t)}}registerFunction(e,t,r,n){var i=this,a=this.exportAPI;n&&(this.exportAPI[n]={},a=this.exportAPI[n]),a[e]=t?function(){if(!i.inited)throw new I({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。"});if(!i.checkAPIPermission(e))throw new I({errCode:C.SDK_API_PERMISSION_DENIED,errMsg:C[C.SDK_API_PERMISSION_DENIED]});return r.apply(i,arguments)}:r}toJSON(){}}class Bl extends Ll{constructor(e,t,r){if(super(e,!0),this.defaultInstance=void 0,this.instanceOptions=void 0,this.webRequest=void 0,this._webCurrentRefreshTokenPromise=void 0,"web"===this.runtimeInfo.env){if(!r.identityless&&!r.appid)throw new Error("appid must be provided");if(!r.resourceAppid)throw new Error("resourceAppid must be provided")}if(!r.resourceEnv)throw new Error("resourceEnv must be provided");if(r.config||(r.config={}),this.defaultInstance=t,this.instanceOptions=JSON.parse(JSON.stringify(r)),this.meta=t.meta,this.apiPermissions=t.apiPermissions,this.instanceOptions.config.database=l($l(),this.instanceOptions.config.database||{}),"web"===this.runtimeInfo.env){if(this.exportAPI.init=this.webInit.bind(this),this.webRequest=(0,Sn.getBoundAuthRequest)(this),this.registerService((0,Sn.createWebService)(this)),!this.instanceOptions.identityless&&(this.authStorage=this.defaultInstance.authStorage,!this.authStorage))throw new Error("authStorage not found")}else"sdk"===this.runtimeInfo.env?(this.exportAPI.init=this.webInit.bind(this),this.registerService((i={name:al,identifiers:(n=this).identifiers,request:n.request,isInstance:n.isInstance,get debug(){return n.debug},get env(){return n.getEnvForService(al)},cloud:n,appConfig:{}},{name:al,context:i,getAPIs:il.bind(null,i)})),this.instanceOptions.identityless=!0):this.exportAPI.init=this.miniprogramInit.bind(this);var n,i;this.instanceOptions.resourceAppid&&(this.exportAPI.refreshAuth=this.refreshAuth.bind(this))}miniprogramInit(){var e=()=>super.init,t=this;return o()((function*(){if(!t.inited){if(t.instanceOptions.resourceAppid){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}e().call(t)}}))()}webInit(){var e=()=>super.init,t=this;return o()((function*(){if(!t.inited){if(!t.instanceOptions.identityless){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(t.sendInitRequest().then((()=>{t.testSpeed()})),e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}t.inited=!0}}))()}webRefreshToken(){var e=this;return o()((function*(){return e._webCurrentRefreshTokenPromise||(e._webCurrentRefreshTokenPromise=new Promise(function(){var t=o()((function*(t,r){try{var n=(yield e.webRequest({url:"/refresh_token",method:"POST",json:{appid:e.instanceOptions.appid,refresh_token:e.authStorage.getItem("refreshToken")}})).data;e.authStorage.setItem("appid",n.access_token),t()}catch(e){r(e)}finally{e._webCurrentRefreshTokenPromise=void 0}}));return function(e,r){return t.apply(this,arguments)}}())),e._webCurrentRefreshTokenPromise}))()}refreshAuth(){var e=JSON.stringify({resource_appid:this.instanceOptions.resourceAppid,resource_env:this.instanceOptions.resourceEnv}),t=+new Date,r=t,n=this.request({apiName:"tcbapi_getenvauth",serializedReqData:e});return n.then((e=>{var n=+new Date;Ht({apiName:"cloud.refreshAuth",apiEndTime:+new Date,apiStartTime:t,tunnelEndTime:n,tunnelStartTime:r})})),n}}function $l(){return{realtime:{maxReconnect:ol.REALTIME_DB_MAX_RECONNECT,reconnectInterval:ol.REALTIME_DB_WS_RECONNECT_INTERVAL,totalConnectionTimeout:ol.REALTIME_DB_TOTAL_CONNECTION_TIMEOUT}}}var Fl=Symbol("CDN");class jl{constructor(e){this.symbol=Fl,this.options=void 0,this.options=e}}function Wl(e,t){return new Promise(((r,n)=>{(t||re()).uploadToCommonCDN({...e,success:r,fail:n})}))}var Ul=function(){var e=o()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===Fl?void r.push(new Promise(((r,n)=>{var a,o={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;if("Object"===(a=s.options,Object.prototype.toString.call(a).slice(8,-1))){if(!s.options.filePath)throw new Error("filePath must be provided");o.filePath=s.options.filePath}else o.fileData=s.options;r(Wl(o,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n,i,a,o=JSON.stringify(e.data,((e,r)=>r&&r.symbol===Fl&&t.has(r)?t.get(r):r)),{data:s}=yield hl({apiName:"webapi_servicemarket_jsapi_comm",reqData:{service_id:e.service,api_name:e.api,data:o,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:1}},e.sdk);try{var l=s;if(n=l.request_id,0===l.errcode)i=JSON.parse(l.data);else{var c=`invokeService:fail ${l.errcode} ${l.errmsg} (requestId: ${n})`;(a=new Error(c)).errCode=l.errcode,a.errMsg=c,a.requestId=n}}catch(p){var u=`invokeService:fail inner protocol parse failed (requestId: ${n||"empty"})`;(a=new Error(u)).errCode=-1,a.errMsg=u,a.requestId=n}if(a)throw a;return{errMsg:"invokeService:ok",data:i,requestId:n}}catch(e){var d="invokeService:fail ";if(e&&e.errMsg&&e.err_code){d+=e.errMsg;var p=new Error(d+`(err_code ${e.err_code})`);throw p.errCode=e.err_code,p}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}}));return function(t){return e.apply(this,arguments)}}(),Vl=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e[e.PreResp=3]="PreResp",e[e.FinalResp=4]="FinalResp",e}({}),ql=function(e){return e[e.None=0]="None",e[e.SysErr=1]="SysErr",e[e.Timeout=2]="Timeout",e}({}),zl=function(e){return e[e.Sync=0]="Sync",e[e.LongAsync=2]="LongAsync",e}({}),Gl={SM_EXCEED_MAX_TIMEOUT_POLL_RETRY:100,SM_EMPTY_CALL_RESULT:101,SM_EXCEED_MAX_POLL_RETRY:102,SM_PROVIDER_EXECUTION_ERROR:103,SM_POLL_RESULT_EXPIRED:104,SM_EMPTY_POLL_RESULT_BASE_RESP:105,SM_POLL_RESULT_BASE_RESP_RET_ABNORMAL:106,SM_UNKNOWN_SCENE:107,SM_SYSTEM_ERROR:108},Hl="exceed max timeout retry",Kl="empty call result",Ql="exceed max poll retry",Jl="invokeService",Xl=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},Yl=e=>e.join("->"),Zl=function(){var e=o()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===Fl?void r.push(new Promise(((r,n)=>{var a,o={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;if("Object"===(a=s.options,Object.prototype.toString.call(a).slice(8,-1))){if(!s.options.filePath)throw new Error("filePath must be provided");o.filePath=s.options.filePath}else o.fileData=s.options;r(Wl(o,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n=JSON.stringify(e.data,((e,r)=>r&&r.symbol===Fl&&t.has(r)?t.get(r):r)),i=`${Math.random()}_${Date.now()}`;if(e.async){var a={service_id:e.service,api_name:e.api,data:n,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:Vl.CALL,retry_reason:ql.None,req_type:zl.LongAsync},s=(yield hl({apiName:"webapi_servicemarket_jsapi_comm",reqData:a},e.sdk)).data;if(s.scene===Vl.FinalResp&&0===s.errcode)return{errMsg:"invokeService:ok",requestId:s.request_id};var l=k({errCode:Gl.SM_SYSTEM_ERROR,errMsg:`requestID ${s.request_id}, error message ${s.errmsg||"unknown"} (callid ${i})`},Jl);throw l.requestID=s.request_id,l}var{result:c,requestID:u}=yield function(e,t,r){return h.apply(this,arguments)}(e,n,i);return{errMsg:"invokeService:ok",data:c,requestId:u}}catch(e){var d="invokeService:fail ";if(e&&e.errMsg&&e.err_code){d+=e.errMsg;var p=new Error(d+`(err_code ${e.err_code})`);throw p.errCode=e.err_code,p}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}function h(){return h=o()((function*(e,t,r){return new Promise(((n,i)=>{var a=[Xl("start")],{resolve:o,reject:s}=function(e,t,r){var n=t=>{e.push(Xl(`app ${t}`))};me(n);var i=e=>{ye(n),t(e)},a=e=>{ye(n),r(e)};return{resolve:i,reject:a}}(a,n,i);f({param:e,data:t,callID:r,scene:Vl.CALL,retryReason:ql.None,tryCount:50,systemErrorRetry:2,timeoutErrorRetry:2,trace:a,resolve:o,reject:s})}))})),h.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=o()((function*(t){var{param:r,data:n,callID:i,scene:a,retryReason:s,tryCount:l,trace:c,systemErrorRetry:u,timeoutErrorRetry:d,resolve:p,reject:h}=t,g={service_id:r.service,api_name:r.api,data:a===Vl.CALL?n:void 0,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:a,retry_reason:s},v=!1,m=!1,y=()=>{clearTimeout(b),m=!0},_=+new Date,b=setTimeout(o()((function*(){if(!(+new Date-_>2e4&&(yield ue(),m))){if(!Dt()&&+new Date-_>60)return c.push(Xl("timeout, exceed max retry gap")),h(k({errCode:Gl.SM_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${i}) (trace: ${Yl(c)})`},Jl));v=!0,t.timeoutErrorRetry>0?(c.push(Xl("timeout, retry")),f({...t,scene:a,retryReason:ql.Timeout,tryCount:l-1,timeoutErrorRetry:d-1})):(c.push(Xl("timeout, abort")),h(k({errCode:Gl.SM_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`${Hl} (callId: ${i}) (trace: ${Yl(c)})`},Jl)))}})),2e4);try{var w=yield hl({apiName:"webapi_servicemarket_jsapi_comm",reqData:g},e.sdk);try{if(v)return;y();var S=w.data;if(!S&&w.rawData)try{S=JSON.parse(w.rawData)}catch(e){}if(!S)return c.push(Xl("empty resp")),h(k({errCode:Gl.SM_EMPTY_CALL_RESULT,errMsg:Kl},Jl));if(S.scene!==Vl.PreResp){if(S.scene===Vl.FinalResp){if(0!==S.errcode){var C=k({errCode:Gl.SM_PROVIDER_EXECUTION_ERROR,errMsg:`requestID ${S.request_id}, error message ${S.provider_errmsg||"unknown"} (callid ${i})`},Jl);return C.requestID=S.request_id,h(C)}var I=S.data;try{I=JSON.parse(I)}catch(e){}return p({result:I,requestID:S.request_id})}return c.push(Xl("unexpected scene")),h(k({errCode:Gl.SM_UNKNOWN_SCENE,errMsg:`unknown scene ${S.scene} (callId: ${i}) (trace: ${Yl(c)})`},Jl))}if(!(l>=0))return c.push(Xl("too many polls, abort")),h(k({errCode:Gl.SM_EXCEED_MAX_POLL_RETRY,errMsg:`${Ql} (callId: ${i}) (trace: ${Yl(c)})`},Jl));c.push(Xl("normal poll")),f({...t,scene:Vl.POLL,retryReason:ql.None,tryCount:l-1})}catch(e){h(k({errCode:Gl.SM_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${i})`},Jl))}}catch(e){if(v)return;y();var A=e instanceof Error?e:JSON.stringify(e);e&&e.operateWXDataFail&&u>0?(c.push(Xl(`system error (${A}), retry`)),f({...t,scene:a,retryReason:ql.SysErr,tryCount:l-1,systemErrorRetry:u-1})):(c.push(Xl(`system error (${A}), abort`)),h(k(`${A} (callId: ${i}) (trace: ${Yl(c)})`,Jl)))}})),g.apply(this,arguments)}}));return function(t){return e.apply(this,arguments)}}();function ec(e){return tc.apply(this,arguments)}function tc(){return(tc=o()((function*(e){var t=(yield hl({apiName:"webapi_servicemarket_jsapi_retrieve",reqData:{request_id:e.requestId}},e.sdk)).data;if(0===t.errcode)return t.provider_errmsg?{errCode:0,errMsg:"getAsyncResult:fail provider execution error",status:t.status,providerErrMsg:t.provider_errmsg,requestId:t.request_id}:{errCode:0,errMsg:"getAsyncResult:ok",data:JSON.parse(t.data),status:t.status,requestId:t.request_id};var r=new Error(`getAsyncResult:fail requestID ${t.request_id}, error message ${t.errmsg||"unknown"}`);throw r.errCode=t.errcode,r.errMsg=t.errmsg,r}))).apply(this,arguments)}var rc="invokeService",nc="getAsyncResult",ic=e=>G(e)?ac(e):Dt()&&!e.async?Ul(e):Zl(e),ac=e=>{(Dt()&&!e.async?Ul(e):Zl(e)).then((t=>{q(rc,e,t)})).catch((t=>{z(rc,e,t)}))},oc=e=>G(e)?sc(e):ec(e),sc=e=>{ec(e).then((t=>{q(nc,e,t)})).catch((t=>{z(nc,e,t)}))};function lc(e={}){var{sdk:t}=e;return{invokeService:e=>ic({...e,sdk:t}),getAsyncResult:e=>oc({...e,sdk:t}),CDN:jl}}})(),u=n})();var g=!1,y,w;(()=>{var e={27:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{AnimationStatus:()=>ct,Context:()=>z.Context,CurveAnimation:()=>ht,Curves:()=>ut,Easing:()=>qe,RGBtoHSV:()=>he,addNavigatorInfoIfNeeded:()=>vt,addRouteBuilder:()=>wt,blue:()=>de,cancelAnimation:()=>ke,checkPluginState:()=>C,checkWorkletFunc:()=>y,chooseRenderMode:()=>w,clamp:()=>pt,convertToHSVA:()=>_e,createAnimatedStyle:()=>at,createAnimatedStyleForWeb:()=>ot,createRouteContext:()=>mt,decay:()=>He,defineAnimation:()=>Ae,delay:()=>Ke,derived:()=>st,disableMapper:()=>j,enableMapper:()=>F,genRouteConfig:()=>It,getRouteBuilder:()=>Ct,getRouteContext:()=>At,green:()=>ue,hsvToColor:()=>ge,initialUpdaterRun:()=>Se,isColor:()=>me,isConfigured:()=>I,isConfiguredCheck:()=>A,lerp:()=>dt,makeFunctionAsync:()=>_,makeMutable:()=>D,makeRemote:()=>N,makeShareable:()=>T,opacity:()=>le,processColor:()=>ye,processColorInitially:()=>ve,red:()=>ce,registerEventHandler:()=>W,removeNavigatorInfo:()=>gt,removeRouteBuilder:()=>St,removeRouteContext:()=>kt,repeat:()=>Qe,rgbaColor:()=>pe,runOnJS:()=>E,runOnUI:()=>k,sequence:()=>Je,shared:()=>G,spring:()=>Ge,startMapper:()=>L,stopMapper:()=>B,stopMappers:()=>$,timing:()=>ze,toRGBA:()=>be,unregisterEventHandler:()=>U});var e="skyline";function t(){return!("skyline"===e)}class i{constructor(e){this.sortedMappers=[],this.mappers=new Map,this._module=void 0,this.updatedSinceLastExecute=!1,this._module=e}startMapper(e){return this.mappers.set(e.id,e),this.updatedSinceLastExecute=!0,e.id}stopMapper(e){this.mappers.delete(e),this.updatedSinceLastExecute=!0}execute(){this.updatedSinceLastExecute&&(this.updateOrder(),this.updatedSinceLastExecute=!1);for(var e=0,t=this.sortedMappers.length;e<t;++e){var r=this.sortedMappers[e];r.dirty&&r.execute()}}updateOrder(){var e=[...this.mappers.values()].map((function(e){return new a(e)})),t={};this.mappers.forEach((function(e){t[e.id]=e}));for(var r=0,n=e.length;r<n;++r){var i=e[r];if(0!==i.mapper.outputs.length)for(var o=0;o<n;++o){var s=e[o];if(r!==o&&0!==s.mapper.inputs.length)for(var l=0,c=i.mapper.outputs.length;l<c;++l)for(var u=0,d=s.mapper.inputs.length;u<d;++u)i.mapper.outputs[l]._id===s.mapper.inputs[u]._id&&i.children.push(s)}}for(var p={},h=1,f=function(t){var r=e.indexOf(t);if(-1!==r){if(++h,e.splice(r,1),0===t.children.length&&e.length>0)return p[t.mapper.id]=h++,void f(e[0]);for(var n=0,i=t.children.length;n<i;++n)f(t.children[n]);p[t.mapper.id]=h++}};e.length;)f(e[0]);var g=Object.keys(p).map((function(e){var t=parseInt(e,10);return[t,p[t]]}));g.sort((function(e,t){return t[1]-e[1]})),this.sortedMappers=[];for(var v=0,m=g.length;v<m;++v){var[y]=g[v];this.sortedMappers.push(t[y])}}get needRunOnRender(){return this.updatedSinceLastExecute}}class a{constructor(e,t=[]){this.mapper=void 0,this.children=void 0,this.mapper=e,this.children=t}}class o{constructor(e,t){this._id=void 0,this._value=void 0,this._setter=void 0,this._animation=null,this._listeners=[],this._id=o.MUTABLE_ID++,this._value=e,this._setter=t}get value(){return this._value}set value(e){this._setter(e)}_setValue(e){this._value!==e&&(this._value=e,this._triggerListener())}addListener(e){this._listeners.push(e)}_triggerListener(){for(var e=0,t=this._listeners.length;e<t;++e)this._listeners[e]()}}o.MUTABLE_ID=1;class s{constructor(e,t,r=[],n=[],i){var a=this;this.id=void 0,this.dirty=void 0,this.flush=void 0,this.inputs=void 0,this.outputs=void 0,this.handler=void 0,this.id=s.MAPPER_ID++,this.dirty=i.immediate,this.flush=i.flush,this.inputs=this.extractMutablesFromArray(r),this.outputs=this.extractMutablesFromArray(n),this.handler=t;var o=function(){"async"===a.flush?(a.dirty=!0,e.maybeRequestRender()):a.execute()};this.inputs.forEach((function(e){e.addListener(o)}))}execute(){this.dirty=!1,this.handler()}extractMutablesFromArray(e){var t=[];return function e(r){null===r||(r instanceof o?t.push(r):Array.isArray(r)?r.forEach((function(t){return e(t)})):"object"==typeof r&&Object.keys(r).forEach((function(t){e(r[t])})))}(e),t}}s.MAPPER_ID=1;class l{constructor(e=!0){this.native=void 0,this.native=e}supported(){var e;return"object"==typeof SkylineGlobal&&!(null===(e=SkylineGlobal)||void 0===e||!e.workletModule)}get nativeModule(){return SkylineGlobal.workletModule}installCoreFunctions(e){return this.nativeModule.installCoreFunctions(e)}makeShareable(e){return this.nativeModule.makeShareable(e)}makeMutable(e){return this.nativeModule.makeMutable(e)}makeRemote(e={}){return this.nativeModule.makeRemote(e)}startMapper(e,t,r=[],n=[],i){return this.nativeModule.startMapper(e,t,r,n,i)}stopMapper(e,t){return this.nativeModule.stopMapper(e,t)}stopMappers(e,t){return this.nativeModule.stopMappers(e,t)}enableMapper(e,t){this.nativeModule.enableMapper(e,t)}disableMapper(e,t){this.nativeModule.disableMapper(e,t)}registerEventHandler(e,t){this.nativeModule.registerEventHandler(e,t)}unregisterEventHandler(e){this.nativeModule.unregisterEventHandler(e)}}t()&&(globalThis._frameTimestamp=null,globalThis.workletUIModule={getCurrentTime:function(){return Date.now()},requestFrame:function(e,t){return 0},cancelFrame:function(e,t){},updateNodeStyle:function(e,t){},setGlobalConsole:function(e){},startUserGesture:function(e){},stopUserGesture:function(e){},navigatorPop:function(e,t){},updateAnimationController:function(e,t,r){}});var c=new class extends l{constructor(){super(!1),this._valueSetter=void 0,this._renderRequested=!1,this._mapperRegistry=new i(this),this._frames=[],this.timeProvider=void 0,this.timeProvider={now:function(){return Date.now()}}}supported(){return!0}pushFrame(e){this._frames.push(e),this.maybeRequestRender()}getTimestamp(){return this.timeProvider.now()}requestAnimationFrame(e){var t=this;return"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout((function(){e(t.getTimestamp())}),16)}maybeRequestRender(){var e=this;this._renderRequested||(this._renderRequested=!0,this.requestAnimationFrame((function(t){e._renderRequested=!1,e._onRender(e.getTimestamp())})))}_onRender(e){this._mapperRegistry.execute();var t=[...this._frames];this._frames=[];for(var r=0,n=t.length;r<n;++r)t[r](e);this._mapperRegistry.needRunOnRender&&this._mapperRegistry.execute()}installCoreFunctions(e){this._valueSetter=e}makeShareable(e){return e}makeMutable(e){return new o(e,this._valueSetter)}makeRemote(e={}){return e}startMapper(e,t,r=[],n=[],i){var a=new s(this,t,r,n,i),o=this._mapperRegistry.startMapper(a);return this.maybeRequestRender(),o}stopMapper(e,t){this._mapperRegistry.stopMapper(t)}stopMappers(e,t){var r=this;t.forEach((function(e){return r._mapperRegistry.stopMapper(e)}))}enableMapper(e,t){}disableMapper(e,t){}registerEventHandler(e,t){}unregisterEventHandler(e){}},u=new l;function d(){return t()?c:u}p.platform,p.platform;var h,f="devtools"===p.platform,m=!1,y=((h=function(e,t=!1){if(!e.__worklet){if(t)throw new Error("parameter type error, should use worklet function");return!1}return!0})._closure={},h.asString="function _f(func,throwError=false){if(!func.__worklet){if(throwError){throw new Error('parameter type error, should use worklet function');}return false;}return true;}",h.__workletHash=1947773686838,h.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/util.ts (1:32)",h.__worklet=!0,h);function _(e){return"function"!=typeof e?e:function(...t){setTimeout((function(){e(...t)}))}}var b=d();function w(r){v.info("[WABaseLib.Critical] Skyline worklet chooseRenderMode ",r),function(t){e=t}(r),b=d(),t()?function(){if(V||!b.supported())return;v.info("[WABaseLib.Critical] Skyline initialize web worklet"),b.installCoreFunctions(M),V=!0}():function(){if(q||!b.supported())return;if(v.info("[WABaseLib.Critical] Skyline initialize native worklet"),b.installCoreFunctions(R),q=!0,I()){var e=m||f||function(){if(p&&"debug"in p&&void 0!==p.debug)return!!p.debug}(),t=console;k(function(){var r=function(){function r(r){return function(...n){e&&E(t[r])("[ui]",...n)}}var n=["debug","log","warn","error","info"].reduce((function(e,t){return e[t]=r(t),e}),{});workletUIModule.setGlobalConsole(n)};return r._closure={printLog:e,runOnJS:E,capturableConsole:t},r.asString="function _f(){const{printLog,runOnJS,capturableConsole}=jsThis._closure;{const methods=['debug','log','warn','error','info'];function _log(m){return function(...args){if(!printLog)return;runOnJS(capturableConsole[m])('[ui]',...args);};}const libConsole=methods.reduce(function(obj,prop){;obj[prop]=_log(prop);return obj;},{});workletUIModule.setGlobalConsole(libConsole);}}",r.__workletHash=0xbb38dbebc01,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (313:12)",r.__worklet=!0,r}())()}}()}var S=function(){var e=function(){};return e._closure={},e.asString="function _f(){}",e.__workletHash=0xee9333ba43b,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (39:48)",e.__worklet=!0,e}(),C=function(e=!0){if(!S.__workletHash&&!t()){if(e)throw new Error("failed to create a worklet, maybe forgot to add babel plugin?");return!1}return!0},I=function(e=!1){return C(e)&&b.supported()},A=function(){if(!I(!0))throw new Error("worklet mechanism cannot be used, platform not support")};function k(e){return y(e)||console.warn("The parameter to runOnUI should be a worklet function"),b.native?T(e):_(T(e))}var E=function(){var e=function(e){if(!g)return _(e);if(e.__callAsync)return e.__callAsync;throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren't marked as worklets")};return e._closure={makeFunctionAsync:_},e.asString='function runOnJS(fun){const{makeFunctionAsync}=jsThis._closure;{if(!_WORKLET){return makeFunctionAsync(fun);}if(!fun.__callAsync){throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren\'t marked as worklets");}else{return fun.__callAsync;}}}',e.__workletHash=1101783697307,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (78:7)",e.__worklet=!0,e}();function T(e){return A(),b.makeShareable(e)}function P(e){b.pushFrame(e)}var x=function(){var e=function(){return b.native?_frameTimestamp||workletUIModule.getCurrentTime():b.getTimestamp()};return e._closure={workletModule:{native:b.native,getTimestamp:b.getTimestamp}},e.asString="function getTimestamp(){const{workletModule}=jsThis._closure;{if(!workletModule.native){return workletModule.getTimestamp();}if(_frameTimestamp){return _frameTimestamp;}return workletUIModule.getCurrentTime();}}",e.__workletHash=502121877847,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (103:0)",e.__worklet=!0,e}(),O=function(){var e=function(e,t){b.native?"number"==typeof t?workletUIModule.requestFrame(t,e):setTimeout((function(){e(x())}),16):P(e)};return e._closure={workletModule:{native:b.native},getTimestamp:x,pushFrame:P},e.asString="function requestFrame(frame,windowId){const{workletModule,getTimestamp,pushFrame}=jsThis._closure;{if(workletModule.native){if(typeof windowId==='number'){workletUIModule.requestFrame(windowId,frame);}else{setTimeout(function(){frame(getTimestamp());},16);}}else{pushFrame(frame);}}}",e.__workletHash=280257544029,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (116:0)",e.__worklet=!0,e}(),R=function(){var e=function(e,t){var r=this,n=this._animation;if(n&&(n.cancelled=!0,this._animation=null),!t)if("function"==typeof e||null!==e&&"object"==typeof e&&void 0!==e.onFrame){var i,a="function"==typeof e?e():e;if(this._value===a.current&&!a.isHigherOrder)return void(null===(i=a.callback)||void 0===i||i.call(a,!0));var o=function(e){if(a.cancelled){var t;null===(t=a.callback)||void 0===t||t.call(a,!1)}else{var n=a.onFrame(a,e);a.finished=!0,a.timestamp=e,r._value=a.current,O(n?function(){var e;null===(e=a.callback)||void 0===e||e.call(a,!0)}:o,r._windowId)}},s=function(e){a.onStart(a,r.value,e,n),o(e)};this._animation=a,_frameTimestamp?s(_frameTimestamp):O(s,this._windowId)}else{if(this._value===e)return;this._value=e}};return e._closure={requestFrame:O},e.asString="function workletValueSetter(value,synchronized){const{requestFrame}=jsThis._closure;{var _this=this;const previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(synchronized)return;if(typeof value==='function'||value!==null&&typeof value==='object'&&value.onFrame!==undefined){const animation=typeof value==='function'?value():value;if(this._value===animation.current&&!animation.isHigherOrder){var _animation$callback;(_animation$callback=animation.callback)===null||_animation$callback===void 0?void 0:_animation$callback.call(animation,true);return;}const step=function(timestamp){if(animation.cancelled){var _animation$callback2;(_animation$callback2=animation.callback)===null||_animation$callback2===void 0?void 0:_animation$callback2.call(animation,false);return;}const finished=animation.onFrame(animation,timestamp);animation.finished=true;animation.timestamp=timestamp;_this._value=animation.current;if(finished){requestFrame(function(){var _animation$callback3;(_animation$callback3=animation.callback)===null||_animation$callback3===void 0?void 0:_animation$callback3.call(animation,true);},_this._windowId);}else{requestFrame(step,_this._windowId);}};const initializeAnimation=function(timestamp){animation.onStart(animation,_this.value,timestamp,previousAnimation);step(timestamp);};this._animation=animation;if(_frameTimestamp){initializeAnimation(_frameTimestamp);}else{requestFrame(initializeAnimation,this._windowId);}}else{if(this._value===value){return;}this._value=value;}}}",e.__workletHash=6497173282136,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/core.ts (131:0)",e.__worklet=!0,e}();function M(e){var t=this,r=this._animation;if(r&&(r.cancelled=!0,this._animation=null),"function"==typeof e||null!==e&&"object"==typeof e&&e.onFrame){var n="function"==typeof e?e():e,i=function(e){n.onStart(n,t.value,e,r)},a=function(e){var r;if(n.cancelled){var o;null===(o=n.callback)||void 0===o||o.call(n,!1)}else{i&&(i(e),i=null);var s,l=n.onFrame(n,e);if(n.timestamp=e,null===(r=t._setValue)||void 0===r||r.call(t,n.current),l)null===(s=n.callback)||void 0===s||s.call(n,!0);else O(a)}};this._animation=n,O(a)}else{var o;null===(o=this._setValue)||void 0===o||o.call(this,e)}}function D(e){return A(),b.makeMutable(e)}function N(e={}){return A(),b.makeRemote(e)}function L(e,t,r=[],n=[],i){return A(),b.startMapper(e,t,r,n,i)}function B(e,t){b.stopMapper(e,t)}function $(e,t){b.stopMappers(e,t)}function F(e,t){b.enableMapper(e,t)}function j(e,t){b.disableMapper(e,t)}function W(e,t){b.registerEventHandler(e,t)}function U(e){b.unregisterEventHandler(e)}var V=!1;var q=!1;var z=r(27);function G(e){return D(e)}var H={OS:p.platform},K="[-+]?\\d*\\.?\\d+",Q=K+"%",J=function(){var e=function(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"};return e._closure={},e.asString='function call(...args){return"\\\\(\\\\s*("+args.join(")\\\\s*,\\\\s*(")+")\\\\s*\\\\)";}',e.__workletHash=5957993449695,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (24:0)",e.__worklet=!0,e}(),X={},Y=function(){var e=function(){var e=globalThis,t="_uiCachedMatchers";return void 0===e[t]&&(e[t]={}),e[t]};return e._closure={},e.asString='function _f(){const obj=globalThis;const prop="_uiCachedMatchers";if(typeof obj[prop]==="undefined"){obj[prop]={};}return obj[prop];}',e.__workletHash=0x95ce11262e3,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (33:25)",e.__worklet=!0,e}(),Z=function(){var e=function(){var e=g?Y():X;return void 0===e.rgb&&(e.rgb=new RegExp("rgb"+J(K,K,K)),e.rgba=new RegExp("rgba"+J(K,K,K,K)),e.hsl=new RegExp("hsl"+J(K,Q,Q)),e.hsla=new RegExp("hsla"+J(K,Q,Q,K)),e.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,e.hex6=/^#([0-9a-fA-F]{6})$/,e.hex8=/^#([0-9a-fA-F]{8})$/),e};return e._closure={uiCachedMatchers:Y,jsCachedMatchers:X,call:J,NUMBER:K,PERCENTAGE:Q},e.asString='function getMatchers(){const{uiCachedMatchers,jsCachedMatchers,call,NUMBER,PERCENTAGE}=jsThis._closure;{const cachedMatchers=_WORKLET?uiCachedMatchers():jsCachedMatchers;if(cachedMatchers.rgb===undefined){cachedMatchers.rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER));cachedMatchers.rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER));cachedMatchers.hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE));cachedMatchers.hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));cachedMatchers.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex6=/^#([0-9a-fA-F]{6})$/;cachedMatchers.hex8=/^#([0-9a-fA-F]{8})$/;}return cachedMatchers;}}',e.__workletHash=6466912516105,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (54:0)",e.__worklet=!0,e}();Z();var ee=function(){var e=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e};return e._closure={},e.asString="function hue2rgb(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;}",e.__workletHash=3618366985414,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (83:0)",e.__worklet=!0,e}(),te=function(){var e=function(e,t,r){var n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=ee(i,n,e+1/3),o=ee(i,n,e),s=ee(i,n,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8};return e._closure={hue2rgb:ee},e.asString="function hslToRgb(h,s,l){const{hue2rgb}=jsThis._closure;{const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}}",e.__workletHash=4500055963175,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (103:0)",e.__worklet=!0,e}(),re=function(){var e=function(e){var t=Number.parseInt(e,10);return t<0?0:t>255?255:t};return e._closure={},e.asString="function parse255(str){const int=Number.parseInt(str,10);if(int<0){return 0;}if(int>255){return 255;}return int;}",e.__workletHash=7024550667346,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (118:0)",e.__worklet=!0,e}(),ne=function(){var e=function(e){return(Number.parseFloat(e)%360+360)%360/360};return e._closure={},e.asString="function parse360(str){const int=Number.parseFloat(str);return(int%360+360)%360/360;}",e.__workletHash=6683812623228,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (130:0)",e.__worklet=!0,e}(),ie=function(){var e=function(e){var t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)};return e._closure={},e.asString="function parse1(str){const num=Number.parseFloat(str);if(num<0){return 0;}if(num>1){return 255;}return Math.round(num*255);}",e.__workletHash=7197247664793,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (136:0)",e.__worklet=!0,e}(),ae=function(){var e=function(e){var t=Number.parseFloat(e);return t<0?0:t>100?1:t/100};return e._closure={},e.asString="function parsePercentage(str){const int=Number.parseFloat(str);if(int<0){return 0;}if(int>100){return 1;}return int/100;}",e.__workletHash=8813932430184,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (148:0)",e.__worklet=!0,e}(),oe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},se=function(){var e=function(e){var t,r,n,i,a,o,s,l;if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;var c,u=Z();return(c=null==u||null===(t=u.hex6)||void 0===t?void 0:t.exec(e))?Number.parseInt(c[1]+"ff",16)>>>0:void 0!==oe[e]?oe[e]:(c=null==u||null===(r=u.rgb)||void 0===r?void 0:r.exec(e))?(re(c[1])<<24|re(c[2])<<16|re(c[3])<<8|255)>>>0:(c=null==u||null===(n=u.rgba)||void 0===n?void 0:n.exec(e))?(re(c[1])<<24|re(c[2])<<16|re(c[3])<<8|ie(c[4]))>>>0:(c=null==u||null===(i=u.hex3)||void 0===i?void 0:i.exec(e))?Number.parseInt(c[1]+c[1]+c[2]+c[2]+c[3]+c[3]+"ff",16)>>>0:(c=null==u||null===(a=u.hex8)||void 0===a?void 0:a.exec(e))?Number.parseInt(c[1],16)>>>0:(c=null==u||null===(o=u.hex4)||void 0===o?void 0:o.exec(e))?Number.parseInt(c[1]+c[1]+c[2]+c[2]+c[3]+c[3]+c[4]+c[4],16)>>>0:(c=null==u||null===(s=u.hsl)||void 0===s?void 0:s.exec(e))?(255|te(ne(c[1]),ae(c[2]),ae(c[3])))>>>0:(c=null==u||null===(l=u.hsla)||void 0===l?void 0:l.exec(e))?(te(ne(c[1]),ae(c[2]),ae(c[3]))|ie(c[4]))>>>0:null};return e._closure={getMatchers:Z,names:oe,parse255:re,parse1:ie,hslToRgb:te,parse360:ne,parsePercentage:ae},e.asString='function normalizeColor(color){const{getMatchers,names,parse255,parse1,hslToRgb,parse360,parsePercentage}=jsThis._closure;{var _matchers$hex,_matchers$rgb,_matchers$rgba,_matchers$hex2,_matchers$hex3,_matchers$hex4,_matchers$hsl,_matchers$hsla;if(typeof color==="number"){if(color>>>0===color&&color>=0&&color<=0xffffffff){return color;}return null;}if(typeof color!=="string"){return null;}const matchers=getMatchers();let match;if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex=matchers.hex6)===null||_matchers$hex===void 0?void 0:_matchers$hex.exec(color)){return Number.parseInt(match[1]+"ff",16)>>>0;}if(names[color]!==undefined){return names[color];}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgb=matchers.rgb)===null||_matchers$rgb===void 0?void 0:_matchers$rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgba=matchers.rgba)===null||_matchers$rgba===void 0?void 0:_matchers$rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex2=matchers.hex3)===null||_matchers$hex2===void 0?void 0:_matchers$hex2.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex3=matchers.hex8)===null||_matchers$hex3===void 0?void 0:_matchers$hex3.exec(color)){return Number.parseInt(match[1],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex4=matchers.hex4)===null||_matchers$hex4===void 0?void 0:_matchers$hex4.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsl=matchers.hsl)===null||_matchers$hsl===void 0?void 0:_matchers$hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsla=matchers.hsla)===null||_matchers$hsla===void 0?void 0:_matchers$hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}return null;}}',e.__workletHash=923457302830,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (316:0)",e.__worklet=!0,e}(),le=function(){var e=function(e){return(e>>24&255)/255};return e._closure={},e.asString="function _f(c){return(c>>24&255)/255;}",e.__workletHash=0xd60a2a09964,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (428:23)",e.__worklet=!0,e}(),ce=function(){var e=function(e){return e>>16&255};return e._closure={},e.asString="function _f(c){return c>>16&255;}",e.__workletHash=0xba6200c4759,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (433:19)",e.__worklet=!0,e}(),ue=function(){var e=function(e){return e>>8&255};return e._closure={},e.asString="function _f(c){return c>>8&255;}",e.__workletHash=3499836539046,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (438:21)",e.__worklet=!0,e}(),de=function(){var e=function(e){return 255&e};return e._closure={},e.asString="function _f(c){return c&255;}",e.__workletHash=0xd6ef76daabe,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (443:20)",e.__worklet=!0,e}(),pe=function(){var e=function(e,t,r,n=1){if(!g)return`rgba(${e}, ${t}, ${r}, ${n})`;var i=Math.round(255*n)*(1<<24)+65536*Math.round(e)+256*Math.round(t)+Math.round(r);return"android"===H.OS?i<1<<31>>>0?i:i-4294967296:i};return e._closure={Platform:{OS:H.OS}},e.asString='function _f(r,g,b,alpha=1){const{Platform}=jsThis._closure;{if(!_WORKLET){return"rgba("+r+", "+g+", "+b+", "+alpha+")";}const c=Math.round(alpha*255)*(1<<24)+Math.round(r)*(1<<16)+Math.round(g)*(1<<8)+Math.round(b);if(Platform.OS==="android"){return c<1<<31>>>0?c:c-4294967296;}return c;}}',e.__workletHash=0xd4bf6c0982f,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (448:25)",e.__worklet=!0,e}(),he=function(){var e=function(e,t,r){1===arguments.length&&(t=e.g,r=e.b,e=e.r);var n,i=Math.max(e,t,r),a=Math.min(e,t,r),o=i-a,s=0===i?0:o/i,l=i/255;switch(i){default:case a:n=0;break;case e:n=t-r+o*(t<r?6:0),n/=6*o;break;case t:n=r-e+2*o,n/=6*o;break;case r:n=e-t+4*o,n/=6*o}return{h:n,s:s,v:l}};return e._closure={},e.asString="function RGBtoHSV(r,g,b){if(arguments.length===1){g=r.g;b=r.b;r=r.r;}const max=Math.max(r,g,b);const min=Math.min(r,g,b);const d=max-min;const s=max===0?0:d/max;const v=max/255;let h;switch(max){default:case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;}return{h:h,s:s,v:v};}",e.__workletHash=0xf0c87722021,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (480:7)",e.__worklet=!0,e}(),fe=function(){var e=function(e,t,r){var n,i,a,o,s,l,c,u;switch(1===arguments.length&&(t=e.s,r=e.v,e=e.h),l=r*(1-t),c=r*(1-(s=6*e-(o=Math.floor(6*e)))*t),u=r*(1-(1-s)*t),o%6){case 0:n=r,i=u,a=l;break;case 1:n=c,i=r,a=l;break;case 2:n=l,i=r,a=u;break;case 3:n=l,i=c,a=r;break;case 4:n=u,i=l,a=r;break;case 5:n=r,i=l,a=c}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*a)}};return e._closure={},e.asString="function HSVtoRGB(h,s,v){var r,g,b,i,f,p,q,t;if(arguments.length===1){s=h.s;v=h.v;h=h.h;}i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break;}return{r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)};}",e.__workletHash=8891027662548,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (533:0)",e.__worklet=!0,e}(),ge=function(){var e=function(e,t,r){var{r:n,g:i,b:a}=fe(e,t,r);return pe(n,i,a)};return e._closure={HSVtoRGB:fe,rgbaColor:pe},e.asString="function _f(h,s,v){const{HSVtoRGB,rgbaColor}=jsThis._closure;{const{r:r,g:g,b:b}=HSVtoRGB(h,s,v);return rgbaColor(r,g,b);}}",e.__workletHash=0xad5827cb6d2,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (575:26)",e.__worklet=!0,e}(),ve=function(){var e=function(e){if(null==e||"number"==typeof e)return e;var t=se(e);return null!=t?"number"!=typeof t?null:t=(t<<24|t>>>8)>>>0:void 0};return e._closure={normalizeColor:se},e.asString='function processColorInitially(color){const{normalizeColor}=jsThis._closure;{if(color===null||color===undefined||typeof color==="number"){return color;}let normalizedColor=normalizeColor(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!=="number"){return null;}normalizedColor=(normalizedColor<<24|normalizedColor>>>8)>>>0;return normalizedColor;}}',e.__workletHash=3201234226873,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (585:7)",e.__worklet=!0,e}(),me=function(){var e=function(e){return"string"==typeof e&&null!=ve(e)};return e._closure={processColorInitially:ve},e.asString='function isColor(value){const{processColorInitially}=jsThis._closure;{if(typeof value!=="string"){return false;}return processColorInitially(value)!=null;}}',e.__workletHash=0xa9799faf3a4,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (607:7)",e.__worklet=!0,e}(),ye=function(){var e=function(e){var t=ve(e);if(null!=t)return"number"!=typeof t?null:("android"===H.OS&&(t|=0),t)};return e._closure={processColorInitially:ve,Platform:{OS:H.OS}},e.asString='function processColor(color){const{processColorInitially,Platform}=jsThis._closure;{let normalizedColor=processColorInitially(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!=="number"){return null;}if(Platform.OS==="android"){normalizedColor=normalizedColor|0x0;}return normalizedColor;}}',e.__workletHash=2492039203038,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (615:7)",e.__worklet=!0,e}(),_e=function(){var e=function(e){var t=ve(e),r=(t>>>24)/255,n=t<<8>>>24,i=t<<16>>>24,a=t<<24>>>24,{h:o,s:s,v:l}=he(n,i,a);return[o,s,l,r]};return e._closure={processColorInitially:ve,RGBtoHSV:he},e.asString="function convertToHSVA(color){const{processColorInitially,RGBtoHSV}=jsThis._closure;{const processedColor=processColorInitially(color);const a=(processedColor>>>24)/255;const r=processedColor<<8>>>24;const g=processedColor<<16>>>24;const b=processedColor<<24>>>24;const{h:h,s:s,v:v}=RGBtoHSV(r,g,b);return[h,s,v,a];}}",e.__workletHash=0xb07725cb4ca,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (639:7)",e.__worklet=!0,e}(),be=function(){var e=function(e){var{r:t,g:r,b:n}=fe(e[0],e[1],e[2]);return`rgba(${t}, ${r}, ${n}, ${e[3]})`};return e._closure={HSVtoRGB:fe},e.asString='function toRGBA(HSVA){const{HSVtoRGB}=jsThis._closure;{const{r:r,g:g,b:b}=HSVtoRGB(HSVA[0],HSVA[1],HSVA[2]);return"rgba("+r+", "+g+", "+b+", "+HSVA[3]+")";}}',e.__workletHash=6249111174588,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Colors.ts (650:7)",e.__worklet=!0,e}(),we=!1;function Se(e){we=!0;var t=e();return we=!1,t}var Ce=function(){var e=function(e){if("string"==typeof e){var t,r=e.match(/([A-Za-z]*)(-?\d*\.?\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!r)throw Error("Couldn't parse animation value. Check if there isn't any typo.");var n=r[1],i=r[4],a=r[2]+(null!==(t=r[3])&&void 0!==t?t:"");return{prefix:n,suffix:i,strippedValue:parseFloat(a)}}return{strippedValue:e}};return e._closure={},e.asString="function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}",e.__workletHash=0x95dcba9cd08,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (36:0)",e.__worklet=!0,e}(),Ie=function(){var e=function(e){if(!e.isHigherOrder){var t=e.onStart,r=e.onFrame,n=Object.assign({},e);delete n.callback;var i=function(e,t){var n,i;e.current=e.strippedCurrent;var a=r(e,t);return e.strippedCurrent=e.current,e.current=(null!==(n=e.__prefix)&&void 0!==n?n:"")+e.current+(null!==(i=e.__suffix)&&void 0!==i?i:""),a},a=["H","S","V","A"],o=function(e,t){var r=_e(e.current),n=[],i=!0;return a.forEach((function(a,o){e[a].current=r[o],i&=e[a].onFrame(e[a],t),n.push(e[a].current)})),e.current=be(n),i},s=function(e,t){var r=!0;return e.current.forEach((function(n,i){r&=e[i].onFrame(e[i],t),e.current[i]=e[i].current})),r};e.onStart=function(e,r,l,c){return me(r)?(function(e,t,r,i){var o,s,l,c=[];me(t)&&(s=_e(e.current),o=_e(t),e.toValue&&(l=_e(e.toValue))),a.forEach((function(t,a){e[t]=Object.assign({},n),e[t].current=s[a],e[t].toValue=l?l[a]:void 0,e[t].onStart(e[t],o[a],r,i?i[t]:void 0),c.push(e[t].current)})),e.current=be(c)}(e,r,l,c),void(e.onFrame=o)):Array.isArray(r)?(function(e,t,r,i){t.forEach((function(t,a){e[a]=Object.assign({},n),e[a].current=t,e[a].toValue=e.toValue[a],e[a].onStart(e[a],t,r,i?i[a]:void 0)})),e.current=t}(e,r,l,c),void(e.onFrame=s)):"string"==typeof r?(function(e,r,n,i){var a,o,{prefix:s,suffix:l,strippedValue:c}=Ce(r);e.__prefix=s,e.__suffix=l,e.strippedCurrent=c;var u,d,{strippedValue:p}=Ce(e.toValue);e.current=c,e.startValue=c,e.toValue=p,i&&i!==e&&(i.current=i.strippedCurrent),t(e,c,n,i),e.current=(null!==(a=e.__prefix)&&void 0!==a?a:"")+e.current+(null!==(o=e.__suffix)&&void 0!==o?o:""),i&&i!==e&&(i.current=(null!==(u=i.__prefix)&&void 0!==u?u:"")+i.current+(null!==(d=i.__suffix)&&void 0!==d?d:""))}(e,r,l,c),void(e.onFrame=i)):void t(e,r,l,c)}}};return e._closure={recognizePrefixSuffix:Ce,isColor:me,convertToHSVA:_e,toRGBA:be},e.asString="function decorateAnimation(animation){const{recognizePrefixSuffix,isColor,convertToHSVA,toRGBA}=jsThis._closure;{if(animation.isHigherOrder){return;}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=true;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return finished;};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=true;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp);animation.current[i]=animation[i].current;});return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}",e.__workletHash=0xd77acdd9584,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (57:0)",e.__worklet=!0,e}(),Ae=function(){var e=function(e,t){if(we)return e;var r=function(){var e=function(){var e=t();return Ie(e),e};return e._closure={factory:t,decorateAnimation:Ie},e.asString="function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}",e.__workletHash=2441595458132,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (246:17)",e.__worklet=!0,e}();return g?r():r};return e._closure={IN_STYLE_UPDATER:we,decorateAnimation:Ie},e.asString="function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET){return create();}return create;}}",e.__workletHash=0xde62656a344,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (239:7)",e.__worklet=!0,e}(),ke=function(){var e=function(e){e.value=e.value};return e._closure={},e.asString="function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}",e.__workletHash=0xdb1b4231136,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (260:7)",e.__worklet=!0,e}(),Ee=(function(){var e=function(e,t){return Ae(e,function(){var r=function(){return g||"function"!=typeof t||(t=t()),t.current=e,t};return r._closure={animation:t,startValue:e},r.asString="function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}",r.__workletHash=5374403234008,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (272:37)",r.__worklet=!0,r}())};e._closure={defineAnimation:Ae},e.asString="function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}",e.__workletHash=5100017907325,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/util.ts (267:7)",e.__worklet=!0}(),function(){var e=function(e,t,r,n){var i=.1,a=function(){var e=function(e,t){return 1-3*t+3*e};return e._closure={},e.asString="function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}",e.__workletHash=7696928702327,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (25:2)",e.__worklet=!0,e}(),o=function(){var e=function(e,t){return 3*t-6*e};return e._closure={},e.asString="function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}",e.__workletHash=3169786778773,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (29:2)",e.__worklet=!0,e}(),s=function(){var e=function(e){return 3*e};return e._closure={},e.asString="function C(aA1){return 3.0*aA1;}",e.__workletHash=6399610653367,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (33:2)",e.__worklet=!0,e}(),l=function(){var e=function(e,t,r){return((a(t,r)*e+o(t,r))*e+s(t))*e};return e._closure={A:a,B:o,C:s},e.asString="function calcBezier(aT,aA1,aA2){const{A,B,C}=jsThis._closure;{return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}}",e.__workletHash=3153137150968,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (39:2)",e.__worklet=!0,e}(),c=function(){var e=function(e,t,r){return 3*a(t,r)*e*e+2*o(t,r)*e+s(t)};return e._closure={A:a,B:o,C:s},e.asString="function getSlope(aT,aA1,aA2){const{A,B,C}=jsThis._closure;{return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}}",e.__workletHash=0xf81d0c1f684,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (45:2)",e.__worklet=!0,e}(),u=function(){var e=function(e,t,r,n,i){var a,o,s=0;do{(a=l(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o};return e._closure={SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10,calcBezier:l},e.asString="function binarySubdivide(aX,aA,aB,mX1,mX2){const{SUBDIVISION_PRECISION,SUBDIVISION_MAX_ITERATIONS,calcBezier}=jsThis._closure;{let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}}",e.__workletHash=7302972877011,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (50:2)",e.__worklet=!0,e}(),d=function(){var e=function(e,t,r,n){for(var i=0;i<4;++i){var a=c(t,r,n);if(0===a)return t;t-=(l(t,r,n)-e)/a}return t};return e._closure={NEWTON_ITERATIONS:4,getSlope:c,calcBezier:l},e.asString="function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){const{NEWTON_ITERATIONS,getSlope,calcBezier}=jsThis._closure;{for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}}",e.__workletHash=0x9706f38151c,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (76:2)",e.__worklet=!0,e}(),p=function(){var e=function(e){return e};return e._closure={},e.asString="function LinearEasing(x){return x;}",e.__workletHash=3962143445177,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (94:2)",e.__worklet=!0,e}();if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return p;for(var h=new Array(11),f=0;f<11;++f)h[f]=l(f*i,e,r);var g=function(){var t=function(t){for(var n=0,a=1;10!==a&&h[a]<=t;++a)n+=i;--a;var o=n+(t-h[a])/(h[a+1]-h[a])*i,s=c(o,e,r);return s>=.001?d(t,o,e,r):0===s?o:u(t,n,n+i,e,r)};return t._closure={kSplineTableSize:11,sampleValues:h,kSampleStepSize:i,getSlope:c,mX1:e,mX2:r,NEWTON_MIN_SLOPE:.001,newtonRaphsonIterate:d,binarySubdivide:u},t.asString="function getTForX(aX){const{kSplineTableSize,sampleValues,kSampleStepSize,getSlope,mX1,mX2,NEWTON_MIN_SLOPE,newtonRaphsonIterate,binarySubdivide}=jsThis._closure;{let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}}",t.__workletHash=3164695138880,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (121:2)",t.__worklet=!0,t}();return function(){var i=function(i){return e===t&&r===n?i:0===i?0:1===i?1:l(g(i),t,n)};return i._closure={mX1:e,mY1:t,mX2:r,mY2:n,calcBezier:l,getTForX:g},i.asString="function BezierEasing(x){const{mX1,mY1,mX2,mY2,calcBezier,getTForX}=jsThis._closure;{if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}return calcBezier(getTForX(x),mY1,mY2);}}",i.__workletHash=8676971518933,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (158:9)",i.__worklet=!0,i}()};return e._closure={},e.asString="function Bezier(mX1,mY1,mX2,mY2){const NEWTON_ITERATIONS=4;const NEWTON_MIN_SLOPE=0.001;const SUBDIVISION_PRECISION=0.0000001;const SUBDIVISION_MAX_ITERATIONS=10;const kSplineTableSize=11;const kSampleStepSize=1.0/(kSplineTableSize-1.0);function A(aA1,aA2){'worklet';return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){'worklet';return 3.0*aA2-6.0*aA1;}function C(aA1){'worklet';return 3.0*aA1;}function calcBezier(aT,aA1,aA2){'worklet';return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){'worklet';return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){'worklet';let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){'worklet';for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function LinearEasing(x){'worklet';return x;}if(!(mX1>=0&&mX1<=1&&mX2>=0&&mX2<=1)){throw new Error('bezier x values must be in [0, 1] range');}if(mX1===mY1&&mX2===mY2){return LinearEasing;}const sampleValues=new Array(kSplineTableSize);for(let i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}function getTForX(aX){'worklet';let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return function BezierEasing(x){'worklet';if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}return calcBezier(getTForX(x),mY1,mY2);};}",e.__workletHash=7389715548968,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Bezier.ts (9:7)",e.__worklet=!0,e}()),Te=function(){var e=function(e){return e};return e._closure={},e.asString="function linear(t){return t;}",e.__workletHash=7988822508142,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (65:0)",e.__worklet=!0,e}(),Pe=function(){var e=function(e){return Ee(.42,0,1,1)(e)};return e._closure={Bezier:Ee},e.asString="function ease(t){const{Bezier}=jsThis._closure;{return Bezier(0.42,0,1,1)(t);}}",e.__workletHash=0xbdc195724f9,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (76:0)",e.__worklet=!0,e}(),xe=function(){var e=function(e){return e*e};return e._closure={},e.asString="function quad(t){return t*t;}",e.__workletHash=8628631460172,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (87:0)",e.__worklet=!0,e}(),Oe=function(){var e=function(e){return e*e*e};return e._closure={},e.asString="function cubic(t){return t*t*t;}",e.__workletHash=9374441307661,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (98:0)",e.__worklet=!0,e}(),Re=function(){var e=function(e){return function(){var t=function(t){return Math.pow(t,e)};return t._closure={n:e},t.asString="function _f(t){const{n}=jsThis._closure;{return Math.pow(t,n);}}",t.__workletHash=1121339919789,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (111:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function poly(n){return function(t){'worklet';return Math.pow(t,n);};}",e.__workletHash=0xf0e21d4d631,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (109:0)",e.__worklet=!0,e}(),Me=function(){var e=function(e){return 1-Math.cos(e*Math.PI/2)};return e._closure={},e.asString="function sin(t){return 1-Math.cos(t*Math.PI/2);}",e.__workletHash=8621899987563,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (122:0)",e.__worklet=!0,e}(),De=function(){var e=function(e){return 1-Math.sqrt(1-e*e)};return e._closure={},e.asString="function circle(t){return 1-Math.sqrt(1-t*t);}",e.__workletHash=0xe74766c81e4,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (132:0)",e.__worklet=!0,e}(),Ne=function(){var e=function(e){return Math.pow(2,10*(e-1))};return e._closure={},e.asString="function exp(t){return Math.pow(2,10*(t-1));}",e.__workletHash=0xe77bf377b41,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (142:0)",e.__worklet=!0,e}(),Le=function(){var e=function(e=1){var t=e*Math.PI;return function(){var e=function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)};return e._closure={p:t},e.asString="function _f(t){const{p}=jsThis._closure;{return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);}}",e.__workletHash=8897284077766,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (160:9)",e.__worklet=!0,e}()};return e._closure={},e.asString="function elastic(bounciness=1){const p=bounciness*Math.PI;return function(t){'worklet';return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);};}",e.__workletHash=0xe75c59c1497,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (157:0)",e.__worklet=!0,e}(),Be=function(){var e=function(e=1.70158){return function(t){return t*t*((e+1)*t-e)}};return e._closure={},e.asString="function back(s=1.70158){return function(t){return t*t*((s+1)*t-s);};}",e.__workletHash=0xffa86df3d1b,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (174:0)",e.__worklet=!0,e}(),$e=function(){var e=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var r=e-2.25/2.75;return 7.5625*r*r+.9375}var n=e-2.625/2.75;return 7.5625*n*n+.984375};return e._closure={},e.asString="function bounce(t){if(t<1/2.75){return 7.5625*t*t;}if(t<2/2.75){const t2=t-1.5/2.75;return 7.5625*t2*t2+0.75;}if(t<2.5/2.75){const t2=t-2.25/2.75;return 7.5625*t2*t2+0.9375;}const t2=t-2.625/2.75;return 7.5625*t2*t2+0.984375;}",e.__workletHash=5721637210615,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (184:0)",e.__worklet=!0,e}(),Fe=function(){var e=function(e,t,r,n){console.warn("For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead");var i=function(){var i=function(){return Ee(e,t,r,n)};return i._closure={Bezier:Ee,x1:e,y1:t,x2:r,y2:n},i.asString="function _f(){const{Bezier,x1,y1,x2,y2}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",i.__workletHash=4879686787739,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (219:18)",i.__worklet=!0,i}();return{factory:i}};return e._closure={Bezier:Ee},e.asString="function bezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{console.warn('For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead');const factory=function(){'worklet';return Bezier(x1,y1,x2,y2);};return{factory:factory};}}",e.__workletHash=0xd05b5821e71,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (211:0)",e.__worklet=!0,e}(),je=function(){var e=function(e,t,r,n){return Ee(e,t,r,n)};return e._closure={Bezier:Ee},e.asString="function cubicBezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",e.__workletHash=5163284966067,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (229:0)",e.__worklet=!0,e}(),We=function(){var e=function(e){return e};return e._closure={},e.asString="function in_(easing){return easing;}",e.__workletHash=1837493474379,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (242:0)",e.__worklet=!0,e}(),Ue=function(){var e=function(e){return function(){var t=function(t){return 1-e(1-t)};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{return 1-easing(1-t);}}",t.__workletHash=5726884014519,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (252:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function out(easing){return function(t){'worklet';return 1-easing(1-t);};}",e.__workletHash=7718549646703,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (250:0)",e.__worklet=!0,e}(),Ve=function(){var e=function(e){return function(){var t=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;}}",t.__workletHash=2325007799982,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (265:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function inOut(easing){return function(t){'worklet';if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;};}",e.__workletHash=7048715165105,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/Easing.ts (263:0)",e.__worklet=!0,e}(),qe={linear:Te,ease:Pe,quad:xe,cubic:Oe,poly:Re,sin:Me,circle:De,exp:Ne,elastic:Le,back:Be,bounce:$e,bezier:Fe,cubicBezier:je,in:We,out:Ue,inOut:Ve},ze=function(){var e=function(e,t,r){return"function"==typeof r&&(y(r)||console.warn("The callback parameter of timing should be a worklet function")),Ae(e,function(){var n=function(){var n={duration:300,easing:qe.inOut(qe.quad)};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{type:"timing",onFrame:function(e,t){var{toValue:r,startTime:i,startValue:a}=e,o=t-i;if(o>=n.duration)return e.startTime=0,e.current=r,!0;var s=e.easing(o/n.duration);return e.current=a+(r-a)*s,!1},onStart:function(t,r,i,a){a&&"timing"===a.type&&a.toValue===e&&a.startTime?(t.startTime=a.startTime,t.startValue=a.startValue):(t.startTime=i,t.startValue=r),t.current=r,"object"==typeof n.easing?t.easing=n.easing.factory():t.easing=n.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:function(){return 0},current:e,callback:r}};return n._closure={Easing:{inOut:qe.inOut,quad:qe.quad},userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{Easing,userConfig,toValue,callback}=jsThis._closure;{const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}}",n.__workletHash=8710674338333,n.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/timing.ts (39:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:y,defineAnimation:Ae,Easing:{inOut:qe.inOut,quad:qe.quad}},e.asString="function timing(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation,Easing}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of timing should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}}",e.__workletHash=0xc4dbc79e660,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/timing.ts (26:7)",e.__worklet=!0,e}(),Ge=function(){var e=function(e,t,r){return"function"==typeof r&&(y(r)||console.warn("The callback parameter of spring should be a worklet function")),Ae(e,function(){var n=function(){var n={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{onFrame:function(e,t){var{toValue:r,lastTimestamp:i,current:a,velocity:o}=e,s=Math.min(t-i,64);e.lastTimestamp=t;var l=n.damping,c=n.mass,u=n.stiffness,d=-o,p=r-a,h=l/(2*Math.sqrt(u*c)),f=Math.sqrt(u/c),g=f*Math.sqrt(1-h**2),v=s/1e3,m=Math.sin(g*v),y=Math.cos(g*v),_=Math.exp(-h*f*v),b=_*(m*((d+h*f*p)/g)+p*y),w=r-b,S=h*f*b-_*(y*(d+h*f*p)-g*p*m),C=Math.exp(-f*v),I=r-C*(p+(d+f*p)*v),A=C*(d*(v*f-1)+v*p*f*f),k=Math.abs(o)<n.restSpeedThreshold,E=0===n.stiffness||Math.abs(r-a)<n.restDisplacementThreshold;return h<1?(e.current=w,e.velocity=S):(e.current=I,e.velocity=A),!!(n.overshootClamping&&0!==n.stiffness&&(a<r?e.current>r:e.current<r)||k&&E)&&(0!==n.stiffness&&(e.velocity=0,e.current=r),e.lastTimestamp=0,!0)},onStart:function(e,t,r,n){e.current=t,n?(e.velocity=n.velocity||e.velocity||0,e.lastTimestamp=n.lastTimestamp||r):e.lastTimestamp=r},toValue:e,velocity:n.velocity||0,current:e,callback:r,lastTimestamp:0}};return n._closure={userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{userConfig,toValue,callback}=jsThis._closure;{const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};}}",n.__workletHash=5222183752767,n.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/spring.ts (46:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:y,defineAnimation:Ae},e.asString="function spring(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of spring should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}}",e.__workletHash=0xe1ad10b71a2,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/spring.ts (33:7)",e.__worklet=!0,e}(),He=function(){var e=function(e,t){return"function"==typeof t&&(y(t)||console.warn("The callback parameter of decay should be a worklet function")),Ae(0,function(){var r=function(){var r,n={deceleration:.998,velocityFactor:1,velocity:0};e&&Object.keys(e).forEach((function(t){return n[t]=e[t]}));return{onFrame:function(e,t){var{lastTimestamp:r,startTimestamp:i,initialVelocity:a,current:o,velocity:s}=e,l=Math.min(t-r,64),c=s*Math.exp(-(1-n.deceleration)*(t-i)*.1);if(e.current=o+c*n.velocityFactor*l/1e3,e.velocity=c,e.lastTimestamp=t,n.clamp){if(a<0&&e.current<=n.clamp[0])return e.current=n.clamp[0],!0;if(a>0&&e.current>=n.clamp[1])return e.current=n.clamp[1],!0}return Math.abs(c)<1},onStart:function(e,t,r){e.current=t,e.lastTimestamp=r,e.startTimestamp=r,e.initialVelocity=n.velocity,function(){if(n.clamp){if(!Array.isArray(n.clamp))throw Error("config.clamp must be an array but is "+typeof n.clamp);if(2!==n.clamp.length)throw Error(`clamp array must contain 2 items but is given ${n.clamp.length}`)}if(n.velocityFactor<=0)throw Error(`config.velocityFactor must be greather then 0 but is ${n.velocityFactor}`)}()},callback:t,velocity:null!==(r=n.velocity)&&void 0!==r?r:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0}};return r._closure={userConfig:e,callback:t},r.asString='function _f(){const{userConfig,callback}=jsThis._closure;{var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}',r.__workletHash=6565623785597,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/decay.ts (51:44)",r.__worklet=!0,r}())};return e._closure={checkWorkletFunc:y,defineAnimation:Ae},e.asString="function decay(userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of decay should be a worklet function');}}return defineAnimation(0,function(){'worklet';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}",e.__workletHash=2625431540736,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/decay.ts (39:7)",e.__worklet=!0,e}(),Ke=function(){var e=function(e,t){return Ae(t,function(){var r=function(){var r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){var{startTime:i,started:a,previousAnimation:o}=t;if(n-i>e){a||(r.onStart(r,t.current,n,o),t.previousAnimation=null,t.started=!0);var s=r.onFrame(r,n);return t.current=r.current,s}if(o){var l=o.finished||o.onFrame(o,n);t.current=o.current,l&&(t.previousAnimation=null)}return!1},onStart:function(e,t,r,n){e.startTime=r,e.started=!1,e.current=t,e.previousAnimation=n===e?n.previousAnimation:n},current:r.current,callback:function(e){r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1}};return r._closure={_nextAnimation:t,delayMs:e},r.asString="function _f(){const{_nextAnimation,delayMs}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};}}",r.__workletHash=7471806601587,r.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/delay.ts (10:57)",r.__worklet=!0,r}())};return e._closure={defineAnimation:Ae},e.asString="function delay(delayMs,_nextAnimation){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};});}}",e.__workletHash=1119387222703,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/delay.ts (5:7)",e.__worklet=!0,e}(),Qe=function(){var e=function(e,t=2,r=!1,n){return"function"==typeof n&&(y(n)||console.warn("The callback parameter of repeat should be a worklet function")),Ae(e,function(){var i=function(){var i="function"==typeof e?e():e;return{isHigherOrder:!0,onFrame:function(e,n){var a=i.onFrame(i,n);if(e.current=i.current,a){if(e.reps+=1,i.callback&&i.callback(!0,e.current),t>0&&e.reps>=t)return!0;var o=r?i.current:e.startValue;return r&&(i.toValue=e.startValue,e.startValue=o),i.onStart(i,o,n,i.previousAnimation),!1}return!1},onStart:function(e,t,r,n){e.startValue=t,e.reps=0,i.onStart(i,t,r,n)},reps:0,current:i.current,callback:function(e){n&&n(e),!e&&i.callback&&i.callback(!1)},startValue:0}};return i._closure={_nextAnimation:e,numberOfReps:t,reverse:r,callback:n},i.asString="function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}",i.__workletHash=0xddd76efe2b9,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/repeat.ts (31:58)",i.__worklet=!0,i}())};return e._closure={checkWorkletFunc:y,defineAnimation:Ae},e.asString="function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of repeat should be a worklet function');}}return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}",e.__workletHash=9654710012277,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/repeat.ts (17:7)",e.__worklet=!0,e}(),Je=function(){var e=function(...e){return Ae(e[0],function(){var t=function(){var t=e.map((function(e){var t="function"==typeof e?e():e;return t.finished=!1,t})),r=t[0];return{isHigherOrder:!0,onFrame:function(e,r){var n=t[e.animationIndex],i=n.onFrame(n,r);if(e.current=n.current,i){if(n.callback&&n.callback(!0),n.finished=!0,e.animationIndex+=1,e.animationIndex<t.length){var a=t[e.animationIndex];return a.onStart(a,n.current,r,n),!1}return!0}return!1},onStart:function(e,n,i,a){if(1===t.length)throw Error("sequence() animation require more than one animation as argument");e.animationIndex=0,void 0===a&&(a=t[t.length-1]),r.onStart(r,n,i,a)},animationIndex:0,current:r.current,callback:function(e){e||t.forEach((function(t){"function"!=typeof t.callback||t.finished||t.callback(e)}))}}};return t._closure={_animations:e},t.asString="function _f(){const{_animations}=jsThis._closure;{const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};}}",t.__workletHash=7105701959684,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/sequence.ts (7:81)",t.__worklet=!0,t}())};return e._closure={defineAnimation:Ae},e.asString="function sequence(..._animations){const{defineAnimation}=jsThis._closure;{return defineAnimation(_animations[0],function(){'worklet';const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};});}}",e.__workletHash=9934960399614,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/animation/sequence.ts (5:7)",e.__worklet=!0,e}(),Xe=function(){var e=function(e){for(var t=[e];t.length>0;){var r=t.pop();if(Array.isArray(r))for(var n of r)t.push(n);else{if(void 0!==(null==r?void 0:r.onFrame))return!0;if("object"==typeof r)for(var i of Object.values(r))t.push(i)}}return!1};return e._closure={},e.asString="function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}",e.__workletHash=3559579197933,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (14:7)",e.__worklet=!0,e}(),Ye=function(){var e=function(e,t){var r={};for(var n in e)void 0===t[n]&&(r[n]=null);for(var i in t){var a=t[i],o=e[i];Xe(a)||o!==a&&(r[i]=a)}return r};return e._closure={isAnimated:Xe},e.asString="function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}",e.__workletHash=0xfe47055e6f3,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (37:7)",e.__worklet=!0,e}(),Ze=(function(){var e=function(e){var t={};for(var r in e){var n=e[r];Xe(n)||(t[r]=n)}return t};e._closure={isAnimated:Xe},e.asString="function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}",e.__workletHash=2190466090064,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (60:7)",e.__worklet=!0}(),function(){var e=function(e){if("object"!=typeof e)throw new Error(`createAnimatedStyle has to return an object, found ${typeof e} instead`)};return e._closure={},e.asString='function _f(styles){if(typeof styles!==\'object\'){throw new Error("createAnimatedStyle has to return an object, found "+typeof styles+" instead");}}',e.__workletHash=9807328913452,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (74:38)",e.__worklet=!0,e}()),et=function(){var e=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))};return e._closure={},e.asString="function camelToDash(propertyName){function upperToHyphenLower(match){return'-'+match.toLowerCase();}return propertyName.replace(/[A-Z]/g,upperToHyphenLower);}",e.__workletHash=2809696379033,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (81:7)",e.__worklet=!0,e}(),tt=function(){var e=function(e){return Object.keys(e).map((function(t){return`${et(t)}: ${e[t]}`})).join("; ")+";"};return e._closure={camelToDash:et},e.asString="function covertInlineStyle(styleObject){const{camelToDash}=jsThis._closure;{const inlineStyle=Object.keys(styleObject).map(function(key){return camelToDash(key)+\": \"+styleObject[key];}).join('; ')+';';return inlineStyle;}}",e.__workletHash=0xbd03b15f23c,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/utils.ts (89:7)",e.__worklet=!0,e}(),rt=function(){var e=function(e,t,r){var n,i=null!==(n=e())&&void 0!==n?n:{},a=t.last;t.isAnimationCancelled=!0,t.animations=[];var o=Ye(a,i);t.last=Object.assign({},a,i),o&&r(i)};return e._closure={styleDiff:Ye},e.asString="function styleUpdater(updater,state,callback){const{styleDiff}=jsThis._closure;{var _updater;const newValues=(_updater=updater())!==null&&_updater!==void 0?_updater:{};const oldValues=state.last;state.isAnimationCancelled=true;state.animations=[];const diff=styleDiff(oldValues,newValues);state.last=Object.assign({},oldValues,newValues);if(diff){callback(newValues);}}}",e.__workletHash=2830714854600,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (32:0)",e.__worklet=!0,e}();function nt(e,t){if("object"==typeof e&&void 0===e.value)for(var r of Object.keys(e))nt(e[r],r);else if(void 0!==t&&"object"==typeof e&&void 0!==e.value)throw new Error(`invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}var it=function(){var e=function(e,t,r){Array.isArray(t)?t.forEach((function(e){return workletUIModule.updateNodeStyle(e,r)})):"number"==typeof e&&workletUIModule.updateNodeStyle(e,r)};return e._closure={},e.asString="function _f(nodeAddress,nodeAddressArray,inlineStyle){if(Array.isArray(nodeAddressArray)){nodeAddressArray.forEach(function(nodeAddress){return workletUIModule.updateNodeStyle(nodeAddress,inlineStyle);});}else if(typeof nodeAddress==='number'){workletUIModule.updateNodeStyle(nodeAddress,inlineStyle);}}",e.__workletHash=6131512926390,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (63:20)",e.__worklet=!0,e}();function at(e,t,r){var n,i={immediate:!0,flush:"async"};r&&Object.keys(r).forEach((function(e){return i[e]=r[e]}));var a={};i.immediate&&(a=Se(t),Ze(a),nt(a));var o=N({last:a}),s=function(){var e=function(e,r){rt(t,o,function(){var t=function(t){var n=tt(t);it(e,r,n)};return t._closure={covertInlineStyle:tt,updateProps:it,nodeAddress:e,nodeAddressArray:r},t.asString="function _f(updates){const{covertInlineStyle,updateProps,nodeAddress,nodeAddressArray}=jsThis._closure;{const inlineStyle=covertInlineStyle(updates);updateProps(nodeAddress,nodeAddressArray,inlineStyle);}}",t.__workletHash=6818593374547,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (95:39)",t.__worklet=!0,t}())};return e._closure={styleUpdater:rt,updater:t,remoteState:o,covertInlineStyle:tt,updateProps:it},e.asString="function _f(nodeAddress,nodeAddressArray){const{styleUpdater,updater,remoteState,covertInlineStyle,updateProps}=jsThis._closure;{styleUpdater(updater,remoteState,function(updates){'worklet';const inlineStyle=covertInlineStyle(updates);updateProps(nodeAddress,nodeAddressArray,inlineStyle);});}}",e.__workletHash=1262366371979,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (93:14)",e.__worklet=!0,e}(),l=L(e,s,Object.values(null!==(n=t._closure)&&void 0!==n?n:{}),[],i);return{initialStyle:tt(a),mapperId:l}}function ot(e,t,r){var n,i={immediate:!0,flush:"async"};t&&Object.keys(t).forEach((function(e){return i[e]=t[e]}));var a={};i.immediate&&(a=Se(e),Ze(a),nt(a));var o=N({last:a}),s=function(){var t=function(){rt(e,o,function(){var e=function(e){"function"==typeof r&&E(r)(e)};return e._closure={callback:r,runOnJS:E},e.asString="function _f(updates){const{callback,runOnJS}=jsThis._closure;{if(typeof callback==='function'){runOnJS(callback)(updates);}}}",e.__workletHash=0xa8a979dd6bf,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (130:39)",e.__worklet=!0,e}())};return t._closure={styleUpdater:rt,updater:e,remoteState:o,callback:r,runOnJS:E},t.asString="function _f(){const{styleUpdater,updater,remoteState,callback,runOnJS}=jsThis._closure;{styleUpdater(updater,remoteState,function(updates){'worklet';if(typeof callback==='function'){runOnJS(callback)(updates);}});}}",t.__workletHash=0xa22916dd6ab,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/animatedStyle.ts (128:14)",t.__worklet=!0,t}();return{initialStyle:a,mapperId:L(0,s,Object.values(null!==(n=e._closure)&&void 0!==n?n:{}),[],i)}}function st(e){var r;y(e)||console.warn("The parameter to derived should be a worklet function");var n=Object.values(null!==(r=e._closure)&&void 0!==r?r:{}),i=D(Se(e));if(t()){var a=function(){var t=function(){i.value=e()};return t._closure={sharedValue:i,processor:e},t.asString="function _f(){const{sharedValue,processor}=jsThis._closure;{sharedValue.value=processor();}}",t.__workletHash=0xb31b2ea47c9,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/hook/derivedValue.ts (18:16)",t.__worklet=!0,t}();L(0,a,n,[i],{immediate:!1,flush:"async"})}else{var o;null===(o=i.installGetter)||void 0===o||o.call(i,e,n)}return i}class lt{constructor(e,t){this.eventName=void 0,this.eventHash=void 0,this.worklet=void 0,this.worklet=e,this.eventName=t}register(e){this.eventHash=`${this.eventName}-${e}`,W(this.eventHash,this.worklet)}unregister(){this.eventHash&&U(this.eventHash)}}var ct=function(e){return e[e.dismissed=0]="dismissed",e[e.forward=1]="forward",e[e.reverse=2]="reverse",e[e.completed=3]="completed",e}({}),ut={fastLinearToSlowEaseIn:qe.cubicBezier(.18,1,.04,1),linearToEaseOut:qe.cubicBezier(.35,.91,.33,.97),easeInToLinear:qe.cubicBezier(.67,.03,.65,.09),fastOutSlowIn:qe.cubicBezier(.4,0,.2,1)},dt=function(){var e=function(e,t,r){return e+(t-e)*r};return e._closure={},e.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",e.__workletHash=9953309036832,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/workletHelper.ts (29:20)",e.__worklet=!0,e}(),pt=function(){var e=function(e,t,r){return e>r?r:e<t?t:e};return e._closure={},e.asString="function _f(cur,lowerBound,upperBound){if(cur>upperBound)return upperBound;if(cur<lowerBound)return lowerBound;return cur;}",e.__workletHash=0xd5c5dbbc9a9,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/workletHelper.ts (34:21)",e.__worklet=!0,e}();function ht({animation:e,animationStatus:t,curve:r,reverseCurve:n}){return st(function(){var i=function(){var i=!n||t.value!==ct.reverse?r:n,a=e.value;return i?0===a||1===a?a:i(a):a};return i._closure={reverseCurve:n,animationStatus:t,AnimationStatus:ct,curve:r,animation:e},i.asString="function _f(){const{reverseCurve,animationStatus,AnimationStatus,curve,animation}=jsThis._closure;{const useForwardCurve=!reverseCurve||animationStatus.value!==AnimationStatus.reverse;const activeCurve=useForwardCurve?curve:reverseCurve;const t=animation.value;if(!activeCurve)return t;if(t===0||t===1)return t;return activeCurve(t);}}",i.__workletHash=1401058593171,i.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/workletHelper.ts (42:17)",i.__worklet=!0,i}())}var ft=new Map,gt=function(e){var t;ft.has(e)&&(null===(t=ft.get(e).userGestureInProgressHandler)||void 0===t||t.unregister(),ft.delete(e))},vt=function(e){if(!ft.has(e)){var t={userGestureInProgress:G(!1),userGesturesInProgressCount:G(0)},r=t.userGestureInProgress,n=function(){var e=function(e){var t=e.value;r.value=t};return e._closure={userGestureInProgress:r},e.asString="function _f(args){const{userGestureInProgress}=jsThis._closure;{const newVal=args.value;userGestureInProgress.value=newVal;}}",e.__workletHash=0x9a4ecb9a222,e.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (34:23)",e.__worklet=!0,e}(),i=new lt(n,"userGestureInProgressChange");i.register(e),t.userGestureInProgressHandler=i,ft.set(e,t)}},mt=function(e,r,n){var i=t(),a=i?1:0,o=i?ct.completed:ct.dismissed,s=G(a),l=G(a),c=G(o),u=G(o);vt(e);var d=ft.get(e),{userGestureInProgress:p,userGesturesInProgressCount:h}=d,f=function(){var t=function(){h.value+=1,1===h.value&&workletUIModule.startUserGesture(e)};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function startUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{userGesturesInProgressCount.value+=1;if(userGesturesInProgressCount.value===1){workletUIModule.startUserGesture(windowId);}}}",t.__workletHash=0xaf0603d1498,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (82:2)",t.__worklet=!0,t}(),g=function(){var t=function(){h.value<=0?console.warn("For developer: startUserGesture and stopUserGesture must be called in pairs"):(h.value-=1,0===h.value&&workletUIModule.stopUserGesture(e))};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function stopUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{if(userGesturesInProgressCount.value<=0){console.warn('For developer: startUserGesture and stopUserGesture must be called in pairs');return;}userGesturesInProgressCount.value-=1;if(userGesturesInProgressCount.value===0){workletUIModule.stopUserGesture(windowId);}}}",t.__workletHash=623442427718,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (90:2)",t.__worklet=!0,t}(),v=function(){var t=function(){h.value>0&&console.warn("For developer: didPop should not be invoked after startUserGesture"),workletUIModule.navigatorPop(e,r)};return t._closure={userGesturesInProgressCount:h,windowId:e,pageId:r},t.asString="function didPop(){const{userGesturesInProgressCount,windowId,pageId}=jsThis._closure;{if(userGesturesInProgressCount.value>0){console.warn('For developer: didPop should not be invoked after startUserGesture');}workletUIModule.navigatorPop(windowId,pageId);}}",t.__workletHash=0xa6bf3190f2c,t.__location="/data/landun/workspace/wxapplib/src/skyline/src/worklet/route.ts (102:2)",t.__worklet=!0,t}();return{routeType:n,primaryAnimation:s,primaryAnimationStatus:c,secondaryAnimation:l,secondaryAnimationStatus:u,userGestureInProgress:p,userGesturesInProgressCount:h,startUserGesture:f,stopUserGesture:g,didPop:v}},yt={isCustomRoute:!0,opaque:!0,maintainState:!0,transitionDuration:400,reverseTransitionDuration:400,barrierColor:"",barrierDismissible:!1,barrierLabel:"",canTransitionTo:!0,canTransitionFrom:!0,popGestureEnabled:!0},_t=new Map,bt=new Map;function wt(e,t){v.info(`[WABaseLib.Critical] add RouteBuilder routeType: ${e}`),_t.has(e)&&(console.warn(`skyline: routeType(${e}) has been added before`),v.warn(`[WABaseLib.Critical] routeType(${e}) has been added before`)),_t.set(e,t)}function St(e){v.info(`[WABaseLib.Critical] remove RouteBuilder routeType: ${e}`),_t.delete(e)}function Ct(e){return _t.get(e)}function It(e,t,r){var n=Ct(r);if("function"==typeof n){v.info(`[WABaseLib.Critical] create RouteContext routeType: ${r} page: ${t}`);var i=mt(e,t,r);bt.set(t,i);var a=n(i),o=Object.assign({},yt,a);return"function"==typeof o.handlePrimaryAnimation&&(y(o.handlePrimaryAnimation,!1)||console.warn(`routeType(${r}) handlePrimaryAnimation should be a worklet function`)),"function"==typeof o.handleSecondaryAnimation&&(y(o.handleSecondaryAnimation,!1)||console.warn(`routeType(${r}) handleSecondaryAnimation should be a worklet function`)),{routeContext:i,routeConfig:o}}}function At(e){if(bt.has(e))return bt.get(e)}function kt(e){v.info(`[WABaseLib.Critical] remove RouteContext page: ${e}`),bt.delete(e)}})(),y=n})(),(()=>{var n={538:e=>{function t(e,t){for(var r=[],n=~~(t/8),i=t%8,a=0,o=e.length;a<o;a++)r[a]=(e[(a+n)%o]<<i&255)+(e[(a+n+1)%o]>>>8-i&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function i(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function a(e,t){for(var r=[],n=0,i=e.length-1;i>=0;i--){var a=e[i]+t[i]+n;a>255?(n=1,r[i]=255&a):(n=0,r[i]=255&a)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(i(n(e,t),n(e,a)),n(t,a))}function l(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),a))}function c(e,n){for(var i,c=[],u=[],d=0;d<16;d++){var p=4*d;c.push(n.slice(p,p+4))}for(var h=16;h<68;h++)c.push(r(r((i=r(r(c[h-16],c[h-9]),t(c[h-3],15)),r(r(i,t(i,15)),t(i,23))),t(c[h-13],7)),c[h-6]));for(var f=0;f<64;f++)u.push(r(c[f],c[f+4]));for(var g,v,m,y,_=[121,204,69,25],b=[122,135,157,138],w=e.slice(0,4),S=e.slice(4,8),C=e.slice(8,12),I=e.slice(12,16),A=e.slice(16,20),k=e.slice(20,24),E=e.slice(24,28),T=e.slice(28,32),P=0;P<64;P++){var x=P>=0&&P<=15?_:b;v=r(g=t(a(a(t(w,12),A),t(x,P)),7),t(w,12)),m=a(a(a(s(w,S,C,P),I),v),u[P]),y=a(a(a(l(A,k,E,P),T),g),c[P]),I=C,C=t(S,9),S=w,w=m,T=E,E=t(k,19),k=A,A=o(y)}return r([].concat(w,S,C,I,A,k,E,T),e)}e.exports=function(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),i=0,a=n.length;i<a;i++)n[i]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var l=t.length-8;o[s]=parseInt(t.substr(l),2),t=t.substr(0,l)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],n,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],h=0;h<d;h++){var f=64*h;p=c(p,u.slice(f,f+64))}return p}},405:(e,t,r)=>{var n=r(538);e.exports=function(e){return e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.codePointAt(r);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>>6),t.push(128|63&i);else if(i<=55295||i>=57344&&i<=65535)t.push(224|i>>>12),t.push(128|i>>>6&63),t.push(128|63&i);else{if(!(i>=65536&&i<=1114111))throw t.push(i),new Error("input is not supported");r++,t.push(240|i>>>18&28),t.push(128|i>>>12&63),t.push(128|i>>>6&63),t.push(128|63&i)}}return t}(e):Array.prototype.slice.call(e),n(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},977:(e,t,r)=>{var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,l=36,c=1,u=26,d=38,p=700,h=72,f=128,g="-",v=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-c,w=Math.floor,S=String.fromCharCode;function C(e){throw RangeError(_[e])}function I(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function A(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+I((e=e.replace(y,".")).split("."),t).join(".")}function k(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function E(e){return I(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var n=0;for(e=r?w(e/p):e>>1,e+=w(e/t);e>b*u>>1;n+=l)e=w(e/b);return w(n+(b+1)*e/(e+d))}function x(e){var t,r,n,i,a,o,d,p,v,m,y,_=[],b=e.length,S=0,I=f,A=h;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C("not-basic"),_.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(a=S,o=1,d=l;i>=b&&C("invalid-input"),((p=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||p>w((s-S)/o))&&C("overflow"),S+=p*o,!(p<(v=d<=A?c:d>=A+u?u:d-A));d+=l)o>w(s/(m=l-v))&&C("overflow"),o*=m;A=P(S-a,t=_.length+1,0==a),w(S/t)>s-I&&C("overflow"),I+=w(S/t),S%=t,_.splice(S++,0,I)}return E(_)}function O(e){var t,r,n,i,a,o,d,p,v,m,y,_,b,I,A,E=[];for(_=(e=k(e)).length,t=f,r=0,a=h,o=0;o<_;++o)(y=e[o])<128&&E.push(S(y));for(n=i=E.length,i&&E.push(g);n<_;){for(d=s,o=0;o<_;++o)(y=e[o])>=t&&y<d&&(d=y);for(d-t>w((s-r)/(b=n+1))&&C("overflow"),r+=(d-t)*b,t=d,o=0;o<_;++o)if((y=e[o])<t&&++r>s&&C("overflow"),y==t){for(p=r,v=l;!(p<(m=v<=a?c:v>=a+u?u:v-a));v+=l)A=p-m,I=l-m,E.push(S(T(m+A%I,0))),p=w(A/I);E.push(S(T(p,0))),a=P(r,b,n==i),r=0,++n}++r,++t}return E.join("")}o={version:"1.3.2",ucs2:{decode:k,encode:E},decode:x,encode:O,toASCII:function(e){return A(e,(function(e){return m.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return A(e,(function(e){return v.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,h,f=e[c].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},935:(e,t,r)=>{"use strict";t.decode=t.parse=r(817),t.encode=t.stringify=r(779)},517:(e,t,r)=>{"use strict";var n=r(977),i=r(417);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=_;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(935);function _(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var _=e=c.join(s);if(_=_.trim(),!r&&1===e.split("#").length){var b=l.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(_);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,_=_.substr(w.length)}if(r||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===_.substr(0,2);!C||w&&v[w]||(_=_.substr(2),this.slashes=!0)}if(!v[w]&&(C||w&&!m[w])){for(var I,A,k=-1,E=0;E<p.length;E++){-1!==(T=_.indexOf(p[E]))&&(-1===k||T<k)&&(k=T)}-1!==(A=-1===k?_.lastIndexOf("@"):_.lastIndexOf("@",k))&&(I=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(I)),k=-1;for(E=0;E<d.length;E++){var T;-1!==(T=_.indexOf(d[E]))&&(-1===k||T<k)&&(k=T)}-1===k&&(k=_.length),this.host=_.slice(0,k),_=_.slice(k),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var x=this.hostname.split(/\./),O=(E=0,x.length);E<O;E++){var R=x[E];if(R&&!R.match(h)){for(var M="",D=0,N=R.length;D<N;D++)R.charCodeAt(D)>127?M+="x":M+=R[D];if(!M.match(h)){var L=x.slice(0,E),B=x.slice(E+1),$=R.match(f);$&&(L.push($[1]),B.unshift($[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[S])for(E=0,O=u.length;E<O;E++){var W=u[E];if(-1!==_.indexOf(W)){var U=encodeURIComponent(W);U===W&&(U=escape(W)),_=_.split(W).join(U)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var q=_.indexOf("?");if(-1!==q?(this.search=_.substr(q),this.query=_.substr(q+1),t&&(this.query=y.parse(this.query)),_=_.slice(0,q)):t&&(this.search="",this.query={}),_&&(this.pathname=_),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var z=this.search||"";this.path=F+z}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||_||r.host&&e.pathname,S=w,C=r.pathname&&r.pathname.split("/")||[],I=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===C[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(I)r.hostname=r.host=C.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=C.slice(-1)[0],k=(r.host||e.host||C.length>1)&&("."===A||".."===A)||""===A,E=0,T=C.length;T>=0;T--)"."===(A=C[T])?C.splice(T,1):".."===A?(C.splice(T,1),E++):E&&(C.splice(T,1),E--);if(!w&&!S)for(;E--;E)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),k&&"/"!==C.join("/").substr(-1)&&C.push("");var P,x=""===C[0]||C[0]&&"/"===C[0].charAt(0);I&&(r.hostname=r.host=x?"":C.length?C.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&C.length)&&!x&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!a()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function r(){var e=i(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(a()||o(">")||o("?>")||o("/>"));){var l=n();if(!l)return s;s.attributes[l.name]=l.value}if(i(/^\s*\/>\s*/))return s;for(i(/\??>\s*/),s.content=function(){var e=i(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return i(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function i(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function a(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},945:e=>{var t,r=void 0!==i?i:globalThis.Function;function n(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),i=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,i=0,a=0,s=0;do{a|=(127&e[n])<<s,(s+=7)>=8&&(r[i]=255&a,a>>=8,s-=8,i++)}while(e[n++]>=128);return r[i]=255&a,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var l=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};i.uint64=function(){var e=function(t,r){var n=s(t,r);if(n>=7&&NativeGlobal.decodeUint64Array){t=o(t,r);var i=NativeGlobal.decodeUint64Array(t);e.bytes=n}else{i=a.decode(t,r);e.bytes=a.decode.bytes}return i},t=a.encode;return l(0,t,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),i.int64=function(){var e=function(r,n){if(((c=a.decode(r,n))>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var i=s(r,n),l=10==i;l&&(r[9+n]=127&r[9+n]),r=o(r,n);var c=NativeGlobal.decodeUint64Array(r);return e.bytes=i,l?"-"+c:c}if(c>=Math.pow(2,63)){for(var u=9;255===r[n+u-1];)u--;var d=new t(u=u||9);r.copy(d,0,n,n+u),d[u-1]=127&d[u-1],c=-1*a.decode(d,0),e.bytes=10}else e.bytes=a.decode.bytes;return c},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var i=n+9;for(a.encode(-1*e,t,n),t[n+=a.encode.bytes-1]=128|t[n];n<i-1;)t[++n]=255;t[i]=1,r.bytes=10}else a.encode(e,t,n),r.bytes=a.encode.bytes;return t};return l(0,r,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var i=n.apply(this,arguments);return e.bytes=n.bytes,i}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],s=n[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(c(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),i=r("./node_modules/ieee754/index.js"),a=r("./node_modules/isarray/index.js");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r);e=s(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return V(W(t,e.length-r),e,r,n)}function w(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return w(e,t,r,n)}function C(e,t,r,n){return V(U(t),e,r,n)}function I(e,t,r,n){return V(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=j(e[a]);return i}function O(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return a||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,a){return a||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:W(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,n){for(var i=n("./node_modules/util/util.js"),a=n("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,l=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],c={},u=0;u<l.length;u++)c[l[u]]=!0;var d={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},p=function(){var e=[],t=0,n={},l=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},u=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,l(e),void t++):o.test(e[e.length-1])?(l(e),void t++):s.test(e.trim()[0])?(t--,void l(e)):void l(e)},p=function(e){if(!e)return p;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)u(t[r].trim());else u(i.format.apply(i,arguments));return p};return p.scope={},p.formats=d,p.sym=function(e){return e&&function(e){return a(e)&&!c.hasOwnProperty(e)}(e)||(e="tmp"),n[e]||(n[e]=0),e+(n[e]++||"")},p.property=function(e,t){return 1===arguments.length&&(t=e,e=""),a(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},p.toString=function(){return e.join("\n")},p.toFunction=function(t){t||(t={});var n="return ("+e.join("\n")+")";Object.keys(p.scope).forEach((function(e){t[e]||(t[e]=p.scope[e])}));var i=Object.keys(t).map((function(e){return e})),a=i.map((function(e){return t[e]}));return r.apply(null,i.concat(n)).apply(null,a)},arguments.length&&p.apply(null,arguments),p};p.formats=d,e.exports=p},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),i=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=n,i.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),i=r("./node_modules/signed-varint/index.js");function a(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=a,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=a(2,(function t(r,i,a){var s=a,l=o(r);return n.encode(l,i,a),a+=n.encode.bytes,e.isBuffer(r)?r.copy(i,a):i.write(r,a,l),t.bytes=(a+=l)-s,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+a);return r+=o.length,e.bytes=r-i,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=a(2,(function t(r,i,a){var o=a,s=e.byteLength(r);return n.encode(s,i,a,"utf-8"),a+=n.encode.bytes,i.write(r,a,s),t.bytes=(a+=s)-o,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+a);return e.bytes=(r+=a)-i,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=a(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=a(0,(function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r}),(function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,r,i){if(t<0){var a=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<a-1;)r[++i]=255;r[a]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r}),(function t(r,i){var a=n.decode(r,i);if(a>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,i,i+o),s[o-1]=127&s[o-1],a=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return a}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=a(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=a(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=a(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=a(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=a(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),i=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=i},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],a=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=a(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(f(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(l(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},l=function(e){return{name:e[1],message:u(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=a(e)),e.shift(),{name:t,val:r}},f=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var a=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(a=t(e.shift()))&&(a=v(e)),r[i]=a,";"===e[0]&&e.shift();break;case"{":if(e.shift(),a=v(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(a);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(_(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},_=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var a;if(/^("|')([^'"]*)$/.test(t[r]))for(a=1===t[r].length?r+1:r;a<t.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[a])){t=t.slice(0,r).concat(t.slice(r,a+1).join("")).concat(t.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(f(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(l(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,a,s;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],a=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===a})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var a={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(a[e.oneof]||(a[e.oneof]=[]),a[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(a).forEach((function(e){a[e].unshift("oneof "+e+" {"),a[e].push("}"),t.push(a[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},l=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(l(e,[]))})),t.push("}","")}(e,t)})),t.map(c("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),i={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function a(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,l){var c=Object.keys(r).filter((function(e){return!i[e]&&a(r[e])})),u=Object.keys(r).filter((function(e){return!i[e]&&!a(r[e])}));u.forEach((function(e){t+=l+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var i="{"+n.EOL;return r.forEach((function(a,o){i+=t+"  "+a+": "+e[a]+(o<r.length-1?",":"")+n.EOL})),i+t+"}"+n.EOL}(r[e],l)+n.EOL})),c.forEach((function(e){t+=l+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=l+"  buffer: true,"+n.EOL,t+=l+"  encodingLength: null,"+n.EOL,t+=l+"  encode: null,"+n.EOL,t+=l+"  decode: null"+n.EOL,t+=l+"}"+n.EOL,t+=n.EOL})),c.forEach((function(e){t+=l+"define"+e+"()"+n.EOL})),c.length&&(t+=n.EOL);c.forEach((function(i){t+=l+"function define"+i+" () {"+n.EOL,e(r[i],i,l+"  "),t+=l+"  "+i+".encodingLength = encodingLength"+n.EOL,t+=l+"  "+i+".encode = encode"+n.EOL,t+=l+"  "+i+".decode = decode"+n.EOL+n.EOL,t+=l+"  "+o(r[i].encodingLength,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].encode,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].decode,l+"  ")+n.EOL,t+=l+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),a=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},l=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,c){var u={},d={},p={},h=function(e,t){return c?function(e){var t=n.name(e);return t?"encodings."+t:e.name?e.name:"encodings.enum"}(t[e]):"enc["+e+"]"},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,i={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[i.id]||(u[i.id]=i,e.messages.push(i)),r.type=n,r.repeated=!0}})),f(r,r.id)}))};f(e,"");var g=function(r,c){r.messages.forEach((function(e){c[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){c[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),c.type=2,c.message=!0,c.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),f=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],a("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var a=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=i.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),a?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",h(f[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",h(f[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:i,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var a,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=i.encode(t.tag<<3|2),l=i.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",h(f[n],p),r+"[i]")("}"),y("if (packedLen) {"),a=0;a<l.length;a++)y("buf[offset++] = %d",s[a]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(a=0;a<l.length;a++)y("buf[offset++] = %d",l[a]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",h(f[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",h(f[n],p),r),y("offset += %s.encode.bytes",h(f[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:i,enc:p,Buffer:t});var _,b=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),S=[];return g((function(e,t){var n=t.options&&t.options.default,i=v(t.type,r.id,!1),o=i&&i.values;o?t.repeated?S.push(a.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,S.push(a.property(t.name)+": "+parseInt(n||0,10))):S.push(a.property(t.name)+": "+l(t,n))})),S=S.filter((_={},function(e){return!_.hasOwnProperty(e)&&(_[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),S.forEach((function(e,t){w(e+(t===S.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(b&&'if (%s) throw new Error("Decoded message is not valid")',b)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,i,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",a("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",h(f[o],p)),w("%s[tmp.key] = tmp.value",i)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",i,h(f[o],p)):w("%s = %s.decode(buf, offset, offset + len)",i,h(f[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",i,h(f[o],p)):w("%s = %s.decode(buf, offset)",i,h(f[o],p)),w("offset += %s.decode.bytes",h(f[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:i,skip:n.skip,enc:p}),y.bytes=w.bytes=0,c.buffer=!0,c.encode=y,c.decode=w,c.encodingLength=m,c.dependencies=p,c},v=function(e,t,a){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:i}),a=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:i});return n.make(0,r,a,i.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),i=r("./node_modules/protocol-buffers/compile.js"),a=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var a="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;i(a,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(a)},o.prototype.toJSON=function(){return a},new o},e.exports.toJS=function(t){return a(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var a=n.encode(t,r,i);return e.bytes=n.encode.bytes,a},t.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<a;l=n[++r])g(l)||!b(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),S(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(C(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return d(r)}var c,b="",I=!1,A=["{","}"];(h(r)&&(I=!0,A=["[","]"]),C(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(b=" "+RegExp.prototype.toString.call(r)),w(r)&&(b=" "+Date.prototype.toUTCString.call(r)),S(r)&&(b=" "+d(r)),0!==o.length||I&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=I?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)E(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,I)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,b,A)):A[0]+b+A[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===I(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===I(e)}function S(e){return b(e)&&("[object Error]"===I(e)||e instanceof Error)}function C(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=_,t.isObject=b,t.isDate=w,t.isError=S,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var T="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(T&&e[T]){var t;if("function"!=typeof(t=e[T]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),T&&Object.defineProperty(t,T,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=T,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(P,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,i){var a,o=0,s=0,l=i=i||0,c=t.length;do{if(l>=c)throw e.bytes=0,new RangeError("Could not decode varint");a=t[l++],o+=s<28?(a&n)<<s:(a&n)*Math.pow(2,s),s+=7}while(a>=r);return e.bytes=l-i,o};var r=128,n=127},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,a,o){a=a||[];var s=o=o||0;for(;t>=i;)a[o++]=255&t|r,t/=128;for(;t&n;)a[o++]=255&t|r,t>>>=7;return a[o]=0|t,e.bytes=o-s+1,a};var r=128,n=-128,i=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),l=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<l?7:e<c?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=globalThis;try{n=n||new r("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=n),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>n()(...e)}},680:e=>{var t,r,n,i,a=a||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*t,i),t){for(var l=0;l<t;l+=a)this._doProcessBlock(n,l);l=n.splice(0,t),r.sigBytes-=i}return new o.init(l,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);!function(){var e=a,t=(i=e.lib).WordArray,r=i.Hasher,n=[],i=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+l+n[c],u=20>c?u+(1518500249+(a&o|~a&s)):40>c?u+(1859775393+(a^o^s)):60>c?u+((a&o|a&s|o&s)-1894007588):u+((a^o^s)-899497514),l=s,s=o,o=a<<30|a>>>2,a=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(i),e.HmacSHA1=r._createHmacHelper(i)}(),r=(t=a).enc.Utf8,t.algo.HMAC=t.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),i=(n=a).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=r.charAt(64);if(n){var a=e.indexOf(n);-1!=a&&(t=a)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var c=r.indexOf(e.charAt(l-1))<<l%4*2,u=r.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=(c|u)<<24-s%4*8,s++}return i.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=a}},u={};function g(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={id:e,loaded:!1,exports:{}};return n[e](r,r.exports,g),r.loaded=!0,r.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},g.d=(e,t)=>{for(var r in t)g.o(t,r)&&!g.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},g.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var P={};(()=>{"use strict";g.d(P,{default:()=>kit});var n={};g.r(n),g.d(n,{_triggerBeforeShareAppMessage:()=>UC,_triggerBeforeUnloadPage:()=>WC,createRouter:()=>EC,navigateBack:()=>mh,navigateTo:()=>SC,navigateToWithRelatedInfo:()=>CC,normalizeUrl:()=>ch,onPageReload:()=>jC,reLaunch:()=>AC,redirectTo:()=>IC,switchTab:()=>kC});var i={};g.r(i),g.d(i,{Path2D:()=>MQ,canvasGetImageData:()=>WK,canvasGetImageData4Plugin:()=>UK,canvasPutImageData:()=>GK,canvasPutImageData4Plugin:()=>HK,canvasToTempFilePath:()=>cQ,canvasToTempFilePath4Plugin:()=>uQ,createCanvasContext:()=>$Q,createCanvasContext4Plugin:()=>FQ,createContext:()=>LQ,createOffscreenCanvas:()=>xQ,drawCanvas:()=>XK,drawCanvas4Plugin:()=>YK,drawCanvasImpl:()=>JK,getOrCreateCanvasInterface:()=>DQ,isSkiaCanvasEnabled:()=>MK});var u={};g.r(u),g.d(u,{createAudioContext:()=>pZ,createCameraContext:()=>NG,createInnerAudioContext:()=>oZ,createLivePlayerContext:()=>nH,createLivePusherContext:()=>aJ,createMapContext:()=>sV,createSQEditorContext:()=>SZ,createSQLivePlayerContext:()=>iH,createSQMapContext:()=>lV,createSQVideoContext:()=>oz,createVideoContext:()=>az});var O={};g.r(O),g.d(O,{ShareInfoStorage:()=>lye,_getCurrentNetworkType:()=>lv,_getRealRoute:()=>jx,_triggerBeforeShareAppMessage:()=>uye,_triggerBeforeUnloadPage:()=>cye,addToFavorites:()=>Wme,checkAPIAvailable:()=>cd,checkHandoffEnabled:()=>Qme,createPluginConsole:()=>bve,createPluginWX:()=>_ve,createPluginWXWebAssembly:()=>wve,dispatchXrFrameEvent:()=>OV,emitIsloatedAppHide:()=>nW,emitIsloatedAppShow:()=>XW,fontFaceRecords:()=>L5,getAppConfig:()=>Nme,getCachePermissionBytes:()=>Tve,getCloudFileUrl:()=>qx,getInnerEnterOptionsSync:()=>Jp,getLaunchOptionsSync:()=>ux,getLogManager:()=>gie,getNetworkType:()=>nv,getPreloadAdUnitIds:()=>bye,getPreloadVideoAdUnitIds:()=>b0,getPublicLibVersion:()=>xne,getShareCookieString:()=>AO,getStableSystemInfo:()=>J_,getStaticSystemInfoSync:()=>v_,getSystemInfoSync:()=>h_,hasRelievedBuyFlag:()=>yhe,invokeInnerShareCallbacks:()=>xve,invokeWebviewMethod:()=>oh,isIsolatedSubpackage:()=>L6,onAddToFavorites:()=>Fme,onAppConfig:()=>Lme,onAppEnterBackground:()=>aT,onAppEnterForeground:()=>aO,onAppHide:()=>ik,onAppRoute:()=>tT,onAppRouteDone:()=>AB,onAppShow:()=>zA,onAppUnhang:()=>tW,onError:()=>eU,onExitMiniProgramSuccess:()=>pW,onNavigationBarTitleUpdate:()=>aye,onPageNotFound:()=>RU,onPageReload:()=>dye,onPullDownRefresh:()=>Bme,onRealtimeDataResponse:()=>YO,onShareAppMessage:()=>$me,onShareTimeline:()=>rye,onStartHandoff:()=>jme,onTabItemTap:()=>Ume,onThemeChange:()=>BF,onUnhandledRejection:()=>rU,onWebviewEvent:()=>pye,operateRealtimeData:()=>XO,publishFunctionalPage:()=>hye,publishPageScrollTo:()=>fye,publishTelecontrol:()=>gye,publishUpdateAppData:()=>vye,recordUnloadWebviewIdForUserBehaviorAnalytics:()=>Rme,reportActionTrace:()=>_ye,reportNativeUiEvent:()=>xme,reportPv:()=>yye,reportRealtimeAction:()=>Vme,reportRecycledAPI:()=>hM,route:()=>n,shareAppMessage:()=>qme,shareAppMessageDirectly:()=>zme,shareAppMessageForFakeNative:()=>Hme,shareAppMessageToSpecificContactDirectly:()=>Gme,shareAppMessageToSpecificContactForFakeNativeDirectly:()=>Kme,shareTimeline:()=>nye,showShareMenu:()=>oye,showShareTimelineMenu:()=>iye,showUpdatableMessageSubscribeButton:()=>tye,startHandoff:()=>Pme,subscribeRecycleStatistics:()=>Jme,subscribeSavePageState:()=>Xme,subscribeSubjectInfo:()=>mye,subscribeTapHandoffButton:()=>Zme,subscribeTapShareButton:()=>Yme,subscribeTapShareTimeLineButton:()=>eye,trackWeReportSession:()=>Mme,uploadUserLogOnHide:()=>rae,userShareMenuState:()=>sye});var R={};g.r(R),g.d(R,{getSubpackagesConfig:()=>wye,onSubPackageReady:()=>Ace});var D={};g.r(D),g.d(D,{_WebAssembly:()=>pge,_downloadFileSkipCheckDomain:()=>vm,_requestSkipCheckDomain:()=>tw,_socketSkipCheckDomainFactory:()=>Fw,_uploadFileSkipCheckDomain:()=>uw,cacheManager:()=>D_e,checkPermissionSync:()=>bf,count:()=>hk,emitCustomAttrEvent:()=>Ax,handleWxobsError:()=>wk,invokeOperateWXData:()=>Pd,isUsedCache:()=>rbe,onLongTimeNoSee:()=>Px,privateCacheManager:()=>N_e,private_getBackgroundFetchData:()=>Y7,private_getUserAgent:()=>q_,private_onBackgroundFetchData:()=>Z7,reportCallContainer:()=>I_e,request:()=>ew,resetCosInfo:()=>Ex,setupWxobs:()=>wx,sum:()=>fk,teardownWxobs:()=>Sx,uploadToCommonCDN:()=>Uw});var N={};g.r(N),g.d(N,{appRouteInfo:()=>INe,deviceInfo:()=>CNe,deviceInfoLoaded:()=>MNe,getDeviceOrientation:()=>kNe,getGameTouchStatus:()=>UNe,getIndentityInfo:()=>ANe,loadDeviceInfoByManual:()=>DNe,proxyReady:()=>TNe,stopTouchHanlder:()=>zNe});const L=c.initializerDefineProperty;var B=g.n(L);const $=c.applyDecoratedDescriptor;var F=g.n($);const j=c.initializerWarningHelper;var W=Object.create(null);function U(e,t){return W[e]instanceof Array?(W[e].push(t),null):(W[e]=null,b.on(e,t))}function V(e){return null===W[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(W[e]=[],b.on(e,((...t)=>{var r=W[e];for(var n of r){if(!1===n(...t))break}})),t=>{W[e].unshift(t)})}function q(e){if(null===W[e])return console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null;W[e]=[];var t=!1,r=10086;return b.on(e,((...n)=>{t||(r=n);var i=W[e];for(var a of i){if(!1===a(...n))break}})),n=>{W[e].unshift(n),10086!==r&&(W[e].forEach((e=>{e(...r)})),r=10086),t=!0}}var z={None:0,BeforeLaunch:1,AfterLaunch:2},G=(()=>(p.onReady((()=>{G!==p&&void 0!==G&&Object.assign(G,p)})),p))();const H=G;var K="undefined"!=typeof __initHelper&&1===__initHelper,Q,J=e=>Q=e;K&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:b,wxConsole:f,Reporter:T,console:console,__appServiceSDK__:Q,__wxConfig:H,Foundation:h,IS_APP:!0}));var X={},Y=["onViewDidResize","onAppRouteResized","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"],Z;Y.forEach((e=>{X[e]=q(e)}));var ee={get invoke(){return Z},set invoke(e){Z=e}};const te=ee,re={openAddress:62,setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,insertLivePusher:360,updateLivePusher:361,removeLivePusher:362,operateLivePusher:363,insertLivePlayer:364,updateLivePlayer:365,removeLivePlayer:366,operateLivePlayer:367,openOfflinePayView:403,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,insertVoIPView:623,updateVoIPView:624,removeVoIPView:625,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,operateMediaContainer:686,operateMediaTrack:687,launchApp:692,sendBizRedPacketForOpen:694,openVideoEditor:705,operateMediaRecorder:712,onMediaRecorderStateChange:713,openWxappLimit5:720,shareCallback:740,operateCanvasPlayer:741,onCanvasPlayerStateChange:742,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,subscribeVoIPMembers:780,onVoIPVideoMembersChanged:781,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,requestLivePlayerPictureInPicture:930,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,openChannelsCreateContact:985,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,showSalesDrivingMenu:1003,onSalesDrivingMessage:1004,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,reportRequestError:1069,traceUAReport:1079,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,setFileSpaceStatistics:1168,setFileSpaceStatisticsSwitch:1174,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,setupUserBehaviorAnalytics:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235};var ne=null,ie=[],ae=e=>{null!==ne?e():ie.push(e)},oe=e=>{ne=e.data.pluginPermissionBytes,ie.forEach((e=>e())),ie=[]};b.subscribe("batchGetPluginPermissionBytes",oe),h.onLibraryEnd((()=>{void 0!==x&&"function"==typeof x.onSubContextMessage&&x.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&oe(e)}))})),b.subscribe("getPluginPermissionBytesByJsApi",(e=>{ue(e.data.pluginId,e.data.apiName,(t=>{b.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var se=e=>e.split("/",1)[0],le=(e,t)=>{var r,n,i=null===(r=ne)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==i?i=[0,0,0]:"object"!=typeof i&&(i=[i,i,i]),i};function ce(e,t,r){t=se(t),delete r.permissionBytes;var n=le(t,e);return r.permissionBytes=n,r}function ue(e,t,r){e=se(e),p.supportInvokeWithAppId?b.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[re[t]]}]},(t=>{var n=t.pluginPermissionMap[e][0];r([n,n,n])})):ae((()=>{var n=le(e,t);r(n)}))}function de(e,t,r,n){r=parseInt(r,10),ue(e,t,(e=>{n(e[0]===r)}))}function pe(e,t,r,n){r=parseInt(r,10),ue(e,t,(e=>{n(e[0]!==r)}))}var he=(()=>H.platform)(),fe=(()=>"devtools"===he)(),ge=(()=>"android"===he)(),ve=(()=>"ios"===he)(),me=(()=>"windows"===he)(),ye=(()=>"mac"===he)(),_e=(()=>"mina"===he)(),be=(()=>me||ye)();function we(){if(H&&"debug"in H&&void 0!==H.debug)return!!H.debug}var Se=(e=>null===(e=H.host)||void 0===e?void 0:e.env)(),Ce=(()=>"SDK"===Se)(),Ie=null,Ae=null,ke=(e=>(null===(e=H.host)||void 0===e?void 0:e.forceUseNativeMap)||!1)(),Ee=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function Te(){return g.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function Pe(){var e=H.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function xe(){var e=!0;return e}function Oe(){return!1}function Re(){return!0}var Me=(()=>!0)();function De(){return 0===H.appType}var Ne=[0,1,2,3,5,6,8,9,10,11,12,13];function Le(){return Ne.includes(H.appType)}function Be(){return 7===H.appType}function $e(){return 2===H.appType}function Fe(){return 10===H.appType}var je=(()=>Object.prototype.toString)(),We=a.prototype.call.bind(je);function Ue(e){return We(e).slice(8,-1)}function Ve(e,t){return null!=e&&(e instanceof t||null!=e.constructor&&e.constructor.name===t.name)}var qe=e=>"String"===Ue(e),ze=e=>"Number"===Ue(e),Ge=e=>!0===e||!1===e||"Boolean"===Ue(e),He=e=>void 0===e,Ke=e=>null===e,Qe=null,Je=(()=>Number.isFinite||(e=>ze(e)&&g.g.isFinite(e)))(),Xe=e=>ze(e)&&Math.abs(e)===1/0,Ye=e=>Je(e)&&Math.floor(e)===e,Ze=e=>["string","number","boolean","undefined"].includes(typeof e),et=e=>"Object"===Ue(e),tt=e=>et(e)&&!Ke(e),rt=e=>"Object"===Ue(e),nt=(()=>Array.isArray||(e=>"Array"===Ue(e)))(),it=e=>"function"==typeof e,at=e=>"Date"===Ue(e),ot=e=>"RegExp"===Ue(e),st=e=>"Error"===Ue(e),lt=e=>"Symbol"===Ue(e),ct=e=>"Map"===Ue(e),ut=e=>"WeakMap"===Ue(e),dt=e=>"Set"===Ue(e),pt=e=>"WeakSet"===Ue(e),ht=e=>"Promise"===Ue(e),ft=e=>{for(var t in e)return!1;return!0},gt=e=>"ArrayBuffer"===Ue(e),vt=e=>"DataView"===Ue(e),mt=e=>ArrayBuffer.isView(e)&&!vt(e),yt=e=>e&&"WxVirtualNode"===e.type,_t=e=>e&&"WxVirtualText"===e.type;function bt(e,t,r="parameter"){var n=Ue(t),i=Ue(e);if(i!==n)return`${r} should be ${n} instead of ${i};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=bt(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var o=0;o<t.length;++o)a+=bt(e[o],t[o],`${r}[${o}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return a}function wt(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function St(){}var Ct=(()=>Object.assign)();function It(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function At(e,t,r){var n=Ot(r.value);return r.value=function(){return n.apply(this,arguments)},r}function kt(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?T.thirdErrorReport({error:e,extend:t}):T.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function Et(e){var t=Ue(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var Tt=kt(Et,"anyTypeToString");function Pt(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var xt=kt(Pt,"stringToAnyType");function Ot(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:a}=t;return n||i||a?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var a=Ct({success:n,fail:i},t);e.apply(this,[a].concat(r))}))}}function Rt(e,t){U(e,kt(t,`at api ${e} callback function`))}function Mt(e,t){b.onThird(e,kt(t,`at api ${e} callback function`))}var Dt=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Nt=20;function Lt(){this._events={},this._conf&&Bt.call(this,this._conf)}function Bt(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:Nt,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=Nt}function $t(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function Ft(e){this._events={},this._newListener=!1,this._removeListener=!1,Bt.call(this,e)}Ft.prototype.delimiter=".",Ft.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},Ft.prototype.event="",Ft.prototype.once=function(e,t){return this._once(e,t,!1)},Ft.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},Ft.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},Ft.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},Ft.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},Ft.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},Ft.prototype.emit=function(){this._events||Lt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},Ft.prototype.emitAsync=function(){this._events||Lt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},Ft.prototype.on=function(e,t){return this._on(e,t,!1)},Ft.prototype.prependListener=function(e,t){return this._on(e,t,!0)},Ft.prototype.onAny=function(e){return this._onAny(e,!1)},Ft.prototype.prependAny=function(e){return this._onAny(e,!0)},Ft.prototype.addListener=Ft.prototype.on,Ft.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},Ft.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Lt.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,$t.call(this,this._events[e].length,e))):this._events[e]=t,this},Ft.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r});for(var i=0;i<n.length;i++){if(r=n[i]._listeners,Dt(r)){for(var o=-1,s=0,l=r.length;s<l;s++)if(r[s]===t||r[s].listener&&r[s].listener===t||r[s]._origin&&r[s]._origin===t){o=s;break}if(o<0)continue;return this._events[e].splice(o,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],o=t[i];o instanceof a||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},Ft.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},Ft.prototype.removeListener=Ft.prototype.off,Ft.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||Lt.call(this),this):(this._events&&delete this._events[e],this)},Ft.prototype.listeners=function(e){return this._events||Lt.call(this),this._events[e]||(this._events[e]=[]),Dt(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},Ft.prototype.eventNames=function(){return Object.keys(this._events)},Ft.prototype.listenerCount=function(e){return this.listeners(e).length},Ft.prototype.listenersAny=function(){return this._all?this._all:[]};const jt=Ft;var Wt=(()=>new jt({maxListeners:20,newListener:!1}))(),Ut=(()=>new jt({maxListeners:30,newListener:!1}))();function Vt(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):E.surroundThirdByTryCatch(t,`at api on${e} callback function`)}function qt(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}var zt={};function Gt(e){if(e=e[0].toUpperCase()+e.slice(1),!zt[e]){var t=new WeakMap;zt[e]={getGlobalListeners:()=>Wt.listeners(e),getInternalListeners:()=>Ut.listeners(e),emit:(...t)=>{Ut.emit(e,...t),Wt.emit(e,...t)},emitGlobal:(...t)=>{Wt.emit(e,...t)},emitInternal:(...t)=>{Ut.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?Ut.prependOnceListener(e,t):Ut.prependListener(e,t):r.once?Ut.once(e,t):Ut.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&Ut.off(e,t)},onMethod:r=>{var n=Vt(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);Wt.on(e,n)}},offMethod:r=>{if(qt(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>Wt.off(e,t))),t.delete(r)}}else t=new WeakMap,Wt.removeAllListeners(e)}}}return zt[e]}var Ht={},Kt=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],Qt={},Jt=(e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!Kt.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=w;r(e,...t)}},Xt=(e,...t)=>{getEventManager(`WeixinJSBridge-${e}`).emitInternal(...t)},Yt=(e,t)=>{var r=Gt(`WeixinJSBridge-${e}`);Ht[e]||(Rt(e,((...t)=>{r.emit(...t),Jt(e,...t)})),Ht[e]=!0),r.internalOnMethod(t)},Zt=(e,t)=>{var r=Gt(`WeixinJSBridge-Third-${e}`);Qt[e]||(Mt(e,((...e)=>{r.emit(...e)})),Qt[e]=!0),r.internalOnMethod(t)},er=(e,t)=>{getEventManager(`WeixinJSBridge-Third-${e}`).internalOffMethod(t)},tr=(e,t)=>{Gt(`WeixinJSBridge-${e}`).internalOffMethod(t)};function rr(e,t,r){return b.publish(e,t,r)}var nr=new jt,ir,ar=e=>{ir=e,nr.emit("__virtualDOM__")},or=nr.on.bind(nr,"__virtualDOM__"),sr,lr=e=>sr=e,cr,ur=e=>{cr=e,nr.emit("__wxModule__")},dr,pr=e=>{dr=e,nr.emit("__subContextEngineSub__")},hr=nr.on.bind(nr,"__subContextEngineSub__"),fr=nr.on.bind(nr,"__wxModule__"),gr,vr=e=>gr=e,mr,yr=e=>{mr=e,nr.emit("__cloudSDK__")},_r=nr.on.bind(nr,"__cloudSDK__"),br,wr={},Sr=!1,Cr=()=>Sr,Ir=e=>wr[e]||sr.getPageTypeById(e),Ar=(e,t)=>{"context"===t?wr[e]=t:sr.setPageTypeById(e,t),Sr=Sr||"webview"!==t},kr=e=>"webview"===e?e:"context",Er=e=>{if(void 0===e||0===e.length)return{};var t=kr(Ir(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=kr(Ir(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r};null===(br=b.clientManager)||void 0===br||br.on("clientConnected",(e=>{Ar(e,"webview")}));var Tr=(e,t={},r)=>{Cr()&&(Array.isArray(r)?r.forEach((r=>{x.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):x.postMessageToSubContext({event:e,params:{params:t}},r))},Pr=(e,t={},r)=>{Cr()&&(Array.isArray(r)?r.forEach((r=>{x.postMessageToSubContextSync({event:e,params:{params:t,pageId:r}},r)})):x.postMessageToSubContextSync({event:e,params:{params:t}},r))};function xr(e,t,r){rr(e,{data:t,options:{timestamp:Date.now()}},r)}var Or=Me?(e,t,r)=>{if(null==r)xr(e,t,r),Tr(e,t,r);else{var n=Er(r);void 0!==n.webview&&xr(e,t,n.webview),void 0!==n.context&&Tr(e,t,n.context)}}:xr,Rr=(e,t,r)=>{if(null==r)xr(e,t,r),Pr(e,t,r);else{var n=Er(r);void 0!==n.webview&&xr(e,t,n.webview),void 0!==n.context&&Pr(e,t,n.context)}};function Mr(e,t){b.subscribe(e,t)}function Dr(e,t){Mr(e,(({data:e,options:r},n,i={})=>{var a=r&&r.timestamp||0,o=Date.now();T.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:i.nativeTime||0}}),"number"==typeof n&&void 0===Ir(n)&&Ar(n,"webview"),"function"==typeof t&&t(e,n)}))}var Nr=(e,t)=>{Lr.on(e,(e=>{void 0===Ir(e.pageId)&&Ar(e.pageId,"context"),t(e.params,e.pageId)}))},Lr=Me?new h.EventEmitter:null;Me&&h.onLibraryEnd((()=>{x.onSubContextMessage((e=>{Lr.emit(e.event,e.params)}))}));var Br=Me?(e,t)=>{Dr(e,t),Nr(e,t)}:Dr,$r="",Fr=(e={})=>{try{$r=e.transitExtraData.adUxInfo}catch(e){$r=""}};H.onReady((()=>{Fr(H.appLaunchInfo)})),Yt("onAppEnterForeground",(e=>{Fr(e)})),Yt("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||($r="")})),Br("getAdUxInfo",((e,t)=>{Or("adUxInfoGot",{adUxInfo:$r,callbackId:e.callbackId},[t])}));var jr=()=>$r;function Wr(){return 4===H.appType}function Ur(e,t,r,n={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||jr());var i=n.appId;return"splashad"===h.env.workerType||H.supportInvokeWithAppId||void 0===i||Wr()?b.invoke(e,t,r,n):ae((()=>{var a=ce(e,i,t);b.invoke(e,a,r,n)}))}function Vr(e,t,r,n={}){if(ge)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return b.invokeThird(e,t,r,n)}var qr={},zr={},Gr={},Hr=0,Kr=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),Qr=()=>{qr={},zr={},Gr={}},Jr=()=>{var e=Kr(1,qr),t=Kr(2,zr),r=Kr(3,Gr),n=[].concat(e,t,r);0!==n.length&&qu("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:T.getAppType()})}),Qr()},Xr=(e,t,r,n,i)=>{var a;(a=t?qr:r?zr:Gr)[e]=a[e]||{},a[e][i]=(a[e][i]||0)+1,Date.now()-Hr>=6e4&&(Hr=Date.now(),setTimeout(Jr,6e4))},Yr=0,Zr=1,en=2,tn=3,rn=4,nn=5,an=6,on=7,sn=8,ln=100,cn=101,un=102,dn=103,pn=104,hn=105,fn=106,gn=107,vn=108,mn=109,yn=110,_n=111,bn=112,wn=1e3,Sn=1001,Cn=1002,In=1003,An=1004,kn=1005,En=1006,Tn=1007,Pn=1008,xn=1009,On=1010,Rn=1011,Mn=1012,Dn=1013,Nn=1014,Ln=1015,Bn=1016,$n=1017,Fn=1018,jn=1019,Wn=1020,Un=1021,Vn=1022,qn=1023,zn=1024,Gn=1025,Hn=1026,Kn=50001,Qn=100001,Jn=101100,Xn=101101,Yn=101102,Zn=102101,ei=103101,ti=103102,ri=106e3,ni=106001,ii=106002,ai=106003,oi=106004,si=106005,li=106010,ci=109001,ui=2e5,di=201001,pi=201002,hi=201003,fi=301001,gi=301002,vi=301003,mi=401101,yi=401102,_i=500001,bi=502001,wi=503101,Si=504101,Ci=505101,Ii=510001,Ai=510101,ki=6e5,Ei=600001,Ti=600002,Pi=600003,xi=600004,Oi=600005,Ri=600006,Mi=600007,Di=600008,Ni=600009,Li=600010,Bi=600011,$i=602e3,Fi=602001,ji=602002,Wi=602101,Ui=602102,Vi=602103,qi=602104,zi=602105,Gi=602106,Hi=602107,Ki=602108,Qi=602120,Ji=602300,Xi=602301,Yi=602302,Zi=603101,ea=603102,ta=603103,ra=603104,na=603105,ia=603300,aa=603301,oa=603302,sa=603303,la=605101,ca=605102,ua=605103,da=606101,pa=7e5,ha=700001,fa=701e3,ga=701001,va=701002,ma=701100,ya=701101,_a=701102,ba=701103,wa=701104,Sa=701105,Ca=701106,Ia=701107,Aa=701108,ka=701109,Ea=701110,Ta=701111,Pa=701112,xa=701113,Oa=701114,Ra=701115,Ma=701116,Da=701117,Na=8e5,La=800001,Ba=800002,$a=800003,Fa=801001,ja=802001,Wa=901101,Ua=901102,Va=901103,qa=1103002,za=1103003,Ga=1103004,Ha=1103005,Ka=1103006,Qa=1103007,Ja=1107001,Xa=1107002,Ya=1107003,Za=1107004,eo=1107005,to=1107006,ro=1107007,no=1107008,io=1107009,ao=1107010,oo=1107011,so=1107012,lo=1107013,co=12e5,uo=1300001,po=1300002,ho=1300005,fo=1300009,go=1300013,vo=1300014,mo=1300020,yo=1300021,_o=1300022,bo=1300036,wo=1300066,So=1300201,Co=1300202,Io=1300203,Ao=1300300,ko=1300301,Eo=1301e3,To=1301002,Po=1301003,xo=1301004,Oo=1301005,Ro=1301006,Mo=1301007,Do=1301008,No=1301009,Lo=1301100,Bo=1301102,$o=1301103,Fo=1301104,jo=1301111,Wo=1301112,Uo=1302001,Vo=1302002,qo=1302003,zo=1302004,Go=1302005,Ho=1302100,Ko=14e5,Qo=1400001,Jo=1402101,Xo=1404e3,Yo=1404100,Zo=1404101,es=1404102,ts=1404103,rs=1404104,ns=1412e3,is=1412001,as=1412002,os=1412003,ss=1412004,ls=1416100,cs=1416101,us=1416102,ds=1416103,ps=1416104,hs=1416105,fs=1416106,gs=1416107,vs=1416108,ms=1416109,ys=1420103,_s=1421101,bs=1500101,ws=1500102,Ss=1500103,Cs=1500104,Is=1500105,As=1502001,ks=1502002,Es=1502003,Ts=1503e3,Ps=1504e3,xs=1504001,Os=1504002,Rs=1504003,Ms=1504100,Ds=1504101,Ns=1504200,Ls=1504201,Bs=1504202,$s=1504203,Fs=1504204,js=1504205,Ws=1504206,Us=1504207,Vs=1504208,qs=1504209,zs=1504210,Gs=1505e3,Hs=1505001,Ks=1505002,Qs=1505003,Js=1505004,Xs=1505005,Ys=1505006,Zs=1505020,el=1505021,tl=1505022,rl=1505023,nl=1505024,il=1505025,al=1505026,ol=1505027,sl=1505028,ll=1505029,cl=1505030,ul=1505031,dl=1505032,pl=1505040,hl=1509e3,fl=1509001,gl=1509002,vl=1509003,ml=1509004,yl=1509005,_l=1509006,bl=1509007,wl=1509008,Sl=1509009,Cl=1509010,Il=151e4,Al=1510101,kl=1510102,El=1510103,Tl=1510104,Pl=1510105,xl=1510106,Ol=1510107,Rl=1510108,Ml=1510109,Dl=1510110,Nl=1510111,Ll=1510112,Bl=1510113,$l=1510114,Fl=1512001,jl=1512002,Wl=1517001,Ul=1525001,Vl=1525002,ql=1525003,zl=2e6,Gl=2000001,Hl=2000002,Kl=2000003,Ql=2000004,Jl=2002e3,Xl=2002001,Yl=2002002,Zl=2002003,ec=2002004,tc=2002005,rc=2003e3,nc=2003001,ic=2003002,ac=2004e3,oc=2004001,sc=2004002,lc=2004003,cc=2004004,uc=2004005,dc=2004006,pc=2004007,hc=2004008,fc=2004009,gc=2004010,vc=2004011,mc=2004012;function yc(e,t,r){var n=bt(t,r);return!n||(Sc({name:e,args:t,errno:Sn,errMsg:`parameter error: ${n}`,success:!1}),!1)}function _c(e,t){var r=bt(e,t);if(r)throw new Error(`parameter error: ${r}`)}function bc(e,t={},r,n){var i=ze(r);Sc({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function wc({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,a=E.surroundThirdByTryCatch(t.complete||St,`at api ${e} complete callback function`);n.errMsg=i,a(n)}function Sc({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:a,res:o={},exception:s}){t=t||{};var l=E.surroundThirdByTryCatch((r?t.success:t.fail)||St,`at api ${e} ${r?"success":"fail"} callback function`),c=E.surroundThirdByTryCatch(t.complete||St,`at api ${e} complete callback function`);ze(n)?(o.errno=n,o.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(o.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,ze(a)&&(o.errCode=a)),s&&(o.exception=s),l(o),c(o)}var Cc=({success:e,fail:t,complete:r}={},n)=>{var i=e=>{"function"==typeof t&&(n?E.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?E.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?E.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?E.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:i,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${a||n}:fail`):(o.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),i(o)}}},Ic=(()=>Object.assign)();function Ac(e,t,r){var n=r.value,i=surroundByPromiseFactory(Pc(t,n));return r.value=function(){return i.apply(this,arguments)},r}var kc=Symbol("ErrorInfosSymbol"),Ec=(()=>class extends Error{constructor(e,t={}){super(e),this[kc]=t}})(),Tc=e=>(t={},...r)=>new Promise(((n,i)=>e(Ic({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=Ic({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));Ic(n,r),n[kc]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=Ic({},e);delete n.errMsg,Ic(r,n),r[kc]=n,r._complete_hook=!0,i(r)}}}),...r)));function Pc(e,t){return(r={},...n)=>{var i={success:r.success,fail:r.fail,complete:r.complete};delete(r=Ic({},r)).success,delete r.fail,delete r.complete,t(r,...n).then((t=>Sc({name:e,args:i,success:!0,res:t})),(t=>{t._complete_hook?wc({name:e,args:i,errMsg:t.message,res:t[kc]||{}}):Sc({name:e,args:i,success:!1,errMsg:t.message,res:t[kc]||{}})}))}}var xc=(e,t)=>Ot(Pc(e,t)),Oc=1024,Rc={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},Mc=null,Dc=null,Nc=null,Lc=void 0,Bc=new Promise((e=>{Nc=e})),$c={lastRoute:"",lastOpenType:"",scene:-1,sceneNote:"",query:{},runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:Rc.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:"",routeType:"",openingInnerPage:!1,get currentWebviewId(){return Lc},set currentWebviewId(e){Lc=e,Nc&&(Nc(null),Nc=null)},currentWebviewIdPromise:Bc,getWebviewIds:()=>sr.getGlobalWebviewIds()};const Fc=$c;var jc={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},Wc={OK:1,BLOCK:2,NO_BLOCK:3},Uc={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},Vc="该功能暂时无法使用",qc=v.createLogger("BanForPage"),zc=!1,Gc=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),Hc=[];function Kc(e){if(!e)return-1;var t=-1;try{t=Hc.findIndex((t=>qe(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){qc.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return qc.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function Qc(e,t,r){for(var n=-1,i=0;i<Hc.length;i++){var a=Hc[i];if((!qe(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!qe(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=i;break}}return qc.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}function Jc(e,t){var r,n,i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return qc.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(qc.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===jc.OK)r=!1;else if(i.state===jc.BLOCK)r=!0;else if(i.state===jc.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var a=i.toast_wording||Vc;Yu("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?Wc.BLOCK:Wc.NO_BLOCK:Wc.OK,Zc(t,n,Uc.API,t),1!==e.is_valid||!r}function Xc(e,t,r){var n=Qc(e,t,r);return-1===n?(Zc(e,Wc.OK,Uc.API,e),!0):Jc(Hc[n],e)}function Yc(e){var t=Object.keys(Fc.query).reduce(((e,t)=>[...e,`${t}=${Fc.query[t]}`]),[]).join("&");return Xc(e,Fc.lastRoute+(t?`?${t}`:""),Fc.navigationBarTitleMap[Fc.lastRoute]||"")}function Zc(e,t,r,n="",i=""){if(qc.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${zc}`),zc){var{appLaunchInfo:a}=H,o=Object.keys(Fc.query).map((e=>`${e}=${Fc.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:Fc.lastRoute+(o?`?${o}`:""),title:Fc.navigationBarTitleMap[Fc.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:i};qc.log("[reportAPIBanForPage], reqData:",s),Pd({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){qc.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}H.onReady((()=>{if(!fe)try{var{do_report:e,navigate_ban_rule_list:t}=H.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;Hc=t,zc=1===e,Gc=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),Gc))}catch(e){qc.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var eu=a.prototype.call.bind(Array.prototype.push),tu=a.prototype.call.bind(Array.prototype.forEach),ru=["startPullDownRefresh"],nu=[],iu={appRoute:!1,appRouteDone:!1},au=()=>{tu(nu,(e=>{var{name:t,args:r,option:n}=e;Vu(t,r,n)})),nu=[]},ou=(e,t,r)=>{var{appRoute:n,appRouteDone:i}=iu;!n&&i?Vu(e,t,r):eu(nu,{name:e,args:t,option:r})},su=void 0!==r&&r?r.version:"unknown",lu=void 0!==r&&r?r.updateTime:"unknown";"string"==typeof su&&(su=su.replace(" ","")),"string"==typeof lu&&(lu=lu.replace(" ","-"));var cu=()=>su,uu=()=>lu;function du(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function pu(e,t=!0){var r=Ue(e);switch(r){case"Number":case"Boolean":return e;case"String":return du(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${pu(e.message)}|${pu(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${pu(t)}=${pu(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var n=[];return t?(e.forEach((e=>n.push(pu(e,"Array"!==Ue(e))))),n.join(";")):`[${r}]`;default:return`[${r}]`}}var hu=(()=>{var e={};return H.onReady((()=>{Object.assign(e,H.appLaunchInfo),Yt("onAppEnterForeground",(t=>{Object.assign(e,t)}))})),e})();function fu(){if(void 0===sr)return"";var e=sr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var gu=(()=>Array.prototype.map)(),vu=a.prototype.call.bind(gu),mu=(()=>Array.prototype.join)(),yu=a.prototype.call.bind(mu);function _u(e,t,r){var n=t.url||"",i=yu(vu([H.appType+1e3,e,fu(),hu.scene,encodeURIComponent(hu.scene_note||hu.sceneNote),pu(t),r,0,cu(),uu(),hu.sessionid||hu.sessionId,n],du(1024)),",");T.reportKeyValue({key:"OpenUrl",value:i})}var bu=(()=>Object.create)(),wu=(()=>Object.assign)(),Su=(()=>Object.keys)(),Cu=(()=>Array.prototype.reduce)(),Iu=Array.prototype.includes.bind(ru),Au=a.prototype.call.bind(Cu),ku=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],Eu=e=>Ee||ge&&ku.includes(e),Tu;function Pu(e){void 0===Tu&&(Tu=e)}function xu(e,t,r,n,i){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof Tu&&Tu(t,i)}function Ou(e,t,r,n){var i=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(i,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}function Ru(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),it(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||T.reportIDKey({key:`${t}_fail`})}function Mu(e,t){return Au(Su(e),((r,n)=>("function"==typeof e[n]&&(r[n]=E.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function Du(e,t){return Au(Su(e),((r,n)=>("function"==typeof e[n]&&(r[n]=kt(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}function Nu(e,t,r,n,i){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?xu(r,t,e,n,i):o?Ou(e,t,r,n):s&&Ru(n,t,e,r,t),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),Xr(t,a,s,o,e.errMsg)}function Lu(e,t,r,n){var i;return i=r.isThird?Mu(r,t):Mu(e,t),function(e){Nu(e,t,i,r,n)}}var Bu=(()=>String.prototype.split)(),$u=(()=>String.prototype.startsWith)(),Fu=a.prototype.call.bind(Bu),ju=e=>Fu(e,"/",1)[0],Wu=a.prototype.call.bind($u);function Uu(e){return function(t,r={},n={},i="/"){var a=n.notPack;et(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||_u(t,r,Date.now()),n=Du(n,t);var o=Lu(r=wu(bu(null),r),t,n,i);T.reportIDKey({key:t});var s={keepOriginalParams:Eu(t)};if(!e&&"splashad"!==h.env.workerType){if(Le()&&Gc.has(t)&&!Yc(t))return void o({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof i&&Wu(i,"wx")){var l=ju(i);s.appId=l}}a&&(s.notPack=!0),Ur(t,r,o,s)}}var Vu=Uu(!1),qu=(e,t,r)=>{Iu(e)?ou(e,t,r):Vu(e,t,r)},zu=(e,t,r)=>Tc((t=>qu(e,t,r)))(t),Gu=e=>e?(t,r,n)=>{Vu(t,r,n,e)}:qu,Hu={},Ku,Qu=()=>{if(Ku)return Ku;var e=(e,t)=>{var r=Hu[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),i=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):i&&r.cancel?r.cancel():a&&r.fail(e),r.complete&&r.complete(e)}catch(e){}Xr(r.__jsapi_name__,n,a,i,e.errMsg),delete Hu[t]}};return Ku=e,e},Ju=(e,t,r)=>{var n,i=r.notPack,a={pureInvoke:!0,highPerformance:Hu,keepOriginalParams:Ee};n=Ku||Qu(),i&&(a.notPack=!0),t.__jsapi_name__=e,b.pureInvoke(e,t,n,a)},Xu=Uu(!0),Yu=(e,t,r)=>{Xu(e,t,r)};te.invoke=qu;var Zu=.05;function ed({WXDataApiName:e,argument:t,isSuccess:r,invokeTime:n,costTime:i,result:a,errMsg:o,isConfirm:s,queueLength:l,wxdataQueueTimestamp:c,wxdataDequeueTimestamp:u,beginCGITimestamp:d,CGICallbackTimestamp:p,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:f,wxlibCallbackTimestamp:g,requestInQueue:v,requestingCount:m,cost1:y,cost2:_,cost3:b,cost4:w,cost5:S,cost6:C}){Math.random()<Zu&&setTimeout((()=>{var I=Fc.currentNetworkType,A=H.appType+1e3,k=H.appLaunchInfo&&void 0!==H.appLaunchInfo.scene?H.appLaunchInfo.scene:0,E=[e,pu(JSON.stringify(t)),r?1:0,n,i,I,pu(a),A,k,cu(),uu(),o&&pu(o)||"",s?1:0,l,y,_,b,w,S,C,0,v?1:0,m,n,c,u,d,p,h,f,g].map(du(1024)).join(",");T.reportKeyValue({key:"WeAppOperateWXData",value:E})}),0)}var td=0,rd=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],nd=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons","webapi_createmidascoinorder","webapi_getiapinfocreateitemorder","webapi_getiapinfocreatecoinorder","webapi_getopencommconf"],id=["qbase_commapi","webapi_botdemo"],ad=(e={},t={},...r)=>{var n=Object.assign({},e);n._isFromBaseOperateWXData=!0;var i=t.beforeAll,a=t.beforeSuccess,o=t.beforeFail,s=n.data&&n.data.api_name;rd.includes(s)?(n.requestInQueue=!0,delete n.timeout):n.requestInQueue=!1,nd.includes(s)?n.isImportant=!0:n.isImportant=!1,id.includes(n.data&&n.data.api_name)&&(n.keepAlive=!0);var l={isSuccess:void 0,WXDataApiName:s,argument:n,invokeTime:Date.now(),requestInQueue:n.requestInQueue,requestingCount:++td};qu("operateWXData",n,{beforeAll(e){var r=Date.now();td--,l.costTime=r-l.invokeTime;try{if(e&&e.data&&e.data.data?l.result=JSON.stringify(e.data):l.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;delete e.clientInfo,Object.keys(n).forEach((e=>{l[e]=n[e]})),l.cost1=n.wxdataQueueTimestamp-l.invokeTime,l.cost2=n.wxdataDequeueTimestamp-n.wxdataQueueTimestamp,l.cost3=n.beginCGITimestamp-n.wxdataDequeueTimestamp,l.cost4=n.CGICallbackTimestamp-n.beginCGITimestamp,l.cost5=n.wxlibCallbackTimestamp-n.CGICallbackTimestamp,l.cost6=r-n.wxlibCallbackTimestamp}}catch(e){v.error(e)}"function"==typeof i&&i.call(t,e)},beforeSuccess(e){l.isSuccess=!0,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof a&&a.call(t,e),ed(l)},beforeFail(e){l.isSuccess=!1,l.errMsg=e.errMsg,n.data.data&&n.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof o&&o.call(t,e),ed(l)}},...r)};function od(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?T.thirdErrorReport({error:e,extend:t}):T.errorReport({key:r,error:e,extend:t})}}}}function sd(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||sd(r)})),e}function ld(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}function cd(e){var t="unknown";if(H.appContactInfo&&H.appContactInfo.operationInfo&&H.appContactInfo.operationInfo.jsonInfo&&H.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=H.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var ud=(()=>Object.assign)();function dd(e){return(t={})=>new Promise(((r,n)=>{e(ud(t,{success:r,fail:n}))}))}var pd=/_+(\w)/g;function hd(e){var t=e.replace(pd,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]}));return t}var fd=/(?=[A-Z])/;function gd(e){return e.split(fd).join("_").toLowerCase()}function vd(e){return e.charAt(0).toUpperCase()+e.slice(1)}function md(){return fe?!H.urlCheck:!0===H.debug}function yd(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),i=String(t).split(".").map((e=>parseInt(e,10))),a=Math.max(n.length,i.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<a&&0===(r=s(n[o],i[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function _d(e){var t=!1;return function(...r){if(!t)return t=!0,e(...r)}}function bd(e,t){return t.reduce(((t,r)=>(He(e[r])||(t[r]=e[r]),t)),{})}function wd(){return H.appLaunchInfo&&"singlePage"===H.appLaunchInfo.mode}function Sd(){var e;return 1==(1&((null===(e=H.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0))}function Cd(){var e,t=(null===(e=WXConfig.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0;return 1==(1&t)&&!(2==(2&t))}var Id=function(){return H.isIsolateContext};function Ad(e){for(var t=e.length,r=0,n=0;n<t;++n)r=r<<8|e[n];return r}function kd(e,t){var r=function(e){if("string"==typeof e){for(var t=e.split(".").map((e=>parseInt(e,10)));t.length<4;)t.push(0);return Ad(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=r(e))>(t=r(t))?1:e<t?-1:0}var Ed=(()=>JSON.parse)(),Td=e=>({keepAlive:t,apiName:r,reqData:n,sdkApiName:i,pluginId:a,success:o,fail:s,complete:l,fromComponent:c=!1,withCredentials:u=!1,showConfirm:d=!1,timeout:p=18e4}={})=>{if(yc("operateWXData",{apiName:r,success:o,fail:s,complete:l},{apiName:""})){var h={success:o,fail:s,complete:l};i=i||"operateWXData";var f={api_name:r,data:n||{},operate_directly:e};"string"==typeof a&&(f.plugin_appid=a),!0===c&&(f.from_component=!0),!0===u&&(f.with_credentials=!0),!0===d&&(f.show_confirm=!0),ad({keepAlive:t,data:f,timeout:p,success(t){if("string"==typeof t.data)try{t.data=Ed(t.data)}catch(e){return void bc(i,h,`json parse error, json="${t.data}"`)}var{data:r}=t;delete t.data;var{data:n,encryptedData:a,iv:s,cloud_id:c,err_no:u,signature:d}=r;if(e)void 0!==n&&(t.rawData=n),t.respData=r;else if("string"==typeof n)try{t.data=Ed(n)}catch(e){return void bc(i,h,`json parse error, json="${n}"`)}else t.data={};d&&(t.signature=d),a&&(t.encryptedData=a,t.iv=s,c&&(t.cloudID=c)),"number"==typeof u&&0!==u?bc(i,h,u):("function"==typeof o&&o(t),"function"==typeof l&&l(t))},fail(e){"function"==typeof s&&s(e),"function"==typeof l&&l(e)}},{beforeAll(e){"operateWXData"!==i&&(e.errMsg=e.errMsg.replace("operateWXData",i))}})}},Pd=Td(!1),xd=dd(Pd),Od=Td(!0),Rd=(()=>Object.assign)();function Md(e,t,r=(()=>{}),n=(()=>{})){return(i={})=>{var{success:a,fail:o}=Cc(i,e);Pd({apiName:t,reqData:r(i)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,Rd(e,e.rawDataObject),n(e),delete e.rawDataObject,a(e)},fail:o,complete:void 0})}}var Dd={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const Nd=Dd;var Ld={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onThemeChange:10,offThemeChange:10,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const Bd=Ld;var $d={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const Fd=$d;var jd={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:40,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:30,openChannelsActivity:30,openChannelsUserProfile:30,openChannelsLiveCollection:30,openChannelsEvent:30,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0};const Wd=jd;var Ud={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const Vd=Ud;var qd={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};const zd=qd;var Gd={openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,onAppShow:10,onAppHide:10},Hd=Object.create(null);Object.assign(Hd,Gd);const Kd=Hd;var Qd=Object.create(null);Object.assign(Qd,{sample:Nd,ui:Bd,log:Fd,tap:Wd,singlePage:Vd,thirdApp:zd,background:Kd});var Jd=(e,t)=>Qd[t][e],Xd=(e,t)=>{var r=Qd[e],n=[];return Object.entries(r).forEach((([e,r])=>{r===t&&n.push(e)})),n},Yd=!1;function Zd(e){Yd="tap"===e}function ep(){setTimeout((()=>{Yd=!1}),0)}function tp(){return Oe()?Yd:Yd||ir.checkTapMark()||M.checkTapMark()}function rp(e){var t=Jd(e,"thirdApp");return 0!==t&&1!==t||!Pe()||1===t&&tp()&&qu("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}class np extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class ip extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}function ap(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function op(e,t){for(var r in t)e[r]=t[r];return e}var sp=Object.prototype.hasOwnProperty;function lp(e,t){return sp.call(e,t)}function cp(e,t,r){!1!==et(e)&&t!==r&&lp(e,t)&&(e[r]=e[t],delete e[t])}function up(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function dp(e){if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t}function pp(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var hp=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function fp(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if(lp(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function gp(e){var t={};if(e.indexOf("?")>-1){var r=e.indexOf("?")+1,n=e.substring(r);if(n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#"))),!n)return t;for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=");t[o[0]]=o[1]}}return t}var vp=null;function mp(e,t){var r=Object.keys(t),n=!1,i=!1,a=vp;if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){for(var o,s="",l=0;l<e.length;l++){var c=e[l];if(i||!n)if(s+=c,"?"!==c||n){if("&"===c&&n)a!==vp?s+=encodeURIComponent(a):a=vp,o=Array(r.length).fill(0),i=!0;else if(n&&"="===c){i=!1;for(var u=0;u<o.length;u++)!1!==o[u]&&o[u]===r[u].length&&(a=t[r[u]])}else if(i){for(var d=void 0,p=0;p<o.length;p++){if(!1!==o[p])d=!0,r[p][o[p]]!==c?o[p]=!1:o[p]++}d||(o=[])}}else n=!0,i=!0,o=Array(r.length).fill(0);else if(a===vp){s+=c;continue}}s+=n?"&":"?";for(var h=0;h<r.length;h++){var f=r[h];s+=f+"=",s+=encodeURIComponent(t[f])}return s}return e}function yp(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),i=n[0],a=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),o=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return i+"?"+fp(ap(a,o))}return e}function _p(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function bp(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),i=[];for(var a in n)lp(n,a)&&i.push(`${a}=${encodeURIComponent(n[a])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function wp(e){if(!fe||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}var Sp=/^[-+a-zA-Z0-9]+:\/\//,Cp=/(^|\/)__[-+a-zA-Z0-9]+__\//;function Ip(e,t){return E.wrapSystemFunction("appServiceSDKScriptError",t,e)}function Ap(e,t,r=!0){if(v.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=dp(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Ap(e,t.substr(2),!1);var n,i,a=t.split("/");for(n=0,i=a.length;n<i&&".."===a[n];n++);a.splice(0,n);var o=e.length>0?e.split("/"):[];o.splice(o.length-n-1,n+1);var s=o.concat(a).join("/");return v.info(`[getRealRoute] finalRoute=${s}`),s}function kp(e){var t=e.match(Sp);if(!t)return e;var r=t[0];if("plugin://"===r){var n=r.length,i=e.indexOf("/",n);if(i>=0){var a=e.slice(n,i),o=H.plugins&&H.plugins[a]?H.plugins[a].provider:a;e=e.slice(0,n)+o+e.slice(i)}var s=e.indexOf("?");s<0&&(s=e.length);var l=e.slice(0,s),c=gr.Component._list[l];if(!c)throw new np(`Page "${l}" is not found`);e=c.is+e.slice(s)}else if("plugin-private://"===r){var u=e.indexOf("?");u<0&&(u=e.length);var d=e.slice(0,u);e="/"+sr.convertComponentAliasToRoute(d)+e.slice(u)}else if("wx://"===r)e="/__wx__/"+e.slice(5);else{if("wxpage://"!==r)throw new np(`Unknown URL protocol "${r}"`);e="/"+e}return e}function Ep(e,t=""){return t=t.replace(/^\//,""),Oe()?`__plugin__/${e}/${t}`:kp(`plugin-private://${e}/${t}`)}function Tp(e,t,r=!0){for(;Sp.test(t);)t=kp(t);var n=Ap(e,t,r);return v.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function Pp(e){var t=e.match(Sp),r=e.match(Cp),n="";if(t){var i=t[0];if("plugin://"===i){var a=i.length,o=e.indexOf("/",a);if(o>=0){var s=e.slice(a,o);n=H.plugins&&H.plugins[s]?H.plugins[s].provider:s}}else if("plugin-private://"===i){var l=i.length,c=e.indexOf("/",l);if(c>=0)n=e.slice(l,c)}else"wx://"===i&&(n="//")}if(r){var u=r[0];if(u.endsWith("__plugin__/")){var d=e.indexOf(u)+u.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else u.endsWith("__wx__/")&&(n="//")}return n}function xp(e,t){var r=Pp(t);return!r||Pp(ir.convertRouteToComponentAlias(e))===r}function Op(e){var t=e.match(Sp);return t?t[0]:null}function Rp(e,t){var r=new FileReader;r.onload=function(){t(this.result)},r.readAsArrayBuffer(e)}function Mp(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function Dp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Np(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function Lp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)}function Bp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}var $p=(e,t)=>"glass-easel"===sr.getComponentFramework(e)?M.getEnv().codeManager.getPluginRoutePrefix(t):ir.getPluginRoutePrefix(t),Fp=(e,t)=>{var r;return"glass-easel"===sr.getComponentFramework(t)?null===(r=M.getEnv().getAdapterPage(t))||void 0===r?void 0:r.findNodeById(e):ir.getNodeById(e,t)},jp=e=>{var t;return"glass-easel"===sr.getComponentFramework(e)?null===(t=M.getEnv().getAdapterPage(e))||void 0===t?void 0:t.getRootNodeId():ir.getRootNodeId(e)},Wp=(e,t,r=!0)=>{if("glass-easel"===sr.getComponentFramework(t)){var n,i,a,o,s=null===(n=M.getCallerMap(e))||void 0===n||null===(i=n.component)||void 0===i||null===(a=i.getNodeById)||void 0===a?void 0:a.call(i);return r?s&&s!==(null===(o=M.getEnv().getAdapterPage(t))||void 0===o?void 0:o.getRootNodeId())?s:"":s}var l=e&&e.__wxExparserNodeId__;return r?l&&l!==ir.getRootNodeId(t)?l:"":l},Up=null;function Vp(){var e;return null===Up?!(null===(e=H.appLaunchInfo)||void 0===e||!e.inBackground):Up}function qp(e){Up=e}function zp(){return Up}const Gp=c.asyncToGenerator;var Hp=g.n(Gp),Kp={};function Qp(e){Kp=e}function Jp(){return Kp}function Xp(e,t){var r=Jp(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");T.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}var Yp=!1;function Zp(e){wd()&&(Yp=e)}function eh(){wd()&&(Xp(1),T.submit())}function th(){Br("onSinglePageTap",(e=>{if(wd()){var t=e.toast||Yp;Yp=!1,Xp(t?3:2,e.ts)}}))}class rh{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return v.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);v.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){v.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}}var nh=new rh,ih=0,ah=[],oh=(e,t={},r,n)=>{var i=ih++;ah[i]=n,Or("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===r?[Fc.currentWebviewId]:r)};Br("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=ah[t];delete ah[t],r&&r(e)}));var sh=(e,t={},r={})=>{et(t)||(t={});var n=Lu(t=Object.assign({},t),e,r);oh(e,t,void 0,n)};function lh(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!sr.hasPageRoute(n)||(bc(e,r,`page "${up(t)}" is not found`),!1)}function ch(e,t,r){var n=void 0===t._relativePath?Fc.lastRoute:t._relativePath;v.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, Global.lastRoute=${Fc.lastRoute}`);try{return Tp(n,t.url,!r)}catch(i){if(!(i instanceof np))throw i;if(!r){if(!xp(n,t.url))return t.url;bc(e,t,i.message)}}return""}var uh=Gt("AppPerfRouteNavigation");function dh(e){return"wxpage://"===Op(e)}function ph(e,t,r){return!!dh(t)||(!xp(void 0===r._relativePath?Fc.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||lh(e,t,r))}function hh(e,t){var r=ch(e,t,!0);if(!r)return!0;var n=Kc(r),i=Uc[gd(e).toUpperCase()],a=!0,o="",s=Wc.OK;if(n>-1){var l=Hc[n];(o=l.redirect_url)&&1===l.is_valid?(bc(e,t,"url has been banned"),oh("openUrl",{url:o}),s=Wc.BLOCK,a=!1):o&&1!==l.is_valid&&(s=Wc.NO_BLOCK)}return Zc(e,s,i,o,r),a}var fh=!1;function gh(e,t){return!fh||(bc(e,t,"current operation was banned."),!1)}function vh(e=0){fh=!0,setTimeout((()=>fh=!1),e)}var mh=(t={})=>{if(gh("navigateBack",t=Object.assign({},t))){var r=t._webviewId;if(void 0!==r){t.delta=void 0;var n=sr.getPageMetaByWebviewId(r);if(n){var i=n.framesetViewId;t.viewId=i}}if("number"!=typeof t.delta?t.delta=1:(t.delta=parseInt(t.delta,10),t.delta<1&&(t.delta=1)),"function"==typeof sr.getCurrentPagesByDomain)if(sr.getCurrentPagesByDomain("").length<=1)return void bc("navigateBack",t,"cannot navigate back at first page.");t.singlePageData={},qu("navigateBack",t,{beforeSuccess(){e.traceRoute("navigateBack")},afterFail(){nh.unblock(),e.traceRoute("navigateBack")}}),uh.emit({type:"navigateBack",start:Date.now()})}},yh={};class _h{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=E.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=E.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var i=0;!(i>=this.listener[e].length);)r===this.listener[e][i].fn.toString()&&(this.listener[e].splice(i,1),i--),i++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}var bh=new WeakMap;function wh(e){bh.set(e,yh),yh={}}function Sh(e){return bh.get(e)}function Ch(){var e=new _h,t=new _h,r={},n=["listener","emit","on","once","off","_addListener"];for(var i of n)"emit"===i?r[i]=t[i].bind(t):"function"==typeof e[i]?r[i]=e[i].bind(e):r[i]=e[i];for(var a of n)"emit"===a?yh[a]=e[a].bind(e):"function"==typeof t[a]?yh[a]=t[a].bind(t):yh[a]=t[a];return r}var Ih=(e,t,...r)=>{if(void 0!==E)E.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==x)x.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}};class Ah{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){it(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?Ih(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}var kh=null,Eh=!1;function Th(){if(!Eh)throw new Error("WeixinArrayBuffer not ready");return kh}h.onLoad((()=>{kh=g.g.WeixinArrayBuffer,Eh=!0}));var Ph=new jt,xh={};const Oh={emitter:Ph,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:xh};var Rh=new WeakMap,Mh=(e,t)=>Rh.set(e,t),Dh=e=>Rh.get(e),Nh=e=>Rh.delete(e),Lh=e=>{for(var t in Oh.puidToPluginWX)if(Oh.puidToPluginWX[t]===e)return t},Bh=e=>{if(Oe()){var t=Dh(e);return t&&t.provider?t.provider:void 0}return Oh.pluginIDs[Lh(e)]},$h=Object.keys,Fh=e=>{for(var t=$h(Oh.pluginIDs),r=0;r<t.length;++r)if(Oh.pluginIDs[t[r]]===e)return Oh.puidToPluginWX[t[r]]},jh=e=>Oh.pluginVersions[Lh(e)],Wh=e=>{var t=Bh(e);if(void 0!==t)return Oh.pluginInfos[t]},Uh=e=>{e.success(Oh.pluginInfos[e.pluginId])},Vh=e=>null==e?{}:{id:e.plugin_id,hostSign:{noncestr:e.noncestr||"",timestamp:e.timestamp||"",signature:e.host_sign||""},domains:{request:e.request_domain||[],uploadFile:e.upload_domain||[],downloadFile:e.download_domain||[]}},qh=(e,t,r)=>{var n=new RegExp(`^${t}:`),i={};return["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(i[t]=i=>{i.errMsg=i.errMsg.replace(n,r+":"),e[t](i)})})),Object.assign({},e,i)},zh=e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},Gh=(e={})=>{yc("close",e,{fd:""})&&qu("close",e)},Hh=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(qu("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Kh=32768,Qh=16384,Jh=61440;class Xh{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(this.mode&Jh)===e}isDirectory(){return this._checkModeProperty(Qh)}isFile(){return this._checkModeProperty(Kh)}}var Yh=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new Xh(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Xh(e.stats[""]);else{var n=[],i=e.stats;ge&&(i=e,n.push({path:"/",stats:ef(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new Xh(t)}),delete i[e]}})),e.stats=n}},Zh=(e={})=>{yc("stat",e,{path:""})&&qu("stat",e,{beforeSuccess:t=>{Yh(t,e.path)}})},ef=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,i;if(qu("statSync",{path:e,recursive:t,success(t){Yh(t,e),r=t.stats},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},tf=(e={})=>{yc("fstat",e,{fd:""})&&qu("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new Xh({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},rf=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,n;if(qu("fstatSync",{fd:e,fail(e){r=e.errMsg,n=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:a}=e;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new Xh({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:a})}}),r){var i=new Error(r);throw i.errno=n,i}return t},nf=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],af=(e={})=>{var t=Object.assign({},e);if(yc("write",t,{fd:""}))if(t.encoding&&-1===nf.indexOf(t.encoding))bc("write",t,`invalid encoding "${t.encoding}"`);else{if(gt(t.data)){if(t.data.byteLength>10485760)return void bc("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!qe(t.data))return void bc("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),qu("write",t)}},of=({fd:e,data:t,offset:r,length:n,encoding:i,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(i&&-1===nf.indexOf(i))throw new ip(`invalid encoding "${i}"`);if(gt(t)){if(t.byteLength>10485760)throw new ip("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!qe(t))throw new TypeError("data must be a string or ArrayBuffer");var o,s,l;if("number"!=typeof a&&(a=void 0),qu("writeSync",{fd:e,data:t,offset:r,length:n,encoding:i,position:a,fail(e){o=e.errMsg,l=e.errno},success(e){s={bytesWritten:e.bytesWritten}}}),o){var c=new Error(o);throw c.errno=l,c}return s},sf=(e={})=>{if(yc("read",e,{fd:""}))if(gt(e.arrayBuffer)){var t=Object.assign({},e),r=Th();ve&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),ze(t.position)&&t.position<0?t.position=0:He(t.position)||Ke(t.position)?t.position=null:ze(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,qu("read",t,{beforeSuccess(t){t.arrayBuffer=e.arrayBuffer},afterAll(){ve&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else bc("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},lf=(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!gt(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),i=Th();ve&&i&&i.trace&&(n.arrayBufferId=i.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),ze(n.position)&&n.position<0?n.position=0:He(n.position)||Ke(n.position)?n.position=null:ze(n.position)||(n.position=0);var a=Number(n.length);Number.isNaN(a)?n.length=0:n.length=a;var o,s,l,c=Number(n.offset);if(Number.isNaN(c)?n.offset=0:n.offset=c,qu("readSync",{...n,fail(e){s=e.errMsg,l=e.errno},success(e){o={bytesRead:e.bytesRead,arrayBuffer:r}}}),ve&&i&&i.untrace&&i.untrace(n.arrayBufferId),s){var u=new Error(s);throw u.errno=l,u}return o},cf=(e={})=>{yc("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),qu("ftruncate",e))},uf=({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),qu("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},df={close:Gh,closeSync:Hh,fstat:tf,fstatSync:rf,write:af,writeSync:of,read:sf,readSync:lf,ftruncate:cf,ftruncateSync:uf},pf=e=>{yc("saveFile",e,{tempFilePath:""})&&qu("saveFile",e)},hf=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(qu("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},ff=e=>{yc("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,qu("openDocument",e))},gf=(e={})=>{qu("getSavedFileList",e)},vf=(e={})=>{yc("getSavedFileInfo",e,{filePath:""})&&qu("getSavedFileInfo",e)},mf=(e={})=>{yc("removeSavedFile",e,{filePath:""})&&qu("removeSavedFile",e)},yf=(e={})=>{if(yc("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=bt(e,{digestAlgorithm:""});if(t)return void bc("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void bc("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}qu("getFileInfo",e,{})}},_f={};H.onReady((()=>{var e=Object.keys(re).map((e=>re[e]));qu("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var r=0;r<t.permissionBytes.length;r++){var n=e[r];_f[n]=1===t.permissionBytes[r]}},fail(e){}})}));var bf=e=>{var t=re[e];if("number"!=typeof t)return!1;if(!He(_f[t]))return _f[t];var r=!1;return qu("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(r=1===e.permissionBytes[0],_f[t]=r)}}),r},wf=e=>{Sc({name:"checkPermission",args:e,success:!0,res:{hasPermission:bf(e.apiName)}})},Sf=null,Cf=new Proxy({},{get(e,t,r){if(!Sf)throw new Error("NativeGlobal not ready");return Reflect.get(Sf,t,r)},set(e,t,r,n){if(!Sf)throw new Error("NativeGlobal not ready");return Reflect.set(Sf,t,r,n)}});function If(e){h.onLoad((()=>{e(Cf)}))}h.onLoad((()=>{Sf="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const Af=Cf;var kf=(e={})=>{if("[object Object]"===Object.prototype.toString.call(H.expt)){var t=H.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}qu("getABTestConfig",e)},Ef=(e={})=>{if(Be()){if("[object Object]"===Object.prototype.toString.call(H.expt)){var t=H.expt[e.experimentId];if(void 0!==t&&"function"==typeof e.success)return void e.success({testConfig:t})}qu("getABTestConfig",e)}else bc("getABTestConfig",e,"permission denied",1)},Tf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],Pf=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],xf=[{match:/^connectSocket/,version:1},{match:/^request/,version:ge?3:1},{match:/^downloadFile/,version:ge?3:1}];function Of(e,t){xf.push({match:e,version:t})}var Rf=e=>{var t=0;return xf.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t},Mf=!1;H.onReady((()=>{var e=Af.fs;if(e&&e.FileReader){var t=!1,r=ve?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";kf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Of(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=bf("bindingReadFile");Mf=t||n,v.info(`${Mf?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var Df=(e={})=>{if(yc("readFile",e,{filePath:""}))if(He(e.encoding)||qe(e.encoding))if(He(e.position)||ze(e.position))if(He(e.length)||ze(e.length))if(Mf){var t,r=Af.fs;e.workerId,(t=new r.FileReader).onerror=t=>bc("readFile",e,t),t.onread=t=>Sc({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else qu("readFile",e);else bc("readFile",e,`invalid length: ${e.length}`);else bc("readFile",e,`invalid position: ${e.position}`);else bc("readFile",e,`invalid encoding: ${e.encoding}`)},Nf=(e,t,r,n,i)=>{if(!e||!qe(e))throw new ip(`invalid filePath: ${e}`);if(!He(t)&&!qe(t))throw new ip(`invalid encoding: ${t}`);if(!He(r)&&!ze(r))throw new ip(`invalid position: ${r}`);if(!He(n)&&!ze(n))throw new ip(`invalid length: ${n}`);if(Mf){var a=Af.fs;try{return a.readFileSync(e,t)}catch(s){throw new Error(s)}}var o,s,l;if(qu("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){o=e.data},fail(e){s=e.errMsg,l=e.errno}}),s){var c=new Error(s);throw c.errno=l,c}return o},Lf=(e={})=>{yc("writeFile",e,{filePath:""})&&(e.encoding&&-1===nf.indexOf(e.encoding)?bc("writeFile",e,`invalid encoding "${e.encoding}"`):qu("writeFile",e,{}))},Bf=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===nf.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(qu("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},$f=(e={})=>{yc("mkdir",e,{dirPath:""})&&qu("mkdir",e)},Ff=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if(qu("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},jf=(e={})=>{yc("rmdir",e,{dirPath:""})&&qu("rmdir",e)},Wf=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if(qu("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Uf=(e={})=>{(be||"wxfile://"!==e.dirPath)&&(!be||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?yc("readdir",e,{dirPath:""})&&qu("readdir",e):bc("readdir",e,"path permission denied")},Vf=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if(qu("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}return t},qf=(e={})=>{yc("access",e,{path:""})&&qu("access",e)},zf=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if(qu("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Gf=(e={})=>{yc("unlink",e,{filePath:""})&&qu("unlink",e)},Hf=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if(qu("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Kf=(e={})=>{yc("unzip",e,{zipFilePath:""})&&qu("unzip",Object.assign({},e,{targetDirectory:e.targetPath}))},Qf=(e={})=>{yc("copyFile",e,{srcPath:"",destPath:""})&&qu("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},Jf=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if(qu("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Xf=(e={})=>{yc("rename",e,{oldPath:"",newPath:""})&&qu("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},Yf=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if(qu("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Zf=(e={})=>{yc("appendFile",e,{filePath:""})&&(e.encoding&&-1===nf.indexOf(e.encoding)?bc("appendFile",e,`invalid encoding "${e.encoding}"`):qu("fs_appendFile",e,{}))},eg=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===nf.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(qu("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},tg="readZipEntry",rg=(e={})=>{yc(tg,e,{filePath:""})&&(He(e.encoding)||-1!==nf.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?qu(tg,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${tg}:ok`:e.entries[t].errMsg=`${tg}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):bc(tg,e,"invalid entries"):bc(tg,e,`invalid encoding "${e.encoding}"`))},ng=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],ig=(e={})=>{var t=Object.assign({},e);yc("open",e,{filePath:""})&&(void 0===e.flag||ng.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),qu("open",t)):bc("open",e,`invalid flag "${e.flag}"`))},ag=(e={})=>{var t,r,n,{filePath:i}=e,{flag:a}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==a&&!ng.includes(a))throw new ip(`invalid flag: ${a}`);if(void 0===a&&(a="r"),qu("openSync",{filePath:i,flag:a,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var o=new Error(r);throw o.errno=n,o}return t},og=(e={})=>{yc("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),qu("truncate",e,{}))},sg=({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),qu("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},lg=!1,cg=(e={})=>{if(yc("readCompressedFile",e,{filePath:"",compressionAlgorithm:""}))if(lg){var t=new Af.fs.FileReader;t.onerror=t=>bc("readCompressedFile",e,t),t.onread=t=>Sc({name:"readCompressedFile",args:e,res:{data:t}}),t.readCompressedFile(e.filePath,e.compressionAlgorithm)}else qu("readCompressedFile",e)},ug=({filePath:e,compressionAlgorithm:t}={})=>{if(!qe(e))throw new ip(`invalid filePath: ${e}`);if(!qe(t))throw new ip(`invalid compressionAlgorithm: ${t}`);if(lg)try{return Af.fs.readCompressedFileSync(e,t)}catch(n){throw new Error(n)}var r,n,i;if(qu("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},dg={saveFile:pf,saveFileSync:hf,getSavedFileList:gf,getSavedFileInfo:vf,removeSavedFile:mf,getFileInfo:yf,readFile:Df,readFileSync:Nf,writeFile:Lf,writeFileSync:Bf,mkdir:$f,mkdirSync:Ff,rmdir:jf,rmdirSync:Wf,readdir:Uf,readdirSync:Vf,access:qf,accessSync:zf,unlink:Gf,unlinkSync:Hf,stat:Zh,statSync:ef,unzip:Kf,copyFile:Qf,copyFileSync:Jf,rename:Xf,renameSync:Yf,appendFile:Zf,appendFileSync:eg,readZipEntry:rg,open:ig,openSync:ag,truncate:og,truncateSync:sg,readCompressedFile:cg,readCompressedFileSync:ug},pg={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},hg={openSync:!0,truncateSync:!0},fg="",gg="",vg="",mg="",yg="",_g="";H.onReady((()=>{try{fg=H.env.USER_DATA_PATH,gg=H.env.OPEN_DATA_PATH,delete H.env.OPEN_DATA_PATH,vg=fg+"/__plugins__",fe?(mg="http://__wxprivate__",yg="http://sdk",_g="http://ad"):(mg="wxfile://__wxprivate__",yg="wxfile://sdk",_g="wxfile://ad")}catch(e){}}));var bg=()=>fg,wg=()=>gg,Sg=()=>vg,Cg=e=>`${vg}/${e}`,Ig=e=>`${mg}/${e}`,Ag=()=>yg,kg=()=>_g,Eg=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),Tg=(e,t,r,n)=>{var i=bg(),a=wg(),o=Sg();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||wd()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!Eg.has(n)||(!e.startsWith(i)||e):"game"===t||"app"===t?!(e.startsWith(a)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(a)?e:!e.startsWith(i)||(!!e.startsWith(`${o}/${r}`)||e):e)},Pg=function(e,t,r,n){return(...i)=>{var a,o=t.endsWith("Sync"),s=!o||hg[t]?i[0]:i,l=pg[t].every((e=>{var i=Tg(s[e],r,n,t);return!0===i||(a=i,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||pg[t].forEach((e=>{"string"!=typeof s[e]||s[e].match(/^[a-zA-Z0-9]+:\/\//)||(s[e]=Ep(n,s[e]))})),l)return e(...i);if(o){var c=new Error(`${t}:fail permission denied with path "${a}"`);throw c.errno=vo,c}Sc({success:!1,name:t,args:s,errno:vo,errMsg:`permission denied with path "${a}"`})}},xg=function(e,t,r,n){Object.keys(e).forEach((i=>{He(pg[i])||(Ke(pg[i])?t[i]=(...t)=>e[i](...t):t[i]=Pg(e[i],i,r,n))}))},Og=function(e,t,r){Object.keys(e).forEach((n=>{var i=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);bc(n,e,"invalid fd")}}))},Rg=function(e,t){var r=e.open,n=e.openSync,i=e.close,a=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;i(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;a({fd:r}),t.delete(r)}},Mg=(e,t="")=>{var r={},n=new Set;return xg(dg,r,e,t),Og(df,r,n),Rg(r,n),r},Dg=()=>Mg("app"),Ng=()=>Mg("game"),Lg=()=>Mg("opendata"),Bg=e=>Mg("app-plugin",e),$g=e=>Mg("game-plugin",e),Fg=e=>Mg("private-space-for-inner-plugin",e),jg=new WeakMap,Wg=new WeakMap;class Ug{constructor(e={}){Wg.set(this,new Ah("AI",!0)),qu("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{jg.set(this,e),Wg.get(this).emit("Load")},fail:e=>{setTimeout((()=>{Wg.get(this).emit("Error",e)}))}}))}onLoad(e){Wg.get(this).on("Load",e)}offLoad(e){Wg.get(this).off("Load",e)}onError(e){Wg.get(this).on("Error",e)}offError(e){Wg.get(this).off("Error",e)}run(e={}){var t=Th(),r={input:{},sessionId:jg.get(this)};for(var n in e){var i,a;null!==(i=e[n])&&void 0!==i&&i.data&&null!==(a=e[n])&&void 0!==a&&a.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{qu("runInferenceSession",Object.assign(r,{success({output:r}){for(var n in r){var i;if("number"==typeof(null===(i=r[n])||void 0===i?void 0:i.data)){var a=r[n].data;r[n].data=t.getTraceBuffer(a),t.untrace(a)}}e(r)},fail:n}))}))}destroy(){qu("releaseInferenceSession",{sessionId:jg.get(this)}),Wg.delete(this),jg.delete(this)}}function Vg(e={}){return new Ug(e)}var qg=function(e={}){var t=Bh(this),{model:r}=e;if(r.startsWith(bg())){if(!r.startsWith(Cg(t)))throw new ip(`invalid model: ${r}`)}else r=Ep(t,r);return new Ug(Object.assign({},e,{model:r}))},zg=e=>{qu("getInferenceEnvInfo",e)},Gg=JSON.parse,Hg=JSON.stringify,Kg=!0,Qg=(e,t,{timeout:r}={timeout:1e4})=>{if(!Kg)return t;var n,i=null;return(a={})=>{var o,{success:s,fail:l}=Cc(a,e);null===i?(o=!1,i=new Promise(((n,i)=>{t(Object.assign({},a,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:nn})}),r)}))):o=!0,i.then((e=>{if(i=null,o){var t={};try{t=Gg(n)}catch(e){v.error("constructCachedOptimizedApi parse error",e)}s(t)}else{try{n=Hg(e)}catch(e){v.error("constructCachedOptimizedApi stringify error",e)}s(e)}})).catch((e=>{i=null,l(e)}))}},Jg="",Xg="",Yg=!1,Zg=Gt("networkstatusChange"),ev=Gt("networkWeakChange"),tv=Gt("networkTypeReady"),rv=e=>{qu("getNetworkType",e)},nv=rv,iv=Zg.onMethod,av=Zg.offMethod,ov=ev.onMethod,sv=ev.offMethod,lv=()=>Jg,cv=tv.onMethod,uv=()=>Yg,dv=()=>Xg;"undefined"!=typeof IS_SDK_PACKAGE||(Rt("onNetworkStatusChange",((e={})=>{Jg=e.networkType,Xg=e.signalStrength,Fc.currentNetworkType=Jg,Zg.emit(e),Or("onNetworkStatusChange",e)})),Rt("onNetworkWeakChange",((e={})=>{ev.emit(e)}))),H.onReady((()=>{H.networkType&&(Jg=H.networkType),nv({success(e){Jg=e.networkType,Xg=e.signalStrength,Fc.currentNetworkType=Jg,Yg=e.hasSystemProxy,tv.emit(Jg)}})}));const pv={query:{},scene:0,sceneNote:""};var hv=0,fv=[],gv=Math.random,vv;H.onReady((()=>{vv=Date.now()}));var mv=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:fv,appType:T.getAppType()},null,2);qu("reportRealtimeAction",{actionData:e}),fv=[]},yv=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var i=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=i}catch(e){}})),t},_v=(e,t,r,n,i,a,o,s=0,l=0,c={},u=0,d={},p,h=!0,f=void 0,g=0)=>{var v;t.length>1024&&(t=t.substring(0,1024));var m="",y="",_=0,b="";if(Oe()?(y=yv(pv.query),_=pv.scene,b=pv.sceneNote):(_=Fc.scene,b=Fc.sceneNote),void 0!==sr){var w=sr.getCurrentPages();if(w&&w.length>0){var S=w[w.length-1];S&&(m=S.route,y=S.__displayReporter&&S.__displayReporter.showOptions&&S.__displayReporter.showOptions.query)}}!f&&i&&/超时|timeout/.test(i)&&(f=5);var C=JSON.stringify(d),I=[e,t,r,n,i,T.getAppType(),a,s,lv(),m,y,l,yv(c),_,b,p,f,u,C,null===(v=H.wxAppInfo)||void 0===v?void 0:v.maxRequestConcurrent,Date.now()-vv,g].map(encodeURIComponent).join(","),A=!1;if(n<5e3&&1==r?gv()<.01&&(A=!0):A=!0,h||(A=!1),A){var k,E=[e,t,r,n,i,T.getAppType(),a,s,lv(),m,y,l,yv(c),_,b,f,u,C,null===(k=H.wxAppInfo)||void 0===k?void 0:k.maxRequestConcurrent,Date.now()-vv,g].map(encodeURIComponent).join(",");T.reportKeyValue({key:"NetworkAPI2",value:E})}T.reportKeyValue({key:"NetworkAPI",value:I}),T.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`}),fv.push([e,t,r,a||"",n,i,lv(),o?"1":"0",T.getAppType(),s].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Date.now()-hv>=6e4&&(hv=Date.now(),setTimeout(mv,6e4))};function bv(e){return e?Array.isArray(e)?e:e.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]}class wv{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new wv((t=>t(e)))}static reject(e){return new wv((()=>{throw e}))}}var Sv=e=>{if(Ee)return!0;if(ge)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!ve)return!1;if("Request"===e)if(1===Number(H.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}};function Cv(){if(void 0===sr)return"";var e=sr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function Iv(){return 1e4*Date.now()+Math.round(9999*Math.random())}var Av=!1;H.onReady((()=>{ve&&1===Number(H.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(Av=!0)}));var kv=dd(Zh),Ev=0,Tv=new WeakMap,Pv=new WeakMap,xv=new WeakMap,Ov=new WeakMap,Rv=new WeakMap,Mv=new WeakMap,Dv=new WeakMap,Nv=new WeakMap,Lv=new WeakMap,Bv=new WeakMap,$v=new WeakMap,Fv={},jv=new Ah("Network",!0),Wv=v.createLogger("NetworkTask"),Uv=new WeakMap,Vv={},qv=new WeakMap;class zv{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:i}){var a=Ev++;this.uniqueId=Iv(),Tv.set(this,a),xv.set(this,"waiting"),Ov.set(this,e),Rv.set(this,t),Nv.set(this,r),Lv.set(this,n),it(i)&&Bv.set(this,i);var o,s,l=!1;(Sv(t)||(ve||ge)&&e.forceCellularNetwork)&&(l=!0),$v.set(this,l);var c=new wv(((e,t)=>{o=e,s=t}));Uv.set(this,{promise:c,resolve:o,reject:s});var u=()=>{Yv.call(this)?(Dv.set(this,[Date.now()]),Fv[t].taskQueue.push({id:a,item:this})):Hv.call(this)};it(e.customCheck)?e.customCheck(e,(r=>{r?Gv(t,e,r):u()})):u()}abort(){if(Wv.info(`[${Rv.get(this)}][${Tv.get(this)}]abort()`),"waiting"===xv.get(this)){Wv.info(`[${Rv.get(this)}][${Tv.get(this)}] waiting=true`);var e=Fv[Rv.get(this)].taskQueue.findIndex((e=>e.id===Tv.get(this)));e>-1&&(Fv[Rv.get(this)].taskQueue.splice(e,1),bc(Fv[Rv.get(this)].functionName,Ov.get(this),"abort")),xv.set(this,"done")}else{Uv.get(this).promise.then((()=>{qu(`operate${Rv.get(this)}Task`,{[`${Rv.get(this).toLowerCase()}TaskId`]:Pv.get(this),operationType:"abort"})}))}}onProgressUpdate(e){Uv.get(this).promise.then((()=>{jv.on(`${Rv.get(this)}${Pv.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){Uv.get(this).promise.then((()=>{jv.off(`${Rv.get(this)}${Pv.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){Uv.get(this).promise.then((()=>{jv.on(`${Rv.get(this)}${Pv.get(this)}headersReceived`,e)}))}offHeadersReceived(e){Uv.get(this).promise.then((()=>{jv.off(`${Rv.get(this)}${Pv.get(this)}headersReceived`,e)}))}onChunkReceived(e){Uv.get(this).promise.then((()=>{jv.on(`${Rv.get(this)}${Pv.get(this)}chunked`,e)}))}offChunkReceived(e){Uv.get(this).promise.then((()=>{jv.off(`${Rv.get(this)}${Pv.get(this)}chunked`,e)}))}}function Gv(e,t,r){Sc({name:Fv[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r})}function Hv(){var e=Ov.get(this),t=Rv.get(this),r=$v.get(this);xv.set(this,"sending"),Mv.set(this,Date.now());var n=Kv.call(this);r?Uv.get(this).promise.then((()=>{Qv.call(this)})).catch((r=>{Gv(t,e,r)})):n?Gv(t,e,n):Pv.get(this)?Qv.call(this):Uv.get(this).promise.then((()=>{Qv.call(this)}));setTimeout((()=>{_v(Fv[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}),0)}function Kv(){var e,t=Rv.get(this),r=Ov.get(this);Fv[t].currentTaskCount++;var n={data:r.data,url:r.url,header:r.header,method:r.method,timeout:"number"==typeof r.timeout?r.timeout:0,enableHttp2:!0===r.enableHttp2,enableQuic:!0===r.enableQuic,enableCache:!0===r.enableCache,enableProfile:!1!==r.enableProfile,ip:r.ip,port:r.port,forbidReuse:!0===r.forbidReuse,host:r.host,enableChunked:r.enableChunked,__skipDomainCheck__:r.__skipDomainCheck__,forceCellular:r.forceCellularNetwork,success:e=>{var r=e[`${t.toLowerCase()}TaskId`];Pv.set(this,r),Fv[t].taskIdMap[r]=this;var n=Uv.get(this).resolve,i=Uv.get(this).promise;n(),i.then((()=>{Vv[r]&&"wait"===Vv[r].status?Vv[r].handlers.forEach((e=>e())):Vv[r]={status:"normal"}}))},fail:n=>{Fv[t].currentTaskCount--;var i=n[`${t.toLowerCase()}TaskId`];e=n.errMsg,Jv.call(this,{taskType:t,options:r,errMsg:e,success:!1}),(0,Uv.get(this).reject)(e),Wv.error(`[${t}][createTask][Fail] taskId=${i}`),Vv[i]&&"wait"===Vv[i].status&&delete Vv[i]},complete:()=>{xv.set(this,"done")}},i=$v.get(this),a=`create${t}Task${i?"Async":""}`;(ve||ge)&&r.forceCellularNetwork&&(a="createCellularNetworkRequestTaskAsync");var o={};"[object ArrayBuffer]"!==Object.prototype.toString.call(r.data)&&(o.notPack=!0);var s=Nv.get(this)(n);return"createRequestTaskAsync"===a&&ve&&Av&&(a="createRequestTaskRealAsync"),"Request"!==t||fe||be?qu(a,s):Ju(a,s,o),e}function Qv(){var e=Pv.get(this),t=Ov.get(this),r=Rv.get(this),n=Fv[r].functionName;jv.on(`${r}${e}success`,(e=>{Lv.get(this).call(this,e),Sc({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),jv.on(`${r}${e}fail`,(e=>{var r=Bv.get(this),i=r&&r.call(this,e);if(null!=i&&i.__retry__)v.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var a={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(a.errno=e.errno),e.exception&&(a.exception=e.exception),Sc(a)}}))}function Jv({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:a="",responseDataLength:o=0,profile:s={},queueTime:l,uniqueId:c,errno:u,queueLength:d}){var p=t.url,h=n?1:2,f=Date.now()-Mv.get(this),g=t.__skipDomainCheck__;f>=6e4&&Wv.error(`reportTask costTime too long: ${f}ms, taskId=${Pv.get(this)}`),_v(Fv[e].functionName,p,h,f,r,a,g,i,o,s,l,{},c,!0,u,d)}function Xv(e,t){var r=`${t.toLowerCase()}TaskId`,n=e[r],{state:i,header:a}=e;delete e.state,delete e[r],"chunked"!==i&&(e.cookies=a?bv(a["Set-Cookie"]||a["set-cookie"]):[]);var o=0;a&&(o=parseInt(a["Content-Length"]||a["content-length"]||"0",10));var s,l,c=()=>{if(jv.emit(`${t}${n}${i}`,e),"success"===i||"fail"===i){var r=Fv[t].taskIdMap[n],a=Ov.get(r);if(!r)return;Fv[t].currentTaskCount-=1;var s=Fv[t].taskQueue.length;if(Fv[t].taskQueue.length>0){var l=Fv[t].taskQueue.shift().item,c=Dv.get(l);if(c&&c[0]){var u=c[0];if(u>0){var d=Date.now()-u;Dv.set(l,[u,d,s])}}Hv.call(l)}var p=Promise.resolve(ld(a.data));if("Upload"===t){var h=0;"object"==typeof a.formData&&null!==a.formData&&(h=JSON.stringify(a.formData).length),p=kv({path:a.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve(ld(e.data,o));if("Download"===t){var g=e.dataLength;f="number"==typeof g?Promise.resolve(g):kv({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([n,o])=>{var s=Dv.get(r);Jv.call(r,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:n,responseDataLength:o,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2]}),Dv.delete(r)})),qv.set(Fv[t].taskIdMap[n],!0),Zv.call(r)}};Av&&"Request"===t?"normal"===(null===(s=Vv[n])||void 0===s?void 0:s.status)?c():"wait"===(null===(l=Vv[n])||void 0===l?void 0:l.status)||(Vv[n]={status:"wait",handlers:[c]}):c()}function Yv(){var e=Rv.get(this);return Fv[e].currentTaskCount>=Fv[e].maxTaskCount}function Zv(){var e=Rv.get(this),t=Pv.get(this);delete Fv[e].taskIdMap[t],delete Vv[t],jv.removeAllListeners(`${e}${t}success`),jv.removeAllListeners(`${e}${t}fail`),jv.removeAllListeners(`${e}${t}complete`),jv.removeAllListeners(`${e}${t}progressUpdate`),jv.removeAllListeners(`${e}${t}headersReceived`),jv.removeAllListeners(`${e}${t}chunked`)}function em(e,t){var r=Fv[e]?Fv[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Rt(`on${e}TaskStateChange`,(t=>{Xv.call(this,t,e)})),Fv[e]=Object.assign(r,t)}em("Download",{maxTaskCount:10,functionName:"downloadFile"}),H.onReady((()=>{try{"number"==typeof H.wxAppInfo.maxDownloadConcurrent&&em("Download",{maxTaskCount:H.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class tm extends zv{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}}const rm=tm;var nm=({api:e,url:t})=>md()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{qu("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})),im=new WeakMap,am=new WeakMap,om=new WeakMap,sm=[],lm=0,cm=10;function um(e=!1){for(e&&(im.delete(e),am.delete(e),om.delete(e),lm--);sm.length>0&&lm<cm;){var t=sm.shift(),r=im.get(t),n=am.get(t);r&&n&&(r.start(n),lm++)}}H.onReady((()=>{H.wxAppInfo&&H.wxAppInfo.maxDownloadConcurrent&&(cm=H.wxAppInfo.maxDownloadConcurrent)}));class dm{constructor(e){var t=Af.Download,r=e.workerId?new t(e.workerId):new t;delete e.workerId;var n=new jt;im.set(this,r),om.set(this,n),am.set(this,bd(e,["url","header","filePath","enableProfile","timeout"])),r.onfail=t=>{bc("downloadFile",e,t),um(!0)},r.onsuccess=t=>{Sc({name:"downloadFile",args:e,res:t}),um(!0)},r.onheader=e=>n.emit("header",{header:e}),r.onprogress=(e,t,r)=>n.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:r}),nm({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(sm.push(this),um()):bc("downloadFile",e,"invalid url")})).catch((()=>{bc("downloadFile",e,"url validate error")}))}abort(){var e=im.get(this);e&&e.abort()}onHeadersReceived(e){var t=om.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=om.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=om.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=om.get(this);t&&t.off("progress",e)}}var pm=!1;function hm(e){return pm?new dm(e):new rm(e)}g.g.__isAppServiceRemoteDebugMode__||If((e=>{e.Download&&H.onReady((()=>{var e=!1,t=ve?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";kf({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,Of(/^downloadFile/,2))},fail(e){}});var r=bf("bindingDownload");pm=e||r,v.info(`${pm?"binding":"jsapi"} download, abtest: ${e}, permission: ${r}`)}))}));var fm=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(yc("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new hm(t)}catch(e){return void bc("downloadFile",t,e.message)}}}),gm=fm(),vm=fm({__skipDomainCheck__:!0}),mm=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith(wg()))return gm(e);bc("downloadFile",e,"permission denied")},ym="wxfile://sdk",_m=`${ym}/we_model/`,bm=`${_m}meta.json`,wm=`${_m}vocab_meta.json`,Sm=3,Cm=10,Im=e=>_m+e+".onnx",Am=dd(Df),km=dd(pf),Em=dd(Lf),Tm=dd(qf),Pm=dd(Gf),xm=dd($f),Om=dd(vm),Rm=function(){var e=Hp()((function*(e=1){try{yield Tm({path:_m})}catch(e){yield xm({recursive:!0,dirPath:`${ym}/we_model`})}try{var{data:t}=yield Am({filePath:1===e?bm:wm,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),Mm=!0,Dm=function(){var e=Hp()((function*(e,t,r=1,n=!1){if(!Mm){var{tempFilePath:i}=yield Om({url:e,timeout:1e4});return(yield km({tempFilePath:i,filePath:1===r?"wxfile://usr/__WeSafeModel__.onnx":"wxfile://usr/__WeSafeModelVocab__.txt"})).savedFilePath}var a={};if(!n)if(a=yield Rm(r)){if(a[t]&&a[t].src===e)try{return Im(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var o=yield Om({url:e,timeout:1e4}),s=yield km({tempFilePath:o.tempFilePath,filePath:Im(t)});a[t]={src:e,update:Date.now()};var l=Date.now(),c=-1;if(Object.keys(a).length>(1===r?Sm:Cm))for(var u of Object.keys(a)){var d=a[u];d.update<l&&(l=d.update,c=u)}if(-1!==c)try{yield Pm({filePath:Im(c)}),delete a[c]}catch(e){v.error("contentCheck LRU unlink model error: ",e)}return yield Em({filePath:1===r?bm:wm,data:JSON.stringify(a),encoding:"utf8"}),s.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),Nm,Lm=e=>{Nm=e},Bm=function(){var e=Hp()((function*(e){var t;if(!Array.isArray(Nm)||-1===(t=Nm.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:i}=Nm[t];return yield Dm(r,n,2,i)}));return function(t){return e.apply(this,arguments)}}(),$m,Fm=dd(Df),jm=function(){var e=Hp()((function*(e){if($m)return $m;var t=yield Bm(e),r=yield Fm({filePath:t,encoding:"utf-8"});return $m=($m=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{}),$m}));return function(t){return e.apply(this,arguments)}}(),Wm=.002;function Um(e){return t=>qe(t)&&t.length>e?t.substr(0,e):t}function Vm({isSuccess:e,invokeTime:t,costTime:r,wxdataQueueTimestamp:n,wxdataDequeueTimestamp:i,beginCGITimestamp:a,CGICallbackTimestamp:o,wxlibCallbackTimestamp:s,requestingCount:l,cost1:c,cost2:u,cost3:d,cost4:p,cost5:h,cost6:f,JSApiType:g}){Math.random()<Wm&&setTimeout((()=>{var v=Fc.currentNetworkType,m=H.appType+1e3,y=H.appLaunchInfo&&void 0!==H.appLaunchInfo.scene?H.appLaunchInfo.scene:0,_=["","",e?1:0,t,r,v,"",m,y,cu(),uu(),"",0,0,c,u,d,p,h,f,0,0,l,t,n,i,a,o,0,0,s,g].map(Um(1024)).join(",");T.reportKeyValue({key:"WeAppOperateWXData",value:_})}),0)}var qm=({url:e,result:t,cost:r,pointCacheType:n,errMsg:i,errno:a,host:o,fullCost:s})=>{var l=[e,t,r,n,i?encodeURIComponent(i):i,a,o,s].join(",");T.reportKeyValue({key:"WeFreeHttpDns",value:l})},zm=null;h.onLoad((()=>{h.globalShare.reusableWorkerId&&Gm(h.globalShare.reusableWorkerId)}));var Gm=e=>{zm=e},Hm=()=>zm,Km=e=>e.workerId,Qm;function Jm(){C.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(Km(t))return;if(t.data){var{cmd:r,callbackId:n,data:i}=t.data;if("callback"===r){var{result:a,errMsg:o}=i;this.emitter.emit(n,a,o)}}}}))}class Xm{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new jt,Jm.call(this)}constructor(){if(Hm())this.init(Hm());else{var{workerId:e}=C.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var i=String(this.generateCallbackId());this.emitter.once(i,((e,t)=>{t?n(new Error(t)):r(e)}));var a={cmd:e,callbackId:i,data:t};a={data:a},C.postMsgToWorker(this.workerId,a)}))}}var Ym=()=>Qm||(Qm=new Xm),Zm=()=>!!Qm,ey,ty=()=>ey,ry,ny=!1,iy,ay=new Promise((e=>iy=e)),oy=function(){var e=Hp()((function*(){if(!ry&&!ny){ny=!0;try{var e=yield rC();if(!Array.isArray(e))return iy(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:i,regCheckCfg:a,modelName:o,taskId:s,debug:l,key:c,cliParamList:u,isScreenshot:d}=e,{after_load_interval:p,after_load_maxcnt:h,at_redirect:f,most_cnt:g}=null!=n?n:{};return(ry={}).mostCnt=g,ry.currentCnt=0,ry.afterLoadInterval=p,ry.afterLoadMaxCnt=h,ry.atRedirect=f,ry.modelUrl=t,ry.cfg=r,ry.domTextPreset=i,ry.regCheckCfg=a,ry.modelName=o,ry.taskId=s,ry.debug=l,ry.key=c,ry.cliParamList=u,ry.isScreenshot=d,ey=s,ry})),iy(e)}catch(e){iy(null)}}}));return function(){return e.apply(this,arguments)}}(),sy=function(){var e=Hp()((function*(e,t=!1){oy();var r=yield ay;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),ly,cy,uy=new Promise((e=>{cy=e})),dy;H.onReady((()=>{dy=bf("reportRequestErrorByAI")}));var py=e=>{ly=e,cy(e)},hy=()=>ly,fy=e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null},gy=function(){var e=Hp()((function*(e){if(ly&&dy){var t=yield sy(ly);if(t){var{modelUrl:r,modelName:n,cfg:i}=t,a=(yield mC(r,n,i,void 0,e)).xnetRes;return!!(a=fy(a))&&a[0]-a[1]}}}));return function(t){return e.apply(this,arguments)}}(),vy=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=vy(t),e)),[]);if(!et(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=vy(n)}return t};function my(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=Ue(e)}return t.replace(/,/g,";").substr(0,1024)}var yy={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};function _y(e,t,{point:r,schemaVersion:n,key:i,kvResult:a,routePath:o,networkType:s,nlpRet:l,aiConsistent:c,reportType:u}={}){var d=t.errno,p=yy[u];T.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,my(e.header),my(e.data),my(t.header),my(t.data),e.method,Ay.scene,encodeURIComponent(Ay.scene_note||Ay.sceneNote),wy,d,n,encodeURIComponent(i),encodeURIComponent(r),encodeURIComponent(a),o,void 0===l?-2:l,c].join(",")})}var by=Math.random,wy=void 0!==r&&r?r.version:"unknown",Sy=!1,Cy=!1,Iy=0,Ay={},ky="";H.onReady((()=>{Object.assign(Ay,H.appLaunchInfo),ky=H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,Yt("onAppEnterForeground",(e=>{Object.assign(Ay,e),e&&(e.sessionid||e.sessionId)&&(ky=e.sessionid||e.sessionId)}))}));var Ey=t=>{var r=H.appLaunchInfo&&H.appLaunchInfo.scene;if(t&&"object"==typeof t){var n,i=t[r]||t.all,a=t.nlpKey;if(i)if(Cy=bf("reportPayVIPQuality"),Sy=Cy||bf("reportRequestError2"),Iy=null!==(n=i.ratio)&&void 0!==n?n:1,e.allowReportLoadingTime(),Sy)return py(a),!0;return bf("reportRequestError3")?(Sy=!0,Iy=1,e.allowReportLoadingTime(),py(a),!0):void 0}},Ty=!1,Py=()=>Ty=!0;function xy(e){try{e.data=JSON.parse(e.data)}catch(e){}}function Oy(t,r,{uuid:n,invokeTime:i,dataType:a,networkType:o,routePath:s}={}){var l=e.shouldStartReport();if(Sy&&by()<Iy||l||Ty){var c=e.getCurrentRoutePath(),u=Date.now()-i;t=vy(t);var d=(r=vy(r)).data,p=Promise.resolve().then(Hp()((function*(){if("string"!=typeof d)return-3;try{JSON.parse(d)}catch(e){return-3}return yield gy(d)}))).catch((()=>-3));Ym().runTask("checkRequest",{response:r,requestData:t,checkResponse:!0,delay:!0}).then((e=>p.then((t=>(e.nlpRet=t,e))))).then((i=>{try{"json"===a&&xy(r);var{isImportantRequest:d,nlpRet:p}=i;if((i.hasError||p>0)&&Sy){var{point:h,reportBody:f,reportArgs:g,schemaVersion:m,key:y,kvResult:_}=i;t.data&&(t.data=g),r.data&&(r.data=f),_y(t,r,{point:h,schemaVersion:m,key:y,kvResult:_,networkType:o,routePath:s,nlpRet:p,aiConsistent:p>0&&i.hasError?1:2,reportType:Cy?"pay":"goverment"})}if(l){var b={isimportant:d,errMsg:r.errMsg,errno:r.errno},w=i.hasError;w&&(b.errinfo=r.errMsg||i.point,b.noFilterRes=!0),e.traceApi("request",t,r,w,n,u,!0,b)}if(Ty&&d){var{sensitiveRequestPoint:S,sensitveResponsePoint:C}=i;[S,C].forEach(((e,r)=>{null!=e&&e.length&&T.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,hp(t.url),t.method,null,c,e.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){v.error("resolve 24247 worker error:",e)}})).catch((e=>{v.error("report 24247 error:",e)}))}}var Ry=(e,t)=>`0,0,${e?2:t?3:0}, ${e||t?2:0}`,My=(e={})=>{if(Sy){var{apiName:t,content:r="",routePath:n,networkType:i,title:a=""}=e,o=Cy?"interactiveApiPay":"interactiveApiGoverment";o=yy[o];var s=a+","+r;"showModal"!==t&&"showToast"!==t||Ym().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var a=[t,encodeURIComponent(s),n,ky,r,i,encodeURIComponent(Ry(e.hitUserLowPriortyCustom,e.hitUserHighPriorityCustom))].join(",");T.reportKeyValue({key:o,value:a})}})).catch((e=>{v.error("resolveInteractiveApiContent:",e)}))}},Dy={},Ny={},Ly={},By=(e,t,r)=>{if(Ly[e])return Ly[e];var n,i=e&&e.indexOf(":");n=(n=-1!==i?e.slice(0,i):e).toLowerCase();var a=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return Ly[e]=xd(a).then((t=>{delete Ly[e];var n,{wxa_state:i,ttl:a,hit_cache:o,ip_list:s=[],ip:l}=t.data;n=null!=s&&s.length?s[0]:l;var c=s.slice(1);if(0===i)return Dy[e]={ip:n,expireTime:1e3*a+Date.now(),candidateIps:c},r?{...Dy[e],hitCache:o}:Dy[e];throw new Error(i)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete Ly[e],t})),Ly[e]},$y=e=>{var t=Dy[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},Fy=(e,t)=>{var r=Ny[e];return t?(!r||r!==t)&&(delete Ny[e],!0):(delete Ny[e],!1)},jy=(e,t)=>{Ny[e]=t};iv((()=>{Dy={},Ny={},Ly={}}));var Wy=new RegExp("name_not_resolved","i"),Uy=e=>Wy.test(e.errMsg),Vy=(e,t,r)=>!uv()&&(!(!bf("useFreeHttpDns")||!Uy(e))&&(nw(t,r),!0)),qy={uninjected:0,injected:1},zy={minigamelive:qy.uninjected,ad:qy.uninjected,cloud:qy.uninjected,protobuf:qy.uninjected,ga:qy.uninjected,kanata:qy.uninjected,midas:qy.uninjected,pixi:qy.uninjected,sclengine:qy.uninjected,minigamePlatform:qy.uninjected},Gy=(e,t)=>{zy[e]=t},Hy=e=>zy[e],Ky={},Qy=e=>{if(!Ky[e]){var t={},r={},n={},i={on:(r,i)=>{t[r]&&console.warn(`基础库分包 ${e} on event: ${r} has subscribe listener`),t[r]=i,n[r]&&(n[r].forEach((e=>{i(e)})),delete n[r])},subscribe:(i,a)=>{t[i]&&console.warn(`基础库分包 ${e} subscribe event: ${i} has on listener`),r[i]||(r[i]=[]),r[i].push(a),n[i]&&(n[i].forEach((e=>{a(e)})),delete n[i])},publish:(e,n)=>{var i,a;return(i=t[e])?(i(n),!0):!!(a=r[e])&&(a.forEach((e=>e(n))),!0)},advancePublish:(e,t)=>{Jy(e,t)||n[e]||(n[e]=[]),n[e].push(t)}};return Ky[e]=i,i}console.warn(`已经存在分包EM ${e}`)},Jy=(e,t,r,n)=>{var i=Ky[e];i&&(n?i.advancePublish(t,r):i.publish(t,r))},Xy=Qy("sclEngine"),Yy=!1,Zy=()=>{Yy||(Yy=!0,Hy("sclengine")===qy.injected?Xy.publish("initReady"):Xy.advancePublish("initReady"))},e_=Gt("tapAnyWhere");Br("tapAnyWhere",e_.emitInternal);var t_=e_.internalOnMethod,r_=e_.internalOffMethod,n_=!1;t_((()=>{Zy(),n_||(n_=!0,i_.forEach((e=>e())),i_=[])}));var i_=[],a_=e=>{n_?e():i_.push(e)},o_=JSON.parse,s_=JSON.stringify,l_=!0,c_=(e,t)=>{if(!l_)return t;var r;return(n={})=>{var{success:i,fail:a}=Cc(n,e);if(r){var o={};try{o=o_(r)}catch(e){v.error("constructCachedOptimizedSyncApi parse error",e.message)}i(o)}else t(Object.assign({},n,{success(e){try{r=s_(e)}catch(e){v.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{r=void 0})),i(e)},fail(e){r=void 0,a(e)},complete:void 0}))}},u_=H.SDKVersion,d_=e=>{var t=he;ve&&(e.brand="iPhone"),fe&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=u_,e.enableDebug=Boolean(H.debug),H.devicePixelRatio&&(e.devicePixelRatio=H.devicePixelRatio),H.theme&&(e.theme=H.theme),H.host&&(e.host=H.host),H.appLaunchInfo&&H.appLaunchInfo.mode&&(e.mode=H.appLaunchInfo.mode),ge&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),wd()&&!Oe()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Ee&&(e.renderer="h5")},p_=()=>{H.isReady||(new Error).stack},h_=()=>{var e={};return __({success(t){delete t.errMsg,e=t}}),e},f_=()=>{var e={};return _getSystemInfo({success(t){delete t.errMsg,e=t}}),e},g_,v_=()=>g_||(g_=Object.assign({},h_())),m_=e=>{delete(g_=Object.assign({},e)).errMsg},y_=e=>{p_();qu("getSystemInfo",e,{beforeSuccess:e=>{d_(e),m_(e)}})},__=c_("getSystemInfo",y_),b_=e=>{H.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),p_());var t=H.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";qu(t,e,{beforeSuccess:e=>{d_(e),m_(e)}})},w_=Qg("getSystemInfoAsync",b_),S_=e=>{qu("openSystemSetting",{...e,type:"systemBluetooth"})},C_=e=>{qu("openSystemSetting",{...e,type:"appAuthorize"})},I_=Object.defineProperty,A_=(e,t)=>{I_(e,t,{get:()=>{var e;return qu("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},k_=()=>{var e={};return A_(e,"bluetoothEnabled"),A_(e,"deviceOrientation"),A_(e,"locationEnabled"),A_(e,"wifiEnabled"),e},E_=()=>{var e={};return A_(e,"albumAuthorized"),A_(e,"bluetoothAuthorized"),A_(e,"cameraAuthorized"),A_(e,"locationAuthorized"),A_(e,"locationReducedAccuracy"),A_(e,"microphoneAuthorized"),A_(e,"notificationAlertAuthorized"),A_(e,"notificationAuthorized"),A_(e,"notificationBadgeAuthorized"),A_(e,"notificationSoundAuthorized"),A_(e,"phoneCalendarAuthorized"),e},T_=JSON.parse,P_=JSON.stringify,x_=!0,O_=e=>{if(!x_)return e;var t;return(r={})=>{if(t){var n={};try{n=T_(t)}catch(e){v.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return n}var i=e(r);try{t=P_(i)}catch(e){v.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),i}},R_={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},M_=e=>{var t,r=null!==(t=e.match(/unknown<(.*?)>/))&&void 0!==t?t:[];return r&&R_[r[1]]||e},D_=()=>{var e;qu("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t=he;return ve&&(e.brand="iPhone",e.model=M_(e.model)),fe&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e},N_=O_(D_),L_=()=>{var e;return qu("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e},B_=O_(L_),$_=()=>{var e;return qu("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=u_,e.enableDebug=Boolean(H.debug),H.theme&&(e.theme=H.theme),H.host&&(e.host=H.host),H.appLaunchInfo&&H.appLaunchInfo.mode&&(e.mode=H.appLaunchInfo.mode),ge&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),wd()&&!Oe()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Ee&&(e.renderer="h5"),e},F_=O_($_),j_,W_=!!b.clientManager,U_,V_=new Set;null===(j_=b.clientManager)||void 0===j_||j_.once("clientConnected",((e,{ua:t}={})=>{U_=t,V_.forEach((e=>{try{e(t)}catch(e){}})),V_.clear()}));var q_=e=>{W_?U_?e(U_):V_.add(e):e("")},z_=(e={})=>new Promise((t=>q_((r=>{Nu({userAgent:r},"getRendererUserAgent",e,{}),t(r)})))),G_=null,H_=0,K_=0,Q_=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];H.onReady((()=>{G_={};for(var e=0;e<Q_.length;e++){if(!(Q_[e]in H)){Q_[e],G_=v_();break}G_[Q_[e]]=H[Q_[e]]}if(H.screenHeight&&H.screenWidth)H_=H.screenWidth,K_=H.screenHeight;else{var t=v_();H_=t.screenWidth,K_=t.screenHeight}}));var J_=()=>H.isReady?Object.assign({},G_):((new Error).stack,{}),X_=()=>H.isReady?{screenWidth:H_,screenHeight:K_,deviceOrientation:H_>K_?"landscape":"portrait"}:((new Error).stack,{}),Y_=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(G_)return G_;e=h_()}else e=h_();return e}})(),Z_=e=>({2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[e]),eb=(e={})=>{qu("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r=Z_(t.tid),n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},tb=(e={})=>{eb(e)},rb=!1,nb=void 0,ib=void 0,ab=void 0,ob=()=>nb,sb=!1,lb="group_forcecelluarnetwork",cb="forceCellularNetwork",ub=e=>nb=e,db=()=>!rb&&(rb=!0,!0),pb,hb=()=>{!nb||pb||Be()||(pb=!0,fb())},fb=()=>{var e,{language:t}=Y_();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}db()&&a_((()=>{l.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{tb({success:e=>{!1===e.authSetting["scope."+cb]&&ub(!1)}})}))}))}))},gb=function(){var e=Hp()((function*(){var e;if(void 0!==nb)return nb;try{ib||(ib=xd({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[lb]}})),e=yield ib}catch(t){if(!sb)return!1;e={data:{auth_item_list:[{scope:lb,state:0}]}}}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===lb)))){var n=r[t];if(0===n.state){yield(ab||(ab=xd({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:lb,state:1}]}})),ab).then((e=>{ub(!0)})).catch((e=>{}))}else 2===n.state?ub(!1):1===n.state&&ub(!0)}return nb}));return function(){return e.apply(this,arguments)}}(),vb=0,mb=/custom ip is invalid/;em("Request",{maxTaskCount:10,functionName:"request"}),H.onReady((()=>{try{"number"==typeof H.wxAppInfo.maxRequestConcurrent&&em("Request",{maxTaskCount:H.wxAppInfo.maxRequestConcurrent})}catch(e){}}));class yb extends zv{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,i=null==e?void 0:e.__wx_request_route_path__,a=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++vb};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(a||e.exception){var l=a||e.exception;s.exception={reasons:l},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}hb(),e.host&&e.ip&&jy(e.host,e.ip),o.isSuccess=!0,bb(s),Sb(s),Cb(s);try{Oy(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:i})}catch(e){v.error("checkAndReportError error:",e)}if("json"===e.dataType&&wb(s,e._jsonParse),e.__retryHttpDNS__){var c=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-c,qm({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}return _b(s,o,e),s},beforeFail(s){var l,c=!1;if(o.isSuccess=!1,_b(s,o,e),s.errMsg&&mb.test(s.errMsg)){var u=!0,d=Date.now()-e.startTimestamp,p="number"==typeof e.timeout?e.timeout:6e4;if(d>p&&(u=!1),u){var h,f=e.__retryHttpDNS__;if(null!==(h=e.candicateIps)&&void 0!==h&&h.length){var g=e.exception;g||(g=[]),g.push({errno:600001,errmsg:s.errMsg});var m=e.candicateIps[0],y=e.candicateIps.slice(1);return iw(e.originArgs,{__innerRequestOptions__:{ip:m,candicateIps:y,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:g,__retryHttpDNS__:f},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var _=e.exception;return _||(_=[]),_.push({errno:600001,errmsg:s.errMsg}),iw(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:_,__polyfill_ldns__:!0,__retryHttpDNS__:f}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.__retryHttpDNS__){var b;qm({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(b=e.weHttpDNSCoast)&&void 0!==b?b:-1}),c=e.lastErrorResponse}else{var w,S=e.exception;if(Vy(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(w=e.retryCount)&&void 0!==w?w:0,exception:S}))return{__retry__:!0,__freehttpdns__:!0}}try{Oy(e,s,{uuid:t,invokeTime:r,networkType:n,routePath:i})}catch(e){v.error("checkAndReportError error:",e)}(a||e.exception)&&(l={reasons:a||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return c?{__changeError__:{...c,exception:l}}:s}})}}function _b(e,t,r){var n=Date.now();if(vb--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var i=e.clientInfo;t.wxdataQueueTimestamp=i.invokeTime,t.wxdataDequeueTimestamp=i.invokeTime,t.beginCGITimestamp=i.beginCGITimestamp,t.CGICallbackTimestamp=i.CGICallbackTimestamp,t.wxlibCallbackTimestamp=i.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,Vm(t)}}function bb(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}function wb(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}function Sb(e){e.statusCode=parseInt(e.statusCode,10)}function Cb(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}const Ib=yb;var Ab=new WeakMap;class kb{constructor(){var e,t=new Promise((t=>{e=t}));Ab.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=Ab.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=Ab.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=Ab.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var Eb=(e,t)=>{var{resolve:r}=Ab.get(e);r(t)};function Tb(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:i,lastHost:a,lastErrorResponse:o,__innerRequestOptions__:s,__polyfill_ldns__:l,retryCount:c,exception:u}={}}){var d,p;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(p=Ue(e.header),e.header=Mp(e.header)):(d=!0,p="Undefined",e.header={}),"Undefined"!==p&&"Object"!==p&&(console.warn("wx.request: header must be an object"),e.header={}),d||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var h="text";e.responseType&&(h=e.responseType.toLowerCase());var f,g=e.header,v="GET";if("string"==typeof e.method&&(v=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(g["content-type"]=g["content-type"]||"application/json"),f=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==Ue(e.data)?g["content-type"].indexOf("application/x-www-form-urlencoded")>-1?fp(e.data,!0):g["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):f.toString():e.data,"GET"===v&&e.data){var m=yp(e.url,e.data);e.url=m}var y=null!=s&&s.timeout?s.timeout:e.timeout,_=null!=s&&s.retryCount?s.retryCount:0;_||(_=null!=c?c:0);var b=null!=s&&s.exception?s.exception:null;b||(b=u);var w=(null==s?void 0:s.__polyfill_ldns__)||l;return{header:g,method:v,responseType:h,dataStr:f,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:a,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:o,startTimestamp:Date.now(),timeout:y,retryCount:_,exception:b,__polyfill_ldns__:w}}}var Pb=Symbol("skipDNS");function xb({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:i}){var a,o;if(r!==Pb&&!n){var s,l,{enableHttpDNS:c,httpDNSServiceId:u}=e;if(null!==(a=i.__innerRequestOptions__)&&void 0!==a&&a.ip)return{host:t,ip:i.__innerRequestOptions__.ip,candicateIps:null===(l=i.__innerRequestOptions__)||void 0===l?void 0:l.candicateIps};if(null===(null===(o=i.__innerRequestOptions__)||void 0===o?void 0:o.ip))return{};if(!uv()){if(!0===c&&qe(u)){var d=$y(t);return d&&!1===d.expired?(s=d.ip,{host:t,ip:s}):By(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:i.retryCount?i.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===c?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function Ob({host:e,ip:t,compatUrls:r}){var n=Fy(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}var Rb=g(517),Mb=Symbol("pre"),Db=Symbol("next"),Nb=Symbol("key"),Lb;class Bb{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[Mb],r=e[Db];t&&r?(t[Db]=r,r[Mb]=t,this.cacheTail[Db]=e,e[Mb]=this.cacheTail,e[Db]=null,this.cacheTail=e):t||r&&(r[Mb]=null,this.cacheHead=r,this.cacheTail[Db]=e,e[Mb]=this.cacheTail,e[Db]=null,this.cacheTail=e)}insertCache(e,t){if(t[Nb]=e,this.cacheTail?(t[Db]=null,t[Mb]=this.cacheTail,this.cacheTail[Db]=t,this.cacheTail=t):(this.cacheTail=t,t[Db]=null,this.cacheHead=t,t[Mb]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[Nb]];var r=this.cacheHead[Db];r[Mb]=null,this.cacheHead[Db]=null,this.cacheHead[Mb]=null,this.cacheHead=r}else this.cacheLength++}}function $b(e){Lb||(Lb=new Bb(50));var t,r=Lb.getCache(e);return r?(Lb.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,Rb.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),Lb.insertCache(e,t),t)}var Fb={},jb={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188},Wb=e=>{if(Fb[e])return Fb[e];var t={},r=Object.values(jb);return qu("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var a=0;a<i[e].length;a++){var o=r[a];t[o]=1===i[e][a]}Fb[e]=t}},fail(e){}}),t},Ub=(e,t)=>{var r=jb[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):Fb[e]?Fb[e][r]:(Wb(e),Fb[e]&&Fb[e][r])},Vb=function({args:e={}}){var{ip:t}=e;if(t){var r=Bh(this);return r&&Ub(r,"skipDNSRequest")?{skipDNS:Pb,ip:e.ip}:{}}},qb={},zb=3e4,Gb=!1;function Hb({args:{url:e,__wx_inner_invokeTime__:t},host:r,options:{__retryHttpDNS__:n,lastErrorResponse:i}}){var a,o;if(n)if((null===(a=qb[e])||void 0===a?void 0:a.count)>=4)qm({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!uv()){if(Gb){var s=$y(r);if(s&&!1===s.expired)return o=s.ip,{host:r,ip:o,hitCache:1}}var l=Date.now();return By(r,void 0,!0).then((e=>{o=e.ip;var t=e.hitCache?2:0,n=Date.now()-l;return{host:r,ip:o,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{qb[e]?qb[e].count++:qb[e]={count:1};var a=setTimeout((()=>{delete qb[e]}),zb);throw qb[e].cf&&clearTimeout(qb[e].cf),qb[e].cf=a,qm({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),i}))}}H.onReady((()=>{kf({experimentId:ve?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Gb=!0)}})}));var Kb=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):gb().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork})),Qb=e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1};function Jb({host:e}){if(Qb(e))throw new Error(`invalid host: ${e}`)}class Xb{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new kb;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();Eb(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:Sc({name:"request",args:e,errno:cn,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:a,responseType:o,dataStr:s,options:l,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,candicateIps:y,startTimestamp:_,timeout:b,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:I,exception:A,__polyfill_ldns__:k}=this.innerParams;try{return new Ib(Object.assign({},e,{header:n,method:i,responseType:o,data:s,ip:r,host:t,port:a,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,__skipDomainCheck__:l.__skipDomainCheck__,candicateIps:y,startTimestamp:_,timeout:b,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:I,exception:A,__polyfill_ldns__:k}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var Yb=(e={})=>(t={},r={})=>Zb(Object.assign({},e,r))(t),Zb=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1},e),function(t={}){var r;if(t.url){try{r=$b(t.url)}catch(e){return void Sc({name:"request",args:t,errno:Ni,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){var n=new Xb({args:t,options:e});if(n.catch((e=>{bc("request",t,e.message||e.errMsg,e.errno)})).use(Tb(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(Jb).use(Vb.bind(this)).use(Hb).use(xb).use(Kb).useAfterAsyncTasks(Ob),n.catchFn)return n.execute(t)}else Sc({name:"request",args:t,errno:Li,errMsg:"data should not be Function",success:!1});else Sc({name:"request",args:t,errno:Ni,errMsg:`invalid url "${t.url}"`,success:!1})}else Sc({name:"request",args:t,errno:Sn,errMsg:`invalid url "${t.url}"`,success:!1})}),ew=Zb({__skipDomainCheck__:!1}),tw=Zb({__skipDomainCheck__:!0}),rw=Zb({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),nw=Yb({__retryHttpDNS__:!0}),iw=Yb(),aw=function(e={}){var t=getPluginId(this);if(checkPluginPermissionSync(t,"useRequest"))return tw.call(this,e);beforeInvokeFail("request",e,"no permission")};em("Upload",{maxTaskCount:10,functionName:"uploadFile"}),H.onReady((()=>{try{"number"==typeof H.wxAppInfo.maxUploadConcurrent&&em("Upload",{maxTaskCount:H.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class ow extends zv{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>e})}}const sw=ow;var lw=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(yc("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=Mp(t.header)),t.formData&&(n=Mp(t.formData));try{return new sw(Object.assign({},t,{header:r,formData:n,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){return void bc("uploadFile",t,e.message)}}}),cw=lw(),uw=lw({__skipDomainCheck__:!0}),dw,pw=0,hw=new WeakMap,fw=new WeakMap,gw=new WeakMap,vw=new WeakMap,mw={},yw=new Ah;Rt("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=mw[r];if(n){var i=hw.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){hb(),n.readyState=n.OPEN;var a=gw.get(n).url,o=Date.now()-vw.get(n),s=e.statusCode,l=gw.get(n).__skipDomainCheck__,c=e.profile;_v("connectSocket",a,1,o,"",s,l,0,0,c,0)}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);yw.emit(`${i}${t}`,e),yw.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete mw[r],yw.removeAllListeners(`${i}open`),yw.removeAllListeners(`${i}close`),yw.removeAllListeners(`${i}error`),yw.removeAllListeners(`${i}message`))}}}));var _w=function(e,t){yw.on(`${hw.get(this)}${e}`,E.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},bw=(dw=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,i=pw++;hw.set(this,i),gw.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=E.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),vw.set(this,Date.now()),ze(t.timeout)||(t.timeout=0);var a=t.forceCellularNetwork,o=()=>{var e={...t,forceCellular:a};qu("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{fw.set(this,e.socketTaskId),mw[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,i=Date.now()-vw.get(this),a=t.__skipDomainCheck__;n=e.errMsg,_v("connectSocket",r,2,i,n,"",a,0,0,{},0,{},void 0,!0,e.errno)}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{yw.emit(`${i}error`,{errMsg:n})}),0))},s=()=>{it(t.customCheck)?t.customCheck(t,(e=>{e?(bc("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{yw.emit(`${i}error`,{errMsg:e})}),0)):o()})):o()};a?"boolean"!=typeof a?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof a),a=!1,s()):gb().then((e=>{e||(a=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();qu("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:fw.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=gw.get(this).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-t,o=r.errMsg,s=gw.get(this).__skipDomainCheck__,l=ld(e.data);_v("sendSocketMessage",n,i,a,o,"",s,l)}}})}else bc("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){qu("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:fw.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){_w.call(this,"open",e)}onClose(e){_w.call(this,"close",e)}onMessage(e){_w.call(this,"message",e)}onError(e){_w.call(this,"error",e)}},F()(dw.prototype,"send",[At],Object.getOwnPropertyDescriptor(dw.prototype,"send"),dw.prototype),F()(dw.prototype,"close",[At],Object.getOwnPropertyDescriptor(dw.prototype,"close"),dw.prototype),dw),ww=5;H.onReady((()=>{H.wxAppInfo&&H.wxAppInfo.maxWebsocketConnect&&(ww=H.wxAppInfo.maxWebsocketConnect)}));var Sw=new WeakMap,Cw=new WeakMap,Iw=new WeakMap,Aw={},kw=new Ah,Ew=0,Tw=0;function Pw(e,t,r){t.errMsg=t.errMsg||"ok",Sc({name:e,args:r,success:"ok"===t.errMsg,errMsg:t.errMsg})}class xw{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=Af.WSS,i=Ew++,a=t.workerId?new n(t.workerId):new n;delete t.workerId,Sw.set(this,t),Cw.set(this,a),Iw.set(this,i);var o=Date.now();a.onopen=(e,r)=>{this.readyState!==this.CLOSED&&(hb(),Tw++,this.readyState=this.OPEN,kw.emit(`${i}open`,{header:e,profile:r}),kw.emit("onSocketOpen",{header:e,profile:r},this),_v("connectSocket",t.url,1,Date.now()-o,"","",t.__skipDomainCheck__,0,0,r,0))},a.onclose=(e,t)=>{Tw--,this.readyState=this.CLOSED,kw.emit(`${i}close`,{code:e,reason:t}),kw.emit("onSocketClose",{code:e,reason:t},this)},a.onmessage=e=>{this.readyState!==this.CLOSED&&(gt(e)&&(e.__proto__=ArrayBuffer.prototype),kw.emit(`${i}message`,{data:e}),kw.emit("onSocketMessage",{data:e},this))},a.onerror=(e,t)=>{Tw--,this.readyState=this.CLOSED,setTimeout((()=>{kw.emit(`${i}error`,{errCode:e,errMsg:t}),kw.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)};var s=()=>{var e={errMsg:""};if(Tw>=ww)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${ww}`;else{var r=bd(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?gb().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(Aw[i]=this),Pw("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(Aw[i]=this),Pw("connectSocket",e,t))}};it(t.customCheck)?t.customCheck(t,(e=>{e?Pw("connectSocket",{errMsg:e},t):s()})):(s(),nm({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;kw.emit(`${i}error`,{errMsg:t}),kw.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:Cw.get(this).send(e.data)};(e.success||e.fail||e.complete)&&Pw("sendSocketMessage",t,e)}close(e={}){this.readyState,Pw("closeSocket",{errMsg:Cw.get(this).close(ze(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){kw.on(`${Iw.get(this)}open`,E.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){kw.on(`${Iw.get(this)}close`,E.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){kw.on(`${Iw.get(this)}message`,E.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){kw.on(`${Iw.get(this)}error`,E.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var Ow=bw,Rw=mw;g.g.__isAppServiceRemoteDebugMode__||If((e=>{e.WSS&&H.onReady((()=>{var t=!1,r=ve?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:kf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=bf("bindingWebSocket");t||n||e.WSS.force?(Ow=xw,Rw=Aw,Of(/^connectSocket/,2),v.info(`binding socket, abtest: ${t}, permission: ${n}`)):v.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var Mw=new WeakMap,Dw={};function Nw(e,t){return Dw[t]||(Dw[t]=new WeakMap,yw.on(`onSocket${t}`,Lw(t)),kw.on(`onSocket${t}`,Lw(t))),function(r){yc(`onSocket${t}`,r,St)&&Dw[t].set(e,r)}}function Lw(e){return function(t,r){var n=r.__socketInstance__,i=Dw[e].get(n),a=Mw.get(n);i&&r===a&&E.surroundThirdByTryCatch(i,`at onSocket${e} callback function`)(t)}}var Bw=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){var{workerId:n}=r;if(delete r.workerId,yc("connectSocket",r,{url:""}))if(!1!==_p(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var i={};r.header&&(i=Mp(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__;try{var a=Mw.get(t),o=new Ow(t,Object.assign({},r,{header:i,...n?{workerId:n}:{}}));return a&&a.readyState!==a.CLOSED?a.readyState:Mw.set(t,o),o}catch(e){return e.message,void bc("connectSocket",r,e.message)}}else bc("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=Mw.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):bc("closeSocket",e,"WebSocket is not connected"),Rw){var i=Rw[n];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==r&&i.close())}},sendSocketMessage(e){var r=Mw.get(t);r&&r.readyState===r.OPEN?r.send(e):bc("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:Nw(t,"Open"),onSocketClose:Nw(t,"Close"),onSocketMessage:Nw(t,"Message"),onSocketError:Nw(t,"Error")}},$w=Bw(),Fw=()=>Bw({__skipDomainCheck__:!0}),jw=(e={})=>{qu("uploadEncryptedFileToCDN",e,{})},Ww=e=>{Rt("onUploadEncryptedFileToCDNProgress",e)},Uw=(e={})=>{qu("uploadToCommonCDN",e,{})},Vw=(e={})=>{if(bf("uploadToCommonCDN"))qu("uploadToCommonCDN",e,{});else{var t="uploadToCommonCDN:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},qw=(e={})=>{ve?bc("addNativeDownloadTask",e,"iOS not supported"):qu("addNativeDownloadTask",e,{})},zw=new WeakMap,Gw=new WeakMap,Hw=new jt;function Kw(e){var{success:t,fail:r,complete:n}=e;qu("addDownloadTaskForNative",Object.assign(e,{success:e=>{delete e.errMsg,this.taskId=e.downloadId,Hw.on(`${this.taskId}:success`,(e=>{e.errMsg="downloadApp:ok","function"==typeof t&&t(e),"function"==typeof n&&n(e)})),Hw.on(`${this.taskId}:fail`,(e=>{e.errMsg=`downloadFile:fail ${e.errMsg}`,"function"==typeof r&&r(e),"function"==typeof n&&n(e)}));var i=Gw.get(this)||[];zw.set(this,"ready"),i.forEach((e=>{Qw.call(this,e[0],...e[1])})),Hw.emit(`${this.taskId}:created`,e)},fail:e=>{"function"==typeof r&&r(e),"function"==typeof n&&n(e)},complete:()=>{Gw.set(this,[])}}),{beforeAll(e){e.errMsg=e.errMsg.replace("addDownloadTaskForNative","downloadApp")}})}function Qw(e,...t){if("ready"!==zw.get(this)){var r=Gw.get(this)||[];return r.push([e,t]),void Gw.set(this,r)}switch(e){case"cancel":qu("cancelDownloadTaskForNative",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":Hw.on(`${this.taskId}:progressUpdate`,(e=>{"function"==typeof t[0]&&E.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onProgressUpdate callback function")(e)}));break;case"onCreated":Hw.on(`${this.taskId}:created`,(e=>{"function"==typeof t[0]&&E.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onCreated callback function")(e)}));break;default:qu(`${e}DownloadTaskForNative`,{downloadId:this.taskId})}}Rt("onDownloadAppStateChangeForNative",(e=>{var{state:t,downloadId:r}=e;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":Hw.emit(`${r}:progressUpdate`,e),Hw.emit(`${r}:success`,e);break;case"download_failed":Hw.emit(`${r}:fail`,e);break;case"download_progress_changed":Hw.emit(`${r}:progressUpdate`,e)}"download_succ"!==t&&"download_failed"!==t||(Hw.removeAllListeners(`${r}:success`),Hw.removeAllListeners(`${r}:fail`),Hw.removeAllListeners(`${r}:progressUpdate`))}));class Jw{constructor(e){this.taskId=null,["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=E.surroundThirdByTryCatch(e[t],`at api downloadApp ${t} callback function`))})),Kw.call(this,e)}pause(){Qw.call(this,"pause")}resume(){Qw.call(this,"resume")}cancel(){Qw.call(this,"cancel")}install(){Qw.call(this,"install")}onCreated(e){Qw.call(this,"onCreated",e)}onProgressUpdate(e){Qw.call(this,"onProgressUpdate",e)}}const Xw=Jw;var Yw=(e={})=>{if(ve)bc("downloadApp",e,"iOS not supported");else{if(!yc("downloadApp",e,{taskName:"",taskUrl:"",fileMd5:""}))return null;e.fileType=e.fileType||1;try{return new Xw(e)}catch(t){return bc("downloadApp",e,t.message),null}}},Zw=(e={})=>{ve?bc("getAppInstallState",e,"iOS not supported"):e.packageName||e.packageNameArray?qu("getInstallStateForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getInstallStateForNative","getAppInstallState")}}):bc("getAppInstallState",e,"parameter error: require packageName or packageNameArray")},eS=(e={})=>{ve?bc("queryDownloadAppTask",e,"iOS not supported"):e.downloadId||e.downloadIdArray||e.appIdArray?qu("queryDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("queryDownloadTaskForNative","queryDownloadAppTask"),"download_succ"===e.state&&(e.progress=100),(e.result||[]).forEach((e=>{"download_succ"===e.state&&(e.progress=100)}))}}):bc("queryDownloadAppTask",e,"parameter error: require downloadId or downloadIdArray or appIdArray")},tS=(e={})=>{ve?bc("cancelDownloadAppTask",e,"iOS not supported"):yc("cancelDownloadAppTask",e,{downloadIdArray:[]})&&qu("cancelDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cancelDownloadTaskForNative","cancelDownloadAppTask")}})},rS=(e={})=>{ve?bc("installDownloadApp",e,"iOS not supported"):yc("installDownloadApp",e,{downloadId:""})&&qu("installDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("installDownloadTaskForNative","installDownloadApp")}})},nS=(e={})=>{ve?bc("pauseDownloadAppTask",e,"iOS not supported"):yc("pauseDownloadAppTask",e,{downloadId:""})&&qu("pauseDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("pauseDownloadTaskForNative","pauseDownloadAppTask")}})},iS=(e={})=>{ve?bc("resumeDownloadAppTask",e,"iOS not supported"):yc("resumeDownloadAppTask",e,{downloadId:""})&&qu("resumeDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("resumeDownloadTaskForNative","resumeDownloadAppTask")}})},aS=e=>{Rt("onDownloadAppStateChangeForNative",((t={})=>{E.surroundThirdByTryCatch(e,"at onDownloadAppStateChange callback function")(t)}))},oS=(e={})=>{if(!ge)return yc("downloadAppForIOS",e,{appUrl:""})?(qu("downloadAppInternalForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("downloadAppInternalForNative","downloadAppForIOS")}}),null):null;bc("downloadAppForIOS",e,"android not supported")},sS=(e={})=>{yc("calRqt",e,{rqt:""})&&qu("calRqt",e)},lS=e=>{qu("secureTunnel",e)},cS,uS,dS=e=>{cS=e},pS=e=>{uS=e},hS=()=>uS,fS=()=>cS,gS=2.074,vS;h.onLoad((()=>{vS=dd(ew)}));var mS=function(){var e=Hp()((function*(e,t){if(!t){var r=fS();t=[r*gS,r]}var n=e;"string"==typeof e&&(n=(yield vS({url:e,responseType:"arraybuffer"})).data);for(var i=Array.prototype.slice.call(new Uint8Array(n)),a=t[0],o=t[1],s=Array(a).fill(0).map((e=>[])),l=function*(e){for(var t=function*(t){var[r,n,a]=Array(3).fill(0).map(((r,n)=>i[e*o*3+3*t+n]));s[e].push([r,n,a])},r=0;r<o;r++)yield*t(r)},c=0;c<a;c++)yield*l(c);return s}));return function(t,r){return e.apply(this,arguments)}}();function yS(e,t,r){return _S.apply(this,arguments)}function _S(){return _S=Hp()((function*(e,t,r){try{var n=e,i="";t.forEach((e=>{"dictName"===e.key&&(i=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var a=yield jm(i),o=r[r.length-1],s=[],l=JSON.parse(n),c=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{c(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{c(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(a[n]>=0)s.push(a[n]);else{var i=0;if((n=(r+="").toLowerCase()).length<=20)for(var l=0;l<n.length;l++)for(var u=1;u<5;u++)if(a[n.substr(l,u)]>=0){s.push(a[n.substr(l,u)]),i=1;break}0==i&&(n=(t+":other").toLowerCase(),a[n]>=0&&s.push(a[n]))}}};for(c(l);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}})),_S.apply(this,arguments)}function bS(e,t,r){return wS.apply(this,arguments)}function wS(){return wS=Hp()((function*(e,t,r){try{var n,i,a=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);a=a.slice(a.length*n,a.length*n+s);for(var l=yield jm(o?"minivocab":"alberttiny489kvocab"),c=r[0],u=r[r.length-1],d=[],p=[],h=0;h<a.length+1;h++)if("\n"===a[h]||h===a.length){if(p.length>=i){var f=u-(o?0:2);if(p.length>f&&(p=p.slice(0,f)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=c)break}else p.push(l[a[h]]||(o?1:100));for(;d.length<c;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){v.warn("reshape occur error:",e)}})),wS.apply(this,arguments)}function SS(e,t,r){return CS.apply(this,arguments)}function CS(){return CS=_asyncToGenerator((function*(e,t,r){try{var n=e,i=.5,a=.5,o="NCHW";t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value}));var s=yield transformRGB(n,r),l=0,c=s.length/s[0].length,u=s[0].length;s.length<s[0].length&&(l=1,c=s[0].length/s.length,u=s.length);var d=[];if("NCHW"===o)for(var p=0;p<3;p++)for(var h=0;h<u;h++)for(var f=0;f<u;f++){var g=h,v=f;0===l?g=Math.floor(h*c):v=Math.floor(h*c),d.push((s[g][v][p]/255-i)/a)}else for(var m=0;m<u;m++)for(var y=0;y<u;y++){var _=m,b=y;0===l?_=Math.floor(m*c):b=Math.floor(y*c);for(var w=0;w<3;w++)d.push((s[_][b][w]/255-i)/a)}return new Float32Array(d).buffer}catch(e){throw e}})),CS.apply(this,arguments)}function IS(e,t,r){return AS.apply(this,arguments)}function AS(){return AS=Hp()((function*(e,t,r){try{var n=.5,i=.5,a="NCHW",o=e;t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(a=e.value),"resizeType"===e.key&&e.value}));var s=yield mS(o,r),l=0,c=s.length/s[0].length,u=s[0].length,d=s.length;s.length<s[0].length&&(l=1,c=s[0].length/s.length,u=s.length,d=s[0].length);var p=Math.ceil(c),h=Math.floor(p/2),f=[];if("NCHW"===a)for(var g=0;g<3;g++)for(var v=0;v<u;v++)for(var m=0;m<u;m++){var y=0,_=0,b=0;b=0===l?Math.floor(v*c):Math.floor(m*c);for(var w=0;w<p;w++){var S=b-h+w;S>=0&&S<d&&(y+=1,_+=0===l?s[S][m][g]:s[v][S][g])}y>0?f.push((_/y/255-n)/i):f.push(0)}else for(var C=0;C<u;C++)for(var I=0;I<u;I++){var A=0;A=0===l?Math.floor(C*c):Math.floor(I*c);for(var k=0;k<3;k++){for(var E=0,T=0,P=0;P<p;P++){var x=A-h+P;x>=0&&x<d&&(E+=1,T+=0===l?s[x][I][k]:s[C][x][k])}E>0?f.push((T/E/255-n)/i):f.push(0)}}return new Float32Array(f).buffer}catch(e){throw e}})),AS.apply(this,arguments)}var kS={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5},ES=e=>e.reduce(((e,t)=>e*t),1),TS=e=>kS[e],PS=function(){var e=Hp()((function*(e,t,r,n=!1){var i,a,o,s;if(t.forEach((e=>{"startPct"===e.key&&(i=e.value),"maxSize"===e.key&&(a=e.value-(n?0:2)),"dictName"===e.key&&(o=e.value)})),a<0){var l=e.length*i+a;l<0&&(l=0),e=e.slice(l,e.length*i)}else e=e.slice(e.length*i,e.length*i+a);o||(o=n?"minivocab":"alberttiny489kvocab");try{s=yield jm(o)}catch(e){}for(var c=[],u=0;u<e.length;u++){var d;c.push(null!==(d=s[e[u]])&&void 0!==d?d:n?1:100)}var p=ES(r)-(n?0:2);if(c.length>p&&(c=c.slice(0,p)),n||(c.unshift(101),c.push(102)),c.length<p)for(;c.length<p;)c.push(0);return new Int32Array(c).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function xS(e,t,r){return OS.apply(this,arguments)}function OS(){return OS=Hp()((function*(e,t,r){try{var n=0,i=512,a=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(a=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(a?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var l=[],c=0;c<s.length;c++){var u=s[c];o[u]&&o[u]>60&&o[u]<2900&&l.push(o[u])}var d=[],p=i-(a?0:2);if(l.length>p){for(var h=0;h<l.length;h++){var f=l[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||d.push(f)}d.length>p&&(d=d.slice(0,p))}else d=l;for(a||(d.unshift(101),d.push(102));d.length<i;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}})),OS.apply(this,arguments)}var RS=g.g.eval,MS={GetTextIdsVec:PS,GetTextIdsSimple:(e,t,r)=>PS(e,t,r,!0),GetTextIdsMultiDimension:bS,GetTrimTextProcrss:xS,exceptionRetProcess:yS,resizeScreenshotRect:IS},DS=function(){var e=Hp()((function*(e,t,r,n,i,a){var o=void 0!==a?a:e[t],s=MS[r];if(s)try{return yield s(o,n,i)}catch(e){return null}return o}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),NS=function(){var e=Hp()((function*(e,t,r,n){return new Promise(((i,a)=>{var o=i,s=a;try{LS(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:o,safeEvalExecCallbackReject:s,env:{readWordDict:jm,shape:n,transformRGB:mS}})}catch(e){a(e)}}))}));return function(t,r,n,i){return e.apply(this,arguments)}}(),LS=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");RS(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},BS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $S(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),i="",a=0,o=BS;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new np("btoa failed");t=t<<8|r}return i}function FS(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new np(`atob failed: invalid string length ${t.length}`);for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=BS.indexOf(i);return r}function jS(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return $S(r)}function WS(e){for(var t=FS(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}var US=e=>$S(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode("0x"+t)))),VS=e=>decodeURIComponent(FS(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),qS=e=>US(e).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_"),zS=e=>VS(e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="));const GS=JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var HS=null,KS=void 0!==r&&r?r.version:"unknown";function QS(){var e=-1;return __({success(t){e=t.benchmarkLevel}}),HS||(HS=new Promise(((t,r)=>{var n,i=hy();Pd({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:H.clientVersion,pub_version:KS,performance:e,instance_id:H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,...i?{xnet_conf_list:[i]}:{}},success:(n=Hp()((function*(e){t(e)})),function(e){return n.apply(this,arguments)}),fail:r,complete:void 0})})),HS)}var JS=function(){var e=Hp()((function*(){return yield uy,QS()}));return function(){return e.apply(this,arguments)}}(),XS=!1,YS=()=>XS=!0,ZS=({taskId:e,xnetResList:t,regResList:r,curPath:n,runScene:i,runTime:a,costTime:o,errMsg:s,debug:l,domTextPresetData:c,blockTime:u,logicCostList:d,specialCase:p,contentId:h})=>{var f=[];Array.isArray(t)&&t.forEach((e=>{var t=e.xnet_res;if(t){var r=[];for(var n of Object.keys(t)){var i=t[n];r.push({key:n,type:i.type,shape_list:i.shape,base64_data:jS(i.data)})}e.xnet_res=r,f.push(e)}else f.push(e)}));var g={task_id:e,xnet_res_list:f,reg_res_list:r,cur_path:n,run_scene:i,run_time:a,cost_time:o,errmsg:s,block_time:u,logic_cost_time_list:d,special_case:p,content_type:h};if(2===h)g.debug_data={preset_data_list:[{key:"screenshot",value:l}]};else if(Array.isArray(l)){var v=[];c&&l.forEach((e=>{v.push({key:e,value:c[TS(e)]})})),g.debug_data={preset_data_list:v}}Pd({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:g})},eC=(e,t={})=>{if(XS){var r={task_id:ty(),xnet_moment:e,...t};Pd({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:r})}},tC=!1,rC=()=>new Promise(((e,t)=>{var r,n,i,a;if(!tC&&null!==(r=H.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(i=n.jsonInfo)&&void 0!==i&&null!==(a=i.op_info)&&void 0!==a&&a.skip_async_secinfo)return e({close:!0});if(tC){var o=function(){var e=Hp()((function*(){var e={data:GS};e.data.wxa_client_check.gray_pub_mode&&YS(),e.data.wxa_client_check.check_logic&&e.data.wxa_client_check.check_logic.xnet&&Lm(e.data.wxa_client_check.check_logic.vocab_list);var t=[];for(var r of e.data.wxa_client_check.check_logic.xnet_list){var n=yield nC({xnet:r,reg_list:e.data.wxa_client_check.check_logic.reg_list},e.data.wxa_client_check.debug_data,e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_code:null);n.taskId=e.data.wxa_client_check.task_id,n.checkConfig=e.data.wxa_client_check.timing,n.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,n.debug_codes=n.debug?e.data.wxa_client_check.debug_code:null,t.push(n)}if(!t.length&&e.data.wxa_client_check.check_logic.reg_list){var i=[];if(e.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{i.push(TS(e))})),i.length){var a={regCheckCfg:e.data.wxa_client_check.check_logic.reg_list,domTextPreset:i};a.taskId=e.data.wxa_client_check.task_id,a.checkConfig=e.data.wxa_client_check.timing,a.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,t.push(a)}}return 1===e.data.wxa_client_check.timing.at_redirect&&(aC=1),t}));return function(){return e.apply(this,arguments)}}();o().then(e).catch((e=>{t(e)}))}else JS().then(function(){var r=Hp()((function*(r){try{var n,i;if(null===(n=r.data)||void 0===n||null===(i=n.wxa_client_check)||void 0===i||!i.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&Lm(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&YS();var a=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s=yield nC({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);s.taskId=r.data.wxa_client_check.task_id,s.checkConfig=r.data.wxa_client_check.timing,s.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,s.debug_codes=s.debug?r.data.wxa_client_check.debug_code:null,a.push(s)}if(!a.length&&r.data.wxa_client_check.check_logic.reg_list){var l=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{l.push(TS(e))})),l.length){var c={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:l};c.taskId=r.data.wxa_client_check.task_id,c.checkConfig=r.data.wxa_client_check.timing,c.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,a.push(c)}}1===r.data.wxa_client_check.timing.at_redirect&&(aC=1),e(a)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),nC=function(){var e=Hp()((function*(e,t,r){var n,i={},{model_url:a,model_name:o,cli_param_list:s=[],svr_param_list:l=[],conf_name:c}=e.xnet||{},u=null!==(n=e.reg_list)&&void 0!==n?n:[],d=[],p=!1;if([...u,...s,...(t||[]).map((e=>({preset_data:e})))].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(p=!0),!d.includes(t)&&t&&d.push(TS(t))})),a){var h=function*(e){var t,{preset_data:n,pre_proc:a}=null!=e?e:{},{proc_name:o,param:s}=null!=a?a:{};i[e.key]={type:e.type||"int32",shape:e.shape_list,getData:(t=Hp()((function*(t,i,{customShape:a}={}){var l;if(r&&-1!==(l=r.findIndex((e=>e.func_name===o)))){var c,u=r[l].code;try{c=yield NS(u,void 0!==i?i:t[TS(n)],s,null!=a?a:e.shape_list)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}return yield DS(t,TS(n),o,s,null!=a?a:e.shape_list,i)})),function(e,r){return t.apply(this,arguments)})}};for(var f of s)yield*h(f);l.forEach((e=>{i[e.key]={type:e.type,shape:e.shape_list,data:WS(e.base64_data)}}))}return{modelName:o,model:a,config:i,domTextPreset:d,regCheckCfg:u,key:c,cliParamList:s,isScreenshot:p}}));return function(t,r,n){return e.apply(this,arguments)}}(),iC=function(){var e=Hp()((function*(e,t,r,{customShape:n}={}){for(var i of Object.values(e))"function"==typeof i.getData&&(i.data=yield i.getData(t,r,{customShape:n}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),aC,oC=()=>{var t,r;return null!==(t=e)&&void 0!==t&&null!==(r=t.getCurrentRouteStartTime)&&void 0!==r&&r.call(t)?Date.now()-e.getCurrentRouteStartTime()>2e3?aC:void 0:-1},sC=(e,t)=>t.map((t=>{var r=e[TS(t.preset_data)],n=new RegExp(t.reg_exp);return{id:t.id,match:n.test(r)}})),lC=function(){var e=Hp()((function*(e,t){return Dm(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),cC=null,uC,dC=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{invokeWebviewMethod("getDOMContent",{type:e.type},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},pC=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{oh("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},hC=(e,t)=>{var r,n=null===(r=H.appLaunchInfo)||void 0===r?void 0:r.openId;return new Promise(((r,i)=>{tw({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&openid=${n}&buf_type=rgb&height=${t[1]}&width=${t[0]}`,method:"POST",data:e,success(e){r(e.data.media_id_str)},fail(e){i(e)}})}))},fC,gC=(e,t)=>new Promise(((r,n)=>{if(fC)return r(fC);lC(e,t).then((e=>{var t=Vg({model:e});t.onLoad((()=>{fC=t,r(t)})),t.onError((e=>{fC||n(e)}))})).catch((e=>{n(e)}))})),vC=(e,t)=>{void 0===e&&(e=[]);try{var r,n=Date.now();return e.length&&(r=sC(t,e)),{regRes:r,errMsg:null,cost:Date.now()-n}}catch(e){return{errMsg:e.message,cost:-1}}},mC=function(){var e=Hp()((function*(e,t,r,n,i,{customShape:a}={}){void 0===n&&(n={});var o,s=[];if(!e)return{xnetRes:null,errMsg:null,logicCost:s};try{var l=Date.now();eC(2),o=yield gC(e,t),eC(3);var c=Date.now()-l;s.push({logic_type:2,time_cost:c})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:s}}try{var u,d,p,h=Date.now();eC(4),yield iC(r,n,i,{customShape:a}),eC(5,{xnet_res:[{base64_data:jS(null===(u=r.input_ids)||void 0===u?void 0:u.data),type:null===(d=r.input_ids)||void 0===d?void 0:d.type,shape_list:null===(p=r.input_ids)||void 0===p?void 0:p.shape}]});var f=Date.now()-h;s.push({logic_type:3,time_cost:f});var g=Date.now(),v=yield o.run(r),m=Date.now()-g;return s.push({logic_type:4,time_cost:m}),eC(6),{xnetRes:v,logicCost:s}}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:s}}}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),yC=function(){var e=Hp()((function*(){var e=yield sy();if(e){var{domTextPreset:t}=e;return yield pC({types:t})}}));return function(){return e.apply(this,arguments)}}(),_C=!0,bC=function(){var t=Hp()((function*(t,r){var n=yield sy(void 0,!0);if(n&&n.length){_C&&(_C=!1,eC(1));var i,a=[],{domTextPreset:o,regCheckCfg:s,taskId:l,debug:c}=n[0],u=c?e.getCurrentFullyRoutePath():e.getCurrentRoutePath(),d=Date.now(),p=r||(r=yield pC({types:o})),{res:h,cost:f}=p,g=vC(s,h);g.errMsg&&(i=g.errMsg),a.push({logic_type:1,time_cost:g.cost});var v=[],m=n.map(function(){var e=Hp()((function*(e){if(!e.isScreenshot){var{modelUrl:t,cfg:r,modelName:n,key:a}=e,{xnetRes:o,errMsg:s,logicCost:l}=yield mC(t,n,r,h,void 0),u={conf_name:a,xnet_res:o,errmsg:s,logic_cost_time_list:l};if(c){var d=[];for(var p of Object.keys(r)){var f,g=r[p],m=jS(g.data);(null===(f=m)||void 0===f?void 0:f.length)>2e4&&(m=m.slice(0,2e4)+":size over max"),d.push({key:p,type:g.type,shape_list:g.shape,base64_data:m})}u.debug_data={xnet_param:d}}v.push(u),s&&(i=s)}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(m),v.length||g.regRes||i){var y=Date.now()-d;a.push({logic_type:5,time_cost:f}),ZS({taskId:l,xnetResList:v,regResList:g.regRes,curPath:u,runScene:t,runTime:Date.now(),costTime:y,errMsg:i,debug:c,domTextPresetData:h,blockTime:-1,logicCostList:a,contentId:1})}}}));return function(e,r){return t.apply(this,arguments)}}(),wC=function(){var t=Hp()((function*(t,r,n,i){var{taskId:a,debug:o}=t[0];if(r){var s;o&&(s=hC(r,[n[1],n[0]]));var l,c,u=Date.now(),d=t.map(function(){var e=Hp()((function*(e){if(e.isScreenshot){var{modelUrl:t,cfg:i,modelName:a,key:s}=e,{xnetRes:c,errMsg:u,logicCost:d}=yield mC(t,a,i,null,r,{customShape:n});u&&(l=u);var p={conf_name:s,xnet_res:c,errmsg:u,logic_cost_time_list:d};return o&&(p.debugCfg=e.cfg),p}}));return function(t){return e.apply(this,arguments)}}()),p=yield Promise.all(d),h=Date.now()-u;if(s)try{c=yield s}catch(i){}c&&p.forEach((e=>{var t=[];for(var r of Object.keys(e.debugCfg))t.push({key:r,type:"screenshot",shape_list:null,base64_data:c});delete e.debugCfg,e.debug_data={xnet_param:t}})),ZS({taskId:a,xnetResList:p,regResList:null,curPath:o?e.getCurrentFullyRoutePath():e.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:h,errMsg:l,debug:c,domTextPresetData:null,blockTime:-1,logicCostList:[],contentId:2})}else ZS({taskId:a,xnetResList:null,regResList:null,curPath:o?e.getCurrentFullyRoutePath():e.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:-1,errMsg:i,debug:o,domTextPresetData:null,blockTime:-1,logicCostList:[],specialCase:[{key:"support_screenshot",value:"false"}],contentId:2})}));return function(e,r,n,i){return t.apply(this,arguments)}}(),SC=t=>{if(yc("navigateTo",t,{url:""})&&hh("navigateTo",t)&&gh("navigateTo",t)){var r=ch("navigateTo",t,!1);if(r&&(t.url=r,t.url=bp(t.url),t.singlePageData={routeType:t.routeType},Fc.routeType=t.routeType||"",ph("navigateTo",t.url,t))){var n=Ch();if(t.events)for(var i of Object.keys(t.events))n.on(i,t.events[i]);var a=()=>{var r=Date.now();qu("navigateTo",t,{afterFail(){nh.unblock(),e.traceRoute("navigateTo",t.url,!1)},beforeSuccess(r){e.traceRoute("navigateTo",t.url),r.eventChannel=n}}),uh.emit({type:"navigateTo",start:r})};1!==oC()?a():yC().then((e=>{bC(1,e)})).finally((()=>{a()}))}}},CC=e=>{sr.DisplayReporter.setEventRelatedInfo(e._relatedInfo),SC(e)},IC=t=>{if(yc("redirectTo",t,{url:""})&&hh("redirectTo",t)&&gh("redirectTo",t)){var r=ch("redirectTo",t,!1);if(r&&(t.url=r,t.url=bp(t.url),ph("redirectTo",t.url,t))){t.singlePageData={};var n=()=>{var r=Date.now();qu("redirectTo",t,{afterFail(){nh.unblock(),e.traceRoute("redirectTo",t.url,!1)},beforeSuccess(){e.traceRoute("redirectTo",t.url)}}),uh.emit({type:"redirectTo",start:r})};1!==oC()?n():yC().then((e=>{bC(3,e)})).finally((()=>{n()}))}}},AC=t=>{if("active"===Fc.runningStatus||"ios"!==he){if(yc("reLaunch",t,{url:""})&&hh("reLaunch",t)&&gh("reLaunch",t)){var r=ch("reLaunch",t,!1);r&&(t.url=r,t.url=bp(t.url),ph("reLaunch",t.url,t)&&(qu("reLaunch",t,{afterFail(){nh.unblock(),e.traceRoute("reLaunch",t.url,!1)},beforeSuccess(){e.traceRoute("reLaunch",t.url)}}),uh.emit({type:"reLaunch",start:Date.now()})))}}else bc("reLaunch",t,"can not invoke reLaunch in background")},kC=(t={})=>{if(yc("switchTab",t,{url:""})&&(/\?.*$/.test(t.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),t.url=t.url.replace(/\?.*$/,"")),hh("switchTab",t)&&gh("switchTab",t))){var r=ch("switchTab",t,!1);if(r&&(t.url=r,t.url=bp(t.url),ph("switchTab",t.url,t))){var n=()=>{var r=Date.now();qu("switchTab",t,{afterFail(){nh.unblock(),e.traceRoute("switchTo",t.url,!1)},beforeSuccess(){e.traceRoute("switchTo",t.url)}}),uh.emit({type:"switchTab",start:r})};1!==oC()?n():yC().then((e=>{bC(2,e)})).finally((()=>{n()}))}}},EC=(e,t)=>{var r={_relativePath:e,_webviewId:t};return{navigateTo(e){SC(Object.assign({},e,r))},redirectTo(e){IC(Object.assign({},e,r))},switchTab(e){kC(Object.assign({},e,r))},navigateBack(e){mh(Object.assign({},e,r))},reLaunch(e){AC(Object.assign({},e,r))}}},TC=new jt;Rt("onPageReload",((e={},t=0)=>{e.webviewId=t,TC.emit("onPageReload",e)}));var PC=function(e){TC.on("onPageReload",(t=>{t.path&&(t.path=up(t.path)),"function"==typeof e&&e(t)}))},xC=function(e){TC.emit(`onBeforeUnloadPage_${e}`,e),TC.removeAllListeners(`onBeforeShareAppMessage_${e}`),TC.removeAllListeners(`onBeforeCopyUrl_${e}`),MC(e)},OC={},RC=(e,t)=>(OC[e]=OC[e]||{},!!OC[e][t]||(OC[e][t]=!0,!1)),MC=e=>{delete OC[e]},DC=0,NC=function(e,t,r){var n=r;n||(n=DC++),RC(e,n)||TC.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},LC=function(e){TC.emit(`onBeforeShareAppMessage_${e}`,e)},BC=function(e,t){TC.on(`onBeforeShareAppMessage_${e}`,(e=>{"function"==typeof t&&t(e)}))},$C=function(e){TC.emit(`onBeforeCopyUrl_${e}`,e)},FC=function(e,t){TC.on(`onBeforeCopyUrl_${e}`,(e=>{"function"==typeof t&&t(e)}))},jC=PC,WC=xC,UC=LC,VC=Tc(SC),qC=Tc(IC),zC=Tc(kC),GC=void 0,HC=e=>{JSON.stringify(e),GC=e},KC=function(){var e=Hp()((function*(e){try{Or("syncHighlightBottomBanner",{highlighted:!0}),yield QC({navigateInfo:e})}catch(e){}}));return function(t){return e.apply(this,arguments)}}(),QC=function(){var e=Hp()((function*(e={}){try{yield zu("highlightBottomBanner",{shouldHighlight:!0}),HC(e.navigateInfo)}catch(e){qu("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),Zp(!0)}}));return function(){return e.apply(this,arguments)}}();Br("highlightBottomBanner",function(){var e=Hp()((function*(e){try{yield QC(e)}catch(e){}}));return function(t){return e.apply(this,arguments)}}()),Br("cancelHighlightBottomBanner",(()=>{HC(null),qu("highlightBottomBanner",{shouldHighlight:!1})})),Rt("onBottomBannerButtonClicked",((e={})=>{eh(),qu("restart",{url:e.currentPath,scene:1155,privateExtraData:{singlePageNavigationInfo:GC},fail(e){v.error("restart fail",e)}})}));var JC=e=>new Promise((t=>setTimeout(t,e)));H.onReady(Hp()((function*(){try{var e,t,r,n=null==H||null===(e=H.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t||null===(r=t.privateExtraData)||void 0===r?void 0:r.singlePageNavigationInfo;if(!n)return;yield JC(500);var{type:i,url:a,_relativePath:o}=n;switch(i){case"navigate":case"navigateTo":yield VC({url:a,_relativePath:o});break;case"redirect":case"redirectTo":yield qC({url:a,_relativePath:o});break;case"switchTab":yield zC({url:a,_relativePath:o})}}catch(e){}})));var XC=!1;function YC(e){XC=!!e.state,e.success&&e.success({state:XC})}function ZC(e,t,r){rp(e);var n=Jd(e,"ui");if(n>0&&XC)return!1;if(n>=20)if(void 0===sr){if(t)return!1}else{var i=Pp(sr.getCurrentRoute()||"");if("//"===i)return!1;if(i!==t&&n>=30)return!1;if(Fc.openingInnerPage)return!1}var a=Jd(e,"singlePage")||0;if(10!==a&&wd())switch(a){default:case 0:return!1;case 1:case 2:return!!tp()&&(Sd()?qu("highlightTitleForSinglePage"):KC(2===a?{type:e,url:null==r?void 0:r.url,_relativePath:void 0===(null==r?void 0:r._relativePath)?Fc.lastRoute:null==r?void 0:r._relativePath}:void 0),!1)}return 10===Jd(e,"background")||!h.isStarted||!Vp()}function eI(){}const tI={};class rI{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var nI=(()=>new rI)();const iI=nI;var aI=e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...sI(n)]}}));lI={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}},oI=(e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}),sI=(e={})=>{var t=[e.req,e.res].map(((e,t)=>e?oI(e,t):null)).filter((e=>null!==e));return t},lI,cI,uI={},dI=(e,t)=>{if(!uI[e])return Promise.resolve(!1);var r=Ym().runTask("resolveApiFullRule",{rules:cI?null:lI,data:{[e]:t},appid:H.accountInfo.appId});return cI||(cI=!0),r.then((e=>e.result))},pI=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),uI[e]=!0)})),aI(t)},hI=e=>e.key?e.key+"."+e.val:"STR_"+e.val,fI=e=>{var t=hI(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}},gI=e=>{var t;return{key:"userCustom:"+("string"!=typeof e?hI(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}},vI=e=>{var t=e.rules.map((e=>fI(e))),r=e.strRules.map((e=>gI(e))),n={};return Object.keys(e.priority).forEach((t=>{n["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:r},priorities:n,schemaVersion:"9.9.99"}},mI,yI=e=>{mI=e},_I=()=>mI,bI,wI,SI=new Promise(((e,t)=>{bI=e,wI=t})).catch((e=>{})),CI=()=>SI,II=()=>{xd({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;yI(n),bI(n)})).catch((e=>{wI()}))};H.onReady((()=>{bf("WxaQualityOssRuleConfig")?II():wI()}));var AI=void 0===r?{version:"9.9.9",updateTime:"unknown"}:r,kI=AI,EI=()=>({updateTime:AI.updateTime,version:AI.version});function TI(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}function PI(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function xI(e,t){return e||t?e?t?TI(PI(e),PI(t)):1:-1:0}var OI="wxfile://ad",RI=`${OI}/sdk_dynamic_item.json`,MI=6048e5,DI=864e5,NI={},LI=.05,BI=Math.random,$I=()=>{try{var e=void 0!==r&&r?r.version:"unknown";return TI(e,"2.22.1")?"2230_":TI(e,"2.21.4")?"2215_":""}catch(e){return""}},FI=dd(Df),jI=dd(Lf);H.onReady((()=>{var t=$I()+"WeAppRequestError",r=$I()+"ApiReportStrategy",n="weAppRequestErrorOpenStrategy",i="weQualityConfig",a={[r]:MI,[t]:DI,[n]:MI,[i]:DI},o={[r]:null,[t]:null,[n]:null,[i]:null};FI({filePath:RI,encoding:"utf-8"}).then((e=>{bf("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=a[t]||(o[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==h){var a=[];(s=[t,n,r,i].filter((e=>(o[e]&&a.push(e),!o[e]))),s.length?xd({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:s}}):Promise.resolve({data:{conf_item_list:[]}})).then((s=>{try{var l,c=s.data.conf_item_list;a.forEach((e=>{c.push({item_name:e,item_info:o[e].cache_info})}));try{c&&(c.forEach((t=>{switch(t.item_name){case r:try{var a=JSON.parse(t.item_info);NI=a,pI(a)}catch(e){}break;case n:try{var o=JSON.parse(t.item_info);l=Ey(o),py()}catch(e){}break;case i:try{var s=JSON.parse(t.item_info);e.setQualityConfig(s)}catch(e){}}})),Object.values(o).filter((e=>null===e)).length&&jI({filePath:RI,data:JSON.stringify({...c.reduce(((e,t)=>(null===o[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:o[t.item_name]&&(e[t.item_name]=o[t.item_name]),e)),{})})}).catch((e=>{})));var u=BI()<=LI;if(u&&Py(),!l&&!u)return;var d=c.find((e=>e.item_name===t));if(d){var p;CI().then((e=>{p=e})).catch((()=>{})).finally((()=>{var e;Ym().runTask("createWeAppRequestInterpreter",{rules:d.item_info,appid:null==H||null===(e=H.accountInfo)||void 0===e?void 0:e.appId,userRules:p||""}).catch((e=>{v.error("createWeAppRequestInterpreter occer error:",e)}))}));var h=JSON.parse(d.item_info);e.convert24247SchemaToSensitiveQueryJudgeSchema(h)}}catch(e){}}catch(e){}})).catch((e=>{py()}))}var s}))}));var WI=e=>NI[e],UI=e=>{var t;return!1===(null===(t=NI[e])||void 0===t?void 0:t.hook)},VI=e=>{var t;return!0===(null===(t=NI[e])||void 0===t?void 0:t.hook)},qI=(e,t,r=!1)=>{var n;if(!et(t)&&!Array.isArray(t))return t;var i=WI(e);if(!i)return t;if(Array.isArray(null==i||null===(n=i[r?"res":"req"])||void 0===n?void 0:n.filter)){var a={};for(var o of Object.getOwnPropertyNames(t))i[r?"res":"req"].filter.includes(o)||(a[o]=t[o]);return Array.isArray(t)&&(a=Array.from(a)),a}return t},zI=0,GI="",HI=Date.now(),KI=HI,QI=HI;h.onLoad((()=>{var e=Date.now();KI=e,QI=e}));var JI={};function XI(e,t,r,n,i,a,o,s,l,c,u){var d,p;for(var h of Pf)if(h.test(e)){r="";var f=o;n&&(o=""),"request"===e&&n&&!l&&1===a&&bf("reportRresult")&&(o=null==f?void 0:f.data);break}var g,v=iI.get("api_call_from_hot_boot_time",QI);g=void 0===c?-1:c?1:0;var m=Date.now(),y=[e,t,pu(qI(e,r)),n,i,0===a?u:m-i,lv(),a,pu(qI(e,o,!0)),H.appType+1e3,zI,cu(),uu(),Rf(e),s,Cv(),GI,m-KI,m-v,encodeURIComponent(JI.scene_note||JI.sceneNote),null===(d=o)||void 0===d?void 0:d.errno,g,null===(p=o)||void 0===p?void 0:p.errCode].map(du(1024)).join(",");l||1!==a||(T.reportIDKey({key:"asyncApiCount"}),T.reportIDKey({key:"asyncApiCost",value:m-i})),l&&T.reportKeyValue({key:"WeAppInvoke2",value:y}),T.reportKeyValue({key:"WeAppInvoke",value:y})}iI.set("appLaunchInfo",JI),H.onReady((()=>{var e=Date.now();KI=e,QI=e,zI=H.appLaunchInfo.scene,GI=H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,Object.assign(JI,H.appLaunchInfo),Yt("onAppEnterForeground",(e=>{Object.assign(JI,e),QI=Date.now(),e&&e.scene&&(zI=e.scene),e&&(e.sessionid||e.sessionId)&&(GI=e.sessionid||e.sessionId)}))}));var YI=new WeakSet,ZI=null,eA=null;function tA(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!Tf.includes(t)&&r)))}function rA(e,...t){isFunction(e)&&e(...t)}function nA(e,t,r,n=!1){var i=Iv(),a=Date.now();return(o,s,l=!1)=>{XI(e,i,t,null===s?0:1,a,0,s,r,n),!l&&XI(e,i,t,o?1:0,a,1,s,r,n,!0)}}function iA(e,t){dA("",e,1,t,!1)}var aA=Map,oA=Math.random,sA=(e,t)=>!!UI(e)||!VI(e)&&(!tI[e]&&(!et(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function lA(e){var t;return function(){return t=t||e.apply(this)}}function cA(t,r,n,i,a,o,s){var l=function(c,...u){var d,p,h=!1,f=getApiReportStrategy(t),g=null!==(d=null==f?void 0:f.ratio)&&void 0!==d?d:a,m=1===(null==f?void 0:f.ratio)||s,y=oA()<g,_=guid(),b=e.getAsyncCallApiRelatedEvent();(p=e.getTrackUserAction())&&e.pushApiToEventApiList(t,_);var w=Date.now(),S=u.length?[c,...u]:c,C=!0;Promise.resolve().then((()=>{C=!1}));var I=()=>!C;try{var A,k=arguments.length?[sA(t,c)?c:Object.assign({},c,{..."request"===t?{__wx_inner_uuid__:_,__wx_inner_invokeTime__:w,__wx_inner_request_network_type__:_getCurrentNetworkType(),__wx_request_route_path__:e.getCurrentRoutePath()}:{},success:r=>{var n;checkPointFullReportRule(t,{res:r}).then((e=>{m=m||e||h,(e||y||h)&&(!m||!T.isLimitReport(21688))&&report(t,_,S,1,w,1,r,o,m,I())})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),ZI.includes(t)&&e.reportInteractionAPI({api:t,result:0,res:r}),"request"!==t&&e.traceApi(t,c,r,null,_,Date.now()-w,!0),p&&(n=e.setAsyncCallApiRelatedEvent(p)),rA(c&&c.success,r),p&&!1!==n&&setTimeout((()=>e.clearAsyncCallApiRelatedEvent(p)),e.getAsyncCallbackJoinEventInterval())},fail:r=>{var n;checkPointFullReportRule(t,{res:r}).then((e=>{m=m||e||h,(e||y||h)&&(!m||!T.isLimitReport(21688))&&report(t,_,S,0,w,1,r,o,m,I())})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),ZI.includes(t)&&e.reportInteractionAPI({api:t,result:1,res:r}),"request"!==t&&e.traceApi(t,c,r,!0,_,Date.now()-w,!0,{errMsg:r.errMsg,errno:r.errno}),r.errno&&T.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[t,r.errno].join(",")}),isFunction(c&&c.fail)?(p&&(n=e.setAsyncCallApiRelatedEvent(p)),rA(c&&c.fail,r),p&&!1!==n&&setTimeout((()=>e.clearAsyncCallApiRelatedEvent(p)),e.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",r)}}),...u]:[];A=this instanceof l?Reflect.construct(r,k,r):Reflect.apply(r,n,k),e.traceApi(t,c,A,null,_,Date.now()-w,!1,{relatedEvent:b});var E=null===A?0:1;return checkPointFullReportRule(t,{req:S,res:A}).then((e=>{e&&(h=!0),m=m||e,(e||y)&&(!m||!T.isLimitReport(21688))&&report(t,_,S,E,w,0,A,o,m)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),i&&isObject(A)&&!YI.has(A)&&(uA(t,A,!1,a,o,m,!1),YI.add(A)),A}catch(r){throw e.traceApi(t,c,null,!0,_,Date.now()-w,!1,{errMsg:r,relatedEvent:b}),checkPointFullReportRule(t,{req:S}).then((e=>{e&&(h=!0),m=m||e,(e||y)&&(!m||!T.isLimitReport(21688))&&report(t,_,S,0,w,0,r,o,m)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),r}};return l}function uA(e,t,r,n,i,a,o){if(!isObject(t))return t;var s,l=new aA;for(var c of Object.getOwnPropertyNames(t))(s=tA(t,c))&&l.set(c,s);var u=Object.getPrototypeOf(t);for(var d of Object.getOwnPropertyNames(u))(s=tA(u,d))&&!s.get&&l.set(d,s);return l.forEach(((s,l)=>{if(o&&s.get)Object.defineProperty(t,l,{get:lA((function(){var c=s.get.apply(this);return isFunction(c)?cA(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):isObject(c)&&o?uA(`${e}${e?".":""}${l}`,c,r,n,i,a,o):void 0})),set:s.set,enumerable:s.enumerable,configurable:s.configurable});else{var c=s.value;if(!s.writable)return;isFunction(c)?t[l]=cA(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):isObject(c)&&o&&(t[l]=uA(`${e}${e?".":""}${l}`,c,r,n,i,a,o))}})),t}function dA(e,t,r,n,i=!1){if(et(t)){var a=new aA;for(var o of Object.getOwnPropertyNames(t))if(tA(t,o)){var s=Object.getOwnPropertyDescriptor(t,o);if(s.get||!s.writable||!it(t[o]))return;a.set(o,t[o])}var l=Object.getPrototypeOf(t);for(var c of Object.getOwnPropertyNames(l))if(!tA(l,c)){var u=Object.getOwnPropertyDescriptor(l,c);if(u.get||!u.writable||!it(l[c]))return;a.set(c,l[c])}a.forEach(((a,o)=>{var s;t[o]=new Proxy(t[o],{construct(t,a){var o,l=WI(e),c=null!==(o=null==l?void 0:l.ratio)&&void 0!==o?o:r,u=1===(null==l?void 0:l.ratio)||i,d=oA()<c,p=lv(),h=Date.now(),f=Iv();s=a;try{var g=Reflect.construct(t,a);return d&&XI(e,f,a,null===g?0:1,h,p,0,g,n,u),g}catch(t){throw d&&XI(e,f,s,0,h,p,0,t,n,u),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}}var pA=!1;function hA(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{pA||(pA=!0,report("WebGLRenderingContext.compressedTexImage2D",guid(),{},1,Date.now(),_getCurrentNetworkType(),0,void 0)),i.call(t,...e)}}return t}}return r}}}function fA(e,t=0){uA("",e,!0,.05,t,!1,!0),hA(e)}var gA={},vA=(e,t)=>{gA[e]=t},mA=e=>gA[e],yA=Symbol("IS_SUB_PACKAGE_INJECT_API"),_A=Symbol("EXIT_EXECUTE_SYMBOL"),bA=(e,...t)=>{it(e)&&e(...t)},wA=(e,t,...r)=>{isFunction(e)&&e.call(t,...r)},SA=234234669135,CA=234231453256,IA=234532352353;function AA(e){var t;return function(){return t=t||e.apply(this)}}function kA(e,t){if("function"!=typeof e)return!1;var r=e.toString();return void 0!==e.prototype&&(e.prototype.constructor===e&&("class"===r.slice(0,5)||(Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(r)&&(!(!t||!/^function\s+[A-Z]/.test(r))||!!/\b\(this\b|\bthis[\.\[]\b/.test(r)&&(!(t&&!/classCallCheck\(this/.test(r))||/^function\sdefault_\d+\s*\(/.test(r))))))}var EA=[],TA=e=>EA.push(e),PA=()=>EA,xA=e=>"function"==typeof e,OA=e=>"object"==typeof e&&e,RA="break_callback_execute",MA=Symbol("defineGeneralSymbol"),DA=new WeakSet;function NA(e,t){return function(r,n,i){if("noCondom"===e&&TA(n),i.value){var a;if(null!==(a=i.value)&&void 0!==a&&a.extraInfos){var o=i.value.extraInfos[e];o?Object.assign(o,t):i.value.extraInfos[e]=t}else i.value={extraInfos:{generalMetadata:{},[e]:t},value:i.value}}else{var s=i.initializer();if("noHook"===e)return void(i.initializer=()=>s);if("noExpose"===e)return void(i.initializer=()=>{});i.value={extraInfos:{[e]:t}},i.initializer=()=>{var e,t=null===(e=i.value)||void 0===e?void 0:e.extraInfos;return delete i.value.extraInfos,t.api=n,t.prefix="",Object.assign(t,r[MA]),LA(t,s,this)}}return i}}function LA(e,t,r,n=1){if(!OA(e))return t;var i,{api:a,prefix:o=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&OA(t))return ZC(a,"")||1!==n?new Proxy(t,{get(r,s){var l,c,u=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});u.handleObject=!1;var d=null===(l=e.lazy)||void 0===l||null===(c=l.hookHandlers)||void 0===c?void 0:c.getter;return d?"extraInfos"===s?r[s]:(i||(i=LA(u,d(),t,n)),i[s]):r[s]},set(r,s,l){if(i)i[s]=l;else{var c,u,d=null===(c=e.lazy)||void 0===c||null===(u=c.hookHandlers)||void 0===u?void 0:u.getter;if(d){var p=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});p.handleObject=!1,(i=LA(p,d(),t,n))[s]=l}else r[s]=l}return!0}}):(console.error(new np(a+":fail rejected due to no permission currently")),null);if(!xA(t))return t;var s,l=!0,c=[],u=[],d=function(...r){var i,d,p;r[r.length-2]===yA&&(t=r[r.length-1],r=r.slice(0,-2));var h=!1,f=r[0],g=f,v=o+a,m={};if(l){l=!1,s=new Map;var y={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:n,getState:i,otherDecoratorStates:l}=r;if(n&&Object.keys(n).forEach((e=>{var r=s.get(e);r?r.push({fn:n[e],metaKey:t}):s.set(e,[{fn:n[e],metaKey:t}])})),i){c.push(t);var d=i(),p=Date.now(),h=Math.random(),g=1e4*p+Math.round(9999*h);d.prefix=o,d.api=a,d.originArgs=f,d.invokeTime=p,d.random=h,d.uuid=g,m[t]=d,y[t]&&(y[t].forEach((e=>{e[t]=d})),delete y[t])}l&&(u.push(t),m[t]=m[t]||{},m[t].otherDecoratorStates={},l.forEach((e=>{m[e]?m[t].otherDecoratorStates[e]=m[e]:y[e]?y[e].push(m[t].otherDecoratorStates):y[e]=[m[t].otherDecoratorStates]})))}}))}else{var _=Date.now(),b=Math.random(),w=1e4*_+Math.round(9999*b);c.forEach((function(t){var r=e[t],{getState:n}=r,i=n();i.prefix=o,i.api=a,i.originArgs=f,i.invokeTime=_,i.random=b,i.uuid=w,m[t]=i})),u.forEach((function(t){var r=e[t],{otherDecoratorStates:n}=r;m[t]=m[t]||{},m[t].otherDecoratorStates={},n.forEach((e=>{m[t].otherDecoratorStates[e]=m[e]}))}))}var S,C,I=()=>{var e,i,l,c,u;et(f);try{var d,p,y=!1,_=s.get("beforeExecute");if(_&&_.forEach((function({fn:e,metaKey:t}){var r=e.call(m[t]);Array.isArray(r)&&r[0]===_A&&(y=r)})),!1!==y)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{bc(v,r[0],y[1])})):xA(y[2])?y[2]():void 0;var b=s.get("paramHandler");b&&b.forEach((function({fn:e,metaKey:t}){m[t].modifyArgs?e.call(m[t],r):e.call(m[t],...r)})),(!(null==m||null===(d=m.promised)||void 0===d||!d.promise)||!sA(v,r[0]))&&(h||(g=Object.assign({},g),m.timeout&&(m.timeout.afterCopyArgs=g)),["complete","success","fail"].forEach((function(t){var r=s.get(t),n=g[t];g[`__origin_${t}__`]=n,r&&(g[t]=function(i){"fail"===t&&(e=i),"success"===t&&(c=i);try{r.forEach((({fn:e,metaKey:t})=>e.call(m[t],i)))}catch(e){if(e===RA)return}xA(n)&&n.call(f,i);var a="after"+t[0].toUpperCase()+t.slice(1),o=s.get(a);o&&o.forEach((({fn:e,metaKey:t})=>e.call(m[t],i)))})})),h||(r[0]=g,h=!0));var w=s.get("hookArgs");w&&w.forEach((({fn:e,metaKey:t})=>e.call(m[t],g)));var S=!1,C=s.get("breakDirectly");if(C)for(var I=0;I<C.length;I++){var A=C[I].fn.call(m[C[I].metaKey],...r);if(A!==CA){S=!0,l=A;break}}if(!S)try{l=t.call(this,...r)}catch(e){var k=!1,E=s.get("errorHandler");E&&E.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===IA&&(k=!0)})),k||(i=e)}var T={};if(null!=m&&null!==(p=m.report)&&void 0!==p&&p.deep){var P,x=null==m||null===(P=m.report)||void 0===P?void 0:P.deep;if((!0===x||n<x)&&et(l)){var O=Object.getPrototypeOf(l);for(var R of Object.getOwnPropertyNames(l).concat(Object.getOwnPropertyNames(O))){var M=R in O?O:l,D=(o||"")+a,N=tA(M,R);if(N&&(!N.get&&N.writable&&xA(M[R]))){var L={prefix:D+".",api:R};T[R]||(T[R]=L),T[R].report=Object.assign({},null==m?void 0:m.report)}}}}var B=s.get("resultHandler");if(B&&B.forEach((({fn:t,metaKey:n})=>{var a=t.call(m[n],l,r,{syncError:i,callbackError:e});a!==SA&&(l=a)})),!DA.has(l)&&et(l)){for(var $ of Object.getOwnPropertyNames(T))l[$]=LA(T[$],l[$],l,n+1);DA.add(l)}}catch(e){u=e;var F=s.get("uncaughtErrorHandler");F&&F.forEach((({fn:t,metaKey:r})=>{t.call(m[r],e)===IA&&(u=null)}))}var j=!0,W=s.get("afterCallback");if(W&&W.forEach((function({fn:t,metaKey:n}){t.call(m[n],r,c||l,{syncError:i,callbackError:e})===IA&&(j=!1)})),u)throw u;if(!i)return l;if(j)throw i},A=!0,k=s.get("asyncPrepositive"),E=s.get("syncPrepositive"),T=(null==m?void 0:m.promised)&&!(null!==(i=g)&&void 0!==i&&i.success||null!==(d=g)&&void 0!==d&&d.fail||null!==(p=g)&&void 0!==p&&p.complete);if(E)for(var P of E){var{fn:x,metaKey:O}=P,R=x.call(m[O],g);if(R[0]){if(R[3])return;var M,D,N=void 0;return N=R[4]?`${o+a}:fail${R[1]?" ":""}${R[1]}`:{errMsg:`${o+a}:fail${R[1]?" ":""}${R[1]}`,...R[2]?{errno:R[2]}:{}},T?Promise.reject(N):(null!==(M=g)&&void 0!==M&&M.fail&&g.fail(N),void(null!==(D=g)&&void 0!==D&&D.complete&&g.complete(N)))}}if(k){var L=[];k.forEach((({fn:e,metaKey:t})=>{L.push(e.call(m[t],g))})),L.find((e=>ht(e)))&&(C=Promise.all(L))}return C?T?new Promise(((e,t)=>{C.then((r=>{for(var n of r)if(n[0]){A=!1,S=n[4]?`${o+a}:fail${n[1]?" ":""}${n[1]}`:{errMsg:`${o+a}:fail${n[1]?" ":""}${n[1]}`,...n[2]?{errno:n[2]}:{}};break}return A?void e(I()):void t(S)}))})):void C.then((e=>{for(var t of e)if(t[0]){A=!1,S=t[4]?`${o+a}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${o+a}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(A)return I();var r,n;null!==(r=g)&&void 0!==r&&r.fail&&g.fail(S),null!==(n=g)&&void 0!==n&&n.complete&&g.complete(S)})):I()};return n>1?d.bind(r):d}function BA(e,t){return function(r){r.prototype[MA]?r.prototype[MA][e]=t:r.prototype[MA]={[e]:t}}}function $A(e){var t=e.prototype.constructor;return function(...r){var n=new t(...r),i=Object.getOwnPropertyDescriptors(n);return Object.keys(i).forEach((t=>{var r,a=i[t],o=null===(r=a.value)||void 0===r?void 0:r.extraInfos;o&&(Object.assign(o,e.prototype[MA]),Object.defineProperty(n,t,{value:a.value.value()}))})),n}}function FA(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var i,a=r[n],o=null===(i=a.value)||void 0===i?void 0:i.extraInfos;o&&(o.api=n,o.prefix="",Object.assign(o,t.prototype[MA]),Object.defineProperty(e?t.prototype:t,n,{value:LA(o,a.value.value,e?t.prototype:t),configurable:!0}))}}}var jA=Gt("LifeCycle:Show"),WA=jA.emitInternal.bind(jA),UA=jA.emitGlobal.bind(jA),VA=jA.onMethod,qA=jA.offMethod,zA=jA.internalOnMethod,GA=jA.internalOffMethod,HA=Gt("LifeCycle:beforeHide"),KA=Gt("LifeCycle:Hide"),QA=Gt("LifeCycle:afterHide"),JA=KA.emitInternal.bind(KA),XA=KA.emitGlobal.bind(KA),YA=HA.emitInternal.bind(HA),ZA=QA.emitInternal.bind(QA),ek=KA.onMethod,tk=KA.offMethod,rk=HA.internalOnMethod,nk=HA.internalOffMethod,ik=KA.internalOnMethod,ak=KA.internalOffMethod,ok=QA.internalOnMethod,sk=QA.internalOffMethod,lk=function(e){return e[e.Tap=8]="Tap",e[e.Click=10]="Click",e[e.Start=11]="Start",e[e.Stop=12]="Stop",e[e.CustomAttr=13]="CustomAttr",e[e.Routing=14]="Routing",e[e.WxInput=16]="WxInput",e[e.VisibilityChange=17]="VisibilityChange",e[e.Env=40]="Env",e[e.WindowState=41]="WindowState",e[e.Depth=83]="Depth",e[e.BatchReport=101]="BatchReport",e[e.Unsupported=102]="Unsupported",e[e.NavigateTo=701]="NavigateTo",e[e.RedirectTo=702]="RedirectTo",e[e.NavigateBack=703]="NavigateBack",e[e.SwitchTab=704]="SwitchTab",e[e.AppLaunch=705]="AppLaunch",e[e.ReLaunch=706]="ReLaunch",e[e.AutoReLaunch=707]="AutoReLaunch",e[e.AppShow=720]="AppShow",e[e.AppHide=721]="AppHide",e[e.InitState=730]="InitState",e[e.ShowModal=740]="ShowModal",e[e.CloseModal=741]="CloseModal",e[e.ShowActionSheet=742]="ShowActionSheet",e[e.CloseActionSheet=743]="CloseActionSheet",e[e.ShowToast=744]="ShowToast",e[e.HideToast=745]="HideToast",e[e.OnShareAppMessage=746]="OnShareAppMessage",e[e.DoShareAppMessage=747]="DoShareAppMessage",e[e.OnShareTimeline=748]="OnShareTimeline",e[e.DoShareTimeline=749]="DoShareTimeline",e[e.KeyBoardHeightChange=750]="KeyBoardHeightChange",e[e.PageStaytime=760]="PageStaytime",e[e.WeSession=780]="WeSession",e[e.ReserveChannelsLive=800]="ReserveChannelsLive",e[e.ReserveChannelsLiveDone=801]="ReserveChannelsLiveDone",e[e.OpenChannelsUserProfile=802]="OpenChannelsUserProfile",e[e.OpenChannelsUserProfileDone=803]="OpenChannelsUserProfileDone",e[e.OpenChannelsLive=804]="OpenChannelsLive",e[e.OpenChannelsLiveDone=805]="OpenChannelsLiveDone",e[e.OpenChannelsEvent=806]="OpenChannelsEvent",e[e.OpenChannelsEventDone=807]="OpenChannelsEventDone",e[e.OpenChannelsActivity=808]="OpenChannelsActivity",e[e.OpenChannelsActivityDone=809]="OpenChannelsActivityDone",e[e.GetChannelsShareKey=810]="GetChannelsShareKey",e[e.GetChannelsShareKeyDone=811]="GetChannelsShareKeyDone",e[e.GetChannelsLiveNoticeInfo=812]="GetChannelsLiveNoticeInfo",e[e.GetChannelsLiveNoticeInfoDone=813]="GetChannelsLiveNoticeInfoDone",e[e.GetChannelsLiveInfo=814]="GetChannelsLiveInfo",e[e.GetChannelsLiveInfoDone=815]="GetChannelsLiveInfoDone",e[e.RequestPayment=820]="RequestPayment",e[e.RequestPaymentDone=821]="RequestPaymentDone",e[e.RequestPluginPayment=822]="RequestPluginPayment",e[e.RequestPluginPaymentDone=823]="RequestPluginPaymentDone",e[e.RequestSubscribeMessage=824]="RequestSubscribeMessage",e[e.RequestSubscribeMessageDone=825]="RequestSubscribeMessageDone",e}({}),ck=null,uk=1e3,dk={},pk={};function hk(e){fk(e,1)}function fk(e,t){e in dk||(dk[e]=0),e in pk||(pk[e]=0),dk[e]+=t,pk[e]+=t,vk()}var gk=!1;function vk(){gk||(gk=!0,setTimeout(mk,uk))}function mk(){for(var e of Object.keys(pk)){var t,r,n=pk[Number(e)],i=[null===(t=p.accountInfo)||void 0===t?void 0:t.appId,0,null!==(r=_x.recorderConfigs.uuid)&&void 0!==r?r:"none",p.sdkVersion,e,n,"","",""].join(",");T.reportKeyValue({key:"Wxobs",value:i})}pk={},setTimeout(mk,uk)}var yk=function(e){return e[e.LayoutCost=1]="LayoutCost",e[e.EncryptCost=2]="EncryptCost",e[e.CompressCost=3]="CompressCost",e[e.UploadCosCost=4]="UploadCosCost",e[e.UploadWxCost=5]="UploadWxCost",e[e.TaskCost=6]="TaskCost",e[e.LongTaskCost=7]="LongTaskCost",e[e.WebviewEvent=30]="WebviewEvent",e[e.AppserviceEvent=31]="AppserviceEvent",e[e.Error=32]="Error",e[e.Unsupport=33]="Unsupport",e[e.Task=34]="Task",e[e.LongTask=35]="LongTask",e[e.CosInfoFetch=37]="CosInfoFetch",e[e.CosInfoRefetch=38]="CosInfoRefetch",e[e.UploadCosSucess=39]="UploadCosSucess",e[e.UploadCosFailure=40]="UploadCosFailure",e[e.UploadWxSucess=41]="UploadWxSucess",e[e.UploadWxFailure=42]="UploadWxFailure",e[e.AutoSetup=43]="AutoSetup",e[e.SdkSetup=44]="SdkSetup",e[e.MissSample=45]="MissSample",e[e.CosAppend=46]="CosAppend",e[e.CosPut=47]="CosPut",e[e.CosHead=48]="CosHead",e[e.CommonAssetMiss=49]="CommonAssetMiss",e[e.CommonAssetHit=50]="CommonAssetHit",e[e.UploadWxSize=80]="UploadWxSize",e[e.UploadCosSize=81]="UploadCosSize",e[e.UploadCommonSize=82]="UploadCommonSize",e[e.HitCommonSize=83]="HitCommonSize",e}({}),_k=function(e){return e[e.Setup=1]="Setup",e[e.AppserviceStart=2]="AppserviceStart",e[e.WebviewStart=3]="WebviewStart",e[e.AppserviceCollect=4]="AppserviceCollect",e[e.WebviewCollect=5]="WebviewCollect",e[e.AppserviceEncode=6]="AppserviceEncode",e[e.WebviewEncode=7]="WebviewEncode",e[e.AppserviceReport=8]="AppserviceReport",e[e.WebviewReportCos=9]="WebviewReportCos",e[e.WebviewClean=10]="WebviewClean",e[e.WebviewReportWx=11]="WebviewReportWx",e[e.WebviewReport=12]="WebviewReport",e[e.AppserviceReportCos=13]="AppserviceReportCos",e[e.AppserviceReportWx=14]="AppserviceReportWx",e[e.CommonUploadError=15]="CommonUploadError",e[e.AppserviceTeardown=16]="AppserviceTeardown",e[e.Debug=1e3]="Debug",e}({}),bk=e=>{if(_x.recording)try{var t,r;if(e.type===_k.Debug)return;null===(t=(r=_x.recorderConfigs).errorCallback)||void 0===t||t.call(r,e)}catch(e){console.error(e)}};function wk(e,t,r){var n,i,a=[null===(n=p.accountInfo)||void 0===n?void 0:n.appId,0,null!==(i=_x.recorderConfigs.uuid)&&void 0!==i?i:"none",p.sdkVersion,"","",e,`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${null!=r?r:""}`,""].join(",");bk({type:e,errMsg:`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${null!=r?r:""}`,extra:r}),T.reportKeyValue({key:"Wxobs",value:a})}var Sk=2,Ck=4,Ik=4,Ak=1;function kk(){var e=new Uint8Array(Sk);new DataView(e.buffer).setUint16(0,Ak)}function Ek(e,t){var r=Pk(e),n=new Uint8Array(Ck+r.length+Ik+t.length),i=new DataView(n.buffer);return i.setInt32(0,r.length),n.set(r,Ck),i.setInt32(Ck+r.length,t.length),n.set(t,Ck+r.length+Ik),n}function Tk(e,t){var r=0,n=e?Sk:0,i=[];for(var a of t){var o=Pk(a[0]);i.push([o,a[1]]),n+=o.length+a[1].length+Ck+Ik}var s=new Uint8Array(n),l=new DataView(s.buffer);for(var[c,u]of(e&&(l.setInt16(0,Ak),r+=Sk),i))l.setInt32(r,c.length),r+=Ck,s.set(c,r),r+=c.length,l.setInt32(r,u.length),r+=Ik,s.set(u,r);return s}function Pk(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var xk=g(680),Ok=g.n(xk),Rk={};function Mk(e){var t=JSON.stringify(e);if(Rk[t]){if(Rk[t].expireTs>Date.now())return Rk[t].authorization;delete Rk[t]}var r=Math.round(Date.now()/1e3),n=r+3600,i=`${r};${n}`,a=Ok().HmacSHA1(i,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var l=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),l])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var c=o.map((e=>e[0])).join(";"),u=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),h=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),f=`${e.method.toLowerCase()}\n${e.pathname}\n${u}\n${h}\n`,g=["sha1",i,Ok().SHA1(f).toString(),""].join("\n"),v=Ok().HmacSHA1(g,a).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+i,"q-key-time="+i,"q-header-list="+p,"q-url-param-list="+c,"q-signature="+v].join("&");return Rk[t]={authorization:m,expireTs:1e3*n},m}function Dk(e,{method:t,headers:r,body:n}){return new Promise(((i,a)=>{tw({url:e,method:t,header:r,data:"string"==typeof n?n:null!=n&&n.buffer?n.buffer:n,success:i,fail:a})}))}function Nk(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Lk(){var e,t,r,n,i,a,o=JSON.parse(JSON.stringify(H));return delete o.appLaunchInfo.openId,null==o||(null===(e=o.appContactInfo)||void 0===e||delete e.call_plugin_info),null==o||(null===(t=o.appContactInfo)||void 0===t||delete t.operationInfo),null==o||(null===(r=o.appContactInfo)||void 0===r||delete r.stablePassThroughInfo),null==o||(null===(n=o.appContactInfo)||void 0===n||delete n.passThroughInfo),null==o||(null===(i=o.appLaunchInfo)||void 0===i||delete i.clickTimestamp),null==o||(null===(a=o.appLaunchInfo)||void 0===a||delete a.clickTimestampInMs),null==o||delete o.downloadDomain,null==o||delete o.expt,null==o||delete o.extendedLibList,null==o||delete o.host,null==o||delete o.subPackages,null==o||delete o.subpackages,null==o||delete o.userConfig,null==o||delete o.wxAppInfo,null==o||delete o.embeddedAppIdList,null==o||delete o.pages,o}function Bk(e){return $k.apply(this,arguments)}function $k(){return $k=Hp()((function*(e){var t=yx.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=Mk({secretId:t.secretid,secretKey:t.secretkey,method:"post",pathname:`/${e.key}`,query:{append:"",position:e.position+""},headers:{host:r}}),i=yield Dk(`https://${r}/${e.key}?append&position=${e.position}`,{method:"POST",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(hk(yk.CosAppend),i.statusCode<300){var a={};for(var o of Object.keys(i.header))a[o.toLowerCase()]=i.header[o];return{status:i.statusCode,headers:a}}throw new Error(`appendObject status ${i.statusCode}`)})),$k.apply(this,arguments)}function Fk(e){return jk.apply(this,arguments)}function jk(){return jk=_asyncToGenerator((function*(e){var t=recorderConfigs.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=sign({secretId:t.secretid,secretKey:t.secretkey,method:"put",pathname:`/${e.key}`,query:{},headers:{host:r}});metric.count(MetricType.CosPut);var i=yield fetch(`https://${r}/${e.key}`,{method:"PUT",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(i.statusCode<300){var a={};for(var o of Object.keys(i.header))a[o.toLowerCase()]=i.header[o];return{status:i.statusCode,headers:a}}throw new Error(`putObject status ${i.statusCode}`)})),jk.apply(this,arguments)}function Wk(e){return Uk.apply(this,arguments)}function Uk(){return Uk=Hp()((function*(e){var t=yx.cosInfo,r=`${t.bucket}.cos.${t.region}.myqcloud.com`,n=Mk({secretId:t.secretid,secretKey:t.secretkey,method:"head",pathname:`/${e.key}`,query:{},headers:{host:r}});hk(yk.CosHead);var i=yield Dk(`https://${r}/${e.key}`,{method:"HEAD",headers:{authorization:n,"x-cos-security-token":t.token}});if(404===i.statusCode)return null;if(i.statusCode>=400)throw new Error(`headObject status ${i.statusCode}`);var a={};for(var o of Object.keys(i.header))a[o.toLowerCase()]=i.header[o];return{status:i.statusCode,headers:a}})),Uk.apply(this,arguments)}var Vk={Raw:"0",Compressed:"1.0",CompressedAndAesCbc:"2.0"},qk={showModal:lk.ShowModal,closeModal:lk.CloseModal,showToast:lk.ShowToast,hideToast:lk.HideToast,showActionSheet:lk.ShowActionSheet,closeActionSheet:lk.CloseActionSheet,onShareAppMessage:lk.OnShareAppMessage,doShareAppMessage:lk.DoShareAppMessage,doShareTimeline:lk.DoShareTimeline,onShareTimeline:lk.OnShareTimeline,appLaunch:lk.AppLaunch,autoReLaunch:lk.AutoReLaunch,navigateTo:lk.NavigateTo,redirectTo:lk.RedirectTo,switchTab:lk.SwitchTab,reLaunch:lk.ReLaunch,navigateBack:lk.NavigateBack};function zk(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var Gk=[],Hk=function(e){};function Kk(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(Gk.length>0){var e=Gk.shift();e&&e()}},Hk=function(e){Gk.push(e),r.postMessage(null)}}catch(e){}}Kk();var Qk=Uint8Array,Jk=Uint16Array,Xk=Uint32Array,Yk=new Qk([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zk=new Qk([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eE=new Qk([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tE=function(e,t){for(var r=new Jk(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Xk(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},rE=zk(tE(Yk,2),2),nE=rE[0],iE=rE[1];nE[28]=258,iE[258]=28;var aE=zk(tE(Zk,0),2);aE[0];for(var oE=aE[1],sE=new Jk(32768),lE=0;lE<32768;++lE){var cE=(43690&lE)>>>1|(21845&lE)<<1;cE=(52428&cE)>>>2|(13107&cE)<<2,cE=(61680&cE)>>>4|(3855&cE)<<4,sE[lE]=((65280&cE)>>>8|(255&cE)<<8)>>>1}for(var uE=function(e,t,r){for(var n=e.length,i=0,a=new Jk(t);i<n;++i)e[i]&&++a[e[i]-1];var o,s=new Jk(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new Jk(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[sE[d]>>>l]=c}else for(o=new Jk(n),i=0;i<n;++i)e[i]&&(o[i]=sE[s[e[i]-1]++]>>>15-e[i]);return o},dE=new Qk(288),lE=0;lE<144;++lE)dE[lE]=8;for(var lE=144;lE<256;++lE)dE[lE]=9;for(var lE=256;lE<280;++lE)dE[lE]=7;for(var lE=280;lE<288;++lE)dE[lE]=8;for(var pE=new Qk(32),lE=0;lE<32;++lE)pE[lE]=5;var hE=uE(dE,9,0);uE(dE,9,1);var fE=uE(pE,5,0);uE(pE,5,1);var gE=function(e){return(e+7)/8|0},vE=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?Jk:4==e.BYTES_PER_ELEMENT?Xk:Qk)(r-t);return n.set(e.subarray(t,r)),n},mE=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yE=function(e,t,r){var n=new Error(t||mE[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,yE),!r)throw n;return n},_E=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},bE=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},wE=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[TE,0];if(1==i){var o=new Qk(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Jk(p+1),f=SE(r[u-1],h,0);if(f>t){n=0;var g=0,v=f-t,m=1<<v;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(h[y]>t))break;g+=m-(1<<f-h[y]),h[y]=t}for(g>>>=v;g>0;){var _=a[n].s;h[_]<t?g-=1<<t-h[_]++-1:++n}for(;n>=0&&g;--n){var b=a[n].s;h[b]==t&&(--h[b],++g)}f=t}return[new Qk(h),f]},SE=function(e,t,r){return-1==e.s?Math.max(SE(e.l,t,r+1),SE(e.r,t,r+1)):t[e.s]=r},CE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jk(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},IE=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},AE=function(e,t,r){var n=r.length,i=gE(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},kE=function(e,t,r,n,i,a,o,s,l,c,u){_E(t,u++,r),++i[256];for(var d=zk(wE(i,15),2),p=d[0],h=d[1],f=zk(wE(a,15),2),g=f[0],v=f[1],m=zk(CE(p),2),y=m[0],_=m[1],b=zk(CE(g),2),w=b[0],S=b[1],C=new Jk(19),I=0;I<y.length;++I)C[31&y[I]]++;for(I=0;I<w.length;++I)C[31&w[I]]++;for(var A=zk(wE(C,7),2),k=A[0],E=A[1],T=19;T>4&&!k[eE[T-1]];--T);var P,x,O,R,M=c+5<<3,D=IE(i,dE)+IE(a,pE)+o,N=IE(i,p)+IE(a,g)+o+14+3*T+IE(C,k)+(2*C[16]+3*C[17]+7*C[18]);if(M<=D&&M<=N)return AE(t,u,e.subarray(l,l+c));if(_E(t,u,1+(N<D)),u+=2,N<D){P=uE(p,h,0),x=p,O=uE(g,v,0),R=g;var L=uE(k,E,0);_E(t,u,_-257),_E(t,u+5,S-1),_E(t,u+10,T-4),u+=14;for(I=0;I<T;++I)_E(t,u+3*I,k[eE[I]]);u+=3*T;for(var B=[y,w],$=0;$<2;++$){var F=B[$];for(I=0;I<F.length;++I){var j=31&F[I];_E(t,u,L[j]),u+=k[j],j>15&&(_E(t,u,F[I]>>>5&127),u+=F[I]>>>12)}}}else P=hE,x=dE,O=fE,R=pE;for(I=0;I<s;++I)if(n[I]>255){j=n[I]>>>18&31;bE(t,u,P[j+257]),u+=x[j+257],j>7&&(_E(t,u,n[I]>>>23&31),u+=Yk[j]);var W=31&n[I];bE(t,u,O[W]),u+=R[W],W>3&&(bE(t,u,n[I]>>>5&8191),u+=Zk[W])}else bE(t,u,P[n[I]]),u+=x[n[I]];return bE(t,u,P[256]),u+x[256]},EE=new Xk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),TE=new Qk(0),PE=function(e,t,r,n,i,a){var o=e.length,s=new Qk(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(l[c>>3]=a),c=AE(l,c+1,e.subarray(u,d))}else{for(var p=EE[t-1],h=p>>>13,f=8191&p,g=(1<<r)-1,v=new Jk(32768),m=new Jk(g+1),y=Math.ceil(r/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&g},w=new Xk(25e3),S=new Jk(288),C=new Jk(32),I=0,A=0,k=(u=0,0),E=0,T=0;u<o;++u){var P=b(u),x=32767&u,O=m[P];if(v[x]=O,m[P]=x,E<=u){var R=o-u;if((I>7e3||k>24576)&&R>423){c=kE(e,l,0,w,S,C,A,k,T,u-T,c),k=I=A=0,T=u;for(var M=0;M<286;++M)S[M]=0;for(M=0;M<30;++M)C[M]=0}var D=2,N=0,L=f,B=x-O&32767;if(R>2&&P==b(u-B))for(var $=Math.min(h,R)-1,F=Math.min(32767,u),j=Math.min(258,R);B<=F&&--L&&x!=O;){if(e[u+D]==e[u+D-B]){for(var W=0;W<j&&e[u+W]==e[u+W-B];++W);if(W>D){if(D=W,N=B,W>$)break;var U=Math.min(B,W-2),V=0;for(M=0;M<U;++M){var q=u-B+M+32768&32767,z=q-v[q]+32768&32767;z>V&&(V=z,O=q)}}}B+=(x=O)-(O=v[x])+32768&32767}if(N){w[k++]=268435456|iE[D]<<18|oE[N];var G=31&iE[D],H=31&oE[N];A+=Yk[G]+Zk[H],++S[257+G],++C[H],E=u+D,++I}else w[k++]=e[u],++S[e[u]]}}c=kE(e,l,a,w,S,C,A,k,T,u-T,c),!a&&7&c&&(c=AE(l,c+1,TE))}return vE(s,0,n+gE(c)+i)};!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var xE=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},OE=function(e,t,r,n,i){return PE(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},RE=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ME=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};function DE(e,t){t||(t={});var r=xE();r.p(e);var n=OE(e,t,2,4);return ME(n,t),RE(n,n.length-4,r.d()),n}var NE="undefined"!=typeof TextEncoder&&new TextEncoder,LE="undefined"!=typeof TextDecoder&&new TextDecoder,BE=0;try{LE.decode(TE,{stream:!0}),BE=1}catch(e){}var $E=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,vE(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}};function FE(e,t){if(t){for(var r=new Qk(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(NE)return NE.encode(e);var i=e.length,a=new Qk(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var l=new Qk(o+8+(i-n<<1));l.set(a),a=l}var c=e.charCodeAt(n);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(s(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return vE(a,0,o)}function jE(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(LE)return LE.decode(e);var i=zk($E(e),2),a=i[0];return i[1].length&&yE(8),a}var WE={},UE;function VE(){var e=Be()?1e3:5e3;function t(){return r.apply(this,arguments)}function r(){return(r=Hp()((function*(){yield zE(),UE=setTimeout(t,e)}))).apply(this,arguments)}UE=setTimeout(t,e)}function qE(){clearTimeout(UE)}function zE(e){return GE.apply(this,arguments)}function GE(){return GE=Hp()((function*(e){try{var t=null!=e?e:_x.weSessionId,{recorderConfigs:r,events:n,pending:i}=_x;if(i)return;if(0===n.length)return;var{sdkVersion:a,projectId:o,uuid:s}=r;n.length;var l=[...n];n.splice(0,n.length),_x.pending=!0;var c={record:{uuid:s,event:JSON.stringify(l),path:"",projectKey:o,sdkVersion:a,timestamp:Date.now(),weSessionId:t}},u={type:lk.BatchReport,data:{},timestamp:XE(l)};u.data.eventCounts={ids:[0],counts:[l.length]};var d=JSON.stringify(c);u.data.encodedSize=d.length;var p=!1,h=!1;if(r.compress)try{var f=Date.now();d=DE(FE(d)),u.data.compressCost=Date.now()-f,fk(yk.CompressCost,Date.now()-f),u.data.compressedSize=d.length,p=!0}catch(e){r.compress=!1}if(p&&r.encrypt)try{var g=Date.now(),v={data:Array.from(d),useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(FE(r.encrypt.key)),ivBytes:Array.from(FE(r.encrypt.iv))}};d=new Uint8Array(yield Ym().runTask("aesEncrypt",v)),u.data.encryptCost=Date.now()-g,fk(yk.EncryptCost,Date.now()-g),u.data.encryptedSize=d.length,h=!0}catch(e){}try{var m=Date.now();yield HE(d,{encryped:h,compressed:p}),u.data.uploadCost=Date.now()-m,hk(yk.UploadCosSucess),fk(yk.UploadCosCost,Date.now()-m),fk(yk.UploadCosSize,d.length);try{var y=Date.now();yield QE(d,{encryped:h,compressed:p}),hk(yk.UploadWxSucess),fk(yk.UploadWxCost,Date.now()-y),fk(yk.UploadWxSize,d.length)}catch(e){hk(yk.UploadWxFailure),wk(_k.AppserviceReportWx,e)}}catch(e){hk(yk.UploadCosFailure),u.data.uploadErr=e.message,n.unshift(...l),wk(_k.AppserviceReportCos,e)}finally{yield YE(u,s,a,null!=t?t:"",o)}_x.pending=!1}catch(e){wk(_k.AppserviceReport,e)}})),GE.apply(this,arguments)}function HE(e,t){return KE.apply(this,arguments)}function KE(){return KE=Hp()((function*(e,{encryped:t,compressed:r}){var n,{recorderConfigs:i}=_x,{projectId:a,uuid:o}=i,s=`${a}/${o}-appservice`,l=WE[o];if(!l){var c=yield Wk({key:s});l=c?Number(c.headers["content-length"]||0):0}var u=t?`encrypt:${i.encrypt.version}`:"raw:1";n=Tk(0===l,[[u,e]]),e.length,n.length;try{var d=yield Bk({key:s,headers:{"Content-Type":"application/octet-stream"},body:n,position:l}),p=d.headers["x-cos-next-append-position"];p&&(WE[o]=Number(p))}catch(e){throw WE[o]=void 0,e}})),KE.apply(this,arguments)}function QE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Hp()((function*(e,{encryped:t,compressed:r}){var{recorderConfigs:n}=_x,{sdkVersion:i}=n;return yield Dk(n.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":i||"","x-wx-ob-pack-version":t?Vk.CompressedAndAesCbc:r?Vk.Compressed:Vk.Raw,"x-wx-ob-project-key":n.projectId},body:e})})),JE.apply(this,arguments)}function XE(e){var t=0;for(var r of e)r.timestamp&&r.timestamp>t&&(t=r.timestamp);return t||Date.now()}function YE(e,t,r,n,i){return ZE.apply(this,arguments)}function ZE(){return ZE=Hp()((function*(e,t,r,n,i){yield QE(JSON.stringify({record:{uuid:t,event:JSON.stringify([e]),path:"",projectKey:i,sdkVersion:r,timestamp:Date.now(),weSessionId:n}}),{encryped:!1,compressed:!1})})),ZE.apply(this,arguments)}var eT=Gt("lifeCycle:AppRoute"),tT=eT.internalOnMethod,rT=eT.internalOffMethod,nT=eT.emit.bind(eT),iT=Gt("AppEnterBackground"),aT=iT.internalOnMethod;Yt("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:%2Fpackages%2Fphone-numbers%2Fpages%2FgetUserPhoneNumberForWXLib%2FgetUserPhoneNumberForWXLib")||(iT.emit(e),Or("onAppEnterBackground",e))}));var oT=!1,sT=0;t_((e=>{sT=e.timeStamp,oT=!0})),aT((()=>{sT=0,oT=!1}));var lT=()=>oT,cT=()=>{sT=Date.now(),oT=!0},uT=e=>{cT(),"function"==typeof e.success&&e.success()},dT=()=>oT,pT=()=>sT,hT=null,fT=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],gT=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],vT=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0}),mT=(e,t,r)=>Math.min(Math.max(t,e),r),yT=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:r=1e3,minScale:n=0,side:i})=>{var a=e.width/e.height,o=t.width/t.height,s=e.width/t.width,l=e.height/t.height,c=a>o?l:s;return"width"===i?c=s:"height"===i&&(c=l),c=mT(c,n,r),t.width*=c,t.height*=c,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:c,outer:e,inner:t}},_T=(e=0)=>new Promise((t=>{setTimeout(t,e)})),bT=()=>{},wT=()=>{},ST=(e,t)=>{for(var r="",n=0,i=0;i<e.length;i++){if((n+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)>t){r+="...";break}r+=e[i]}return r},CT=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),IT=Object.assign,AT=e=>(t={})=>new Promise(((r,n)=>{e(IT(t,{success:r,fail:n}))})),kT=e=>Object.keys(e).reduce(((t,r)=>{var n=e[r],i=typeof n;return"object"===i&&null!==n?t[r]=kT(n):"undefined"!==i&&(t[r]=e[r]),t}),{}),ET=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},TT=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var l=function(){s=!1===r.leading?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=Date.now();s||!1!==r.leading||(s=c);var u=t-(c-s);return n=this,i=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,u)),a}},PT=(e,t,r)=>{r&&Yt(e,t)},xT=(e,t)=>{PT(e,t,"undefined"==typeof IS_SDK_PACKAGE)},OT={uuid:32768,increase(){return this.uuid++}},RT=new jt({maxListeners:2e5}),MT="portrait",DT="";H.onReady((()=>{MT=H.deviceOrientation||MT,DT=J_().model||""}));var NT=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class LT{constructor({parentId:e=0,id:t=OT.increase(),style:r={},props:n={},name:i=""}={}){var a=H.platform;this.parentId=e,this.dest=0,this.id=t,this.name=i,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign(vT(),r),Object.assign(r,r[MT]);var o=/iphone x/.test(DT.toLowerCase())?"iphone x":a;Object.assign(r,r[o]),Object.assign(r,r[`${o}-${MT}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==fT.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&fT.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?(wT(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),gT.forEach((e=>{this.computedStyle[e]=0}))):(wT(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),gT.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),fT.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&gT.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},t);i.x+=r,i.y+=n,this.parent.emit(e,i)}else{var a=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,a)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){RT.emit(NT(e,this.id),t)}on(e,t){RT.on(NT(e,this.id),t)}once(e,t){RT.once(NT(e,this.id),t)}off(e,t){RT.off(NT(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=NT(e,this.id);RT.removeAllListeners(t)}))}}var BT=e=>{var{id:t}=JSON.parse(e.data);RT.emit(NT("click",t))};xT("onTextViewClick",BT),xT("onImageViewClick",BT),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();xT(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);RT.emit(NT(t,r),e.touch||e.touches)}else RT.emit(NT(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var $T=["game.weixin.qq.com"],FT=new Map,jT=new WeakMap,WT=e=>e?"insertGameHTMLWebView":"insertHTMLWebView",UT=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",VT=e=>e?"removeGameHTMLWebView":"removeHTMLWebView",qT=(e,t)=>e&&t?Gu(t):qu;function zT(){return new Promise(((e,t)=>{var r=jT.get(this),{style:n,__skipDomainCheck__:i,src:a,zIndex:o,isGameWebview:s,pluginId:l,fullscreen:c,adjustResizeOnKeyboardStateChanged:u}=r,d=WT(s);qT(s,l)(d,{htmlId:this.id,position:n,src:a,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:i,adjustResizeOnKeyboardStateChanged:u,fullscreen:c,success:e,fail:t})}))}class GT extends LT{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:i=!1,fullscreen:a,adjustResizeOnKeyboardStateChanged:o=!0},s){super({style:r}),FT.set(this.id,this);var l={};try{l=pp(e)}catch(e){console.error(e)}jT.set(this,{src:e,zIndex:t,style:r,urlObj:l,isGameWebview:i,__skipDomainCheck__:n,adjustResizeOnKeyboardStateChanged:o,fullscreen:a,pluginId:s}),zT.call(this),this.isInserted=!0}get src(){var e;return null===(e=jT.get(this))||void 0===e?void 0:e.src}set src(e){var t=jT.get(this);if(t){t.src=e;var r=UT(t.isGameWebview);try{var n=pp(e);t.urlObj=n}catch(e){console.error(e)}qT(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=jT.get(this))||void 0===e?void 0:e.style}set style(e){var t=jT.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=UT(t.isGameWebview),i=qT(t.isGameWebview,t.pluginId);this.isInserted&&i(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:jT.set(this,{style:e})}get zIndex(){var e;return null===(e=jT.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=jT.get(this);if(t){t.zIndex=e;var r=UT(t.isGameWebview);qT(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=jT.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var i=UT(t.isGameWebview);qT(t.isGameWebview,t.pluginId)(i,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=jT.get(this);if(e){var t=VT(e.isGameWebview);FT.delete(this.id),jT.delete(this),qT(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function HT(){return[...FT.keys()]}function KT({htmlId:e}){var t=FT.get(e);t&&t.onload&&setTimeout(t.onload)}function QT({htmlId:e,errcodeCode:t,description:r,src:n}){var i=FT.get(e);i&&i.onerror&&setTimeout(i.onerror({errcodeCode:t,description:r,src:n}))}function JT({name:e,arg:t,htmlId:r}){"postMessage"===e?FT.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||FT.forEach(((n,i)=>{var a;if(!r||r===i){var o=FT.get(i),s=null===(a=jT.get(o))||void 0===a?void 0:a.urlObj;if(s&&$T.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];v[l](t)}else"reportKeyValue"===e&&T.reportKeyValue(t)}}))}H.onReady((()=>{Oe()&&(Yt("onWebViewError",QT),Yt("onWebviewFinishLoad",KT),Yt("onWebInvokeAppService",JT),Yt("WEB_INVOKE_APPSERVICE",JT))}));var XT={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},YT={sampleEventList:[]},ZT=new Map;function eP(){var e=YT.sampleEventList.find((e=>e.event===XT.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{iP(XT.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{iP(XT.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}function tP(){var e=YT.sampleEventList.find((e=>e.event===XT.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{getWebViewIdList().forEach((e=>{iP(XT.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{getWebViewIdList().forEach((e=>{iP(XT.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}function rP(){onMethod("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(YT.sampleEventList=t.sample_event_list,YT.sampleEventList.forEach((e=>{ZT.set(e,0)})),eP(),tP())})),onMethod("onStartReportCanvasData",(({event:e})=>{e===XT.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?getWebViewIdList().forEach((t=>{iP(e,t)})):iP(e)}))}function nP(e){return YT.sampleEventList.find((t=>e===t.event))}function iP(e,t){var r=nP(e);if(r){var n=Date.now(),i=ZT.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;qu("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,success(){ZT.set(r,n)},fail({errMsg:e}){}})}}var aP=!1,oP=[];function sP(e){oP.push(e)}function lP(e,t){try{oP.forEach((r=>r(e,t)))}catch(e){}}var cP=(t={},r=!1)=>{var n={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==p.theme&&t.confirmColor?t.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==p.theme&&t.cancelColor?t.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(yc("showModal",n=op(n,t),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var i=!1;if(t.__sdk_inner_allowShowMoreLength__&&(i=!0),!i&&n.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)bc("showModal",t,"confirmText length should not larger than 4 Chinese characters");else if(!i&&n.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)bc("showModal",t,"cancelText length should not larger than 4 Chinese characters");else{var a=e.getCurrentRoutePath(),o=lv();lP("showModal",n),qu("showModal",n,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=ve?!e.confirm:!e.confirm&&Boolean(e.cancel),lP("closeModal",e),cT()},beforeAll(){aP=!0},afterAll(){aP=!1,My({apiName:"showModal",content:n.content,title:n.title,routePath:a,networkType:o})}})}}},uP=(e={})=>{e.__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,cP(e),Oe()&&iP(XT.EVENT_CANVAS_AFTER_MODAL)},dP=1,pP=!1,hP=!1,fP=(t={},r=!1)=>{if(!hP||r){var n={duration:1500,title:"",icon:"success",mask:!1};n=op(n,t),t.image&&(n.image=Ap(Fc.lastRoute,t.image,!1)),["success","loading","none","error"].indexOf(n.icon)<0&&(n.icon="success"),"none"===n.icon&&(n.icon=""),yc("showToast",n,{duration:1,title:"",icon:""})&&(pP=dP++,setTimeout((()=>{pP=!1,r&&(hP=!1)}),n.duration),n.maskAll=!1,lP("showToast",n),qu("showToast",n),"success"!==n.icon&&setTimeout((()=>{My({apiName:"showToast",title:n.title,networkType:lv(),routePath:e.getCurrentRoutePath()})})))}},gP=(e={})=>fP(e),vP=(e={},t=!1)=>{if(!hP||t){if((fe||e.noConflict)&&yP&&(!pP||pP<yP))return pP=!1,hP=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");pP=!1,hP=!1,lP("hideToast",e),qu("hideToast",e)}},mP=(e={})=>vP(e),yP=!1,_P=(t={})=>{if(!hP){var r={title:"",icon:"loading",mask:!1,duration:1e8};(r=op(r,t)).icon="loading",delete r.image,yc("showLoading",r,{duration:1,title:""})&&(yP=dP++,r.maskAll=!1,e.startLoading(),lP("showToast",r),qu("showToast",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},bP=(t={})=>{if(!hP){if((fe||t.noConflict)&&pP&&(!yP||yP<pP))return yP=!1,"function"==typeof t.success&&setTimeout((()=>{t.success({errMsg:"hideLoading:ok"})})),"function"==typeof t.complete&&setTimeout((()=>{t.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");yP=!1,e.endLoading(lv()),lP("hideToast",t),qu("hideToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}},wP=(e={})=>{var t={itemList:[],itemColor:"#000000",itemColorDark:void 0!==p.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};delete(t=op(t,e)).cancelText,delete t.cancelColor,yc("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?bc("showActionSheet",e,"parameter error: itemList should not be large than 6"):(lP("showActionSheet",t),qu("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&cT(),lP("closeActionSheet",e),aP=!0},afterAll:()=>{aP=!1}})))},SP=(e={})=>{qu("showShareActionSheet",e)},CP=()=>aP,IP="wxfile://__wxprivate__/obs",AP=`${IP}/meta.json`,kP=dd(Lf),EP=dd(Df),TP=dd(qf),PP=dd($f);function xP(){return OP.apply(this,arguments)}function OP(){return(OP=Hp()((function*(){try{yield TP({path:IP})}catch(e){try{yield PP({dirPath:IP,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield EP({filePath:AP,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:Nk()};return kP({filePath:AP,data:JSON.stringify(n)}),n.userIdentifier}))).apply(this,arguments)}var RP={},MP={lastShareTicket:null,get:e=>RP[e],set(e,t){var r=Dp();return RP[r]={shareKey:e,shareName:t},r}};const DP=MP;var NP=new jt,LP={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:DP,emitter:NP};const BP=LP;var $P=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var i=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,a=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;Ym().runTask("createWeAppRequestInterpreter",{rules:{req:i,res:a,exclusive:!0},appid:H.accountInfo.appId}).catch((e=>{v.error("createWeAppRequestInterpreter error:",e)}))}},FP=[],jP=e=>{FP.push(e)},WP=()=>FP,UP=()=>FP[FP.length-1],VP=e=>{switch(e){case 1001:case 1003:case 1023:case 1038:case 1041:case 1056:case 1080:case 1083:case 1089:case 1090:case 1103:case 1104:case 1131:case 1019:case 1112:case 1127:case 1134:case 1187:return!0;default:return!1}},qP=()=>{var e=FP.filter((e=>!VP(e)));return e[e.length-1]},zP=()=>{var e=FP.filter((e=>![1038].includes(e)));return e[e.length-1]},GP="default",HP=Gt("apiCategoryChange"),KP=HP.onMethod,QP=HP.offMethod,JP;function XP(){return GP}function YP(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(GP=e)}function ZP(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:Fc.query)||{},e.path=up(t?e.path:Fc.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?Fc.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:Fc.lastShareInfo=void 0),BP.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(BP.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(qu("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=BP.ShareInfoStorage.set(r.shareKey,r.shareName),BP.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function ex(t={},r){0===(t=Object.assign({},t)).scene?t.scene=JP:JP=t.scene;var n=t.scene;1003===n?n=1089:1131===n||1158!==n&&1159!==n&&1160!==n||!bf("getGroupToolbarInfo")&&(n=1008),[1106,1005,1006,1027,1042].indexOf(n)>-1&&(t.referrerInfo.appId=null);var i=t.referrerInfo.appId?{appId:t.referrerInfo.appId,extraData:t.referrerInfo.extraData}:{};(1092===n&&i.extraData&&i.extraData.csSessionId&&i.extraData._reportInfo&&(void 0===e||e.shouldStartReport()&&!e.shouldUpdateReportInfo(i.extraData.csSessionId)||(v.info("ca report startegy:",i.extraData._reportInfo),e.convertReportInfo2Strategys(i.extraData._reportInfo),e.startActionChainReport(),e.setSessionId(i.extraData.csSessionId),e.setEventJoinInterval(i.extraData._reportInfo.eventJoinInterval),e.setAsyncCallbackJoinEventInterval(i.extraData._reportInfo.asyncCallbackJoinEventInterval),e.setReportSetting({reportCache:i.extraData._reportInfo.reportCache,reportInterval:i.extraData._reportInfo.reportInterval}),e.protectActionReporter(),$P(i.extraData._reportInfo))),t.referrerInfo.privateExtraData&&t.referrerInfo.privateExtraData.__pluginAppId)&&(t.referrerInfo.appId&&(i.pluginAppId=t.referrerInfo.privateExtraData.__pluginAppId),delete t.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(t.referrerInfo.privateExtraData).length&&delete t.referrerInfo.privateExtraData);var a={path:t.path,query:t.query,scene:n,shareTicket:t.shareTicket,referrerInfo:i};t.chatroomUsername&&1156===n&&(a.chatroomUsername=t.chatroomUsername),t.chatType&&(a.chatType=t.chatType);var o,s,l=t.nativeExtraData||{};(t.hostExtraData&&(a.hostExtraData=t.hostExtraData),l.location&&(a.locationInfo=l.location),Be()||Fe())&&(t.nativeExtraData&&(a.nativeExtraData=t.nativeExtraData),null!==(o=t)&&void 0!==o&&null!==(s=o.referrerInfo)&&void 0!==s&&s.privateExtraData&&(a.privateExtraData=t.referrerInfo.privateExtraData),a.sessionId=t.sessionid||t.sessionId,a.isLaunch=t.isLaunch,t.isLaunch&&(a.prerender=!!H.prerender),a.clickTimestamp=t.clickTimestamp,a.preloadType=r);return Be()&&(t.isLaunch?a.userConfig=H.userConfig:a.userConfig=t.userConfig),t.mode&&(a.mode=t.mode),t.apiCategory&&(a.apiCategory=t.apiCategory),1173===n&&(l.mimeType?a.forwardMaterials=[{type:l.mimeType,path:l.materialPath,name:l.materialName,size:l.materialSize}]:Array.isArray(l.materials)&&(a.forwardMaterials=l.materials)),1226===n&&l.iot&&(a.iot=l.iot),t.isTransparentBackgroundSupport&&(a.isTransparentBackgroundSupport=t.isTransparentBackgroundSupport),a.referrerInfo&&"wxb6d22f922f37b35a"===a.referrerInfo.appId&&(a.referrerInfo={}),a}function tx(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes(zP()))return"default";switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),YP(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=H.isTransparentBackgroundSupport)}function rx(e,t=""){if(Pp(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),Fe()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}function nx(e){try{sr.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}}Rt("sheetModeWindowStateChangedEvent",((e={})=>{"fullPage"===e.state&&"default"!==GP&&(GP="default",HP.emit({apiCategory:GP}))})),Br("getApiCategory",(({callbackId:e},t)=>{Or("apiCategoryGot",{res:XP(),callbackId:e},[t])}));var ix={},ax,ox;function sx(e){ix=e}function lx(){var e=Bh(this)||"";return rx(ix,e)}function cx(){if(!ax)throw new Error("getLaunchOptionsSync:fail get launch options");var e=Bh(this)||"";return rx(ax||{},e)}function ux(){if(!ox)throw new Error("getLaunchOptionsSync:fail get launch options");return ox||{}}Br("getEnterAppInfo",(({callbackId:e},t)=>{Or("appEnterInfoGot",{res:Jp(),callbackId:e},[t])})),Br("getLaunchAppInfo",(({callbackId:e},t)=>{Or("appLaunchInfoGot",{res:{sceneHistory:BP.sceneHistory,appId:BP.appId},callbackId:e},[t])})),H.onReady((()=>{if(!Oe()){var e=H.appLaunchInfo||{};Object.assign(e,H.debugLaunchInfo||{}),jP(e.scene),tx(e,!0),BP.appLaunchInfo=e,BP.appLaunchShareInfo=e.shareInfo,Qp(e),v.info("[LaunchOptions] set launchOptions by config ready"),ox=ZP(e,!0),ax=ex(ox,H.preloadType),ox.__public=rx(ax,""),v.info("[EnterOptions] set enterOptions by config ready"),sx(ax)}}));var dx=0,px=()=>{dx++,fx(),mx(dx),vx(dx)},hx=()=>{};function fx(){return gx.apply(this,arguments)}function gx(){return(gx=Hp()((function*(){bx({type:lk.InitState,data:{launchOptions:cx(),config:Lk(),identifier:yield xP()},timestamp:Date.now()}),Be()&&zE()}))).apply(this,arguments)}function vx(e){var[t,r]=[0,Date.now()];tT((t=>{if(_x.recording&&e===dx){var r,n=Ix(),i=qk[t.openType];if(i)bx({type:i,timestamp:Date.now(),data:{path:t.path,webviewId:t.webviewId,query:t.query,pageConfig:null===(r=H.page)||void 0===r?void 0:r[t.path],shouldCapture:n}})}})),Yt("onKeyboardHeightChange",(t=>{_x.recording&&e===dx&&bx({type:lk.KeyBoardHeightChange,timestamp:Date.now(),data:{payload:t}})})),VA((n=>{if(_x.recording&&e===dx){t+=Date.now()-r;var i={type:lk.AppShow,timestamp:Date.now(),data:{...n,inactiveTime:t}};delete i.data.shareTicket,setTimeout((()=>{bx(i)}),0)}})),ik((()=>{_x.recording&&e===dx&&(r=Date.now(),bx({type:lk.AppHide,data:{},timestamp:Date.now()}),zE())}))}function mx(e){sP(function(){var t=Hp()((function*(t,r){if(_x.recording&&e===dx){var n=qk[t];n&&bx({timestamp:Date.now(),type:n,data:{payload:r}})}}));return function(e,r){return t.apply(this,arguments)}}())}var yx={recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob"},_x={events:[],pending:!1,recorderConfigs:yx,recording:!1,weSessionId:null},bx=e=>{_x.recording&&(_x.events.push(e),hk(yk.AppserviceEvent))},wx=e=>{try{if(_x.recording)return;if("string"!=typeof e.projectId||""===e.projectId)return;Object.assign(yx,e),Cx(),px(),VE()}catch(e){wk(_k.AppserviceStart,e)}},Sx=function(){var e=Hp()((function*(){try{if(!_x.recording)return;yx.recordingWebviewIds,oh("teardownUserBehavior",void 0,yx.recordingWebviewIds,(()=>f.log("[wxobs appservice] webview teardown success"))),Object.assign(yx,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",projectId:"",encrypt:void 0,shouldCapturePage:()=>!0,reporter:void 0}),_x.recording=!1,_x.events=[],_x.recorderConfigs=yx,_x.pending=!1,_x.weSessionId=null,qE(),hx()}catch(e){throw wk(_k.AppserviceTeardown,e),e}}));return function(){return e.apply(this,arguments)}}(),Cx=()=>{yx.sdkVersion=EI().version||"",_x.recording=!0;var e=Ix();bx({timestamp:Date.now(),type:lk.Start,data:{webviews:Fc.getWebviewIds(),shouldCapture:e}})};function Ix(){var e=Fc.currentWebviewId;return!!(_x.recording&&yx.recordingWebviewIds.indexOf(e)<0&&_x.recorderConfigs.shouldCapturePage(Fc.lastRoute,Fc.query))&&(yx.recordingWebviewIds.push(e),void 0===yx.reporter&&(yx.reporter=e),oh("recordUserBehavior",yx,[e],(()=>f.info("[wxobs appservice] trigger recordUserBehavior"))),!0)}function Ax(e){return kx.apply(this,arguments)}function kx(){return kx=Hp()((function*(e){_x.recording&&bx({type:lk.CustomAttr,timestamp:Date.now(),data:e})})),kx.apply(this,arguments)}function Ex(e){yx.cosInfo=e,oh("resetCosInfo",e,yx.recordingWebviewIds,(()=>{}))}var Tx=18e5;function Px(e){var t=Date.now();zA((r=>{_x.recording&&Date.now()-t>Tx&&1089!==r.scene&&e()})),ik((()=>{t=Date.now()}))}function xx(e,t){return NA("wxobs",{beforeExecute(){Ox(e)},success(){Mx(t,0)},fail(){Mx(t,1)}})}function Ox(e){return Rx.apply(this,arguments)}function Rx(){return(Rx=Hp()((function*(e){_x.recording&&bx({timestamp:Date.now(),type:e,data:{}})}))).apply(this,arguments)}function Mx(e,t){return Dx.apply(this,arguments)}function Dx(){return(Dx=Hp()((function*(e,t){_x.recording&&bx({timestamp:Date.now(),type:e,data:{state:t}})}))).apply(this,arguments)}var Nx=null,Lx=[],Bx=new Map;Br("onInputComponentData",(e=>{var t,r=null!==(t=e.inputId)&&void 0!==t?t:e.viewId;r&&(Nx=e,Bx.set(r,e),Lx.forEach((e=>{$x(e,e.webviewId)})),Lx=[])}));var $x=(e,t=0)=>{if(Nx){var r=Nx.data;if(r&&"function"==typeof Fc.webviewEventCallback){var n=JSON.parse(r);if(n.bindkeyboardheightchange)try{Fc.webviewEventCallback({data:{type:"keyboardheightchange",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{duration:e.duration||0,height:e.height||0}},eventName:n.bindkeyboardheightchange,webviewId:t||Fc.currentWebviewId,nodeId:n.nodeId})}catch(e){throw new np("bind key input error")}}}};function Fx(e,t,r=!1){var n=e.value,i=e.cursor,a=JSON.parse(e.data);if(a.modelValueName&&ir.setModelValueData(n,a.modelValueName,t,a.nodeId),"function"==typeof Fc.webviewEventCallback&&a.bindinput){var o;try{var s=r?{}:{value:n,cursor:i,keyCode:e.keyCode};o=Fc.webviewEventCallback({data:{type:"input",target:a.target,currentTarget:a.target,timeStamp:Date.now(),touches:[],detail:s},eventName:a.bindinput,webviewId:t,nodeId:a.nodeId})}catch(e){throw new np("bind key input error")}if(a.setKeyboardValue)if(null==o||!1===o);else{if("Object"===Ue(o)){var l={inputId:e.inputId};return n!==o.value&&(l.value=o.value+""),Number.isNaN(parseInt(o.cursor,10))||(l.cursor=parseInt(o.cursor,10),void 0===l.value&&(l.value=n),l.cursor>l.value.length&&(l.cursor=-1)),l}if(n!==o)return{value:o+"",cursor:-1,inputId:e.inputId}}}}Br("removeInputComponent",(e=>{var t,r=null!==(t=e.inputId)&&void 0!==t?t:e.viewId;r&&Bx.delete(r),!Nx||Nx.inputId!==e.inputId&&Nx.viewId!==e.viewId||(Nx=null)})),Yt("onKeyboardHeightChange",((e,t=0)=>{Nx?$x(e,t):Lx.push({inputId:e.inputId,viewId:e.viewId,height:e.height,duration:e.duration,webviewId:t})})),Yt("onKeyboardValueChange",((e,t=0)=>{var r=e.value,n=e.cursor;if(Or("setKeyboardValue",{value:r,cursor:n,inputId:e.inputId},[t]),e.data){var i,a=Bx.get(null!==(i=e.inputId)&&void 0!==i?i:e.viewId);if(null!=a&&a.ignoreInput)return;var o=Fx(e,t,null==a?void 0:a.ignoreValue);o&&qu("setKeyboardValue",o)}})),Br("onKeyboardValueChange",((e,t=0)=>{var r=Fx(e,t);r&&Or(`setKeyboardValue_${e.viewId}`,r,[t])}));var jx=(e,t=!0)=>Ap(Fc.lastRoute,e,t),Wx=function(e,t){return Md(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))},Ux=Wx("getCloudFileUrl","qbase_commapi");function Vx(e,t){for(var r=[],n=Math.ceil(e.length/t),i=0;i<n;i++)r.push(e.slice(i*t,(i+1)*t));return r}var qx=function(e,t,r){Gx({fileIds:e,type:t,success:r})},zx=new Map,Gx=function(e){var{fileIds:t,type:r,success:n}=e,i=new Map,a=[],o=!1;if(t.forEach((e=>{var t=zx.get(e);if(t){if(Date.now()<t.expireTime)return void(i.has(e)||(i.set(e,t.data),o||(o=!0)));zx.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0!==a.length){var s=0,l=Vx(t,50);Promise.all(l.map((e=>new Promise((t=>{Ux({data:{fileid_list:e,type:r},requestInQueue:!1,success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{i.set(e.fileid,e),!zx.has(e.fileid)&&e.max_age&&zx.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{i.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),zx.has(e)&&zx.delete(e)})):e.forEach((e=>{i.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),zx.has(e)&&zx.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var a=n.baseresponse.stat.qbase_cost_time;a>s&&(s=a)}t()},fail(){t()},complete(e){}})}))))).then((()=>{Hx(t,i,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?Hx(t,i,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function Hx(e,t,r,n){var i=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?i.push({url:r.download_url}):i.push({url:e,code:r.service_errcode,msg:r.errmsg}):i.push({url:e,code:-1,msg:"NO_RESULT"})}else i.push({url:e})})),"function"==typeof n&&n({data:i,cost:r})}var Kx=e=>{qu("bindPaymentCard",e)},Qx=e=>{qu("loadPaySpeechDialectConfig",e)},Jx=(e={})=>{ge||ve?qu("phoneBindCardVerifySms",e):bc("phoneBindCardVerifySms",e,"not yet supported")},Xx=e=>{qu("requestMallPayment",e)},Yx=e=>{qu("requestVerifyUserIdentity",e)},Zx=e=>{qu("getWCPayOverseaPrepayRequest",e)},eO=e=>{qu("openOfflinePayView",e)},tO=(e={})=>{qu("requestEntrustAuthorization",e)},rO,nO;H.onReady((()=>{Fc.scene=rO=H.appLaunchInfo.scene,Fc.sceneNote=H.appLaunchInfo.scene_note}));var iO=Gt("AppEnterForeground"),aO=iO.internalOnMethod;function oO(e){if(!Oe()){Qp(e=ZP(e,!1));var t=ex(e);e.__public=rx(t,""),v.info("[EnterOptions] set enterOptions by onAppEnterForeground"),sx(t),iI.set("api_call_from_hot_boot_time",Date.now(),!0),iO.emit(e),Fc.scene=e.scene,Fc.sceneNote=e.scene_note}}Yt("onAppEnterForeground",((e={})=>{if(e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess){var t=JSON.stringify(e.referrerInfo.extraData);if(nO!==t)return void(nO=t);nO=t,e.scene=rO,delete e.referrerInfo}else rO=e.scene;var r=e.debugLaunchInfo||{};Object.assign(e,r),delete e.debugLaunchInfo;var n=1===e.reLaunch||!0===e.reLaunch;if(v.info(`[onAppEnterForeground] isReLaunch=${n}`),jP(e.scene),tx(e,!1),n){var i=t=>{v.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${H.prerender}`),"appLaunch"!==t.openType||!0!==H.prerender?(v.info("[onAppEnterForeground] emit enterForeground"),oO(e)):BP.emitter.once("onAppRoute",i)};BP.emitter.once("onAppRoute",i)}else oO(e);Or("onAppEnterForeground",e)}));var sO=[],lO=[],cO=["expires","domain","path","busid","indate","receivetime","spread","extra"],uO=502,dO=503,pO={scene:-1,sceneNote:"",sessionId:""};function hO(e){var t=H.accountInfo&&H.accountInfo.appId||"noAppId";oh("getCookiesFromGlobalStorage",{appId:t},void 0,e)}function fO(e,t){var r=H.accountInfo&&H.accountInfo.appId||"noAppId";e&&e.trim()&&oh("setCookiesToGlobalStorage",{cookies:e,appId:r},void 0,t)}function gO(e){return fe||bf(e)}function vO(e){hO((t=>{t&&_O(t,!1,sO),e&&e()}))}function mO(){var e=Date.now(),t=[];sO.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var i=[];for(var a in r)cO.indexOf(a)>=0&&i.push(`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`);i.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(i.join("; "))}}));var r=t.join(";; ");r.length>=4096||fO(r,(()=>{}))}function yO(e,t){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e.busid===i.busid&&e.key===i.key)return!0}return!1}function _O(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,a=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);cO.indexOf(t)>=0&&!lp(i,n)?i[n]=decodeURIComponent(r):(a=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){a||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var o=i.expires||i.__wxprivate_calc_expires__;o&&!(1e3*o>n)||yO(i,r)||r.push(i),H.accountInfo&&H.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=H.accountInfo.appId)}}))}}zA(((e={})=>{pO.scene=e.scene,pO.sceneNote=e.scene_note,pO.sessionId=e.sessionid})),ik(((e={})=>{if(3===e.targetAction)for(var t=sO.length-1;t>=0;t--){var r=sO[t].extra;r&&"del_on_exit"===r&&sO.splice(t,1)}}));var bO=()=>{tT((()=>{var e=H.appLaunchInfo||{},t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;"string"==typeof i&&_O(i,1037!==t,sO),vO(mO)})),aO(((e={})=>{var t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;(1037===t||i&&"string"==typeof i||1===e.reLaunch||!0===e.reLaunch)&&(sO=[],lO=[]),"string"==typeof i&&_O(i,1037!==t,sO),vO(mO)}))};function wO(e){var t=[];for(var r in e)cO.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}function SO(e){var t=[];return e.forEach((e=>{t.push(wO(e))})),t.join(";; ")}var CO=e=>{var t=Date.now(),r=[];sO.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(wO(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},IO=e=>{var t=Date.now(),r=[];sO.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=H&&H.accountInfo&&H.accountInfo.appId||"",i=pO.scene||"",a=pO.sceneNote||"",o=pO.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:o,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:a,busid:"wxapp"});var{hostAppId:s,pluginAppId:l}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==l){var c=r.find((e=>"appid"===e.key));c&&(c.value=s),r.push({key:"plugin_appid",value:l,busid:"wxapp"})}var u=H.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var d=r.map(wO).join(";; ");return e&&e.success&&e.success({cookies:d}),d},AO=()=>{var e=Date.now(),t=[];return lO.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;(!n||1e3*n>e)&&t.push(wO(r))})),t.join(";; ")},kO=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?lO:sO,a=[],o={},s={},l=H.accountInfo&&H.accountInfo.appId||"";if(r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)o[e.key]={key:e.key,busid:e.busid};else{var i={key:e.key,value:e.value};cO.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&l&&(i.spread="*"===r?"":r+":",i.spread+=l),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(i[t]=r)})),s[e.key]=i,a.push(i)}}})),i.forEach((e=>{var r=o[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=s[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var i=e.expires||e.__wxprivate_calc_expires__;i&&1e3*i<t||a.push(e)}}})),SO(a).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?lO=a:(sO=a,mO())}},EO=e=>{var t=Date.now(),r=e.keys||[],n=e.busid,i=e.isTemporary;if(r instanceof Array){var a=[];return(i?lO:sO).forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&r.indexOf(e.key)>=0&&(!n||n&&n===e.busid)){var o={[e.key]:e.value};Object.keys(e).forEach((t=>{cO.indexOf(t)>=0&&(o[t]=e[t]),"indate"!==t&&"expires"!==t||(o[t]=+o[t])})),a.push(o)}})),a}},TO=e=>{var t="setCookies:ok";if(gO("setCookies")){var r=kO(e);r?(t=r,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},PO=e=>{var t="getCookies:ok";if(gO("getCookies")){var r=EO(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:r})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})};function xO(e){var t=H.accountInfo&&H.accountInfo.appId||"noAppId";oh("getRiskWarningFromGlobalStorage",{appId:t},void 0,e)}function OO(e,t){var r=H.accountInfo&&H.accountInfo.appId||"noAppId";e&&oh("setRiskWarningToGlobalStorage",{riskWarning:e,appId:r},void 0,t)}function RO(e){var t=H.accountInfo&&H.accountInfo.appId||"noAppId";oh("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function MO(e,t){var r=H.accountInfo&&H.accountInfo.appId||"noAppId";e&&oh("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:r},void 0,t)}var DO=[],NO=null;function LO(){var e=DO;DO=[],NO=null;for(var t=0,r=e.length;t<r;t++){var n=e[t];n&&(n=E.surroundThirdByTryCatch(n,"at api nextTick callback function")),n&&n()}}var BO=e=>{e&&"function"==typeof e&&(DO.push(e),NO||(NO=setTimeout(LO,0)))},$O=new Ah("InnerPage",!1),FO={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&BO((()=>{$O.emit(`${e.pageType}-unload`,e)}))},ready(){var e=this.options;null!=e&&e.pageType&&BO((()=>{$O.emit(`${e.pageType}-load`,e)}))}},pageLifetimes:{hide(){}}};or((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};ir.Component(FO,"//",t,`${e}.js`)}));var jO=(e,t)=>{$O.on(`${e}-load`,t)},WO=(e,t)=>{$O.off(`${e}-load`,t)},UO=(e,t)=>{$O.on(`${e}-unload`,t)},VO=(e,t)=>{$O.off(`${e}-unload`,t)},qO=200,zO=[],GO=[],HO=~~(Date.now()/1e3),KO=0;function QO(e,t,r,n){qu("operateRealtimeData",{type:t,content:r,priority:"string"==typeof n?n:n?"high":"low",id:e},{beforeSuccess(){},beforeFail(e){GO.forEach((t=>t(e)))}})}function JO(){var e=zO.shift();"function"==typeof e&&(e(),KO=+new Date),zO.length&&setTimeout(JO,qO)}h.onLoad((()=>{HO=~~(Date.now()/1e3)}));var XO=(e,t,r)=>{if(1005===e||!fe){var n=+new Date,i=HO++;return n-KO>=qO&&!zO.length?(QO(i,e,t,r),KO=n):(zO.push((()=>{QO(i,e,t,r)})),setTimeout(JO,qO)),i}},YO=e=>{fe||"function"==typeof e&&GO.push(kt(e))};Rt("onRealtimeDataResponse",(e=>{GO.forEach((t=>t(e)))}));var ZO=Gt("UpdateWXConfig"),eR=ZO.onMethod,tR=ZO.offMethod;Rt("onUpdateWXConfig",(e=>{v.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{H[t]=e[t]})),ZO.emit(e)}));var rR=function(){return{miniProgram:{appId:H.accountInfo&&H.accountInfo.appId||"",envVersion:H.envVersion||"release",version:H.appContactInfo&&H.appContactInfo.user_version||""}}},nR,iR,aR=!1,oR={},sR=JSON.parse;function lR(){if("string"==typeof H.opConfig){var e;try{e=sR(H.opConfig)}catch(e){}return e&&e.expt_info}return H.opConfig&&H.opConfig.expt_info}function cR(){var e,t=lR();return t&&aR?(e=1,nR=t,T.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,nR=t,T.reportIDKey({key:"useLaunchExptInfo"}),T.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,T.reportIDKey({key:"useContactExptInfo"})),{exptInfo:nR,jsDataType:e}}function uR(){if(void 0===sr)return"";var e=sr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function dR(e,t,r){T.reportKeyValue({key:"ExptHit",value:[cu(),uu(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}function pR(t,r,n,i,a){var o=["","","getExptInfo",void 0!==e?e.getCurrentRoutePath():"",null,JSON.stringify({groupId:t,exptId:r,paramName:n,paramValue:i,jsDataType:a})].map(encodeURIComponent).join(",");T.reportKeyValue({key:"SdkInnerApiInvoke",value:o})}Yt("onAppEnterForeground",(e=>{Object.assign(oR,e),iR=oR.sessionid||oR.sessionId})),eR((e=>{lR(e)&&(aR=!0)})),H.onReady((()=>{Object.assign(oR,H.appLaunchInfo);var e=lR();e?nR=e:H.appContactInfo&&H.appContactInfo.passThroughInfo&&(nR=H.appContactInfo.passThroughInfo.expt_info)}));var hR=Md("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function fR(e){var t={},{exptInfo:r,jsDataType:n}=cR();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&dR(r.expt_group_id,r,n),void 0!==r.expt_id&&pR(r.expt_group_id,r.expt_id,r.param_name,r.param_value,n))}))),t}function gR(e,t,r="immediate"){var n=2,{accountInfo:i,envVersion:a}=H||{},o=i?i.appId:"";"release"===a?n=1:"trial"===a&&(n=3);var s=Y_(!0),l=oR.sessionid||oR.sessionId,c=oR.usedstate||oR.usedState;XO(1005,JSON.stringify({appid:o,app_state:n,appversion:rR().miniProgram.version,enter_scene:oR.scene,scene_note:oR.scene_note||oR.sceneNote,prescene:oR.prescene,prescene_note:oR.prescene_note||oR.presceneNote,sessionid:l,add_state:c,page_path:uR()||oR.path,page_query:JSON.stringify(oR.query||{}),referpagepath:oR.referpagepath,isentrance:iR||iR===l?0:1,event_time:Date.now(),sdk_version:u_,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:lv(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:H.screenWidth,screen_height:H.screenHeight,open_source:H.host&&H.host.appId?2:1,host_appid:H.host?H.host.appId:""}),r)}function vR(e,t={}){setTimeout((()=>gR(e,t))),T.reportIDKey({key:"reportEventInvoke"})}function mR(e,t={}){setTimeout((()=>gR(e,t,"high"))),T.reportIDKey({key:"reportEventInvoke"})}var yR="payCompletedPage",_R={},bR=[],wR=()=>{var e=It();return bR.push(e),e},SR=(e,t)=>{var r=n=>{n.payCompletedPageArgs.endsWith(".html")&&(n.payCompletedPageArgs=decodeURIComponent(n.payCompletedPageArgs.replace(/\.html$/,""))),JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&E.surroundThirdByTryCatch(t,"at on payCompletedPage.onLoad callback function")(),offInnerPageLoad(yR,r))};onInnerPageLoad(yR,r)},CR=(e,t)=>{var r=n=>{n.payCompletedPageArgs.endsWith(".html")&&(n.payCompletedPageArgs=decodeURIComponent(n.payCompletedPageArgs.replace(/\.html$/,""))),JSON.parse(n.payCompletedPageArgs).payCompletedPageId===e&&("function"==typeof t&&E.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),VO(yR,r))};UO(yR,r)},IR={};jO(yR,(e=>{if(e.payCompletedPageArgs){var t=Date.now();e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var r=JSON.parse(e.payCompletedPageArgs),n=r.payCompletedPageId,i=r.payCompletedDataObj?"goldPlan":"normal";IR[n]={startTime:t},_R[n]&&(_R[n].timeD=t),DR("exposePaymentCompletedPage","",n,i)}})),UO(yR,(e=>{if(e.payCompletedPageArgs){e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var t=JSON.parse(e.payCompletedPageArgs),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal";if(IR[r]){var i=IR[r].startTime,a=Date.now()-i;DR("stayDuration",a,r,n),delete IR[r]}DR("exitPage","",r,n)}}));var AR=new Map,kR=new Map,ER=(e,t)=>{AR.get(e)?(t(AR.get(e)),AR.delete(e)):kR.set(e,t)},TR=(e,t={})=>{var r,n;DR("fetchPaymentCompletedPageInfo","",e,"");var i={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};Pd({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:i,fail(){DR("fetchPaymentCompletedPageInfoFail","",e,"")},success(){DR("fetchPaymentCompletedPageInfoSuccess","",e,"")},complete(t){v.info("webapi_getpaycallbackappconf 回调",t),kR.get(e)?(kR.get(e)(t),kR.delete(e)):AR.set(e,t)}})},PR=e=>{var{method:t,payCompletedPageId:r,success:n,fail:i,args:a}=e;switch(t){case"getPaymentCompletedPageInfo":ER(r,(e=>{e.errMsg.indexOf(":fail")>=0?i(e):n(e)}));break;case"couponAdExposure":DR("couponAdExposure",JSON.stringify(a),r,a.payType);break;case"bottomAdExposure":var o=Date.now(),s=_R[r];if(s){var{timeA:l,timeB:c,timeC:u,timeD:d}=s;a.cost1=c-l,a.cost2=u-c,a.cost3=d-u,a.cost4=o-d,DR("bottomAdExposure",JSON.stringify(a),r,a.payType)}break;case"amountExposure":DR("amountExposure","",r,a.payType);break;case"checkPayCompletedPageId":n({valid:bR.includes(r)});break;case"customTicketExposure":var p=Date.now(),h=_R[r];if(h){var{timeA:f,timeB:g,timeC:v,timeD:m}=h,y={};y.cost1=g-f,y.cost2=v-g,y.cost3=m-v,y.cost4=p-m,DR("customTicketExposure",JSON.stringify(y),r,"goldPlan")}}},xR,OR=e=>{xR=e},RR=e=>"function"==typeof xR&&xR(e),MR=(e={})=>{var t=e.payCompletedDataObj?"goldPlan":"normal";DR("beforeOpenPaymentCompletedPage","",e.payCompletedPageId,t);var r=Date.now();return _R[e.payCompletedPageId]={timeA:e.timeA,timeB:e.timeB,timeC:r},new Promise((t=>{var r=`wxpage://inner-page?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`;nh.routeRequest({blockUntilFinished:!0,name:"navigateTo",args:{url:r},requestFunc(){Fc.openingInnerPage=!0,qu("navigateTo",{url:r,success(e){v.info("openPayCompletedPage success",e),t()},fail(e){nh.unblock(),v.info("openPayCompletedPage fail",e),t()}})}})}))},DR=(e,t,r,n)=>{var i=(null==sr?void 0:sr.getCurrentRoute())||"",a=cu()+" "+uu();T.reportKeyValue({key:"PayCompletedPage",value:[0,i,e,encodeURIComponent(t),r,n,a].join(",")})},NR=()=>{var e=bf("openPaymentCompletedPage"),t=bf("openPaymentCompletedPageFull");if(v.info("支付回调页 mainControl=",e),console.info("支付回调页 mainControl=",e),v.info("支付回调页 hasFull=",t),console.info("支付回调页 hasFull=",t),e){if(t)return!0;var r="wx_wxapp_expt_payad",n=fR([r]);return void 0===n[r]?(v.info("支付回调页 exptDefaultTrue"),console.info("支付回调页 exptDefaultTrue"),!0):"1"===n[r]?(v.info("支付回调页 expt=",!0),console.info("支付回调页 expt=",!0),!0):(v.info("支付回调页 expt=",!1),console.info("支付回调页 expt=",!1),!1)}return!1},LR=()=>bf("paymentCompletedPageCoupon");H.onReady((()=>{OR((({withCoupon:e,mchExtId:t})=>ADSDK.loadPayAd({hasWxPayCustomCard:!!e,mchExtId:t})))}));var BR=!1,$R=500,FR=!1,jR=500,WR={UNCHECK:0,CHECK_FAIL:1,CHECK_TIMEOUT:2,SUCCESS:3,REJECT:4},UR=()=>{var e,t,r;return{shouldCheck:null!==(e=BR)&&void 0!==e&&e,timeout:null!==(t=$R)&&void 0!==t?t:jR,deprecated:null!==(r=FR)&&void 0!==r&&r}},VR=function(){var e=Hp()((function*(e){try{var t=IO(),{data:r}=yield eM({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});if(void 0!==r.openproduct_checkticket&&(BR=!!r.openproduct_checkticket),void 0!==r.openproduct_checktickettimeout&&($R=parseInt(r.openproduct_checktickettimeout,10)),void 0!==r.openproduct_checkticket_deprecated&&(FR=!!r.openproduct_checkticket_deprecated),void 0!==r.openleague_cookie){var n=[];_O(r.openleague_cookie||"",!1,n);var i=kO({cookies:n});i&&v.error("[set openleague_cookie]",i)}if(void 0!==r.share_cookie){var a=[];_O(r.share_cookie||"",!1,a);var o=kO({cookies:a,isTemporary:!0});o&&v.error("[set share_cookie]",o)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();H.onReady((()=>{setTimeout((()=>VR(H.appLaunchInfo||{})),1e3)})),aO((e=>{(e.reLaunch||e.isLaunch)&&setTimeout((()=>VR(e)),500)}));var qR=(()=>{var e,t,r,n;return aO((i=>{e=+i.scene||0,t=i.scene_note||i.sceneNote||"",r=+i.prescene||0,n=i.prescene_note||i.presceneNote||""})),H.onReady((()=>{(()=>{var i=H.appLaunchInfo||{};e=i.scene||0,t=i.scene_note||i.sceneNote||"",r=i.prescene||0,n=i.prescene_note||i.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})(),zR=0,GR={},HR={},KR=Pc("requestPayment",function(){var e=Hp()((function*(e){var t=bt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},e);var{deprecated:r,shouldCheck:n}=UR(),i=n||!1,a=NR()&&(ve||ge),o=LR();v.info("是否开了支付回调页功能",a),v.info("是否配了商家优惠券",o);var s=wR();if(a&&TR(s,e.payCompletedPageOptions),i){if(r)throw new Error("wx.requestPayment is disabed");var l=WR.UNCHECK,c=e.ticket||"";try{var u=UR().timeout||jR;try{var{is_authorized:d}=yield Promise.race([tM({ticket:c,prepay_id:e.package.replace("prepay_id=",""),...qR(),cookie:IO(),sdk_version:H.SDKVersion||""}),rM("timeout",u)]);l=d?WR.SUCCESS:WR.REJECT}catch(e){v.error("[paymentCheckTicket] fail",e),l=e&&"timeout"===e.message?WR.CHECK_TIMEOUT:WR.CHECK_FAIL}if(l===WR.REJECT)throw new Error("wx.requestPyament is disabled in the current context")}finally{nM({ticket:c,checkTicketStatus:l})}}var p,h=sM.NONE;try{var f=yield oM(e,{payCompletedPageId:s,withCoupon:o,hasOpenPaymentCompletedPagePermission:a});return h=sM.SUCCESS,f}catch(e){throw h=sM.FAILED,p=e.message,e}finally{i&&lM({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:h,requestPaymentErrmsg:p})}}));return function(t){return e.apply(this,arguments)}}()),QR=Pc("requestPayment",function(){var e=Hp()((function*(e){var t=bt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return e=Object.assign({},e),yield oM(e)}));return function(t){return e.apply(this,arguments)}}()),JR=e=>{var t=Object.keys(Fc.query).map((e=>`${e}=${Fc.query[e]}`)).join("&"),r=[`${Fc.lastRoute}?${t}`,e].join(",");T.reportKeyValue({key:"RequestPaymentRiskConfirm",value:r})},XR={NONE:0,CONFIRM:1,CANCEL:2},YR=function(){var e=Hp()((function*(){var{time:e,isRiskWarning:t,wording:r}=yield new Promise((e=>{RO((t=>{var r,n,i,a,o=!1,s="";((null==H||null===(r=H.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.warning_info)||void 0===a?void 0:a.jsapi_alter)||[]).forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(o=!0,s=e.wording)})),e({time:t,isRiskWarning:o,wording:s})}))})),n=(+new Date-(e||0))/1e3/60;if(t&&!(n<30)){var i=XR.NONE;try{yield new Promise(((e,t)=>{cP({content:r,confirmText:"继续支付",cancelText:"取消",success(r){r.confirm?(i=XR.CONFIRM,e()):(i=XR.CANCEL,t(new Error("cancel")))}})})),MO(+new Date)}finally{JR(i)}}}));return function(){return e.apply(this,arguments)}}(),ZR=Tc(qu.bind(null,"requestPayment")),eM=Tc(Pd),tM=function(){var e=Hp()((function*(e={}){var{data:t}=yield eM({apiName:"webapi_openproductcheckticket",reqData:{...e}});return t}));return function(){return e.apply(this,arguments)}}(),rM=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),nM=({ticket:e,checkTicketStatus:t})=>{var r=H.appLaunchInfo||{},n=qR(),i=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");T.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},iM=!1,aM=()=>iM,oM=function(){var e=Hp()((function*(e,{payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n}={}){var i,a,o,s;yield YR();var l=IO();e.passCookies&&"string"==typeof e.passCookies?e.cookie=l?e.passCookies+";; "+l:e.passCookies:l?e.cookie=l:delete e.cookie,delete e.passCookies,e.cookie;var c=jr(),u=null===(i=H.appContactInfo)||void 0===i||null===(a=i.operationInfo)||void 0===a||null===(o=a.jsonInfo)||void 0===o||null===(s=o.op_info)||void 0===s?void 0:s.jump_homepage_after_pay,d=()=>iM=!0,p={afterSuccess:d};fe&&(p.afterAll=d),zR++,GR[zR]={payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n};var h=yield ZR({adUxInfo:c,...e,grantMessageQuota:!0,requestId:zR},p),f=Date.now();v.info("支付客户端返回的 res",h);var g=h.payCompletedData;if(delete h.payCompletedData,u){DR("paySuccess","jumpHomePageAfterSuccess",t,g?"goldPlan":"normal");var m=H.entryPagePath;m&&("/"!==m[0]&&(m="/"+m),m=m.replace(".html",""),AC({url:m}),vh(100))}else if(n||g){if(g){var{timeA:y}=HR[t]||{};delete HR[t],DR("paySuccess","goldPlanBusinessPay",t,"goldPlan"),T.reportFrameworkIDKey(19);try{var _=JSON.parse(zS(g));v.info("payCompletedDataObj ==",_);var{mch_conf:b}=_,{callback_type:w}=b;if(DR("payCompletedData",w,t,"goldPlan"),2===w);else if(3===w){var S=yield JS(),C=null==S?void 0:S.data,I=null==C?void 0:C.opinfo_async;T.reportFrameworkIDKey(20),h.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){CR(t,e)}},yield MR({payCompletedPageId:t,withCoupon:r,payCompletedDataObj:_,timeA:y,timeB:f,banCustom:1===(null==I?void 0:I.ban_payment_diy_receipt)})}}catch(e){DR("payCompletedDataDecodeFail",e.message,t,"goldPlan"),v.error("payCompletedData base64 decode fail",e.message)}}else if(n){DR("paySuccess","nomalBusinessPay",t,"normal");var{checkHaveAdPromise:A,timeA:k}=HR[t]||{};if(delete HR[t],ht(A)){var E=yield Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),1e3)})),A]);console.log("是否有广告配置",E),v.info("是否有广告配置",E),DR("checkHaveAdSuccess",!0===E,t,"normal"),!0===E&&(h.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){CR(t,e)}},yield MR({payCompletedPageId:t,withCoupon:r,timeA:k,timeB:f}))}else v.info("checkHaveAdPromise is not promise",A,t),DR("checkHaveAdSuccess",!1,t,"normal")}}else DR("paySuccess","noCallbackPagePay",t,g?"goldPlan":"normal");return Pd({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),oh("reportPaymentFormId",{packageStr:e.package}),cT(),h}));return function(t){return e.apply(this,arguments)}}(),sM={NONE:0,SUCCESS:1,FAILED:2},lM=function(){var e=Hp()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:i,payInfo:a,outOrderId:o}){var s=Y_(!0),l=H.appLaunchInfo||{},{data:c}=yield xd({apiName:"webapi_openproductreportorder",reqData:{ext_info:{ext_useruin:e,ext_appid:H.host&&H.host.appId,session_id:l.sessionid||l.sessionId||"",...qR(),add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion},prepay_id:i,pay_info:a,order_info:{out_order_id:o}}});return c}));return function(t){return e.apply(this,arguments)}}();Rt("onPayResultBeforeUserInteractionEnd",(e=>{if(!Oe()){var t=Date.now(),{payCompletedPageId:r,withCoupon:n,hasOpenPaymentCompletedPagePermission:i}=GR[e.requestId];delete GR[e.requestId];var a,o={withCoupon:n};if(e.payCompletedData){var s=JSON.parse(zS(e.payCompletedData));s.mch_conf&&s.mch_conf.mch_ext_id&&(o.mchExtId=s.mch_conf.mch_ext_id)}a=e.payCompletedData?"goldPlanBusinessPay":i?"nomalBusinessPay":"noCallbackPagePay",DR("onPayResultBeforeUserInteractionEnd",a,r,e.payCompletedData?"goldPlan":"normal");var l=RR(o);HR[r]={checkHaveAdPromise:l,timeA:t}}}));var cM=!1,uM=e=>Pc("openBusinessView",function(){var t=Hp()((function*(t){if(cM)throw new Error("another navigation is in progress");cM=!0;try{_c(t,{businessType:""});var r=Object.assign({},t);return e&&(delete r.sourcetype,delete r.preScene,delete r.preSceneNote,delete r.agentId,delete r.privateExtraData,delete r.scene,delete r.sceneNote),yield zu("openBusinessView",r)}finally{cM=!1}}));return function(e){return t.apply(this,arguments)}}()),dM=uM(!0),pM=uM(!1),hM=({name:e,scene:t,strategy:r,timeDiffToLastTap:n=0})=>{var i;void 0!==sr&&(i=sr.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===Fc.currentWebviewId))||{});var a=[e,t,T.getAppType(),i?i.route:"",r||0,n].map(encodeURIComponent).join(",");T.reportKeyValue({key:"RecycledAPI",value:a})},fM=Gt("navigateBackIntercept"),gM={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},vM=[gM.SlideBack,gM.BottomBackButton,gM.NavigationBarBack,gM.NavigateBackCall],mM=[],yM=0,_M;Rt("onNavigateBackIntercept",((e={})=>{var{id:t}=_M||{};fM.emit({...e,id:t}),Or("onNavigateBackIntercept",{...e,id:t})}));var bM=Object.create(null);tT((e=>{var t=e.webviewId;bM[t]||(NC(t,(()=>{if(delete bM[t],mM.length)for(var e,r=0;r<mM.length;)(e=mM[r]).options.webviewId&&e.options.webviewId===t?mM.splice(r,1):r+=1}),"setNavigateBackInterception"),bM[t]=!0),mM.length&&wM()}));var wM=function(){var e=Hp()((function*(){var e;_M=void 0;for(var t=mM.length-1;t>=0;--t)if(void 0===(e=mM[t]).options.webviewId||e.options.webviewId===Fc.currentWebviewId){_M=e;break}var r=_M?_M.options.scopes:[],n=new Set(r||[]);return zu("setNavigateBackInterception",{scopes:vM.map((e=>({type:e,interception:n.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),SM=function(){var e=Hp()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:vM};var r=++yM;return mM.push({id:r,options:e}),yield wM(),{id:r}}));return function(){return e.apply(this,arguments)}}(),CM=Pc("setNavigateBackInterceptionById",SM),IM=function(){var e=Hp()((function*({id:e}={}){var t=mM.findIndex((t=>t.id===e));t<0||(mM.splice(t,1),yield wM())}));return function(){return e.apply(this,arguments)}}(),AM=Pc("stopNavigateBackInterceptionById",IM),kM=fM.internalOnMethod,EM=fM.internalOffMethod,TM=function(){var e=Hp()((function*(e,t=vM){var{id:r}=yield SM({scopes:t}),n=t=>{t.id===r&&e(t)};return kM(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),PM=function(){var e=Hp()((function*(e){var{id:t,handler:r}=(yield e)||{};yield IM({id:t}),EM(r)}));return function(t){return e.apply(this,arguments)}}();function xM(e){var t,r,n=pp(e),i=null==H||null===(t=H.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(i&&n&&n.host&&i.includes(n.host)||Be())}var OM=t=>(r={})=>{if(!0!==Fc.openUrlLock){var n=r.url,i=Object.assign({},r,{url:n});if(i.url=i.url||"",!_p(i.url)){console.error("invalid url",i.url);var a={errMsg:`${t}: invalid url "${i.url}"`};return"function"==typeof i.fail&&i.fail(a),void("function"==typeof i.complete&&i.complete(a))}"openUrl"!==t||xM(n)?("openUrl"===t&&void 0!==e&&e.traceEvent("onH5Open",!1,{id:n},n,null,null),Fc.openUrlLock=!0,qu(t,i,{afterAll(){Fc.openUrlLock=!1}})):Sc({name:t,args:i,errMsg:n+" is not in allowed domains",success:!1})}},RM=OM("openUrl"),MM=OM("private_openUrl"),DM={constant:{modalCancel:"取消"}},NM=["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"];DM.attemptSkipMaxThreshold=5,DM.currentAttemptSkipCount=0,DM.currentUserFirstUseThisGame=!1,DM.currentUserUseThisGameTime=0,DM.currentUserUseThisGameTimer=null,DM.isPause=null,DM.limitStrategy=null;var LM=e=>1===e?3303:3304,BM={count:0,uuid:null,navigateCount:0,bannedCount:0},$M=()=>{BM.uuid||(BM.uuid=It())},FM=(e,t,r)=>{$M(),BM.count,BM.uuid,BM.bannedCount,BM.navigateCount,parseInt(Date.now()/100,10),T.reportKeyValue({key:"WeAppNavBan",value:[H.appType+1e3,H.appLaunchInfo.scene,33,LM(e),0,1,"","",lv(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:BM.uuid,bannedCount:BM.bannedCount,navigateCount:BM.navigateCount,count:BM.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})},jM=(e,t,r)=>{T.reportKeyValue({key:"WeAppNavBan",value:[H.appType+1e3,H.appLaunchInfo.scene,33,LM(e),1,2,"","",lv(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})},WM=(e,t,r)=>{T.reportKeyValue({key:"WeAppNavBan",value:[H.appType+1e3,H.appLaunchInfo.scene,33,LM(e),2,2,"","",lv(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})};Object.defineProperties(DM,{allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,FM(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,FM(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1},...NM.reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{DM[t]=e},configurable:!1},e)),{}),modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{jM(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1},reportModalCancel:{get(){return()=>{WM(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1}}),DM.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},DM.pauseLimitTimer=function(){this.isPause=!0},DM.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var UM=(e={})=>{qu("openWeAppSearch",e)},VM=(e={})=>{qu("openWeAppHistoryList",e)},qM=(e={})=>{qu("openWeAppStarList",e)},zM=(e={})=>{qu("openWeAppAuthManageList",e)},GM=(e={})=>{if(bf("batchGetContactDirectly"))qu("batchGetContact",e,{beforeAll(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},HM=(e={})=>{if(ve||ge){var{type:t}=e,r="app";0,r=t||r,Promise.all([new Promise(((e,t)=>{qu("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),v.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{qu("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{v.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}},KM=(e={})=>{if(bf("preloadMiniProgramEnvDirectly"))qu("preloadMiniProgramEnv",e,{beforeAll(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},QM=(e={})=>{if(bf("predownloadMiniProgramPackageDirectly"))qu("predownloadMiniProgramPackage",e,{beforeAll(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},JM=Tc(Pd),XM=function(){var e=Hp()((function*(e={},t={},r={}){v.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,Be()||(delete n.scene,delete n.sceneNote);var i=CO();i?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=i):n.privateExtraData&&delete n.privateExtraData.cookies;var a=Object.assign({},n,t);return"string"==typeof a.path&&a.path.trim().length>0?a.path=dp(a.path).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",v.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(a)}`),a.needTransferToWeChat&&Pe()?(yield zu("sdk_navigateToMiniProgram",a,r),{}):zu("navigateToMiniProgram",a,r)}));return function(){return e.apply(this,arguments)}}(),YM=Pc("doNavigateToMiniProgram",XM),ZM=(e,t,r,n,i)=>{var a=[e,t,H.appType+1e3,r+1e3,n,pu(i)].join(",");T.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},eD=()=>(tD||(tD=new Promise((e=>{l.initScl((t=>e(t.mainRoot)))}))),tD),tD,rD=function(){var e=Hp()((function*(e){var t,r=yield eD();switch(iD){case nD.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:nD.HALF_SCREEN_DIALOG});break;case nD.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:nD.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case nD.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:nD.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:iD})}var n=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&t.handleCancel()})),i=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return PM(n),i}));return function(t){return e.apply(this,arguments)}}(),nD={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},iD=nD.DEFAULT,aD=()=>iD!==nD.DEFAULT&&void 0!==l&&(fe||ve||ge),oD=function(){var e=Hp()((function*(e,t,r,n,i,a,o){var s,l=aD()&&i,c=l?iD:nD.DEFAULT,u=Jp(),d=XP()||H.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(d)){if(7!==n)throw gP({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${d} apiCategory.`);ZM(4,r,n,c,o)}if(1!==t){var p=u.scene,h=null===(s=u.referrerInfo)||void 0===s?void 0:s.appId;if(1037!==p||h!==r){var f;try{var g;if(l)f=yield rD({...i,oldWording:e,expensiveWording:a});else try{f=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});tT(t),g=()=>rT(t)})),zu("showModal",{title:e,content:"",confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{g()}}catch(e){throw ZM(3,r,n,c,o),e}var{confirm:v}=f;if(!v)throw ZM(2,r,n,c,o),new Error("cancel");DM.shouldExecuteSkipMaxLimitStrategy&&DM.setCurrentAttemptSkipCount(0),ZM(1,r,n,c,o)}else ZM(5,r,n,c,o)}else ZM(4,r,n,c,o)}));return function(t,r,n,i,a,o,s){return e.apply(this,arguments)}}(),sD=function(){var e=Hp()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var i;v.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var a=new Promise((e=>{i=e}));e&&!r&&i(e);var o=a.then((e=>cD({appId:e}))),s=0,l=1;try{var c=yield JM({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?l:s,target_appid:e,target_short_link:r,target_path:t}});v.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(c.data)}`);var u=c.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),f=u.target_short_link_info,g=u.allow_embedded_mode;return f&&(e=f.wxa_appid,t=(f.wxa_path||"").replace(/\.html(\?|$)/,"$1"),i(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:f,allowEmbeddedMode:g,expensiveInfo:o}}catch(e){throw v.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),lD={score_sub_desc:1,used_friend_cnt_sub_desc:2},cD=function(){var e=Hp()((function*(e){var t=[];switch(iD){case nD.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(lD.used_friend_cnt_sub_desc);break;case nD.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(lD.score_sub_desc)}if(!t.length)return{};v.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield JM({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),uD=(dD=[],H.onReady((()=>{Array.isArray(H.navigateToMiniProgramAppIdList)&&(dD=H.navigateToMiniProgramAppIdList,bf("openWxappLimit5")&&dD.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=cd("navigateToMiniProgramConfig");!1===i||fe?t?r():dD.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i?r({sourcetype:4}):n({errMsg:"unknown available"})}))),dD,pD=!1,hD=function(){var e=Hp()((function*({appId:e,path:t,shortLink:r,extraData:n},i){if(v.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${pD}`),pD)throw new Error("another navigation is in progress");pD=!0;try{iD!==nD.DEFAULT&&eD();try{i||(i=yield Promise.race([sD({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){return v.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),{appId:e,path:t}}var{actionCode:a,skipLocalCheck:o,reason:s,wording:l,appType:c,newWording:u,popupInfo:d,needTransferToWeChat:p,expensiveInfo:h}=i;if(e=i.appId,t=i.path,v.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${a}, skipLocalCheck=${o}, reason=${s}, wording=${l}, appType=${c}, needTransferToWeChat=${p}`),1!==a&&2!==a)throw d?(T.reportKeyValue({key:"WeAppNavBan",value:[H.appType+1e3,H.appLaunchInfo.scene,33,3302,0,1,s,"跳转跳出",lv()].join(",")}),qu("showModal",{showCancel:!0,content:d.desc,confirmText:d.confirm_wording,cancelText:d.cancel_wording,success({confirm:e}){var t=d.confirm_url;e&&MM({url:t}),T.reportKeyValue({key:"WeAppNavBan",value:[H.appType+1e3,H.appLaunchInfo.scene,33,3302,e?1:2,2,s,"跳转跳出",lv()].join(",")})}})):l&&qu("showModal",{content:l,showCancel:!1}),new Error(s);try{var f=yield uD(e,o);return HM({appId:e,path:t}),yield oD(l,a,e,c,u,h,n),{...f,appId:e,path:t,needTransferToWeChat:p}}catch(e){var g=e.errMsg||e.message;throw new Error(g)}}finally{pD=!1}}));return function(t,r){return e.apply(this,arguments)}}(),fD=Pc("checkBeforeNavigateToMiniProgram",hD),gD=function(){var e=Hp()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&_c(e,{appId:""}),e.shortLink&&yc(e,{shortLink:""}),v.info(`[_navigateToMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink}`);try{var t=yield hD({appId:e.appId,path:e.path,shortLink:e.shortLink,extraData:e.extraData});return v.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(t)}`),yield XM(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype,needTransferToWeChat:t.needTransferToWeChat})}catch(e){var r=e.errMsg||e.message;throw v.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${r}`),["cancel","another navigation is in progress"].includes(r)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(r)}}));return function(){return e.apply(this,arguments)}}(),vD=Pc("navigateToMiniProgramWithoutTapCheck",gD),mD=function(){var e=Hp()((function*(e){var t=H.accountInfo.appId;if(!De()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return gD(e);if(!dT())throw new Error("can only be invoked by user TAP gesture.");var r=pT();return hM({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),gD(e)}));return function(t){return e.apply(this,arguments)}}(),yD=Pc("navigateToMiniProgram",mD),_D=function(){var e=Hp()((function*(e){if(!bf("navigateToMiniProgramDirectly"))throw new Error("no permission");return XM(e,e)}));return function(t){return e.apply(this,arguments)}}(),bD=Pc("navigateToMiniProgramDirectly",_D);function wD(e){return parseInt(e)===e}function SD(e){if(!wD(e.length))return!1;for(var t=0;t<e.length;t++)if(!wD(e[t])||e[t]<0||e[t]>255)return!1;return!0}function CD(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!SD(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(wD(e.length)&&SD(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function ID(e){return new Uint8Array(e)}function AD(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var kD={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return CD(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},ED=(TD="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(TD[(240&n)>>4]+TD[15&n])}return t.join("")}}),TD,PD={16:10,24:12,32:14},xD=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],OD=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],RD=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],MD=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],DD=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],ND=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],LD=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],BD=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],$D=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],FD=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],jD=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],WD=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],UD=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],VD=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],qD=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function zD(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var GD=function(e){if(!(this instanceof GD))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:CD(e,!0)}),this._prepare()};GD.prototype._prepare=function(){var e=PD[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,a=zD(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=a[t],this._Kd[e-r][t%4]=a[t];for(var o,s=0,l=i;l<n;){if(o=a[i-1],a[0]^=OD[o>>16&255]<<24^OD[o>>8&255]<<16^OD[255&o]<<8^OD[o>>24&255]^xD[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];o=a[i/2-1],a[i/2]^=OD[255&o]^OD[o>>8&255]<<8^OD[o>>16&255]<<16^OD[o>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&l<n;)c=l>>2,u=l%4,this._Ke[c][u]=a[t],this._Kd[e-c][u]=a[t++],l++}for(var c=1;c<e;c++)for(var u=0;u<4;u++)o=this._Kd[c][u],this._Kd[c][u]=WD[o>>24&255]^UD[o>>16&255]^VD[o>>8&255]^qD[255&o]},GD.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=zD(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=MD[n[i]>>24&255]^DD[n[(i+1)%4]>>16&255]^ND[n[(i+2)%4]>>8&255]^LD[255&n[(i+3)%4]]^this._Ke[a][i];n=r.slice()}var o,s=ID(16);for(i=0;i<4;i++)o=this._Ke[t][i],s[4*i]=255&(OD[n[i]>>24&255]^o>>24),s[4*i+1]=255&(OD[n[(i+1)%4]>>16&255]^o>>16),s[4*i+2]=255&(OD[n[(i+2)%4]>>8&255]^o>>8),s[4*i+3]=255&(OD[255&n[(i+3)%4]]^o);return s},GD.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=zD(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var a=1;a<t;a++){for(i=0;i<4;i++)r[i]=BD[n[i]>>24&255]^$D[n[(i+3)%4]>>16&255]^FD[n[(i+2)%4]>>8&255]^jD[255&n[(i+1)%4]]^this._Kd[a][i];n=r.slice()}var o,s=ID(16);for(i=0;i<4;i++)o=this._Kd[t][i],s[4*i]=255&(RD[n[i]>>24&255]^o>>24),s[4*i+1]=255&(RD[n[(i+3)%4]>>16&255]^o>>16),s[4*i+2]=255&(RD[n[(i+2)%4]>>8&255]^o>>8),s[4*i+3]=255&(RD[255&n[(i+1)%4]]^o);return s};var HD=function(e){if(!(this instanceof HD))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new GD(e)};HD.prototype.encrypt=function(e){if((e=CD(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=ID(e.length),r=ID(16),n=0;n<e.length;n+=16)AD(e,r,0,n,n+16),AD(r=this._aes.encrypt(r),t,n);return t},HD.prototype.decrypt=function(e){if((e=CD(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=ID(e.length),r=ID(16),n=0;n<e.length;n+=16)AD(e,r,0,n,n+16),AD(r=this._aes.decrypt(r),t,n);return t};var KD=function(e,t){if(!(this instanceof KD))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=ID(16);this._lastCipherblock=CD(t,!0),this._aes=new GD(e)};KD.prototype.encrypt=function(e){if((e=CD(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=ID(e.length),r=ID(16),n=0;n<e.length;n+=16){AD(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),AD(this._lastCipherblock,t,n)}return t},KD.prototype.decrypt=function(e){if((e=CD(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=ID(e.length),r=ID(16),n=0;n<e.length;n+=16){AD(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];AD(e,this._lastCipherblock,0,n,n+16)}return t};var QD=function(e,t,r){if(!(this instanceof QD))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=ID(16);r||(r=1),this.segmentSize=r,this._shiftRegister=CD(t,!0),this._aes=new GD(e)};QD.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=CD(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];AD(this._shiftRegister,this._shiftRegister,0,this.segmentSize),AD(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},QD.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=CD(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var i=0;i<this.segmentSize;i++)r[n+i]^=t[i];AD(this._shiftRegister,this._shiftRegister,0,this.segmentSize),AD(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var JD=function(e,t){if(!(this instanceof JD))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=ID(16);this._lastPrecipher=CD(t,!0),this._lastPrecipherIndex=16,this._aes=new GD(e)};JD.prototype.encrypt=function(e){for(var t=CD(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},JD.prototype.decrypt=JD.prototype.encrypt;var XD=function(e){if(!(this instanceof XD))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=ID(16),this.setValue(e)):this.setBytes(e)};XD.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},XD.prototype.setBytes=function(e){if(16!=(e=CD(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},XD.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var YD=function(e,t){if(!(this instanceof YD))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof XD||(t=new XD(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new GD(e)};function ZD(e){var t=16-(e=CD(e,!0)).length%16,r=ID(e.length+t);AD(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r}function eN(e){if((e=CD(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=ID(r);return AD(e,i,0,0,r),i}YD.prototype.encrypt=function(e){for(var t=CD(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},YD.prototype.decrypt=YD.prototype.encrypt;var tN={AES:GD,Counter:XD,ModeOfOperation:{ecb:HD,cbc:KD,cfb:QD,ofb:JD,ctr:YD},utils:{hex:ED,utf8:kD},padding:{pkcs7:{pad:ZD,strip:eN}},_arrayTest:{coerceArray:CD,createArray:ID,copyArray:AD}};const rN=tN;var nN,iN={request:tw,showLoading:_P,hideLoading:bP,requestPayment:QR,getSystemInfoSync:h_,getNetworkType:nv,onNetworkStatusChange:iv,aesjs:rN,openBusinessView:e=>(e&&nN&&nN.openBusinessView&&(e.extraData=e.extraData||{},e.extraData=Object.assign({},e.extraData,nN.openBusinessView)),dM(e)),navigateToMiniProgram:yD,OpenMidasConfig:{webDomain:"",sandboxWebDomain:"",cgiDomain:{release:"",test:"",dev:""},apiCommonConf:{version:"tke_saas"}}},aN;function oN(e){return nN=e||nN,aN||(aN=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t,r){var n=e.exports;n.fn={safeJsonStringify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";try{t=JSON.stringify(e)}catch(e){}return t},safeJsonParse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return JSON.parse(e)}catch(e){}return{}},getParams:function(e){if(!e)return{};var t=e.replace(/.+?\?/,"").replace(/#.*/,"").split("&"),r={};for(var n in t){var i=t[n].split("=");2===i.length&&(r[i[0]]=i[1])}return r},getParam:function(e,t){var r=t||window.location.href;if(e&&r){var n=new RegExp("(\\?|#|&|^)"+e+"=([^&^#]*)(#|&|$)"),i=r.match(n);return i?i[2]:""}return""},delParam:function(e,t){return e instanceof Array||(e=[e]),n.fn.each(e,(function(e){t=(t=t.replace(new RegExp("(?:&"+e+"=[^&]*)","g"),"")).replace(new RegExp("(?:\\?"+e+"=[^&]*&?)","g"),"?")})),t},addParam:function(e,t){var r=[];n.fn.each(e,(function(e,t){r.push(t)})),t=n.fn.delParam(r,t);var i=n.req.serializeParam(e);return t+(/(\?|&)$/.test(t)?""+i:/\?/.test(t)?"&"+i:"?"+i)},each:function(e,t){var r,i=0,a=e.length;if(void 0===a&&n.lang.isObject(e)){for(var o in e)if(!1===t.call(e[o],e[o],o,e))break}else for(r=e[0];i<a&&!1!==t.call(r,r,i,e);r=e[++i]);return e},extend:function(e){for(var t=1;t<=arguments.length;t++)for(var r in arguments[t])e[r]=arguments[t][r];return e},formatFloat:function(e,t,r,n){return n=~~n?~~n:t+1,intNumber=Math.round(e*Math.pow(10,n)),Math[r](intNumber/Math.pow(10,n-t))/Math.pow(10,t)},uuid:function(e,t){var r,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(t=t||i.length,e)for(r=0;r<e;r++)a[r]=i[0|Math.random()*t];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",r=0;r<36;r++)a[r]||(n=0|16*Math.random(),a[r]=i[19==r?3&n|8:n]);return a.join("")},emptyFun:function(){}},n.lang={is:function(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e},isNumber:function(e){return this.is("Number",e)},isString:function(e){return this.is("String",e)},isFunction:function(e){return this.is("Function",e)},isObject:function(e){return this.is("Object",e)},isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},isWindow:function(e){return null!=e&&e==e.window},isPlainObject:function(e){return n.lang.isObject(e)&&!n.lang.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},isArray:function(e){return this.is("Array",e)}},n.req={serializeParam:function(e){if(!e)return"";var t=[];for(var r in e)void 0===e[r]&&null==e[r]||t.push(r+"="+e[r]);return t.join("&")}},n.string={escHTML:function(e,t){var r=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","\\r","<br>","\\n","<br>"];t&&r.reverse();for(var n=0,i=e;n<r.length;n+=2)i=i.replace(new RegExp(r[n],"g"),r[1+n]);return i},tmpl:function(e,t){return"string"==typeof e?e.replace(/\$([a-zA-Z0-9_\.]*)\$/g,(function(e,r){if(-1!==r.indexOf(".")){r=r.split(/\./g);var i=t;return n.fn.each(r,(function(e){i=i[e]})),i||""}return void 0!==t[r]?t[r]:""})):e}},n.tmpl=n.string.tmpl,n.getVersion=function(){var e="midaswxapp_openmidas.web.wechatapp_";if(n.lang.isObject(iN.OpenMidasConfig)){var t=iN.OpenMidasConfig.apiCommonConf;t.version&&(e+=t.version)}else e+="openmidas";return e},n.compareWechatVersion=function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var i=parseInt(e[n]),a=parseInt(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},n.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e._super=t},n.scene=function(){var e={isWxPlugin:!1,isComponent:!1};try{e.isWxPlugin=WECHATAPP_PLUGIN}catch(e){}try{e.isComponent=STANDALONE_COMPONENT}catch(e){}return e}()},function(e,t,r){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.params=e.params||{},this.opt=e,this.report=e.report||a.fn.emptyFun,this.callback=t,this.buy(this.params)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=(Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}})),r(0)),o=r(5),s=r(2),l=r(6),c=function(e,t){return"wx."+t+"接口不存在"};a.fn.extend(n.prototype,{buy:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=a.fn.extend({},{wx_direct_pay:0,wx_publice_pay:1,pay_method:"wechat:2",biz_appid:"1"},t),a.lang.isFunction(this.opt.onBuy)&&this.opt.onBuy(t,(function(t){return e.handlerBuy(t)}))},getChannelName:function(){return"wechat"},constructWxPaymentArgs:function(e){return{timeStamp:e.time,nonceStr:e.nonce,package:e.package,signType:e.sign_type,paySign:e.sign}},getWxPaymentMethod:function(){return"requestPayment"},handlerBuy:function(e){var t=this,r=e,u=this.getWxPaymentMethod();if(!~~e.ret){var d=e.channel_info,p=!1;this.report(l.LAUNCH_WECHAT_START,{resultinfo:{payMethodName:u}});var h=this.constructWxPaymentArgs(d);if(n.returnWxInfo)return this.report(l.TRIGGER_WECHAT_INFO,{resultinfo:h}),this.opt.getApp().eventEmitter.emit("wx_payment_info",h||{}),this.callback({resultCode:s.PAYRESULT_SUCC},r),!0;if("function"!=typeof iN[u])return this.callback({resultCode:s.PAYRESULT_ERROR,innerCode:"",resultMsg:c(0,u)},r),!0;var f=(new Date).getTime();return iN[u](i({},h,{complete:function(e){e.errMsg=e.errMsg||"";var n=a.fn.safeJsonStringify(e);t.report(l.LAUNCH_WECHAT_COMPLETE,{resultinfo:{payMethodName:u,msg:e.errMsg,wxCbRes:n,times:(new Date).getTime()-f}});var i=e.errMsg.indexOf("cancel")>-1,c=s.PAYRESULT_SUCC,d="支付成功",h="";if(p)t.report(l.LAUNCH_WECHAT_SUCC);else if(i)c=s.PAYRESULT_CANCEL,h="",d="支付取消",t.report(l.LAUNCH_WECHAT_CANCEL,{resultcode:c,resultinfo:{msg:e.errMsg,wxCbRes:n}});else{c=s.PAYRESULT_ERROR;var g=o.thirdPartySdk(-1,e.errMsg);h=g.ret,d=g.msg,t.report(l.LAUNCH_WECHAT_FAIL,{resultcode:-1,resultinfo:{msg:d,wxCbRes:n}})}t.callback({resultCode:c,innerCode:h,resultMsg:d},r)},success:function(e){p=!0},fail:function(e){p=!1}})),!0}}}),n.returnWxInfo=!1,e.exports=n},function(e,t,r){var n=r(0),i=r(4);e.exports=n.fn.extend({},i,{SIGN_LAUNCH_MINIPROGRAME_FAIL:i.SIGN_RESULT_BASE-4,NO_CGI_MODE:-6,PAYSCORE_LAUNCH_ERROR:i.PAYSCORE_RESULTCODE_BASE-1})},function(e,t,r){var n,i,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(i=n=function(){function e(t,r,n,i,a){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resultCode=t,this.innerCode=r||"",this.resultMsg=n||"",this.appMetadata=i||"",this.payMethod=a||""}return a(e,[{key:"setExtra",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.extraData=e}},{key:"toResult",value:function(){var t=this;return e.Field.filter((function(e){return t.hasOwnProperty(e)})).map((function(e){return t[e]}))}},{key:"toResultObj",value:function(){var t=this,r={};return e.Field.forEach((function(e){t.hasOwnProperty(e)&&(r[e]=t[e])})),r}}]),e}(),n.Field=["resultCode","innerCode","resultMsg","appMetadata","payMethod","extraData"],i);e.exports=o},function(e,t,r){function n(e){for(var t=1;t<=arguments.length;t++)for(var r in arguments[t])e[r]=arguments[t][r];return e}var i=e.exports={PAYRESULT_SUCC:0,PAYRESULT_ERROR:-1,PAYRESULT_CANCEL:-2,PAYRESULT_PARAMERROR:-3,PAYRESULT_UNKNOWN:-4,PAYRESULT_CHANNEL_PARAMS_ERROR:-5};n(i,{SIGN_RESULT_BASE:-100,SIGN_DUPLICATE:-101,SIGN_NETWORK:-102,SIGN_BACKEND:-103}),n(i,{FACE_RESULTCODE_BASE:-300,FACE_REIGSTER_NETWORKFAIL:-301,FACE_REGISTER_BACKEND:-302}),n(i,{PAYSCORE_RESULTCODE_BASE:-400})},function(e,t,r){var n=e.exports={cgi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ret:0,err_code:"",msg:""};if([-9997,-9998,-9999].indexOf(e.ret)>-1)return n.network(e.err_code||e.ret,e.msg);var t="400-",r="";return e.err_code?r="系统繁忙，请稍后再试。\n（"+(t+=e.err_code)+"）":(t+="1-1-"+e.ret||0,r=e.msg?e.msg:"系统繁忙，请稍后再试。\n（"+t+"）"),{ret:t,msg:r||""}},sdk:function(e,t){var r="401-"+e;return{ret:r,msg:(t||"")+"\n（"+r+"）"}},SDK_PREDEFIN_ERR:{paramsErr:{code:"1-1-1",msg:""},payInfoErr:{code:"1-1-2",msg:"payinfo 解析失败"},directChannelErr:{code:"1-1-3",msg:"指定渠道非法"},wxH5PayUrlErr:{code:"1-1-4"}},thirdPartySdk:function(e,t){var r="402-"+function(e){e=e||"",e+="";var t=[],r="";try{for(var n=0,i=e.length;n<i;++n){var a=e[n];"-"!=a?r+=a:(""!=r&&t.push(r),r="",(0==n||e[n+1]&&"-"!=e[n+1]&&"-"==e[n-1])&&(r+=a))}if(""!=r&&t.push(r),!t.length)return"1-1-1";if((i=t.length)<3)for(n=i;n<3;++n)t.push("1");else t.splice(3);return t.join("-")}catch(e){}return e}(e);return{ret:r,msg:(t||"")+"\n（"+r+"）"}},network:function(e,t){var r="403-"+e;return{ret:r,msg:(t||"网络问题，请稍后再试。")+"\n（"+r+"）"}}}},function(e,t,r){var n=r(0);e.exports=n.fn.extend({LAUNCH_WECHAT_START:"wechatpay.begin",LAUNCH_WECHAT_SUCC:"wechatpay.success",LAUNCH_WECHAT_FAIL:"wechatpay.fail",LAUNCH_WECHAT_COMPLETE:"wechatpay.complete",LAUNCH_WECHAT_CANCEL:"wechatpay.cancel",TRIGGER_WECHAT_INFO:"wechatpay.payinfo",GET_DIRECT_SAVE_RESULT:"get.saveresult.inpayinfo"},r(13))},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"save",value:function(e,t){"function"==typeof t&&t({ret:i.NO_CGI_MODE,msg:"pay_info缺少渠道信息"})}}]),e}();e.exports=a},function(e,t,r){e.exports={wechat:function(e,t){new(r(1))(e,t)},os_wechat:function(e,t){new(r(16))(e,t)},wechat_ecommerce:function(e,t){new(r(17))(e,t)},icbc_jft_wechat:function(e,t){new(0,r(18).ICBCJftWechat)(e,t)}}},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},o=r(10),s=r(21),l=r(8),c=r(0),u=r(3),d=r(2),p=r(5),h=r(23),f=r(6),g=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return a.onBuy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r={};c.fn.extend(r,a.payMod.getSavePublicParams(),e),h.loading.show("支付中..."),a.report(f.SAVE_START);var n=(new Date).getTime();a.payMod.save(r,(function(e){h.loading.hide();var r=(new Date).getTime()-n;if(~~e.ret||a.report(f.SAVE_SUCC,{resultinfo:{duration:r}}),!t(e)&&~~e.ret){a.report(f.SAVE_FAIL,{resultcode:e.ret,resultinfo:{duration:r,httpCode:e.httpCode||0}});var i=p.cgi(e),o=function(){var t=d.PAYRESULT_ERROR;-9996==e.ret&&(t=d.PAYRESULT_CANCEL),a.handlePayResult(new u(t,i.ret,i.msg,a.params.appMetadata,"wechat"))};[1138,1139,1140,1141].indexOf(~~e.ret)>-1?iN.showModal({title:"提示",showCancel:!1,confirmText:"确定",content:i.msg,success:o,fail:o}):o()}}))},a.handlePayResult=function(e){a.callback.apply(a,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.toResult())),a.callback=null},a.clientLog("calling goods app construrctor",14,"src/app/goodsApp.js"),a.payMod=new s(a.params,a.report.bind(a)),a.buy(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=this.params.type+"."+e,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"report",this).call(this,e,r)}},{key:"buy",value:function(){var e=this;this.clientLog("before go into channel handler",24,"src/app/goodsApp.js"),this.report("payment.calling.buy");var t=this.payMod.getDirectChannel();l[t]||(t="wechat"),l[t]({onBuy:this.onBuy,report:this.report.bind(this),getApp:function(){return e}},(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.report("payment.result",{resultcode:t.resultCode,resultinfo:{resultCode:t.resultCode,innerCode:t.innerCode,resultMsg:t.resultMsg}});var n=function(){e.handlePayResult(new u(t.resultCode,t.innerCode,t.resultMsg,e.params.appMetadata,"wechat"))};try{if("1"==r.use_coupons&&t.resultCode!=d.PAYRESULT_SUCC)return e.payMod&&e.payMod.rollbackCoupons("wechat",r,(function(){n()}))}catch(e){}n()}))}},{key:"destroy",value:function(){this.cancel(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"cancel",value:function(){this.payMod&&this.payMod.destroyNetwork()}}]),t}(o);e.exports=g},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(19),a=r(0),o=r(3),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.params,n=t.callback,o=t.appMetadata,s=t.eventEmitter;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.params=r||{},this.callback=n||a.fn.emptyFun,this.appMetadata=o,this.eventEmitter=s,this.reportObj=i.create(),this.report("params",{resultinfo:{params:a.fn.safeJsonStringify(this.params)}}),this.payMod=null}return n(e,[{key:"destroy",value:function(){}},{key:"cancel",value:function(){}},{key:"report",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.reportObj.send(e,a.fn.extend({transactionid:this.params.payInfo.out_trade_no,openid:this.params.payInfo.user_id,appid:this.params.payInfo.appid},t))}},{key:"clientLog",value:function(e,t,r){this.report("client.log",{resultinfo:{msg:e,line:t,file:r}})}},{key:"resultCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o;e.appMetadata=this.appMetadata,this.callback.apply(this,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.toResult()))}}]),e}();e.exports=s},function(e,t,r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.params=e,this.payInfo=this.params.payInfo,this.session=new a({userId:this.payInfo.user_id}),this.report=t,this.cgi=new o({appid:this.payInfo.appid,version:s.getVersion()+"_1.7.4",sessionObj:this.session,pf:this.payInfo.pf,sandbox:~~this.params.env,report:t,cgiDomain:this.params.backapi,sessionToken:this.params.transactionid||""})}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(22),o=r(7),s=r(0);s.fn.extend(n.prototype,{rollbackCoupons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.fn.emptyFun;if(t.hasOwnProperty("ret")&&!~~t.ret&&"1"==t.use_coupons){var n=t.channel_info;if(!s.lang.isObject(n))return r();var i={pay_method:e,channel_orderid:n.serialno,out_trade_no:this.payInfo.out_trade_no};return this.cgi.rollbackCoupons(i,(function(e){r()}),{timeout:3e3})}return r()},getSaveChannelInfo:function(){if(this.payInfo.save_result&&s.lang.isNumber(this.payInfo.save_result.ret)&&0===this.payInfo.save_result.ret){var e=this.payInfo.save_result,t="decrypt_channel_info";if(!e[t])return null;if("string"==typeof e[t])return null;var r=e[t],n=i({},e,r);return delete n[t],n}return null},getDirectChannel:function(){return this.payInfo.pay_method||""},getPayParams:function(){return this.params},getInfoPublicParams:function(){},getSavePublicParams:function(){return{out_trade_no:this.payInfo.out_trade_no}},getDefaultBizAppid:function(){return""},save:function(e,t){},destroyNetwork:function(){this.cgi&&this.cgi.clearNetworkTask()}}),e.exports=n},function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(7),s=r(1),l=r(14),c=r(0),u=e.exports={_env:"",_dlg:null,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"release",t=void 0,r={};"object"===(void 0===e?"undefined":a(e))?(t=e.env,r=["backendBaseUri","pageBaseUri"].reduce((function(t,r){return"string"==typeof e[r]&&e[r]?i({},t,n({},r,e[r])):t}),{})):"string"==typeof e&&(t=e);var o=Object.keys(l.ENV_MAP);if(!o.some((function(e){return e===t})))throw new Error(".init call env error, `"+t+"` is not valid, candidate is "+o.join(","));u._env=t;var s=l.defaultConfig;c.lang.isObject(iN.OpenMidasConfig)&&(s=iN.OpenMidasConfig),s.cgiDomain&&(l.cgiDomain=s.cgiDomain),r.backendBaseUri&&(l.cgiDomain=n({},t,r.backendBaseUri))},version:"1.7.4"},d={};["payment","signContract","faceRegister"].forEach((function(e){d[e]=0})),u.isLaunchLimit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!d.hasOwnProperty(e))return!1;var t=d[e],r=(new Date).getTime();return!(r-t>1e3&&(d[e]=r,1))},u._wrap=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!u.isLaunchLimit(t)||!e._dlg){var i=e._dlg=new l(u._env);return i[r].apply(i,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(n)),i}},u.pay=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=u._wrap(u,"payment","launch",t);return n?(n.once("destroy",(function(){n==u._dlg&&(u._dlg=null),n=null})),n):u._dlg},u.directWxPay=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=u._wrap(u,"payment","callDirectPay",t);return n?(n.once("destroy",(function(){n==u._dlg&&(u._dlg=null),n=null})),n):u._dlg},u.launchPayScore=function(e,t,r){var n=u._wrap(u,"payment","callPayScore",[e,t,r]);return n?(n.once("destroy",(function(){n==u._dlg&&(u._dlg=null),n=null})),n):u._dlg},u.config={disableTimeout:function(){o.allowTimeout=!1},enableTimeout:function(){o.allowTimeout=!0},channel:{wechat:{setReturnWxInfo:function(e){s.returnWxInfo=!!e}}}},r(27)(u,l)},function(e,t,r){e.exports={PAYINFO_ILLEGAL:"getpayinfo.illegal",PAYINFO_FAIL:"getpayinfo.fail",PV:"pv",PAGE_INFO_START:"pageinfo.begin",PAGE_INFO_SUCC:"pageinfo.success",PAGE_INFO_FAIL:"pageinfo.fail",USE_DIRECTCHANNEL:"directChannel",DIRECTCHANNEL_CONFIRM:"directChannel.confirm",DIRECTCHANNEL_ILLEGAL:"directChannel.illegal",CHANNEL_SHOW:"channel.show",CHANNEL_CLICK:"channel.click",SAVE_START:"save.begin",SAVE_SUCC:"save.success",SAVE_FAIL:"save.fail",GET_RESULT_START:"getresult.begin",GET_RESULT_SUCC:"getresult.success",GET_RESULT_FAIL:"getresult.fail",RESULT_PV:"resultPage.pv",RESULT_CANCEL:"payment.cancel",RESULT_SUCC:"payment.success",RESULT_FAIL:"payment.fail",RESULT_UNKNOWN:"payment.unknow",CLIENT_LOG:"client.log"}},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if("string"==typeof t){var r=l.fn.getParam("data",t);r&&(e=JSON.parse(decodeURIComponent(r)))}}catch(e){}return e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"release";d.call(this),this.env=e}var o=n(r(15)),s=n(r(24)),l=r(0),c=r(5),u=r(4),d=r(25),p=void 0;p=r(9);var h={release:0,test:1,dev:2,autotest:3};a.ENV_MAP=h,a.defaultConfig=r(26),a.cgiDomain=a.defaultConfig.cgiDomain,l.inherits(a,d),l.fn.extend(a.prototype,{_wrapCallback:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];setTimeout((function(){try{l.lang.isFunction(e.callback)&&e.callback.apply(e,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)),e.app&&e.app.report&&e.app.report("result.callback",{resultinfo:{args:JSON.stringify(r)}})}catch(t){try{e.app.clientLog("callback to caller exception: "+t.message+" stack: "+t.stack)}catch(e){}}e.destroy()}),0)},destroy:function(){this.isOpen=!1;try{this.app&&this.app.report("destroy")}catch(e){}try{this.app&&this.app.destroy(),this.app=null}catch(e){}this.callback=null,this.emit("destroy")},cancel:function(){try{this.app&&l.lang.isFunction(this.app.cancel)&&this.app.cancel()}catch(e){}},constructAppParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{originPayInfo:"",parsedPayInfo:{}},t=e.parsedPayInfo,r={};return l.fn.extend(r,{env:h[this.env],type:t.type||"goods",payInfo:t,sign:l.fn.getParam("sign",e.originPayInfo||""),transactionid:t.out_trade_no,backapi:a.cgiDomain[this.env]||""}),r}}),a.prototype.launch=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!this.isOpen){if(arguments.length<2)throw new Error("pay params is illegal");if(!l.lang.isFunction(t))throw new Error("callback must be provided");var n;try{if("string"==typeof e){var i=l.fn.getParam("data",e);i&&(n=JSON.parse(decodeURIComponent(i)))}}catch(e){}if(this.callback=t,!n||~~n){var a=c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code),o=c.SDK_PREDEFIN_ERR.payInfoErr.msg;return void this._wrapCallback(u.PAYRESULT_PARAMERROR,a.ret,o)}var s=this.constructAppParams({originPayInfo:e,parsedPayInfo:n});switch(l.fn.extend(s,{appMetadata:r||""}),this.app=null,this.isOpen=!0,s.type){case"save":case"bg":case"goods":this.app=new p({params:s,callback:this._wrapCallback.bind(this),appMetadata:r,eventEmitter:this});break;default:this._wrapCallback(u.PAYRESULT_PARAMERROR,c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code).ret,"payinfo参数错误（type="+s.type+"）"),this.isOpen=!1}this.app&&this.app.report(s.type+".api.init",{appid:n.appid,openid:n.user_id,transactionid:n.out_trade_no})}},a.prototype.callDirectPay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{payInfo:"",channelPayInfo:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("function"!=typeof t)throw new Error("callback must be function");var r=i(e.payInfo||"");if(this.callback=t,r){var n=this.constructAppParams({originPayInfo:e.payInfo,parsedPayInfo:r});l.fn.extend(n,{channelPayInfo:e.channelPayInfo||{}}),"string"==typeof e.wxPaymentMethod&&(n.wxPaymentMethod=e.wxPaymentMethod),this.app=new o.default({params:n,callback:this._wrapCallback.bind(this),eventEmitter:this}),this.app.directPay(),this.app&&this.app.report("api.init",{appid:r.appid,openid:r.user_id,transactionid:r.out_trade_no})}else{var a=c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code),s=c.SDK_PREDEFIN_ERR.payInfoErr.msg;this._wrapCallback(u.PAYRESULT_PARAMERROR,a.ret,s)}},a.prototype.callPayScore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];if("function"!=typeof r)throw new Error("callback must be function");if(!e)throw new Error("payScoreInfo must provide");this.callback=r;var n=i(e||"");if(this._checkParsedPayInfo(n)){if(!t||!t.mode||-1===["wxpayScoreUse","wxpayScoreEnable"].indexOf(t.mode))return void this._wrapCallback(u.PAYRESULT_PARAMERROR,"","mode 参数非法, 当前值: "+t.mode);var a=this.constructAppParams({originPayInfo:e,parsedPayInfo:n});this.app=new s.default({params:a,options:t,callback:this._wrapCallback.bind(this),eventEmitter:this}),this.app&&this.app.launch()}},a.prototype._checkParsedPayInfo=function(e){if(!e){var t=c.sdk(c.SDK_PREDEFIN_ERR.payInfoErr.code),r=c.SDK_PREDEFIN_ERR.payInfoErr.msg;return this._wrapCallback(u.PAYRESULT_PARAMERROR,t.ret,r),!1}return!0},e.exports=a},function(e,t,r){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},d=n(r(3)),p=n(r(8)),h=n(r(1)),f=n(r(9)),g=n(r(4)),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return s(t,e),c(t,[{key:"constructWxPaymentArgs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l({},u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"constructWxPaymentArgs",this).call(this,e),this.opt.extendWxParams)}},{key:"getWxPaymentMethod",value:function(){return"string"==typeof this.opt.wxPaymentMethod&&this.opt.wxPaymentMethod?this.opt.wxPaymentMethod:u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getWxPaymentMethod",this).call(this)}}]),t}(h.default),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(v),y=function(e){function t(){var e;i(this,t);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return s.clientLog("calling goods app construrctor",31,"src/app/directPayApp.js"),s.channelPayInfo=s.params.channelPayInfo,s.handler=l({},p.default,{wechat:function(e,t){new v(e,t)},wechat_ecommerce:function(e,t){new m(e,t)}}),s}return s(t,e),c(t,[{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e="directpay."+e,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"report",this).call(this,e,r)}},{key:"buy",value:function(){}},{key:"directPay",value:function(){var e=this,t=this.payMod.getDirectChannel(),r={},n=this.payMod.getSaveChannelInfo();if(!n)return this.handlePayResult(new d.default(g.default.PAYRESULT_PARAMERROR,"","saveResultEmpty","",t));this.handler[t]||(t="wechat"),"wechat"!==t&&"wechat_ecommerce"!==t||(r=l({},r,this.channelPayInfo)),this.handler[t]({onBuy:function(e,t){t(n)},report:this.report.bind(this),extendWxParams:r,wxPaymentMethod:this.params.wxPaymentMethod||"",getApp:function(){return e}},(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.report("payment.result",{resultcode:r.resultCode,resultinfo:{resultCode:r.resultCode,innerCode:r.innerCode,resultMsg:r.resultMsg}}),e.handlePayResult(new d.default(r.resultCode,r.innerCode,r.resultMsg,e.params.appMetadata||"",t))}))}}]),t}(f.default);t.default=y},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:"os_wechat:2"})}},{key:"getChannelName",value:function(){return"os_wechat"}}]),t}(r(1));e.exports=o},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:this.getChannelName()+":2"})}},{key:"getChannelName",value:function(){return"wechat_ecommerce"}}]),t}(r(1));e.exports=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"buy",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buy",this).call(this,{pay_method:this.getChannelName()+":2"})}},{key:"getChannelName",value:function(){return"icbc_jft_wechat"}}]),t}(r(1));t.ICBCJftWechat=o},function(e,t,r){function n(){this.pid=0,this.iformatPrefix="openmidas.wechatapp",this.reportQueue=[],this.errorQueue=[],this.handleReportComplete=this.handleReportComplete.bind(this),this.handleReportFail=this.handleReportFail.bind(this),this.handleReportSuccess=this.handleReportSuccess.bind(this)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(20),s=r(0);s.fn.extend(n.prototype,{constructParams:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};t.resultinfo=t.resultinfo||{},t.resultinfo=s.fn.extend({},t.resultinfo,{networkType:o.networkType,systemInfo:s.req.serializeParam(o.systemInfo)}),s.fn.extend(r,{6:10,7:t.resultcode||0,3:t.openid||"",8:t.resultinfo?s.req.serializeParam(t.resultinfo):"",13:this.pid++,24:t.appid||"",21:[this.iformatPrefix,e].join("."),31:s.getVersion()+"_1.7.4",29:t.transactionid,38:(new Date).getTime()});var n=[];return s.fn.each(r,(function(e,t){n.push(t+"="+encodeURIComponent(e))})),n.join("|")},_deQueue:function(){var e=this,t=this.reportQueue.splice(0,5),r=t.reduce((function(e,t,r){return e["record"+r]=t,e}),{}),n=t.length;this.doSend({data:r,num:n},{onSuccess:this.handleReportSuccess,onComplete:this.handleReportComplete,onFail:function(){e.errorQueue.push(function(e){return{retryTimes:0,num:e.num,data:e.data}}({data:r,num:n}))}})},_deQueueError:function(){var e=this,t=this.errorQueue.splice(0,1),r=a(t,1)[0];this.doSend({data:r.data,num:r.num},{onSuccess:this.handleReportSuccess,onComplete:this.handleReportComplete,onFail:function(){++r.retryTimes<3&&e.errorQueue.push(r)}})},doSend:function(e){var t=e.data,r=void 0===t?{}:t,n=e.num,a=void 0===n?0:n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onSuccess:function(){},onComplete:function(){},onFail:function(){}};iN.request({url:"https://api.unipay.qq.com/v1/900/15499/log_data",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:i({num:a},r,{rr:Math.random()}),success:function(e){e.statusCode>=200&&e.statusCode<300?o.onSuccess():o.onFail()},fail:o.onFail,complete:o.onComplete})},handleReportSuccess:function(){},handleReportFail:function(){},handleReportComplete:function(){this.reportQueue.length>0?this._deQueue():this.errorQueue.length>0&&this._deQueueError()},send:function(e,t){var r=this,n=this.constructParams(e,t),i=0===this.reportQueue.length;this.reportQueue.push(n),i&&setTimeout((function(){r._deQueue()}),0)},destroy:function(){},setIformatPrefix:function(e){this.iformatPrefix=e}}),t.create=function(){return new n}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=iN.getSystemInfoSync(),i={brand:n.brand,model:n.model,version:n.version,system:n.system,platform:n.platform,SDKVersion:n.SDKVersion},a="init";iN.getNetworkType({success:function(e){t.networkType=a=e.networkType}}),iN.onNetworkStatusChange((function(e){t.networkType=a=e.networkType})),t.systemInfo=i,t.networkType=a},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(6)),a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"save",value:function(e,t){var r=this.getSaveChannelInfo();if(r)return"function"==typeof t&&t(r),void this.report(i.default.GET_DIRECT_SAVE_RESULT,{resultinfo:{saveResult:r}});this.cgi.save(e,t,{timeout:7e3})}}]),t}(r(11));e.exports=a},function(e,t,r){function n(e){this.userId=e.userId,this.sessionToken=this.openid+(new Date).getTime()}var i=r(0);i.fn.extend(n.prototype,{getSessionParam:function(){return{openid:this.userId}},addSessionParam:function(e){return i.fn.addParam({openid:encodeURIComponent(this.userId)},e)}}),e.exports=n},function(e,t,r){e.exports={loading:{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";iN.showLoading({title:e,mask:!0})},hide:function(){iN.hideLoading()}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=a.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},s=r(3),l=r(2),c=r(10),u=r(11),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.options=e.options||{},r.payMod=new u(r.params,r.report.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"launch",value:function(){var e=this;this.constructExtraData((function(t){t?e.callWx(t):e.handlePayResult(new s(l.PAYRESULT_PARAMERROR,"","extraData is empty",""))}))}},{key:"constructExtraData",value:function(e){var t=this.payMod.getSaveChannelInfo();return e(t&&t.channel_info?n({},t.channel_info):null)}},{key:"constructWxCallbacks",value:function(){var e=this;return{success:function(){e.handlePayScoreResult(new s(l.PAYRESULT_SUCC,"","跳转支付分小程序成功"))},fail:function(t){e.handlePayScoreResult(new s(l.PAYSCORE_LAUNCH_ERROR,"",t&&t.errMsg||""))}}}},{key:"callWx",value:function(e){"function"==typeof iN.openBusinessView?this.callPayScoreByBusinessView(this.options.mode,e):this.callPayScoreByNavigate(this.options.mode,e)}},{key:"callPayScoreByBusinessView",value:function(e,t){var r={businessType:this.options.mode,extraData:t};this.report("launch.payscore.using_business_view",{resultinfo:n({},r)}),iN.openBusinessView(n({},r,this.constructWxCallbacks()))}},{key:"callPayScoreByNavigate",value:function(e,t){var r={appId:"wxd8f3793ea3b935b8",path:{wxpayScoreUse:"pages/use/use",wxpayScoreEnable:"pages/use/enable"}[e],extraData:t};this.report("launch.payscore.using_navigate",{resultinfo:n({},r)}),iN.navigateToMiniProgram(n({},r,this.constructWxCallbacks()))}},{key:"handlePayScoreResult",value:function(e){this.callback.apply(this,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e.toResult())),this.callback=null}},{key:"report",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e="payscore."+e,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"report",this).call(this,e,r)}}]),t}(c);t.default=d},function(e,t,r){function n(){this._handlers={},this._cacheEvents={}}var i=Object.prototype.toString;n.prototype={constructor:n,on:function(e,t){if(this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t),this._cacheEvents[e]){var r=this._cacheEvents[e];delete this._cacheEvents[e],this.trigger.apply(this,[e].concat(r))}},once:function(e,t){function r(){t.apply(n,arguments),t=null}var n=this;r._once=!0,this.on(e,r)},trigger:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);if(t._handlers[e]){for(var n=[],i=0,a=t._handlers[e].length;i<a;i++)if(t._handlers[e]&&t._handlers[e][i]){var o=t._handlers[e][i];o.apply(t,r),o._once&&n.push(o)}for(i=0,a=n.length;i<a;++i)this.off(e,n[i]);return t}this._cacheEvents[e]=r},emit:function(){return this.trigger.apply(this,arguments)},off:function(e,t){if(e)if(t){if("[object Array]"==i.call(this._handlers[e]))for(var r=0,n=this._handlers[e].length;r<n;++r)if(this._handlers[e][r]==t){this._handlers[e].splice(r,1);break}}else this._handlers[e]=[];else this._handlers={}}},e.exports=n},function(e,t,r){e.exports={webDomain:"h5.openmidas.com",sandboxWebDomain:"sandbox.h5.openmidas.com",cgiDomain:{release:"api.openmidas.com",test:"sandbox.api.openmidas.com",dev:"dev.openmidas.com/api"},apiCommonConf:{version:"openmidas"}}},function(e,t,r){e.exports=function(e,t){}}])),aN}const sN=oN;var lN=Tc(Pd),cN=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),uN={NONE:0,SUCCESS:1,FAILED:2,TIMEOUT:3,REJECTED:4},dN={NONE:0,SUCCESS:1,FAILED:2},pN=function(){var e=Hp()((function*({extUserUin:e,prepayId:t,payInfo:r,orderInfo:n}={}){var i=H.appLaunchInfo||{},a=H.host&&H.host.appId,o=i.sessionid||i.sessionId||"",s=IO(),l=H.SDKVersion||"",c=qR(),u=Date.now(),{data:d}=yield lN({apiName:"webapi_openproductaddorder",reqData:{ext_info:{ext_useruin:e,ext_appid:a,session_id:o,cookie:s,sdk_version:l,...c},prepay_id:t,pay_info:r,order_info:n,check_agreement:!0}}),p=Date.now(),h=[e,a,o,s,l,c.scene||"",c.scene_note||"",c.prescene||"",c.prescene_note||"",t,r,p-u,p].join(",");return T.reportKeyValue({key:"PaymentAddOrderCall",value:h}),d}));return function(){return e.apply(this,arguments)}}(),hN=e=>{var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return new Promise((e=>{if(!t)return e(!0);l.initScl((r=>{var n=r.mainRoot.append("request-order-payment",{...t});n.addListener("confirm",(()=>e(!0))),n.addListener("cancel",(()=>e(!1)));var i=TM((()=>{n.handleCancel(),PM(i)}))}))}))},fN=(e,t,r="")=>new Promise(((n,i)=>{mP(),cP({title:e,confirmText:t,cancelText:r,showCancel:!!r,success({confirm:e}){n(!!e)},fail:i})})),gN=function(){var e=Hp()((function*(){var{data:e}=yield lN({apiName:"webapi_openproductacceptagreement",reqData:{}});return e}));return function(){return e.apply(this,arguments)}}(),vN=Pc("requestOrderPayment",Hp()((function*(e={}){var t=e.package,r="",n="",i="string"==typeof t,a=i&&0===t.indexOf("pay_info="),o=i&&0===t.indexOf("pay_score=");if(a||o){var s=bt(e,{package:""});if(s)throw new Error(`parameter error: ${s}`);n=o?t.replace("pay_score=",""):t.replace("pay_info=","")}else{var l=bt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(l)throw new Error(`parameter error: ${l}`);r=(t||"").replace("prepay_id=","")}var c,u,d,{orderInfo:p={},extUserUin:h,...f}=e,g=UR().timeout,m=(e.orderInfo||{}).out_order_id,y=uN.NONE,_=dN.NONE;try{try{var b=yield Promise.race([pN({extUserUin:h,prepayId:r,payInfo:n,orderInfo:p}),cN("timeout",g)]),{errcode:w,errmsg:S}=b,{cookie:C,pay_info:I,agreement_info:A,risk_info:k}=b;if(k&&k.decision){var{decision:E,action:T,wording:P,block_page_info:x}=k;if(1===E){if(1===T)yield fN(P,x.alternative_btn_wording);else if(2===T){var O=yield fN(P,x.btn_wording,x.alternative_btn_wording);O&&x.btn_direct_url?MM({url:x.btn_direct_url}):!O&&x.alternative_btn_wording_direct_url&&MM({url:x.alternative_btn_wording_direct_url})}}else if(2===E&&50===T){(yield fN(P,x.btn_wording,x.alternative_btn_wording))||(w=1010067,S="user cancel")}}if(1040046===w){var R=A.agreement_content;(yield hN(R))?(w=0,S="",gN()):S=S||"user rejected"}if(y=0===w?uN.SUCCESS:uN.REJECTED,u=S,c=w,n&&I&&(n=I),0===w&&void 0!==C){var M=[];_O(C||"",!1,M);var D=kO({cookies:M});D&&v.error("[set openleague_cookie]",D)}}catch(e){y=e&&"timeout"===e.message?uN.TIMEOUT:uN.FAILED}if(y===uN.REJECTED)throw new Ec(u||"addOrder failed",{addOrderErrCode:c});if(n)try{var N=sN(e.midasExtraData),L=e.midasEnv||"release";yield new Promise(((e,t)=>{N.init(L);var r=r=>{0===r?e():t(-2===r?new Error("cancel"):-3===r?new Error("parameter error"):new Error(`支付失败，errCode: ${r}`))};o?N.launchPayScore(n,{mode:"wxpayScoreUse"},r):N.pay(n,r)})),_=dN.SUCCESS}catch(e){throw d=e.message||"unknown",_=dN.FAILED,e}else try{var B=wO({key:"prepay_id",value:r,busid:"mmbiz_wxa_related_order"});f.passCookies&&"string"==typeof f.passCookies?f.passCookies=B+";;"+f.passCookies:f.passCookies=B,yield oM(f),_=dN.SUCCESS}catch(e){throw d=e.message||"unknown",_=dN.FAILED,e}}finally{lM({extUserUin:h,addOrderStatus:y,requestPaymentStatus:_,requestPaymentErrmsg:d,prepayId:r,payInfo:n,outOrderId:m})}}))),mN=(e={})=>{var{success:t,fail:r,complete:n}=e;Pd({sdkApiName:"checkBeforeAddOrder",apiName:"webapi_openproductcheckscene",reqData:{scene:qR().scene,cookie:IO()},success(e){"function"==typeof t&&t(e),"function"==typeof n&&n(e)},fail(e){"function"==typeof r&&r(e),"function"==typeof n&&n(e)}})},yN=e=>{qu("handleWCPayOverseaWalletBuffer",e)},_N=(e={})=>{qu("openSelectPayment",e)},bN=(e={})=>{qu("requestFacetoFacePayment",e)},wN=e=>{qu("setCurrentPaySpeech",e)},SN=e=>{qu("openWCPayCardList",e)},CN=e=>{qu("requestH5Transaction",e)},IN=e=>{qu("requestPaymentToBank",e)},AN=e=>{qu("verifyPaymentPassword",e)},kN=(e={})=>{yc("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&qu("requestQueryCashier",e)},EN=e=>{qu("openWCPayOverseaPaymentReceive",e)},TN=e=>{qu("requestJointPayment",e)},PN=e=>{var t=Gu(e);return(e={})=>{t("requestPersonalPay",e)}},xN=PN(),ON=e=>{yc("notifyWCPayResult",e,{appId:"",timeStamp:"",bizEventKey:""})&&qu("notifyWCPayResult",e)},RN=function(e,t,r){setTimeout((()=>{Or("callbackMiniProgramFunction",{callbackId:t,argArr:r},[e])}),0)},MN=e=>{var t=null;"object"!=typeof e&&(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];".js"!==n.slice(-3)&&(n+=".js");try{t=cr.require(n)}catch(e){}if(t)return t}return t},DN=({callbackId:e,paths:t,funcName:r,argArr:n},i)=>{var a=MN(t);if(a)if("function"!=typeof a[r]){RN(i,e,[{errMsg:"callMiniProgramFunction:fail Function not found"}])}else n.push(((...t)=>{RN(i,e,t)})),a[r].apply({},n);else{RN(i,e,[{errMsg:"callMiniProgramFunction:fail File not found"}])}};Br("callMiniProgramFunction",DN);var NN=(e,t,r,n)=>{var i=MN(e);if(i)if("function"!=typeof i[t]){n({errMsg:"callMiniProgramFunction:fail Function not found"})}else r.push(((...e)=>{n(...e)})),i[t].apply({},r);else{n({errMsg:"callMiniProgramFunction:fail File not found"})}},{pluginInfos:LN}=Oh,BN,$N=[],FN=e=>{var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])},jN,WN=e=>{if(e){void 0===BN&&(BN=[]);for(var t=0;t<e.length;t++){var r=e[t];BN.push(r);var n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&(r.plugin_list[0]&&LN[n])){var i=r.plugin_list[0].PluginNetWork||{},a=r.plugin_list[0].last_version||{};LN[n].domains={request:i.RequestDomain||[],uploadFile:i.UploadDomain||[],downloadFile:i.DownloadDomain||[],connectSocket:i.WsRequestDomain||[],tcp:i.TCPDomain||[]},LN[n].latestCustomVersion=FN(a.custom_version)}}}};function UN(){void 0!==jN&&jN(),$N.forEach((e=>{e(BN)}))}function VN(e){void 0===BN?$N.push(e.success):e.success(BN)}var qN=e=>{for(var t=0;t<e.length;t++){var r=e[t],n=r.plugin_id,i=LN[n];if(!i)return;i.banning=r.banning,i.runningFlag=r.running_flag_info,i.hostSign={noncestr:r.noncestr||"",timestamp:r.timestamp||"",signature:r.host_sign||""}}zN(e),jN&&jN()},zN=e=>{"android"===H.platform&&(jN=()=>{for(var t=function(){var t=e[r],n=t.plugin_id,i=LN[n];if(!i)return{v:void 0};var a=(e,r)=>{var n=new Set(i.domains[e]);t[r].forEach((e=>{n.add(e)})),i.domains[e]=Array.from(n)};a("request","request_domain"),a("uploadFile","upload_domain"),a("downloadFile","download_domain"),a("connectSocket","wsrequest_domain")},r=0;r<e.length;r++){var n=t();if("object"==typeof n)return n.v}v.info("[Plugin] (5072) doCombineDomainsFromVerifyPlugin -> ",Object.keys(LN).map((e=>[e,LN[e].domains])))})},GN=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),HN=()=>function(e){YM(e,e,{beforeAll(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}})},KN=(e,t)=>{var r;if(!e&&(null!=t&&null!==(r=t.banning)&&void 0!==r&&r.pay_banned)){var n='functional page of type "request-payment" is banned for this plugin.';return console.error(n),QN("fail",{errMsg:n}),!0}return!1},QN,JN=e=>{QN=(t,r={},n={})=>{"string"==typeof n&&(n={detail:n}),r.errMsg&&"string"==typeof r.errMsg?n.reason=r.errMsg:r.errMsg="";var i="requestPluginPayment";"success"===t?Sc({name:i,args:e,success:!0,res:r,errno:null,errCode:null}):"fail"===t&&Sc({name:i,args:e,success:!1,res:r,errno:null,errCode:null,errMsg:r.errMsg})}},XN={_listener:{},MAX_LISTENER_LIMIT:10,emit:e=>{XN._listener[e.callbackId]&&XN._listener[e.callbackId](e)},on:(e,t)=>{Object.keys(XN._listener).length>XN.MAX_LISTENER_LIMIT&&(XN._listener={}),XN._listener[e]=t},off:e=>{delete XN._listener[e]}},YN=XN,ZN=(e,t)=>{var r="RPP."+String(Date.now())+"."+String(Math.floor(2147483647*Math.random()));XN.on(r,(e=>{uT({success:()=>{"success"===e.ret?QN("success",e.detail):"fail"===e.ret?QN("fail",e.detail||{}):"cancel"===e.ret&&QN("fail",Object.assign({},e.detail,{errMsg:"payment cancel"})),XN.off(r)}})})),VN({success:n=>{var{pluginId:i,hostAppId:a,isSelfFunctionalPage:o}=e,s=n.find((e=>e.appId===i));if(!(s&&Array.isArray(s.plugin_list)&&s.plugin_list.length>0)){throw new Error("wx.requestPluginPayment: Invalid plugin info.")}var{version:l}=t,c=H.appLaunchInfo.sessionid,u=T.getAppType(),d=s.plugin_list[0],p=jh(H.appContactInfo.call_plugin_info),h={functionalPage:{callbackId:r,name:"requestPayment",originAccountInfo:H.accountInfo,pluginVersion:p,pluginInfo:{nickname:d.nickname,icon:d.headimgurl+"/0"},args:t}},f="/__wx__/functional-page?name=requestPayment&";if(o)nx({privateExtraData:h,success:()=>{SC({url:f})},fail:e=>{QN("fail",e)}});else{var g={__noCheckBeforeNavigateToMiniProgram:!0,appId:i,agentId:i,sourceAppId:a,sourcetype:2,path:f,envVersion:l,scene:1099,sceneNote:[a,c,u,p].join(":"),privateExtraData:h,success:()=>{},fail:e=>{QN("fail",e)}};HN()(g)}}})},eL=(e={})=>{NN(["__wx__/functional-pages/request-payment.js","functional-pages/request-payment.js"],"beforeRequestPayment",[e],((e,t)=>{if(e)QN("fail",e);else{var r=String(t.package);KR({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:e=>{e.extraData=t.extraData,QN("success",e,r)},fail:e=>{QN("fail",e,r)}})}}))},tL=e=>{Pd({apiName:"webapi_checkappplugincontractorinfo",sdkApiName:"requestPluginPayment",reqData:{},complete:()=>{},...e})},rL=function(){var e=Hp()((function*(e){var t=bt(e,{fee:0,version:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},{fee:e.fee,version:e.version,paymentArgs:e.paymentArgs,currencyType:e.currencyType,success:e.success,fail:e.fail}),JN(e);var r=Wh(this),n=Bh(this),i=H.accountInfo.appId,a=n===i;a||!fe?KN(a,r)||tL({pluginId:n,success(t){var r,o;null!==(r=t.data)&&void 0!==r&&r.is_associated&&n===i?eL(e.paymentArgs):(null!==(o=t.data)&&void 0!==o&&o.is_associated&&n!==i&&(e.quickPay=!0),ZN({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e))},fail(t){ZN({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e)}}):console.warn("For developer:开发者工具上暂不支持调试插件功能页，请在真机上测试。")}));return function(t){return e.apply(this,arguments)}}(),nL="getShareInfo",iL=(e={})=>{var t=DP.get(e.shareTicket),{success:r,fail:n,failWithMsg:i}=Cc(e,nL);t?Pd({sdkApiName:nL,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):i({msg:"invalid shareTicket"})},aL={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},oL=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){aL.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(aL.withShareTicket=!0,qu("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(aL.withShareTicket=!1,qu("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")){aL.showShareTimelineMenu=!0;var i=new Promise(((e,t)=>{qu("showShareTimelineMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{Sc({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");bc("showShareMenu",e,r,t.errCode)}))},sL=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{qu("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(aL.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){aL.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var i=new Promise(((e,t)=>{qu("hideShareMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{Sc({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");bc("hideShareMenu",e,r,t.errCode)}))};function lL(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?qu("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function cL(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});qu("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?aL.isPrivateMessage=!0:!1===e.isPrivateMessage&&(aL.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function uL(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?(qu("updateShareMenuUpdatable",{updatable:!0}),qu("updateShareMenuShareTicket",{withShareTicket:!0}),qu("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var dL=(e={})=>{Promise.all([lL(e),cL(e),uL(e)]).then((t=>{"function"==typeof e.success&&E.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},pL=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},hL=(e={})=>{if(yc("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=pL(sr.convertComponentAliasToRoute(e.path));else{var r=Object.keys(Fc.query).map((e=>`${e}=${Fc.query[e]}`)).join("&"),n=`${Fc.lastRoute}?${r}`;t.path=pL(sr.convertComponentAliasToRoute(n))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=jx(e.imageUrl,!1));var i=H.accountInfo.appId;"wx60422b707e49ff2e"!==i&&"wxb6d22f922f37b35a"!==i&&(delete t.bizSourceName,delete t.bizSourceIconUrl),qu("shareAppMessageForFakeNative",t)}},fL=e=>{if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/tmp\//.test(e))throw new Error("invalid path")}else if(e)return jx(e,!1);return e},gL=Pc("shareFileMessage",Hp()((function*(e={}){_c(e,{filePath:""});var t=fL(e.filePath);try{yield zu("shareFileMessage",{...e,filePath:t})}catch(e){if("cancel"!==e.message)throw e}}))),vL=Pc("shareVideoMessage",Hp()((function*(e={}){_c(e,{videoPath:""});var t=fL(e.videoPath),r=fL(e.thumbPath);try{yield zu("shareVideoMessage",{...e,videoPath:t,thumbPath:r})}catch(e){if("cancel"!==e.message)throw e}}))),mL="authPrivateMessage";function yL(e={}){var{success:t,fail:r,failWithMsg:n}=Cc(e,mL),i=DP.get(e.shareTicket);i&&i.shareKey?bf("authShareRelationship")?Pd({sdkApiName:mL,apiName:"webapi_authmgr",reqData:{share_key:i.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:i}=e.data;t({iv:r,encryptedData:n,valid:1===i})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})}var _L=new jt,bL={map:{},set(e){var t=It();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},wL=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:bL.get(e),SL=0,CL={};H.onReady((()=>{SL=H.appType,CL=H.appLaunchInfo}));var IL=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},AL=null,kL=({name:e,data:t})=>{var r=void 0!==sr?sr.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",i=lv(),a=H.SDKVersion||"",o="";switch(e){case"loadFontFace":o=IL(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=IL(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=IL(t,["extInfo","corpId"]);break;case"Intl":o=IL(t,["callPath"])}var s=[Math.round(Date.now()/1e3),CL.scene,CL.sessionid||CL.sessionId,n,i,a,e,o,SL,1,""].join(",");T.reportKeyValue({key:"APIUse",value:s})},EL={};function TL(e){var t=Fc.currentWebviewId;EL[t]=EL[t]||{},EL[t][e]=!0}function PL(e,t={},r=!1,n=!1){r=r||tp(),T.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0,T.getAppType()].join(",")})}ik((()=>{var e=!1;Object.keys(EL).forEach((t=>{var r=EL[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&kL({name:"suspectAR",data:{}}),EL={}}));var xL=function(e){return e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg",e}({}),OL=function(e){return e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode",e}({}),RL=function(e){return e[e.Blur=0]="Blur",e[e.Upload=1]="Upload",e}({}),ML=null,DL=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e}({}),NL={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},LL=e=>t=>null!=t&&e.includes(t),BL=LL([xL.DisableAsyncReport,xL.ReportAction,xL.ReportContent,xL.ReportContentWithImg]),$L=LL([OL.DisableSyncCheck,OL.EasyMode,OL.StrictMode]),FL={Pending:0,Fullfilled:1,Rejected:2};class jL{constructor(e={}){this.resolve=void 0,this.reject=void 0,this.promise=void 0,this.status=FL.Pending;var t=this;t.promise=new Promise(((r,n)=>{t.resolve=e=>{t.status=FL.Fullfilled,r(e)},t.reject=e=>{t.status=FL.Rejected,n(e)};var{timeout:i}=e;i&&this.setTimeoutReject(i)}))}setTimeoutReject(e,t="timeout"){setTimeout((()=>this.reject(t)),e)}}var WL=null,UL=Tc(tw),VL=Tc(Df),qL=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),zL=null,GL=null,HL=function(){var e=Hp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function KL(e){return QL.apply(this,arguments)}function QL(){return(QL=Hp()((function*(e){WL||(WL=Tc(fB));var{tempFilePath:t}=yield WL({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield VL({filePath:t});return yield HL(Hp()((function*(){var e,t=null===(e=H.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([qL(4e3,"upload timeout"),UL({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${zL.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function JL(){var e=new jL,t=function(){var t=Hp()((function*(t){var r=yield e.promise;Or("onReceiveSecInfo",r,[t])}));return function(e){return t.apply(this,arguments)}}();H.onReady(Hp()((function*(){var t=yield JS(),r=null==t?void 0:t.data;zL=null==r?void 0:r.wxa_input_auth;var n=null==r?void 0:r.opinfo_async,i=null==r?void 0:r.func_ban_conf,a={opInfo:n,ugcConfig:zL,funcBanConf:i};e.resolve(a)}))),b.clientManager.on("clientConnected",t)}function XL(e,t){return YL.apply(this,arguments)}function YL(){return YL=Hp()((function*(e,t,r=""){if(zL&&Array.isArray(t)){var n=zL.async_report_mode,i=zL.sync_check_mode;if((!$L(i)||i===OL.DisableSyncCheck)&&BL(n)&&n!==xL.DisableAsyncReport&&"number"==typeof NL[e]){var a={async_report_mode:n,query_path:Cv(),component_type:NL[e],report_time:Date.now(),content_length:t.length,action_type:RL.Upload,plugin_app_id:r};if(n===xL.ReportContentWithImg){var o=[];for(var s of t)o.push(yield KL(s));a.content=o.join(",")}Pd({apiName:"webapi_wxaasyncinputreport",reqData:a,pluginId:r,success:e=>{},fail:e=>{}})}}})),YL.apply(this,arguments)}function ZL(e,t){return eB.apply(this,arguments)}function eB(){return(eB=_asyncToGenerator((function*(e,t,r=""){}))).apply(this,arguments)}function tB(e){if(zL){var t=zL[`${e}_auth`]===DL.YES;return t&&gP({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var rB={previewImage:31,previewMedia:788,onLivePlayerFullScreenChange:372,onVideoFullScreenChange:131},nB=new Map,iB=new Map;H.onReady(Hp()((function*(){yield new Promise((e=>setTimeout(e,2e3)));var{data:e={}}=yield JS(),{api_cooltime_list:t=[]}=e;for(var{api:r,cooltime:n}of t)iB.set(r,n)})));var aB=e=>{var t;return null!==(t=iB.get(e))&&void 0!==t?t:0},oB=e=>{var t=aB(e);if(t<=0)return!1;nB.has(e)||nB.set(e,0);var r=nB.get(e),n=Date.now(),i=!0;if(n-r>=t)i=!1;else{var a=pT();i=a<r||a>n}return i||nB.set(e,n),i},sB=(e,t,r)=>{bc(t,r,`can't be invoked in ${aB(e)}ms until user taps`)},lB=function(e={}){if(tB("choose_image"))bc("chooseImage",e,"This api is temporarily unavailable");else{var t=Bh(this);Gu(t)("chooseImage",ap({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&XL("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},cB="previewImage",uB=(e={})=>{if(yc(cB,e,{urls:[""]})){var t=oB(rB.previewImage),r=H.version,n=H.system,i="7.0.12"===r&&n.indexOf("iOS 13.4")>=0;for(var a of e.urls)if(/^\s*data:image\//.test(a)&&i)return void bc(cB,e,"url can not be base64 on iOS 13.4");var o=Object.assign({},e);o.urls=o.urls.slice(),o.referrerPolicy=o.referrerPolicy||"origin",qx(o.urls,"image",(r=>{var n=o.urls;if(o.urls=[...r.data.map((e=>e.url))],o.current){var i=n.indexOf(o.current);i>=0&&(o.current=o.urls[i])}o.urls&&(o.urls=o.urls.map((e=>bL.get(e)||e))),t?sB(rB.previewImage,cB,e):qu(cB,o),PL(cB,{urls:o.urls||[]},!1,t)}))}},dB=e=>{var t=Object.assign({},e),r=[t.src];qx(r,"image",(e=>(t.src=e.data[0].url,pB(t,mm))))},pB=(e,t)=>{yc("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/tmp\//.test(e.src)?qu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,qu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):bc("getImageInfo",e,"image not found (404)")},fail(t){bc("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=Ap(Fc.lastRoute,e.src,!1),qu("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},hB=function(e={}){e.filePath=bL.get(e.filePath)||e.filePath,Gu(Bh(this))("saveImageToPhotosAlbum",e,{})},fB=(e={})=>{var t={src:"",quality:80};yc("compressImage",t=op(t,e),{src:" ",quality:80})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(t.src=Ap(Fc.lastRoute,t.src,!1)),qu("compressImage",t))},gB=(e={})=>{if(yc("editImage",e,{src:" "})){var t=e.fail,r={beforeAll(e){"editImage:Parse imageUrl fail, maybe imageUrl is illegal?"===e.errMsg&&(e.errMsg="editImage:fail Parse imageUrl fail, maybe imageUrl is illegal?","function"==typeof t&&t(e))}};/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(e.src=Ap(Fc.lastRoute,e.src,!1)),qu("editImage",e,r)}},vB=["16:9","9:16","4:3","3:4","5:4","4:5","1:1"],mB=(e={})=>{if(yc("cropImage",e,{src:" "})){var t=(e.cropScale||"1:1").trim();if(-1!==vB.indexOf(t)){var r=t.split(":"),n=parseInt(r[0],10),i=parseInt(r[1],10),a=op({},e);a.width=Number.isNaN(n)?1:n,a.height=Number.isNaN(i)?1:i,/^wxfile:\/\//.test(a.src)||/^http:\/\/(tmp|store|usr)\//.test(a.src)||(a.src=Ap(Fc.lastRoute,a.src,!1)),qu("cropImage",a)}else bc("cropImage",e,"invalid cropScale")}},yB=()=>new Promise((e=>l.initScl((t=>e(t.mainRoot))))),_B=Tc(dB),bB={SHOW_MENU:1,SHARE:2,SHARE_SUCCESS:3,SHARE_FAIL:4,ADD_TO_FAVORITES:5,SAVE_TO_ALBUM:6,CANCEL:7},wB=({action:e})=>{var t=H.appLaunchInfo||{},r=[H.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");T.reportKeyValue({key:"ShareImageMenu",value:r})},SB=function(){var e=Hp()((function*(e){var t=(yield yB()).append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,actions:JSON.stringify([{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"},{action:"addToFavorites",text:"收藏",imageSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}])}),r=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["shareToFriend","addToFavorites","saveToAlbum","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return PM(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),CB=Pc("showShareImageMenu",Hp()((function*(e={}){if(!bf("showShareImageMenu"))throw new Error("no permission");_c(e,{path:""});var t=bL.get(e.path)||e.path;if(/^\w+:\/\//.test(t)){if(!/^wxfile:\/\//.test(t)&&!/^http:\/\/tmp\//.test(t))throw new Error("invalid path")}else t="/"+jx(t,!1);var{height:r,width:n}=yield _B({src:t}),{action:i}=yield SB({imgPath:t,height:r,width:n});switch(wB({action:bB.SHOW_MENU}),i){case"shareToFriend":try{yield zu("shareImageMessage",{imagePath:t}),wB({action:bB.SHARE_SUCCESS})}catch(e){if("cancel"===e.message)return void wB({action:bB.SHARE_FAIL});throw e}return;case"addToFavorites":return wB({action:bB.ADD_TO_FAVORITES}),void(yield zu("addImageToFavorites",{url:t}));case"saveToAlbum":return wB({action:bB.SAVE_TO_ALBUM}),yield zu("saveImageToPhotosAlbum",{filePath:t}),void(ve&&gP({icon:"success",title:"已保存"}));default:throw wB({action:bB.CANCEL}),new Error("cancel")}}))),IB=Gt("lifeCycle:AppRouteDone"),AB=IB.internalOnMethod,kB=IB.internalOffMethod,EB=IB.emit.bind(IB),TB=!1,PB=null,xB=null;tT((()=>{TB=!0})),AB((()=>{TB=!1,PB&&(OB(PB),PB=null),xB&&(RB(xB),xB=null)}));var OB=e=>{yc("addCard",e,{cardList:[]})&&(TB?PB=e:qu("addCard",e))},RB=e=>{yc("openCard",e,{cardList:[]})&&(TB?xB=e:qu("openCard",e))},MB=(e={})=>{qu("checkIsSupportSoterAuthentication",e,{})},DB=(e={})=>{if(yc("startSoterAuthentication",e,{challenge:""})){var t=e.success;qu("startSoterAuthentication",Object.assign({},e,{success(r){0!==r.errCode?"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(r):"function"==typeof t&&E.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(r)}}),{beforeSuccess(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},NB=(e={})=>{yc("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&qu("checkIsSoterEnrolledInDevice",e,{})},LB=(e={})=>{qu("openGoldenRedPacketDetail",e,{})},BB=(e={})=>{qu("sendGoldenRedPacket",e,{})},$B=(e={})=>{if(bf("sendBizRedPacketForOpen")){var t=lx().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}qu("sendBizRedPacket",e,{})},FB=(e={})=>{invokeMethod("openRedPacket",e,{})},jB=Object.assign,WB=Object.create,UB=a.prototype.call.bind(String.prototype.toString),VB=a.prototype.call.bind(String.prototype.indexOf),qB="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket",zB=(e={})=>{if(yc("showRedPackage",e,{url:""}))if(bf("showRedPackage")){var t=WB(null);jB(t,e),t.url=UB(t.url),t.isNativeStyle=!0,0===VB(t.url,qB)?qu("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):bc("showRedPackage",t,"url is invalid")}else bc("showRedPackage",e,"no permission")},GB=(e={})=>{qu("jumpRedPacketEnvelopePreview",e,{})},HB=(e={})=>{qu("quickSendRedPacket",e,{})},KB=(e={})=>{qu("sendRedCoverAppMsg",e,{})},QB=(e={})=>{qu("checkIsSupportFacialRecognition",e,{})},JB=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,user_id_key:e.userIdKey}),XB=(e={})=>{var t=JB(e);qu("startFacialEncryptionVerify",ap(e,{requestVerifyPreInfo:t}),{})},YB=(e={})=>{var t=JB(e);qu("startFacialEncryptionVerifyAndUploadVideo",ap(e,{requestVerifyPreInfo:t}),{})},ZB=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey}),e$=(e={})=>{var t=ZB(e);qu("startFacialRecognitionVerify",ap(e,{requestVerifyPreInfo:t}),{})},t$=(e={})=>{var t=ZB(e);qu("startCustomFacialRecognitionVerify",ap(e,{requestVerifyPreInfo:t}),{})},r$=(e={})=>{var t=ZB(e);qu("startFacialRecognitionVerifyAndUploadVideo",ap(e,{requestVerifyPreInfo:t}),{})},n$=(e={})=>{var t=ZB(e);qu("startCustomFacialRecognitionVerifyAndUploadVideo",ap(e,{requestVerifyPreInfo:t}),{})},i$=(e={})=>{ge?qu("checkTrafficCardConditions",e):bc("checkTrafficCardConditions",e,"not yet supported")},a$=(e={})=>{ge?qu("queryTrafficCardInfo",e):bc("queryTrafficCardInfo",e,"not yet supported")},o$=(e={})=>{ge?qu("issueTrafficCard",e):bc("issueTrafficCard",e,"not yet supported")},s$=(e={})=>{ge?qu("rechargeTrafficCard",e):bc("rechargeTrafficCard",e,"not yet supported")},l$=(e={})=>{ge?qu("setDefaultTrafficCard",e):bc("setDefaultTrafficCard",e,"not yet supported")},c$=(e={})=>{ge?qu("deleteTrafficCard",e):bc("deleteTrafficCard",e,"not yet supported")},u$=(e={})=>{if(yc("addFileToFavorites",e,{filePath:""})){var t=fL(e.filePath);qu("addFileToFavorites",{...e,filePath:t})}},d$=(e={})=>{if(yc("addVideoToFavorites",e,{videoPath:""})){var t=fL(e.videoPath),r=fL(e.thumbPath);qu("addVideoToFavorites",{...e,videoPath:t,thumbPath:r})}},p$=(e={})=>{qu("openChannelsCreateContact",e)},h$=[1177,1184,1195,1208],f$=(e={})=>{var{scene:t}=lx();if(-1!==h$.indexOf(t)){var{success:r,fail:n,complete:i}=e;Pd({sdkApiName:"getChannelsShareKey",apiName:"webapi_get_channels_share_info",reqData:{scene_note:qR().scene_note,cookie:IO()},success({errMsg:e,data:t={}}){var{sharer_openid:n,promoter:a={}}=t,o={errMsg:e,sharerOpenId:n,promoter:{finderNickname:a.finder_nickname,promoterId:a.promoter_id,promoterOpenId:a.promoter_openid}};"function"==typeof r&&r(o),"function"==typeof i&&i(o)},fail(e){"function"==typeof n&&n(e),"function"==typeof i&&i(e)}})}else bc("getChannelsShareKey",e,`invalid scene, current is ${t}`)},g$=(e={})=>{qu("openChannelsPostPage",e)},v$,m$=e=>{qu("login",ap(e,{requestInQueue:!1}))},y$=e=>{v$&&clearTimeout(v$),qu("refreshSession",e,{beforeSuccess:e=>{v$=setTimeout((()=>{qu("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},_$=()=>{qu("logout",{})},b$=function(e={}){var t="login",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId}),{success:i,fail:a,failWithMsg:o}=assembleCallbacks(e,t);checkPluginPermissionSync(r,"setPluginLoginAuth")?w$.call(this,{success(){invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},w$=function(e={}){var t="setPluginLoginAuth",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId,auth_status:1}),{success:i,fail:a}=assembleCallbacks(e,t);invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},S$="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",C$={cancel:0,accept:1},I$=()=>{var e=new jt,t="",r=null,n=[];function i(e){r&&!n.length?(n.push(e),r.des()):e()}function a(n,i,a,s){var{tmpl:l,opApi:c}=i;r||(r=s.mainRoot.append(l,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(i,n,r.extra);r.setData({...e,enter:!0})}else r.isReady=!0})),r.addListener("destroy",(i=>{r=null,PM(a);var{type:o}=i.detail;o?function(e,r,n){Pd({sdkApiName:t,apiName:r.name,reqData:r.request({opType:n,...e}),success(i){n===C$.accept?(Sc({name:t,args:e,res:i}),r.success()):bc(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();bc(t,e,n,+r.err_code)}})}(n,c,C$[o]):e.emit("desComp")}))}function o(e,t,r={}){var n=e.genData(t,r);return Object.assign(n,{appIcon:H.accountInfo.icon||S$,appName:H.accountInfo.nickname}),n}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{yc(t=n.api,e,n.checkArgs(e))&&l.initScl((s=>{var l=function(e){return TM((r=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(r.type)&&i((()=>{bc(t,e,"user navigate back operation")}))}))}(e);a(e,n,l,s),Pd({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(a){if(!n.checkApi.confirm(a))return delete a.data,void i((()=>{Sc({name:t,args:e,res:a})}));if(r)if(r.isReady){var s=o(n,e,a);r.setData({...s,enter:!0})}else r.isReady=!0,r.extra=a},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();i((()=>{bc(t,e,n,+r.err_code)}))}})}))}},A$={authorize:{scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:()=>({}),checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},addDevicePanel:{api:"addDevicePanel",tmpl:"device-panel",checkArgs:()=>({sn:"",snTicket:"",modelId:"",deviceName:"",location:""}),checkApi:{name:"CheckDevicePanel",request:({sn:e,snTicket:t,modelId:r})=>({sn:e,sn_ticket:t,model_id:r}),confirm:e=>1===e.data.need_alert},opApi:{name:"AddDevicePanel",request:({opType:e,sn:t,modelId:r,deviceName:n,envVersion:i,path:a,query:o,location:s})=>({action_type:e,sn:t,model_id:r,name:n,version_type:i||H.envVersion,path:a,query:o,location:s}),success:()=>{gP({title:"已添加",icon:"success"})}},genData:({deviceName:e})=>({wording1:`将“${e}”设备组件添加到「发现 - 小程序 - 设备」中`,wording2:"添加后，可直接控制使用该设备。"})},requestDeviceVoIP:{api:"requestDeviceVoIP",tmpl:"device-voip",checkArgs:({isGroup:e})=>!0===e?{groupId:""}:{sn:"",snTicket:"",modelId:"",deviceName:""},checkApi:{name:"CheckDeviceVoip",request:({sn:e,snTicket:t,modelId:r,deviceName:n,isGroup:i,groupId:a})=>!0===i?{is_group:i,group_id:a}:{sn:e,sn_ticket:t,model_id:r,device_name:n},confirm:e=>1===e.data.need_alert},opApi:{name:"AddDeviceVoip",request:({opType:e,sn:t,snTicket:r,modelId:n,deviceName:i,isGroup:a,groupId:o})=>!0===a?{action_type:e,is_group:a,group_id:o}:{action_type:e,sn:t,sn_ticket:r,model_id:n,device_name:i},success:()=>{}},genData:(e,t)=>({wording1:`为「${t.data.device_name}」开启语音、视频通话提醒`,wording2:"用于设备发起的语音和视频通话邀请"})}},k$=["scope.userLocation","scope.userFuzzyLocation"],E$=(e="gcj02")=>{var t,r=null==H?void 0:H.appLaunchInfo,n=null!==(t=Fc.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===n||1245===n){var i,a,o=null==r||null===(i=r.referrerInfo)||void 0===i||null===(a=i.privateExtraData)||void 0===a?void 0:a.location;if(o)return"gcj02"===e?{...o}:R$(o)}return null},T$=(e,{type:t}={},r=!0)=>r?{...e,type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}:{...e,type:t},P$=Math.PI,x$=6378245,O$=.006693421622965943,R$=e=>{if(N$(e.longitude,e.latitude))return{...e};var{latitude:t,longitude:r}=e,n=t/180*P$,i=M$(r-105,t-35),a=D$(r-105,t-35),o=Math.sin(n);o=1-O$*o*o;var s=Math.sqrt(o);return i=180*i/(x$*(1-O$)/(o*s)*P$),{longitude:2*r-(r+(a=180*a/(x$/s*Math.cos(n)*P$))),latitude:2*t-(t+i)}},M$=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*P$)+20*Math.sin(2*e*P$))/3,r+=2*(20*Math.sin(t*P$)+40*Math.sin(t/3*P$))/3,r+=2*(160*Math.sin(t/12*P$)+320*Math.sin(t*P$/30))/3},D$=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*P$)+20*Math.sin(2*e*P$))/3,r+=2*(20*Math.sin(e*P$)+40*Math.sin(e/3*P$))/3,r+=2*(150*Math.sin(e/12*P$)+300*Math.sin(e/30*P$))/3},N$=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),L$=I$();function B$(e){return"scope.userInfo"!==e||(cd("getUserInfo")||cd("authorize"))}function $$(e){return Object.keys(A$.authorize.scopes).includes(e)}var F$=e=>{var t="authorize",r=Gu(e);return(e={})=>{yc("authorize",e,{scope:""})&&(B$(e.scope)?$$(e.scope)?Object.entries(A$.authorize.scopes).forEach((([t,r])=>{t===e.scope&&L$(e,r)})):e.scope&&E$()&&k$.includes(e.scope)?setTimeout((()=>Nu({},t,e,{})),100):r(t,ap(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}}):bc("authorize",e,"scope unauthorized"))}},j$=F$(),W$=/^wx[0-9a-f]{16}(\/.*)?$/,U$="webapi_reportwxauseuserinfo",V$=function(e){return e[e.UNUSED=0]="UNUSED",e[e.USED=1]="USED",e[e.REMOVAL_NOTIFIED=7]="REMOVAL_NOTIFIED",e}(V$||{}),q$=function(e){return e[e.ALL=0]="ALL",e[e.DETAIL_ONLY=1]="DETAIL_ONLY",e}(q$||{}),z$={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],getFuzzyLocation:["jsapi_fuzzy_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],startRecord:["jsapi_record"]},G$={jsapi_address:q$.ALL,jsapi_camera:q$.DETAIL_ONLY,jsapi_invoice:q$.ALL,jsapi_licenseplate:q$.ALL,jsapi_location:q$.DETAIL_ONLY,jsapi_choose_location:q$.ALL,jsapi_fuzzy_location:q$.DETAIL_ONLY,jsapi_media:q$.ALL,jsapi_messagefile:q$.ALL,jsapi_phonecontact:q$.DETAIL_ONLY,jsapi_photocalendar:q$.DETAIL_ONLY,jsapi_photos_album:q$.DETAIL_ONLY,jsapi_record:q$.DETAIL_ONLY,webapi_bluetooth:q$.DETAIL_ONLY,webapi_getuserwxphone_group:q$.ALL,webapi_werun:q$.DETAIL_ONLY,webapi_userinfo:q$.ALL},H$=function(e){return e.USER_INFO="webapi_userinfo",e.WE_RUN_DATA="webapi_werun",e.RECORD="jsapi_record",e.CAMERA="jsapi_camera",e}(H$||{}),K$=a.prototype.call.bind(String.prototype.split),Q$=a.prototype.call.bind(String.prototype.match),J$=a.prototype.call.bind(Object.prototype.hasOwnProperty),X$=e=>K$(e,"/",1)[0],Y$=(e,t)=>J$(z$,e)?Z$(z$[e],t):null,Z$=(e,t)=>{var r="string"==typeof t&&Q$(t,W$)?X$(t):null;return e.map((e=>({apiName:U$,reqData:{scope:e,report_type:G$[e],state:V$.USED},pluginId:r,fail({errMsg:t}){v.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))};const eF={PrivacyScopes:H$,getArgsByJsApi:Y$,getArgsByScope:Z$,WxDataName:U$};Pu(((e,t)=>{if(!Be()){var r=eF.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{v.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{Pd(e)}))}),200)}}));var tF=e=>function(t,r){Be()||(v.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),eF.getArgsByScope(e,t).forEach((e=>{Pd(e)})))},rF=tF([eF.PrivacyScopes.USER_INFO]),nF=tF([eF.PrivacyScopes.WE_RUN_DATA]),iF=tF([eF.PrivacyScopes.RECORD]),aF=tF([eF.PrivacyScopes.CAMERA]),oF=(e={})=>{var t=H.SDKVersion,r=!0===cd("getUserInfo")||"unknown"===cd("getUserInfo"),{success:n,fail:i}=Cc(e,"getUserInfo");Pd({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:i,signature:a,data:o}=e;n({cloudID:t,encryptedData:r,iv:i,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),Oe()&&setTimeout((()=>rF("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),i(e)}})},sF,lF=(e={})=>{var t=e.success,r=e.complete;if(sF){var n={data:sF,errMsg:"getAppContact:ok"};return t&&t(n),void(r&&r(n))}e.success=e=>{sF=e.data,t&&t(e)},e.keyPath="WxaAppVersionInfo.AppVersion",qu("getAppContact",e)},cF=(e={},t={})=>{if(yc("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)bc("getUserProfile",e,"desc length does not meet the requirements");else{var n=!0===cd("getUserProfile")||"unknown"===cd("getUserProfile"),{success:i,fail:a}=Cc(e,"getUserProfile"),o={lang:e.lang||"en",desc:e.desc};2===e.mode&&(o.get_profile_mode=2),o.version=H.SDKVersion,lF({success(e){var t=JSON.parse(e.data);o.app_version=t},complete(){Pd({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:n,reqData:o,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:o}=e;i({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),null!=o&&o.is_demote||setTimeout((()=>rF("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},uF=(e={})=>{Md("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)},dF=(e={})=>{var t=Md("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},pF=(e={})=>{qu("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})},hF=null,fF=!1,gF="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",vF=(e={})=>{if(fF)return console.error("invoke wx.getUserProfile too frequently");if(yc("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)bc("getUserProfile",e,"desc length does not meet the requirements");else{var r=H.accountInfo.nickname,n=H.accountInfo.icon||gF;fF=!0,uF({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,a="string"==typeof e.wording?e.wording:"",o=t.avatar_info.is_ban_modify_avatar,s=t.avatar_info.default_headimg_url,c=t.avatar_info.default_headimg_fileid,u=t.avatar_info.default_avatar_id,d=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),p=t.avatar_info.avatar_limit;if(0!==i){if(fF=!1,1===i){p+=1;var h={id:-100,avatar:s,nickname:"微信用户",desc:"临时头像昵称"};d.splice(1,0,h)}var f=JSON.stringify({appName:r,appIcon:n,infoList:d,showType:i,selected:u,limit:p,isBanModifyAvatar:o,wording:a}),g=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&hF&&hF.handleCancel()}));l.initScl((t=>{(hF=t.mainRoot.append("user-profile",{input:f})).addListener("confirm",(t=>{PM(g),dF({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),Sc({name:"getUserProfile",args:e,res:r})},fail(){bc("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),hF=null})),hF.addListener("cancel",(()=>{PM(g),bc("getUserProfile",e,"cancel"),dF({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),hF=null})),hF.addListener("create",(()=>{pF({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:s,defaultAvatarFileId:c,complete(e){e.userInfo&&(d.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,d),hF.setData({infoList:d})),hF.setData({hide:!1})}})}))}))}else cF(e,{afterAll:()=>fF=!1})}else bc("getUserProfile",e,"getUserAvatarInfo fail")},fail(){fF=!1,bc("getUserProfile",e,"getUserAvatarInfo fail")}})}}},mF=(e={})=>{vF(Object.assign({},e,{__requireId__:!1}))},yF=function(e){Gu(Bh(this))("openAddress",e,{beforeSuccess(e){cp(e,"addressPostalCode","postalCode"),cp(e,"proviceFirstStageName","provinceName"),cp(e,"addressCitySecondStageName","cityName"),cp(e,"addressCountiesThirdStageName","countyName"),cp(e,"addressStreetFourthStageName","streetName"),cp(e,"addressDetailInfoNew","detailInfoNew"),cp(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},_F={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3,SYS_MSG_TYPE_WHATS_NEW:4},bF=wF(_F);function wF(e){var t={};for(var r in e)t[e[r]]=r;return t}function SF(e){return _F[e]}function CF(e){return bF[e]}function IF(e){var t=H.SDKVersion,r=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:t},e);return delete r.withSubscriptions,r}function AF(e){if(v.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=CF(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var kF=Md("getSetting","webapi_getuserallappauth",IF,AF),EF=function(e={}){var t=Bh(this);Gu(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=Cc(e);Pd({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),setTimeout((()=>nF(t,"wx.getWeRunData")))},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},TF=(e={})=>{"number"!=typeof e.step||e.step<0?bc("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):qu("openWeRunSetting",{checkSupport:!1,success(){qu("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},PF=(e={})=>{"number"!=typeof e.step||e.step<0?bc("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):qu("openWeRunSetting",{checkSupport:!1,success(){qu("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},xF=function(e={}){Gu(Bh(this))("chooseInvoiceTitle",e,{beforeSuccess(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var r=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,r)}catch(e){}}})},OF=e=>(t={})=>{yc("operateWXData",t,{apiName:""})&&Od({keepAlive:t.keepAlive,apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},RF=OF(!1),MF=OF(!0),DF=Md("getOpenDeviceId","webapi_getdeviceinfo"),NF=Gt("ThemeChange"),LF=NF.onMethod,BF=NF.internalOnMethod,$F=NF.offMethod;Rt("onThemeChange",(e=>{void 0!==H.theme&&(H.theme=e.theme,NF.emit({theme:e.theme}))}));var FF=(e=[])=>e.map((e=>({sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}))),jF=(e={})=>{var t=Md("checkWxaSportRecord","webapi_checkwxasportrecord",(e=>({sport_record_list:FF(e.recordList)})));t(e)},WF=(e={})=>{var t=Md("reportWxaSportRecord","webapi_reportwxasportrecord",(e=>({sport_record_list:FF(e.recordList)})));t(e)},UF=dd(jF),VF=dd(WF),qF=({show:e=0,statusCancel:t=0,statusConfirm:r=0,clickMoreCount:n=0})=>{var i=[e,t,r,n];T.reportKeyValue({key:"ShareToWeRun",value:i.join(","),immediately:!0})},zF=null;LF((e=>{var t=e.theme;zF&&zF.setData({theme:t})}));var GF=(e,t=[])=>{var r={};return t.forEach((t=>{e.hasOwnProperty(t)&&(r[t]=e[t])})),r},HF=(e="",t)=>{var r=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&zF&&(zF.handleCancel(),zF=null)}));l.initScl((n=>{var i=n.mainRoot.append("werun",{input:e});zF=i,i.addListener("confirm",(e=>{var n=e.detail.clickMoreCount;qF({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:n}),PM(r),VF({recordList:t.recordList}).then((()=>Sc({name:"shareToWeRun",args:t}))).catch((e=>bc("shareToWeRun",t,e.errMsg,+e.err_code)))})),i.addListener("cancel",(e=>{var n=e.detail.clickMoreCount;qF({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:n}),bc("shareToWeRun",t,"cancel"),PM(r)}))}))},KF=(e={})=>{yc("shareToWeRun",e,{recordList:[]})&&(bf("shareDataToWeRun")?UF({recordList:e.recordList}).then((t=>{var r=t.wording||{},n=GF(r,["title","sport_name","note_title","note_detail"]);n.theme=h_().theme||"light";var i=JSON.stringify(n);HF(i,e)}),(t=>{qF({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),bc("shareToWeRun",e,t.errMsg,+t.err_code)})):bc("shareToWeRun",e,"has no permission",-100004))},QF=0;h.onLoad((()=>{QF=parseInt(Date.now()/1e3,10)}));var JF=function(e={}){Gu(Bh(this))("chooseInvoice",Object.assign({},e,{timeStamp:QF,nonceStr:QF+""}),{beforeSuccess(){}})},XF=e=>{var t=Gu(e);return(e={})=>{t("faceVerifyForPay",e)}},YF=XF(),ZF=(e={})=>{var t=Object.assign({},e,{scene:151});delete t.profileReportInfo,qu("openBizProfile",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},ej=(e={})=>{qu("openWeAppProfile",e)},tj=(e={})=>{var t=Object.assign({},e);delete t.profileReportInfo,qu("openUserProfile",t)},rj=(e={})=>{qu("preventApplePayUI",e)},nj=Md("getWxSecData","getWxSecData",((e={})=>e),(e=>e)),ij=!1;tT((()=>{ij=!1})),aT((()=>{ij=!1}));var aj=e=>{if(ij)bc("requestSubscribeMessage",e,"last call has not ended");else{if(!yc("requestSubscribeMessage",e,{tmplIds:[]}))return;ij=!0,fe?sj(e):oj(e)}},oj=e=>{T.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),qu("requestSubscribeMessage",t,{beforeAll(){ij=!1},beforeSuccess(){T.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),ij=!1},beforeFail(){T.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},sj=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return ij=!1,void bc("requestSubscribeMessage",e,t,r);var i=n.map((e=>({TemplateId:e})));Pd({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:H.accountInfo.appId,ActionType:1,ItemList:i},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return ij=!1,void Sc({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var i="订阅一次以下消息通知";3===r.TemplateType&&(i="长期订阅以下消息通知"),uP({title:i,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){ij=!1,lj(e,t)},fail(t){ij=!1,bc("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();bc("requestSubscribeMessage",e,r,+t.err_code),ij=!1}})},lj=(e,t)=>{var r=e.tmplIds[0];Pd({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:H.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),Sc({name:"requestSubscribeMessage",args:e,res:n}),kL({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();bc("requestSubscribeMessage",e,r,+t.err_code)}})},cj=(e={})=>{var t=Object.assign({},e);t.style=t.type,qu("vibrateShort",t,{})},uj=(e={})=>{qu("vibrateLong",e,{})},dj="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",pj={none:0,accept:1,cancel:2,reject:3},hj={0:"none",1:"accept",2:"cancel",3:"reject"},fj=!1,gj=0,vj=null;function mj(e){oh("setGuideFlag",{value:e},[gj],(e=>{e.errMsg&&e.errMsg}))}function yj(e){oh("getGuideFlag",{},[gj],(t=>{t.errMsg?t.errMsg:e(!!t.data)}))}function _j(){setTimeout((()=>{yj((e=>{vj&&vj.setData({showGuideOnce:e})}))}),500)}function bj(e=!0){fj=!1,vj&&e&&vj.des()}function wj(){return TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&bj()}))}function Sj(e,t,r){vj||(vj=r.mainRoot.append("device-message",{})),vj.addListener("ready",(()=>{vj&&(vj.initData?(vj.setData({...vj.initData,enter:!0}),_j()):vj.isReady=!0)})),vj.addListener("confirm",(t=>{Ij(e,pj.accept,t.detail.items)})),vj.addListener("cancel",(t=>{Ij(e,pj.cancel,t.detail.items)})),vj.addListener("reject",(t=>{Ij(e,pj.reject,t.detail.items)})),vj.addListener("destroy",(()=>{vj=null,PM(t)})),vj.addListener("vibrate",(()=>{cj({type:"medium"})})),vj.addListener("setGuideFlag",(e=>{mj(e.detail.value)}))}function Cj(e,t){Pd({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:1,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,ItemList:e.tmplIds.map((e=>({TemplateId:e})))},success(r){var n=r.data.InfoList||[],i=[],a=[];if(n.forEach((e=>{e.OperType&&e.OperType!==pj.cancel?a.push(e):i.push(e)})),!i.length){var o={},s=a.some((e=>e.OperType===pj.accept));return a.forEach((e=>{o[e.TemplateId]=hj[e.OperType]})),Sc({name:"requestSubscribeDeviceMessage",success:s,args:e,res:o}),void bj()}var l={appIcon:H.accountInfo.icon||dj,appName:H.accountInfo.nickname,items:i.map((e=>({name:e.Title,checked:!1,...e.IsForcePushTemplate?{isDefaultForcePush:1===e.IsDefaultForcePush,isForcePush:!0,forcePushStatus:!1}:{},id:e.TemplateId,noticeList:e.KeyWordList})))};t(l)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();bc("requestSubscribeDeviceMessage",e,r,+t.err_code),bj()}})}function Ij(e,t,r){Pd({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:2,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,UIData:{OpType:t,UIItem:r.map((e=>({TemplateId:e.id,ChooseStatus:e.checked?1:0,...e.isForcePush?{IsAcceptWithForcePush:e.forcePushStatus?1:0}:{}})))}},success(){if(t===pj.cancel||t===pj.reject)bc("requestSubscribeDeviceMessage",e,`${hj[t]} operation`);else{var n={};r.forEach((e=>{n[e.id]=e.checked?"accept":"reject"})),Sc({name:"requestSubscribeDeviceMessage",args:e,res:n})}bj(!1)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();bc("requestSubscribeDeviceMessage",e,r,+t.err_code),bj(!1)}})}tT((e=>{gj=e.webviewId,bj()})),aT((()=>{bj()}));var Aj=e=>{if(yc("requestSubscribeDeviceMessage",e,{sn:"",snTicket:"",modelId:"",tmplIds:[]})){var t,r,n=e.tmplIds||[];0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t?bc("requestSubscribeDeviceMessage",e,t,r):fj||(fj=!0,l.initScl((t=>{var r=wj();Sj(e,r,t),Cj(e,(e=>{vj&&(vj.isReady?(vj.setData({...e,enter:!0}),_j()):vj.initData=e)}))})))}},kj=(e={})=>{yc("requestBizSplitBillPayment",e,{orderNo:""})&&qu("requestBizSplitBillPayment",e)},Ej="";H.onReady((()=>{Ej=H.appLaunchInfo.chatroomUsername})),Yt("onAppEnterForeground",((e={})=>{Ej=e.chatroomUsername}));var Tj="getGroupEnterInfo",Pj=(e={})=>{var{success:t,fail:r,failWithMsg:n}=Cc(e,Tj);Ej?bf("getGroupToolbarInfo")?Pd({sdkApiName:Tj,apiName:"webapi_swapopengid",reqData:{chatroom_name:Ej},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},xj=()=>xd({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),Oj=[1011,1017,1025,1047,1124,1034],Rj=[1001,1038,1041,1089,1090,1104,1131,1187],Mj={NeedCheck:0,NotCheck:1},Dj=e=>{if(Oj.includes(e))return!0;if(Rj.includes(e)){var{scene:t}=ux();return Oj.includes(t)}return!1},Nj=function(){var e=Hp()((function*(){try{var{data:e}=yield xj(),{check_scene_flag:t=Mj.NeedCheck,check_pay_success_flag:r=Mj.NeedCheck}=e||{};return{shouldCheckScene:t===Mj.NeedCheck,shouldCheckPayment:r===Mj.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),Lj=(e={})=>{var{scene:t}=lx();Nj().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{!n||aM()?!r||Dj(t)?qu("publishWechatStateActivity",e,{beforeSuccess:e=>{var{tailType:t,tailUserName:r,tailPath:n,tailUri:i}=e;delete e.tailType,delete e.tailUserName,delete e.tailPath,delete e.tailUri,T.reportKeyValue({key:"PublishWechatState",value:[t,r,n,i].map(encodeURIComponent).join(",")})}}):bc("publishWechatStateActivity",e,`invalid scene, current is ${t}`):bc("publishWechatStateActivity",e,"should only called after a successful payment")}))},Bj=()=>{var{scene:e}=lx();return aM()&&Dj(e)},$j=(e={})=>{var{scene:t}=lx();Nj().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||aM())if(!r||Dj(t)){var i=Object.assign({},e);if("string"==typeof i.url){var a=ch("publishWeChatState",i,!1);if(!a)return;i.url=a,i.url=bp(i.url)}qu("publishWeChatState",i)}else bc("publishWeChatState",e,`invalid scene, current is ${t}`);else bc("publishWeChatState",e,"should only called after a successful payment")}))},Fj=(e={})=>{e=Object.assign({},e);var t=()=>{try{kL({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}};Oe()?Pd({apiName:"webapi_getgamewxkfinfo",sdkApiName:"openCustomerServiceChat",reqData:{raw_kf_args:{extinfo:e.extInfo,corpid:e.corpId,show_message_card:e.showMessageCard,send_message_title:e.sendMessageTitle,send_message_path:e.sendMessagePath,send_message_img:e.sendMessageImg}},success:r=>{var n=r.data;if(0===(null==n?void 0:n.err_code)){var{processed_kf_args:i,need_ban_kf:a}=n;if(a)bc("openCustomerServiceChat",e,"customer service ability is banned");else{var{extinfo:o,corpid:s,show_message_card:l,send_message_title:c,send_message_path:u,send_message_img:d}=i||{};o.scene=20,qu("openCustomerServiceChat",{extInfo:o,corpId:s,showMessageCard:l,sendMessageTitle:c,sendMessagePath:u,sendMessageImg:d,scene:+H.appLaunchInfo.scene,success:e.success,fail:e.fail,complete:e.complete},{beforeSuccess:t})}}else{var{err_code:p,err_msg:h}=n;v.error("openCustomerServiceChat err_code",p),bc("openCustomerServiceChat",e,h,p)}},fail:t=>{v.error("openCustomerServiceChat operateWXData Fail",t),console.error("openCustomerServiceChat operateWXData Fail",t),bc("openCustomerServiceChat",e,t.errMsg)}}):(e.extInfo=Object.assign({},e.extInfo,{scene:8}),qu("openCustomerServiceChat",Object.assign({},e,{scene:+H.appLaunchInfo.scene}),{beforeSuccess:t}))},jj=function(e={}){Gu(Bh(this))("chooseLicensePlate",e,{beforeSuccess:e=>{e.plate&&(e.plateNumber=e.plate,delete e.plate)}})},Wj=(e={})=>{yc("openCTID",e,{orgID:"",businessID:"",bizSeq:"",type:0})&&qu("openCTID",Object.assign({},e,{miniProgramPlatformID:"00000002"}))},Uj=I$(),Vj=e=>{Uj(e,A$.addDevicePanel)},qj=e=>{if(yc("removeDevicePanel",e,{sn:"",snTicket:"",modelId:""})){var{sn:t,snTicket:r,modelId:n}=e;Pd({sdkApiName:"removeDevicePanel",apiName:"RemoveDevicePanel",reqData:{sn:t,sn_ticket:r,model_id:n},success(t){Sc({name:"removeDevicePanel",args:e,res:t}),gP({title:"已删除",icon:"success"})},fail(t){var r=t.errMsg.replace("removeDevicePanel:fail:","").trim();bc("removeDevicePanel",e,r,+t.err_code)}})}},zj=e=>{Pd({sdkApiName:"getDevicePanelList",apiName:"GetWxaDevicePanel",reqData:{},success(t){Sc({name:"getDevicePanelList",args:e,res:t})},fail(t){var r=t.errMsg.replace("getDevicePanelList:fail:","").trim();bc("getDevicePanelList",e,r,+t.err_code)}})},Gj=e=>{Pd({sdkApiName:"canIUseDevicePanel",apiName:"CanUseDevicePanel",reqData:{},success({data:t}){var r={result:!!t&&t.check_result};Sc({name:"canIUseDevicePanel",args:e,res:r})},fail(t){var r=t.errMsg.replace("canIUseDevicePanel:fail:","").trim();bc("canIUseDevicePanel",e,r,+t.err_code)}})},Hj=e=>{if(yc("batchAddDevicePanel",e,{devices:[{sn:"",snTicket:"",modelId:"",deviceName:"",location:""}]})){var t=e.devices.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,name:e.deviceName,location:e.location,path:e.path,version_type:e.envVersion||H.envVersion})));Pd({sdkApiName:"batchAddDevicePanel",apiName:"BatchAddDevicePanel",reqData:{device_list:t},success(t){Sc({name:"batchAddDevicePanel",args:e,res:t})},fail(t){var r=t.errMsg.replace("batchAddDevicePanel:fail:","").trim();bc("batchAddDevicePanel",e,r,+t.err_code)}})}},Kj=I$(),Qj=e=>{Kj(e,A$.requestDeviceVoIP)},Jj=e=>{Pd({sdkApiName:"getDeviceVoIPList",apiName:"GetIotVoipContactList",reqData:{type:1},success(t){var r=((t.data||{}).contact_list||[]).map((({sn:e,model_id:t,group_id:r,status:n})=>({sn:e,model_id:t,group_id:r,status:n})));Sc({name:"getDeviceVoIPList",args:e,res:{list:r}})},fail(t){var r=t.errMsg.replace("getDeviceVoIPList:fail:","").trim();bc("getDeviceVoIPList",e,r,+t.err_code)}})},Xj="checkIsAddedToMyMiniProgram",Yj=Md(Xj,"webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa}));function Zj(e){Yj(Object.assign({},e))}var eW=Gt("AppUnhang"),tW=eW.internalOnMethod,rW=eW.onMethod;function nW(){XA()}Rt("onAppUnhang",((e={})=>{eW.emit(e)})),aT((e=>{Vp()||(YA(e),JA(e),ZA(e))}));var iW=!1,aW=[1037,1227,1263];H.onReady((()=>{var e,t=null===(e=H.appLaunchInfo)||void 0===e?void 0:e.scene;iW=iW||aW.includes(t)})),aO((e=>{iW=iW||aW.includes(e.scene)}));var oW=(e={})=>{iW?qu("navigateBackMiniProgram",e,{}):bc("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},sW=(e={},t="/")=>{if(yc("navigateToDevMiniProgram",e,{appId:""}))if(["undefined","string"].includes(typeof e.relativeURL)){var r=Object.assign({},e);"string"==typeof r.path&&void 0===r.relativeURL&&(r.relativeURL=dp(r.path)),Gu(t)("navigateToDevMiniProgram",r,{})}else bc("navigateToDevMiniProgram",e,"relativeURL should be string or undefined")},lW=e=>{sW(e,"/")},cW=(e={})=>{var t=Object.assign({},e);t.path&&(t.path=dp(t.path)),qu("launchMiniProgram",t)},uW=(e={})=>{if(yc("launchDevMiniProgram",e,{appId:""})){var t=Object.assign({},e);t.path=dp(t.path),"string"==typeof t.path&&void 0===t.relativeURL&&(t.relativeURL=t.path),qu("launchDevMiniProgram",t,{})}},dW=Gt("exitMiniProgram"),pW=dW.internalOnMethod,hW=()=>dW.emit(),fW=(e={})=>{qu("exitMiniProgram",e,{beforeSuccess(){dW.emit()}})},gW,vW,mW;H.onReady((()=>{if(H.screenHeight&&H.screenWidth)vW=H.screenWidth,mW=H.screenHeight;else{var e=v_();vW=e.screenWidth,mW=e.screenHeight,gW=e.deviceOrientation}}));var yW=e=>{gW=e.deviceOrientation,vW=e.size.windowWidth,mW=e.size.windowHeight};Yt("onViewDidResize",yW),Yt("onAppRouteResized",yW);var _W=()=>gW||(vW>mW?"landscape":"portrait"),bW=e=>{qu("setPageOrientation",e)},wW=!0,SW=[{h:"支付方式1",src:"url"},{h:"支付方式2",src:"url2"},{h:"支付方式3",src:"url3"},{h:"支付方式4",src:"url4"}],CW=Symbol("wePaySpecialOpenMiniProgram"),IW=Symbol("skipSceneSymbol"),AW=!1,kW=function(){var e=Hp()((function*(e,t){try{var r=yield hD({appId:t.appId,path:t.path},t);return v.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(r)}`),XM(e,{appId:r.appId,path:r.path,sourcetype:r.sourcetype,needTransferToWeChat:r.needTransferToWeChat})}catch(e){var n=e.errMsg||e.message;throw v.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${n}`),["cancel","another navigation is in progress"].includes(n)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(n)}}));return function(t,r){return e.apply(this,arguments)}}(),EW=(()=>{var e=[];return H.onReady((()=>{Array.isArray(H.embeddedAppIdList)&&(e=H.embeddedAppIdList)})),t=>e.indexOf(t)>=0})(),TW={NONE:0,BANNED_PLATFORM:1,BANNED_APP_TYPE:2,INVALID_ACTION_CODE:3,DISALLOW_EMBEDDED_MODE:4,BANNED_ORIENTATION:5,NOT_IN_EMBEDDED_APPID_LIST:6,NOT_TRIGGERED_BY_TAP:7,INVALID_API_CATEGORY:8,SPECIAL_SCENE:9},PW=function(){var e=Hp()((function*({appId:e,path:t,shortLink:r,verify:n,tapMark:i},a){if(v.info(`[_checkBeforeOpenEmbeddedMiniProgram] appId=${e} path=${t} shortLink=${r} isOpening=${AW}`),AW)throw new Error("another navigation is in progress");AW=!0;try{try{a||(a=yield sD({appId:e,path:t,shortLink:r,verifyUnionProduct:"unionProduct"===n}))}catch(r){v.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),a={appId:e,path:t}}var{actionCode:o,allowEmbeddedMode:s,appType:l}=a;e=a.appId,t=a.path;var c=_W(),u=zP();v.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${o} appType=${l} allowEmbeddedMode=${s} pageOrientation=${c} lastNonBClassScene=${u}`);var d=!1,p=TW.NONE;return ve||ge?Oe()||4===l?(d=!0,p=TW.BANNED_APP_TYPE):[1,2].includes(o)?s?"landscape"===c?(d=!0,p=TW.BANNED_ORIENTATION):i?["embedded"].includes(XP())?(d=!0,p=TW.INVALID_API_CATEGORY):[1200,1201,1228].includes(u)&&(d=!0,p=TW.SPECIAL_SCENE):(d=!0,p=TW.NOT_TRIGGERED_BY_TAP):(d=!0,p=TW.DISALLOW_EMBEDDED_MODE):(d=!0,p=TW.INVALID_ACTION_CODE):(d=!0,p=TW.BANNED_PLATFORM),{...a,shouldFallback:d,fallbackReason:p}}finally{AW=!1}}));return function(t,r){return e.apply(this,arguments)}}(),xW=(e,t,r,n,i)=>{var a=Object.keys(Fc.query).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(Fc.query[e])}`)).join("&"),o=[`${Fc.lastRoute}?${a}`||"",e||"",t||"",r||"",n,i].join(",");T.reportKeyValue({key:"OpenEmbeddedMiniProgramResult",value:o})},OW=function(){var e=Hp()((function*(e){v.info(`[_doOpenEmbeddedMiniProgram], args=${JSON.stringify(e)}`),delete(e={...e}).sourcetype,delete e.preScene,delete e.preSceneNote,e.mode="embedded",Be()||e.skipSceneSymbol===IW||(delete e.scene,delete e.sceneNote);var t=CO();return t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&e.path.trim().length>0?e.path=dp(e.path).trim():e.path=void 0,v.info(`[_doOpenEmbeddedMiniProgram], finalArgs=${JSON.stringify(e)}`),zu("navigateToMiniProgram",e)}));return function(t){return e.apply(this,arguments)}}();function RW(){return MW.apply(this,arguments)}function MW(){return MW=Hp()((function*(e={}){var t=e.__skip_tap_check__===CW,r=t||tp();if(!t&&!lT())throw new Error("can only be invoked by user TAP gesture.");var n=XP();if(["nativeFunctionalized"].includes(n))throw gP({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${n} apiCategory.`);if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&_c(e,{appId:""}),e.shortLink&&_c(e,{shortLink:""}),v.info(`[_openEmbeddedMiniProgram] appId=${e.appId} path=${e.path} shortLink=${e.shortLink} verify=${e.verify}`);var i=e.appId,a=e.path,o=0,s=0;e.embedded={allowFullScreen:!1},e.allowFullScreen&&(delete e.allowFullScreen,e.embedded.allowFullScreen=!0);try{var l=yield PW({appId:e.appId,path:e.path,shortLink:e.shortLink,verify:e.verify,tapMark:r});return v.info(`[_checkBeforeOpenEmbeddedMiniProgram][resolve], res=${JSON.stringify(l)}`),i=l.appId,a=l.path,e.skipSceneSymbol===IW&&(l.shouldFallback=!1),l.shouldFallback?(o=2,s=l.fallbackReason,console.warn(`openEmbeddedMiniProgram will fallback to navigateToMiniProgram. (reason: ${{[TW.BANNED_PLATFORM]:"invalid platform",[TW.BANNED_APP_TYPE]:"invalid app type",[TW.INVALID_ACTION_CODE]:"forbid to navigate",[TW.DISALLOW_EMBEDDED_MODE]:"forbidden",[TW.BANNED_ORIENTATION]:"invalid orientation",[TW.NOT_IN_EMBEDDED_APPID_LIST]:"not in list",[TW.NOT_TRIGGERED_BY_TAP]:"not triggered by tap",[TW.INVALID_API_CATEGORY]:"invalid api category",[TW.SPECIAL_SCENE]:"special scene"}[s]||"unknown"})`),yield kW(e,l)):(o=1,yield OW({...e,appId:l.appId,path:l.path,sourcetype:l.sourcetype}))}catch(e){var c=e.errMsg||e.message;throw v.error(`[_checkBeforeOpenEmbeddedMiniProgram][reject], errMsg=${c}`),["cancel","another navigation is in progress"].includes(c)||T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before open embed miniprogram"}),new Error(c)}finally{xW(i,a,e.shortLink,o,s)}})),MW.apply(this,arguments)}var DW=Pc("openEmbeddedMiniProgram",RW),NW=Gt("onSheetModeVisibleHeightChange"),LW=NW.onMethod,BW=NW.offMethod,$W=null,FW;Rt("onSheetModeVisibleHeightChange",((e={})=>{$W&&$W.height===e.height&&$W.initialHeight===e.initialHeight||($W=e,NW.emit(e))}));var jW=()=>FW,WW=e=>FW=e,UW={cheat:null},VW=(e={})=>{if(bf("allowUseWePay")){var{result:t,data:r}=e;"boolean"==typeof t?oW({extraData:{result:t,data:r},fail(t){e.fail&&e.fail({errMsg:"notifyPayResult: fail navigateBackMiniProgram error"})},success:e.success}):e.fail&&e.fail({errMsg:"notifyPayResult: fail result must be boolean"})}else e.fail&&e.fail({errMsg:"notifyPayResult: fail no permission"})},qW,zW,GW=()=>(zW=new Promise(((e,t)=>{qW=e})),zW),HW=()=>!!qW,KW=function(){var e=Hp()((function*(e){if(qW)if(!1!==(null==e?void 0:e.result)){var t=yield QW(FW.prepayId,FW.platformId);"NOTPAY"===t.state?qW({result:!1,retry:!0}):"SUCCESS"===t.state?qW({result:!0}):qW({result:!1,errMsg:t.errMsg}),qW=null,zW=null,FW=void 0}else qW({result:!1,errMsg:e.errMsg})}));return function(t){return e.apply(this,arguments)}}(),QW=function(){var e=Hp()((function*(e,t){var r,n,i,a,o=yield xd({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayResult",json_req:JSON.stringify({prepay_id:null!==(r=null===(n=UW.cheat)||void 0===n?void 0:n.verifyState)&&void 0!==r?r:e,platform_prepay_id:t})}});return{state:null===(i=o.data.state_info)||void 0===i?void 0:i.state,errMsg:null===(a=o.data.base_resp)||void 0===a?void 0:a.err_msg}}));return function(t,r){return e.apply(this,arguments)}}();function JW(e){if("appLaunch"===e.openType){var t=ux();WA(t),rT(JW)}}function XW(e){UA(e)}aO((e=>{Vp()||(HW()&&KW(e.referrerInfo.extraData),WA(e))})),tT(JW);var YW=Gt("AppService-Error"),ZW=Gt("AppService-UnhandledRejection"),eU=YW.onMethod,tU=YW.offMethod,rU=ZW.onMethod,nU=ZW.offMethod;T.registerThirdErrorListener((e=>{YW.emit(e)})),T.registerThirdUnhandledRejectionListener(((e,t)=>{ZW.emit({reason:e,promise:t})}));var iU=16,aU=[],oU=null,sU=null,lU=!1,cU=[],uU=!1,dU="",pU=0,hU=0,fU=e=>{e.deviceOrientation&&(dU=e.deviceOrientation),pU=e.size.windowWidth,hU=e.size.windowHeight},gU=e=>{oU=e;var t=!1,r=!0;e.deviceOrientation!==dU&&(t=!0),e.size.windowWidth!==pU&&(t=!0),e.size.windowHeight!==hU&&(t=!0),fU(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(uU=!0),"auto"===e.pageOrientation.originalPageOrientation||uU||(t=!1,r=!1)),void 0!==sr&&sr.isFramesetMode()&&(r=!1),t&&(lU=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{cU.indexOf(e)<0&&cU.push(e)})),sU||(sU=setTimeout((()=>{sU=null;var e=lU;lU=!1;var t=cU;cU=[];var r={deviceOrientation:oU.deviceOrientation,size:oU.size};e&&aU.forEach((e=>{E.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==sr?sr.getPageByWebviewId(e):null;t&&E.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),iU))};Yt("onViewDidResize",(e=>{gU(e)}));var vU=e=>{aU.push(e)},mU=e=>{aU.splice(aU.indexOf(e),1)},yU=Gt("AppRouteResized"),_U=yU.internalOnMethod,bU=yU.internalOffMethod;Yt("onAppRouteResized",(e=>{"object"==typeof e&&null!==e&&fU(e),yU.emit({})}));var wU=Object.hasOwnProperty,SU=Gt("AppRouteNotFound"),CU=SU.onMethod,IU=SU.offMethod,AU=SU.emit,kU=(e,t)=>{v.info(`[rewriteRoute] (webviewId=${t}) ${e}`)},EU={},TU=(e,t)=>{var r=0;if(wU.call(e,"originalWebviewId")){var n;r=e.originalWebviewId,kU(`Found originalWebviewId=${r}`,t),null===(n=b.clientManager)||void 0===n||n.emit("clientIdChanged",r,t)}else{if(1!==Object.keys(EU).length)return kU(`No originalWebviewId found and we have ${Object.keys(EU).length} backup data, guess failed, cleaning backups and giving up`,t),EU={},e;r=Object.keys(EU)[0],kU(`No originalWebviewId found and guess it=${r}`,t)}var i=EU[r];return delete EU[r],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=i[t]})),e},PU=(e,{needHtmlSuffix:t})=>{var r=kp(e.replace(/\.html(\?|$)/i,(e=>e.slice(5))));if("/"===r[0]&&(r=r.slice(1)),!t)return r;var n=r.indexOf("?");return n<0&&(n=r.length),r.slice(0,n)+".html"+r.slice(n)},xU=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return{rewritten:!1,triggerNotFound:!1};if("rewriteRoute"===e.openType&&(e=TU(e,t)),!e.notFound)return{rewritten:!1,triggerNotFound:!1};for(var r=!1,n=e.rawPath;/^[-_+a-z]+:\/\//i.test(n);){kU(`${n} has protocol, try rewriting`,t);try{if("wxpage://"===Op(n=PU(n,{needHtmlSuffix:!0})))return e.rawPath="wx"+e.rawPath.slice(6),e.path="wx"+e.path.slice(6),qu("pageNotFoundCallback",{hasHandler:!0,webviewId:t}),{rewritten:!1,triggerNotFound:!1};r=!0}catch(e){return T.reportIDKey({key:"pageNotFound",force:!0}),"AppServiceSdkKnownError"===e.type&&console.error(e.message),qu("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),{rewritten:!1,triggerNotFound:!1}}}return r?(EU[t]=e,kU(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),qu("rewriteRoute",{url:n,webviewId:t,fail(e){"rewriteRoute:fail:not supported"===e.errMsg&&(kU(`rewriteRoute from "${e.rawPath}" to "${n}" not supported, fallback to redirectTo`,t),IC({url:n}))}}),{rewritten:!0,triggerNotFound:!1}):{rewritten:!1,triggerNotFound:!0}},OU=Gt("PageNotFound"),RU=OU.onMethod,MU=OU.offMethod,DU={page:void 0,time:0,count:0};Rt("onPageNotFound",(()=>{v.info("Ignored onPageNotFound.")})),CU(((e,t=0)=>{v.info(`Page not found by onAppRoute.notFound, webviewId=${t}`),Fc.lastRoute="","string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=up(e.path)),DU.page&&DU.page===e.path?DU.count++:DU={page:e.path,time:Date.now(),count:1};var r=!0;Date.now()-DU.time<=3e3&&DU.count>3?(r=!1,console.error(`onPageNotFound error: page "${e.path}" is not found.`)):OU.emit(e);var n=OU.getGlobalListeners().length>0&&r;n||T.thirdErrorReport({error:new Error(`onPageNotFound error: page "${e.path}" is not found.`),extend:" at onPageNotFound"}),qu("pageNotFoundCallback",{hasHandler:n,webviewId:t})}));var NU=function(e,t,r){var n=H.global&&H.global.window&&H.global.window.restartStrategy,i=H.page&&H.page[e+".html"]&&H.page[e+".html"].window&&H.page[e+".html"].window.restartStrategy,a=String(i||n||"");if(a){var o={type:a,path:t,extraData:r?r.data:void 0,expireTimeStamp:(r?r.expireTimeStamp:0)||Date.now()+864e5};H.accountInfo.appId,oh("saveExitState",{appId:H.accountInfo.appId,data:o},[Fc.currentWebviewId],(e=>{}))}},LU=function(e){oh("loadExitState",{appId:H.accountInfo.appId},[Fc.currentWebviewId],(t=>t&&t.expireTimeStamp>Date.now()?e(t.type,t.path,t.extraData):e()))},BU=Gt("LazyLoadError"),$U=BU.onMethod,FU=BU.offMethod;or((()=>{ir.onLazyLoadError((e=>{BU.emit(e)}))}));var jU=(e,t)=>{"number"==typeof t&&ir.setLazyLoadTimeout(t),$U(e)},WU=Md("getWeComProfileInfo","webapi_getweworkprofileinfo",(({dataUrl:e})=>({wework_profile_url:e,scene:Jp().scene})),(e=>{e.corp_brief_name&&(e.name=e.corp_brief_name,delete e.corp_brief_name)})),UU="openWeComUserProfile",VU=e=>{ve&&(e.url=e.dataUrl,delete e.dataUrl),qu("openWeComUserProfile",e)},qU=e=>{yc(UU,e,{dataUrl:""})&&WU({...e,success:({name:t})=>{cP({title:`即将打开“${t}”的企业微信名片`,confirmText:"确定",cancelText:"取消",success:({confirm:t})=>{if(!t)return bc(UU,e,"cancel");VU(e)}})},fail:t=>{var r=t.errMsg.replace(/^\w+:fail\s*/,"");"1420103"===t.err_code&&(r="小程序和企业主体不同"),bc(UU,e,r,t.err_code)}})},zU,GU=!ke&&Ce,HU=be||fe||GU||_e,KU={},QU={},JU=new Ft,XU={},YU={},ZU={},eV=["getCenterLocation","getRegion","getScale","includePoints","moveToLocation","translateMarker","setIndoorFloor","getIndoorFloor","setIndoorMaskColor","getRotate","getSkew","eraseLines","setCenterOffset","addCustomLayer","removeCustomLayer","moveAlong","initMarkerCluster","addMarkers","removeMarkers","on","off","once","toScreenLocation","fromScreenLocation","addGroundOverlay","updateGroundOverlay","removeGroundOverlay","openMapApp","setLocMarkerIcon","addVisualLayer","removeVisualLayer","addArc","removeArc","setBoundary","executeVisualLayerCommand"];function tV(e){XU[e]||(XU[e]=!0,NC(e,(e=>{delete XU[e],Object.keys(KU).forEach((t=>{new RegExp("^"+e).test(t)&&(delete QU[`${e}_${KU[t]}`],delete KU[t])})),Object.keys(YU).forEach((t=>{new RegExp("^api_"+e).test(t)&&(delete QU[`${e}_${KU[t.substr(4)]}`],delete YU[t])})),Object.keys(YU).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&(delete QU[t.substr(3)],delete YU[t])}))}),"MapContext"))}var rV=0;Br("mapInsert",((e,t)=>{var{nodeId:r,domId:n,mapId:i,pluginId:a}=e,o=`${t}_${a}_${n}_`;r&&r!==jp(t)&&(o+=r),KU[o]=i,QU[`${t}_${i}`]=e,JU.emit("mapInsert"),tV(t)})),Br("mapRemove",(({domId:e,mapId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==jp(i)&&(a+=n),delete KU[a],delete QU[`${i}_${t}`];var o=`api_${i}_${r}_${e}_`;n&&n!==jp(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete YU[o],delete YU[s]}));class nV{}Br("operateMapCallback",(e=>{var t=e.callbackId;t&&"function"==typeof ZU[t]&&(ZU[t](e),delete ZU[t])}));var iV=(zU=class{constructor(){var e=this.exportContext=new nV;eV.forEach((t=>e[t]=this[t].bind(this))),this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={}}get data(){return QU[`${this.webviewId}_${this.mapId}`]}on(e,t){this._listenerHandler("on",e,t)}off(e,t){this._listenerHandler("off",e,t)}once(e,t){this._listenerHandler("once",e,t)}_invoke(e,t,r){if(["openMapApp"].indexOf(e)<0&&(HU||["includeMapPoints","getMapMarker","hasUseShowLocation"].indexOf(e)>=0)){t.method=e;var n=`callback${this.webviewId}_${t.mapId}_${rV++}`;ZU[n]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=n,Or("operateMap",t,[this.webviewId])}else qu(e,t,r)}toScreenLocation(e={}){this._invokeMethod("toScreenLocation",e)}fromScreenLocation(e={}){this._invokeMethod("fromScreenLocation",e)}getCenterLocation(e={}){var t=this;t._invokeMethod("hasUseShowLocation",{complete(r){r.useShowLocation&&t._moveToEmptyLocation?j$({scope:"scope.userLocation",success(){t._invokeMethod("getMapCenterLocation",e)},fail(t){var r="user not authorized scope.userLocation";t.errMsg&&(r=t.errMsg.replace("authorize:fail","")),bc("getMapCenterLocation",e,r)}}):t._invokeMethod("getMapCenterLocation",e)}})}setLocMarkerIcon(e={}){if(yc("setLocMarkerIcon",e,{iconPath:""})){var t=Object.assign({},e);/^(wxfile|https?)/.test(t.iconPath)||(t.iconPath=jx(t.iconPath,!1)),this._invokeMethod("setMapLocMarkerIcon",t)}}getScale(e={}){this._invokeMethod("getMapScale",e,{beforeSuccess(e){e.scale=+Number.parseFloat(e.scale).toFixed(2)}})}getRegion(e={}){this._invokeMethod("getMapRegion",e)}moveToLocation(e={}){"number"!=typeof e.longitude||"number"!=typeof e.latitude?this._moveToEmptyLocation=!0:this._moveToEmptyLocation=!1,this._invokeMethod("moveToMapLocation",e)}addGroundOverlay(e={}){if(yc("addGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);/^(wxfile|https?)/.test(t.src)||(t.src=jx(t.src,!1)),this._invokeMethod("addMapGroundOverlay",t)}}openMapApp(e={}){yc("openMapApp",e,{longitude:0,latitude:0,destination:""})&&this._invokeMethod("openMapApp",e)}removeGroundOverlay(e={}){yc("removeGroundOverlay",e,{id:0})&&this._invokeMethod("removeMapGroundOverlay",e)}updateGroundOverlay(e={}){if(yc("updateGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);this._invokeMethod("updateMapGroundOverlay",t)}}moveAlong(e={}){if(yc("moveAlong",e,{duration:0,markerId:0,path:[]})){var t={autoRotate:!0};Object.assign(t,e),this._invokeMethod("moveMapMarkerAlong",t)}}addMarkers(e={}){if(yc("addMarkers",e,{markers:[]}))if(HU){var t=Object.assign({clear:!1},e);this._invokeMethod("addMapMarkers",t)}else{var r=e.markers.map(((e={})=>{ze(e.id)||ze(e.clusterId)||console.warn("marker id must be a number");var t=Object.assign({},e);t.anchor=et(t.anchor)?t.anchor:{x:.5,y:1},t.alpha=ze(t.alpha)?t.alpha:1,t.rotate=ze(t.rotate)?t.rotate:0;var r=t.iconPath;return qe(r)&&!/^(wxfile|https?)/.test(r)&&(t.iconPath=jx(r,!1)),et(t.label)&&(t.label=Object.assign({content:"",color:"#000000",fontSize:12,borderRadius:0,borderWidth:0,borderColor:"#000000",bgColor:"#00000000",padding:0,anchorX:0,anchorY:0,textAlign:"right"},t.label)),et(t.callout)?(t.callout=Object.assign({content:"",color:"#000000",fontSize:12,display:"BYCLICK",borderRadius:0,borderWidth:0,borderColor:"#00000000",bgColor:"#ffffff",padding:0,anchorX:0,anchorY:0,textAlign:"center"},t.callout),t.callout.display="ALWAYS"===t.callout.display?1:0):qe(t.title)&&(t.callout={content:t.title,bgColor:"#FFFFFF",padding:10,display:0,textAlign:"center"}),delete t.title,t.data=JSON.stringify({markerId:t.id}),t})),n={};r.forEach(((e,t)=>{var r=e.iconPath;qe(r)&&/^cloud:/.test(r)&&(n[r]||(n[r]=[]),n[r].push(t))}));var i=Object.keys(n);qx(i,"image",(t=>{var a=[...t.data.map((e=>e.url))];a.forEach(((e,t)=>{n[i[t]].forEach((t=>{r[t].iconPath=e}))}));var o=Object.assign({clear:!1},e,{markers:r});this._invokeMethod("addMapMarkers",o)}))}}removeMarkers(e={}){if(yc("removeMarkers",e,{markerIds:[]})){var t=Object.assign({},{markers:e.markerIds},e);this._invokeMethod("removeMapMarkers",t)}}initMarkerCluster(e={}){var t=Object.assign({enableDefaultStyle:!0,zoomOnClick:!0,gridSize:60},e);this._invokeMethod("initMapMarkerCluster",t)}translateMarker(e={}){var t=e.markerId;if(void 0!==t)if(e.destination)if(this._translating[t])this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e];else{if(!this._isGetMarkerPos[t])return this._translating[t]=!0,this._invokeMethod("getMapMarker",{markerId:t,success:e=>{this._lastMarkerPos[t]=e.pos},complete:()=>{this._isGetMarkerPos[t]=!0,this._translating[t]=!1;var e=this._delayTranslate[t];e&&e.length&&this.translateMarker(e.shift())}}),void(this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e]);0===e.duration&&(e.duration=1);var r={markerId:t,keyFrames:[],success:t=>{"function"==typeof e.success&&e.success.call(this,t),"function"==typeof e.animationEnd&&e.animationEnd.call(this)},fail:r=>{this._delayTranslate[t]=[],"function"==typeof e.fail&&e.fail.call(this,r)},complete:r=>{"function"==typeof e.complete&&e.complete.call(this,r),this._translating[t]=!1;var n=this._delayTranslate[t];n&&n.length&&this.translateMarker(n.shift())}},n=0,i=this._lastMarkerPos[t],a=e.destination,o=!(i&&i.latitude===a.latitude&&i.longitude===a.longitude);if(e.autoRotate||"number"!=typeof e.rotate){var s,l;if(i){var c=a.latitude-i.latitude,u=a.longitude-i.longitude,d=c/u||0;s=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(d)/Math.PI))*(c>0?-1:1)}"number"==typeof this._lastMarkerDeg[t]&&(l=s-this._lastMarkerDeg[t],Math.abs(l)>180&&(l=l>0?l-360:l+360),Math.abs(l)>3&&e.autoRotate&&o&&(n=l)),(Math.abs(l)>3&&e.autoRotate||void 0===this._lastMarkerDeg[t])&&(this._lastMarkerDeg[t]=s)}else{var p=e.rotate-(this._lastMarkerDeg[t]||0);Math.abs(p)>3&&(Math.abs(p)>180&&(p=p>0?p-360:p+360),n=p,this._lastMarkerDeg[t]=e.rotate)}var h="number"==typeof e.duration?e.duration:1e3;e.moveWithRotate?r.keyFrames.push({rotate:n,duration:h,...e.destination}):(o&&r.keyFrames.push({duration:h,...e.destination}),0!==n&&r.keyFrames.unshift({rotate:n,duration:Math.abs(n)<10?100:500})),r.keyFrames.length>0?(this._translating[t]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((()=>{r.success(),r.complete()})),this._lastMarkerPos[t]=e.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}includePoints(e={}){if(e.points&&e.points instanceof Array){e.points.forEach((e=>{e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}setIndoorFloor(e={}){e.buildingId?e.floorName?this._invokeMethod("setMapIndoorFloor",e):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}getIndoorFloor(e={}){this._invokeMethod("getMapIndoorFloor",e)}getRotate(e={}){this._invokeMethod("getMapRotate",e)}getSkew(e={}){this._invokeMethod("getMapSkew",e)}setIndoorMaskColor(e={}){this._invokeMethod("setMapIndoorMaskColor",e)}eraseLines(e={}){e.lines&&e.lines instanceof Array?this._invokeMethod("eraseMapLines",e):console.warn("MapContext.eraseLines: require lines")}setCenterOffset(e={}){var t=Object.assign({offset:[.5,.5],animated:!1},e);this._invokeMethod("setMapCenterOffset",t)}addCustomLayer(e={}){yc("addCustomLayer",e,{layerId:""})&&this._invokeMethod("addMapCustomLayer",e,{afterAll:e=>{var t,r,n,i;T.reportKeyValue({key:"MiniProgramCommercialMap",value:[2,/^\w+:ok/.test(e.errMsg||"")?1:0,null!==(t=null===(r=this.data)||void 0===r?void 0:r.subkey)&&void 0!==t?t:"",null!==(n=null===(i=this.data)||void 0===i?void 0:i.pluginId)&&void 0!==n?n:""].join(",")})}})}removeCustomLayer(e={}){yc("removeCustomLayer",e,{layerId:""})&&this._invokeMethod("removeMapCustomLayer",e)}addVisualLayer(e={}){yc("addVisualLayer",e,{layerId:""})&&this._invokeMethod("addMapVisualLayer",e)}removeVisualLayer(e={}){yc("removeVisualLayer",e,{layerId:""})&&this._invokeMethod("removeMapVisualLayer",e)}executeVisualLayerCommand(e={}){yc("executeVisualLayerCommand",e,{layerId:"",command:""})&&this._invokeMethod("executeMapVisualLayerCommand",e)}addArc(e={}){yc("addArc",e,{id:0,start:{},end:{}})&&this._invokeMethod("addMapArc",e)}removeArc(e={}){yc("removeArc",e,{id:0})&&this._invokeMethod("removeMapArc",e)}setBoundary(e={}){this._invokeMethod("setMapBoundary",e)}},F()(zU.prototype,"toScreenLocation",[At],Object.getOwnPropertyDescriptor(zU.prototype,"toScreenLocation"),zU.prototype),F()(zU.prototype,"fromScreenLocation",[At],Object.getOwnPropertyDescriptor(zU.prototype,"fromScreenLocation"),zU.prototype),F()(zU.prototype,"getCenterLocation",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getCenterLocation"),zU.prototype),F()(zU.prototype,"setLocMarkerIcon",[At],Object.getOwnPropertyDescriptor(zU.prototype,"setLocMarkerIcon"),zU.prototype),F()(zU.prototype,"getScale",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getScale"),zU.prototype),F()(zU.prototype,"getRegion",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getRegion"),zU.prototype),F()(zU.prototype,"moveToLocation",[At],Object.getOwnPropertyDescriptor(zU.prototype,"moveToLocation"),zU.prototype),F()(zU.prototype,"addGroundOverlay",[At],Object.getOwnPropertyDescriptor(zU.prototype,"addGroundOverlay"),zU.prototype),F()(zU.prototype,"openMapApp",[At],Object.getOwnPropertyDescriptor(zU.prototype,"openMapApp"),zU.prototype),F()(zU.prototype,"removeGroundOverlay",[At],Object.getOwnPropertyDescriptor(zU.prototype,"removeGroundOverlay"),zU.prototype),F()(zU.prototype,"updateGroundOverlay",[At],Object.getOwnPropertyDescriptor(zU.prototype,"updateGroundOverlay"),zU.prototype),F()(zU.prototype,"moveAlong",[At],Object.getOwnPropertyDescriptor(zU.prototype,"moveAlong"),zU.prototype),F()(zU.prototype,"addMarkers",[At],Object.getOwnPropertyDescriptor(zU.prototype,"addMarkers"),zU.prototype),F()(zU.prototype,"removeMarkers",[At],Object.getOwnPropertyDescriptor(zU.prototype,"removeMarkers"),zU.prototype),F()(zU.prototype,"initMarkerCluster",[At],Object.getOwnPropertyDescriptor(zU.prototype,"initMarkerCluster"),zU.prototype),F()(zU.prototype,"translateMarker",[At],Object.getOwnPropertyDescriptor(zU.prototype,"translateMarker"),zU.prototype),F()(zU.prototype,"includePoints",[At],Object.getOwnPropertyDescriptor(zU.prototype,"includePoints"),zU.prototype),F()(zU.prototype,"setIndoorFloor",[At],Object.getOwnPropertyDescriptor(zU.prototype,"setIndoorFloor"),zU.prototype),F()(zU.prototype,"getIndoorFloor",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getIndoorFloor"),zU.prototype),F()(zU.prototype,"getRotate",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getRotate"),zU.prototype),F()(zU.prototype,"getSkew",[At],Object.getOwnPropertyDescriptor(zU.prototype,"getSkew"),zU.prototype),F()(zU.prototype,"setIndoorMaskColor",[At],Object.getOwnPropertyDescriptor(zU.prototype,"setIndoorMaskColor"),zU.prototype),F()(zU.prototype,"eraseLines",[At],Object.getOwnPropertyDescriptor(zU.prototype,"eraseLines"),zU.prototype),F()(zU.prototype,"setCenterOffset",[At],Object.getOwnPropertyDescriptor(zU.prototype,"setCenterOffset"),zU.prototype),F()(zU.prototype,"addCustomLayer",[At],Object.getOwnPropertyDescriptor(zU.prototype,"addCustomLayer"),zU.prototype),F()(zU.prototype,"removeCustomLayer",[At],Object.getOwnPropertyDescriptor(zU.prototype,"removeCustomLayer"),zU.prototype),F()(zU.prototype,"addVisualLayer",[At],Object.getOwnPropertyDescriptor(zU.prototype,"addVisualLayer"),zU.prototype),F()(zU.prototype,"removeVisualLayer",[At],Object.getOwnPropertyDescriptor(zU.prototype,"removeVisualLayer"),zU.prototype),F()(zU.prototype,"executeVisualLayerCommand",[At],Object.getOwnPropertyDescriptor(zU.prototype,"executeVisualLayerCommand"),zU.prototype),F()(zU.prototype,"addArc",[At],Object.getOwnPropertyDescriptor(zU.prototype,"addArc"),zU.prototype),F()(zU.prototype,"removeArc",[At],Object.getOwnPropertyDescriptor(zU.prototype,"removeArc"),zU.prototype),F()(zU.prototype,"setBoundary",[At],Object.getOwnPropertyDescriptor(zU.prototype,"setBoundary"),zU.prototype),zU);class aV extends iV{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new ip("Parameter 1 should be a string");this.domId=e,this.pluginId=n,this.webviewId=t,this.nodeId=r}get mapId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return KU[e]}_invokeMethod(e,t,r={}){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;"number"==typeof KU[n]||KU[n]?(t.mapId=KU[n],this._invoke(e,t,r)):JU.on("mapInsert",(()=>{t.mapId=KU[n],this._invoke(e,t,r)}))}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n,i=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,a=this.webviewId;"number"==typeof KU[i]||KU[i]?(n=KU[i],pV[e](`${t}_${a}_${n}`,r)):JU.on("mapInsert",(()=>{n=KU[i],pV[e](`${t}_${a}_${n}`,r)}))}}}class oV extends iV{constructor(e,t){super(),this.mapId=e,this.webviewId=t}_invokeMethod(e,t,r={}){t.mapId=this.mapId,this._invoke(e,t,r)}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n=this.webviewId,i=this.mapId;pV[e](`${t}_${n}_${i}`,r)}}}var sV=(e,t,r="",n="")=>{var i=`api_${t}_${n}_${e}_`;if(r&&r!==jp(t)&&(i+=r),YU[i])return YU[i].exportContext;var a=new aV(e,t,r,n);return YU[i]=a,a.exportContext},lV=(e,t)=>{var r=`SQ_${t}_${e}`;if(YU[r])return YU[r].exportContext;var n=new oV(e,t);return YU[r]=n,n.exportContext},cV=(e,t,r)=>{e=e||[];var n=[],i=[];if("onTouchStart"===t){for(var a=0;a<e.length;++a)n.push(e[a]);var o={x:r.touch.x,y:r.touch.y,identifier:r.touch.id};i.push(o),n.push(o)}else if("onTouchMove"===t)for(var s=0;s<e.length;++s){for(var l=e[s],c=!1,u=0;u<r.touches.length;++u){var d={x:r.touches[u].x,y:r.touches[u].y,identifier:r.touches[u].id};if(d.identifier===l.identifier&&(l.x!==d.x||l.y!==d.y)){n.push(d),i.push(d),c=!0;break}}c||n.push(l)}else if("onTouchEnd"===t)for(var p={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},h=0;h<e.length;++h){var f=e[h];f.identifier===p.identifier?i.push(p):n.push(f)}else if("onTouchCancel"===t)for(var g=0;g<r.touches.length;++g){var v={x:r.touches[g].x,y:r.touches[g].y,identifier:r.touches[g].id};i.push(v)}else if("onLongPress"===t){for(var m={x:r.touch.x,y:r.touch.y,identifier:r.touch.id},y=0;y<e.length;++y)e[y].identifier===m.identifier?n.push(m):n.push(e[y]);i.push(m)}return{touches:n,changedTouches:i}},uV={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"},dV=(e,t,r)=>{Or(`${e}FromAppService`,t,[r])},pV=new jt({maxListeners:2e5}),hV={onMapMarkerClusterCreate:"markerClusterCreate",onMapMarkerClusterClick:"markerClusterClick",onMapVisualLayerEvent:"visualLayerEvent"};Object.keys(hV).forEach((e=>{Yt(e,((t={},r=0)=>{var n=t.mapId,i=hV[e];delete t.mapId,pV.emit(`${i}_${r}_${n}`,t)}))})),Br("mapEvent",((e,t)=>{var r=e.res,n=e.mapId,i=e.event;pV.emit(`${i}_${t}_${n}`,r)})),Rt("onMapMarkerClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];if(r&&r.bindmarkertap&&"function"==typeof Fc.webviewEventCallback){var n=JSON.parse(e.data);Fc.webviewEventCallback({data:{type:"markertap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindmarkertap,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapCalloutClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];if(r&&r.bindcallouttap&&"function"==typeof Fc.webviewEventCallback){var n=JSON.parse(e.data);Fc.webviewEventCallback({data:{type:"callouttap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindcallouttap,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapLabelClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];if(r&&r.bindlabeltap&&"function"==typeof Fc.webviewEventCallback){var n=JSON.parse(e.data);Fc.webviewEventCallback({data:{type:"labeltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId,_userTap:!0},eventName:r.bindlabeltap,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapControlClick",((e={},t=0)=>{if(cT(),e.data&&"function"==typeof Fc.webviewEventCallback){var r=JSON.parse(e.data);r.bindcontroltap&&Fc.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),Br("onMapControlTap",(({data:e},t)=>{if(cT(),e&&"function"==typeof Fc.webviewEventCallback){var r=JSON.parse(e);r.bindcontroltap&&Fc.webviewEventCallback({data:{type:"controltap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{controlId:r.controlId},controlId:r.controlId,_userTap:!0},eventName:r.bindcontroltap,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapRegionChange",((e={},t=0)=>{var r=QU[`${t}_${e.mapId}`];if(r&&r.bindregionchange&&"function"==typeof Fc.webviewEventCallback){var n={type:e.type,rotate:e.rotate,skew:e.skew,gesture:e.gesture,scale:+Number.parseFloat(e.scale).toFixed(2),centerLocation:e.centerLocation,region:e.region},i={target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{type:e.type,causedBy:e.causedBy},type:e.type,causedBy:e.causedBy};"end"===e.type&&(i.detail=n),Fc.webviewEventCallback({data:i,eventName:r.bindregionchange,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];r&&r.bindtap&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"tap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindtap,webviewId:t,nodeId:r.nodeId})})),Rt("onMapPoiClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];if(r&&r.bindpoitap&&"function"==typeof Fc.webviewEventCallback){var n={name:e.name,longitude:e.longitude,latitude:e.latitude};e.buildingId&&(n.buildingId=e.buildingId),e.floorName&&(n.floorName=e.floorName),Fc.webviewEventCallback({data:{type:"poitap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:n,_userTap:!0},eventName:r.bindpoitap,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapIndoorChange",((e={},t=0)=>{var r=QU[`${t}_${e.mapId}`];if(r&&r.bindindoorchange&&"function"==typeof Fc.webviewEventCallback){var n={buildingId:e.buildingId,buildingName:e.buildingName,floorIndex:e.floorIndex,floorList:e.floorList};Fc.webviewEventCallback({data:{target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:n,info:n},eventName:r.bindindoorchange,webviewId:t,nodeId:r.nodeId})}})),Rt("onMapAnchorPointClick",((e={},t=0)=>{cT();var r=QU[`${t}_${e.mapId}`];r&&r.bindanchorpointtap&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"anchorpointtap",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude},_userTap:!0},eventName:r.bindanchorpointtap,webviewId:t,nodeId:r.nodeId})}));var fV=["onMapAuthFail","onMapAuthSuccess"];function gV(e,t,r="",n=""){var i=`canvas_${e}_${t}_${r}_`;return n&&n!==jp(e)&&(i+=n),i}function vV(e){var t=[],r=1;return subscribe(e,(e=>{for(var r=-1,n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){r=n,o(e);break}}r>=0&&t.splice(r,1)})),function(e,n){e.cid=r++,t.push([e,n])}}function mV(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return $S(t)}function yV(e){for(var t=FS(e),r=t.length,n=new Uint8ClampedArray(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function _V(e,t,r,n){var i=e;if(r||t){r=r.split("/")[0];var a=Fp(t,n),o=a&&a.is||"";if(r)if(0===i.indexOf("/"))i=$p(n,r)+Ap(o,i,!1).replace(/\.html$/,"");else i=Ap(ir.convertComponentAliasToRoute(o),i,!1).replace(/\.html$/,"");else i=Ap(o,i,!1).replace(/\.html$/,"")}else i=Ap(Fc.lastRoute,i,!1).replace(/.html$/,"");return i}function bV(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e||/wxfile:\/\//.test(e)?e:_V(e,t,r,n)}function wV(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+bV(e,t,r,n)}function SV(e){var t=e.setSrc.bind(e),r=e.getSrc.bind(e),n=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):()=>{},i=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):()=>{};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set(e){t(e)},get:()=>r()}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set(e){i(e)},get:()=>n()}),e}function CV(e){return e&&e.length>0&&e.forEach((e=>{e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function IV(e){return e&&e.length>0&&e.forEach((e=>{e.clientX=e.x,e.clientY=e.y,e.pageX=e.x,e.pageY=e.y})),e}function AV(...e){return function(...t){for(var r,n=0;n<e.length;++n){var i=e[n];"function"==typeof i&&(r=0===n?i(...t):i.call(null,r))}return r}}function kV(){if(ve&&Pe()){var e=255&Number(H.host.version);if(e>=16&&e<=31)return!0}return!1}fV.forEach((e=>{Rt(e,((t={},r=0)=>Or(e,t,[r])))}));var EV=/[;/?:@&=+$,a-zA-Z0-9\-_.!~*'()#%]/,TV;function PV(e){for(var t,r=e.length,n="",i=0;i<r;++i)t=e.charAt(i),EV.test(t)?n+=t:n+=encodeURI(t);return n}function xV(e){TV=e}function OV(e,t,r){TV&&TV(e,t,r)}var RV={},MV={};function DV(e,t){if(v.info(`assign canvas [${e}] to xrFrame [${t}]`),RV[e]=t,Array.isArray(MV[e])){var r=MV[e];delete MV[e],r.forEach((({type:e,evt:r})=>{OV(t,e,r)}))}}function NV(e,t,r){var n=RV[e];void 0===n?(Array.isArray(MV[e])||(MV[e]=[]),MV[e].push({type:t,evt:r})):OV(n,t,r)}var LV={},BV={},$V={},FV={},jV={},WV={},UV={},VV=new WeakMap,qV=new WeakMap,zV={},GV={},HV=new WeakMap,KV=e=>LV[e],QV=e=>VV.get(e),JV=(e,t)=>{LV[e]=t,BV[e]&&BV[e]()},XV=e=>$V[e]=$V[e]||new Promise((t=>{var r=BV[e]=()=>{var r=KV(e);r&&(t(r),delete BV[e])};r()})),YV=(e,t,r,n)=>{var i=gV(e,t,r,n);return FV[i]},ZV=(e,t,r,n)=>{var i=gV(e,t,r,n);return WV[i]=WV[i]||new Promise((a=>{(jV[i]=()=>{var o=YV(e,t,r,n);void 0!==o&&(a(o),delete jV[i])})()}))},eq=(e,t,r,n,i)=>{var a=gV(e,t,r,n);FV[a]=i,jV[a]&&jV[a]()},tq=e=>HV.get(e),rq=(e,t,r,n)=>{var i=gV(e,t,r,n);delete FV[i],delete WV[i],delete jV[i]},nq=e=>UV[e],iq=(e,t)=>{UV[e.canvasNumber]=t,VV.set(t,e)},aq=e=>qV.get(e),oq=e=>{var t=nq(e);if(t)return qV.get(t)},sq=(e,t,r)=>{qV.set(t,r),HV.set(r,e),zV[e]&&zV[e]()},lq=e=>GV[e]=GV[e]||new Promise((t=>{(zV[e]=()=>{var r=oq(e);r&&(t(r),delete zV[e])})()}));Br("canvasInserted",((e,t)=>{var{canvasNumber:r,canvasId:n,pluginId:i,nodeId:a}=e;JV(r,{...e,webviewId:t,lastTouches:[]}),n&&eq(t,n,i,a,r),NC(t,(()=>cq(r)),`Canvas#${r}`),e.isXrFrame&&NV(e.canvasId,"resize",{width:e.width,height:e.height,renderWidth:e.renderWidth,renderHeight:e.renderHeight})})),Br("canvasUpdated",(({canvasNumber:e,data:t,width:r,height:n,renderWidth:i,renderHeight:a,top:o,left:s,hidden:l},c)=>{var u=KV(e);if(u){void 0!==r&&(u.top=o,u.left=s,u.width=r,u.height=n),void 0!==l&&(u.hidden=l),void 0!==a&&u.isXrFrame&&(u.renderWidth=i,u.renderHeight=a);var d=nq(e);d&&d._onUpdated(u),u.isXrFrame&&NV(u.canvasId,"resize",{width:r,height:n,renderWidth:i,renderHeight:a})}}));var cq=e=>{var t=KV(e);if(t){var r=nq(e);r&&r._onRemoved(),be&&Af.removeOffScreenCanvas(t.canvasNumber),delete LV[e],delete BV[e],delete $V[e],t.canvasId&&rq(t.webviewId,t.canvasId,t.pluginId,t.nodeId),delete UV[e],delete zV[e],delete GV[e]}};Br("canvasRemoved",(({canvasNumber:e},t)=>{cq(e),Or("canvasRemovedCallback_"+e,{canvasNumber:e},[t])}));var uq=0,dq=new Map;Br("onCanvasMethodCallback",(e=>{dq.forEach((t=>t(e)))}));var pq=function(){var e=Hp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++uq;dq.set(a,(e=>{if(e.cid===a){dq.delete(a);var{errMsg:t,result:r}=e;t?i(new Error(`executeCanvasMethod failed: ${t}`)):n(r)}})),Or("invokeCanvasMethod",{...r,canvasNumber:e,method:t,cid:a})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),hq=0,fq=new Map;Br("onDrawCanvas",(e=>{fq.forEach((t=>t(e)))}));var gq=function(){var e=Hp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++hq;fq.set(a,(e=>{if(e.cid===a){fq.delete(a);var{errMsg:t}=e;t?i(new Error(`executeWebviewCanvasDraw failed: ${t}`)):n()}})),Or("canvasActionsChanged",{canvasNumber:e,cid:a,actions:t,reserve:r})}))}));return function(t,r,n){return e.apply(this,arguments)}}();function vq(e,t,r,n){if("onLongPress"!==e){var i=KV(t.canvasNumber),{touches:a,changedTouches:o}=cV(i.lastTouches,e,r);i.lastTouches=a,i[e]&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:uV[e],timeStamp:new Date-i.startTime,target:i.target,touches:IV(a),changedTouches:IV(o)},eventName:i[e],webviewId:n,nodeId:i.nodeId})}}function mq(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}H.onReady((()=>{["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach((e=>{Yt(e,((t,r=0)=>{var n=null;try{n=JSON.parse(t.data)}catch(e){}if(n){var{canvasNumber:i,skia:a,type:o}=n;if("TextView"!==o&&"ImageView"!==o)if("android-webgl"!==o){var s=KV(i);if(s){var l=s.data,{touches:c,changedTouches:u}=cV(l.lastTouches,e,t);l.lastTouches=c,l[e]&&"function"==typeof Fc.webviewEventCallback&&("onTouchMove"===e&&0===u.length||Fc.webviewEventCallback({data:{type:uV[e],timeStamp:new Date-l.startTime,target:l.target,touches:c,changedTouches:u},eventName:l[e],webviewId:r,nodeId:n.nodeId}))}}else vq(e,n,t,r)}}))}))}));var yq={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},_q=0;function bq(){var e=0;return{get(){if(e>0)return e;if(0===_q)throw Error("initTime not ready");return e=_q},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==h?h.onLoad((()=>{yq.offset=Date.now(),_q=Date.now()})):(yq.offset=Date.now(),_q=Date.now());var wq=new Set([1177,1184,1200,1228]),Sq=new Set([0,1,2,7]),Cq=()=>{var{scene:e}=Jp();return wq.has(e)&&Sq.has(H.appType)},Iq={Unknown:"",Moving:"moving",Parking:"parking"},Aq={status:Iq.Unknown},kq="onVehicleStatusUpdated",Eq=e=>{Aq=e,Or(kq,e)};Rt(kq,Eq);var Tq=()=>Aq,Pq=function(){var e=Hp()((function*(){return Aq}));return function(){return e.apply(this,arguments)}}(),xq=Pc("getVehicleStatus",Pq),Oq,Rq=fe||be||_e,Mq={},Dq={},Nq={},Lq=new Ft,Bq={},$q=new WeakMap,Fq={},jq={},Wq=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster","startCasting","switchCasting","reconnectCasting","exitCasting"],Uq={},Vq={},zq=!0,Gq=!0,Hq=Object.keys;function Kq(e){Bq[e]||(Bq[e]=!0,NC(e,(e=>{delete Bq[e],Hq(Mq).concat(Hq(Dq)).forEach((t=>{new RegExp("^"+e).test(t)&&delete Mq[t]})),Hq(Fq).forEach((t=>{(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete Fq[t]})),_e&&qu("setKeepScreenOn",{keepScreenOn:!1},{})}),"VideoContext"))}Br("updateVideoPictureInPicture",((e={},t)=>{Nq.webviewId=t,Nq.playerId=e.playerId})),Br("videoAdPlay",(({videoPlayerId:e,type:t},r)=>{jq[`${r}_${e}`]=t})),Br("videoPlayerInsert",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n,nodeInfo:i,data:a},o)=>{var s=`${o}_${r}_${e}_`;n&&n!==jp(o)&&(s+=n),Mq[s]=t,tz(i,t,o),Lq.emit("videoPlayerInsert"),Kq(o),Vq[`${o}_${t}`]=a||{}})),Br("xWebVideoInserted",(({domId:e,viewId:t,pluginId:r,nodeId:n,data:i},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==jp(a)&&(o+=n),Mq[o]=t,Vq[`${a}_${t}`]=i||{},Lq.emit("videoPlayerInsert"),Kq(a)})),Br("videoPlayerUpdated",(({action:e,value:t,videoPlayerId:r},n)=>{rz({_videoId:r,_webviewId:n},e,t)})),Br("videoPlayerRemoved",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==jp(i)&&(a+=n),delete Mq[a],nz(t,i);var o=`api_${i}_${r}_${e}_`;n&&n!==jp(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete Fq[o],delete Fq[s],delete Vq[`${i}_${t}`]})),Br("xWebVideoRemoved",(({domId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==jp(n)&&(i+=r);var a=Mq[i];delete Mq[i],delete Vq[`${n}_${a}`]})),Br("xWebVideoSupported",(({isXWebSupported:e})=>{zq=zq&&e})),Br("insertVideoToWebLayerStateChanged",(({viewId:e,inserted:t},r)=>{Uq[`${r}_${e}`]=t}));var Qq={},Jq=mq();Br("onGetVideoInfo",(({callbackId:e,info:t}={})=>{var r=Qq[e];Qq[e]=null,r&&r(t)})),H.onReady((()=>{H.global&&H.global.window&&"seperated"===H.global.window.renderingMode&&(Gq=!1,zq=!1)}));class Xq{}var Yq=(Oq=class{constructor(e,t){var r=this.exportContext=new Xq;Wq.forEach((e=>{r[e]=this[e].bind(this)})),r._videoId=e,r._webviewId=t}play(){var e=this._getAppStatus();e===Rc.BACK_GROUND||e===Rc.LOCK||Tq().status===Iq.Moving||this._invokeMethod("play")}pause(){this._invokeMethod("pause")}stop(){this._invokeMethod("stop")}seek(e,t="accurate"){if("accurate"!==t&&"inaccurate"!==t)throw new ip("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}sendDanmu({text:e,color:t}){this._invokeMethod("sendDanmu",[e,t])}playbackRate(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}requestFullScreen(e={}){var t=tp(),r=oB(rB.onVideoFullScreenChange);if(this._getInfo((e=>{PL("VideoContext.requestFullScreen",{src:e.src},t,r)})),Cq())gP({icon:"none",title:"该场景不支持全屏"});else if(!r){var n=e.direction;[0,90,-90].indexOf(n)>-1?this._invokeMethod("requestFullScreen",[n]):this._invokeMethod("requestFullScreen"),$q.set(this,!0)}}exitFullScreen(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),$q.set(this,!1)}showStatusBar(e={}){qu("showStatusBar",e)}hideStatusBar(e={}){if(ge){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!$q.get(this)){var r="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:r}),void("function"==typeof e.complete&&e.complete({errMsg:r}))}qu("hideStatusBar",e)}exitPictureInPicture(e={}){if(Nq){var t=Nq.playerId;ve?qu("operateVideoPlayer",{...e,videoPlayerId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):ge&&qu("operateXWebVideo",{...e,viewId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}requestBackgroundPlayback(){this._invokeMethod("requestBackgroundPlayback",[])}exitBackgroundPlayback(){this._invokeMethod("exitBackgroundPlayback",[])}hidePoster(){this._invokeMethod("hidePoster")}startCasting(e){tp()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){tp()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){tp()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){tp()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r){"number"==typeof e?function(){if("begin"!==jq[`${this.webviewId}_${e}`])if(Gq&&(ge&&zq||ve&&Uq[`${this.webviewId}_${e}`])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play"].indexOf(t)>-1)Or(`video_${this.webviewId}_${e}_actionChanged`,{method:t,data:r},[this.webviewId]);else{var n=this._getAppStatus();if(!Rq&&n===Rc.BACK_GROUND&&"stop"===t){var i="operateVideoPlayerBackground";return ge&&zq&&(i="operateXWebVideoBackground"),void qu(i,{viewId:e,videoPlayerId:e,type:t})}Rq?(this._sendAction(e,{method:t,data:r}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&rz(this.exportContext,t,r&&r[0])):ge&&zq?qu("operateXWebVideo",{viewId:e,type:t,data:r}):qu("operateVideoPlayer",{data:r,videoPlayerId:e,type:t})}else console.error(`${t}:fail cannot operate video while ad playing.`)}.apply(this):Lq.once("videoPlayerInsert",(()=>{this._invokeMethod(t,r)}))}_sendActionWithEvnetName(e,t){Or(e,t,[this.webviewId])}_getInfo(e){var t=Jq.next();Qq[t]=e;var r=this._getVideoPlayerId();r?this._sendActionWithEvnetName(`video_${this.webviewId}_${r}_getInfo`,{callbackId:t}):Lq.once("videoPlayerInsert",(()=>{this._sendActionWithEvnetName(`video_${this.webviewId}_${this._getVideoPlayerId()}_getInfo`,{callbackId:t})}))}_getAppStatus(){return Fc.appStatus}_getHanged(){return Fc.hanged}},F()(Oq.prototype,"startCasting",[At],Object.getOwnPropertyDescriptor(Oq.prototype,"startCasting"),Oq.prototype),F()(Oq.prototype,"switchCasting",[At],Object.getOwnPropertyDescriptor(Oq.prototype,"switchCasting"),Oq.prototype),F()(Oq.prototype,"reconnectCasting",[At],Object.getOwnPropertyDescriptor(Oq.prototype,"reconnectCasting"),Oq.prototype),F()(Oq.prototype,"exitCasting",[At],Object.getOwnPropertyDescriptor(Oq.prototype,"exitCasting"),Oq.prototype),Oq);class Zq extends Yq{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new ip("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}_getVideoPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return Mq[e]}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}class ez extends Yq{constructor(e,t){super(e,t),this.videoPlayerId=e,this.webviewId=t}_getVideoPlayerId(){return this.videoPlayerId}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}function tz(e,t,r){if(fe){var n=document.createElement("video");e.elem=n,Dq[`${r}_${t}`]=e,n.controls=!1,n.preload="auto",n.muted=!0,n.autoplay=e.autoplay,n.style.width=e.width+"px",n.style.height=e.height+"px"}}function rz(e,t,r){if(fe&&void 0!==e._webviewId){var n=Dq[`${e._webviewId}_${e._videoId}`].elem;switch(t){case"setSrc":n.src=r;break;case"play":n.play();break;case"pause":case"stop":n.pause();break;case"seek":0===n.readyState||1===n.readyState?n.oncanplay=()=>{n.currentTime=r,n.oncanplay=null}:n.currentTime=r;break;case"playbackRate":n.playbackRate=r}}}function nz(e,t){delete Dq[`${t}_${e}`]}function iz(e){return Dq[`${e._webviewId}_${e._videoId}`].elem}function az(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==jp(t)&&(i+=r),Fq[i])return Fq[i].exportContext;var a=new Zq(e,t,r,n);return Fq[i]=a,a.exportContext}function oz(e,t){var r=`SQ_${t}_${e}`;if(Fq[r])return Fq[r].exportContext;var n=new ez(e,t);return Fq[r]=n,n.exportContext}var sz=["onVideoPlay","onVideoPause","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoProgress","onVideoBackgroundPlaybackChange"];H.onReady((()=>{ge&&(sz=sz.map((e=>e.replace("on","onXWeb"))).concat(sz)),sz.forEach((e=>{Yt(e,((t={},r)=>{"skyline"===Ir(r)&&dV(e,t,r);var n=`bind${e.replace("XWeb","").substring(7).toLowerCase()}`,{handlers:i,event:a,createdTimestamp:o,nodeId:s}=JSON.parse(t.data);if(i){var l=JSON.parse(t.data);if(t.videoPlayerId=t.videoPlayerId||l&&l.videoPlayerId||"-1000",i[n]&&"function"==typeof Fc.webviewEventCallback){var c={type:n.substring(4),target:a.target,currentTarget:a.currentTarget,timeStamp:(t.timeStamp||Date.now())-o,detail:{}};if("bindtimeupdate"===n&&(c.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===n){var u=t.direction;u=0===u||180===u||"vertical"===u?"vertical":"horizontal",c.detail={fullScreen:t.fullScreen,fullscreen:t.fullScreen,direction:u}}"binderror"===n?c.detail={errMsg:t.errMsg}:"bindprogress"===n?c.detail={buffered:t.buffered}:"bindbackgroundplaybackchange"===n&&(c.detail={playInBackground:t.playInBackground}),Fc.webviewEventCallback({data:c,eventName:i[n],webviewId:r,nodeId:s})}}}))}))})),Rt("onEnterVideoPictureInPicture",((e={})=>{var t=Nq.webviewId,r=Vq[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Rt("onLeaveVideoPictureInPicture",((e={})=>{var t=Nq.webviewId,r=Vq[`${t}_${e.videoPlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.event.target,currentTarget:r.event.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var lz=!1,cz={};Br("enableCoverViewScrollEventTransfer",(({nodeId:e})=>{cz[e]=!0})),Br("disableCoverViewScrollEventTransfer",(({nodeId:e})=>{cz[e]=!1})),Rt("onScrollViewScroll",((e={},t=0)=>{if(lz||(setTimeout((()=>{lz=!1}),500),qu("hideKeyboard",{}),lz=!0),e.data&&"function"==typeof Fc.webviewEventCallback){var r=JSON.parse(e.data);r.bindscroll&&Fc.webviewEventCallback({data:{type:"scroll",target:r.target,currentTarget:r.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-r.timeStamp},eventName:r.bindscroll,webviewId:t,nodeId:r.nodeId}),cz[r.nodeId]&&Or("coverViewScrollEvent",{nodeId:r.nodeId,scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})}}));var uz=new Set,dz=new WeakMap,pz={service:"service",plugin:"plugin"},hz={[pz.service]:0,[pz.plugin]:0},fz={add(e,t){uz.add(e),dz.set(e,t),hz[t]++},remove(e){var t=dz.get(e);uz.delete(e)&&(dz.delete(e),hz[t]--)},get size(){return uz.size},getSizeByType:e=>hz[e]};const gz=fz;var vz={UNLOCKED:0,LOCKING:1,LOCKED:2},mz=new WeakMap,yz=new Map,_z=ArrayBuffer,bz;function wz(e){h.onLoad((()=>{Ee||bz.new||e(bz)}))}h.onLoad((()=>{bz="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?_z=__global.SharedArrayBuffer:g.g.SharedArrayBuffer&&(_z=g.g.SharedArrayBuffer))}));class Sz{constructor(e,t){if(!ze(e)||e<0)throw new ip(`Invalid array buffer length ${e}`);if(ze(t)){var r;try{r=bz.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new _z(e),writable:!1,enumerable:!0});var n=bz.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var i={writeStatus:vz.UNLOCKED,readStatus:vz.UNLOCKED,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};mz.set(this,i),yz.set(this._sabId,this)}destroy(){var e=mz.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],yz.delete(this._sabId),mz.get(this).destroyed=!0,this.unlock(),bz.destroy(this._sabId)}lock(e,t=!1){var r=mz.get(this),{destroyed:n,writeStatus:i,readStatus:a,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new ip("SharedArrayBuffer has been destroyed");if(!it(e))throw new ip("callback must be a function");i!==vz.LOCKED?(o.push(e),i===vz.LOCKING||(r.writeStatus=vz.LOCKING,r.writeLockId=bz.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=vz.LOCKED,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=mz.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:i,destroyed:a}=e;a?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==vz.LOCKING&&n!==vz.LOCKED||(bz.Unlock(this._sabId,t),e.writeStatus=vz.UNLOCKED,e.writeLockId=void 0,e.writeLockCallbacks=[]),i!==vz.LOCKING&&i!==vz.LOCKED||(bz.Unlock(this._sabId,r),e.readStatus=vz.UNLOCKED,e.readLockId=void 0,e.readLockCallbacks=[]))}}var Cz=e=>Ee?{buffer:new ArrayBuffer(e)}:new Sz(e),Iz=e=>yz.has(e)?yz.get(e):new Sz(0,e),Az=e=>Ee?e:et(e)?ze(e._sabId)?Iz(e._sabId):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=Az(n),t}),{}):nt(e)?e.map(Az):e,kz=()=>{if("windows"===H.platform||"mac"===H.platform)return!0;var e=!1,t="ios"===H.platform&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(H.expt[t]&&(e=!0),e)},Ez,Tz;"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?Ee||(Ez=be?4===p.appType:(p.supportWorkerMultiContext||p.supoortWorkerMultiContext)&&kz()):Ee||H.onReady((()=>{Ez=(H.supportWorkerMultiContext||H.supoortWorkerMultiContext)&&kz()})),h.onLoad((()=>{(Tz=function(e,t,r,n,i){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=i}).prototype=Error}));var Pz=e=>new Tz(e.message,e.line,e.column,e.stack,e),xz=()=>Ez,Oz=e=>{Ez=e},Rz=new WeakMap,Mz=new WeakMap,Dz=new WeakMap,Nz={},Lz={},Bz={},$z=new WeakMap,Fz=new WeakMap,jz=e=>e.workerId,Wz=e=>{e.__isNativeConsole__?v[e.level](...e.logs):console[e.level](...e.logs)},Uz=0,Vz={};function qz(e,t,r=++Uz){return Bz[e]?(Vz[e]||(Vz[e]=[]),Vz[e].push({id:r,callback:t})):(Bz[e]=r,t()),r}function zz(e,t){if(Bz[e]===t&&(delete Bz[e],Vz[e]&&Vz[e].length)){var{id:r,callback:n}=Vz[e].shift();qz(e,n,r)}}wz((e=>{var t=0;Object.assign(e,{new(e){var r=++t;return Lz[r]=e,Object.keys(Nz).forEach((t=>{var n=Rz.get(Nz[t]);C.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1)})),r},get:e=>Lz[e],destroy(e){delete Lz[e]},Lock:qz,Unlock:zz})})),C.onWorkerMsg(((e,t)=>{var r=Nz[e],n=Mz.get(r),i=Fz.get(r);if("log"!==t.__cmd__){if("setSharedBuffer"===t.__cmd__)return Lz[t.__id__]=t.__buffer__,void Object.keys(Nz).forEach((r=>{var n=Rz.get(Nz[r]);n!==e&&C.postMsgToWorker(n,t,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var a=t.__data__;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){console.warn("warning: occur illegal error: ",a)}return a=h.convertToErrorObj(a),void("function"==typeof Nz[e].errorHandler?Nz[e].errorHandler(a):console.error("Worker Uncaught: ",a))}if(r)if(i&&i.useWKWorker){if(!jz(t))return;if("requireScriptSuccess"===t.__cmd__){var o=$z.get(r);return void(o&&o.evaluateWorkerScriptPromiseResolve&&o.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void Df({filePath:t.filePath,success:({data:r})=>C.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))}),fail:({errMsg:r})=>C.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r})});"function"==typeof n&&n(t.data)}else"function"==typeof n&&n(Az(t.data))}else zz(t.__sid__,t.__lid__);else qz(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}else Wz(t.logData)}));var Gz=function(e,t){var r=Rz.get(this);C.postMsgToWorker(r,{__cmd__:"requireScript",__script__:e,__id__:r,__options__:t})},Hz=function(){var e,t=new Promise((t=>{e=t}));$z.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class Kz{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,Rz.set(this,e),Fz.set(this,r),Nz[e]=this,this._id=e,r.useWKWorker?(this.useWKWorker=!0,Hz.call(this)):xz()?Gz.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):Gz.call(this,t,{pluginId:r.pluginId,workerId:e}),gz.add(this,r.contextType)}postMessage(e){var t=Rz.get(this),r=$z.get(this),n=Fz.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{C.postMsgToWorker(t,{data:e,appid:H.accountInfo.appId},void 0,this.useWKWorker)})):(e={data:e},C.postMsgToWorker(t,e))}onMessage(e){Mz.set(this,e)}onError(e){this.errorHandler=e}terminate(){var e=Rz.get(this),t=Fz.get(this);t&&t.useWKWorker?C.postMsgToWorker(e,{__cmd__:"terminate",appid:H.accountInfo.appId},void 0,this.useWKWorker):C.terminate(e),gz.remove(this),Rz.delete(this),Mz.delete(this),$z.delete(this),Dz.delete(this),Fz.delete(this),delete Nz[e]}onProcessKilled(e){Dz.set(this,e)}}Rt("onWorkerWebViewTerminate",(()=>{Object.keys(Nz).forEach((e=>{var t=Nz[e],r=Fz.get(t);if(r&&r.useWKWorker){var n=Dz.get(t);gz.remove(t),Rz.delete(t),Mz.delete(t),$z.delete(t),Dz.delete(t),Fz.delete(t),delete Nz[e],"function"==typeof n&&E.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),T.reportIDKey({key:"onWorkerWebViewTerminate"}),v.error("onWorkerWebViewTerminate",e)}}))}));var Qz=e=>{if(e._id>=0&&Nz[e._id])return e._id},Jz={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,useGameJsonGap:!1},Xz={getLocation:"jsapi_location",startLocationUpdate:"jsapi_location",onLocationChange:"jsapi_location",startLocationUpdateBackground:"jsapi_location_background",getGameClubData:"jsapi_gameclubdata",getChannelsLiveInfo:"group_jumpfinderlive",getFuzzyLocation:"jsapi_fuzzy_location",getUserProfile:"webapi_userinfo",getUserInfo:"webapi_userinfo",createUserInfoButton:"webapi_userinfo",getWeRunData:"webapi_werun",chooseLicensePlate:"jsapi_licenseplate",startRecord:"jsapi_record",getRecorderManager:"jsapi_record",joinVoIPChat:"jsapi_record",join1v1Chat:"jsapi_record",createVKSession:"jsapi_camera",createCameraContext:"jsapi_camera",openBluetoothAdapter:"webapi_bluetooth",createBLEPeripheralServer:"webapi_bluetooth",saveImageToPhotosAlbum:"jsapi_photos_album",saveVideoToPhotosAlbum:"jsapi_photos_album",addPhoneContact:"jsapi_phonecontact",addPhoneRepeatCalendar:"jsapi_photocalendar",addPhoneCalendar:"jsapi_photocalendar",chooseLocation:"jsapi_choose_location",choosePoi:"jsapi_choose_location",chooseAddress:"jsapi_address",chooseInvoiceTitle:"jsapi_invoice",chooseInvoice:"jsapi_invoice",chooseVideo:"jsapi_media",chooseImage:"jsapi_media",chooseMedia:"jsapi_media",chooseMessageFile:"jsapi_messagefile",startAccelerometer:"jsapi_accelerometer",stopAccelerometer:"jsapi_accelerometer",onAccelerometerChange:"jsapi_accelerometer",offAccelerometerChange:"jsapi_accelerometer",getFriendCloudStorage:"jsapi_wxfriend_interaction",getGroupCloudStorage:"jsapi_wxfriend_interaction",getGroupInfo:"jsapi_wxfriend_interaction",getPotentialFriendList:"jsapi_wxfriend_interaction",getUserCloudStorageKeys:"jsapi_wxfriend_interaction",getFriendsStateData:"jsapi_wxfriend_interaction",getUserInteractiveStorage:"jsapi_wxfriend_interaction",startCompass:"jsapi_compass",stopCompass:"jsapi_compass",onCompassChange:"jsapi_compass",offCompassChange:"jsapi_compass",startDeviceMotionListening:"jsapi_devicemotion",stopDeviceMotionListening:"jsapi_devicemotion",onDeviceMotionChange:"jsapi_devicemotion",offDeviceMotionChange:"jsapi_devicemotion",startGyroscope:"jsapi_gyroscope",stopGyroscope:"jsapi_gyroscope",onGyroscopeChange:"jsapi_gyroscope",offGyroscopeChange:"jsapi_gyroscope",setClipboardData:"jsapi_clipboard",getClipboardData:"jsapi_clipboard"};function Yz({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:n="",Time:i,ExternInfo:a,AppType:o}){var s={key:"PrivacyPopup",value:[lv(),H.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",n,"","",0,"",i,0,"",0,1,0,a?encodeURIComponent(JSON.stringify(a)):"",o,101].join(",")};T.reportKeyValue(s)}var Zz=!1,eG,tG=e=>(Zz||(Zz=!0,eG=xd({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:e}).then((e=>{var t,r,n,i,a,o,s;Jz.isCache=!0,Jz.protoRes=e;var l=Jz.protoRes.data,c=l.unauth_scope_list||[],u=l.need_popup_scope_list||[],d=l.min_popup_interval;!1===Jz.useGameJsonGap&&(Jz.officialPrivacyAuthorizationShowingGap=d);var p=l.wording,h=Jz.regExp,f=null==p?void 0:p.privacy_protocol_desc,g=null===(t=f)||void 0===t?void 0:t.match(h);Jz.customUrl=null===(r=g)||void 0===r?void 0:r[2],Jz.urlTitle=null===(n=g)||void 0===n?void 0:n[3],Jz.standardInfo.title=p.title_wording,g=null===(i=f=null==p?void 0:p.desc)||void 0===i?void 0:i.match(h),Jz.standardInfo.desc1=null===(a=g)||void 0===a?void 0:a[1],Jz.standardInfo.urlTitle=null===(o=g)||void 0===o?void 0:o[3],Jz.standardInfo.desc2=null===(s=g)||void 0===s?void 0:s[4],Jz.standardInfo.allow=p.allow_wording,Jz.standardInfo.cancel=p.cancel_wording;var v=l.action_code;Jz.actionCache=v,Jz.banReasonCache=l.ban_reason,c.forEach((e=>{Jz.unauthScopeCache[e]=!1})),Jz.unauthScopeCache,Jz.hasAgree||(Jz.needScopeCache=u),Jz.needScopeCache}))),eG),rG=function(){var e=Hp()((function*(e){var t,r,n,{event:i,env_check:a}=e;switch(i){case"exposureAuthorization":break;case"agree":if(Jz.needScopeCache=[],Jz.hasAgree=!0,Yz({UIArea:Jz.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-Jz.popUpTime,ExternInfo:Jz.externInfo}),!1===Jz.isCache)try{yield tG({popup_type:Jz.useCustomPrivacyAuthorization?1:0})}catch(e){return}if(0!==(null===(t=Jz.protoRes)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.need_popup_scope_list)||void 0===n?void 0:n.length)){var o={opt:1,auth_scope_list:Jz.protoRes.data.need_popup_scope_list,env_check:a};xd({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:o}).then((e=>{})).catch((e=>{}))}break;case"disagree":Yz({UIArea:Jz.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1e3,Time:Date.now()-Jz.popUpTime,ExternInfo:Jz.externInfo})}}));return function(t){return e.apply(this,arguments)}}(),nG=new Set,iG=e=>{nG.add(e)},aG=e=>nG.has(e),oG=e=>{var{method:t}=e;switch(t){case"agreePrivacyAuthorization":rG(e);break;case"addHasTapButtonId":var{id:r}=e;iG(r)}},sG,lG=e=>{Jz.useCustomPrivacyAuthorization=!0,sG=t=>{null===e?t({success:!1,errMsg:"privacy permission is not authorized",errno:pn}):e((({buttonId:e,event:r})=>{if("agree"===r){var n=aG(e);aG(e),t(n?{success:!0}:{success:!1,errMsg:"privacy permission is not authorized or buttonId is wrong",errno:pn})}else"disagree"===r&&t({success:!1,errMsg:"privacy permission is not authorized",errno:pn})}))}},cG=()=>(Jz.popUpTime=Date.now(),Yz({UIArea:10110003,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:Jz.externInfo}),new Promise((e=>{sG(e)}))),uG=function(){var e=Hp()((function*(e={}){dG(e)}));return function(){return e.apply(this,arguments)}}(),dG=function(){var e=Hp()((function*(e={}){if(!1===Jz.isCache)try{yield tG({popup_type:Jz.useCustomPrivacyAuthorization?1:0})}catch(e){}Yz({UIArea:Jz.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1e3,Time:Date.now()-Jz.popUpTime,ExternInfo:Jz.externInfo}),null!==Jz.customUrl?qu("private_openUrl",{url:Jz.customUrl,isNativeStyle:!0,success:e.success,fail:e.fail,complete:e.complete,beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):bc("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}(),pG=null,hG=({title:e,desc1:t,urlTitle:r,desc2:n,allow:i,cancel:a,success:o})=>{Jz.popUpTime=Date.now(),Yz({UIArea:10110002,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:Jz.externInfo});l.initScl((s=>{(pG=s.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:n,confirmText:i,cancelText:a})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&dG({success:()=>{},fail:e=>{}})})),pG.addListener("destroy",(({detail:e})=>{if("cancel"===e.reason){rG({event:"disagree"}),o({success:!1,errMsg:"privacy permission is not authorized",errno:Yn});try{s.mainRoot.remove(pG)}catch(e){v.error("remove error:",e)}pG=null}else{rG({event:"agree"}),o({success:!0});try{s.mainRoot.remove(pG)}catch(e){}pG=null}}))}))},fG=dd(hG),gG=0;try{H.onReady((()=>{H.officialPrivacyAuthorizationShowingGap>0&&(Jz.useGameJsonGap=!0,Jz.officialPrivacyAuthorizationShowingGap=H.officialPrivacyAuthorizationShowingGap),w_({success(e){var t=e;Jz.externInfo.deviceOrientation="portrait"===t.deviceOrientation?1:2,Jz.externInfo.screenWidth=t.screenWidth,Jz.externInfo.screenHeight=t.screenHeight}})}))}catch(e){}var vG=function(){var e=Hp()((function*(){if(!Jz.isCache)try{var e={popup_type:Jz.useCustomPrivacyAuthorization?1:0};yield tG(e)}catch(e){}var t=1===Jz.actionCache;return t&&Jz.needScopeCache.length>0?Jz.useCustomPrivacyAuthorization?cG():yG({title:Jz.standardInfo.title,desc1:Jz.standardInfo.desc1,urlTitle:Jz.standardInfo.urlTitle,desc2:Jz.standardInfo.desc2,allow:Jz.standardInfo.allow,cancel:Jz.standardInfo.cancel}):(Jz.needScopeCache.length,Promise.resolve({success:!0}))}));return function(){return e.apply(this,arguments)}}(),mG=e=>{vG().then((({success:t,errMsg:r,errno:n})=>{Sc(!0===t?{name:"requirePrivacyAuthorize",args:e,success:!0,errno:n,errMsg:r}:{name:"requirePrivacyAuthorize",args:e,success:!1,errno:n,errMsg:r})}))},yG=e=>{var t=Date.now();return(t-gG)/1e3>Jz.officialPrivacyAuthorizationShowingGap?(gG=t,fG(e)):{success:!1,errMsg:"privacy permission is not authorized in gap",errno:pn}},_G=function(){var e=Hp()((function*(e){var t,r={popup_type:Jz.useCustomPrivacyAuthorization?1:0,version:1,libVersion:H.SDKVersion},n=[];if(!Jz.isCache)try{yield tG(r)}catch(e){}switch(n=Jz.needScopeCache,Jz.needScopeCache,Jz.unauthScopeCache,Jz.actionCache,Jz.actionCache){case 0:return Promise.resolve({success:!0});case 1:var i=Xz[e];return!1===Jz.unauthScopeCache[i]?Promise.resolve({success:!1,errMsg:"api scope is not declared in the privacy agreement",errno:bn}):n.includes(i)?Jz.useCustomPrivacyAuthorization?cG():yG({title:Jz.standardInfo.title,desc1:Jz.standardInfo.desc1,urlTitle:Jz.standardInfo.urlTitle,desc2:Jz.standardInfo.desc2,allow:Jz.standardInfo.allow,cancel:Jz.standardInfo.cancel}):Promise.resolve({success:!0});case 2:return t=Gn,Jz.banReasonCache&&null!==Jz.banReasonCache?Promise.resolve({success:!1,errMsg:Jz.banReasonCache,errno:t}):Promise.resolve({success:!1,errMsg:"privacy interface is banned",errno:t})}}));return function(t){return e.apply(this,arguments)}}(),bG=function(){var e=Hp()((function*(e={}){var t="getPrivacySetting";if(!1===Jz.isCache)try{yield tG({popup_type:Jz.useCustomPrivacyAuthorization?1:0})}catch(e){}var r=1===Jz.actionCache;Jz.actionCache,r&&Jz.needScopeCache.length>0?Sc({name:t,args:e,res:{needAuthorization:!0,privacyContractName:Jz.urlTitle}}):Sc({name:t,args:e,res:{needAuthorization:!1}})}));return function(){return e.apply(this,arguments)}}(),wG,SG={},CG={},IG={},AG=[],kG={},EG=new Ft,TG=new WeakMap;function PG(e){var t=[],r=1;return Br(e,(e=>{t.forEach((t=>{var r=t[0],n=t[1];r.cid===e.cid&&r.cameraId===e.cameraId&&n(e)})),t=[]})),function(e,n){e.cid=r++,t.push([e,n])}}var xG=PG("onOperateCameraCallback"),OG={};function RG({cameraId:e,pluginId:t},r){EG.emit("cameraRemoved"),delete SG[`${r}_${t}`],delete CG[`${r}_${e}`],delete IG[`${r}_${e}`],delete OG[r]}function MG(e,t,r){var n=null,i=null,a=null,o=xc("start",Hp()((function*(){var l=480,c=640,u=`${t}_${r}`;if(!e||"function"!=typeof e)throw new Error("callback is not a function");if("number"!=typeof SG[u]&&!SG[u])return yield new Promise((e=>EG.once("cameraInsert",e))),o();var d=CG[`${t}_${SG[u]}`],{frameSize:p}=d||{};"small"===p?(l=288,c=352):"medium"===p?(l=480,c=640):"large"===p&&(l=720,c=1280),a=()=>{s()},EG.once("cameraRemoved",a);var h,f=window.createObjectURL||window.URL&&window.URL.createObjectURL||window.webkitURL.createObjectURL,g=document.createElement("video"),v=document.createElement("canvas"),m=v.getContext("2d");v.width=l,v.height=c,g.style.width=l+"px",g.style.height=c+"px";try{h=yield new Promise(((e,t)=>{navigator.getUserMedia({video:{width:l,height:c},audio:!1},e,t)}))}catch(e){throw new Error("camera is not found")}"srcObject"in g?g.srcObject=h:g.src=f(h),g.play(),n=h.getTracks()[0];var y=()=>{m.drawImage(g,0,0),e({width:l,height:c,data:m.getImageData(0,0,l,c).data.buffer}),i=window.requestAnimationFrame(y)};i=window.requestAnimationFrame(y)}))),s=xc("stop",Hp()((function*(){window.cancelAnimationFrame(i),EG.off("cameraRemoved",a),n&&n.stop()})));return{start:o,stop:s}}Yt("onCameraInitDone",(()=>{OG[Fc.currentWebviewId]=!0,EG.emit("cameraInitialized")})),Br("cameraInserted",(({cameraId:e,pluginId:t,bindings:r},n)=>{SG[`${n}_${t}`]=e,CG[`${n}_${e}`]=r,EG.emit("cameraInsert"),NC(n,(()=>{RG({cameraId:e,pluginId:t},n)}),"CameraContext")})),Br("cameraUpdated",(({cameraId:e,hidden:t},r)=>{IG[`${r}_${e}`]=t})),Br("cameraRemoved",(({cameraId:e,pluginId:t},r)=>{RG({cameraId:e,pluginId:t},r)})),AB((()=>{if(void 0!==sr&&"function"===sr.getCurrentPagesByDomain){var e=sr.getCurrentPagesByDomain("").map((e=>e.__wxWebviewId__));Object.keys(SG).forEach((t=>{var r=t.split("_").shift();-1===e.indexOf(Number(r))&&(delete CG[`${r}_${SG[t]}`],delete IG[`${r}_${SG[t]}`],delete SG[t],kG[r]&&(kG[r].forEach((e=>{clearTimeout(e)})),delete kG[r]))}))}})),Rt("onCameraVideoTaken",((e={},t=0)=>{AG.forEach((r=>{r(e,t)}))}));var DG=(wG=class{constructor(e,t){this.webviewId=e,this.pluginId=t}onCameraFrame(e){if(fe||be)return MG(e,this.webviewId,this.pluginId);var t=this.webviewId,r=Tc(this._invokeMethod.bind(this,"listenFrameChange")),n=Tc(this._invokeMethod.bind(this,"closeFrameChange")),i=!1,a=null,o=null,s=null,l=xc("start",Hp()((function*(n={}){if(!i){if(i=!0,!e||"function"!=typeof e)throw new Error("callback is not a function");if(ge&&!OG[t]&&(yield new Promise((e=>EG.once("cameraInitialized",e)))),!i)throw new Error("listener has been stopped");var l;yield _G("createCameraContext").catch((e=>({success:!0}))).then((({success:e,errMsg:t,errno:r})=>{if(!e){var n=new Error(t);throw n.errno=r,n}})),ve&&Yt("onCameraFrame",a=()=>{if(i&&o){var t={width:o.width,height:o.height,data:o.data};e(t)}});try{var{worker:u}=n,d=u?Qz(u):void 0,p={};void 0!==d&&bf("listenFrameChangeInWorker")&&(p.workerId=d),l=yield r(p)}catch(e){throw ve&&tr("onCameraFrame",a),e}if(!i)throw new Error("listener has been stopped");var h=Th();if(!h)throw new Error("onCameraFrame is not supported on your device");var f=h.get(l.bufferId);if(!f)throw new Error("onCameraFrame fails to allocate ArrayBuffer");f.__proto__=ArrayBuffer.prototype;var g={width:l.width,height:l.height,data:f};ve?o={width:l.width,height:l.height,data:f}:Yt("onCameraFrame",a=()=>{i&&e(g)}),s=()=>{c()},EG.once("cameraRemoved",s),TL("cameraFrame")}}))),c=xc("stop",Hp()((function*(){i&&(i=!1,s&&(EG.off("cameraRemoved",s),s=null),a&&(tr("onCameraFrame",a),a=null),yield n({}))})));return{start:l,stop:c}}_invoke(e,t){t.type=e,fe||be||_e?(xG(t,(({imageData:r,videoData:n})=>{function i(t,n){qu("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:r},t),{beforeAll:r=>{"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}n?qu("base64ToTempFilePath",{fileType:"webm",base64Data:n,complete(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),Or("operateCamera",t,[this.webviewId])):qu("operateCamera",t)}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}`;if("number"==typeof SG[r]||SG[r]){var n=CG[`${this.webviewId}_${SG[r]}`];if(n.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===n.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=SG[r],this._invoke(e,t)}else EG.once("cameraInsert",(()=>{this._invokeMethod(e,t)}))}takePhoto(e={}){var t=`${this.webviewId}_${this.pluginId}`;if(IG[`${this.webviewId}_${SG[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("takePhoto",e)}setZoom(e={}){yc("CameraContext.setZoom",e,{zoom:1})&&(e.zoom<1&&(e.zoom=1),this._invokeMethod("setZoom",e))}startRecord(e={}){j$({scope:"scope.record",success:()=>{TG.set(this,!0),this._startRecord(e)},fail:()=>{"function"==typeof e.fail&&e.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof e.complete&&e.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}_startRecord(e={}){if(TG.get(this)){var t=`${this.webviewId}_${this.pluginId}`;if(IG[`${this.webviewId}_${SG[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r,n=e.timeoutCallback,i=e.success,a=e.fail,o=()=>{var t="number"==typeof e.timeout?Math.max(0,e.timeout):30;t=Math.min(t,300),r=this._timer=setTimeout((()=>{this._isRecording&&(this.stopRecord({complete:n||function(){}}),this._isRecording=!1)}),1e3*t),0===t?clearTimeout(r):kG[this.webviewId]?kG[this.webviewId].push(r):kG[this.webviewId]=[r];var i=this._videoTaken=(e,t)=>{var a=`${t}_${this.pluginId}`;if(e.cameraId===SG[a]){var o=AG.indexOf(i);o>-1&&AG.splice(o,1),this._isRecording&&(delete e.cameraId,"function"==typeof n&&n(e),this._isRecording=!1,clearTimeout(r))}};AG.push(i)};e.fail=e=>{this._isRecording=!1,r&&(r=clearTimeout(r)),"function"==typeof a&&a(e)},e.success=e=>{r&&(r=clearTimeout(r)),o(),"function"==typeof i&&i(e)},"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("startRecord",e),this._isRecording||(this._isRecording=!0)}}stopRecord(e={}){var t=AG.indexOf(this._videoTaken);t>-1&&(AG.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}},F()(wG.prototype,"takePhoto",[At],Object.getOwnPropertyDescriptor(wG.prototype,"takePhoto"),wG.prototype),F()(wG.prototype,"setZoom",[At],Object.getOwnPropertyDescriptor(wG.prototype,"setZoom"),wG.prototype),F()(wG.prototype,"startRecord",[At],Object.getOwnPropertyDescriptor(wG.prototype,"startRecord"),wG.prototype),F()(wG.prototype,"stopRecord",[At],Object.getOwnPropertyDescriptor(wG.prototype,"stopRecord"),wG.prototype),wG);function NG(e,t,r,n=""){return new DG(t,n)}Yt("onCameraNeedAuthCancel",((e={},t=0)=>{var r=CG[`${t}_${e.cameraId}`];if(r&&"skyline"===Ir(t))return dV("onCameraNeedAuthCancel",e,t);r&&r.binderror&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"error",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:r.binderror,webviewId:t,nodeId:r.nodeId}),r&&(r.isCancelAuth=!0)})),Yt("onCameraStop",((e={},t=0)=>{var r=CG[`${t}_${e.cameraId}`];if(r&&"skyline"===Ir(t))return dV("onCameraStop",e,t);r&&r.bindstop&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"stop",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{}},eventName:r.bindstop,webviewId:t,nodeId:r.nodeId})})),Yt("onCameraInitDone",((e={},t=0)=>{var r=CG[`${t}_${e.cameraId}`];if(r&&"skyline"===Ir(t))return dV("onCameraInitDone",e,t);r&&r.bindinitdone&&"function"==typeof Fc.webviewEventCallback?Fc.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId}):EG.once("cameraInsert",(()=>{var r=CG[`${t}_${e.cameraId}`];if(r&&"skyline"===Ir(t))return dV("onCameraInitDone",e,t);r&&r.bindinitdone&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"initdone",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{maxZoom:e.maxZoom}},eventName:r.bindinitdone,webviewId:t,nodeId:r.nodeId})}))})),Yt("onCameraScanCode",((e={},t=0)=>{var r=CG[`${t}_${e.cameraId}`];if(r){if("skyline"===Ir(t))return dV("onCameraScanCode",e,t);if(r.bindscancode&&"function"==typeof Fc.webviewEventCallback){var n={data:{type:"scancode",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,detail:{type:e.type,result:e.result,rawData:e.rawData,charSet:e.charSet,scanArea:e.scanArea}},eventName:r.bindscancode,webviewId:t,nodeId:r.nodeId};"barcode"===e.type&&(delete n.data.detail.rawData,delete n.data.detail.charSet),Fc.webviewEventCallback(n)}}}));var LG=(e={})=>{yc("setKeepScreenOn",e,{keepScreenOn:!0})&&qu("setKeepScreenOn",e,{})},BG,$G=fe,FG={},jG={},WG={},UG=new Ft,VG={},qG=new WeakMap,zG={},GG=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot","requestPictureInPicture","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","startCasting","switchCasting","reconnectCasting","exitCasting"],HG=Object.assign,KG={};function QG(e,t){return`${e}_${t}`}function JG(e){VG[e]||(VG[e]=!0,NC(e,(e=>{delete VG[e],Object.keys(FG).forEach((t=>{new RegExp("^"+e).test(t)&&(delete jG[`${e}_${FG[t]}`],delete FG[t])})),Object.keys(zG).forEach((t=>{new RegExp("^api_"+e).test(t)?(delete jG[`${e}_${FG[t.substr(4)]}`],delete zG[t]):new RegExp("^SQ_"+e).test(t)&&(delete jG[t.substr(3)],delete zG[t])})),dH(e),LG({keepScreenOn:!1})}),"LivePlayerContext"))}Br("xWebLivePlayerSupported",(({insert2XWebEnabled:e,viewId:t},r)=>{KG[QG(r,t)]=e,oH(KG)})),Br("updateLivePlayerPictureInPicture",((e={},t)=>{WG.webviewId=t,WG.playerId=e.playerId})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((e=>{Br(e,(({viewId:e,domId:t,playerId:r,pluginId:n,data:i,nodeId:a},o)=>{var s=KG[QG(o,e)]?e:r,l=`${o}_${n}_${t}_`;a&&a!==jp(o)&&(l+=a),FG[l]=s,jG[`${o}_${s}`]=i||{},UG.emit("livePlayerInsert"),JG(o),uH(o)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((e=>{Br(e,(({viewId:e,domId:t,playerId:r,pluginId:n,nodeId:i},a)=>{var o=KG[QG(a,e)]?e:r,s=`${a}_${n}_${t}_`;i&&i!==jp(a)&&(s+=i),delete FG[s],delete jG[`${a}_${o}`];var l=`api_${a}_${n}_${t}_`;i&&i!==jp(a)&&(l+=i);var c=`SQ_${a}_${o}`;delete zG[l],delete zG[c],LG({keepScreenOn:!1})}))}));var XG={},YG=mq();Br("onGetPlayerInfo",(({callbackId:e,info:t}={})=>{var r=XG[e];XG[e]=null,r&&r(t)}));class ZG{}var eH=(BG=class{constructor(){var e=this.exportContext=new ZG;GG.forEach((t=>e[t]=this[t].bind(this)))}play(e={}){var t=this._getAppStatus();t===Rc.BACK_GROUND||t===Rc.LOCK||(this._invokeMethod("play",[],e),LG({keepScreenOn:!0}))}stop(e={}){this._invokeMethod("stop",[],e),LG({keepScreenOn:!1})}mute(e={}){this._invokeMethod("mute",[],e)}pause(e={}){this._invokeMethod("pause",[],e),LG({keepScreenOn:!1})}resume(e={}){this._invokeMethod("resume",[],e),LG({keepScreenOn:!0})}requestFullScreen(e={}){var t=oB(rB.onLivePlayerFullScreenChange),r=tp();if(this._getInfo((e=>{PL("LivePlayerContext.requestFullScreen",{src:e.src},r,t)})),!t)if(Cq())gP({icon:"none",title:"该场景不支持全屏"});else{var n=this._getPlayerId(),i=this._getWebviewId();if(KG[QG(i,n)])this._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e);else{var a=e.direction;[0,90,-90].indexOf(a)>-1?this._invokeMethod("requestFullScreen",[a],e):this._invokeMethod("requestFullScreen",[],e),qG.set(this,!0)}}}exitFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();KG[QG(r,t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),qG.set(this,!1))}exitPictureInPicture(e={}){if(WG){var t=Gu(this.pluginId);ve?t("operateLivePlayer",{...e,type:"exitPictureInPicture",livePlayerId:WG.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateLivePlayer","exitPictureInPicture")}}):ge&&t("operateXWebLivePlayer",{...e,type:"exitPictureInPicture",viewId:WG.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebLivePlayer","exitPictureInPicture")}})}}showStatusBar(e={}){qu("showStatusBar",e)}hideStatusBar(e={}){if(!qG.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}qu("hideStatusBar",e)}snapshot(e={}){if($G)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),void("function"!=typeof e.fail&&"function"!=typeof e.complete||(e.fail||e.complete)({errMsg:"operateLivePlayer:fail not support in devtools"}));var t="view"===e.sourceType?"snapshotView":"snapshot";this._invokeMethod(t,[],HG({quality:"raw"},e))}requestBackgroundPlayback(e={}){this._invokeMethod("requestBackgroundPlayback",[],e)}exitBackgroundPlayback(e={}){this._invokeMethod("exitBackgroundPlayback",[],e)}requestPictureInPicture(e={}){var t=this._getPlayerId();"number"==typeof t?Gu(this.pluginId)("requestLivePlayerPictureInPicture",{...e,viewId:t,livePlayerId:t,beforeAll(e){e.errMsg=e.errMsg.replace("requestLivePlayerPictureInPicture","requestPictureInPicture")}}):bc("requestPictureInPicture",e,"playerId not exists")}startCasting(e){tp()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){tp()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){tp()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){tp()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r,n){var i=this._getPlayerId(),a=this._getWebviewId(),o=KG[QG(a,i)],s=o?"operateXWebLivePlayer":"operateLivePlayer";"number"==typeof e?($G&&(n.type=t,n.playerId=e,Or("operateLivePlayer",n,[this.webviewId])),function(){var i=o?{viewId:e}:{livePlayerId:e},a=Gu(this.pluginId);this._getAppStatus()===Rc.BACK_GROUND&&"stop"===t&&(s=`${s}Background`),a(s,HG({},n,{data:r,type:t,...i}))}.apply(this)):UG.once("livePlayerInsert",(()=>{this._invokeMethod(t,r,n)}))}_getAppStatus(){return Fc.appStatus}_getHanged(){return Fc.hanged}_getPlayerId(){}_getWebviewId(){}_getInfo(e){var t=YG.next();XG[t]=e;var r=this._getPlayerId();"number"==typeof r?Or(`livePlayerGetInfo${r}`,{callbackId:t},[this.webviewId]):UG.once("livePlayerInsert",(()=>{Or(`livePlayerGetInfo${this._getPlayerId()}`,{callbackId:t},[this.webviewId])}))}},F()(BG.prototype,"play",[At],Object.getOwnPropertyDescriptor(BG.prototype,"play"),BG.prototype),F()(BG.prototype,"stop",[At],Object.getOwnPropertyDescriptor(BG.prototype,"stop"),BG.prototype),F()(BG.prototype,"mute",[At],Object.getOwnPropertyDescriptor(BG.prototype,"mute"),BG.prototype),F()(BG.prototype,"pause",[At],Object.getOwnPropertyDescriptor(BG.prototype,"pause"),BG.prototype),F()(BG.prototype,"resume",[At],Object.getOwnPropertyDescriptor(BG.prototype,"resume"),BG.prototype),F()(BG.prototype,"requestFullScreen",[At],Object.getOwnPropertyDescriptor(BG.prototype,"requestFullScreen"),BG.prototype),F()(BG.prototype,"exitFullScreen",[At],Object.getOwnPropertyDescriptor(BG.prototype,"exitFullScreen"),BG.prototype),F()(BG.prototype,"exitPictureInPicture",[At],Object.getOwnPropertyDescriptor(BG.prototype,"exitPictureInPicture"),BG.prototype),F()(BG.prototype,"snapshot",[At],Object.getOwnPropertyDescriptor(BG.prototype,"snapshot"),BG.prototype),F()(BG.prototype,"requestBackgroundPlayback",[At],Object.getOwnPropertyDescriptor(BG.prototype,"requestBackgroundPlayback"),BG.prototype),F()(BG.prototype,"exitBackgroundPlayback",[At],Object.getOwnPropertyDescriptor(BG.prototype,"exitBackgroundPlayback"),BG.prototype),F()(BG.prototype,"requestPictureInPicture",[At],Object.getOwnPropertyDescriptor(BG.prototype,"requestPictureInPicture"),BG.prototype),F()(BG.prototype,"startCasting",[At],Object.getOwnPropertyDescriptor(BG.prototype,"startCasting"),BG.prototype),F()(BG.prototype,"switchCasting",[At],Object.getOwnPropertyDescriptor(BG.prototype,"switchCasting"),BG.prototype),F()(BG.prototype,"reconnectCasting",[At],Object.getOwnPropertyDescriptor(BG.prototype,"reconnectCasting"),BG.prototype),F()(BG.prototype,"exitCasting",[At],Object.getOwnPropertyDescriptor(BG.prototype,"exitCasting"),BG.prototype),BG);class tH extends eH{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new ip("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.nodeId=r,this.pluginId=n}_invokeMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=FG[n];this._invokeMethodWithId(i,e,t,r)}_getPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return FG[e]}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=FG[n];"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),Or(e,{viewId:i,...t},[this.webviewId])}}class rH extends eH{constructor(e,t,r){super(),this.playerId=e,this.webviewId=t,this.pluginId=r}_invokeMethod(e,t,r){var n=this.playerId;this._invokeMethodWithId(n,e,t,r)}_getPlayerId(){return this.playerId}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),Or(e,{viewId:this.playerId,...t},[this.webviewId])}}function nH(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==jp(t)&&(i+=r),zG[i])return zG[i].exportContext;var a=new tH(e,t,r,n);return zG[i]=a,a.exportContext}function iH(e,t,r=""){var n=`SQ_${t}_${e}`;if(zG[n])return zG[n].exportContext;var i=new rH(e,t,r);return zG[n]=i,i.exportContext}var aH={},oH=e=>{aH=e},sH={},lH={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus",onLivePlayerAudioVolume:"bindaudiovolumenotify",onLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"},cH={onXWebLivePlayerEvent:"bindstatechange",onXWebLivePlayerNetStatus:"bindnetstatus",onXWebLivePlayerAudioVolume:"bindaudiovolumenotify",onXWebLivePlayerBackgroundPlaybackChange:"bindbackgroundplaybackchange"};function uH(e){var t=sH[e];if(sH[e]=[],t)for(var r=0;r<t.length;r++){var n=t[r];pH(n[0],n[1],n[2])}}function dH(e){delete sH[e]}function pH(e,t,r){if(t){2004===t.errCode&&LG({keepScreenOn:!0});var n=aH[QG(r,t.viewId)],i=n?t.viewId:t.livePlayerId,a=jG[`${r}_${i}`],o=n?cH[e]:lH[e],s={};switch(e){case"onLivePlayerEvent":case"onXWebLivePlayerEvent":s.code=t.errCode,s.message=t.errMsg,Or("onLivePlayerStateChange"+t.livePlayerId,{code:t.errCode},[r]);break;case"onLivePlayerNetStatus":case"onXWebLivePlayerNetStatus":t.info=t.info||{},s.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE,vDecCacheSize:t.info.V_DEC_CACHE_SIZE,vSumCacheSize:t.info.V_SUM_CACHE_SIZE,avPlayInterval:t.info.AV_PLAY_INTERVAL,avRecvInterval:t.info.AV_RECV_INTERVAL,audioCacheThreshold:t.info.AUDIO_CACHE_THRESHOLD},Or("onLivePlayerNetStatusChange"+t.livePlayerId,{info:s.info},[r]);break;case"onLivePlayerAudioVolume":case"onXWebLivePlayerAudioVolume":s.volume=t.volume;break;case"onLivePlayerBackgroundPlaybackChange":case"onXWebLivePlayerBackgroundPlaybackChange":s.playInBackground=t.playInBackground}if(!a)return sH[r]=sH[r]||[],void sH[r].push([e,t,r]);if(n&&("onXWebLivePlayerEvent"===e||"onXWebLivePlayerNetStatus"===e)){var l={...t.info};"onXWebLivePlayerEvent"===e&&(l={code:t.errCode,message:t.errMsg}),Or("xWebLivePlayerStateChange",{type:e,detail:{info:l},viewId:t.viewId},[r])}a.handlers[o]&&"function"==typeof Fc.webviewEventCallback&&(n&&"onXWebLivePlayerEvent"===e&&t&&-9999999===t.errCode||Fc.webviewEventCallback({data:{type:o.replace("bind",""),target:a.target,currentTarget:a.target,timeStamp:Date.now()-a.createdTimeStamp,touches:[],detail:s},eventName:a.handlers[o],webviewId:r,nodeId:a.nodeId}))}}[...Object.keys(lH),...Object.keys(cH)].forEach((e=>{Yt(e,((t={},r)=>{pH(e,t,r)}))})),Br("xWebLivePlayerFullScreenEvent",(({viewId:e,data:t},r)=>{var n=jG[`${r}_${e}`];n&&n.handlers.bindfullscreenchange&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:t.fullScreen,direction:0===t.direction||180===t.direction||"vertical"===t.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:r,nodeId:n.nodeId})})),Yt("onLivePlayerFullScreenChange",((e={},t)=>{Or("videoFullScreenChange",e,[t]),Or("videoFullScreenChange"+e.livePlayerId,{fullScreen:e.fullScreen},[t]);var r=jG[`${t}_${e.livePlayerId}`];r&&r.handlers.bindfullscreenchange&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"fullscreenchange",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:r.handlers.bindfullscreenchange,webviewId:t,nodeId:r.nodeId})})),Yt("onEnterLivePlayerPictureInPicture",((e={})=>{var t=WG.webviewId,r=jG[`${t}_${e.livePlayerId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Yt("onLeaveLivePlayerPictureInPicture",((e={})=>{var t=WG.webviewId,r=jG[`${t}_${e.livePlayerId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var hH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};function fH(){return g.g.WeixinCanvas}var gH=300,vH=150;function mH(e,t,r){var n=r;Object.defineProperty(e,t,{get:()=>(console.warn(`Canvas.${t} will be removed, DO NOT USE IT.`),n),set(e){n=e},enumerable:!1,configurable:!0})}class yH{constructor(e){iq(e,this),mH(this,"_canvasId",String(e.canvasNumber)),mH(this,"_width",e.width),mH(this,"_height",e.height),mH(this,"_top",e.top),mH(this,"_left",e.left)}}var _H=[],bH=new Map;class wH{constructor(){this._initPromise=null}_init(){var e=this;return this._initPromise=this._initPromise||Hp()((function*(){_H.length&&(yield e.loadFontFace(_H))}))()}static initialize(e,t){bH.has(e)||bH.set(e,new t)}static ready(){var e=[];for(var t of bH.values())e.push(t._init());return Promise.all(e)}static addFontFace(e){_H.push(e);var t=[];for(var r of bH.values())t.push(r.loadFontFace([e]));return Promise.all(t)}}var SH=["touchstart","touchmove","touchend","touchcancel"],CH=(e,t,r)=>{e=e||[];var n=r.touches,i=r.changedTouches;if(ge)if("touchstart"===t){if(i.length+e.length!==n.length){i=[];var a=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var o of n)a(o)}}else if("touchend"===t){if(i.length+n.length!==e.length){i=[];var s=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var l of e)s(l)}}else if("touchcancel"===t&&i.length+n.length!==e.length){i=[];var c=function(e){n.find((t=>t.identifier!==e.identifier))&&i.push(e)};for(var u of e)c(u)}return{touches:CV(n),changedTouches:CV(i)}},IH=!1,AH=()=>{if(!IH){IH=!0;var e=ve?fH():Af.EventHandler;SH.forEach((t=>{e[`on${t}`]=e=>{var r;if(ve)r=e.canvasId;else if(ge){var n=e.currentTarget;r=tq(n)}var i=KV(r);if(i){var{touches:a,changedTouches:o}=CH(i.lastTouches,t,e);i.lastTouches=e.touches;var s={type:t,target:i.data.target,currentTarget:i.data.target,timeStamp:e.timeStamp,touches:a,changedTouches:o};i.isXrFrame?NV(i.canvasId,t,e):i.data.handlers[`bind${t}`]&&Fc.webviewEventCallback({data:s,eventName:i.data.handlers[`bind${t}`],webviewId:i.webviewId,nodeId:i.nodeId})}else console.error("event can not be dispatched due to missing node info")}}))}};(ve||ge)&&Br("settingUpMagicBrushEventListeners",(()=>{AH()}));var kH=!1,EH=()=>kH;H.onReady((()=>{kf({experimentId:"clicfg_canvas_use_magic_brush",experimentType:"Expt",success:e=>{JSON.stringify(e),void 0!==(null==e?void 0:e.testConfig)&&(ge?kH="1"===e.testConfig:ve&&(kH=H.useNonIsolatedEjecta&&"1"===e.testConfig))}})}));class TH extends wH{loadFontFace(e){var t=Af.loadFont||fH().loadFont||g.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var PH=(e,t)=>{if(ve)return fH().createCanvas(t.canvasNumber);if(ge){var r=new Af.findElementById(t.canvasNumber);return e._innerId=r.__id,r}},xH=(e,t)=>{if(ve){var r=t.canvasNumber;qu("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:r,keepAlive:!0,fail:e=>{}}),e._registerId=r;var n=fH().createOffscreenCanvas(r,t.width,t.height);return e._innerId=n.__id,n}if(ge){var i=new Af.OffscreenCanvas(t.width,t.height);return e._innerId=i.__id,i}};class OH extends yH{constructor(e){super(e),wH.initialize(OH,TH);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?xH(this,e):PH(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||gH,n.height=e.height||vH):(n.width=gH,n.height=vH),sq(r,this,n)}getContext(e,t){var r=QV(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=aq(this);if(i){"webgl"===e&&TL("webgl"),!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||Or("xwebWebGLSetOpaqueBackground",{canvasNumber:this.id});var a=AV(tK)(i.getContext(e,t),this);return"2d"===e&&ge&&(a.save(),a.restore()),a}console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return aq(this).width}set width(e){var t=aq(this);t&&(ge&&t.width===e&&e&&(t.width=e-1),t.width=e)}get height(){return aq(this).height}set height(e){var t=aq(this);t&&(ge&&t.height===e&&e&&(t.height=e-1),t.height=e)}createImage(){var e,t=QV(this);return ve?e=fH().createImage(this.isOffscreenCanvas?this._registerId:this.id):ge&&(e=new Af.Image),new KH(SV(e),t)}createImageData(...e){return ve?new(fH().ImageData)(...e):ge?new(Af.ImageData||g.g.ImageData)(...e):void 0}static createPath2D(...e){return ve?new(fH().Path2D)(...e):ge?new(Af.Path2D||g.g.Path2D)(...e):void 0}createPath2D(...e){return OH.createPath2D(...e)}requestAnimationFrame(e){return ve?fH().requestAnimationFrame(e):ge?Af.requestAnimationFrame(e):void 0}cancelAnimationFrame(e){return ve?fH().cancelAnimationFrame(e):ge?Af.cancelAnimationFrame(e):void 0}toDataURL(e,t){var r=aq(this);return r?r.toDataURL(e,t):""}}var RH=new WeakSet;function MH(e){if(!e||RH.has(e))return e;if(RH.add(e),e.fill){var t=e.fill.bind(e);e.fill=e=>e?t(e,e):t()}if(e.putImageData){var r=e.putImageData.bind(e);e.putImageData=(e,...t)=>0===e||"object"!=typeof e?null:r(e,...t)}return e}class DH{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var NH=yq;class LH{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new DH,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[NH.now()])})),this.canvasView.present()}))}swap(){this.canvasView.swapSurface()}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var BH=new WeakMap;ge&&Rt("onXWebCanvasSurfaceChange",((e={},t)=>{var r=nq(e.viewId),n=BH.get(r);n&&n.swap()}));class $H extends wH{constructor(...e){super(...e),this._loadedFontAssets=[]}loadFontFace(e){var t,r=this,n=[],i=function(e){var t=r._loadedFontAssets.find((t=>t.src===e.src||t.originalSrc===e.originalSrc));t||n.push(e)};for(var a of e)i(a);n.length&&(this._loadedFontAssets.push(...n),ge?t=Af.SkiaCanvasLoadNewFont||g.g.SkiaCanvasLoadNewFont:ve&&(t=g.g.skiacanvasLoadNewFont),"function"==typeof t&&t(e.map((e=>({src:e.src||"",family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})))))}}var FH=(e,t)=>{if(ve)return new g.g.Canvas(t.canvasNumber);if(ge){var r=(Af.HTMLCanvasView||g.g.HTMLCanvasView).createView(t.canvasNumber),n=(Af.HTMLCanvasElement||g.g.HTMLCanvasElement).createElement(r),i=new LH(r);return BH.set(e,i),n}};class jH extends yH{constructor(e){super(e),wH.initialize(jH,$H);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=FH(this,e);sq(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||gH,n.height=e.height||vH):(n.width=gH,n.height=vH)}_onUpdated(){}_onRemoved(){var e=BH.get(this);e&&(e.dispose(),BH.delete(this))}getContext(e,t){if("2d"!==e)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=aq(this);if(!r)return console.error("Canvas getContext failed due to missing canvas instance"),null;if(this._ctx)return this._ctx;var n=AV(tK,MH)(r.getContext("2d",t),this);return Object.defineProperty(this,"_ctx",{value:n}),n}get width(){return aq(this).width}set width(e){var t=aq(this);t&&(t.width=e)}get height(){return aq(this).height}set height(e){var t=aq(this);t&&(t.height=e)}createImage(){var e,t=QV(this);return ve?e=new g.g.Image:ge&&(e=new(Af.SkiaImages||SkiaImage)),new KH(SV(e),t)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),ve?new g.g.ImageData(e,t,r):ge?new(Af.SkiaImageData||g.g.SkiaImageData)(e,t,r):void 0):null}static createPath2D(...e){var t=ge?Af.SkiaPath2D||g.g.SkiaPath2D:g.g.Path2D;return 0===e.length?new t:1===e.length?new t(...e):null}createPath2D(...e){return jH.createPath2D(...e)}requestAnimationFrame(e){return ve?fH().requestAnimationFrame(e):ge?H.useSkiaCanvasRaf?(Af.SkiaCanvasRequestAnimationFrame||g.g.SkiaCanvasRequestAnimationFrame)(e):BH.get(this).requestAnimationFrame(e):void 0}cancelAnimationFrame(e){if(ve)return fH().cancelAnimationFrame(e);ge&&(H.useSkiaCanvasRaf?(Af.SkiaCanvasCancelAnimationFrame||g.g.SkiaCanvasCancelAnimationFrame)(e):BH.get(this).cancelAnimationFrame(e))}toDataURL(e,t){var r=aq(this);return r?r.toDataURL(e,t):""}}var WH=e=>()=>{setTimeout((()=>{e()}),0)},UH=new WeakMap,VH=new WeakMap,qH=new WeakMap,zH=e=>UH.get(e),GH=e=>VH.get(e),HH=e=>qH.get(e);class KH{constructor(e,t){var r={};UH.set(this,r),VH.set(this,e),qH.set(this,t),e.onload=WH((()=>{"function"==typeof this.__onload&&this.__onload.apply(this),r.load&&r.load.forEach((e=>{try{e.apply(this)}catch(e){}}))})),e.onerror=WH((()=>{"function"==typeof this.__onerror&&this.__onerror.apply(this),r.error&&r.error.forEach((e=>{try{e.apply(this)}catch(e){}}))}))}set src(e){/^(http|https):\/\//.test(e)&&(e=PV(e));var t=HH(this);GH(this).src=bV(e,t.nodeId,t.pluginId,t.webviewId)}set referrerPolicy(e){"string"==typeof e&&(GH(this).referrerPolicy=e)}set onload(e){Object.defineProperty(this,"__onload",{value:e,writable:!0,configurable:!0,enumerable:!1})}set onerror(e){Object.defineProperty(this,"__onerror",{value:e,writable:!0,configurable:!0,enumerable:!1})}get referrerPolicy(){return GH(this).referrerPolicy}get src(){return GH(this).src}get onload(){return this.__onload}get onerror(){return this.__onerror}get complete(){return GH(this).complete}get width(){return GH(this).width}get height(){return GH(this).height}addEventListener(e,t){var r=zH(this);(r[e]=r[e]||new Set).add(t)}removeEventListener(e,t){var r=zH(this);r[e]&&r[e].delete(t)}}var QH=new WeakMap,JH;function XH(e,t,r){var n;if(fe)return iz(t);var i=e.id,a=null!==(n=t._videoId)&&void 0!==n?n:t._livePusherId;if(e instanceof jH){var o=QH.get(t)||{};return o[i]||(o[i]=new JH(i,a,r),QH.set(t,o)),o[i]}if(e instanceof OH){if(!QH.has(t)){var s=Af.ExternalTexture||fH().ExternalTexture||g.g.ExternalTexture;s&&QH.set(t,new s(a,r))}return QH.get(t)}return t}h.onLoad((()=>{JH=g.g.SkiaCanvasExternalTexture,delete g.g.SkiaCanvasExternalTexture}));var YH=new WeakSet;function ZH(e){var t=GH(e);return be&&t._isWebStandard||e._isWebStandard?t._imageData:t}function eK(e,t,r){if(e[r]){var n=e[r].bind(e);e[r]=(...e)=>(e.forEach(((n,i)=>{if(n instanceof KH)e[i]=ZH(n);else if(n instanceof Xq){var a=n;if("number"!=typeof a._videoId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.`);e[i]=XH(t,a,"video")}else if(n instanceof iJ){var o=n;if("number"!=typeof o._livePusherId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext2D': The provided live-pusher context is invalid, make sure that comes from 'wx.createLivePusherContext'.`);e[i]=XH(t,o,"livepusher")}else n instanceof yH&&(e[i]=aq(n))})),n(...e))}}function tK(e,t){return!e||YH.has(e)||(YH.add(e),eK(e,t,"drawImage"),eK(e,t,"createPattern"),eK(e,t,"texImage2D"),eK(e,t,"texSubImage2D"),eK(e,t,"texImage3D"),eK(e,t,"texSubImage3D")),e}var rK=["scale","rotate","translate","setTransform","transform"],nK=["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"],iK=["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"],aK={},oK={};function sK(e){return"number"==typeof e}function lK(e){var t=null;if(null!==(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!==(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var r=t[1].slice(0,1),n=t[1].slice(1,2),i=t[1].slice(2,3);return[r=parseInt(r+r,16),n=parseInt(n+n,16),i=parseInt(i+i,16),255]}if(null!==(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((e=>Math.min(255,parseInt(e.trim(),10)))).concat(255);if(null!==(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(((e,t)=>3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))));var a=e.toLowerCase();if(lp(hH,a)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(hH[a]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),l=parseInt(t[1].slice(4,6),16),c=parseInt(t[1].slice(6,8),16);return[o,s,l,c=c>=0?c:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function cK(e){if(Array.isArray(e)){var t=[];return e.forEach((e=>{t.push(cK(e))})),t}if("object"==typeof e){var r={};for(var n in e)r[n]=cK(e[n]);return r}return e}function uK(e,t){return fe||be||_e||/wxfile:\/\//.test(t)?t:_V(t,e.nodeId,e.pluginId,e.webviewId)}class dK{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){MK()?this.colorStop.push([e,t]):this.colorStop.push([e,lK(t)])}}class pK{constructor(e){this.width=e}}class hK{constructor(e,t){this.image=e,this.repetition=t}}class fK{constructor(e,t,r,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=gV(e,t,n,r),this.drawingState=aK[this._id]=aK[this._id]||[],this.state=oK[this._id]=oK[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:MK()?"#000000":ve?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},fe||be){var i=be?new Af.OffscreenCanvas(0,0):document.createElement("canvas");this._context=i.getContext("2d")}}getActions(){var e=cK(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){t&&"function"!=typeof t&&(console.warn("CanvasContext.draw callback is not a function, got "+typeof t),t=null);var r=this.canvasId,n=cK(this.actions),i=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?JK({isWidgetCanvas:!0,actions:n,reserve:e}):JK({canvasId:r,actions:n,reserve:e,useHardwareAccelerate:i,complete:E.surroundThirdByTryCatch(t,"at canvasContext.draw callback function")},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,r,n){return new dK("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new dK("radial",[e,t,r])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e instanceof KH?e.src:e instanceof wK?e._src:uK(this,e),new hK(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){var t;return fe||be?(this._context.font=this.state.font,t=this._context.measureText(e)):qu("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new pK(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=oK[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:MK()?"#000000":ve?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(fe||MK())&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,a){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,a]}),this.subpath.push([i,a])}arc(e,t,r,n,i,a=!1){if(!ge||MK())return this.path.push({method:"arc",data:[e,t,r,n,i,a]}),void this.subpath.push([e,t]);var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r;if(this.subpath.push([o,s]),a&&n-i>=2*Math.PI||!a&&i-n>=2*Math.PI)this.subpath.push([o,s]);else{var l=e+Math.cos(i)*r,c=t+Math.sin(i)*r;this.subpath.push([l,c])}this.path.push({method:"arc",data:[e,t,r,n,i,a]})}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]],ge&&!MK()&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,r,n,i,a){if((!ge||MK())&&!a)return this.path.push({method:"arcTo",data:[e,t,r,n,i]}),void this.subpath.push([r,n]);var o=this.subpath[this.subpath.length-1],s=o[0],l=o[1];if(s===e&&l===t||e===r&&t===n||0===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===r||l===t&&l===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var c,u,d,p,h,f,{sqrt:g,acos:v,sin:m,tan:y,atan:_,PI:b}=Math,w=function(e){return e**2},S=s-e,C=l-t,I=r-e,A=n-t,k=v((S*I+C*A)/(g(w(S)+w(C))*g(w(I)+w(A))))/2,E=Math.round(i/m(k)*1e6)/1e6,T=Math.round(i/y(k)*1e6)/1e6;if(s-e==0)c=e,u=l-t>0?t+T:t-T;else if(l-t==0)c=s-e>0?e+T:e-T,u=t;else{var P=(l-t)/(s-e),x=l-P*s;u=P*(c=(g(w(S)+w(C))*T+S*e+C*t-x*C)/(S+P*C))+x}if(r-e==0)d=e,p=n-t>0?t+T:t-T;else if(n-t==0)d=r-e>0?e+T:e-T,p=t;else{var O=(n-t)/(r-e),R=n-O*r;p=O*(d=(g(w(I)+w(I))*T+I*e+A*t-R*A)/(I+O*A))+R}var M=(c+d)/2-e,D=(u+p)/2-t;if(0===D)h=e,f=D>0?t+E:t-E;else{var N=D/M,L=t-N*e;f=N*(h=(g(w(M)+w(D))*E+e*M+t*D-L*D)/(M+N*D))+L}h=Math.round(1e6*h)/1e6;var B=u-(f=Math.round(1e6*f)/1e6),$=c-h,F=b-2*k,j=_(B/$);0===B&&$<0&&(j=Math.PI);var W=(c-h)*(p-f)-(u-f)*(d-h);this.path.push({method:"arc",data:[h,f,i,j,W>0?j+F:j-F,W<0]}),this.subpath.push([d,p])}getTransform(){return this._transform}_setWidthTransformFactor(e){this.clearActions(),this.draw(!1),this._widthTransformFactor=e,this.setTransform(1,0,0,1,0,0)}_setHeightTransformFactor(e){this.clearActions(),this.draw(!1),this._heightTransformFactor=e,this.setTransform(1,0,0,1,0,0)}clip(){this.actions.push({method:"clip",data:cK(this.path)})}set lineDashOffset(e){if(fe||be||_e)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){fe||be||_e?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){var t;fe||be||_e?this.actions.push({method:"setShadowColor",data:[e]}):(t=MK()?e:ve&&0===this.state.shadowBlur?[]:lK(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}set shadowOffsetX(e){fe||be||_e?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){fe||be||_e?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;var t=e.match(/^(([\w-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(t){var r=t[1].trim().split(/\s/),n=parseFloat(t[3]),i=t[7],a=[],o="",s=this;if(r.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(a.push({method:"setFontStyle",data:["normal"]}),s.state.fontStyle="normal"):1===t&&l()})),1===r.length&&l(),o=a.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=i,fe||be||_e)return o=`${o} ${n}px ${i}`,void this.actions.push({method:"setFont",data:[o]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function l(){a.push({method:"setFontWeight",data:["normal"]}),s.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){gK(this,"setFillStyle",e)}set strokeStyle(e){gK(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function gK(e,t,r){"string"==typeof r?MK()?e.actions.push({method:t,data:["normal",r]}):e.actions.push({method:t,data:["normal",lK(r)]}):"object"==typeof r&&r instanceof dK?e.actions.push({method:t,data:[r.type,r.data,r.colorStop]}):r instanceof hK&&e.actions.push({method:t,data:["pattern",r.image,r.repetition]})}[].concat(rK,nK).forEach((e=>{fK.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:cK(this.path)})}:"fillRect"===e?function(e,t,r,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,r,n]}]})}:"strokeRect"===e?function(e,t,r,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,r,n]}]})}:"fillText"===e||"strokeText"===e?function(t,r,n,i){var a=[t.toString(),r,n];"number"==typeof i&&a.push(i),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,r,n,i,a,o,s,l,c){var u;t=t instanceof wK?t._src:uK(this,t),void 0===c&&(o=r,s=n,l=i,c=a,r=void 0,n=void 0,i=void 0,a=void 0),u=sK(r)&&sK(n)&&sK(i)&&sK(a)?[t,o,s,l,c,r,n,i,a]:sK(l)&&sK(c)?[t,o,s,l,c]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e?function(t,r,n,i,a,o){var{a:s,b:l,c:c,d:u,e:d,f:p}=this._transform;this._transform={a:t*s+r*c,b:t*l+r*u,c:n*s+i*c,d:n*l+i*u,e:a*s+o*c+d,f:a*l+o*u+p},this.actions.push({method:e,data:[t,r,n,i,a,o]})}:"setTransform"===e?function(t,r,n,i,a,o){this._transform={a:t,b:r,c:n,d:i,e:a,f:o};var s=1/(this._widthTransformFactor||1),l=1/(this._heightTransformFactor||1);this.actions.push({method:e,data:[t*s,r*l,n*s,i*l,a*s,o*l]})}:"scale"===e?function(t,r){var{a:n,b:i,c:a,d:o,e:s,f:l}=this._transform;this._transform={a:n*t,b:i*t,c:a*r,d:o*r,e:s,f:l},this.actions.push({method:e,data:[t,r]})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}})),iK.forEach((e=>{"setFillStyle"===e||"setStrokeStyle"===e?fK.prototype[e]=function(){gK(this,e,arguments[0])}:"setGlobalAlpha"===e?fK.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?fK.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);MK()||(t[3]=ve&&0===t[2]?[]:lK(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?fK.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=ve?t[0]&&!t[0].every((e=>0===e))?t[0]:[]:t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?fK.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:fK.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));class vK{constructor(e){this.actions=[],e instanceof vK&&this.actions.push(...e.actions)}addPath(e){e instanceof vK&&this.actions.push(...e.actions)}arc(...e){this.actions.push({method:"arc",args:e})}arcTo(...e){this.actions.push({method:"arcTo",args:e})}bezierCurveTo(...e){this.actions.push({method:"bezierCurveTo",args:e})}closePath(...e){this.actions.push({method:"closePath",args:e})}ellipse(...e){this.actions.push({method:"ellipse",args:e})}lineTo(...e){this.actions.push({method:"lineTo",args:e})}moveTo(...e){this.actions.push({method:"moveTo",args:e})}quadraticCurveTo(...e){this.actions.push({method:"quadraticCurveTo",args:e})}rect(...e){this.actions.push({method:"rect",args:e})}}function mK(e,t){e.beginPath(),t.actions.forEach((({method:t,args:r})=>{e[t](...r)}))}var yK=new WeakSet;function _K(e){if(!e||yK.has(e))return e;if(yK.add(e),e.fill){var t=e.fill.bind(e);e.fill=(...r)=>r[0]instanceof vK?(mK(e,r[0]),t(...r.slice(1))):t(...r)}if(e.stroke){var r=e.stroke.bind(e);e.stroke=(...t)=>t[0]instanceof vK?(mK(e,t[0]),r(...t.slice(1))):r(...t)}if(e.clip){var n=e.clip.bind(e);e.clip=(...t)=>t[0]instanceof vK?(mK(e,t[0]),n(...t.slice(1))):n(...t)}return e}class bK{constructor(e,t,r,n){this._canvasNumber=e,this._context=t,this._w=r,this._h=n,this._originalWidth=r,this._originalHeight=n}getContext(){return this._context}set width(e){this._context._setWidthTransformFactor(e/this._originalWidth),this._w=e}get width(){return this._w}set height(e){this._context._setHeightTransformFactor(e/this._originalHeight),this._h=e}get height(){return this._h}}class wK{constructor(){this._src=null,this._referrerPolicy=""}setSrc(e){this._src=e,/^(http|https):\/\//.test(e)?vm({url:e,success:e=>{this._src=e.tempFilePath,"function"==typeof this.onload&&this.onload()},fail:this.onerror||(()=>{})}):(/^\s*data:image\//.test(e)||/wxfile:\/\//.test(e)||(this._src="/"+e),"function"==typeof this.onload&&this.onload())}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class SK{sync(e){var t=()=>{e(),this.t=setTimeout(t,1e3/60)};this.t=setTimeout(t,1e3/60)}dispose(){clearInterval(this.t)}}var CK=yq;class IK{constructor(e,t){this.id=0,this.context=e,this.canvasInstance=t,this.callbacks=new Map,this.vSync=new SK,this.vSync.sync((()=>{var e=new Map(this.callbacks);if(this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[CK.now()])})),this.context.actions.length>0){for(var t=!0,r=this.context.actions,n=0;n<r.length;n++)if("clearRect"===r[n].method){var[i,a,o,s]=r[n].data;t=i>0||a>0||o<this.canvasInstance.width||s<this.canvasInstance.height}this.context.draw(t)}}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var AK=new WeakMap,kK=(e,t)=>{var r=new fK(t.webviewId,t.canvasId,t.nodeId,t.pluginId),n=new bK(t.canvasNumber,r,t.width,t.height),i=new IK(r,n);return AK.set(e,i),n};class EK extends yH{constructor(e){super(e);var{canvasNumber:t}=e;this.id=e.canvasNumber;var r=kK(this,e);r.width=gH,r.height=vH,sq(t,this,r)}_onUpdated(){}_onRemoved(){AK.get(this).dispose(),AK.delete(this)}getContext(e){return"2d"!==e?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):AV(tK,_K)(aq(this).getContext(),this)}get width(){var e=aq(this);return e&&e.width}set width(e){aq(this).width=e}get height(){var e=aq(this);return e&&e.height}set height(e){aq(this).height=e}createImage(){var e=QV(this),t=new wK;return new KH(SV(t),e)}createImageData(){return null}static createPath2D(...e){return new vK(...e)}createPath2D(...e){return EK.createPath2D(...e)}requestAnimationFrame(e){return AK.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){AK.get(this).cancelAnimationFrame(e)}toDataURL(e,t){return null}}var TK=e=>{var t={};return r=>t[r]=t[r]||new Promise((t=>{var n=e.createImage();n.onload=()=>t(n),n.src=r}))},PK=new WeakMap,xK=e=>{if(!PK.has(e)){var t=[],r=TK(e),n=!1,i=function(){var a=Hp()((function*(){if(!n&&t.length){n=!0;var a,[o,s,l,c]=t.shift(),u=e.getContext("2d");try{!1===s&&(u.fillStyle="#000000",u.strokeStyle="#000000",u.shadowColor="#000000",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e.width,e.height));for(var d=function*(){var{method:t,data:n}=o[p];switch(t){case"setLineDash":u.setLineDash(n[0]),u.lineDashOffset=n[1]||0;break;case"setLineDashOffset":u.lineDashOffset=n[0];break;case"setLineCap":u.lineCap=n[0];break;case"setLineJoin":u.lineJoin=n[0];break;case"setLineWidth":u.lineWidth=n[0];break;case"setFillStyle":case"setStrokeStyle":var i=void 0;switch(n[0]){case"normal":i=n[1];break;case"linear":i=u.createLinearGradient(...n[1]),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"radial":var a=n[1][0],s=n[1][1],l=[a,s,0,a,s,n[1][2]];i=u.createRadialGradient(...l),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"pattern":var c=yield r(n[1]);i=u.createPattern(c,n[2])}u[t[3].toLowerCase()+t.slice(4)]=i;break;case"setGlobalAlpha":u.globalAlpha=n[0]/255;break;case"setGlobalCompositeOperation":u.globalCompositeOperation=n[0];break;case"setShadow":u.shadowOffsetX=n[0],u.shadowOffsetY=n[1],u.shadowBlur=n[2],u.shadowColor=n[3];break;case"setShadowOffsetX":u.shadowOffsetX=n[0];break;case"setShadowOffsetY":u.shadowOffsetY=n[0];break;case"setShadowBlur":u.shadowBlur=n[0];break;case"setShadowColor":u.shadowColor=n[0];break;case"setFont":u.font=n[0];break;case"setFontSize":u.font=u.font.replace(/\d+\.?\d*px/,n[0]+"px");break;case"setFontStyle":u.fontStyle=n[0];break;case"setFontWeight":u.fontWeight=n[0];break;case"setFontFamily":u.fontFamily=n[0];break;case"setTextBaseline":u.textBaseline="normal"===n[0]?"alphabetic":n[0];break;case"setTextAlign":u.textAlign=n[0];break;case"setMiterLimit":u.miterLimit=n[0];break;case"save":u.save(...n);break;case"restore":u.restore(...n);break;case"lineTo":u.lineTo(...n);break;case"clip":n.forEach((e=>{u[e.method](...e.data)})),u.clip();break;case"scale":u.scale(...n);break;case"rotate":var d=n;n&&n.map&&(d=n.map((e=>"string"==typeof e?parseFloat(e):e))),u.rotate(...d);break;case"translate":u.translate(...n);break;case"transform":u.transform(...n);break;case"setTransform":u.setTransform(...n);break;case"fill":u.fill(...n);break;case"fillText":var[h,...f]=n;f&&f.map&&(f=f.map((e=>"string"==typeof e?parseFloat(e):e))),u.fillText(h,...f);break;case"fillRect":u.fillRect(...n);break;case"fillPath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.fill();break;case"stroke":u.stroke(...n);break;case"strokeText":var[g,...v]=n;v&&v.map&&(v=v.map((e=>"string"==typeof e?parseFloat(e):e))),u.strokeText(g,...v);break;case"strokeRect":u.strokeRect(...n);break;case"strokePath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.stroke();break;case"clearRect":u.clearRect(...n);break;case"drawImage":var[m,...y]=n;y&&y.map&&(y=y.map((e=>"string"==typeof e?parseFloat(e):e)));var _=yield r(m);u.drawImage.apply(u,[_,...y.slice(4,8),...y.slice(0,4)]);break;case"setWidth":var[b]=n;e.width=b;break;case"setHeight":var[w]=n;e.height=w;break;default:throw new Error(`unknown method "${t}" in actions.`)}},p=0;p<o.length;p++)yield*d()}catch(e){(a=e).message}a?c(a):l(),n=!1,i()}}));return function(){return a.apply(this,arguments)}}();PK.set(e,((e,r=!1)=>e?new Promise(((n,a)=>{t.push([e,r,n,a]),i()})):Promise.resolve()))}return PK.get(e)},OK=function(){var e=Hp()((function*(e,t,r){return xK(e)(t,r)}));return function(t,r,n){return e.apply(this,arguments)}}();function RK(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}var MK=RK((()=>{var e=ge&&H.useXWebCanvas,t=ve&&H.useSkiaCanvas;return e||t})),DK=0,NK=0,LK=4500,BK=Date.now;function $K(e){return FK.apply(this,arguments)}function FK(){return FK=Hp()((function*(e,t="",r=""){var n=Number(e.x)||0,i=Number(e.y)||0,a=Number(e.width)||0,o=Number(e.height)||0;if(0===a)throw new Error("the source width is 0");if(0===o)throw new Error("the source height is 0");if(MK()){var s=yield ZV(Fc.currentWebviewId,e.canvasId,r,t),l=(yield DQ(s,"2d")).getContext("2d").getImageData({x:n,y:i,width:a,height:o});return{width:l.width,height:l.height,data:l.data}}var c=YV(Fc.currentWebviewId,e.canvasId,r,t);if("number"!=typeof c)throw new Error("fail canvas is empty");if(fe||be||_e){var u=yield pq(c,"getImageData",{x:n,y:i,width:a,height:o});return{height:u.height,width:u.width,data:be?new Uint8ClampedArray(u.data):yV(u.data)}}var d=yield zu("canvasGetImageData",{canvasId:c,jsInvokedAt:Date.now(),x:n,y:i,width:a,height:o});if("[object ArrayBuffer]"!==Object.prototype.toString.call(d.data))throw delete d.data,new Ec("",d);return{height:o,width:a,data:new Uint8ClampedArray(d.data)}})),FK.apply(this,arguments)}"undefined"!=typeof __widgetConfig__&&(LK="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25);var jK=Pc("canvasGetImageData",$K);function WK(e,t){var r=Wp(t,Fc.currentWebviewId);jK(e,r)}function UK(e,t,r){jK(e,r,t)}function VK(e){return qK.apply(this,arguments)}function qK(){return qK=Hp()((function*(e,t="",r=""){if("number"!=typeof e.width)throw new Error("invalid width argument");if(!e.data||"[object Uint8ClampedArray]"!==Object.prototype.toString.call(e.data))throw new Error("data argument must be an Uint8ClampedArray");var n=Number(e.x)||0,i=Number(e.y)||0,a=e.data,o=e.width,s="number"==typeof e.height?e.height:a.length/o/4|0;if(o*s*4!==a.length)throw new Error("invalid data format");if(MK()){var l=yield ZV(Fc.currentWebviewId,e.canvasId,r,t),c=yield DQ(l,"2d"),u=c.createImageData(a,o,s);c.getContext("2d").putImageData(u,n,i)}else{var d=YV(Fc.currentWebviewId,e.canvasId,r,t);if("number"!=typeof d)throw new Error("fail canvas is empty");(fe||be||_e)&&(yield pq(d,"putImageData",{x:n,y:i,width:o,height:s,data:be||_e?S.new(a.buffer).id:mV(a)})),yield zu("canvasPutImageData",{canvasId:d,jsInvokedAt:Date.now(),x:n,y:i,width:o,height:s,data:a.buffer})}})),qK.apply(this,arguments)}var zK=Pc("canvasPutImageData",VK);function GK(e,t){var r=Wp(t,Fc.currentWebviewId);zK(e,r)}function HK(e,t,r){zK(e,r,t)}function KK(e){return QK.apply(this,arguments)}function QK(){return(QK=Hp()((function*({isWidgetCanvas:e,canvasId:t,actions:r,reserve:n,useHardwareAccelerate:i},a=Fc.currentWebviewId,o="",s=""){var l=BK();if(Array.isArray(r)){if(e){if(l-DK<LK){var c="调用 draw 过于频繁。";throw(NK+=1)>500&&(NK=0,console.warn(c)),new Error(c)}return DK=l,yield zu("drawCanvas",{canvasId:void 0,reserve:n,actions:r})}var u=YV(a,t,o,s);if(u||(u=yield ZV(a,t,o,s)),MK()){var d=yield DQ(u,"2d");return yield OK(d,r,n)}return fe||be||_e?yield gq(u,r,n):yield zu("drawCanvas",{canvasId:u,reserve:n,useHardwareAccelerate:i,actions:r})}}))).apply(this,arguments)}var JK=Pc("drawCanvas",KK);function XK(e){JK(e)}function YK(e,t,r){JK(e,Fc.currentWebviewId,t,r)}var ZK=null,eQ=!0,tQ=(e,t,r,n)=>{r*=t,n*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width*t):r-e.x,e.height=e.height?Math.min(n-e.y,e.height*t):n-e.y,eQ?(e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t):(e.destWidth=e.destWidth?e.destWidth/t:e.width/t/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t/t)},rQ=(e,t,r,n)=>{e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width):r-e.x,e.height=e.height?Math.min(n-e.y,e.height):n-e.y,eQ?(e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t):(e.destWidth=e.destWidth?e.destWidth:e.width,e.destHeight=e.destHeight?e.destHeight:e.height)},nQ=function(){var e=Hp()((function*(e,t){var r=ap({},t),n=300,i=150,a=KV(t.canvasNumber);return a&&(n=a.width,i=a.height),!ve||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?rQ(r,e.pixelRatio,n,i):tQ(r,e.pixelRatio,n,i),yield zu("canvasToTempFilePath",{...r,canvasId:t.canvasNumber})}));return function(t,r){return e.apply(this,arguments)}}();function iQ(e){return aQ.apply(this,arguments)}function aQ(){return aQ=Hp()((function*(e){if(e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,e.canvas){var t=e.canvas;delete e.canvas;var r=QV(t),n=null!=r&&r.width?t.width/r.width:ZK.pixelRatio;if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,ge||t instanceof OH){if(e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||t.width-e.x,e.height=Number(e.height)||t.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y),0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");if(t instanceof OH){var i=t.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield zu("canvasToTempFilePath",{...e,x:0,y:0,data:i.data.buffer,needScaleData:!0})}return e.viewId=t.id,yield zu("xwebCanvasToTempFilePath",e)}if(ve)return e.canvasId=t.id,rQ(e,n,t.width/n,t.height/n),yield new Promise((e=>setTimeout(e,100))),yield zu("canvasToTempFilePath",e);if(fe){e.width*=n,e.height*=n,e.x=e.x?e.x*n:0,e.y=e.y?e.y*n:0,e.width=Number(e.width)||t.width-e.x,e.height=Number(e.height)||t.height-e.y,e.destWidth=e.destWidth||e.width,e.destHeight=e.destHeight||e.height,e.x+e.width>t.width&&(e.width=t.width-e.x),e.y+e.height>t.height&&(e.height=t.height-e.y);var a=document.createElement("canvas"),o=a.getContext("2d");a.width=e.destWidth,a.height=e.destHeight,o.drawImage(aq(t),e.x,e.y,e.width,e.height,0,0,e.destWidth,e.destHeight);var s=a.toDataURL(e.fileType,e.quality);return s=s.replace(/^data:image\/(jpg|png|jpeg);base64,/,""),yield zu("base64ToTempFilePath",{base64Data:s,...e})}t instanceof EK&&(yield new Promise((e=>{t.requestAnimationFrame((()=>{t.requestAnimationFrame(e)}))})));var{canvasNumber:l}=QV(t),{dataUrl:c}=yield pq(l,"toDataURL",e);return yield zu("base64ToTempFilePath",{base64Data:c,...e})}if(fe||be||_e){var{dataUrl:u}=yield pq(e.canvasNumber,"toDataURL",e);return yield zu("base64ToTempFilePath",{base64Data:u,...e})}if(MK()&&ge){var d=yield DQ(e.canvasNumber,"2d");if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||d.width-e.x,e.height=Number(e.height)||d.height-e.y,0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");var p=d.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield zu("canvasToTempFilePath",{...e,data:p.data.buffer})}return ZK||(ZK=J_()),nQ(ZK,e)})),aQ.apply(this,arguments)}function oQ(e){return sQ.apply(this,arguments)}function sQ(){return(sQ=Hp()((function*(e,t="",r=""){if(!e.canvasId&&!e.canvas)throw new Error("should pass canvasId or canvas");if(e.canvas)return ZK||(ZK=J_()),iQ(e);var n=YV(Fc.currentWebviewId,e.canvasId,r,t);if("number"!=typeof n)throw new Error("fail canvas is empty");return iQ({...e,canvasNumber:n})}))).apply(this,arguments)}var lQ=Pc("canvasToTempFilePath",oQ);function cQ(e,t){var r=Wp(t,Fc.currentWebviewId);lQ(e,r)}function uQ(e,t,r){lQ(e,r,t)}var dQ={},pQ={},hQ={},fQ=Fc.currentWebviewId;fe&&(Br("canvasPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),pQ[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),tT((e=>{var t=e.webviewId;hQ[t]||(NC(t,(()=>{delete pQ[t],delete dQ[t],delete hQ[t]}),"DevtoolsCanvas"),hQ[t]=!0);var r=e.webviewId;if(r!==fQ)for(var[n,i]of Object.entries(dQ))if(String(n)===String(r)){for(var a of i){var o=oq(a);o&&(o.style.visibility="visible")}var s=pQ[n];s?window.scrollTo(s.scrollLeft,s.scrollTop):window.scrollTo(0,0)}else for(var l of i){var c=oq(l);c&&(c.style.visibility="hidden")}fQ=r})));class gQ extends wH{loadFontFace(e){return Hp()((function*(){var t=globalThis.FontFace;"function"==typeof t&&(yield Promise.all(e.map(function(){var e=Hp()((function*(e){var r=new t(e.family,`url(${e.src})`,{style:e.style,weight:e.weight,variant:e.variant});yield r.load(),document.fonts.add(r)}));return function(t){return e.apply(this,arguments)}}())))}))()}}var vQ=e=>{var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.visibility=e.webviewId===Fc.currentWebviewId?"visible":"hidden",document.body.appendChild(t),t};class mQ extends yH{constructor(e){super(e),wH.initialize(mQ,gQ);var{webviewId:t,canvasNumber:r}=e;(this.id=e.canvasNumber,null!==t)?(dQ[t]=dQ[t]||[]).push(r):this.isOffscreenCanvas=!0;var n=vQ(e);sq(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||gH,n.height=e.height||vH):(n.width=gH,n.height=vH)}_onUpdated(e){var t=aq(this);t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.display=e.width<=0||e.height<=0||e.hidden?"none":""}_onRemoved(){var{webviewId:e,canvasNumber:t}=QV(this);if(null!==e){var r=dQ[e]=dQ[e]||[];r.splice(r.indexOf(t),1)}var n=aq(this);document.body.removeChild(n)}getContext(e,t){return e!==QV(this).type?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):AV(tK)(aq(this).getContext(e,t),this)}createImage(){var e=QV(this);return window.__global.createCustomImage((t=>wV(t,e.nodeId,e.pluginId,e.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}createImageData(e,t,r){if(!e)return null;t=parseFloat(t),r=parseFloat(r);for(var n=document.createElement("canvas").getContext("2d").createImageData(t,r),i=0;i<e.length;i++)n.data[i]=e[i];return n}static createPath2D(...e){return window.Path2D?new window.Path2D(...e):null}createPath2D(...e){return mQ.createPath2D(...e)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}get width(){return aq(this).width}set width(e){var t=aq(this);t&&(t.width=e)}get height(){return aq(this).height}set height(e){var t=aq(this);t&&(t.height=e)}toDataURL(e,t){var r=aq(this);return r?r.toDataURL(e,t):""}}class yQ{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var _Q=yq;class bQ{constructor(){this.id=0,this.callbacks=new Map,this.vSync=new yQ,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[_Q.now()])}))}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class wQ{constructor(){this._src=null,this._referrerPolicy="",this._imageData="",this._isWebStandard=!0}setSrc(e){var t=this;return Hp()((function*(){try{var r;if(t._src=e,/^(http|https):\/\//.test(e)){var n=yield Af.fetchAsBlob(t._src,{referrerPolicy:t._referrerPolicy});r=yield globalThis.createImageBitmap(n)}else if(/^data:image\/(jpg|png|jpeg);base64,/.test(e)){for(var i=/^data:image\/(jpg|png|jpeg);base64,(.*)$/.exec(e),a=(i[1],atob(i[2])),o=[],s=0;s<a.length;++s)o[s]=a.charCodeAt(s);var l=new Uint8Array(o),c=new Af.Blob([l]);r=yield globalThis.createImageBitmap(c)}else{var u=new Af.Blob([Nf(e)]);r=yield globalThis.createImageBitmap(u)}t._imageData=r,"function"==typeof t.onload&&t.onload()}catch(e){console.error("image load error",e),"function"==typeof t.onerror&&t.onerror(e)}}))()}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}var SQ=new WeakMap,CQ=(e,t)=>{var r=new bQ;return SQ.set(e,r),null!==t.webviewId?Af.getOffScreenCanvas(t.canvasNumber):new Af.OffscreenCanvas(t.width,t.height)};class IQ extends yH{constructor(e){super(e);var{canvasNumber:t,webviewId:r}=e;this.id=t,null===r&&(this.isOffscreenCanvas=!0);var n=CQ(this,e);sq(t,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||gH,n.height=e.height||vH):(n.width=gH,n.height=vH)}_onUpdated(){}_onRemoved(){SQ.get(this).dispose(),SQ.delete(this)}requestAnimationFrame(e){return SQ.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){return SQ.get(this).cancelAnimationFrame(e)}getContext(e,t){if(e!==QV(this).type)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=aq(this).getContext(e,t);return r?AV(tK,_K)(r,this):null}get width(){return aq(this).width}set width(e){var t=aq(this);t&&(t.width=e)}get height(){return aq(this).height}set height(e){var t=aq(this);t&&(t.height=e)}createImage(){var e=QV(this),t=new wQ;return new KH(SV(t),e)}createImageData(){}static createPath2D(...e){return new vK(...e)}createPath2D(...e){return IQ.createPath2D(...e)}toDataURL(e,t){throw new Error("not supported")}}var AQ={},kQ=()=>{for(;;){var e=Math.floor(32767*Math.random());if(!AQ[e])return AQ[e]=!0,e}};function EQ(e,t,r,n,i,a){var o={type:r,canvasId:"",width:e,height:t,canvasNumber:-1*kQ(),nodeId:n,pluginId:i,webviewId:null,lastTouches:[],data:{},compPath:"",isBindingCanvas:!0};try{if("2d"===r&&kV())return new EK(o);if(ve||ge)return"2d"===r&&!EH()&&!a?new jH(o):new OH(o);if(be)return new IQ(o);if(fe)return window&&"function"==typeof window.scrollTo?new mQ(o):(console.warn("开发工具暂不支持获取 Canvas 节点"),null)}catch(e){e.message}return null}var TQ=1,PQ=1;function xQ(e=TQ,t=PQ,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},{type:i,width:a,height:o,compInst:s,pluginId:l,useMagicBrush:c=!1}={type:"webgl",width:TQ,height:PQ,compInst:null,pluginId:"",...n},u=Wp(s,Fc.currentWebviewId,!1)||"";switch(i){case"2d":case"webgl":case"webgl2":return EQ(a,o,i,u,l,c);default:throw new Error(`unknown type "${i}"`)}}function OQ(e){return ve||ge?e.isMagicBrushCanvas?new OH(e):e.isSkiaCanvas?new jH(e):new EK(e):fe?window&&"function"==typeof window.scrollTo?new mQ(e):(console.warn("开发工具暂不支持获取 Canvas 节点"),null):be?new IQ(e):new EK(e)}var RQ=function(){var e=Hp()((function*(){for(;ge&&!Af.findElementById;)yield new Promise((e=>setTimeout(e,100)))}));return function(){return e.apply(this,arguments)}}();function MQ(){if(!(this instanceof MQ))throw new TypeError("Cannot call Path2D as a function");return console.warn("`new Path2D()` should not be used, please use `canvas.createPath2D()`."),ve||ge?kV()?EK.createPath2D():EH()?OH.createPath2D():jH.createPath2D():fe?mQ.createPath2D():be?IQ.createPath2D():EK.createPath2D()}function DQ(e,t){return NQ.apply(this,arguments)}function NQ(){return NQ=Hp()((function*(e,t){if(!t)return null;try{var r=yield XV(e);if(!r.isBindingCanvas)return null;r.isMagicBrushCanvas&&(yield RQ());var n=nq(e);return n||(n=OQ(r)),yield wH.ready(),n}catch(e){e.stack,T.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at getOrCreateCanvasInterface"})}return null})),NQ.apply(this,arguments)}var LQ=()=>new fK,BQ=(e,t,r="",n="")=>new fK(e,t,r,n),$Q=(e,t)=>{var r=Wp(t,Fc.currentWebviewId);return BQ(Fc.currentWebviewId,e,r)},FQ=(e,t,r)=>BQ(Fc.currentWebviewId,e,r,t),jQ,WQ=ge,UQ={};Br("xWebLivePusherSupported",(({enforcedXWebLive:e,canInsert2XWeb:t})=>{WQ=e||t,sJ({enforcedXWebLive:e,canInsert2XWeb:t})})),Br("updateLivePusherPictureInPicture",((e={},t)=>{UQ.webviewId=t,UQ.pusherId=e.pusherId}));var VQ=e=>{var t=Object.keys(e),r={},n=[];return t.forEach((t=>{var i=e[t];if("string"==typeof i&&i){if(!/^(wxfile|https?):\/\//.test(i))return void(r[t]=jx(i,!1));if(/^cloud:\/\//.test(i))return void n.push({p:i,key:t})}r[t]=i})),n.length?new Promise((e=>{qx(n.map((e=>e.p)),"image",(t=>{t.data.forEach(((e,r)=>{t[n[r].key]=e})),e(t)}))})):Promise.resolve(r)},qQ={},zQ={},GQ=new Ft,HQ={},KQ=Object.assign;function QQ(e){HQ[e]||(HQ[e]=!0,NC(e,(e=>{delete HQ[e],Object.keys(qQ).forEach((t=>{new RegExp("^"+e).test(t)&&(delete zQ[`${e}_${qQ[t]}`],delete qQ[t])})),pJ(e)}),"LivePusherContext"))}function JQ(e,t,r){if(fe)console.warn(`开发者工具暂不支持调用 LivePusherContext.${e} 方法`);else{t&&t.type;var n=Gu(r);n(WQ?"operateXWebLivePusher":"operateLivePusher",t)}}function XQ(e,t){var r=`${this.webviewId}_${this.pluginId}`,n="exitPictureInPicture"===e;"number"==typeof qQ[r]?(WQ?t.viewId=n?t.pusherId:qQ[r]:t.livePusherId=n?t.pusherId:qQ[r],t.type=e,JQ(e,t,this.pluginId)):GQ.once("livePusherInserted",(()=>{XQ.call(this,e,t)}))}function YQ(e,...t){var r=`${this.webviewId}_${this.pluginId}`;"number"==typeof qQ[r]?e.apply(this,t):GQ.once("livePusherInserted",(()=>{YQ.call(this,e,...t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((e=>{Br(e,(({viewId:e,pusherId:t,pluginId:r,data:n},i)=>{var a=WQ?e:t,o=`${i}_${r}`;qQ[o]=a,zQ[`${i}_${a}`]=n,GQ.emit("livePusherInserted"),QQ(i),dJ(i)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((e=>{Br(e,(({viewId:e,pusherId:t,pluginId:r},n)=>{var i=WQ?e:t;delete qQ[`${n}_${r}`],delete zQ[`${n}_${i}`]}))}));var ZQ=(jQ=class{constructor(e,t){this.webviewId=e,this.pluginId=t}get _livePusherId(){var e=`${this.webviewId}_${this.pluginId}`;return qQ[e]}start(e={}){XQ.call(this,"start",e)}stop(e={}){XQ.call(this,"stop",e)}pause(e={}){XQ.call(this,"pause",e)}resume(e={}){XQ.call(this,"resume",e)}switchCamera(e={}){XQ.call(this,"switchCamera",e)}snapshot(e={}){var t="view"===e.sourceType?"snapshotView":"snapshot";XQ.call(this,t,KQ({quality:"raw"},e))}toggleTorch(e={}){XQ.call(this,"toggleTorch",e)}playBGM(e={}){yc("LivePusherContext.playBGM",e,{url:""})&&XQ.call(this,"playBGM",e)}stopBGM(e={}){XQ.call(this,"stopBGM",e)}pauseBGM(e={}){XQ.call(this,"pauseBGM",e)}resumeBGM(e={}){XQ.call(this,"resumeBGM",e)}setBGMVolume(e={}){yc("LivePusherContext.setBGMVolume",e,{volume:0})&&XQ.call(this,"setBGMVolume",e)}setMICVolume(e={}){yc("LivePusherContext.setMICVolume",e,{volume:0})&&XQ.call(this,"setMICVolume",e)}startPreview(e={}){XQ.call(this,"startPreview",e)}stopPreview(e={}){XQ.call(this,"stopPreview",e)}sendMessage(e={}){XQ.call(this,"sendMessage",e)}exitPictureInPicture(e={}){UQ&&XQ.call(this,"exitPictureInPicture",KQ({pusherId:UQ.pusherId},e))}setZoom(e={}){yc("LivePusherContext.setZoom",e,{zoom:1})&&XQ.call(this,"setZoom",e)}getMaxZoom(e={}){XQ.call(this,"getMaxZoom",e)}applyFilter(e={}){VQ({path:e.path}).then((({path:t})=>{XQ.call(this,"applyFilter",KQ({},e,{path:t}))}))}clearFilters(e={}){XQ.call(this,"clearFilters",e)}applySticker(e={}){var t=Array.isArray(e.stickers)?e.stickers:[];VQ(t.map((e=>e.path))).then((r=>{XQ.call(this,"applySticker",KQ({},e,{stickerType:e.type,stickers:t.map(((e,t)=>({...e,path:r[t]})))}))}))}clearStickers(e={}){XQ.call(this,"clearStickers",e)}applyLipStickMakeup({success:e,fail:t,complete:r,...n}={}){VQ({path:n.path,shimmerPath:n.shimmerPath}).then((({path:i,shimmerPath:a})=>{XQ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"lipStick",makeup:{...n,path:i,shimmerPath:a}})}))}applyEyeShadowMakeup({success:e,fail:t,complete:r,...n}={}){VQ({path:n.path,shimmerPosition:n.shimmerPosition}).then((({path:i,shimmerPosition:a})=>{XQ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeShadow",makeup:{...n,path:i,shimmerPosition:a}})}))}applyBlusherStickMakeup({success:e,fail:t,complete:r,...n}={}){VQ({path:n.path}).then((({path:i})=>{XQ.call(this,"applyMakeup",KQ({},n,{success:e,fail:t,complete:r,makeupType:"blusherStick",makeup:{...n,path:i}}))}))}applyFaceContourMakeup({success:e,fail:t,complete:r,...n}={}){VQ({path:n.path}).then((({path:i})=>{XQ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"faceContour",makeup:{...n,path:i}})}))}applyEyeBrowMakeup({success:e,fail:t,complete:r,...n}={}){VQ({path:n.path}).then((({path:i})=>{XQ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeBrow",makeup:{...n,path:i}})}))}clearMakeups(e={}){XQ.call(this,"clearMakeups",e)}},F()(jQ.prototype,"start",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"start"),jQ.prototype),F()(jQ.prototype,"stop",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"stop"),jQ.prototype),F()(jQ.prototype,"pause",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"pause"),jQ.prototype),F()(jQ.prototype,"resume",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"resume"),jQ.prototype),F()(jQ.prototype,"switchCamera",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"switchCamera"),jQ.prototype),F()(jQ.prototype,"snapshot",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"snapshot"),jQ.prototype),F()(jQ.prototype,"toggleTorch",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"toggleTorch"),jQ.prototype),F()(jQ.prototype,"playBGM",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"playBGM"),jQ.prototype),F()(jQ.prototype,"stopBGM",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"stopBGM"),jQ.prototype),F()(jQ.prototype,"pauseBGM",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"pauseBGM"),jQ.prototype),F()(jQ.prototype,"resumeBGM",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"resumeBGM"),jQ.prototype),F()(jQ.prototype,"setBGMVolume",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"setBGMVolume"),jQ.prototype),F()(jQ.prototype,"setMICVolume",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"setMICVolume"),jQ.prototype),F()(jQ.prototype,"startPreview",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"startPreview"),jQ.prototype),F()(jQ.prototype,"stopPreview",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"stopPreview"),jQ.prototype),F()(jQ.prototype,"sendMessage",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"sendMessage"),jQ.prototype),F()(jQ.prototype,"exitPictureInPicture",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"exitPictureInPicture"),jQ.prototype),F()(jQ.prototype,"setZoom",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"setZoom"),jQ.prototype),F()(jQ.prototype,"getMaxZoom",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"getMaxZoom"),jQ.prototype),F()(jQ.prototype,"applyFilter",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyFilter"),jQ.prototype),F()(jQ.prototype,"clearFilters",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"clearFilters"),jQ.prototype),F()(jQ.prototype,"applySticker",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applySticker"),jQ.prototype),F()(jQ.prototype,"clearStickers",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"clearStickers"),jQ.prototype),F()(jQ.prototype,"applyLipStickMakeup",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyLipStickMakeup"),jQ.prototype),F()(jQ.prototype,"applyEyeShadowMakeup",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyEyeShadowMakeup"),jQ.prototype),F()(jQ.prototype,"applyBlusherStickMakeup",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyBlusherStickMakeup"),jQ.prototype),F()(jQ.prototype,"applyFaceContourMakeup",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyFaceContourMakeup"),jQ.prototype),F()(jQ.prototype,"applyEyeBrowMakeup",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"applyEyeBrowMakeup"),jQ.prototype),F()(jQ.prototype,"clearMakeups",[At],Object.getOwnPropertyDescriptor(jQ.prototype,"clearMakeups"),jQ.prototype),jQ),eJ=new WeakMap,tJ=e=>(eJ.has(e)||eJ.set(e,{}),eJ.get(e)),rJ=(e,t={})=>{var r=tJ(e);return eJ.set(e,{...r,...t})};function nJ(e,t){var r=new Uint8Array(e),n=new Uint8Array(t);return r.length===n.length&&(n.set(r),!0)}class iJ extends ZQ{constructor(...e){super(...e),GQ.addListener(`onLivePusherCameraFrame_${this.webviewId}`,(e=>{var{buffer:t,bufferId:r,onCustomRendererFrameEvent:n,width:i,height:a}=tJ(this);if(n){var{deviceOrientationRotation:o}=e,s=n.call(this,{orientation:o,buffer:t});if(s instanceof ArrayBuffer&&(s===t||nJ(s,t))){var l={bufferId:r,rotation:0,width:i,height:a};XQ.call(this,"sendCustomVideoFrame",l)}}})),GQ.addListener(`onLivePusherCameraFrameBufferUpdate_${this.webviewId}`,(e=>{var t,r=tJ(this),{bufferId:n,rotation:i,height:a,width:o}=e,s=Th();if(!s)throw new Error("onCustomRendererEvent:frame is not supported on your device");var l=s.get(n);if(!l)throw new Error("onCustomRendererEvent:frame fails to allocate ArrayBuffer");l.__proto__=ArrayBuffer.prototype,rJ(this,{bufferId:n,buffer:l,rotation:i,height:a,width:o}),null===(t=r.onCustomRendererUpdateEvent)||void 0===t||t.call(this,{width:o,height:a})}))}onCustomRendererEvent(e,t){"frame"===e?(tJ(this).onCustomRendererFrameEvent=t,YQ.call(this,t,{orientation:0,buffer:new ArrayBuffer})):"update"===e&&(tJ(this).onCustomRendererUpdateEvent=t)}offCustomRendererEvent(e){var t=tJ(this).onCustomRendererUpdateEvent.forEach((r=>{t[r]===e&&(t[r]=null)}))}createOffscreenCanvas(e){return xQ({...e,useMagicBrush:!0})}}function aJ(e,t,r,n=""){return new iJ(t,n)}var oJ=ge,sJ=({enforcedXWebLive:e,canInsert2XWeb:t})=>{oJ=e||t},lJ={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus",onLivePusherBGMStart:"bindbgmstart",onLivePusherBGMProgress:"bindbgmprogress",onLivePusherBGMComplete:"bindbgmcomplete",onLivePusherError:"binderror",onLivePusherAudioVolume:"bindaudiovolumenotify"},cJ={onXWebLivePusherEvent:"bindstatechange",onXWebLivePusherNetStatus:"bindnetstatus",onXWebLivePusherBGMStart:"bindbgmstart",onXWebLivePusherBGMProgress:"bindbgmprogress",onXWebLivePusherBGMComplete:"bindbgmcomplete",onXWebLivePusherError:"binderror",onXWebLivePusherAudioVolume:"bindaudiovolumenotify"},uJ={};function dJ(e){var t=uJ[e];if(uJ[e]=[],t)for(var r=0;r<t.length;r++){var n=t[r];hJ(n[0],n[1],n[2])}}function pJ(e){delete uJ[e]}function hJ(e,t,r){var n=oJ?t.viewId:t.livePusherId,i=zQ[`${r}_${n}`],a=oJ?cJ[e]:lJ[e],o={};switch(e){case"onLivePusherEvent":case"onXWebLivePusherEvent":o.code=t.errCode,o.message=t.errMsg,Or("onLivePusherStateChange"+t.livePusherId,{code:t.errCode},[r]);break;case"onLivePusherNetStatus":case"onXWebLivePusherNetStatus":t.info=t.info||{},o.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netQualityLevel:t.info.NET_QUALITY_LEVEL,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT,videoCache:t.info.VIDEO_CACHE,audioCache:t.info.AUDIO_CACHE},Or("onLivePusherNetStatusChagne"+t.livePusherId,{info:o.info},[r]);break;case"onLivePusherBGMProgress":case"onXWebLivePusherBGMProgress":o.progress=t.progress,o.duration=t.duration;break;case"onLivePusherBGMComplete":case"onXWebLivePusherBGMComplete":o.errCode=t.errCode;break;case"onLivePusherError":case"onXWebLivePusherError":o.errCode=t.errCode,o.errMsg=t.errMsg,o.data=t.data;var s={errcode:t.errcode};t.errno&&(s.errno=t.errno),Or("onLivePusherError"+t.livePusherId,s,[r]);break;case"onLivePusherAudioVolume":case"onXWebLivePusherAudioVolume":o.volume=t.volume;break;case"onLivePusherCameraFrame":case"onXWebLivePusherCameraFrame":GQ.emit(`onLivePusherCameraFrame_${r}`,t);break;case"onLivePusherCameraFrameBufferUpdate":case"onXWebLivePusherCameraFrameBufferUpdate":GQ.emit(`onLivePusherCameraFrameBufferUpdate_${r}`,t)}if(!i)return uJ[r]=uJ[r]||[],void uJ[r].push([e,t,r]);if(oJ&&("onXWebLivePusherEvent"===e||"onXWebLivePusherNetStatus"===e)){var l={...t.info};"onXWebLivePusherEvent"===e&&(l={code:t.errCode,message:t.errMsg}),Or("xWebLivePusherStateChange",{type:e,detail:{info:l},viewId:t.viewId},[r])}i.handlers[a]&&"function"==typeof Fc.webviewEventCallback&&(oJ&&"onXWebLivePusherEvent"===e&&t&&-9999999===t.errCode||Fc.webviewEventCallback({data:{type:a.replace("bind",""),target:i.target,currentTarget:i.target,timeStamp:Date.now()-i.createdTimeStamp,touches:[],detail:o},eventName:i.handlers[a],webviewId:r,nodeId:i.nodeId}))}var fJ=["onLivePusherEvent","onLivePusherNetStatus","onLivePusherBGMStart","onLivePusherBGMProgress","onLivePusherBGMComplete","onLivePusherError","onLivePusherAudioVolume","onLivePusherCameraFrame","onLivePusherCameraFrameBufferUpdate"],gJ=["onXWebLivePusherEvent","onXWebLivePusherNetStatus","onXWebLivePusherBGMStart","onXWebLivePusherBGMProgress","onXWebLivePusherBGMComplete","onXWebLivePusherError","onXWebLivePusherAudioVolume","onXWebLivePusherCameraFrame","onXWebLivePusherCameraFrameBufferUpdate"];fJ.concat(gJ).forEach((e=>{Yt(e,((t={},r=0)=>{hJ(e,t,r)}))})),Yt("onEnterLivePusherPictureInPicture",((e={})=>{var t=UQ.webviewId,r=zQ[`${t}_${e.livePusherId}`];r&&r.handlers.bindenterpictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"enterpictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindenterpictureinpicture,webviewId:t,nodeId:r.nodeId})})),Yt("onLeaveLivePusherPictureInPicture",((e={})=>{var t=UQ.webviewId,r=zQ[`${t}_${e.livePusherId}`];r&&r.handlers.bindleavepictureinpicture&&"function"==typeof Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:"leavepictureinpicture",target:r.target,currentTarget:r.target,timeStamp:Date.now()-r.createdTimeStamp,touches:[],detail:{}},eventName:r.handlers.bindleavepictureinpicture,webviewId:t,nodeId:r.nodeId})}));var vJ=Gt("AudioInterruptionBegin"),mJ=vJ.onMethod,yJ=vJ.offMethod,_J=Gt("AudioInterruptionEnd"),bJ=_J.onMethod,wJ=_J.offMethod,SJ=_J.internalOnMethod,CJ=_J.internalOffMethod,IJ=void 0,AJ=!1;function kJ(){return Af&&Af.WXAUDIO?Af.WXAUDIO:Af&&Af.AudioContext?Af.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null}function EJ(){return new IJ}function TJ(){if(!AJ)throw new Error("detect WebAudioContext too early");return!!IJ}h.onLoad((()=>{IJ=kJ(),AJ=!0}));var PJ=!1,xJ=()=>{PJ=!0},OJ=()=>({"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}),RJ=OJ(),MJ=null,DJ=(e,t)=>t+"-"+e,NJ=(e,t,r)=>{if(t){RJ[e].playCount++;var n=DJ(t,r);MJ[n]?(MJ[n].playCount++,MJ[n].playBeginTime=Date.now()):MJ[n]={playCount:1,playBeginTime:Date.now()}}},LJ=(e,t,r,n,i,a)=>{RJ[e].realPlayCount++;var o=DJ(t,r);if(t&&MJ[o]){var s=n-MJ[o].playBeginTime,l=1===MJ[o].playCount?"firstPlay":"notFirstPlay";if(RJ[e].duringPlayToRealPlay[l].push(s),i){var c={key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,r,`playSuccess(${l})`,s,s,encodeURIComponent(JSON.stringify({size:a,src:t}))].join(",")};Math.random()<.1&&T.reportKeyValue(c)}}},BJ=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:i,costTime:a,src:o,errmsg:s})=>{RJ[t].playErrorCount++,RJ[t].playErrorCount>1||T.reportKeyValue({key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),e,t,r,n,i,a,encode(`"${o}" fail: ${s}`)].join(",")})},$J=()=>{isGame()&&Math.random()<.1&&!PJ&&Object.keys(RJ).forEach((e=>{var t=RJ[e],r=t.playCount,n=t.realPlayCount;if(r>0){var i=t.playErrorCount,a={key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,"","successRate",n/r,n/r,encode(JSON.stringify({playCount:r,realPlayCount:n,playErrorCount:i}))].join(",")};T.reportKeyValue(a)}})),RJ=OJ()};var FJ=()=>{},jJ=()=>{},WJ=()=>{},UJ,VJ,qJ=0,zJ=0,GJ=0,HJ,KJ=new WeakMap,QJ=new WeakMap,JJ=new WeakMap,XJ=new WeakMap,YJ=new WeakMap,ZJ=new WeakMap,eX=new WeakMap,tX=new WeakMap,rX=new WeakMap,nX=new WeakMap,iX=new WeakMap,aX=new Map,oX={},sX=52428800,lX=0,cX=0,uX=e=>new wv(((t,r)=>{rw({...e,success:t,fail:r})})),dX=e=>new wv(((t,r)=>{Df({...e,success:t,fail:r})})),pX=(e,t)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(lX+=e.audioBufferSize)>sX&&hX(),e.audioBuffer),hX=()=>{var e=Object.keys(oX).sort(((e,t)=>oX[e].index-oX[t].index));e.some((e=>{var t=oX[e];if(t.audioBuffer){var r=t.audioBufferSize;if(delete t.audioBuffer,delete t.audioBufferSize,delete oX[e],(lX-=r)<=sX)return!0}return!1}))},fX=e=>{e.index=++cX},gX=(e,t,r)=>{var n=oX[e];if(n&&n.audioBuffer)fX(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)fX(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{oX[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?mX(e):/^(cloud):\/\//.test(e)?yX(e):/^(wxblob:\/\/)/.test(e)?_X(e):vX(e)).then((t=>{HJ.decodeAudioData(t,(t=>{var r,n=oX[e];fX(n),r=n.audioBuffer?n.audioBuffer:pX(n,t);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),v.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),(t=>{try{var r=oX[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),v.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))})).catch((t=>{try{var r=oX[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),v.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},vX=e=>dX({filePath:e}).then((e=>e.data)),mX=e=>uX({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((e=>e.data)),yX=e=>new wv(((t,r)=>{qx([e],"audio",(e=>{mX(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),_X=e=>new wv((t=>{t(iI.get(e))})),bX=function(e){KJ.set(this,Object.assign(KJ.get(this),e))},wX=function(e){return KJ.get(this)[e]},SX=function(){return KJ.get(this)},CX=function(){this.stop(!0),bX.call(this,{_source:null});var e=JJ.get(this);e&&e()},IX=function(e){var t=++GJ,r=HJ.createBufferSource(t),{currentPlayBackTime:n,state:i}=AX.call(this,e),{loop:a,playbackRate:o,_buffer:s,_gainNode:l,_instanceId:c,src:u,withReport:d}=i,p=CX.bind(this);r.onended=p,r.buffer=s,r.loop=a,r.playbackRate.value=o,l&&r.connect(l),r.start(0,n),HJ.resume(),bX.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:HJ.currentTime,_endedHandler:p,_bufferSourceId:t}),(ve||ge)&&d&&aX.set(t,{_instanceId:c,src:u})},AX=function(e){e=e||SX.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:i,playbackRate:a,_lastCurrentTime:o,duration:s}=e;return(t=i?o+(HJ.currentTime-r)*a:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},kX=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=SX.call(this);e&&e.disconnect(),bX.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,QJ.delete(this),JJ.delete(this),XJ.delete(this),YJ.delete(this),eX.delete(this),ZJ.delete(this),tX.delete(this),rX.delete(this),iX.delete(this),clearInterval(nX.get(this)),nX.delete(this)},EX=function(){this.stop(!0),bX.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},TX=function(e){var t,r;EX.call(this);var n=new wv(((e,n)=>{t=e,r=n}));bX.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},PX={},xX=(e,t)=>e+"-"+t,OX=function(e,t){var r=xX(t,e);PX[r]?PX[r]++:PX[r]=1};class RX{constructor({withReport:e}={}){HJ||("function"==typeof(HJ=EJ()).create&&HJ.create(-1,!0),(ve||ge)&&(HJ.onmessage=e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=aX.get(r);if(aX.delete(r),n){var{_instanceId:i,src:a}=n,o=xX(i,a);PX[o]&&(PX[o]--,this.ignoreReport||WJ(a,i,Date.now()))}}}));var t=HJ.createGain();t.connect(HJ.destination);var r={withReport:e},n=new wv(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));KJ.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++zJ}))}get src(){return wX.call(this,"src")}set src(e){var{src:t,_gainNode:r}=SX.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&TX.call(this,e),bX.call(this,{src:e}),gX(e,((t,{sync:r})=>{var{src:n,_gainNode:i,_isPlaying:a,autoplay:o,_audioLoadPromiseResolve:s}=SX.call(this);if(i){if(n===e){if(bX.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=QJ.get(this);e&&e()}),0);else{var l=QJ.get(this);l&&l()}return!o||a||ZX()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),v.error("loadAudioFail ",t);var n=SX.call(this),{_audioLoadPromiseReject:i}=n,a=XJ.get(this);a&&a({type:"error",errMsg:r,errno:t.errno}),i(t)})))}get startTime(){return wX.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=SX.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(bX.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return wX.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=SX.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,xJ()),bX.call(this,{autoplay:!!e}))}get loop(){return wX.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=SX.call(this);r&&(e=!!e,bX.call(this,{loop:e}),e&&(this.ignoreReport=!0,xJ()),t&&(t.loop=e))}get volume(){return wX.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=SX.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(bX.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return wX.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=SX.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(bX.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:HJ.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return wX.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=AX.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=SX.call(this);if(!r)return;var n=tX.get(this),i=rX.get(this),a=QJ.get(this);i&&i(),this.ignoreReport=!0,xJ(),t?(this.stop(!0),bX.call(this,{_playbackTime:e}),this.play(!0)):bX.call(this,{_playbackTime:e}),n&&n(),a&&a()}}get paused(){return wX.call(this,"paused")}get buffered(){var{duration:e}=SX.call(this);return e>0?e:0}play(e=!1){var t=SX.call(this),{_isPlaying:r,_ready:n,_loadPromise:i,_gainNode:a,_playPendingIdMap:o,withReport:s,src:l,_instanceId:c}=t;if(a){var u=this.lastPlayTime,d=Date.now();if(this.lastPlayTime=d,u&&d-u<1e3&&(this.ignoreReport=!0,xJ()),r&&!e&&s&&!this.ignoreReport)return FJ(l,c),void WJ(l,c,Date.now());e||!s||this.ignoreReport||FJ(l,c);var p=()=>{if(!e){var t=YJ.get(this);t&&t()}};if(n){var h;try{IX.call(this,t)}catch(t){h=t;var f=XJ.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&jJ(l,t.message),console.error(t)}h||(!e&&s&&OX(l,c),p())}else{var g=++qJ;o[g]=!0,i.then((u=>{var d=!1===o[g];if(delete o[g],u)return r=null,n=null,i=null,a=null,t=null,void(p=null);if(!d){var h,f=SX.call(this),{_isPlaying:v}=f;if(!v){try{IX.call(this,f)}catch(t){h=t;var m=XJ.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&jJ(l,t.message),console.error(t)}return h||(!e&&s&&OX(l,c),p()),null}}})).catch((e=>{s&&jJ(l,e.errMsg||e.message)}))}}}pause(){var e=SX.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:i}=e;if(n)if(r&&t){var a=ZJ.get(this);r.stop(0),r.disconnect(),r.onended=null,bX.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),a&&a()}else Object.keys(i).forEach((e=>{i[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:i}=SX.call(this);if(r){if(t)try{var a=eX.get(this);t.stop(0),t.disconnect(),t.onended=null,bX.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&a&&a()}catch(e){}n||Object.keys(i).forEach((e=>{i[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=SX.call(this);if(!r)return;var n=tX.get(this),i=rX.get(this),a=QJ.get(this);i&&i(),this.ignoreReport=!0,xJ(),t?(this.stop(!0),bX.call(this,{_playbackTime:e}),this.play(!0)):bX.call(this,{_playbackTime:e}),n&&n(),a&&a()}}destroy(){var{_gainNode:e}=SX.call(this);e&&kX.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;QJ.set(this,e)}else QJ.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;JJ.set(this,e)}else JJ.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;XJ.set(this,e)}else XJ.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;YJ.set(this,e)}else YJ.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;ZJ.set(this,e)}else ZJ.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;eX.set(this,e)}else eX.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;tX.set(this,e)}else tX.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;rX.set(this,e)}else rX.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;var r=nX.get(this);clearInterval(r);var n=setInterval((()=>{var{_isPlaying:t}=SX.call(this);t&&e()}),350);nX.set(this,n)}else nX.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=SX.call(this);if(!t)return;iX.set(this,e)}else iX.delete(this)}}var MX=()=>TJ()&&!0,DX=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],NX=["startTime","duration","currentTime"],LX=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],BX=new Set,$X=new WeakMap,FX=new WeakMap,jX=new WeakMap,WX=new WeakMap;class UX{constructor(e,t=1e3,r){var n=new jt;$X.set(this,e),BX.add(this),WX.set(this,{conversion:t,type:r}),DX.forEach((r=>Object.defineProperty(this,r,{get:()=>NX.includes(r)?e[r]/t:e[r],set(n){Cq()||(NX.includes(r)?e[r]=t*n:e[r]=n)}}))),LX.forEach((t=>{this["on"+t]=e=>{var r=E.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);FX.set(e,r),jX.set(r,e),n.on(t,r)},this["off"+t]=e=>{if(it(e)){var r=FX.get(e);it(r)&&(n.off(t,r),FX.delete(e),jX.delete(r))}else n.listeners(t).forEach((e=>{var t=jX.get(e);FX.delete(t),jX.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?et(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t)}}))}play(){var e;Cq()||ZX()&&"inner"!==WX.get(this).type||null===(e=$X.get(this))||void 0===e||e.play()}stop(){var e;null===(e=$X.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=$X.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!Cq()){var{conversion:n}=null!==(t=WX.get(this))&&void 0!==t?t:{};null===(r=$X.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=$X.get(this);e.destroy&&e.destroy(),LX.forEach((e=>{this["off"+e]()})),BX.delete(this),$X.delete(this)}static pauseAllAudio(){BX.forEach((e=>{if("inner"!==WX.get(e).type){var t=$X.get(e);t&&t.pause()}}))}}class VX extends UX{constructor({type:e}){super(new Af.Audio,1e3,e)}}class qX extends UX{constructor({withReport:e,type:t}={}){super(new RX({withReport:e}),1,t)}}var zX=new Set,GX=()=>{var{system:e}=J_();ge&&-1===xI(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=EJ();Af&&Af.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),zX.add(t);var r=[];return["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&zX.delete(t),new Promise((e=>{r.push(e);var i=t.onstatechange;t.onstatechange=()=>{"function"==typeof i&&i();var e=r.pop();e&&e(),t.onstatechange=i},n.call(t)}))}.bind(t)})})),t};class HX{static pauseAllAudio(){zX.forEach((e=>{e.suspend()}))}}var KX=()=>{xY.pauseAllAudio(),VX.pauseAllAudio(),qX.pauseAllAudio(),HX.pauseAllAudio()},QX=!1,JX=!1;"undefined"!=typeof IS_SDK_PACKAGE||Rt("onAudioInterruptionBegin",(e=>{QX=!0,!1===JX&&vJ.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||Rt("onAudioInterruptionEnd",(e=>{QX=!1,!1===JX&&_J.emit(e)}));var XX=()=>{!1===QX&&!1===JX&&(KX(),JX=!0,vJ.emit({}))},YX=()=>{!1===QX&&!0===JX&&(JX=!1,_J.emit({}))},ZX=()=>JX,eY=()=>{},tY=()=>{},rY=()=>{},nY,iY=new WeakMap,aY=new WeakMap,oY=new WeakMap,sY=new WeakMap,lY=new WeakMap,cY=new WeakMap,uY=new WeakMap,dY=new WeakMap,pY=new Map,hY=new Map,fY=new Map,gY=v.createLogger("InnerAudio"),vY=function(e,t){aY.set(this,Object.assign(aY.get(this),{[e]:t})),"src"===e&&aY.set(this,Object.assign(aY.get(this),{paused:!0})),sY.get(this)&&(setTimeout((()=>{var r=Object.assign({},aY.get(this),lY.get(this),{timestamp:Date.now(),audioId:iY.get(this),success:()=>{aY.set(this,Object.assign(aY.get(this),{[e]:t}))},fail:()=>{yY.call(this)}});ZX()&&(r.autoplay=!1),qu("setAudioState",r),sY.set(this,!0)}),0),sY.set(this,!1)),lY.set(this,Object.assign(lY.get(this),{[e]:t}))},mY=function(e,t){uY.get(this).then((()=>{vY.call(this,e,t)}))},yY=function(e,t){var r=aY.get(this)[e];return qu("getAudioState",{audioId:iY.get(this),success:n=>{delete n.errMsg,aY.set(this,Object.assign(aY.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},_Y=function(e){var t=iY.get(this);qu("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{gY.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),kY.call(this,"error",{errMsg:r,errCode:-1});var n=aY.get(this);null!=n&&n.withReport&&tY("",r,null==n?void 0:n.implementType)}},e))},bY=function(e){return uY.get(this).then((()=>{if("play"===e.operationType){var t=aY.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){var r=iY.get(this);eY(null==t?void 0:t.src,r,null==t?void 0:t.implementType)}}setTimeout((()=>{_Y.call(this,e)}),0)}))},wY=new jt;"undefined"!=typeof IS_SDK_PACKAGE||Rt("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=pY.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&rY(null==t?void 0:t.src,e.audioId,Date.now(),null==t?void 0:t.implementType,null==t?void 0:t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:i}=e;delete e.audioId,delete e.state;var a="play"!==r,o=pY.get(n);o&&(o.paused=a),"error"===r&&null!=o&&o.withReport&&tY(null==o?void 0:o.src,i,null==o?void 0:o.implementType);var s=fY.get(n);if(!s||!(r in s))return;wY.emit(`${n}_onAudioStateChange_${r}`,e)}}));var SY=function(e,t){var r=`${iY.get(this)}_onAudioStateChange_${e}`,n=r=>{E.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};cY.set(t,n),wY.on(r,n)},CY=function(e,t){uY.get(this).then((()=>{SY.call(this,e,t)}))},IY=function(e,t){var r=`${iY.get(this)}_onAudioStateChange_${e}`;if(it(t)){var n=cY.get(t);it(n)&&wY.off(r,n)}else wY.removeAllListeners(r)},AY=function(e,t){uY.get(this).then((()=>{IY.call(this,e,t)}))},kY=function(e,t){wY.emit(`${iY.get(this)}_onAudioStateChange_${e}`,t)},EY=0,TY=!1;class PY{constructor({pluginId:e,withReport:t,type:r,size:n}={}){var i,a;aY.set(this,{}),lY.set(this,{}),oY.set(this,void 0),sY.set(this,!0),"string"==typeof e&&dY.set(this,e.split("/",1)[0]),uY.set(this,new wv(((e,t)=>{i=e,a=t})));var o={},s=0===n?"jsapiRemote-1.0":"jsapiLocal-1.0";qu(ge||Ee||_e?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var a={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:n,implementType:s};if(fY.set(e.audioId,o),pY.set(e.audioId,a),iY.set(this,e.audioId),aY.set(this,a),Af.BindingObject){var l=new Af.BindingObject;this.__bindingObject=l,hY[l.__id]=e.audioId}(EY+=1)>=1024&&!TY&&ve&&(TY=!0,T.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),EY>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(i,0)},fail:e=>{t&&tY("",e.errMsg,s),a(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();o[r]=1,CY.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete o[r],AY.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:yY.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=dY.get(this);"string"==typeof t&&null===Op(e)&&(e=Ep(t,e)),qx([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,mY.call(this,"src",e)}))}else kY.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return yY.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?mY.call(this,"startTime",1e3*e):kY("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!Cq()){if(!0===e){var t=iY.get(this),r=pY.get(t);r&&(r.ignoreReport=!0,xJ())}mY.call(this,"autoplay",e)}}get autoplay(){return yY.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=iY.get(this),r=pY.get(t);r&&(r.ignoreReport=!0,xJ())}mY.call(this,"loop",e)}}get loop(){return yY.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&mY.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return yY.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||mY.call(this,"volume",e)}get volume(){return yY.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||mY.call(this,"playbackRate",e)}get playbackRate(){return yY.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&mY.call(this,"referrerPolicy",e)}get referrerPolicy(){return yY.call(this,"referrerPolicy")}get paused(){return yY.call(this,"paused")}get duration(){return yY.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)kY("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=iY.get(this),r=pY.get(t);r&&(r.ignoreReport=!0,xJ()),bY.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return yY.call(this,"currentTime")/1e3}get buffered(){return yY.call(this,"buffered")/1e3}play(){if(!(Cq()||ZX()&&"inner"!==aY.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=iY.get(this),n=pY.get(r);n&&(n.ignoreReport=!0,xJ())}bY.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){bY.call(this,{operationType:"pause"})}stop(){bY.call(this,{operationType:"stop"})}seek(e){if(!Cq())if("number"!=typeof e||e<0)kY("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=iY.get(this),r=pY.get(t);r&&(r.ignoreReport=!0,xJ()),bY.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){uY.get(this).then((()=>{var e=iY.get(this);pY.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;wY.removeAllListeners(r)})),fY.delete(e),pY.delete(e),EY-=1,setTimeout((()=>{qu("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){uY.get(this).then((()=>{var t=`${iY.get(this)}_onAudioStateChange_timeupdate`;void 0===oY.get(this)&&oY.set(this,setInterval((()=>{if("active"===Fc.runningStatus&&!0!==aY.get(this).paused&&1!==aY.get(this).paused){var e=aY.get(this).currentTime;yY.call(this,"currentTime",(r=>{r!==e&&wY.emit(t)}))}}),250)),wY.removeAllListeners(t);var r=t=>{E.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};cY.set(e,r),wY.on(t,r)}))}offTimeUpdate(e){uY.get(this).then((()=>{AY.call(this,"timeupdate",e)}))}static pauseAllAudio(){pY.forEach(((e,t)=>{"inner"!==e.type&&qu("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}}const xY=PY;var OY,RY=new WeakMap,MY=new WeakMap,DY=function(){return MY.get(this)},NY={},LY=(e,t)=>e+"-"+t,BY=function(e,t){var r=LY(t,e);NY[r]?NY[r]++:NY[r]=1},$Y=()=>(OY||"function"==typeof(OY=EJ()).create&&OY.create(),OY),FY=0,jY=new Map,WY;class UY{constructor({size:e}){var t=$Y(),r=t.createHTMLAudioElement(),n=t.createMediaElementSource(r),i=t.createGain();n.connect(i),i.connect(t.destination),RY.set(this,r);var a=It();MY.set(this,{startTime:0,source:n,gain:i,_instanceId:a,size:e}),r.addEventListener("error",(e=>{var t,r=(null===(t=RY.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)})),r.addEventListener("inner",(e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=jY.get(t);if(jY.delete(t),r){var{_instanceId:n,src:i,size:a}=r,o=LY(n,i);NY[o]&&(NY[o]--,this.reportSuccessPlay(i,n,Date.now(),a))}}}}))}get src(){var e;return this.cloudId?this.cloudId:null===(e=RY.get(this))||void 0===e?void 0:e.src}set src(e){RY.get(this)&&qx([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,RY.get(this).src=e}))}get startTime(){var e;return null===(e=MY.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=DY.call(this);e!==r&&"number"==typeof e&&e>=0&&MY.get(this)&&(MY.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){RY.get(this)&&(e&&(this.ignoreReport=!0,xJ()),RY.get(this).autoplay=e)}get loop(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.loop}set loop(e){RY.get(this)&&(e&&(this.ignoreReport=!0,xJ()),RY.get(this).loop=e)}get volume(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.volume}set volume(e){RY.get(this)&&(RY.get(this).volume=e)}get playbackRate(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){RY.get(this)&&(RY.get(this).playbackRate=e)}get duration(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){RY.get(this)&&(this.ignoreReport=!0,xJ(),RY.get(this).currentTime=e)}get paused(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=RY.get(this))||void 0===e?void 0:e.buffered}play(){var e,t,r,n,i=null===(e=RY.get(this))||void 0===e?void 0:e.src,a=null===(t=MY.get(this))||void 0===t?void 0:t._instanceId,o=null===(r=MY.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,xJ()),a&&this.reportBeginPlay(i,a);var c=++FY;(ve||ge)&&jY.set(c,{_instanceId:a,src:i,size:o}),BY(i,a),null===(n=RY.get(this))||void 0===n||n.play(c)}pause(){var e;null===(e=RY.get(this))||void 0===e||e.pause()}stop(){var e=RY.get(this);e&&(e.pause(),e.currentTime=0)}seek(e){RY.get(this)&&(this.ignoreReport=!0,xJ(),RY.get(this).currentTime=e)}destroy(){var e,t,r=MY.get(this);r&&(null===(e=r.gain)||void 0===e||e.disconnect(),null===(t=r.source)||void 0===t||t.disconnect());RY.delete(this),MY.delete(this)}onCanplay(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("canplay",e)}offCanplay(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("canplay",e)}onPlay(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("play",e)}offPlay(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("play",e)}onPause(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("pause",e)}offPause(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("pause",e)}onStop(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("stop",e)}offStop(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("stop",e)}onEnded(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("ended",e)}offEnded(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("ended",e)}onTimeUpdate(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("timeupdate",e)}offTimeUpdate(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("timeupdate",e)}onError(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("error",e)}offError(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("error",e)}onWaiting(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("waiting",e)}offWaiting(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("waiting",e)}onSeeking(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("seeking",e)}offSeeking(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("seeking",e)}onSeeked(e){var t;null===(t=RY.get(this))||void 0===t||t.addEventListener("seeked",e)}offSeeked(e){var t;null===(t=RY.get(this))||void 0===t||t.removeEventListener("seeked",e)}}var VY=()=>{if(void 0===WY){var e=ve?"clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio":"clicfg_appbrand_android_inneraudio2webaudio_usewebaudio";WY=1===Number(H.expt&&H.expt[e])}return WY},qY=()=>({startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set}),zY=new WeakMap,GY=function(e){return zY.get(e)||{}},HY=function(e,t){var r;return null===(r=zY.get(e))||void 0===r?void 0:r[t]},KY=new Map,QY=dd(Zh),JY=e=>KY.has(e)?KY.get(e):QY({path:e}).then((t=>(KY.set(e,t),t))),XY=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];dt(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},YY=function(e,t,r){var n;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"set",value:r,key:t})},ZY=function(e,t,r,n){var i;n?("on"===n?e.staticOperations&&e.staticOperations[t].add(r):"off"===n&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t]&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(i=e.bufferedOperations)||void 0===i||i.push({type:"method",value:r,key:t})},eZ=(e,t)=>{var r=!1;if(MX()){var n=$Y();if(n&&"function"==typeof n.createHTMLAudioElement){var i,a,o="";if(ve)o=null===(a=H.expt)||void 0===a?void 0:a.clicfg_appbrand_ios_inneraudio2webaudio_stream;else if(ge){var s;o=null===(s=H.expt)||void 0===s?void 0:s.clicfg_appbrand_android_inneraudio2webaudio_stream}try{o=o.replace(/;/g,","),i=JSON.parse(o)}catch(e){}if(i){var{open:l,blacklist:c,whitelist:u}=i;r=c?!c.includes(H.accountInfo.appId)&&1===l:u?!!u.includes(H.accountInfo.appId)&&1===l:1===l}}}var d=e=>{var{stats:n}=e;n.size<102400?VY()?t("NativeWebAudio",!1):t("AudioJsApi",!1,n.size):t(r?"HTMLAudioElement":"AudioJsApi",!0,n.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else{var p=JY(e);ht(p)?p.then((e=>{d(e)})).catch((e=>{console.error(e),v.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):d(p)}},tZ=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new wv((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class rZ{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:qY(),_ready:!1,type:t};r._statPromise=new wv((e=>{r._statPromiseResolve=e})),zY.set(this,r)}get src(){return HY(this,"src")}set src(e){var t=GY(this),{src:r,audioInstance:n,audioInstanceType:i,pluginId:a}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&tZ.call(this,e,t),t.src=e,eZ(e,n?(r,o,s)=>{var l=GY(this);if(l.src===e){var{_statPromiseResolve:c}=l;t._ready=!0,t.audioInstanceType=r,r===i?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(YY(t,"src",e),XY(t,new xY({pluginId:a,withReport:o,type:zY.get(this).type,size:s}))):"NativeWebAudio"===r?(YY(t,"src",e),XY(t,new qX({withReport:o,type:zY.get(this).type}))):"HTMLAudioElement"===r&&(YY(t,"src",e),XY(t,new UY({withReport:o,size:s})))),c&&c()}}:(r,n,i)=>{var o=GY(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(YY(t,"src",e),XY(t,new xY({pluginId:a,withReport:n,type:zY.get(this).type,size:i}))):"NativeWebAudio"===r?(YY(t,"src",e),XY(t,new qX({withReport:n,type:zY.get(this).type}))):"HTMLAudioElement"===r&&(YY(t,"src",e),XY(t,new UY({withReport:n,size:i}))),s&&s()}}))}get startTime(){var e=HY(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=GY(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,YY(t,"startTime",e))}get autoplay(){var e=HY(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=GY(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n&&n.then((()=>{YY(t,"autoplay",e)})):YY(t,"autoplay",e))}get loop(){var e=HY(this,"loop");return void 0!==e&&e}set loop(e){var t=GY(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,YY(t,"loop",e))}get volume(){var e=HY(this,"volume");return void 0!==e?e:1}set volume(e){var t=GY(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,YY(t,"volume",e))}get playbackRate(){var e=HY(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=GY(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,YY(t,"playbackRate",e))}get duration(){var{audioInstance:e}=GY(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=GY(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=GY(this);t.currentTime=e,YY(t,"currentTime",e)}}get paused(){var{audioInstance:e}=GY(this);return!e||e.paused}get buffered(){var{audioInstance:e}=GY(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return HY(this,"referrerPolicy")||""}set referrerPolicy(e){var t=GY(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,YY(t,"referrerPolicy",e))}play(){var e=GY(this),{_statPromise:t,_ready:r}=e;r?ZY(e,"play"):t&&t.then((()=>{ZY(e,"play")}))}pause(){var e=GY(this);ZY(e,"pause")}stop(){var e=GY(this);ZY(e,"stop")}seek(e){var t=GY(this);ZY(t,"seek",e)}destroy(){var e=GY(this);ZY(e,"destroy"),zY.delete(this)}onTimeUpdate(e){var t=GY(this);ZY(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=GY(this);ZY(t,"TimeUpdate",e,"off")}onCanplay(e){var t=GY(this);ZY(t,"Canplay",e,"on")}offCanplay(e){var t=GY(this);ZY(t,"Canplay",e,"off")}onPlay(e){var t=GY(this);ZY(t,"Play",e,"on")}offPlay(e){var t=GY(this);ZY(t,"Play",e,"off")}onPause(e){var t=GY(this);ZY(t,"Pause",e,"on")}offPause(e){var t=GY(this);ZY(t,"Pause",e,"off")}onStop(e){var t=GY(this);ZY(t,"Stop",e,"on")}offStop(e){var t=GY(this);ZY(t,"Stop",e,"off")}onEnded(e){var t=GY(this);ZY(t,"Ended",e,"on")}offEnded(e){var t=GY(this);ZY(t,"Ended",e,"off")}onError(e){var t=GY(this);ZY(t,"Error",e,"on")}offError(e){var t=GY(this);ZY(t,"Error",e,"off")}onWaiting(e){var t=GY(this);ZY(t,"Waiting",e,"on")}offWaiting(e){var t=GY(this);ZY(t,"Waiting",e,"off")}onSeeking(e){var t=GY(this);ZY(t,"Seeking",e,"on")}offSeeking(e){var t=GY(this);ZY(t,"Seeking",e,"off")}onSeeked(e){var t=GY(this);ZY(t,"Seeked",e,"on")}offSeeked(e){var t=GY(this);ZY(t,"Seeked",e,"off")}}var nZ=!1;(ve||ge)&&H.onReady((()=>{var e;e=ve?"clicfg_appbrand_ios_inneraudio2webaudio":"clicfg_appbrand_android_inneraudio2webaudio",1===Number(H.expt&&H.expt[e])&&bf("forceUseAudioDynamic")?(v.info("开启 forceUseAudioDynamic"),nZ=!0):v.info("关闭 forceUseAudioDynamic")}));var iZ=v.createLogger("InnerAudioContext"),aZ=function(e={},t="outer"){var r=!0;if(ge){var{system:n}=J_();-1===xI(n,"6.0.0")&&(r=!1)}Ee&&(r=!1);var i=Bh(this),{useWebAudioImplement:a}=e;return(be||_e)&&Af.Audio?(iZ.info("using NativeAudio"),new VX({type:t})):a&&MX()&&r?(iZ.info("using WebAudio"),new qX({type:t})):MX()&&r&&Oe()&&nZ?(iZ.info("using AudioDynamic"),new rZ({pluginId:i,type:t})):(iZ.info("using AudioJsApi"),new xY({pluginId:i,type:t}))},oZ=function(e={}){return aZ.call(this,e)},sZ={},lZ=new Ft,cZ={};function uZ(e){cZ[e]||(cZ[e]=!0,NC(e,(e=>{delete cZ[e],Object.keys(sZ).forEach((t=>{new RegExp("^"+e).test(t)&&delete sZ[t]}))}),"AudioContext"))}Br("audioInsert",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==jp(n)&&(i+=r),sZ[i]=!0,lZ.emit(`audioInsert_${i}`),uZ(n)})),Br("audioRemove",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==jp(n)&&(i+=r),delete sZ[i]}));class dZ{constructor(e,t,r,n){if("string"!=typeof e)throw new ip("Parameter 1 should be a string");this.audioId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}setSrc(e){this._sendAction({method:"setSrc",data:e})}play(){this._getAppStatus()===Rc.BACK_GROUND||Cq()||this._sendAction({method:"play"})}pause(){this._sendAction({method:"pause"})}seek(e){this._sendAction({method:"setCurrentTime",data:e})}_ready(e){var t=`${this.webviewId}_${this.pluginId}_${this.audioId}_${this.nodeId}`;sZ[t]?e():lZ.on(`audioInsert_${t}`,(()=>{e()}))}_sendAction(e){this._ready((()=>{Or(`audio_${this.pluginId}_${this.audioId}_${this.nodeId}_actionChanged`,e,[this.webviewId])}))}}function pZ(e,t,r="",n=""){var i=new dZ(e,t,r,n);return i._getAppStatus=()=>Fc.appStatus,i._getHanged=()=>Fc.hanged,aT.call(this,(()=>{i.pause()})),i}var hZ={},fZ={},gZ={},vZ={},mZ=1;function yZ(e){gZ[e]||(gZ[e]=!0,NC(e,(e=>{delete gZ[e],Object.keys(hZ).forEach((t=>{new RegExp("^"+e).test(t)&&delete hZ[t]})),Object.keys(fZ).forEach((t=>{new RegExp("^api_"+e).test(t)&&delete fZ[t]})),Object.keys(fZ).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&delete fZ[t]}))}),"EditorContext"))}Br("editorInsert",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==jp(i)&&(a+=n),hZ[a]=t,yZ(i)})),Br("editorRemoved",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==jp(i)&&(a+=n),delete hZ[a];var o=`SQ_${i}_${t}`;delete fZ[`api_${i}_${r}_${e}_${n}`],delete fZ[o]})),Br("doEditorActionCallback",(e=>{var t=e.callbackId;if(t&&void 0!==vZ[t]){delete e.callbackId;var r=vZ[t];e.errMsg&&(e.errMsg.indexOf("ok")>-1?"function"==typeof r.success&&r.success(e):e.errMsg.indexOf("fail")>-1&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete vZ[t]}}));var _Z=["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","getSelectionText"];class bZ{format(e,t=!1){this._execCommand("format",{name:e,value:t,needCallBack:!1})}scrollIntoView(){this._execCommand("scrollIntoView",{needCallBack:!1})}_execCommandWithId(e,t,r){if(r.needCallBack){var n={};Object.keys(r).forEach((e=>{"function"==typeof r[e]&&(n[e]=r[e],delete r[e])}));var i=`callback${this.webviewId}_${e}_${mZ++}`;vZ[i]=n,r.callbackId=i}delete r.needCallBack,this.action={method:t,args:r},Or(`editor_${this.webviewId}_${e}_actionChanged`,this.action,[this.webviewId])}}_Z.forEach((e=>{bZ.prototype[e]=Ot((function(t){this._execCommand(e,{...t,needCallBack:!0})}))}));class wZ extends bZ{constructor(e,t){super(),this.editorId=e,this.webviewId=t}_execCommand(e,t){this._execCommandWithId(this.editorId,e,t)}}function SZ(e,t){var r=`SQ_${t}_${e}`;if(fZ[r])return fZ[r];var n=new wZ(e,t);return fZ[r]=n,n}var CZ=e=>{var t=e.map(encodeURIComponent).join(",");T.reportKeyValue({key:"BLEConnection",value:t})},IZ=Gt("onBLEConnectionStateChanged"),AZ=IZ.onMethod,kZ=IZ.offMethod,EZ=IZ.internalOnMethod;Rt("onBLEConnectionStateChanged",(e=>{IZ.emit(e)}));var TZ=Gt("onBluetoothAdapterStateChange"),PZ=TZ.onMethod,xZ=TZ.offMethod,OZ=TZ.internalOnMethod;Rt("onBluetoothAdapterStateChange",(e=>{TZ.emit(e)}));var RZ=0,MZ=!1,DZ={connects:null,scene:null,targetAction:null,startTime:null,endTime:null},NZ=()=>{Object.keys(DZ).forEach((e=>{DZ[e]=null}))},LZ=()=>Object.values(DZ).every((e=>null!==e));EZ((e=>{e&&(e.connected?RZ++:RZ--)})),OZ((e=>{e&&!e.available&&(RZ=0)})),aT((e=>{RZ>0&&(MZ=!0,DZ.startTime=Date.now(),DZ.targetAction=e.targetAction)})),aO((e=>{MZ&&(DZ.endTime=Date.now(),setTimeout((()=>{RZ>0&&(DZ.connects=RZ,DZ.scene=e.scene,LZ()&&CZ([DZ.connects,DZ.scene,DZ.targetAction,DZ.endTime-DZ.startTime])),MZ=!1,NZ()}),100))}));var BZ=(e={})=>{e.success({currentRoute:Fc.lastRoute})},$Z=(e={})=>{e.success({pathPaths:sr.getCurrentPagesByDomain(null).map((e=>e.route))})},FZ=(e={})=>{var{lastRoute:t=Fc.lastRoute,relativeRoute:r=".",needTrans:n=!0}=e;e.success({route:Tp(t,r,n)})};function jZ(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var WZ=Md("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),UZ=e=>{var t=jZ(e.keyList);t?bc("getUserCloudStorage",e,t):WZ(e)},VZ=Md("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),qZ=(e={})=>{var t=jZ(e.keyList);t?bc("getFriendCloudStorage",e,t):VZ(e)},zZ=Md("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=DP.get(t),{shareKey:n,shareName:i}=r;return{key:e,share_key:n,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),GZ=e=>{var t=jZ(e.keyList);t?bc("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?DP.get(e.shareTicket)?zZ(e):bc("getGroupCloudStorage",e,"参数 shareTicket 不正确"):DP.lastShareTicket&&DP.get(DP.lastShareTicket)?zZ(Object.assign({shareTicket:DP.lastShareTicket},e)):bc("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},HZ=1515,KZ=74,QZ=75,JZ=76,XZ=80,YZ=81,ZZ=0,e0={};tT((e=>{e0=e,ZZ=e.webviewId}));var t0=Date.now(),r0=t0,n0=t0,i0=0;h.onLoad((()=>{t0=Date.now(),r0=t0,n0=t0})),aO((()=>{(t0=Date.now())>r0&&(i0+=t0-r0)})),aT((()=>{r0=Date.now()})),AB((()=>{n0=Date.now()}));var a0=null,o0=[];Br("videoAdPreloadInfoGet",(e=>{a0=e,o0.forEach((e=>{e&&e(a0)})),o0=[]}));var s0=null,l0=e=>{a0?e&&e(a0):(s0&&clearTimeout(s0),s0=setTimeout((()=>{Or("videoAdPreloadInfo",null,[ZZ])}),0),o0.push(e))},c0=new Date;h.onLoad((()=>{c0=new Date}));var u0="";H.onReady((()=>{c0=new Date;var e=J_();u0=e.model}));var d0=e=>{var t={};try{for(var r of e=JSON.parse(e))Object.prototype.hasOwnProperty.call(r,"exp_para")&&r.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));return t}catch(e){return{}}},p0=(e,t)=>{try{var r=Date.now();vm({url:t.video_info.videoUrl,success(n){t.video_info.preloadUrl=n.tempFilePath,f0(e,t),ADSDK.reportAdMonitorData(XZ,{costTime:Date.now()-r},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})},fail(n){f0(e,t),ADSDK.reportAdMonitorData(YZ,{costTime:Date.now()-r,e:n},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})}})}catch(e){}},h0={},f0=(e,t)=>{h0[e]=t},g0=e=>{l0((t=>{var r={};Pe()&&(r.in_3rd_app=1);var n={ad_unit_id:e,pos_id:"7090665964306299",scene_type:t.scene_type,weapp_path:e0.path,user_agent:t.ua,weapp_extra_data:JSON.stringify({start_ts:c0.valueOf(),enter_ts:t0,user_duration:Date.now()-n0-i0,machine_type:u0,env:H.host&&H.host.env,app_appid:H.host&&H.host.appId}),ext_slot_custom_comm:JSON.stringify(r)};Pd({sdkApiName:"getadvert",apiName:"webapi_getadvert",reqData:n,success:t=>{try{if((t=t.data).advertisement_num>=1&&t.advertisement_info.length){var r=t.advertisement_info[0];r._preloadTime=+new Date,r.crt_size===HZ?p0(e,r):f0(e,r);var n=d0(r.flow_exp_info);void 0!==n.widget_gray_preload_max&&(m0=n.widget_gray_preload_max),ADSDK.reportAdMonitorData(KZ,{errMsg:"advertisement success",errCode:t.ret},{ad_pos_type:6,aid:r.aid,traceid:r.traceid,ad_unit_id:e})}else ADSDK.reportAdMonitorData(QZ,{errMsg:"no advertisement",errCode:t.ret},{ad_pos_type:6,ad_unit_id:e})}catch(t){ADSDK.reportAdMonitorData(QZ,{errMsg:"advertisement error"},{ad_pos_type:6,ad_unit_id:e})}},fail:()=>{ADSDK.reportAdMonitorData(JZ,{errMsg:"advertisement fail"},{ad_pos_type:6,ad_unit_id:e})}})}))},v0=[],m0=5,y0=e=>{if(console.warn("注意：wx.preloadVideoAd接口即将下线，请使用wx.preloadAd替换。"),Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t];-1===v0.indexOf(n)?v0.length>=m0?console.warn(`preloadVideoAd最多预加载${m0}个广告单元,${n}将不被预加载`):(v0.push(n),g0(n)):console.warn(`preloadVideoAd已预加载过${n}这个广告单元,请勿重复调用`)}else console.warn("preloadVideoAd参数应为数组")},_0=e=>{var t=e.data,{unitId:r}=t;h0[r]?(e.success&&e.success({adData:h0[r]}),delete h0[r]):e.success&&e.success({adData:null}),-1!==v0.indexOf(r)&&setTimeout((()=>{g0(r)}),1e3)},b0=()=>v0,w0=(e={})=>{qu("shareImageMessage",e,{})},S0=Tc(vm),C0=Tc(fB),I0=Tc(mB),A0=Tc(dB),k0=Tc(tw),E0=Tc(Df),T0=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),P0="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",x0,O0=function(){var e=Hp()((function*(){return x0||(x0=Hp()((function*(){var e,t,r,n=yield xd({apiName:"webapi_getuseravatarpopupinfo",reqData:{}}),{avatarurl:i,nickname:a}=(null==n||null===(e=n.data)||void 0===e||null===(t=e.avatar_info)||void 0===t||null===(r=t.avatar_list)||void 0===r?void 0:r[0])||{};return{avatarUrl:i,nickName:a}}))()),x0}));return function(){return e.apply(this,arguments)}}(),R0=()=>new Promise((e=>l.initScl((t=>e(t.mainRoot))))),M0=function(){var e=Hp()((function*(e){var t=(yield R0()).append("choose-avatar",{avatarUrl:e.avatarUrl}),r=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["chooseAvatar","chooseAlbum","takePicture","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return PM(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),D0=!1,N0=function(){var e=Hp()((function*(e){return e?new Promise((t=>{de(e,"chooseAvatar",1,(e=>{t(e)}))})):bf("chooseAvatar")}));return function(t){return e.apply(this,arguments)}}(),L0={UNKNOWN:0,CHOOSE_AVATAR:1,TAKE_PICTURE:2,CHOOSE_ALBUM:3,CANCEL:4,TAKE_PICTURE_CANCEL:5,CHOOSE_ALBUM_CANCEL:6,AVATAR_ILLEGAL:7,REVIEW_TIMEOUT:8},B0=({action:e})=>{var t=[H.appType+1e3,Fc.lastRoute,1,e].join(",");T.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},$0=function(){var e=Hp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),F0=function(){var e=Hp()((function*({avatarUrl:e}){var{width:t,height:r}=yield A0({src:e}),n=Hp()((function*(){var n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield C0({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield E0({filePath:a});return o}))(),i=Hp()((function*(){var{data:e}=yield xd({apiName:"webapi_getc2cauthkey",reqData:{}});return v.info("[requestAvatarReview] c2cAuthInfo",e),e}))(),[a,o]=yield Promise.all([n,i]),s=yield $0(Hp()((function*(){var e=yield Promise.race([T0(4e3,"upload timeout"),k0({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${o.apptype}`,"filetype=20304",`openid=${H.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${o.timestamp}`,`authkey=${o.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:a})]);if(v.info("[requestAvatarReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);v.info("[requestAvatarReview] requestId",l),v.info("[requestAvatarReview] c2cUrl",s);var{data:c}=yield xd({apiName:"webapi_checkuserprofile",reqData:{c2c_url:s,request_id:l}});return v.info("[requestAvatarReview] checkResult",c),c}));return function(t){return e.apply(this,arguments)}}(),j0=Pc("chooseAvatar",Hp()((function*({pluginId:e}={}){if(!(yield N0(e)))throw new Error("no permission");if(D0)throw new Error("another chooseAvatar is in progress");if(tB("choose_avatar"))throw new Error("This api is temporarily unavailable");var t=L0.UNKNOWN;try{D0=!0;var r=(yield O0()).avatarUrl||P0,{action:n}=yield M0({avatarUrl:r});switch(n){case"chooseAvatar":var i;t=L0.CHOOSE_AVATAR;try{_P({title:"加载中"}),i=(yield S0({url:r})).tempFilePath}finally{bP()}return i&&XL("chooseAvatar",[i],e),{avatarUrl:i};case"chooseAlbum":case"takePicture":var a;t="chooseAlbum"===n?L0.CHOOSE_ALBUM:L0.TAKE_PICTURE;try{var o;a=null===(o=(yield zu("chooseMedia",{count:1,mediaType:["image"],sourceType:"chooseAlbum"===n?["album"]:["camera"]})).tempFiles[0])||void 0===o?void 0:o.tempFilePath}catch(e){throw"cancel"===e.message&&(t="chooseAlbum"===n?L0.CHOOSE_ALBUM_CANCEL:L0.TAKE_PICTURE_CANCEL),e}var s=!1,l=Promise.race([T0(1e4,"upload avatar timeout"),F0({avatarUrl:a})]);try{a=(yield I0({src:a,cropScale:"1:1"})).tempFilePath}catch(e){if(e&&e.errno)throw t=L0.CANCEL,e}try{_P({title:"加载中"});var{errcode:c}=yield l;s=0===c}catch(e){throw e.message,v.error("[requestAvatarReview] error",e.message),setTimeout((()=>{gP({title:"设置失败，请重试",icon:"error"})}),0),t=L0.REVIEW_TIMEOUT,e}finally{bP()}if(!s)throw gP({title:"无法使用该头像",icon:"error"}),t=L0.AVATAR_ILLEGAL,new Error("upload error");return(a=(yield C0({src:a,compressedWidth:132})).tempFilePath)&&XL("chooseAvatar",[a],e),{avatarUrl:a};case"cancel":throw t=L0.CANCEL,new Error("cancel")}}catch(e){throw"cancel"!==e.message&&v.error(`chooseAvatar failed, ${e.message}`),e}finally{D0=!1,B0({action:t})}}))),W0=Gt("NavigationBarTitleUpdate"),U0=W0.internalOnMethod,V0=(e={})=>{yc("setNavigationBarTitle",e,{title:""})&&(Fc.navigationBarTitleMap[Fc.lastRoute]=e.title,Fc.lastRoute,e.title,qu("setNavigationBarTitle",e,{beforeAll(t){W0.emitInternal({title:e.title,...t})}}))},q0=e=>{qu("showNavigationBarLoading",e)},z0=e=>{qu("hideNavigationBarLoading",e)},G0="#000000",H0="#ffffff";function K0(e){var t=(H.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!Oe()&&!Be()){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),a=parseInt(r[1].slice(4),16),o=Math.round(.299*n+.587*i+.114*a).toString(16).toUpperCase();qu("setNavigationBarColor",{frontColor:H0,backgroundColor:`#${o}${o}${o}`})}}}H.onReady((()=>{tT((()=>{if(void 0!==H&&H.global&&H.global.window){var e=H.global.window;G0=e.navigationBarBackgroundColor||G0,H0="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=Fc.lastRoute+".html";if(void 0!==H&&H.page&&H.page[t]&&H.page[t].window){var r=H.page[t].window;G0=r.navigationBarBackgroundColor||G0,H0="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}K0(G0)}))}));var Q0=(e={})=>{if(yc("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?qu("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&qu("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);G0=e.backgroundColor,H0=e.frontColor,qu("setNavigationBarColor",t),K0(G0)}else bc("setNavigationBarColor",e,`invalid frontColor "${e.frontColor}"`)},J0=(e={})=>{var t=Object.assign({},e);t.backgroundColor=G0,qu("setNavigationBarColor",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},X0=()=>({backgroundColor:G0,frontColor:H0}),Y0=(e={})=>{yc("setNavigationBarRightButton",e,{hide:!0})&&qu("setNavigationBarRightButton",e,{})},Z0=e=>{Rt("onCustomRightButtonClick",E.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},e1=(e={})=>{qu("hideHomeButton",e,{})},t1=0,r1=(e={})=>{e.text?Date.now()-t1<5e3?bc("setTopBarText",e,"invoke too frequently"):qu("setTopBarText",e,{beforeSuccess(){t1=Date.now()}}):bc("setTopBarText",e,"invalid text")},n1=h;function i1(){return T}function a1(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var o1=1e3,s1=null,l1=[],c1=!1,u1=!1,d1=fe||!xe(),p1=[];function h1(){s1=null,0!==l1.length&&(b.invoke("reportKeyValue",{version:2,dataArray:l1.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(a1(e.args))].join(",")})))}),l1=[])}function f1(e,t){var r={...t,phase:e};r.args=a1(r.args),b.invoke("traceEvent",{events:[r]})}function g1(e,t){(u1||"API"!==t.category)&&(s1||(s1=setTimeout(h1,o1)),l1.push({...t,phase:e}))}function v1(e,t){fe&&f1(e,t),c1&&g1(e,t)}function m1(){return d1}function y1(e){null===p1?d1&&e():p1.push(e)}H.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?c1=!0:"2"===n&&(c1=!0,u1=!0),d1=d1||u1||!!we())&&(null===(r=p1)||void 0===r||r.forEach((e=>e())));p1=null}));var _1=!1;function b1(){var e;return _1?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var w1={},S1={};function C1(e,t){w1[e]||(w1[e]=[]),w1[e].push(t)}function I1(e,t){S1[e]||(S1[e]=[]),S1[e].push(t)}function A1(e){var t=[];function r(r,n,i,a=!1){var o;if(_.traceBegin(r,n),!a){var s={category:r,name:n,timeStamp:b1(),args:i||{}};t.push(s),"Framework"===r&&v.info(`[Trace][B] ${n} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=w1[s.category])||void 0===o||o.forEach((t=>t(s,e))),v1("B",s)}}function n(r,n=!1){var i,a;if(_.traceEnd(),!n){var o=b1(),s=t.pop();if(!s)return v.error("[Trace] Must call traceBeginEvent before traceEndEvent."),i1().assertWithIDKey(!1,6),void i1().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var l=s.args,c=s.timeStamp;s.timeStamp=o,s.args=r||s.args,"Framework"===s.category&&v.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(i=s.args)||void 0===i?void 0:i.path)||""}`),null===(a=S1[s.category])||void 0===a||a.forEach((t=>t(s,c,l,e))),v1("E",s)}}function i(e,t){r("API",e,t,m1())}function a(){n(void 0,m1())}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:i,traceEndAPI:a,useTraced:function(e,t,i,a){return function(...o){try{return r(e,t,a),i.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(t,r,n){var i,a,o=b1(),s={category:t,name:r,timeStamp:o,args:n||{}};_.traceInstant(t,r),"Framework"===t&&v.info(`[Trace][I] ${r} @ ${o}`),null===(i=w1[t])||void 0===i||i.forEach((t=>t(s,e))),v1("B",s),v1("E",s),null===(a=S1[t])||void 0===a||a.forEach((t=>t(s,o,n,e)))},useTracedApi:function(e,t,r){return function(...n){try{return i(e,r),t.apply(this,n)}finally{a()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{a()}}}}}var k1=1/0;const E1=A1(k1);(fe||be||ge||_e)&&Br("SPECIAL_PAGE_EVENT",(({data:e,eventName:t,ext:r,nodeId:n,instanceId:i},a=0)=>{if(e&&"input"===e.type&&r&&r.modelValueName&&ir.setModelValueData(e.detail.value,r.modelValueName,a,n),e&&"input"===e.type&&"function"==typeof Fc.webviewEventCallback){var o=Fc.webviewEventCallback({data:e,eventName:t,webviewId:a,nodeId:n}),s=e.detail.value;if(r&&r.setKeyboardValue)if(void 0===o);else if("Object"===Ue(o)){var l={};i&&(l.instanceId=i),s!==o.value&&(l.value=o.value+""),Number.isNaN(parseInt(o.cursor,10))||(l.cursor=parseInt(o.cursor,10)),Or("setKeyboardValue",l,[a])}else s!==o&&Or("setKeyboardValue",{value:o+"",cursor:-1,instanceId:i},[a])}}));var T1="__DOMReady",P1=Gt("DomReady"),x1=P1.internalOnMethod,O1=e=>{Fc.webviewEventCallback=e,Br("PAGE_EVENT",(({data:t,eventName:r,nodeId:n},i=0)=>{var a="onPageScroll"!==r;a&&E1.traceBeginEvent("Framework","onWebviewEvent",{eventName:r});try{r===T1&&P1.emit({data:t,eventName:r,webviewId:i,nodeId:n}),e({data:t,eventName:r,webviewId:i,nodeId:n})}finally{a&&E1.traceEndEvent()}}))},R1=e=>{["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((t=>{Rt(t,((r,n)=>{e({data:r,eventName:t,webviewId:n})}))}))},M1=(e={})=>{if(yc("setTabBarBadge",e,{index:0,text:""})){var t=Object.assign({},e);t.badgeValue=t.text,t.type="text",function(e){if(!e)return 0;"string"!=typeof e&&(e+="");return e.replace(/[^\x00-\xff]/g,"01").length}(t.badgeValue)>4&&(t.badgeValue="..."),qu("setTabBarBadge",t)}},D1=(e={})=>{if(yc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",qu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},N1=(e={})=>{if(yc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="redDot",qu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},L1=(e={})=>{if(yc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",qu("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},B1=!1;tT((e=>{setTimeout((()=>{try{B1=H.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));var $1=(e={})=>{void 0===e.animation&&(e.animation=!1),yc("showTabBar",e,{animation:!0})&&qu("showTabBar",e,{beforeSuccess:()=>B1=!0})},F1=(e={})=>{void 0===e.animation&&(e.animation=!1),yc("hideTabBar",e,{animation:!0})&&qu("hideTabBar",e,{beforeSuccess:()=>B1=!1})},j1=()=>B1,W1=(e={})=>{qu("setTabBarStyle",e)},U1=null;H.onReady((()=>{U1=H.tabBar&&H.tabBar.list||[]}));var V1=(e={})=>{if(yc("setTabBarItem",e,{index:0}))if(0!==(e.iconPath||"").indexOf("."))if(0!==(e.selectedIconPath||"").indexOf(".")){try{lp(e,"text")||(e.text=U1[e.index].text||""),U1[e.index].text=e.text}catch(e){e.message}qu("setTabBarItem",e)}else bc("setTabBarItem",e,"selectedIconPath invalid, require absolute path");else bc("setTabBarItem",e,"iconPath invalid, require absolute path")},q1=1,z1={};Br("pageScrollDone",(e=>{if(!(e.callbackId<0||void 0===z1[e.callbackId])){var t=z1[e.callbackId];delete z1[e.callbackId],delete e.callbackId;var r="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",r);var n=0===e.errMsg.indexOf(`${r}:ok`),i=0===e.errMsg.indexOf(`${r}:fail`);n?"function"==typeof t.success&&t.success(e):i&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var G1=e=>{var t=sr.getCurrentPagesByDomain(""),r=t[t.length-1].__wxWebviewId__;lp(e,"page")&&lp(e.page,"__wxWebviewId__")&&(r=e.page.__wxWebviewId__);var n={};for(var i in e)"function"==typeof e[i]&&(n[i]=e[i],delete e[i]);e.callbackId=q1,z1[q1]=n,q1++,Or("pageScrollTo",e,[r])},H1=(e={})=>{qu("startPullDownRefresh",e,{})},K1=e=>{qu("stopPullDownRefresh",e)},Q1=0,J1={},X1=(e={})=>{J1[Q1]={success:e.success,fail:e.fail,complete:e.complete},Or("setPageStyle",{callbackId:Q1,style:e.style},[Fc.currentWebviewId]),Q1+=1};Br("callbackSetPageStyle",(({res:e,callbackId:t})=>{var{errMsg:r}=e,n=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=J1[t];delete J1[t],"object"==typeof a&&(n?"function"==typeof a.success&&a.success(e):i&&"function"==typeof a.fail&&a.fail(e),"function"==typeof a.complete&&a.complete(e))}));var Y1=e=>{Or("hideKeyboard",{},[Fc.currentWebviewId]),Sc({name:"hideKeyboard",success:!0,args:e})},Z1=null,e2="onKeyboardHeightChange",t2=Gt(e2);Br(e2,t2.emitInternal.bind(t2));var r2=e=>{Z1&&n2(),Yt(e2,Z1=(t={})=>{E.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)}),t2.internalOnMethod(Z1)},n2=()=>{Z1&&(tr(e2,Z1),t2.internalOffMethod(Z1),Z1=null)};class i2{constructor(e={}){this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==e.duration?e.duration:400,timingFunction:void 0!==e.timingFunction?e.timingFunction:"linear",delay:void 0!==e.delay?e.delay:0},transformOrigin:e.transformOrigin||"50% 50% 0"}}export(){var e=this.actions;return this.actions=[],{actions:e}}step(e={}){return this.currentStepAnimates.forEach((e=>{"style"!==e.type?this.currentTransform[e.type]=e:this.currentTransform[`${e.type}.${e.args[0]}`]=e})),this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[...e,this.currentTransform[t]]),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}matrix(e=1,t=0,r=0,n=1,i=1,a=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,r,n,i,a]}),this}matrix3d(e=1,t=0,r=0,n=0,i=0,a=1,o=0,s=0,l=0,c=0,u=1,d=0,p=0,h=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g]}),this.stepping=!1,this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,r=0,n=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,r,n]}),this.stepping=!1,this}rotateX(e=0){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}rotateY(e=0){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}rotateZ(e=0){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}scale(e=1,t){return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,r=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,r]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,r=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,r]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}translateZ(e=0){return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}width(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}height(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}right(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}top(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}bottom(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}var a2=(e={})=>{if(yc("createAnimation",e,{}))return new i2(e)},o2=e=>/^#[0-9a-fA-F]{6}$/.test(e),s2=(e={})=>{(e=Object.assign({},e)).backgroundColor&&!o2(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!o2(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!o2(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&qu("setBackgroundColor",e)},l2=(e={})=>{-1!==["dark","light"].indexOf(e.textStyle)?qu("setBackgroundTextStyle",e):bc("setBackgroundTextStyle",e,`invalid textStyle "${e.textStyle}"`)},c2=()=>{};function u2(e={}){var t="enableAlertBeforeUnload",r=T.surroundThirdByTryCatch(e.success||c2,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||c2,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||c2,`at api ${t} complete callback function`),a="string"==typeof e.message?e.message:void 0;qu("setNavigateBackConfirmDialog",{enable:!0,content:a,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}function d2(e={}){var t="disableAlertBeforeUnload",r=T.surroundThirdByTryCatch(e.success||c2,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||c2,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||c2,`at api ${t} complete callback function`);qu("setNavigateBackConfirmDialog",{enable:!1,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}var p2=()=>{var e,t={};if(qu("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new ip(e);return t},h2=O_(p2),f2=(e={})=>{oh("getSelectedTextRange",{},[Fc.currentWebviewId],(t=>{0===t.errMsg.indexOf("getSelectedTextRange:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},g2=()=>new Promise((e=>l.initScl((t=>e(t.mainRoot))))),v2=!1,m2=new jL,y2=e=>new Promise((t=>setTimeout(t,e))),_2=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e)));Gt("onKeyboardHeightChange").internalOnMethod(function(){var e=Hp()((function*(e){(yield m2.promise).onKeyboardHeightChange(e)}));return function(t){return e.apply(this,arguments)}}());var b2=function(){var e=Hp()((function*(){return v2||(v2=!0,g2().then(function(){var e=Hp()((function*(e){var t=e.append("nickname-accessory",{show:!1});t.addListener("nicknameAccessoryTap",(()=>{Or("nicknameAccessoryTap",{inputId:t.data.inputId,nickName:t.data.nickname},[Fc.currentWebviewId])})),tT((()=>{P2()})),vU(Hp()((function*(){I2="landscape"===_W(),E2()}))),Br("nicknameInput",(({inputValue:e})=>{var t=(k2||"").toLowerCase();t&&(e=(e||"").toLowerCase(),A2=!(e&&(!t.startsWith(e)||t===e)),E2())})),yield y2(0),m2.resolve(t)}));return function(t){return e.apply(this,arguments)}}())),m2.promise}));return function(){return e.apply(this,arguments)}}(),w2=function(){var e=Hp()((function*(e){return e?new Promise((t=>{de(e,"showNicknameAccessory",1,(e=>{t(e)}))})):bf("showNicknameAccessory")}));return function(t){return e.apply(this,arguments)}}(),S2=!1,C2,I2=!1,A2=!0,k2,E2=function(){var e=Hp()((function*(){var[e,t]=yield Promise.all([O0(),b2()]);k2=e.nickName,t.setData({nickname:e.nickName,inputId:C2,show:S2&&!I2&&A2})}));return function(){return e.apply(this,arguments)}}(),T2=Pc("showNicknameAccessory",Hp()((function*({inputId:e,pluginId:t}={}){if(!(yield w2(t)))throw new Error("no permission");S2=!0,I2="landscape"===_W(),A2=!0,C2=e,yield E2()}))),P2=Pc("hideNicknameAccessory",Hp()((function*(){S2&&(S2=!1,yield E2())}))),x2={UNKNOWN:0,CHOOSE_NICKNAME:11,INPUT_NICKNAME:12,ILLEGAL_NICKNAME:13,REVIEW_TIMEOUT:14},O2=({action:e})=>{var t=[H.appType+1e3,Fc.lastRoute,2,e].join(",");T.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},R2=function(){var e=Hp()((function*({nickname:e}){var t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);v.info("[requestNicknameReview] requestId",t);var{data:r}=yield xd({apiName:"webapi_checkuserprofile",reqData:{nickname:e,request_id:t}});return v.info("[requestNicknameReview] checkResult",r),r}));return function(t){return e.apply(this,arguments)}}(),M2=Pc("reviewNickname",function(){var e=Hp()((function*({inputValue:e,isWechatNickname:t}){var r=t?x2.CHOOSE_NICKNAME:x2.INPUT_NICKNAME;try{if(!e||e===k2||t)return;var n=!1;try{_P({title:"加载中"}),n=0===(yield Promise.race([_2(1e3,"upload nickname timeout"),R2({nickname:e})])).errcode}catch(e){throw setTimeout((()=>{gP({title:"设置失败，请重试",icon:"error"})}),0),r=x2.REVIEW_TIMEOUT,e}finally{bP()}if(!n)throw r=x2.ILLEGAL_NICKNAME,gP({title:"无法使用该昵称",icon:"error"}),new Error("illegal nickname")}catch(t){throw v.error(`reviewNickname failed, nickname=${e}, ${t.message}`),t}finally{O2({action:r})}}));return function(t){return e.apply(this,arguments)}}()),D2={setPrivateExtraData:nx,getCurrentRoute:BZ,getCurrentPagesPath:$Z,getRealRouteWithProtocol:FZ,setWxInterfaceDisabled:YC,navigateTo:SC,navigateToWithRelatedInfo:CC,redirectTo:IC,switchTab:kC,navigateBack:mh,reLaunch:AC,getUserCloudStorage:UZ,getFriendCloudStorage:qZ,getGroupCloudStorage:GZ,reportRecycledAPI:hM,getPassCookieString:CO,getPayCookieString:IO,getPluginInfo:Uh,getPluginContactList:VN,_checkBeforeNavigateToMiniProgram:fD,getVideoAdPreloadData:_0,getAdPreloadData:(...e)=>ADSDK.getAdPreloadData(...e),getPayAd:(...e)=>ADSDK.getPayAd(...e),shareImageMessage:w0,getCloudFileInfo:Gx,setNavigateBackInterceptionById:CM,stopNavigateBackInterceptionById:AM,checkPermission:wf,_setWxIsInvokeInTapForNavToMiniProgramForWebview:uT,chooseAvatar:j0,showNicknameAccessory:T2,hideNicknameAccessory:P2,getCurrentWebviewId(e){"function"==typeof e.success&&e.success({webviewId:Fc.currentWebviewId})},reviewNickname:M2,_getABTestConfig:kf,handleInvokePayCompletedPageServiceMethod:PR,getVehicleStatus:xq,_requestSkipCheckDomain:tw,showInterceptToast:e=>fP(e,!0),showInterceptModal:e=>cP(e,!0),_openBusinessView:pM,handleErrorForUser:bk,privacyButton:oG},N2=a.prototype.call.bind(String.prototype.startsWith),L2=(e,t,r,n,i)=>{try{if("bridge"===t)Ur(e,r,(t=>{t.errMsg=t.errMsg||`${e}:ok`,-1!==t.errMsg.indexOf(`${e}:ok`)?("exitMiniProgram"===e&&hW(),i(t,!0)):i(t,!1)}));else{r.success=e=>{i(e,!0)},r.fail=e=>{i(e,!1)};var a=(()=>{if("wx"===t){if("string"==typeof n&&N2(n,"wx"))return Fh(n)[e](r);var{wx:i}=kit;return i[e](r)}return D2[e](r)})();a instanceof Promise&&a.catch((()=>{}))}}catch(t){var o={errMsg:`${e}: fail ${t.message}`};i(o,!1)}};Br("invokeAppServiceMethod",(({name:e,type:t,args:r,callbackId:n,pluginId:i},a)=>{L2(e,t,r,i,((e,t)=>{Or("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[a])}))})),Rt("onStartReportPageData",(()=>{var e=(void 0!==sr?sr.getCurrentPagesByDomain(""):[]).find((e=>e.__wxWebviewId__===Fc.currentWebviewId));e&&oh("getInnerHTML",{},[Fc.currentWebviewId],(({html:t})=>{var r;try{r=JSON.stringify({html:t,data:e.data})}catch(e){r=""}qu("reportPageData",{isUserReport:!0,pageData:r,pageRoute:e.__route__,complete(){}})}))}));var B2={},$2={};function F2(e,t,r){var n=$2[e];n&&n[`bind${t}`]&&Fc.webviewEventCallback&&Fc.webviewEventCallback({data:{type:t,target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimestamp,detail:r},eventName:n[`bind${t}`],webviewId:e,nodeId:n.nodeId})}function j2(e){var t=B2[e];t&&t.length&&F2(e,"message",{data:t})}Br("webviewSrcChange",(t=>{var{newVal:r}=t;void 0!==e&&e.traceEvent("onH5Open",!1,{id:r},null,null,null)})),Br("webViewInserted",((t,r)=>{$2[r]=t,B2[r]=[],e.setRouteHasWebview(e.getCurrentRawRoutePath(),t),NC(r,(e=>{j2(e),delete $2[e],delete B2[e]}),"onWebInvokeAppService"),BC(r,j2),FC(r,j2),qu("hideShareTimelineMenu")})),Br("webViewRemoved",((e,t)=>{j2(t),delete $2[t],delete B2[t],sr.showShareTimelineMenuIfNeeded(t)}));var W2=new Map,U2=(e,t)=>W2.set(e,t),V2=e=>W2.delete(e);function q2({name:e,arg:t},r){e.startsWith("vConsole")||console.log("invokeAppService",e,t,r),!ge||be||_e||(r=Fc.currentWebviewId),"navigateBack"===e?mh({delta:t.delta}):"navigateTo"===e?SC({url:t.url}):"redirectTo"===e?IC({url:t.url}):"reLaunch"===e?AC({url:t.url}):"switchTab"===e?kC({url:t.url}):"error"===e?F2(r,"error",{errMsg:"web-view load failed due to not in domain list",url:t.url,fullUrl:t.fullUrl||""}):"postMessage"===e?B2[r]&&B2[r].push(t):W2.has(e)&&W2.get(e)(t,r)}Rt("onWebInvokeAppService",q2),Rt("WEB_INVOKE_APPSERVICE",q2);var z2="getLocation",G2=(e={},t={},r)=>{Gu(r)(z2,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))},H2=1e4,K2={wgs84:0,gcj02:0},Q2={wgs84:null,gcj02:null},J2=!1,X2=0,Y2=[],Z2=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=E$(e.type);if(t)setTimeout((()=>Nu(T$(t,e),z2,e,{})),100);else{var r=Date.now(),n=Q2[e.type],i=K2[e.type];if(J2&&r-X2<H2)Y2.push(e);else{if(r-i>=H2||!n){var a=Bh(this);return J2=!0,X2=Date.now(),void G2(e,{afterSuccess(t){K2[e.type]=r,Q2[e.type]=t},afterAll(){J2=!1;var e=Y2;Y2=[],e.forEach((e=>Z2(e)))}},a)}Sc({name:"getLocation",success:n.errMsg&&0===n.errMsg.indexOf("getLocation:ok"),args:e,errMsg:n.errMsg,res:n})}}},e3=function(e={}){Gu(Bh(this))("chooseLocation",e)},t3=function(e={}){Gu(Bh(this))("choosePoi",e,{beforeSuccess(e){Date.now()>=16550496e5&&(e.latitude=0,e.longitude=0)}})},r3=function(e={}){yc("openLocation",e,{latitude:1,longitude:1})&&qu("openLocation",e)},n3=Gt("locationChange"),i3=n3.onMethod,a3=n3.offMethod,o3=e=>n3.emit(e);Rt("onLocationChange",((e={})=>{o3(e)}));var s3=Gt("locationChangeError"),l3=s3.onMethod,c3=s3.offMethod;Rt("onLocationChangeError",((e={})=>{s3.emit(e)}));var u3=null,d3=null,p3=()=>{clearInterval(u3),u3=null},h3=!1,f3=()=>{h3=!0,aO((()=>{d3&&E$()&&(u3=setInterval(d3,1e3))})),aT((()=>{u3&&p3()}))},g3=function(e,t,r,n,i=!1){"wgs84"!==r.type&&(r.type="gcj02"),u3&&p3(),d3=null;var a=E$(r.type);if(!i&&a){Nu({},e,r,{});var o=d3=()=>o3(T$(a,r));return o(),u3=setInterval(o,1e3),void(h3||f3())}Gu(Bh(n))(t,r,{beforeAll(r){r.errMsg=r.errMsg.replace(t,e)}})},v3=function(e){var t={subKey:"",enableIndoor:!1};Object.assign(t,e),g3("startLocationUpdateBackground","enableLocationUpdateBackground",t,this,!0)},m3=function(e={}){var t={subKey:"",enableIndoor:!1,enable:!0};Object.assign(t,e),g3("startLocationUpdate","enableLocationUpdate",t,this)},y3=function(e={}){var t="stopLocationUpdate";if(d3=null,u3)return p3(),Nu({},t,e,{});qu("disableLocationUpdate",e,{beforeAll(e){e.errMsg=e.errMsg.replace("disableLocationUpdate",t)}})},_3=18e5,b3={wgs84:null,gcj02:null},w3=null,S3="getFuzzyLocation",C3=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),w3&&Date.now()-w3>_3&&(b3[e.type]=null);var t=b3[e.type];if(t){var r=t.errMsg&&0===t.errMsg.indexOf(`${S3}:ok`);Sc({name:S3,success:r,args:e,errMsg:t.errMsg,res:t})}else{var n={afterSuccess(t){b3[e.type]=t,w3=Date.now()}},i=E$(e.type);if(i)setTimeout((()=>Nu(T$(i,e),S3,e,{})),100);else{var a=Bh(this);Gu(a)(S3,e,n)}}},I3=()=>{if(!H.ext)return{};try{return JSON.parse(JSON.stringify(H.ext))}catch(e){return{}}},A3=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:I3()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},k3=null,E3=null,T3=Tc(tw),P3=Tc(Df),x3=Tc(vm),O3=e=>new Promise((t=>qx(e,"image",(e=>t(e.data[0].url))))),R3=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),M3=function(){var e=Hp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function D3(e){return N3.apply(this,arguments)}function N3(){return N3=Hp()((function*(e){var{imageId:t,imageUrl:r}=e,{width:n,height:i}=e;k3||(k3=Tc(fB)),E3||(E3=Tc(dB));var a,o=yield O3([r]);if(!/^http:\/\/(tmp|store|usr)\//.test(o)&&/^(http|https):\/\//.test(o)){var s=yield x3({url:o});if(404===s.statusCode)return;o=s.tempFilePath}if(/data:image\/\w+;base64,/.test(o)){var l=o.replace(/data:image\/\w+;base64,/,"");a=WS(l)}else{var{tempFilePath:c}=yield k3({src:o,quality:60,compressedWidth:224,compressHeight:224}),u=yield E3({src:c});n=u.width,i=u.height;var{data:d}=yield P3({filePath:c});a=d}yield M3(Hp()((function*(){var e,r=null===(e=H.appLaunchInfo)||void 0===e?void 0:e.openId;yield Promise.race([R3(4e3,"upload timeout"),T3({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&scene=2&custom_str=${t}&width=${n}&height=${i}&openid=${r||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:a})])})),2)})),N3.apply(this,arguments)}Br("appCardsCoverImages",function(){var e=Hp()((function*(e){var t=e.coverImageInfos;if(null!=t&&t.length)for(var r of t)try{yield D3(r)}catch(e){}}));return function(t){return e.apply(this,arguments)}}());var L3={},B3={},$3=(e,t)=>`${e}-${t}`,F3={},j3=.99,W3=.998;function U3(e,t){return e+"_"+t}function V3(){return ve?parseFloat((H.system||"").replace("iOS","")):0}function q3(){return V3()>=13}function z3(e){delete L3[e],delete B3[e],delete F3[e]}function G3(e,t,r,n=!0){var i=U3(t,e);if(n&&(void 0===L3[i]||!0!==L3[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r},o=L3[i];return o&&o.fallback?Or("operateWebviewScrollView",a,[t]):qu("operateScrollView",a,{success(){}}),!0}function H3(e,t,r,n=!0){var i=U3(t,e);if(n&&(void 0===L3[i]||!0!==L3[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r};return Or("operateWebviewScrollView",a,[t]),!0}function K3(e,t,r,n=!0){var i=U3(e,t);if(n&&(void 0===L3[i]||!0!==L3[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:t,...r};return Or("operateXWebScrollView",a,[e]),!0}function Q3(e,t,r){var n={scrollViewId:t,...r};return Rr("operateSkylineScrollView",n,[e]),!0}Br("enhancedScrollViewReady",((e,t)=>{var r=U3(t,e.scrollViewId);L3[r]={enhanced:!0,data:e.data,fallback:e.fallback}})),Br("commonScrollViewReady",((e,t)=>{var r=U3(t,e.scrollViewId);L3[r]||(L3[r]={enhanced:!1});var n=B3[r];n&&"function"==typeof n&&(n(),delete B3[r]),NC(t,(()=>{z3(r)}),"ScrollViewContext")})),Br("commonScrollViewDestroyed",((e,t)=>{z3(U3(t,e.scrollViewId))})),Br("enhancedScrollViewDragEvent",((e,t)=>{var r=U3(t,e.scrollViewId),n=L3[r];if(n&&n.data){var i=n.data,a="",o="";if("dragstart"===e.eventName?(a="dragstart",o=i.handlers.binddragstart):"dragging"===e.eventName?(a="dragging",o=i.handlers.binddragging):"dragend"===e.eventName&&(a="dragend",o=i.handlers.binddragend),o){var s={scrollTop:e.scrollTop,scrollLeft:e.scrollLeft};"dragend"===a&&(s.velocity=e.velocity),Fc.webviewEventCallback({data:{type:a,target:i.target,currentTarget:i.target,touches:[],detail:s},eventName:o,webviewId:i.webviewId,nodeId:i.nodeId})}}})),Br("enhancedScrollViewSubscribeEvent",((e,t)=>{ve&&!q3()||(e.subscribe?G3(e.scrollViewId,t,{registerDelegate:!0}):G3(e.scrollViewId,t,{removeDelegate:!0}))})),Yt("onScrollViewWillEndDragging",(e=>{var t=U3(Fc.currentWebviewId,e.scrollViewId),r=L3[t];if(r&&r.data){var n=r.data;Fc.webviewEventCallback({data:{type:"dragend",target:n.target,currentTarget:n.target,touches:[],detail:{scrollTop:e.contentOffset.y,scrollLeft:e.contentOffset.x,velocity:e.velocity}},eventName:n.handlers.binddragend,webviewId:n.webviewId,nodeId:n.nodeId})}}));class J3{constructor(e,t){this.id=e,this.webviewId=t,this._scrollEnabled=!0,this._bounces=!0,this._showScrollbar=!0,this._pagingEnabled=!1,this._fastDeceleration=!1,this._decelerationDisabled=!1}holdPosition(){Q3(this.webviewId,this.id,{method:"holdPosition",args:{}})}triggerRefresh(e){var t,r=Ye(e.duration)?e.duration:300,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";Q3(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!0,duration:r,easingFunction:n}})}closeRefresh(){Q3(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!1,duration:0,easingFunction:""}})}triggerTwoLevel(e){var t,r=Ye(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";Q3(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!0,duration:r,easingFunction:n}})}closeTwoLevel(e){var t,r=Ye(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";Q3(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!1,duration:r,easingFunction:n}})}}class X3 extends J3{constructor(e,t){super(e,t),this.uid=U3(t,e),void 0!==L3[e]&&!0===L3[e].enhanced&&(this.scrollEnabled=!0)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){G3(this.id,this.webviewId,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){G3(this.id,this.webviewId,{bounces:e})&&(this._bounces=e)}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){G3(this.id,this.webviewId,{showsVerticalScrollIndicator:e,showsHorizontalScrollIndicator:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){G3(this.id,this.webviewId,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){G3(this.id,this.webviewId,{decelerationRate:e?j3:W3})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;if(void 0===r)G3(this.id,this.webviewId,{"setContentOffset:animated":{animated:!!i,contentOffset:{x:a,y:o}}});else{if(ve&&!q3())return;G3(this.id,this.webviewId,{"setContentOffset:springAnimated":{contentOffset:{x:a,y:o},duration:r/1e3,delay:0,damping:1,velocity:n}})}}get decelerationDisabled(){return this._decelerationDisabled}set decelerationDisabled(e){ve&&!q3()||G3(this.id,this.webviewId,{customDecelerateEnabled:e})&&(this._decelerationDisabled=e)}_onReady(e){var t=L3[this.uid],r=()=>{"function"==typeof e&&e()};t?r():B3[this.uid]=()=>{r()}}scrollIntoView(e){H3(this.id,this.webviewId,{scrollIntoView:e},!1)}}class Y3 extends J3{constructor(e,t){super(e,t),this.uid=U3(t,e)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){K3(this.webviewId,this.id,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){K3(this.webviewId,this.id,{showScrollbar:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){K3(this.webviewId,this.id,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){K3(this.webviewId,this.id,{fastDeceleration:e})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;K3(this.webviewId,this.id,{scrollToWithAnimation:{contentOffset:{x:a,y:o},duration:r,animated:i,velocity:n}})}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}_onReady(e){var t=L3[this.uid],r=()=>{"function"==typeof e&&e()};t?r():B3[this.uid]=()=>{r()}}scrollIntoView(e){K3(this.webviewId,this.id,{scrollIntoView:e},!1)}}class Z3 extends J3{get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){}scrollTo(){}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}scrollIntoView(e){K3(this.webviewId,this.id,{scrollIntoView:e},!1)}}function e6(e){var t=Fc.currentWebviewId,r=$3(t,e);return F3[r]||(F3[r]=ve?new X3(e,t):ge||fe?new Y3(e,t):new Z3(e,t)),F3[r]}var t6=(e,t,r)=>{if(null!=e)var n=ir.requestViewInfo("selectorQuery",t,e,(t=>{r&&(ir.endViewInfoCallback(e,n),r&&r(t))}));else console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")},r6=(e,t,r,n)=>{if(e)if(Array.isArray(e))e.forEach((e=>r6(e,t,r,n)));else{var{contextIs:i,contextId:a,contextCanvasId:o}=e;i&&("wx-video"===i&&(e.context=oz(a,Fc.currentWebviewId)),"wx-live-player"===i&&(e.context=iH(a,Fc.currentWebviewId,n)),"wx-map"===i&&(e.context=lV(a,Fc.currentWebviewId)),"wx-canvas"===i&&o&&(e.context=$Q(o,t)),"wx-editor"===i&&(e.context=SZ(a,Fc.currentWebviewId)),"wx-xr-scene"===i&&(e.context=e.__context,delete e.__context),delete e.contextIs,delete e.contextId,delete e.contextCanvasId);var{nodeIs:s,nodeId:l,nodeCanvasType:c,nodeCanvasId:u,nodeNodeId:d}=e;s&&("wx-canvas"===s&&l&&r.push(DQ(l,c).then((t=>{e.node=t}))),"wx-scroll-view"===s&&l&&(e.node=e6(l)),delete e.nodeIs,delete e.nodeId,delete e.nodeCanvasId,delete e.nodeNodeId,e.node&&"function"==typeof e.node._onReady&&r.push(new Promise((t=>e.node._onReady(t)))))}};class n6{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}}var i6={},a6=e=>class{constructor(e){if(e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var t=sr.getCurrentPagesByDomain("");this._defaultComponent=t[t.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}in(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}select(e){return new n6(this,this._component,e,!0)}selectAll(e){return new n6(this,this._component,e,!1)}selectViewport(){return new n6(this,0,"",!0)}_push(t,r,n,i,a){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var o=e?"":ir.getRootNodeId(this._webviewId);this._queue.push({component:null!=r?0===r?0:r.__wxExparserNodeId__:o,selector:t,single:n,fields:i}),this._queueCb.push(a||null)}exec(t){t6(this._webviewId,{pluginId:e,queue:this._queue},(r=>{var n=this._queueCb,i=[],a=[];r.forEach(((t,r)=>{r6(t,this._component,a,e),"function"==typeof n[r]&&i.push(E.surroundThirdByTryCatch((()=>{n[r].call(this,t)}),"at SelectorQuery callback function"))})),"function"==typeof t&&i.push(E.surroundThirdByTryCatch((()=>{t.call(this,r)}),"at SelectorQuery callback function")),a.length?Promise.all(a).then((()=>{i.forEach((e=>e()))})):i.forEach((e=>e()))}))}};function o6(e,t){return i6[t]||(i6[t]=a6(t)),new i6[t](e)}var s6=e=>{var t=[];return[{fields:(r,n)=>(t.push([0,r,n]),e),boundingClientRect:r=>(t.push([1,r]),e),scrollOffset:r=>(t.push([2,r]),e),context:r=>(t.push([3,r]),e),node:r=>(t.push([4,r]),e)},e=>{t.forEach((t=>{switch(t[0]){case 0:e.fields(t[1],t[2]);break;case 1:e.boundingClientRect(t[1]);break;case 2:e.scrollOffset(t[1]);break;case 3:e.context(t[1]);break;case 4:e.node(t[1])}}))}]},l6=(e,t)=>{var r,n=t,i=e,a="exparser",o=[],s=(e,t)=>{o.forEach((t=>{switch(t[0]){case 0:e.in(t[1]);break;case 1:var r=e.select(t[1]);(0,t[2])(r);break;case 2:var n=e.selectAll(t[1]);(0,t[2])(n);break;case 3:var i=e.selectViewport();(0,t[1])(i)}})),e.exec(t)},l=e=>{var t=null==e?void 0:e.__wxWebviewId__;void 0!==t&&(a=sr.getComponentFramework(t))},c={in:e=>(o.push([0,e]),l(e),r=e,c),select(e){var[t,r]=s6(c);return o.push([1,e,r]),t},selectAll(e){var[t,r]=s6(c);return o.push([2,e,r]),t},selectViewport(){var[e,t]=s6(c);return o.push([3,t]),e},exec(e){if(void 0===r){var t=sr.getCurrentPagesByDomain("");r=t[t.length-1],l(r)}if("glass-easel"===a){var o=new(M.getSubContextAdapter().SelectorQuery)(r);s(o,e)}else{var c=o6(i,n);s(c,e)}}};return c},c6=(e,t,r)=>{var n=ir.requestViewInfo("intersection",t,e,(t=>{t.reqEnd&&ir.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},u6={},d6=e=>class{constructor(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=sr.getCurrentPagesByDomain("");r.length&&(this._webviewId=r[r.length-1].__wxWebviewId__)}}relativeTo(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}relativeToViewport(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}observe(t,r){if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var n=this._component;c6(this._webviewId,{type:"addIntersectionObserver",pluginId:e,nodeId:n?n.__wxExparserNodeId__:ir.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&r.call(this,e.info))}))}disconnect(){c6(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}};function p6(e,t,r){return u6[r]||(u6[r]=d6(r)),new u6[r](e,t)}var h6=(e,t,r)=>{var n=ir.requestViewInfo("matchMedia",t,e,(t=>{t.reqEnd&&ir.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},f6={},g6=()=>class{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,this._webviewId=e.__wxWebviewId__}observe(e,t){if(null!==this._observerId)throw new Error('"observe" call can be only called once in MediaQueryObserver');this._observerId="",h6(this._webviewId,{type:"addMediaQueryObserver",mediaQueryCond:e},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&t.call(this,e.info))}))}disconnect(){h6(this._webviewId,{type:"removeMediaQueryObserver",observerId:this._observerId}),this._disconnected=!0}};function v6(e,t,r){return f6[r]||(f6[r]=g6()),new f6[r](e,t)}var m6=function(e){return l6(e,"")},y6=function(e,t){return p6(e,t,"")},_6=function(e,t){return v6(e,t,"")},b6=(e={})=>{yc("triggerGettingWidgetData",e,{cacheKey:""})&&qu("triggerGettingWidgetData",e,{})},w6=e=>{qu("reportAction",e)},S6=()=>{},C6=()=>{},I6=()=>{},A6=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});qu("reportRealtimeAction",{actionData:r})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},k6=new jt;Rt("onLoadSubPackageTaskStateChange",(e=>{k6.emit(e.state,e.taskId,e)}));var E6={},T6={get:(e="default")=>E6[e],set(e,t="default"){E6[t]=e},clear(){E6={}}},P6=new jt,x6={},O6={},R6=e=>{Object.keys(O6).forEach((t=>{O6[t]===e&&delete O6[t]}))},M6=(e,t,r,n)=>{void 0===O6[t]?!0!==x6[t]?(x6[t]=!0,qu(e,{moduleName:t,success:e=>{delete x6[t],O6[t]=e.loadTaskId,r(e.loadTaskId),P6.emit(t,e)},fail:e=>{delete x6[t],n(e)}})):P6.on(t,(e=>{r(e.loadTaskId)})):r(O6[t])};function D6(){return H.subpackages||H.subPackages||[]}function N6(e=""){for(var t=D6(),r=0;r<t.length;r++){var n=t[r];if(0===e.indexOf(n.root))return n}return null}function L6(e=""){var t=N6(e);return!!(t&&t.independent&&t.isolated)}function B6(e){return"workers.js"===e||"/workers.js"===e}function $6(e,t=[]){return t.some((t=>{var r;return t.root===e&&"playable"===(null==t||null===(r=t.meta)||void 0===r?void 0:r.type)}))}var F6={},j6=[],W6=new WeakMap,U6=new WeakMap,V6=new WeakMap,q6=function(e){return F6[e]},z6=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},G6=function(e,t=!1){var r=e;if(!B6(r)){"string"!=typeof r&&console.error("SubContext onSubPackageReady error: moduleName is empty"),r.endsWith(".js")||(r.endsWith("/")||(r=`${r}/`),r=`${r}game.js`);var n=T6.get();return Id()&&Oe()&&!t&&!n?"__APP__"===e?x.getGameContext().evaluateScriptFile("game.js"):x.getGameContext().evaluateScriptFile(r):void 0}},H6=(e,t)=>{var r=q6(e);delete F6[e],R6(e),Array.isArray(r)&&r.forEach((e=>{var{moduleName:r,isMonkeyTest:n}=t,i=W6.get(e),a=z6(t);j6.push(r);var o=G6(r,n);ht(o)?o.then((()=>{K6(i,a)})):K6(i,a)}))},K6=(e,t)=>{t.errMsg="loadSubpackage:ok","function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)};k6.on("success",((e,t)=>{H6(e,t)})),k6.on("fail",((e,t)=>{var r=q6(e);delete F6[e],R6(e),Array.isArray(r)&&r.forEach((e=>{var r=W6.get(e),n=z6(t);n.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),k6.on("progressUpdate",((e,t)=>{var r=q6(e);Array.isArray(r)&&r.forEach((e=>{var r=U6.get(e),n=z6(t);"function"==typeof r&&r(n)}))}));var Q6=function(){var e=W6.get(this),{name:t,waiterMode:r}=e;if(j6.indexOf(t)>=0){var n={errMsg:"loadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}if("__APP__"===t&&fe&&Id()&&Oe()){j6.push(t),G6(t);var i={errMsg:"loadSubpackage:ok"};return"function"==typeof e.success&&e.success(i),void("function"==typeof e.complete&&e.complete(i))}M6(r?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t,(e=>{void 0===F6[e]?F6[e]=[this]:F6[e].push(this),V6.set(this,e)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):t.errMsg="loadSubpackage:fail module not found",E.surroundThirdByTryCatch(e.fail)(t),E.surroundThirdByTryCatch(e.complete)(t)}))};class J6{constructor(e){W6.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=E.surroundThirdByTryCatch(e[t],`at api loadSubpackage ${t} callback function`))})),Q6.call(this)}onProgressUpdate(e){U6.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&E.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}await(){var e=W6.get(this),{waiterMode:t,name:r}=e,n={errMsg:"LoadTask.await:fail not support"};if(t){var i=V6.get(this);qu("awaitLoadSubPackageTask",{timeout:1e4,loadTaskId:i,success(e){console.log("awaitLoadSubPackageTask success",e),H6(i,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}var X6=(e,t)=>{t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)}));var r="__APP__"===e||"__GAME__"===e;return r||e.startsWith("/")||(e=`/${e}`),r||e.endsWith(".js")||e.endsWith("/")||(e=`${e}/`),"__GAME__"===e&&(e="__APP__"),e},Y6=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!yc("loadSubPackage",t,{name:""}))return;if(B6(r))return void bc("loadSubpackage",t,'argument "name" cannot be "workers.js"');var i=H.subPackages||H.subpackages;if(!i)return void bc("loadSubpackage",t,"Your subpackages configuration is invalid.");if(t.name=X6(r,i),$6(t.name,i))return void bc("loadSubpackage",t,"cannot load playable ad package.")}try{return new J6(t)}catch(e){return void bc("loadSubpackage",t,e.message)}},Z6={};function e5(){return new Promise(((e,t)=>{var r=lv();r?e(r):nv({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})}))}function t5(e={}){if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in Z6)));return("all"!==e.network?e5().then((e=>{if("wifi"!==e.toLowerCase())return Promise.reject(new Error(`network type does not match, '${e}' !== 'wifi'`))}),(()=>Promise.reject(new Error("get network type failed.")))):Promise.resolve()).then((()=>Promise.all(t.map((e=>new Promise((r=>{Y6({name:e,success(){Z6[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})}))))).then((e=>{if((e=e.filter((e=>e instanceof Error))).length>0){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))))}function r5(e){return t5(e).then((()=>{console.info("preloadSubpackages: success")}),(e=>{e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}))}H.onReady((()=>{AB((({path:e})=>{if(H.preloadRule&&H.preloadRule[e])return r5(H.preloadRule[e])}))}));var n5={},i5=[],a5=new WeakMap,o5=new WeakMap,s5=function(e){return n5[e]},l5=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};k6.on("success",((e,t)=>{var r=s5(e);delete n5[e],R6(e),Array.isArray(r)&&r.forEach(function(){var e=Hp()((function*(e){var r=t.moduleName,n=a5.get(e),i=l5(t);i5.push(r),i.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)}));return function(t){return e.apply(this,arguments)}}())})),k6.on("fail",((e,t)=>{var r=s5(e);delete n5[e],R6(e),Array.isArray(r)&&r.forEach((e=>{var r=a5.get(e),n=l5(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),k6.on("progressUpdate",((e,t)=>{var r=s5(e);Array.isArray(r)&&r.forEach((e=>{var r=o5.get(e),n=l5(t);"function"==typeof r&&r(n)}))}));var c5=function(){var e=a5.get(this),{name:t}=e;if(i5.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&fe&&Id()&&Oe()){i5.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}M6("createLoadSubPackageTask",t,(e=>{void 0===n5[e]?n5[e]=[this]:n5[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",E.surroundThirdByTryCatch(e.fail)(t),E.surroundThirdByTryCatch(e.complete)(t)}))};class u5{constructor(e){a5.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=E.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),c5.call(this)}onProgressUpdate(e){o5.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&E.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var d5=(e={})=>{var t=Object.assign({},e),{packageType:r}=t;if("workers"===r){t.name="/workers.js";try{return new u5(t)}catch(e){return void bc("preDownloadSubpackage",t,e.message)}}else bc("preDownloadSubpackage",t,"invalid packageType")},p5={channelApiname:""},h5="requestVirtualPayment",f5=v.createLogger(h5),g5=e=>(f5.info("调用invokeMidasOperateWXDataPromise，参数：",e),xd({apiName:p5.channelApiname?p5.channelApiname:e.apiName,sdkApiName:e.sdkApiName,reqData:e.reqData}).then((e=>{if(f5.info("调用invokeMidasOperateWXDataPromise成功，结果为：:",e),0!==e.data.err_code)throw{errMsg:e.data.err_msg,errCode:e.data.err_code};try{return e}catch(e){f5.info("发生错误:",e)}})).catch((e=>{throw e}))),v5={request:tw,showLoading:_P,hideLoading:bP,requestPayment:QR,getSystemInfoSync:h_,showModal:cP,getNetworkType:nv,onNetworkStatusChange:iv,aesjs:rN,openBusinessView:dM,navigateToMiniProgram:yD,OpenMidasConfig:{webDomain:"",sandboxWebDomain:"",cgiDomain:{release:"",test:"",dev:""},apiCommonConf:{version:"tke_saas"}},invokeMidasOperateWXDataPromise:g5},m5;function y5(){return m5||(m5=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=83)}([function(e,t,r){var n=r(36);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}},function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){function r(e,t){return(typeof t)[0]==e}function i(t,n,i,a,o){setTimeout((function(){try{a=o(a),o=a&&r("o",a)|r(e,a)&&a.then,r(e,o)?a==t?i(TypeError()):o.call(a,n,i):n(a)}catch(e){i(e)}}))}function a(e){return n((function(t){t(e)}))}n=function(t,a){return a=function o(s,l,c,u,d,p){function h(e){return function(t){d&&(d=0,o(r,e,t))}}if(u=o.q,s!=r)return n((function(e,t){u.push({p:this,r:e,j:t,1:s,0:l})}));if(c&&r(e,c)|r("o",c))try{d=c.then}catch(e){l=0,c=e}if(r(e,d))try{d.call(c,h(1),l=h(0))}catch(e){l(e)}else for(a=function(a,o){return r(e,a=l?a:o)?n((function(e,t){i(this,e,t,c,a)})):t},p=0;p<u.length;)d=u[p++],r(e,s=d[l])?i(d.p,d.r,d.j,c,s):(l?d.r:d.j)(c)},a.q=[],t.call(t={then:function(e,t){return a(e,t)},catch:function(e){return a(0,e)},always:function(e){return a(e,(function(t){throw e(t),t}))},finally:function(e){return e||(e=function(){}),a((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))}))}},(function(e){a(r,1,e)}),(function(e){a(r,0,e)})),t},n.resolve=a,n.reject=function(e){return n((function(t,r){r(e)}))},n.all=function(e){return n((function(t,r,n,i){i=[],n=e.length||t(i),e.map((function(e,o){a(e).then((function(e){i[o]=e,--n||t(i)}),r)}))}))},n.race=function(e){return n((function(t,r){e.map((function(e){a(e).then(t,r)}))}))}}("f"),t.default=n},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){(function(e){r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s}));var n,i={SUCCESS:0,FAIL:-1,CANCEL:-2,INTERFACE_NOT_EXIST:-3,RISK_INTERCEPT:-4,UNKNOWN:-5,NOT_IMPLEMENTED:-6,PARAMS_ERROR:1e3},a=((n={})[i.SUCCESS]="支付成功",n[i.FAIL]="支付失败",n[i.CANCEL]="支付取消",n[i.PARAMS_ERROR]="参数错误",n[i.INTERFACE_NOT_EXIST]="接口不存在",n[i.RISK_INTERCEPT]="风控拦截",n[i.SIGN_SUCCESS]="签约成功",n[i.SIGN_FAIL]="签约失败",n.CHANNEL_NOT_SUPPORT="渠道不支持",n),o={FAIL:{ret:i.FAIL,msg:a[i.FAIL]},NOT_IMPLEMENTED:{ret:i.NOT_IMPLEMENTED,msg:"该 API 不支持"}},s=function(e){return{ret:e,msg:a[e]}}}).call(t,r(1).default)},function(e,t,r){(function(e){var r=function(){function t(e){e instanceof t?(this.stack=e.stack,this.message=e.message,this.name=e.name,this.info=e.info):(this.stack=(new Error).stack,this.message=e.msg,this.name="PayError",this.info=e)}return t.except=function(e){throw new t(e)},t.reject=function(r){return e.reject(new t(r))},t.prototype.toString=function(){return"PayError: "+this.message},t}();t.a=r}).call(t,r(1).default)},function(e,t,r){function n(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];setTimeout((function(){return e.apply(void 0,n)}),t)}function i(e){return Object(l.a)(e)?e:[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.delay=n,t.debounce=function(e,t,r){var i,a,o=function(t,r){i=null,r&&(a=e.apply(t,r))},s=function(){i&&clearTimeout(i);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];if(r){var u=!i;i=setTimeout(o,t),u&&(a=e.apply(this,l))}else i=n(o,t,this,l);return a};return s.cancel=function(){clearTimeout(i),i=null},s},r.d(t,"scene",(function(){return f})),t.toArray=i,r.d(t,"timer",(function(){return v})),t.endsWith=function(e,t){var r=e.length-t.length;return t.split("").every((function(t,n){return e[r+n]===t}))},t.retry=function(e,t){var r,i=t.times,a=t.interval,o=void 0===a?0:a,s=t.abort;return new c.default((function(t,a){!function l(){r=Date.now(),e().then(t).catch((function(e){if(0==--i)return a(e);if(s(e))return e.aborted=!0,a(e);var t=Date.now();o=Math.max(o-(t-r),0),n(l,o)}))}()}))},t.camelize=function(e){var t=function(e){return e.replace(/_([a-z0-9])/g,(function(e,t){return t.toUpperCase()}))};if(Object(s.a)(e))return t(e);if(Object(o.a)(e)){var r={};return Object(a.a)(e,(function(e,n){r[t(n)]=e})),r}return e},t.compact=function(e){var t={};return Object(a.a)(e,(function(e,r){void 0!==e&&(t[r]=e)})),t},t.normalizeOptions=function(e){var t={};return Object(a.a)(e,(function(e,r){t[r]=decodeURIComponent(e)})),t},t.signWithMD5=function(e,t){var r=(t||Object.keys(e)).sort().map((function(t){return e[t]?t+"="+e[t]:""})).join("&");return Object(p.a)(r+h.a.md5Salt).toUpperCase()},t.flattenObject=function(e){return Object(o.a)(e)?function e(t,r,n,i){void 0===r&&(r=""),void 0===n&&(n=[]),void 0===i&&(i=[]);var a={},s=n.indexOf(t);return-1!==s?(a[r]="[Circular "+i[s]+"]",a):(n.push(t),i.push(r||"$root"),Object.keys(t).forEach((function(s){var l=t[s],c=r?r+"."+s:s;Object(o.a)(l)?Object.assign(a,e(l,c,n,i)):"function"!=typeof l&&(a[c]=l)})),a)}(e):e};var a=r(10),o=r(7),s=r(8),l=r(9),c=r(1);r.d(t,"each",(function(){return a.a}));var u=r(23);r.d(t,"addParam",(function(){return u.a}));var d=r(18);r.d(t,"pick",(function(){return d.a}));var p=r(42),h=r(11),f=function(){var e={isQQMp:"object"==typeof qq,isWxPlugin:!1,isComponent:!1,isOwnerMP:!1};try{e.isWxPlugin=WECHATAPP_PLUGIN}catch(e){}try{e.isOwnerMP=PLUGIN_OWNER_MP}catch(e){}return e}(),g={},v={start:function(e){(e=i(e)).forEach((function(e){g[e]=(new Date).getTime()}))},get:function(e,t){var r=(e=i(e)).map((function(e){var r=(new Date).getTime()-g[e];return t&&(g[e]=r),r}));return r.length>1?r:r[0]},stop:function(e){return v.get(e,!0)},clear:function(e){(e=i(e)).forEach((function(e){delete g[e]}))}}},function(e,t,r){var n=r(45),i=r(0),a=r.n(i),o=r(1),s=["showModal","hideModal","showToast","hideToast","getSystemInfo","getNetworkType","requestPayment","requestOrderPayment","requestVirtualPayment","navigateTo","navigateToMiniProgram","openBusinessView"].reduce((function(e,t){return e[t]=function(e){return new o.default((function(r,n){try{v5[t](a()({},e,{success:r,fail:n}))}catch(e){r(!0)}}))},e}),{}),l={onAppShow:[]};s.onAppShow=function(e){l.onAppShow.push(e),Object(n.a)((function(){return v5.onAppShow(e)}))},s.offAllAppShow=function(){l.onAppShow.forEach((function(e){Object(n.a)((function(){return v5.offAppShow(e)}))}))},t.a=s},function(e,t,r){t.a=function(e){return Object(n.a)("Object",e)&&null!==e};var n=r(14)},function(e,t,r){t.a=function(e){return Object(n.a)("String",e)};var n=r(14)},function(e,t,r){t.a=function(e){return Object(n.a)("Array",e)};var n=r(14)},function(e,t,r){t.a=function(e,t){var r,i=0;if(Object(n.a)(e)){var a=e.length;for(r=e[0];i<a&&!1!==t.call(r,r,i,e);r=e[++i]);}else for(var o in e)if(!1===t.call(e[o],e[o],o,e))break;return e};var n=r(9)},function(e,t,r){t.c=function(){return"2.3.12"},t.b=function(){return["pf_header","wcp","hide_offer_name"]},r.d(t,"a",(function(){return n}));var n={md5Salt:"TwDbiyLgv93ysymjH6sHujMTXs9ehwe1"}},function(e,t,r){var n=r(25),i=r(0),a=r.n(i),o=function(){function e(){}var t=e.prototype;return t.getSdkParam=function(e){return void 0===e?this._sdkParam:this._sdkParam[e]},t.setSdkParam=function(e){this.initSdkParam(e),this._sdkParam=a()({},this._sdkParam,e)},t.initSdkParam=function(e){e.retry_times=void 0===e.retry_times?5:e.retry_times},t.setInfo=function(e){this._info=e},t.getInfo=function(e){return void 0===e?this._info:Object(n.a)(this._info,e)},e}(),s=new o;t.a=s},function(e,t,r){r.d(t,"a",(function(){return c}));var n=r(0),i=r.n(n),a=r(4),o=r(5),s=r(22),l=r(1),c=function(){function e(e,t,r){void 0===r&&(r={}),this.app=e,this.payMod=t,this.params=r,this.payMod.cgi.setChannel(this),this.name="",this.buyReportIformat="",this.payReportIformatPrefix=""}var t=e.prototype;return t.buildBuyParams=function(e){},t.beforeSave=function(){return l.default.resolve()},t.buyAndPay=function(e){var t=this;this.report(this.buyReportIformat);var r=this.buildBuyParams(e);return this.beforeSave().then((function(){return t.params.enablePayScore?t.payMod.enablePayScore():t.params.isFriendsPayOrder?t.payMod.friendsPayOrder():t.payMod.save(r)})).then((function(e){return t.params.isFriendsPayOrder&&(~~e.ret?a.a.except(e):a.a.except({info:e.info,msg:"FRIENDS_PAY_ORDER"})),e})).then((function(e){return t.beforePay(e)})).then((function(e){return t.pay(e,r)}))},t.beforePay=function(e){return o.timer.start(this.name+"pay"),e},t.pay=function(e,t){},t.getChannelName=function(){return""},t.constructResult=function(e,t){return void 0===t&&(t={channel:this.getChannelName()}),new s.a(e).setExtra(t).getResult()},t.reportPay=function(e,t){var r="fail"===e?{resultCode:-9999}:void 0;this.report(this.payReportIformatPrefix+"."+e+".callback",i()({},t,{times:o.timer.get(this.name+"pay")}),r)},t.report=function(e,t,r){this.app.report(e,t,r)},t.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,[this.name].concat(r))},e}();c.ResultAdapter=s.a},function(e,t,r){t.a=function(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&r===e}},function(e,t,r){t.a=function(e,t){if(void 0===t&&(t=!0),!Object(n.a)(e))return"";var r=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&void 0!==e[i]&&null!==e[i]){var a=t?encodeURIComponent(i):i,o=t?encodeURIComponent(e[i]):e[i];r.push(a+"="+o)}return r.join("&")};var n=r(7)},function(e,t,r){r.d(t,"a",(function(){return s}));var n=r(8),i=r(9),a=Object.prototype.hasOwnProperty,o=function(e,t){var r=function(e,t){if(!Object(i.a)(t))throw new Error("arr should be array! found: "+t);return t.filter((function(t){if(Object(n.a)(t))return!(a.call(e,t)&&""!==e[t]&&void 0!==e[t]&&null!==e[t]);if(Object(i.a)(t)){var r=t[0],o=t[1];return!(a.call(e,r)&&o(e[r]))}throw new Error("validate item should be string or array.")})).map((function(e){return Object(i.a)(e)?e[0]:e}))}(e,t);return 0===r.length?{status:!0,msg:""}:{status:!1,msg:r.join(", ")+" 错误"}},s=function(e,t){return void 0===t&&(t=[]),o(e,["offer_id","openid"].concat(t))}},function(e,t,r){t.a=function(e){if(!Object(i.a)(e))return[];var t=[];return Object(n.a)(e,(function(e,r){t.push(r)})),t};var n=r(10),i=r(7)},function(e,t,r){t.a=function(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}},function(e,t,r){r.d(t,"a",(function(){return v}));var n=r(21),i=r(4),a=r(18),o=r(0),s=r.n(o),l=r(2),c=r.n(l),u=r(5),d=r(1),p=r(3),h=r(13),f=r(6),g=r(12),v=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="WechatChannel",i.api=i.app.api,i.buyReportIformat="wechat.buy",i.payReportIformatPrefix="wechat_pay",i.buyParams={},i}c()(t,e);var r=t.prototype;return r._getPayMethodParams=function(){return{wx_direct_pay:this.params.referer?3:0,wx_publice_pay:1,pay_method:"wechat"}},r.buildBuyParams=function(e){return this.buyParams=s()({},this._getPayMethodParams(),e),"1"==this.payMod.getPayParams().change_wx_openid&&(this.buyParams.change_wx_openid="1"),this.buyParams},r.getChannelName=function(){return"wechat"},r.pay=function(e,t){if(e.wx_info=e.wx_info||{},e.info=e.info||{},this.report(this.getChannelName()+".handlebuy",e&&e.wx_info),f.a.hideToast(),u.scene.isOwnerMP||u.scene.isWxPlugin)return d.default.resolve({ret:0,extra:{wx_info:e.wx_info}});if(e.info.service_id)return this.payScore(e.info);var r=this.getSignUrl(e);return r?(this.wxSerialNo=e.wx_info?e.wx_info.wx_serialno:"",this.sign(r)):this.requestPayment(e)},r.payScore=function(e){var t=this;this.report("payscore.params",e);var r=function(){var e=g.a.getSdkParam("wx_api"),t="",r={};return"openBusinessView"===e?(t=e,r={businessType:"wxpayScoreEnable"}):(t="navigateToMiniProgram",r={appId:"wxd8f3793ea3b935b8",path:"pages/use/enable"}),{payScoreApi:t,payScoreParams:r}}(),n=r.payScoreApi,o=r.payScoreParams,l=g.a.getSdkParam("wx_extra")||{};return f.a[n](s()({},o,{extraData:Object(a.a)(e,["mch_id","service_id","out_request_no","timestamp","nonce_str","sign_type","sign"]),envVersion:g.a.getSdkParam("mp_env")},l)).then((function(){return i.a.except({ret:p.b.UNKNOWN,msg:"信用分开通结果未知，请从后台查询"})})).catch((function(e){if(e instanceof i.a)throw e;return t.report("payscore.navigate.error",e),i.a.except({ret:p.b.FAIL,msg:e.errMsg||"开通信用分失败"})}))},r.sign=function(e){var t=this,r=Object(n.a)(e);return this.report("sign.params",r),this.unknownError=new i.a({ret:p.b.UNKNOWN,msg:"签约结果未知"}),f.a.navigateToMiniProgram({appId:"wxbd687630cd02ce1d",path:"pages/index/index",extraData:r}).then((function(e){var r=new d.default((function(e,r){Object(u.delay)((function(){t.report("sign.timeout"),r(t.unknownError)}),15e3)}));return d.default.race([t.onNavigationSuccess(e,"wxbd687630cd02ce1d"),r])})).catch((function(e){if(e===t.unknownError)throw e;t.report("sign.navigate.error",e),i.a.except({ret:p.b.FAIL,msg:e.errMsg||"签约失败"})}))},r.onNavigationSuccess=function(e){var t=this;return this.report("sign.navigate.success",e),this.api.emit("navigateToSign"),new d.default((function(e,r){f.a.onAppShow((function(n){var a=n.referrerInfo||{},o=a.appId,s=a.extraData;if("wxbd687630cd02ce1d"===o){var l=s&&"SUCCESS"!==s.return_code,c={ret:p.b.SUCCESS,msg:"签约成功"};if(l)throw Error();return t.wxSerialNo&&t.params.retry_times>0?(t.app.showPayLoading({duration:10,title:"查询结果中..."}),t.payMod.querySignResult(t.wxSerialNo).then((function(r){return t.report("query.sign.success",r),e(c)})).catch((function(e){return t.report("query.sign.fail",e),r(e&&e.info&&5===e.info.status?new i.a({ret:p.b.FAIL,msg:"签约失败"}):t.unknownError)}))):r(t.unknownError)}}))}))},r.normalizePayParams=function(e){var t=e.wx_info;if(t.wx_package)return{timeStamp:t.wx_time,nonceStr:t.wx_noncenum,package:t.wx_package,signType:t.wx_signtype,paySign:t.wx_sign};if(t.sign)return s()({},Object(a.a)(t,["timeStamp","nonceStr","package","signType"]),{paySign:t.sign});throw new Error("Unknown pay info: "+JSON.stringify(t))},r.requestPayment=function(e){var t,r=this,a=this.normalizePayParams(e);try{t=this._getWxJSAPIMethod()}catch(e){return d.default.reject(e)}if(this.report("wechatpay.start.pv",{paymentJSAPIName:t,paramsKey:Object.keys(a)}),this.params.wx_h5pay){var o=Object(n.a)(a.paySign),l=e.info.portal_serial_no;return v5.getSystemInfoSync().isQB&&this.params.referer?new d.default((function(t){v5.requestPayment(s()({},o,{referer:r.params.referer,complete:function(){return t({ret:p.b.UNKNOWN,msg:"支付结果未知，请从后台查询",extra:{portalSerialNo:e.info.portal_serial_no}})}}))})):{ret:p.b.SUCCESS,msg:"",extra:s()({},o,{mweb_url:a.paySign,portalSerialNo:l})}}return f.a[t](a).then((function(e){return r.log("pay success",e),r.reportPay("success",e),{ret:p.b.SUCCESS,msg:e.errMsg}})).catch((function(e){r.log("pay fail ",e),r.reportPay("fail",e);var t=(e.errMsg||"").indexOf("cancel")>-1?p.b.CANCEL:p.b.FAIL,n=void 0===e.errCode?t:e.errCode,a=e.errMsg||p.d[n];i.a.except({ret:n,msg:a})}))},r.getSignUrl=function(e){return e.wx_info.wx_sign_url||decodeURIComponent(e.url||"")},r._getWxJSAPIMethod=function(){var e=this.params.wx_payment_method||"requestPayment";return"function"!=typeof f.a[e]&&i.a.except({ret:p.b.NOT_IMPLEMENTED,msg:"wx."+e+" 方法不存在"}),e},t}(h.a)},function(e,t,r){t.a=function(){}},function(e,t,r){t.a=function(e,t,r){void 0===e&&(e=location.href),void 0===t&&(t="&"),void 0===r&&(r="=");var i=e.replace(/.+?\?/,"").replace(/#.*/,""),a=i.split(t);return n[i]||(n[i]=a.reduce((function(e,t){var n=t.indexOf(r);if(n>-1){var i=t.substr(0,n);if(i){var a=t.substr(n+1);try{e[i]=decodeURIComponent(a)}catch(t){e[i]=a}}}return e}),{})),n[i]};var n={}},function(e,t,r){r.d(t,"a",(function(){return a}));var n=r(0),i=r.n(n),a=function(){function e(e){var t=e.ret,r=e.err_code,n=void 0===r?"":r,i=e.msg;this.result={resultCode:t,resultMsg:i,innerCode:n}}var t=e.prototype;return t.setExtra=function(e){return void 0===e&&(e={}),this.result=i()({},this.result,e),this},t.getResult=function(){return this.result},e}()},function(e,t,r){t.a=function(e,t){if(!Object(o.a)(e))return t;var r=Object(a.a)(e);if(0===r.length)return t;t=Object(i.a)(r,t);var s=Object(n.a)(e);return t+(/(\?|&)$/.test(t)?""+s:/\?/.test(t)?"&"+s:"?"+s)};var n=r(15),i=r(41),a=r(17),o=r(7)},function(e,t,r){t.a=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Object(i.a)(e)?Object(n.a)(t[0])?e.call.apply(e,[null].concat(t[0])):e.call.apply(e,[null].concat(t)):null};var n=r(9),i=r(44)},function(e,t,r){t.a=function(){var e=Array.prototype.slice.call(arguments);return function(e,t){for(var r=0,n=t.split(".");e&&r<n.length;)e=e[n[r++]];return e}(e[0],e.slice(1).join("."))}},function(e,t,r){var n=r(19),i=r(48),a=r(49),o=r(50),s=r(51),l=(r(52),r(53));t.a={wechat:function(e,t,r){return void 0===r&&(r={}),new n.a(e,t,r)},wechat_ecommerce:function(e,t,r){return void 0===r&&(r={}),new i.a(e,t,r)},wechat_channels:function(e,t,r){return void 0===r&&(r={}),new a.a(e,t,r)},wechatapp:function(e,t,r){return void 0===r&&(r={}),new o.a(e,t,r)},qqwallet:function(e,t,r){return void 0===r&&(r={}),new s.a(e,t,r)},jifenWechat:function(e,t,r){void 0===r&&(r={})},directWechat:function(e,t,r){return void 0===r&&(r={}),new l.a(e,t,r)}}},function(e,t,r){t.a=function(e,t){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[],i=0;if(t=t||r.length,e)for(i=0;i<e;i++)n[i]=r[0|Math.random()*t];else for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",i=0;i<36;i++)if(!n[i]){var a=0|16*Math.random();n[i]=r[19===i?3&a|8:a]}return n.join("")}},function(e,t,r){r.d(t,"a",(function(){return E}));var n,i,a,o,s=r(15),l=r(35),c=r(0),u=r.n(c),d=r(37),p=r(4),h=r(7),f=r(2),g=r.n(f),v=r(38),m=r.n(v),y=r(3),_=r(22),b=r(39),w=r(12),S=r(6),C=r(5),I=r(47),A=(r.n(I),r(33)),k=r(26),E=(n=Object(b.a)(),i=Object(b.b)(),a=Object(b.c)(),o=function(e){function t(t,r){var n;return(n=e.call(this)||this).opt=t||{},w.a.setSdkParam(n.opt),n.api=r,n.name="BaseApi",n.params=null,n.callback=null,n.AppClass=null,n.app=null,n.callbackInvoked=!1,S.a.offAllAppShow(),n.checkUpdate({silent:t.silent}),n}g()(t,e);var r=t.prototype;return r.launchPay=function(e,t){var r=this;if("function"!=typeof t)throw new Error("Callback must be a function.");if(this.callbackInvoked)throw new Error("Midas instance should be re-initialized before calling `launchPay`.");this.initLaunch(e,t),Object(h.a)(e.context)&&(e.context.__MIDAS_EXTEND__={report:this.app.report.bind(this.app),util:C}),this.app.pay().then((function(e){return r.constructResult(e)})).then((function(e){return r.invokeCallback(e)})).catch((function(e){return r.errorCallback(e)})).finally((function(){return r._destroy()}))},r.launchSign=function(e,t){return this.callback=t,"continuous_month"!==e.sign_type||Object(C.endsWith)(e.product_id,"continuous_month_pid")?this.launchPay(e,t):this.errorCallback(new p.a({ret:y.b.PARAMS_ERROR,msg:"product_id should ends with continuous_month_pid"}))},r.launchFeature=function(e,t){if("ask"===e.type)return e.goodstokenurl="/v1/r/"+e.offer_id+"/mobile_goods_info?friends_pay_msg="+e.order_id+"&token_store_type=1&friends_pay_source=mobile",delete e.order_id,delete e.type,this.launchPay(e,t);if("pay_score"===e.type)return Object(d.a)(e.direct_channel)&&(e.direct_channel="wechat"),e.enablePayScore=!0,this.launchPay(e,t);if("friends_pay_order"===e.type)return e.isFriendsPayOrder=!0,this.launchPay(e,t);throw new Error("type is not valid.")},r.launchDirectPay=function(e,t){var r=this;if("wechat"!==(this.initLaunch(e,t),e.pay_method))throw new Error("pay_method is not valid.");var n=k.a.directWechat(this.app,this.app.payMod,e),i={wx_info:e.pay_info};n.beforePay(i),n.pay(i).then((function(e){return r.constructResult(e)})).then((function(e){return r.invokeCallback(e)})).catch((function(e){return r.errorCallback(e)})).finally((function(){return r._destroy()}))},r.initLaunch=function(e,t){this.params=e||{},w.a.setSdkParam(this.params),this.callback=t,this.app=new this.AppClass({params:e,opt:this.opt,api:this}),this.app.report("payparams",u()({},e,this.opt))},r.cancel=function(){"function"==typeof this.launchPay.cancel&&this.launchPay.cancel()},r.constructResult=function(e){return void 0===e&&(e={}),new _.a(e).setExtra(e.extra).getResult()},r.errorCallback=function(e){var t=u()({},Object(l.a)(e.info,["ret","msg","err_code"]),e.extra);if("PayError"===e.name){var r=new _.a(e.info).setExtra(t).getResult();if("FRIENDS_PAY_ORDER"===r.resultMsg){var n=w.a.getInfo("info.rate"),i=this.params.buy_quantity;return r.info&&!r.info.price_level&&(r.info.price_level=Math.round(i/parseInt(n))),r.info.friends_pay_msg=r.info.token,delete r.info.token,this.invokeCallback({resultCode:0,resultMsg:"下单成功",extendInfo:{token:Object(s.a)(r.info),priceLevel:r.info.price_level}})}return this.invokeCallback(r)}if(e.msg&&e.ret){var a=new _.a(e).setExtra(t).getResult();return this.invokeCallback(a)}return this.app&&this.app.clientLog("JS ERROR: "+e.message+". stack: "+e.stack,239,"midaspay/api/base-api.js"),this.invokeCallback()},r.invokeCallback=function(e){if(this.app.report("invoke.callback",u()({},e,{invoked:this.callbackInvoked})),!this.callbackInvoked&&"function"==typeof this.callback){var t=e||this.constructResult(y.a.FAIL);this.callback(t),this.callbackInvoked=!0}},r.destroy=function(){},r._destroy=function(){S.a.offAllAppShow(),this.invokeCallback(),w.a.getSdkParam("hide_loading")||S.a.hideToast(),this.cancel();try{this.app&&this.app.destroy&&(this.app.destroy(),this.app=null),this.callback=null,this.api.instance=null}catch(e){}},r.checkUpdate=function(e){return Object(A.a)(e)},r.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,[this.name].concat(r))},t}(I.TinyEmitter),m()(o.prototype,"launchPay",[n,i,a],Object.getOwnPropertyDescriptor(o.prototype,"launchPay"),o.prototype),o);E.createApi=function(e){return{init:function(t){return void 0===t&&(t={}),this.instance=new e(t,this),this.instance},get:function(){if(!this.instance)throw new Error(e+" is not initialized.");return this.instance},destroy:function(){this.instance&&(this.instance.destroy(),this.instance=null)}}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){r.d(t,"a",(function(){return _}));var n=r(20),i=r(4),a=r(9),o=r(25),s=r(24),l=r(0),c=r.n(l),u=r(26),d=r(5),p=r(6),h=r(1),f=r(54),g=r(3),v=r(16),m=r(55),y=r(12),_=function(){function e(e){var t=e.params,r=void 0===t?{}:t,n=e.opt,i=e.api;this.params=r,this.opt=n,this.env={},this.payMod=null,this.api=i,this.params=c()({},r,{env:~~n.env,bizAppId:this.getBizAppid(r)}),this.validator=v.a,this.reportObj=new f.a,this.reportObj.setDefaultParams(this.params)}var t=e.prototype;return t.beforePay=function(){if(d.timer.start(this.name+"paystart"),this.showPayLoading({title:this.params.sign_type?"跳转签约中...":"支付中..."}),"function"==typeof this.validator&&!this.params._skipValidation){this.validator=this.params.enablePayScore?m.a:this.validator;var e=this.validator(this.params);return e.status?this.checkEnv():this.paramsError(e.msg)}return this.checkEnv()},t.pay=function(){var e=this;return this.beforePay().then((function(){if(!e.params.direct_channel)return e.payMod.getInfo()})).then((function(t){return e.getPayChannel(t)})).then((function(t){return e.directPay(t)}))},t.checkEnv=function(){return this.reportObj.init()},t.report=function(e,t,r){void 0===r&&(r={}),this.reportObj.report(e,t,r)},t.clientLog=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),this.report("client.log",{msg:e,line:t,file:r})},t.getPayChannel=function(e){if(Object(s.a)(this.params.onPayInfo,e),this.params.direct_channel)return h.default.resolve(this.params.direct_channel);y.a.setInfo(e);var t=Object(o.a)(e,"info.channel");if(Object(a.a)(t)){var r=d.scene.isQQMp,n={qqwallet:r,wechat:!r,wechatapp:!r,wechat_ecommerce:!r,wechat_channels:!r},l=t.filter((function(e){return n[e.name]}));if(l.length>0)return h.default.resolve(l[0].name)}return this.report("channel.info.exception",{},{resultCode:"-9999"}),i.a.reject({ret:g.b.FAIL,msg:g.d.CHANNEL_NOT_SUPPORT,err_code:t.map((function(e){return e.name})).join(", ")})},t.canDirectPay=function(e){return!(!e||!Object.prototype.hasOwnProperty.call(u.a,e))||(this.report("directpay.nosupport",{channel:e}),!1)},t.directPay=function(e){var t=this;return this.canDirectPay(e)?(this.report("directpay",{channel:e}),u.a[e](this,this.payMod,this.params).buyAndPay().then((function(e){return t.report("payduration",{time:d.timer.get(t.name+"paystart")}),e}))):i.a.reject({ret:g.b.FAIL,msg:g.d.CHANNEL_NOT_SUPPORT})},t.getBizAppid=function(e){return 1!==parseInt(this.opt.use_default_wxappid)?e.biz_appid||"1":""},t.paramsError=function(e){return void 0===e&&(e=""),i.a.reject({ret:g.b.PARAMS_ERROR,msg:e||g.d[g.b.FAIL]})},t.showPayLoading=function(e){var t=void 0===e?{}:e,r=t.duration,n=void 0===r?30:r,i=t.title,a=void 0===i?"支付中...":i;y.a.getSdkParam("hide_loading")||p.a.showToast({title:a,icon:"loading",mask:!0,duration:1e3*n})},t.hidePayLoading=function(){y.a.getSdkParam("hide_loading")||p.a.hideToast()},t.destroy=function(){this.callback=n.a,this.reportObj.destroy(),this.payMod.cgi.clearNetworkTask(),this.payMod=null},t.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,[this.name].concat(r))},e}()},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(4),i=r(56),a=r(0),o=r.n(a),s=r(21),l=r(8),c=r(11),u=(r(3),r(12)),d=r(5),p=r(57),h=r(58),f=function(){function e(e,t){this.app=e,this.name="BasePayMod",this.params=t,this.params.extend=t.extend||"",this.processType="",this.infoReportIformat={pv:"info.pv",status:"info.status"},this.saveReportIformat={pv:"save.pv",status:"save.status"},this.session=new p.a({openid:t.openid,openkey:t.openkey||"no_key",sessionid:t.session_id||"hy_gameid",sessiontype:t.session_type||"wc_actoken"}),this.cgi=new h.a({pf:t.pf,pfkey:t.pfkey||"pfkey",appid:t.offer_id,sandbox:~~t.env,sessionObj:this.session,app:this.app,use_wx_proxy:t.use_wx_proxy,report:this.report.bind(this)})}var t=e.prototype;return t.getInfoPublicParams=function(){var e={process_type:this.processType,page_type:"mall",wx_appid:this.params.login_wx_appid||""};return this.params.pf_header&&(e.pf_header=this.params.pf_header),e},t.beforeGetInfo=function(e){d.timer.start(this.name+"info"),this.report(this.infoReportIformat.pv,e)},t.buildInfoParams=function(){},t.getInfo=function(){},t.getAdditionalParams=function(){var e=this.params.additional;return e?Object(l.a)(e)?Object(s.a)(decodeURIComponent(e)):e:{}},t.getSavePublicParams=function(){var e=this,t=o()({},this.getAdditionalParams(),{process_type:this.processType,page_type:"order",from_https:"1",from_h5:"1",extend:encodeURIComponent(this.params.extend||""),provide_uin:this.params.provide_uin||"",wx_appid:this.params.login_wx_appid||""});if(this.params.context&&Object.assign(t,{cr_flex:"1",fk_tips:"1"}),Object(c.b)().forEach((function(r){e.params[r]&&(t[r]=e.params[r])})),this.params.groupid){var r={GamePayMod:"currency_group",GoodsPayMod:"goods_group",SubscribePayMod:"version=3.0&month_group"}[this.name];t.drm_info=r+"="+this.params.groupid}return this.params.sp_info&&(t.sp_info=this.params.sp_info),this.params.out_trade_no&&(t.out_trade_no=this.params.out_trade_no),t},t.getScorePayParams=function(){return o()({},this.getAdditionalParams(),{service_id:this.params.service_id})},t.getFriendsPayOrderParams=function(){var e=u.a.getInfo("info.rate"),t=this.params,r=t.zoneid,n=t.buy_quantity,i=t.currency_type,a=t.change_wx_openid,s=void 0===a?"":a,l=t.login_wx_appid,c=void 0===l?"":l,d=t.extend,p=void 0===d?"":d,h=Math.round(100*n/parseInt(e));return o()({},this.getAdditionalParams(),{zoneid:r,buy_quantity:n,currency_type:i,change_wx_openid:s,wx_appid:c,extend:p,wcp:"type="+i+"&amt="+h})},t.beforeSave=function(e){this.report(this.saveReportIformat.pv,e),d.timer.start(this.name+"save")},t.buildSaveParams=function(e){void 0===e&&(e={})},t.save=function(e){},t.getPayParams=function(){return this.params},t.getZoneid=function(e){return void 0===e&&(e={}),e.zoneid||this.params.zoneid||"1"},t.getCurrencyType=function(){return this.params.currency_type||""},t.needCurrencyType=function(e){return void 0===e&&(e=""),"wechat_app"===e&&!this.params.currency_type},t.querySignResult=function(e){var t=this;return Object(d.retry)((function(){return t.cgi.querySignResult({wx_serialno:e})}),{times:this.params.retry_times,interval:this.params.retry_interval?Math.max(this.params.retry_interval,1e3):2e3,abort:function(e){return e.info&&5===e.info.status}})},t.report=function(e,t,r){this.app.report(e,t,r)},t.enablePayScore=function(){this.beforeSave();var e=this.cgi.wxOpenBusiness(this.getScorePayParams(),{method:"POST"});return this.wrapSave(e)},t.friendsPayOrder=function(){this.beforeSave();var e=this.cgi.getToken(this.getFriendsPayOrderParams(),{method:"POST"});return this.wrapSave(e)},t.reportInfo=function(e){this.report(this.infoReportIformat.status,{httpCode:e.httpCode||"200",resultMsg:e.msg,errCode:e.err_code||"",res:Object(i.a)(e),times:d.timer.get(this.name+"info")},{resultCode:e.ret})},t.wrapInfo=function(e){var t=this;return e.then((function(e){return t.reportInfo(e),e})).catch((function(e){if(e instanceof n.a)throw e;t.reportInfo(e),n.a.except(e)}))},t.reportSave=function(e){this.report(this.saveReportIformat.status,{httpCode:e.httpCode||"200",resultMsg:e.msg,errCode:e.err_code,res:Object(i.a)(e),times:d.timer.get(this.name+"save")},{resultCode:e.ret})},t.wrapSave=function(e){var t=this;return e.then((function(e){return t.reportSave(e),e})).catch((function(e){if(e instanceof n.a)throw e;t.reportSave(e),n.a.except(e)}))},t.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,[this.name].concat(r))},e}()},function(e,t,r){t.a=function(e){void 0===e&&(e={});var t=!0,r=Object(a.c)();try{"devtools"!==v5.getSystemInfoSync().platform&&(t=!1)}catch(e){t=!1}var o={shouldUpdate:!1,latestVersion:"unknown",currentVersion:r,updateAt:"unknown"};return t?new i.default((function(t){v5.request({url:"http://r.tnpm.oa.com/@tencent/midas-mp-sdk",success:function(r){var i=r.data["dist-tags"].latest,o=new Date(r.data.time[i]).toLocaleString(),s=Object(a.c)(),l=Object(n.a)(i,s)>0,c={shouldUpdate:l,latestVersion:i,currentVersion:s,updateAt:o},u=console;return u.group("Midas SDK"),u.log(c),u.groupEnd("Midas SDK"),l&&!e.silent&&v5.showModal({title:"Midas SDK",content:"米大师 SDK 有新版可用，详情请查看官网 http://midas.qq.com。如需屏蔽该消息，请在 init 时传入参数 silent: true。",showCancel:!1}),t(c)},fail:function(){return t(o)}})})):i.default.resolve(o)};var n=r(34),i=r(1),a=r(11)},function(e,t,r){t.a=function(e,t){if(!Object(n.a)(e))return-1;if(!Object(n.a)(t))return 1;for(var r=e.split("."),i=t.split("."),a=Math.min(r.length,i.length),o=0;o<a;o++){var s=Number(r[o]),l=Number(i[o]);if(s>l)return 1;if(l>s)return-1;if(!isNaN(s)&&isNaN(l))return 1;if(isNaN(s)&&!isNaN(l))return-1}return 0};var n=r(8)},function(e,t,r){t.a=function(e,t){if(!Object(i.a)(t)||0===t.length)return e;var r=t.reduce((function(e,t){return e[t]=!0,e}),{});return Object(n.a)(e).reduce((function(t,n){return r[n]||(t[n]=e[n]),t}),{})};var n=r(17),i=r(9)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){t.a=function(e){return void 0===e}},function(e,t){e.exports=function(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},function(e,t,r){var n=r(40);r.d(t,"a",(function(){return n.a}));var i=r(43);r.d(t,"b",(function(){return i.a}));var a=r(46);r.d(t,"c",(function(){return a.a}))},function(e,t,r){var n=r(5);t.a=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=3e3),function(r,i,a){var o=a.value;return a.value=Object(n.debounce)(o,t,e),a}}},function(e,t,r){t.a=function(e,t){return void 0===t&&(t=location.href),e instanceof Array||(e=[e]),t=t.replace(/[\r\n]/g,""),Object(n.a)(e,(function(e){t=(t=t.replace(new RegExp("(?:&"+e+"=[^&]*)","g"),"")).replace(new RegExp("(?:\\?"+e+"=[^&]*&?)","g"),"?")})),t};var n=r(10)},function(e,t,r){function n(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,o){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(i,o)),a),r)}function a(e,t,r,n,a,o,s){return i(t&r|~t&n,e,t,a,o,s)}function o(e,t,r,n,a,o,s){return i(t&n|r&~n,e,t,a,o,s)}function s(e,t,r,n,a,o,s){return i(t^r^n,e,t,a,o,s)}function l(e,t,r,n,a,o,s){return i(r^(t|~n),e,t,a,o,s)}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var r,i,c,u,d,p=1732584193,h=-271733879,f=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)i=p,c=h,u=f,d=g,p=a(p,h,f,g,e[r],7,-680876936),g=a(g,p,h,f,e[r+1],12,-389564586),f=a(f,g,p,h,e[r+2],17,606105819),h=a(h,f,g,p,e[r+3],22,-1044525330),p=a(p,h,f,g,e[r+4],7,-176418897),g=a(g,p,h,f,e[r+5],12,1200080426),f=a(f,g,p,h,e[r+6],17,-1473231341),h=a(h,f,g,p,e[r+7],22,-45705983),p=a(p,h,f,g,e[r+8],7,1770035416),g=a(g,p,h,f,e[r+9],12,-1958414417),f=a(f,g,p,h,e[r+10],17,-42063),h=a(h,f,g,p,e[r+11],22,-1990404162),p=a(p,h,f,g,e[r+12],7,1804603682),g=a(g,p,h,f,e[r+13],12,-40341101),f=a(f,g,p,h,e[r+14],17,-1502002290),p=o(p,h=a(h,f,g,p,e[r+15],22,1236535329),f,g,e[r+1],5,-165796510),g=o(g,p,h,f,e[r+6],9,-1069501632),f=o(f,g,p,h,e[r+11],14,643717713),h=o(h,f,g,p,e[r],20,-373897302),p=o(p,h,f,g,e[r+5],5,-701558691),g=o(g,p,h,f,e[r+10],9,38016083),f=o(f,g,p,h,e[r+15],14,-660478335),h=o(h,f,g,p,e[r+4],20,-405537848),p=o(p,h,f,g,e[r+9],5,568446438),g=o(g,p,h,f,e[r+14],9,-1019803690),f=o(f,g,p,h,e[r+3],14,-187363961),h=o(h,f,g,p,e[r+8],20,1163531501),p=o(p,h,f,g,e[r+13],5,-1444681467),g=o(g,p,h,f,e[r+2],9,-51403784),f=o(f,g,p,h,e[r+7],14,1735328473),p=s(p,h=o(h,f,g,p,e[r+12],20,-1926607734),f,g,e[r+5],4,-378558),g=s(g,p,h,f,e[r+8],11,-2022574463),f=s(f,g,p,h,e[r+11],16,1839030562),h=s(h,f,g,p,e[r+14],23,-35309556),p=s(p,h,f,g,e[r+1],4,-1530992060),g=s(g,p,h,f,e[r+4],11,1272893353),f=s(f,g,p,h,e[r+7],16,-155497632),h=s(h,f,g,p,e[r+10],23,-1094730640),p=s(p,h,f,g,e[r+13],4,681279174),g=s(g,p,h,f,e[r],11,-358537222),f=s(f,g,p,h,e[r+3],16,-722521979),h=s(h,f,g,p,e[r+6],23,76029189),p=s(p,h,f,g,e[r+9],4,-640364487),g=s(g,p,h,f,e[r+12],11,-421815835),f=s(f,g,p,h,e[r+15],16,530742520),p=l(p,h=s(h,f,g,p,e[r+2],23,-995338651),f,g,e[r],6,-198630844),g=l(g,p,h,f,e[r+7],10,1126891415),f=l(f,g,p,h,e[r+14],15,-1416354905),h=l(h,f,g,p,e[r+5],21,-57434055),p=l(p,h,f,g,e[r+12],6,1700485571),g=l(g,p,h,f,e[r+3],10,-1894986606),f=l(f,g,p,h,e[r+10],15,-1051523),h=l(h,f,g,p,e[r+1],21,-2054922799),p=l(p,h,f,g,e[r+8],6,1873313359),g=l(g,p,h,f,e[r+15],10,-30611744),f=l(f,g,p,h,e[r+6],15,-1560198380),h=l(h,f,g,p,e[r+13],21,1309151649),p=l(p,h,f,g,e[r+4],6,-145523070),g=l(g,p,h,f,e[r+11],10,-1120210379),f=l(f,g,p,h,e[r+2],15,718787259),h=l(h,f,g,p,e[r+9],21,-343485551),p=n(p,i),h=n(h,c),f=n(f,u),g=n(g,d);return[p,h,f,g]}function u(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function d(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){var t,r,n="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function h(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return u(c(d(e),8*e.length))}(h(e))}function g(e,t){return function(e,t){var r,n,i=d(e),a=[],o=[];for(a[15]=o[15]=void 0,i.length>16&&(i=c(i,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^i[r],o[r]=1549556828^i[r];return n=c(a.concat(d(t)),512+8*t.length),u(c(o.concat(n),640))}(h(e),h(t))}t.a=function(e,t,r){return t?r?g(t,e):function(e,t){return p(g(e,t))}(t,e):r?f(e):function(e){return p(f(e))}(e)}},function(e,t,r){var n=r(24),i=r(6);t.a=function(e){return function(t,r,a){if("launchPay"!==r||e)return a;var o=a.value;return a.value=function(){for(var e=this,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(~~this.opt.env){if(this.opt.__unsafe_disable_sandbox_tips)return void o.apply(this,r);i.a.showModal({content:"温馨提示：您即将进入测试环境，任何充值都无法在真实环境中使用。若您不是测试人员，请勿充值。",showCancel:!1}).then((function(t){t.confirm?o.apply(e,r):Object(n.a)(a.value.cancel)}))}else o.apply(this,r)},a}}},function(e,t,r){t.a=function(e){return Object(n.a)("Function",e)};var n=r(14)},function(e,t,r){t.a=function(e,t){try{return e()}catch(e){return t?t(e):null}}},function(e,t,r){t.a=function(){return function(e,t,r){if(o.scene.isQQMp){var i=r.value;r.value=function(e,t){if(!e.useRequestMidasPayment)return i.call(this,e,t);var s=Object(o.camelize)(e),c=Object(o.compact)(a()({zoneId:s.zoneid||s.zoneId||"1"},Object(n.a)(s,["offerId","buyQuantity","isCanChange","discountId","aid","other"]),s._internal_qq_req_mdspay_param,{success:function(e){return t(l(e))},fail:function(e){return t(l(e))},complete:function(){return r.value.cancel&&r.value.cancel()}}));qq.requestMidasPayment(c)}}return r}};var n=r(18),i=r(0),a=r.n(i),o=r(5),s=r(3),l=function(e){var t={0:0,"-1":-1,2:-2,3:1e3},r=String(e.errCode||e.resultCode),n=e.errMsg||e.resultMsg||"";if(Object.prototype.hasOwnProperty.call(t,r))return{resultCode:t[r],resultMsg:n};var i=s.b.FAIL;return{resultCode:i,resultMsg:s.d[i]}}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){function n(){i.off(e,n),t.apply(r,arguments)}var i=this;return n._=t,this.on(e,n,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&i.push(n[a]);return i.length?r[e]=i:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},function(e,t,r){r.d(t,"a",(function(){return a}));var n=r(2),i=r.n(n),a=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="wechatEcommerceChannel",i.api=i.app.api,i.buyReportIformat="wechat_ecommerce.buy",i.payReportIformatPrefix="wechat_ecommerce_pay",i.buyParams={},i}i()(t,e);var r=t.prototype;return r._getPayMethodParams=function(){return{pay_method:"wechat_ecommerce:"+(this.params.referer?"4":"2")}},r.getChannelName=function(){return"wechat_ecommerce"},r.normalizePayParams=function(e){var t=e.comm_channel_info;if(t.sign)return{timeStamp:t.time,nonceStr:t.nonce,package:t.package,signType:t.sign_type,paySign:t.sign};throw new Error("Unknown pay info: "+JSON.stringify(t))},t}(r(19).a)},function(e,t,r){r.d(t,"a",(function(){return d}));var n=r(4),i=r(0),a=r.n(i),o=r(2),s=r.n(o),l=r(3),c=r(13),u=r(6),d=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="WechatChannelsChannel",i.buyReportIformat="wechat_channels.buy",i.payReportIformatPrefix="wechat_channels_pay",i.buyParams={},i}s()(t,e);var r=t.prototype;return r.buildBuyParams=function(e){return this.buyParams=a()({pay_method:"wechat_channels"},e),this.buyParams},r.getChannelName=function(){return"wechat_channels"},r.pay=function(e){return e.comm_channel_info=e.comm_channel_info||{},e.info=e.info||{},this.report("wechat_channels.handlebuy",e&&e.comm_channel_info),u.a.hideToast(),this.requestPayment(e)},r.normalizePayParams=function(e){var t=e.comm_channel_info;if(t.paySign)return{timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign};throw new Error("Unknown pay info: "+JSON.stringify(t))},r.requestPayment=function(e){var t=this,r=this.normalizePayParams(e);return this.report("wechat_channels_pay.start.pv",{paymentJSAPIName:"requestOrderPayment",paramsKey:Object.keys(r)}),u.a.requestOrderPayment(r).then((function(e){return t.reportPay("success",e),{ret:l.b.SUCCESS,msg:e.errMsg}})).catch((function(e){t.reportPay("fail",e);var r=(e.errMsg||"").indexOf("cancel")>-1?l.b.CANCEL:l.b.FAIL,i=void 0===e.errCode?r:e.errCode,a=e.errMsg||l.d[i];n.a.except({ret:i,msg:a})}))},t}(c.a)},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(0),i=r.n(n),a=r(4),o=r(2),s=r.n(o),l=r(3),c=r(1),u=r(13),d=r(6),p=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="WechatAppChannel",i.buyReportIformat="wechat_app.buy",i.payReportIformatPrefix="wechatapp_pay",i}s()(t,e);var r=t.prototype;return r.beforeSave=function(){return v5&&v5.requestVirtualPayment?c.default.resolve():(this.report("requestVirtualPayment.notexist"),a.a.reject({ret:l.b.INTERFACE_NOT_EXIST,msg:l.d[l.b.INTERFACE_NOT_EXIST]}))},r.buildBuyParams=function(e){if(this.payMod.needCurrencyType(this.getChannelName()))return this.app.paramsError("需要currency_type参数");var t=i()({currency_type:this.payMod.getCurrencyType(),pay_method:this.getChannelName()},e);return"1"==this.payMod.getPayParams().change_wx_openid&&(t.change_wx_openid="1"),t},r.getChannelName=function(){return"wechatapp"},r.decryptOrderId=function(e){if("string"!=typeof e)return"";var t=v5.aesjs,r=e.split("_"),n=r[0],i=r[1];if(!n||!i)return"";var a=t.utils.hex.toBytes(n),o=this.payMod.cgi.sandbox?"0269bd8009164afc":"2Wozy2aksie1puXU",s=t.utils.utf8.toBytes(o),l=new t.ModeOfOperation.ecb(s).decrypt(a).slice(0,i);return t.utils.utf8.fromBytes(l)},r.pay=function(e){var t=this;return this.report("wechat_app.handlebuy",e&&e.wechatapp_info),d.a.hideToast(),new c.default((function(r,n){var o=e.wechatapp_info||{},s=o.price_level,c=o.orderid,u=o.orderid,d=o.desc,p=o.sign,h=o.ext_info,f=e.sp_info||{};t.report("wechatapp_pay.start.pv"),v5.requestVirtualPayment({priceLevel:s,businessOrderId:c,outTradeNo:u,desc:d,virtualPaySign:p,extInfo:h,success:function(e){t.reportPay("success",e);var n=l.b.SUCCESS,i=e.errMsg;r({ret:n,msg:i})},fail:function(e){t.reportPay("fail",e);var r=e.errMsg||"",o=r.indexOf("cancel")>-1?l.b.CANCEL:l.b.FAIL,s=void 0===e.errCode?o:e.errCode,c=r||l.d[s],u={};f.channel_orderid&&(f.channel_orderid=t.decryptOrderId(f.channel_orderid),u.spInfo=f),n(new a.a(i()({ret:s,msg:c},u)))}})}))},t}(u.a)},function(e,t,r){r.d(t,"a",(function(){return d}));var n=r(4),i=r(0),a=r.n(i),o=r(2),s=r.n(o),l=r(3),c=r(13),u=r(6),d=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="QQWalletChannel",i.api=i.app.api,i.buyReportIformat="qqwallet.buy",i.payReportIformatPrefix="qqwallet_pay",i.buyParams={},i}s()(t,e);var r=t.prototype;return r.buildBuyParams=function(e){return this.buyParams=a()({cft_type:"tokenid",pay_method:"qqwallet"},e),this.buyParams},r.getChannelName=function(){return"qqwallet"},r.pay=function(e){return e.qqwallet_info=e.qqwallet_info||{},this.report("qqwallet.handlebuy",e&&e.qqwallet_info),u.a.hideToast(),this.requestPayment(e.qqwallet_info)},r.requestPayment=function(e){var t=this,r=e||{},i=r.qqwallet_bargainorId,a=r.qqwallet_tokenId;return this.report("qqwalletpay.start.pv",e),u.a.requestPayment({bargainor_id:i,package:"prepay_id="+a}).then((function(e){return t.reportPay("success",e),{ret:l.b.SUCCESS,msg:e.errMsg}})).catch((function(e){t.report("fail",e);var r=(e.errMsg||"").indexOf("cancel")>-1?l.b.CANCEL:l.b.FAIL,i=void 0===e.errCode?r:e.errCode,a=e.errMsg||l.d[i];throw new n.a({ret:i,msg:a})}))},t}(c.a)},function(e,t,r){r(4);var n=r(0),i=(r.n(n),r(2)),a=(r.n(i),r(3),r(1),r(13));r(6);a.a},function(e,t,r){r.d(t,"a",(function(){return l}));var n=r(0),i=r.n(n),a=r(7),o=r(2),s=r.n(o),l=function(e){function t(t,r,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,r,n)||this).name="DirectWechatChannel",i.buyReportIformat="direct_wechat.buy",i.payReportIformatPrefix="direct_wechat_pay",i}return s()(t,e),t.prototype.normalizePayParams=function(t){var r=e.prototype.normalizePayParams.call(this,t);return Object(a.a)(this.params.channel_pay_info)&&(r=i()({},r,this.params.channel_pay_info)),r},t}(r(19).a)},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(20),i=r(15),a=r(0),o=r.n(a),s=r(27),l=r(11),c=r(6),u=r(1),d=r(5),p=function(){function e(){this.reportQueue=[],this.pid=0,this.iformatPrefix="",this.env={},this.params={},this.transactionId=Object(s.a)()+"_"+(new Date).getTime(),this.handleReportComplete=this.handleReportComplete.bind(this),this.name="Report"}var t=e.prototype;return t.constructParams=function(e,t,r){void 0===r&&(r={});var n=o()({6:10,7:0,8:t?Object(i.a)(Object(d.flattenObject)(t)):"",13:this.pid++,21:[this.iformatPrefix,e].join("."),31:"midas_wx_sdk_"+Object(l.c)(),38:(new Date).getTime(),29:this.transactionId},r);return Object.keys(n).map((function(e){return e+"="+encodeURIComponent(n[e])})).join("|")},t.doSend=function(){var e,t=this,r=this.reportQueue[0]||{},n=r.iformat,i=r.resultInfo,a=r.opt;if(n){var o=v5.request({url:"https://api.unipay.qq.com/v1/900/15499/log_data",method:"POST",data:{num:1,record0:this.constructParams(n,i,a),rr:Math.random()},header:{"content-type":"application/x-www-form-urlencoded"},complete:function(){clearTimeout(e),t.handleReportComplete()}});e=setTimeout((function(){try{o.abort()}catch(e){}}),3e3)}},t.handleReportComplete=function(){this.reportQueue.shift(),this.reportQueue.length>0&&this.doSend()},t.send=function(e,t,r){var n=this;void 0===r&&(r={}),this.reportQueue.push({iformat:e,resultInfo:t,opt:r}),1===this.reportQueue.length&&setTimeout((function(){n.doSend()}),0)},t.destroy=function(){},t.setIformatPrefix=function(e){this.iformatPrefix=e},t.setDefaultParams=function(e){this.params=e},t.init=function(){var e=this;if(this.report("before.checkenv"),this.env.model)return this.report("after.checkenv",this.env),this.env,u.default.resolve(this.env);var t=c.a.getSystemInfo().then((function(t){e.env=o()({},e.env,t)})).catch(n.a),r=c.a.getNetworkType().then((function(t){void 0===t&&(t={}),t.networkType,e.env.networkType=t.networkType})).catch(n.a);return u.default.all([t,r]).then((function(){e.report("after.checkenv",e.env),e.env}))},t.getPlatform=function(){var e=this.env;return e.model?e.model.indexOf("iPhone")>-1?"ios":"android":""},t.getLibVersion=function(){var e=this.env;return e&&e.version||""},t.report=function(e,t,r){void 0===r&&(r={}),this.iformatPrefix.split(".").slice(1).join("."),this.send(e,t,{3:this.params.openid||"",37:this.params.session_id||"",43:this.params.session_type||"",41:this.params.login_wx_appid||"",26:this.params.pf||"",7:r.resultCode||0,19:this.params.service_code||"",24:this.params.offer_id||"",50:this.getPlatform()+"_"+this.getLibVersion(),51:this.params.aid||""})},t.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,[this.name].concat(r))},e}()},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(16),i=function(e){return Object(n.a)(e,["pf","service_id"])}},function(e,t,r){function n(e){return Object(l.a)(e,(function(t,r){Object(i.a)(t)&&""===t&&delete e[r],Object(a.a)(t)&&0===t.length&&delete e[r],Object(o.a)(t)&&(n(t),0===Object(s.a)(t).length&&delete e[r])})),e}t.a=function(e){if(!Object(o.a)(e))return e.toString();try{var t=n(JSON.parse(JSON.stringify(e)));return JSON.stringify(t)}catch(t){return JSON.stringify(e)}};var i=r(8),a=r(9),o=r(7),s=r(17),l=r(10)},function(e,t,r){r.d(t,"a",(function(){return n}));var n=function(){function e(e){this.openid=e.openid.toString(),this.openkey=e.openkey||"",this.sessionid=e.sessionid,this.sessiontype=e.sessiontype}return e.prototype.getSessionParam=function(){return{openid:encodeURIComponent(this.openid),openkey:encodeURIComponent(this.openkey),session_id:encodeURIComponent(this.sessionid),session_type:encodeURIComponent(this.sessiontype)}},e}()},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(4),i=r(15),a=r(0),o=r.n(a),s=r(59),l=r(27),c=r(11),u=r(3),d=r(1),p=r(60),h=r(5),f=function(){function e(e){void 0===e&&(e={}),this.pf=e.pf||"html5",this.pfkey=e.pfkey||"pfkey",this.appid=e.appid,this.sandbox=~~e.sandbox,this.sessionObj=e.sessionObj||null,this.domain=["","sandbox.","dev."][this.sandbox]+"api.unipay.qq.com",this.use_wx_proxy=~~e.use_wx_proxy,this.report=e.report||function(){},this.sessionToken=e.sessionToken||Object(l.a)()+(new Date).getTime(),e.extend&&(this.extend=e.extend),this.requestTasks={},this.taskId=0,this.channel=null}var t=e.prototype;return t.setChannel=function(e){this.channel=e},t._getCgiUrl=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),Object(s.a)(e.url,o()({appid:this.appid,domain:"https://"+this.domain},t))},t._getSessionParam=function(){return o()({pf:this.pf,pfkey:this.pfkey,from_h5:1,session_token:this.sessionToken,r:Math.random()},this.sessionObj.getSessionParam())},t.wxOpenBusiness=function(t,r){var n=o()({sub_channel:2},t,this._getSessionParam(),{wechatapp_proxy_type:"wx_open_business"});return n.sig=Object(h.signWithMD5)(n,["openid","openkey","session_id","session_type","service_id"]),this.request(this._getCgiUrl(e.url.wechatAppProc),n,r)},t.getToken=function(t,r){var n=o()({action:"new_friends_pay",friends_pay_source:"wechatapp",type:"save"},t,this._getSessionParam(),{wechatapp_proxy_type:"get_token"});return this.request(this._getCgiUrl(e.url.wechatAppProc),n,r)},t._requestByWxProxy=function(e,t){return void 0===t&&(t={}),v5.invokeMidasOperateWXDataPromise({apiName:"webapi_createmidascoinorder",sdkApiName:"createmidascoinorder",reqData:{env:this.sandbox,path:e,params:Object(i.a)(t,!0)}}).then((function(e){if(e.data&&0==e.data.err_code){if(e.data.midas_response){var t,r=e.data.midas_response.http_status;if(r>=200&&r<=299)try{t=JSON.parse(e.data.midas_response.response_body)}catch(e){}return{statusCode:r,data:t}}throw e}throw e}))},t._convertToV3Path=function(e,t){var r=/\/v1\/\w+\/(\w+)\/(\w+)\??$/.exec(e);if(!r)return{path:e,params:t};var n=r[1];return{path:"/v3/r/mpay/"+r[2]+".fcg",params:o()({},t,{offer_id:n})}},t._requestByWxRequest=function(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r={});var i,a=this.genTaskId();return new d.default((function(o,s){var l=v5.request({url:e,method:r.method||"GET",header:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},data:t,success:function(e){void 0===e&&(e={}),o({statusCode:e.statusCode,data:e.data})},fail:function(e){s(e)},complete:function(){n.clearSingleNetworkTask(a),i=null}});i=setTimeout((function(){i=null;try{l.abort()}catch(e){}}),12e3),n.addNetworkTask(a,l,i)}))},t.request=function(e,t,r){var n=this;if(void 0===t&&(t={}),void 0===r&&(r={}),!v5)throw new Error("wx is not defined.");t.webversion="midaswxapp_"+Object(c.c)();var a=((e.split("?")[0]||"").match(/(\w+)$/)||[])[0]||e;return d.default.resolve().then((function(){if(1===n.use_wx_proxy&&-1!==["wechatapp_proc"].indexOf(a)&&"function"==typeof v5.invokeMidasOperateWXDataPromise){var r=n._convertToV3Path(e,t);return n._requestByWxProxy(r.path,r.params).catch((function(e){return n.report("wxproxy.fail",{env:n.sandbox,path:r.path,params:Object(i.a)(r.params,!0),res:e?JSON.stringify(e):""}),null}))}return null})).then((function(i){return i||n._requestByWxRequest(e,t,r).catch((function(e){throw{ret:-9999,msg:"请求超时！（"+(e.errMsg||"")+"）"}}))})).then((function(e){var r={ret:-9998,httpCode:e.statusCode,msg:"系统繁忙，请稍后再试！"};if(e.statusCode>=200&&e.statusCode<=299)return e.data&&0===e.data.ret?e.data:(e.data&&void 0!==e.data.ret||(e.data=r),e.data.msg=e.data.msg||r.msg,Object(p.a)(e,t,n.channel));throw r}))},t.mobileSaveGoods=function(t,r){void 0===t&&(t={});var n=t._params;delete t._url,delete t._mid,delete t._params;var i=o()({biz_appid:this.sessionObj.appid||""},this._getSessionParam(),t);return n&&(/\/mobile_goods_info\?/.test(n)?n=n.replace(/mobile_goods_info\?.*/,"wechatapp_proc"):/\/qz_goods_info\?/.test(n)&&(n=n.replace(/qz_goods_info\?.*/,"wechatapp_proc"))),this.request(this._getCgiUrl(e.url.mobileSaveGoods,{params:n}),i,r)},t.mobileGoodsInfo=function(t,r){void 0===t&&(t={});var n=t.params;delete t.params;var i=o()({},this._getSessionParam(),t);return n&&(/\/mobile_goods_info\?/.test(n)?n=n.replace(/mobile_goods_info\?.+/,"wechatapp_proc"):/\/qz_goods_info\?/.test(n)&&(n=n.replace(/qz_goods_info\?.+/,"wechatapp_proc"))),this.request(this._getCgiUrl(e.url.mobileGoodsInfo,{params:n}),i,r)},t.wechatAppProc=function(e,t){return this.commonEndpoint("wechatAppProc",e,t)},t.querySignResult=function(e,t){return this.commonEndpoint("wechatAppProc",o()({},e,{cmd:17,wechatapp_proxy_type:"wechat_query"}),t).then((function(e){if(4!==e.wx_order_status)throw new n.a({ret:u.b.FAIL,status:e.wx_order_status})}))},t.commonEndpoint=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n={});var i=o()({},this._getSessionParam(),r);return this.request(this._getCgiUrl(e.url[t]),i,n)},t.addNetworkTask=function(e,t,r){this.requestTasks[e]={task:t,timeout:r}},t.clearNetworkTask=function(){var e=this;Object.keys(this.requestTasks).forEach((function(t){e.clearSingleNetworkTask(t)})),this.requestTasks={}},t.clearSingleNetworkTask=function(e){var t=this.requestTasks[e];try{t.timeout&&clearTimeout(t.timeout),t.task&&t.task.abort&&t.task.abort(),delete this.requestTasks[e]}catch(e){}},t.genTaskId=function(){return++this.taskId},e}();f.url={mobileGoodsInfo:{url:"$domain$$params$",https:!0},mobileSaveGoods:{url:"$domain$$params$",https:!0},wechatAppProc:{url:"$domain$/v1/r/$appid$/wechatapp_proc?",https:!0},wxOpenBusiness:{url:"$domain$/v1/r/$appid$/wx_open_business?",https:!0},getToken:{url:"$domain$/v1/r/$appid$/get_token?",https:!0}}},function(e,t,r){t.a=function(e,t){return Object(i.a)(e)&&Object(a.a)(t)?e.replace(/\$([a-zA-Z0-9_\.]*)\$/g,(function(e,r){if(-1!==r.indexOf(".")){r=r.split(/\./g);var i=t;return Object(n.a)(r,(function(e){i=i[e]})),i||""}return void 0!==t[r]?t[r]:""})):e};var n=r(10),i=r(8),a=r(7)},function(e,t,r){var n=r(20),i=r(4),a=r(23),o=r(7),s=r(0),l=r.n(s),c=r(8),u=r(1),d=r(6),p=r(3),h=r(12),f=r(5),g={5001:"buyQuantity参数错误，请参考虚拟支付教程中虚拟支付API接口说明",7007:"获取微信授权失败，请使用小游戏管理员账号重新授权登录",7006:"配置信息未发布沙箱，请在MP管理端将游戏币托管配置信息进行“沙箱发布”"},v=function(e){var t=l()({},e);if(1003===e.ret){var r=function(e){return Object(c.a)(e)&&e.split(/-+/)[1]||""}(e.err_code);g[r]&&(t.msg=g[r])}if(1138===e.ret){if(parseInt(h.a.getSdkParam("hide_risk_modal")))throw t;return function(e,t){var r=l()({},Object(p.c)(t),{err_code:e.err_code||"",extra:{resultInfo:e.msg}});return d.a.showModal({content:e.msg,showCancel:!1}).then((function(){return r})).catch((function(){return r}))}(t,p.b.RISK_INTERCEPT).then((function(e){throw e}))}throw t},m=function(e,t,r){if(2022===e.ret){var s=h.a.getSdkParam("context");if(!Object(o.a)(s))throw e;var c=l()({},e).flex_attack_info,g=void 0===c?{}:c,v=Object(f.pick)(t,["openid","openkey","session_id","session_type","from_h5","pf","pfkey","session_token","webversion","pay_method"]);"no_key"===v.openkey&&"wc_actoken"===v.session_type&&(v.session_type="st_dummy");var m=h.a.getSdkParam("hide_rc_switch"),y={hide_switch:void 0===m||m?1:"",amt:g.fk_amt,fk_info:encodeURIComponent(g.fk_info),from:"miniprogram",rcs_version:"1.0",r:Math.random(),type:"save",appid:h.a.getSdkParam("offer_id"),sandbox:h.a.getSdkParam("sandbox"),verify_url:g.verify_url},_=h.a.getSdkParam("rc_page")||"/pages/midas-rc/midas-rc",b=s.__MIDAS_EXTEND__,w=Object(a.a)(l()({},v,y),_);return new u.default((function(t,a){d.a.navigateTo({url:w}).catch((function(t){a(e)})),b.riskControlCallback=function(e,o){if(void 0===o&&(o={}),(e=e||{}).error&&!parseInt(h.a.getSdkParam("hide_risk_modal"))&&d.a.showModal({title:"提示",content:"对不起，目前不支持该验证方式，请选择其他验证方式并重试",showCancel:!1}),!o.fk_rc_token||e.error)return a(new i.a(Object(p.c)(p.b.RISK_INTERCEPT)));var s=r.buildBuyParams(o);r.payMod.save(s).then(t).catch(a),b.riskControlCallback=n.a}}))}throw e};t.a=function(e,t,r){void 0===e&&(e={});var n=null===r?"":r.getChannelName(),a=e.data||{},o={wechatapp:v,default:m},s="function"==typeof o[n]?o[n]:o.default;return u.default.resolve().then((function(){return s(a,t,r)})).catch((function(t){if(t instanceof i.a)throw t;throw Object(f.pick)(e.data,["msg","ret","err_code"])}))}},function(e,t,r){r.d(t,"a",(function(){return s}));var n=r(0),i=r.n(n),a=r(2),o=r.n(a),s=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).name="GamePayMod",n.processType="save",n.infoReportIformat={pv:"buypage.pv",status:"buypage.status"},n.saveReportIformat={pv:"startsave.pv",status:"savestatus"},n}o()(t,e);var r=t.prototype;return r.buildInfoParams=function(){return i()({},this.getInfoPublicParams(),{zoneid:this.getZoneid(),accounttype:"common",buy_quantity:this.params.buy_quantity||"1"})},r.getInfo=function(){this.beforeGetInfo();var e=this.cgi.wechatAppProc(this.buildInfoParams());return this.wrapInfo(e)},r.buildSaveParams=function(e){return void 0===e&&(e={}),i()({},this.getSavePublicParams(),{buy_quantity:e.buy_quantity||this.params.buy_quantity||"1",zoneid:this.getZoneid(),accounttype:e.accounttype||"common",service_name:encodeURIComponent(this.params.service_name||""),discountid:this.params.discountid||""},e)},r.save=function(e){this.beforeSave();var t=this.cgi.wechatAppProc(this.buildSaveParams(e),{method:"POST"});return this.wrapSave(t)},t}(r(32).a)},function(e,t,r){},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(16),i=function(e,t){return void 0===t&&(t=[]),Object(n.a)(e,["buy_quantity","pf","zoneid"].concat(t))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),a=r(28),o=r(65),s=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t,r)||this).name="GoodsApi",n.AppClass=o.a,n}return i()(t,e),t.prototype.launchSign=function(t,r){return"sign_only"!==t.sign_type||t.goodstokenurl||(t.goodstokenurl="/v1/r/"+t.offer_id+"/mobile_goods_info?page_type=sign",t.direct_channel="wechat"),e.prototype.launchSign.call(this,t,r)},t}(a.a);t.default=a.a.createApi(s)},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(0),i=r.n(n),a=r(29),o=r.n(a),s=r(30),l=r.n(s),c=r(2),u=r.n(c),d=r(31),p=r(66),h=r(67),f=function(e){function t(t){var r,n=t.params,a=void 0===n?{}:n,s=o()(t,["params"]);return(r=e.call(this,i()({params:a},s))||this).name="GoodsApp",r.iformatPrefix="midaswechatpay."+(r.isEnterprise()?"enterprise":"goods"),r.reportObj.setIformatPrefix(r.iformatPrefix),r.payMod=new p.a(l()(r),r.params),r.validator=h.a,r}return u()(t,e),t.prototype.isEnterprise=function(){return this.opt.isEnterprise},t}(d.a)},function(e,t,r){r.d(t,"a",(function(){return l}));var n=r(21),i=r(0),a=r.n(i),o=r(2),s=r.n(o),l=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).name="GoodsPayMod",n.processType="bg",n.goodsInfo=null,n.infoReportIformat={pv:"goodsinfo.pv",status:"goodsinfo.status"},n.saveReportIformat={pv:"startsave.pv",status:"savestatus"},n}s()(t,e);var r=t.prototype;return r.buildInfoParams=function(){return a()({},this.getInfoPublicParams(),{zoneid:this.getZoneid(),params:this.params.goodstokenurl},Object(n.a)(this.params.goodstokenurl))},r.getInfo=function(e){this.beforeGetInfo();var t=this.cgi.mobileGoodsInfo(this.buildInfoParams(),e);return this.wrapInfo(t)},r.buildSaveParams=function(e){void 0===e&&(e={});var t=a()({},this.getSavePublicParams(),{zoneid:this.getZoneid(),buy_quantity:this.params.buy_quantity||""},e,Object(n.a)(this.params.goodstokenurl),{_params:this.params.goodstokenurl});return"sign_only"===this.params.sign_type?a()({},t,{process_type:"month",page_type:"sign",type:"bg",contract_type:this.params.contract_type||"",ts:Math.round((new Date).getTime()/1e3)}):"pay_with_sign"===this.params.sign_type?a()({},t,{pay_with_contract:1}):t},r.save=function(e){this.beforeSave();var t=this.cgi.mobileSaveGoods(this.buildSaveParams(e),{method:"POST"});return this.wrapSave(t)},t}(r(32).a)},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(16),i=function(e){return Object(n.a)(e,[["goodstokenurl",function(e){return/\d+\/[A-Za-z_-]+\?[A-Za-z_-]+=/.test(e)}],"zoneid","pf"])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),a=r(28),o=r(69),s=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t,r)||this).name="SubscribeApi",n.AppClass=o.a,n}return i()(t,e),t}(a.a);t.default=a.a.createApi(s)},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(0),i=r.n(n),a=r(29),o=r.n(a),s=r(30),l=r.n(s),c=r(2),u=r.n(c),d=r(31),p=r(70),h=r(71),f=function(e){function t(t){var r,n=t.params,a=void 0===n?{}:n,s=o()(t,["params"]);return(r=e.call(this,i()({params:a},s))||this).name="SubscribeApp",r.iformatPrefix="midaswechatpay.subscribe",r.reportObj.setIformatPrefix(r.iformatPrefix),r.payMod=new p.a(l()(r),r.params),r.validator=h.a,r}return u()(t,e),t}(d.a)},function(e,t,r){r.d(t,"a",(function(){return l}));var n=r(21),i=r(0),a=r.n(i),o=r(2),s=r.n(o),l=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).name="SubscribePayMod",n.processType="unimonth",n.params.aid&&(n.params.appremark=encodeURIComponent("aid="+n.params.aid)),n.account=n.params.account||"wechat",n.infoReportIformat={pv:"monthinfo.pv",status:"monthinfo.status"},n.saveReportIformat={pv:"startsave.pv",status:"savestatus"},n.isContinuousMonth="continuous_month"===n.params.sign_type,n}s()(t,e);var r=t.prototype;return r.buildInfoParams=function(){return a()({},this.getInfoPublicParams(),{service_code:this.params.service_code,product_id:this.params.product_id,buy_quantity:this.params.buy_quantity||"1",provide_no_type:this.getProvideNoType(),query_scope:this.isContinuousMonth?"include_continuous":""})},r.getInfo=function(){this.beforeGetInfo();var e=this.cgi.wechatAppProc(this.buildInfoParams());return this.wrapInfo(e)},r.buildSaveParams=function(e){void 0===e&&(e={});var t=a()({buy_quantity:e.buy_quantity||this.params.buy_quantity||1,service_code:this.params.service_code,product_id:e.product_id||this.params.product_id,appremark:this.params.appremark||"",provide_no_type:this.getProvideNoType(),service_name:this.params.service_name||"",continuous_month:this.isContinuousMonth?"1":""},this.getSavePublicParams(),e);return this.shouldAutoContinue()&&(t.auto_cont="1"),"wechatid"===this.getProvideNoType()&&delete t.provide_uin,"sign_only"===this.params.sign_type?a()({},t,{process_type:"month",page_type:"sign",type:"month",contract_type:this.params.contract_type||"",ts:Math.round((new Date).getTime()/1e3)}):t},r.save=function(e){var t=this.buildSaveParams(e);this.beforeSave({serviceCode:t.service_code,productId:t.product_id});var r=this.cgi.wechatAppProc(t,{method:"POST"});return this.wrapSave(r)},r.getProvideNoType=function(){return this.params.provide_uin?"uin":"wechatid"},r.shouldAutoContinue=function(){return this.params.extend?"1"===Object(n.a)(this.params.extend).auto_cont:1===parseInt(this.params.auto_cont)},t}(r(32).a)},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(16),i=function(e){return Object(n.a)(e,["pf","service_code"])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),a=r(28),o=r(73),s=function(e){function t(t,r){var n;return void 0===t&&(t={}),(n=e.call(this,t,r)||this).name="GameApi",n.AppClass=o.a,n}return i()(t,e),t}(a.a);t.default=a.a.createApi(s)},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(0),i=r.n(n),a=r(29),o=r.n(a),s=r(30),l=r.n(s),c=r(2),u=r.n(c),d=r(31),p=r(61),h=r(63),f=function(e){function t(t){var r,n=t.params,a=void 0===n?{}:n,s=o()(t,["params"]);return(r=e.call(this,i()({params:a},s))||this).name="GameApp",r.iformatPrefix="midaswechatpay.game",r.reportObj.setIformatPrefix(r.iformatPrefix),r.payMod=new p.a(l()(r),r.params),r.validator=h.a,r}return u()(t,e),t}(d.a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),a=r(28),o=r(75),s=function(e){function t(t){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).name="PcGameApi",r.AppClass=o.a,r}return i()(t,e),t}(a.a);t.default=a.a.createApi(s)},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(0),i=r.n(n),a=r(29),o=r.n(a),s=r(30),l=r.n(s),c=r(2),u=r.n(c),d=r(31),p=r(76),h=r(77),f=function(e){function t(t){var r,n=t.params,a=void 0===n?{}:n,s=o()(t,["params"]);return(r=e.call(this,i()({params:a},s))||this).name="PcGameApp",r.iformatPrefix="midaswechatpay.pcgame",r.reportObj.setIformatPrefix(r.iformatPrefix),r.payMod=new p.a(l()(r),r.params),r.validator=h.a,r}return u()(t,e),t}(d.a)},function(e,t,r){r.d(t,"a",(function(){return a}));var n=r(2),i=r.n(n),a=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).name="PcGamePayMod",n}return i()(t,e),t}(r(61).a)},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(16),i=function(e){return Object(n.a)(e,["buy_quantity","provide_uin"])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r.n(n),a=r(62),o=(r.n(a),r(64));t.default=i()({},o.default,{init:function(e){return void 0===e&&(e={}),e.isEnterprise=!0,o.default.init(e)}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),a=r(62),o=(r.n(a),r(28)),s=r(80),l=function(e){function t(t){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).name="QbApi",r.AppClass=s.a,r}return i()(t,e),t}(o.a);t.default=o.a.createApi(l)},function(e,t,r){r.d(t,"a",(function(){return f}));var n=r(0),i=r.n(n),a=r(29),o=r.n(a),s=r(30),l=r.n(s),c=r(2),u=r.n(c),d=r(31),p=r(81),h=r(82),f=function(e){function t(t){var r,n=t.params,a=void 0===n?{}:n,s=o()(t,["params"]);return(r=e.call(this,i()({params:a},s))||this).name="QbApp",r.iformatPrefix="midaswechatpay.qb",r.reportObj.setIformatPrefix(r.iformatPrefix),r.payMod=new p.a(l()(r),r.params),r.validator=h.a,a.service_name="充值Q币",r}return u()(t,e),t}(d.a)},function(e,t,r){r.d(t,"a",(function(){return s}));var n=r(0),i=r.n(n),a=r(2),o=r.n(a),s=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).name="QbPayMod",n.processType="qb",n.infoReportIformat={pv:"buypage.pv",status:"buypage.status"},n.saveReportIformat={pv:"startsave.pv",status:"savestatus"},n}o()(t,e);var r=t.prototype;return r.buildInfoParams=function(){return i()({},this.getInfoPublicParams(),{zoneid:this.getZoneid(),accounttype:"qb",buy_quantity:this.params.buy_quantity||"1"})},r.buildSaveParams=function(t){return void 0===t&&(t={}),i()({},e.prototype.buildSaveParams.call(this,t),{accounttype:"qb"})},t}(r(61).a)},function(e,t,r){r.d(t,"a",(function(){return i}));var n=r(63),i=function(e){return Object(n.a)(e,["provide_uin"])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(62),i=(r.n(n),r(11));r.d(t,"getVersion",(function(){return i.c}));var a=r(33);r.d(t,"checkUpdate",(function(){return a.a}));var o=r(68);r.d(t,"subscribe",(function(){return o.default}));var s=r(72);r.d(t,"game",(function(){return s.default}));var l=r(74);r.d(t,"pcGame",(function(){return l.default}));var c=r(64);r.d(t,"goods",(function(){return c.default}));var u=r(78);r.d(t,"enterprise",(function(){return u.default}));var d=r(79);r.d(t,"recharge",(function(){return d.default}))}])),m5}const _5=y5;var b5=["short_series_goods","short_series_coin"],w5="requestVirtualPayment",S5=v.createLogger(w5),C5=0,I5,A5,k5=e=>{var t=Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e)));return t},E5=e=>{var t=k5(e),r={pay_sdk_version:C5,user_args:{sign_data:t.signData,mode:t.mode,signature:t.signature,pay_sig:t.paySig}};S5.info("getIapOrCreateItemOrder请求参数为：",r);var n="wxa_getiapinfocreateitemorder";return xd({apiName:"webapi_wxa_getiapinfocreateitemorder",sdkApiName:n,reqData:r}).then((e=>{if(e.data&&0===e.data.err_code)return S5.info(`"${n}" success`,e),e.data;throw S5.info(`"${n}" fail`),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw S5.info(`"${n}" get iap fail`),e}))},T5=e=>{var t=k5(e),r={pay_sdk_version:C5,user_args:{sign_data:t.signData,mode:t.mode,signature:t.signature,pay_sig:t.paySig}};S5.info("getIapOrCreateItemOrder请求参数为：",r);var n="wxa_getiapinfocreatecoinorder";return xd({apiName:"webapi_wxa_getiapinfocreatecoinorder",sdkApiName:n,reqData:r}).then((e=>{if(e.data&&0===e.data.err_code)return S5.info(`"${n}" success`,e),e.data;throw S5.info(`"${n}" fail`),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw S5.info(`"${n}" get iap fail`),e}))},P5=(e={})=>{if(A5=String(Date.now()),-1!==b5.indexOf(e.mode)){_P({title:"支付中..."});var t="short_series_goods"===e.mode;if("string"==typeof e.signData){var r,n,i,a,o,s=H.accountInfo.appId,l=function(){var r=Hp()((function*(r){S5.log("到launchPay后所用耗时为:",Date.now()-A5);var{resultCode:i,resultMsg:o,spInfo:s,innerCode:l}=r;if(S5.log("[launchPayRes]",r),0!==i){S5.error("[MidasPaymentError]",i,o,s),o=o.replace("requestVirtualPayment:fail",""),-15009!==i&&1138!==i||(cP({title:"提示",content:o,showCancel:!1}),o="PAY_LIMIT");var c={env:a,order_no:n,mode:t?"short_series_goods":"short_series_coin",ret_code:i,inner_code:l};S5.info("关单入参",c),yield xd({apiName:"webapi_wxa_closeiapbuyorder",sdkApiName:"wxa_closeiapbuyorder",reqData:c}).then((e=>{if(0!==e.data.err_code)throw{errMsg:e.data.err_msg,errCode:e.data.err_code}})).catch((e=>{var t=e.errMsg||e.message,r=e.errCode||e.err_code;throw t&&(o=t),r&&(i=r),S5.error("closeiapbuyorder fail",e),{errMsg:o,errCode:i}})),-2===i?(S5.error("取消支付",w5,e,o,i),bc(w5,e,o,i)):(S5.error("支付失败",w5,e,o,i),bc(w5,e,o,i))}else S5.info("支付成功",w5,e),Sc({name:w5,args:e})}));return function(e){return r.apply(this,arguments)}}();(t?E5(e):T5(e)).then((t=>{S5.info("getiapinfocreateorder success",t);var l=t.iap_info;S5.info("getiapinfocreateorder iapInfo",l),r=l.open_id,i=l.offer_id;var c=t.order_info;return S5.info("getiapinfocreateorder orderInfo",c),I5={},l.use_wx_proxy&&(I5.use_wx_proxy=1),l.direct_channel&&(I5.direct_channel="wechat"),p5.channelApiname=l.channel_apiname,o=l.loading_time_ms,I5.openid=r,I5.login_wx_appid=s||e.loginWXAppId,I5.pf="android",I5.goodstokenurl=c.url_params,n=c.order_no,I5.openkey=c.iap_access_token,a=c.env,I5.buy_quantity=c.buy_quantity,I5.zoneid=c.zoneid,I5})).then((t=>{var r;t.offer_id=i,t.session_type="wc_actoken",t.session_id="hy_gameid",S5.info("米大师入参",t,e.mode);try{e.mode="goods",_5()[e.mode].destroy(),r=_5()[e.mode].init({env:a}),S5.log("米大师instance:",r,"env:",a)}catch(e){bP(),S5.error("米大师入参error",e)}return S5.log("到launchPay前所用耗时为:",Date.now()-A5),setTimeout((()=>{S5.log("延时hideLoading:",o),bP()}),o),x5(r,t)})).then(l).catch((t=>{bP(),S5.error("[MidasPaymentError] catch","object"==typeof t?JSON.stringify(t):t),"object"==typeof t?bc(w5,e,(null==t?void 0:t.errMsg)||(null==t?void 0:t.message),null==t?void 0:t.errCode):bc(w5,e,t,-1)}))}else bc(w5,e,"signData参数类型必须是string")}else bc(w5,e,"mode错误",1e3)};function x5(e,t){return new Promise((r=>{S5.log("米大师instance.launchPay:",e.launchPay),e.launchPay(t,(e=>{r(e)})),S5.log("米大师launchPay后instance:",e)})).catch((e=>{S5.error("米大师 launchPay instance error",e)}))}var O5=function(e={}){var t=Gu(Bh(this));if("number"==typeof e.maxDuration&&e.maxDuration>60){var r={errMsg:"chooseVideo:fail|maxDuration can not over 60"};return"function"==typeof e.fail&&e.fail(r),void("function"==typeof e.complete&&e.complete(r))}e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),t("chooseVideo",e)},R5=function(e={}){Gu(Bh(this))("saveVideoToPhotosAlbum",e,{})},M5=(e={})=>{yc("getVideoInfo",e,{src:""})&&qu("getVideoInfo",e,{})},D5=(e={})=>{yc("compressVideo",e,{src:""})&&qu("compressVideo",e,{})},N5=Tc(vm),L5=[],B5=new Map,$5=0,F5=/url\((.*)\)/i,j5=/([^.]*)(\..*)?/i;Br("loadedFontFace",(e=>{var{callbackId:t,errMsg:r=""}=e;if(B5.has(t)){var n=B5.get(t);B5.delete(t);var{resolve:i,reject:a}=n;0===r.indexOf("loadFontFace:ok")?i():a()}}));var W5=(e={})=>{$5++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=$5;var t=new Promise(((e,t)=>{B5.set($5,{resolve:e,reject:t})}));if(e.global||!1){var r=encodeURIComponent(JSON.stringify(e));L5.indexOf(r)<0&&L5.push(r),Or("loadFontFace",e)}else Or("loadFontFace",e,[Fc.currentWebviewId]);return t},U5=function(){var e=Hp()((function*(e={}){var t="",r=e.source.match(F5);r.length>=2&&(t=(t=r[1]).substring(1,t.length-1));var n=yield N5({url:t,timeout:2e4,enableCache:!0}),i=(n.tempFilePath||"").replace(j5,((...e)=>e[1]));bL.set(i),yield wH.addFontFace({originalSrc:e.source,src:n.tempFilePath,family:e.family,style:e.desc&&e.desc.style,weight:e.desc&&e.desc.weight,variant:e.desc&&e.desc.variant})}));return function(){return e.apply(this,arguments)}}(),V5=(e={})=>{if(yc("loadFontFace",e,{family:"",source:""})){var t="";if(""===e.family&&(t="parameter error: family can not be empty string"),""===e.source&&(t="parameter error: source can not be empty string"),t)bc("loadFontFace",e,t);else{F5.test(e.source)||(e.source=`url("${e.source}")`),e.scopes||(e.scopes=["webview"]),kL({name:"loadFontFace",data:{family:e.family,source:encodeURIComponent(e.source),global:Boolean(e.global),scopes:e.scopes}});var r=[];if(e.scopes.indexOf("webview")>=0){var n=W5(e);r.push(n)}if(e.scopes.indexOf("native")>=0){var i=U5(e);r.push(i)}Promise.all(r).then((()=>{Sc({name:"loadFontFace",args:e,success:!0,errMsg:"",res:{status:"loaded"}})})).catch((()=>{Sc({name:"loadFontFace",args:e,success:!1,errMsg:"",res:{status:"error"}})}))}}},q5=e=>{yc("playVoice",e,{filePath:""})&&!Cq()&&qu("playVoice",e)},z5=e=>{qu("pauseVoice",e)},G5=e=>{qu("stopVoice",e)},H5=e=>{Rt("onVoicePlayEnd",E.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},K5=e=>{T.reportKeyValue({key:"DeprecatedAPI",value:e})},Q5=new jt,J5={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};Rt("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,Q5.emit(`onRecorderStateChange_${t}`,e)}));var X5=e=>{qu("operateRecorder",Object.assign({},e))},Y5={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(J5).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(J5))}`);if(t.encodeBitRate>J5[t.sampleRate][1]||t.encodeBitRate<J5[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${J5[t.sampleRate][0]} and less than ${J5[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{Q5.emit("onRecorderStateChange_error",e)},t.afterSuccess=()=>{iF(void 0,"RecorderManager.start")},_G("getRecorderManager").then((({success:e,errMsg:r,errno:n})=>{e?X5(t):(console.error("start:fail "+r),Q5.emit("onRecorderStateChange_error",{errMsg:"start:fail "+r,errno:n}))})).catch((e=>{X5(t)}))},pause(){X5({operationType:"pause",fail(e){Q5.emit("onRecorderStateChange_error",e)}})},resume(){X5({operationType:"resume",success(){Q5.emit("onRecorderStateChange_resume")},fail(e){Q5.emit("onRecorderStateChange_error",e)}})},stop(){X5({operationType:"stop",fail(e){Q5.emit("onRecorderStateChange_error",e)}})},onStart(e){Q5.removeAllListeners("onRecorderStateChange_start"),Q5.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){Q5.removeAllListeners("onRecorderStateChange_resume"),Q5.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){Q5.removeAllListeners("onRecorderStateChange_pause"),Q5.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){Q5.removeAllListeners("onRecorderStateChange_stop"),Q5.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){Q5.removeAllListeners("onRecorderStateChange_frameRecorded"),Q5.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){Q5.removeAllListeners("onRecorderStateChange_error"),Q5.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){Q5.removeAllListeners("onRecorderStateChange_interruptionBegin"),Q5.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){Q5.removeAllListeners("onRecorderStateChange_interruptionEnd"),Q5.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}};const Z5=null;var e4=()=>Y5,t4=function(e){K5("startRecord"),Gu(Bh(this))("startRecord",e)},r4=e=>{K5("stopRecord"),qu("stopRecord",e)},n4=new Ah("BackgroundAudioManager",!0),i4,a4={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:""};Rt("onBackgroundAudioNext",(()=>{n4.emit("Next")})),Rt("onBackgroundAudioPrev",(()=>{n4.emit("Prev")})),Rt("onBackgroundAudioStateChange",((e={})=>{var{state:t}=e;delete e.state,"play"===t?(a4.paused=!1,Fc.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(Fc.possessingBackgroundAudioPlayer=!1,n4.emit("Stop",e)):("pause"===t||"stop"===t)&&(a4.paused=!0),n4.emit(`${t[0].toUpperCase()}${t.substr(1)}`,e)}));var o4={play(){Cq()||setTimeout((()=>{s4({operationType:"play"})}),0)},pause(){setTimeout((()=>{s4({operationType:"pause"})}),0)},seek(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type "+typeof e);Cq()||setTimeout((()=>{s4({currentTime:e,operationType:"seek"})}),0)},stop(){setTimeout((()=>{s4({operationType:"stop"})}),0)},onTimeUpdate(e){void 0===i4&&(i4=setInterval((()=>{var e=a4.currentTime;u4("currentTime",(()=>{"active"===Fc.runningStatus&&!1!==Fc.possessingBackgroundAudioPlayer&&this.currentTime!==e&&n4.emit("Timeupdate")}))}),250)),n4.off("Timeupdate"),n4.on("Timeupdate",e)}};function s4(e){qu("operateBackgroundAudio",e)}var l4=["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy"];l4.forEach((e=>{Object.defineProperty(o4,e,{get:()=>"src"===e&&o4.srcCloudId?o4.srcCloudId:"coverImgUrl"===e&&o4.coverCloudId?o4.coverCloudId:u4(e),set(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy"].indexOf(e)>-1&&("src"===e?qx([t],"audio",(r=>{/^(cloud):\/\//.test(t)?o4.srcCloudId=t:o4.srcCloudId="",p4(e,r.data[0].url)})):"coverImgUrl"===e?qx([t],"image",(r=>{/^(cloud):\/\//.test(t)?o4.coverCloudId=t:o4.coverCloudId="",p4(e,r.data[0].url)})):p4(e,t))}})}));var c4=["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"];function u4(e,t){if(!1!==Fc.possessingBackgroundAudioPlayer){var r=a4[e];return qu("getBackgroundAudioState",{success(n){void 0===n.paused||!0===n.paused?n.paused=!0:n.paused=!1,a4=Object.assign(a4,n),r=a4[e],"function"==typeof t&&t(r)},fail({errMsg:e}){v.error(`getBackgroundAudioState fail: ${e}`)}}),r}}c4.forEach((e=>{o4[`on${e}`]=t=>{n4.off(e),n4.on(e,t)}}));var d4={};function p4(e,t){if("src"===e&&!t)throw new Error(`invalid BackgroundAudioManager.src: ${t}`);if("active"!==Fc.runningStatus&&!1===Fc.possessingBackgroundAudioPlayer||Cq())throw new np(`Can not set BackgroundAudioManager.${e}, background audio is preempted.`);d4[e]=t,1===Object.keys(d4).length&&setTimeout((()=>{Object.assign(a4,d4),a4.src&&a4.title?(qu("setBackgroundAudioState",Object.assign({},a4,{fail({errMsg:e}){v.error(e),n4.emit("Error",{errMsg:e.replace(/^setBackgroundAudioState: fail /,"")})}})),d4={}):d4={}}),0)}var h4=()=>o4,f4=e=>{if(!1===Fc.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else qu("getMusicPlayerState",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},g4=(e={})=>{Cq()?null==e||e.fail({errMsg:"playBackgroundAudio:can't play background audio when forced muted"}):qu("operateMusicPlayer",ap({operationType:"play"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},v4=(e={})=>{qu("operateMusicPlayer",ap({operationType:"pause"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},m4=(e={})=>{yc("seekBackgroundAudio",e,{position:1})&&qu("operateMusicPlayer",ap({operationType:"seek"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},y4=(e={})=>{qu("operateMusicPlayer",ap({operationType:"stop"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},_4=new jt;Rt("onMusicPlay",(()=>{Fc.possessingBackgroundAudioPlayer=!0,_4.emit("onBackgroundAudioPlay")}));var b4=e=>{_4.removeAllListeners("onBackgroundAudioPlay"),_4.on("onBackgroundAudioPlay",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()}))},w4=e=>{Rt("onMusicPause",E.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},S4=e=>{Rt("onMusicEnd",E.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},C4=e=>{qu("getAvailableAudioSources",e)},I4=e=>{qu("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},A4=new WeakMap;function k4(e,t){A4.set(this,Object.assign(A4.get(this),{[e]:t})),this.promise.then((()=>{qu("operateAudioPlayer",{operationType:"update",containerId:A4.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class E4{constructor(){A4.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),qu("operateAudioPlayer",{operationType:"create",success:e=>{A4.set(this,Object.assign(A4.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),Cq()&&k4.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{qu("operateAudioPlayer",{operationType:"start",containerId:A4.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{qu("operateAudioPlayer",{operationType:"addTask",containerId:A4.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{qu("operateAudioPlayer",{operationType:"delTask",containerId:A4.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{qu("operateAudioPlayer",{operationType:"stop",containerId:A4.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{qu("operateAudioPlayer",{operationType:"remove",containerId:A4.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),A4.delete(this)}))))}set volume(e){Cq()||k4.call(this,"audioVolume",e)}get volume(){return A4.get(this).audioVolume}}var T4=new WeakMap;function P4(e,t){T4.set(this,Object.assign(T4.get(this),{[e]:t})),this.promise.then((()=>{Af.MediaToolKit.audioUpdate({containerId:T4.get(this).containerId,[e]:t},(e=>{e.errCode}))})).catch((e=>{}))}class x4{constructor(){T4.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Af.MediaToolKit.audioCreate({},(e=>{0===e.errCode?(T4.set(this,Object.assign(T4.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)})),Cq()&&P4.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{Af.MediaToolKit.audioStart({containerId:T4.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Af.MediaToolKit.audioAddTask({containerId:T4.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Af.MediaToolKit.audioDelTask({containerId:T4.get(this).containerId,taskId:e.videoDecoderId},(e=>{0===e.errCode?t(e):r(e)}))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{Af.MediaToolKit.audioStop({containerId:T4.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)}))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{Af.MediaToolKit.audioRemove({containerId:T4.get(this).containerId},(r=>{0===r.errCode?e(r):t(r)})),T4.delete(this)}))))}set volume(e){Cq()||P4.call(this,"audioVolume",e)}get volume(){return T4.get(this).audioVolume}}var O4=()=>Af.MediaToolKit&&Af.MediaToolKit.audioCreate?new x4:new E4,R4=null,M4=!1;tT((()=>{M4=!0})),AB((()=>{M4=!1,R4&&(N4(R4),R4=null)}));var D4=100,N4=function(e={}){var t=Gu(Bh(this));e.type||(e.type="all"),void 0===e.count&&(e.count=D4),yc("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?bc("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>D4&&(e.count=D4),M4?R4=e:t("chooseMessageFile",e)):bc("chooseMessageFile",e,"param extension should not be empty."):bc("chooseMessageFile",e,"param extension should be Array."))},L4=function(e={}){if(tB("choose_media"))bc("chooseMedia",e,"This api is temporarily unavailable");else{var t=Bh(this);Gu(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&XL("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},B4="previewMedia",$4=function(e={}){if(yc(B4,e,{sources:[]}))if(e.sources.length>50)bc(B4,e,"maximum length of sources is 50");else{var t=oB(rB.previewMedia),r=Bh(this),n=e=>"string"!=typeof r||"/"!==e[0]?e:Ep(r,e),i=JSON.parse(JSON.stringify(e.sources)),a=[],o=[];i.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?bL.get(e.url)||e.url:"","image"===e.type?a.push(e):"video"===e.type&&o.push(e)}));var s=a.map((e=>e.url||"")).map((e=>n(e))),l=o.map((e=>e.url||"")).map((e=>n(e)));qx(s,"image",(r=>{var n=r.data.map((e=>e.url));qx(l,"video",(r=>{var s=r.data.map((e=>e.url));n.forEach(((e,t)=>{var r=a[t].index;i[r].url=e})),s.forEach(((e,t)=>{var r=o[t].index;i[r].url=e}));var l=Object.assign({current:0},e,{sources:i});t?sB(rB.previewMedia,B4,l):qu(B4,l),PL(B4,{sources:l.sources||[]},!1,t)}))}))}},F4=(e={})=>{qu("voiceSplitJoint",e)},j4=(e={})=>{qu("uploadSilkVoice",e)},W4=(e={})=>{qu("downloadSilkVoice",e)},U4=(e={})=>{qu("getResPath",e)},V4=(e={})=>{qu("setResPath",e)},q4=(e={})=>{qu("chooseMultiMedia",e)},z4=Object.assign,G4=new WeakMap,H4=new WeakMap;function K4(e,t){return e.map((e=>"video"===e.kind?new X4(e.trackId,e.duration,t):"audio"===e.kind?new J4(e.trackId,e.duration,t):null))}class Q4{constructor(e,t=0,r){this.id=e,this.duration=t,this.mediaContainer=r}appendFrom(e){if(!(e instanceof Q4))throw new Error("Parameter 1 should be a MediaTrack");G4.get(this.mediaContainer).then((()=>{qu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,appendFrom:e.id,fail:Ip((e=>{throw new Error(`fail to append. errMsg: ${e.errMsg}`)}),"at MediaTrack.appendFrom method")})}))}slice(e,t){var r=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");r.push([e,t])}else r=e;G4.get(this.mediaContainer).then((()=>{qu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,slice:r,fail:Ip((e=>{throw new Error(`fail to slice. errMsg: ${e.errMsg}`)}),"at MediaTrack.slice method")})}))}}class J4 extends Q4{constructor(e,t,r){super(e,t,r),this.kind="audio"}set volume(e){if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");G4.get(this.mediaContainer).then((()=>{qu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,volume:e,fail:Ip((e=>{throw new Error(`fail to set volume. errMsg: ${e.errMsg}`)}),"at MediaTrack.volume setter")})}))}set atempo(e){if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");G4.get(this.mediaContainer).then((()=>{qu("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,atempo:e,fail:Ip((e=>{throw new Error(`fail to set atempo. errMsg: ${e.errMsg}`)}),"at MediaTrack.atempo setter")})}))}}class X4 extends Q4{constructor(e,t,r){super(e,t,r),this.kind="video"}}class Y4{constructor(){var e=new Promise((e=>{qu("operateMediaContainer",{operationType:"create",success:t=>{this.id=t.containerId,e()},fail:Ip((e=>{throw new Error(`fail to createMediaContainer. errMsg: ${e.errMsg}`)}),"at createMediaContainer function")})}));G4.set(this,e)}extractDataSource(e={}){yc("createMediaContainer.extractDataSource",e,{source:""})&&G4.get(this).then((()=>{qu("operateMediaTrack",z4(e,{operationType:"get",containerId:this.id}),{beforeSuccess:e=>{e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource"),e.tracks=K4(e.tracks,this)},beforeFail(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}addTrack(e){if(!(e instanceof Q4))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(H4.get(this))throw new Error("Only can be added one video track.");H4.set(this,!0)}G4.get(this).then((()=>{qu("operateMediaTrack",{operationType:"create",containerId:this.id,trackId:e.id,fail:Ip((e=>{throw new Error(`fail to addTrack. errMsg: ${e.errMsg}`)}),"at createMediaContainer.addTrack function")})}))}removeTrack(e){if(!(e instanceof Q4))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&H4.set(this,!1),G4.get(this).then((()=>{qu("operateMediaTrack",{operationType:"remove",containerId:this.id,trackId:e.id})}))}export(e={}){e.mimeType||(e.mimeType="mp4"),G4.get(this).then((()=>{qu("operateMediaContainer",z4(e,{operationType:"export",containerId:this.id}))}))}destroy(){G4.get(this).then((()=>{qu("operateMediaContainer",{operationType:"remove",containerId:this.id})}))}}function Z4(){return new Y4}var e7=new Ft,t7=new WeakMap,r7=new WeakMap;Rt("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?e7.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?e7.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&e7.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var n7=!1;function i7(){ge&&(n7||(n7=!0,Af.MediaToolKit.addEventListener("onPlayerBuffSize",(e=>{e7.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})})),Af.MediaToolKit.addEventListener("onPlayerPlayEnd",(e=>{e7.emit(e.containerId,{event:"ended",data:{}})}))))}function a7(e){return o7.apply(this,arguments)}function o7(){return(o7=Hp()((function*(e){var t=r7.get(e);yield t}))).apply(this,arguments)}function s7(e,t,r={}){return zu("operateCanvasPlayer",{...r,containerId:e.id||0,operationType:t})}function l7(e,t,r={}){return new Promise(((n,i)=>{Af.MediaToolKit[t]({...r,containerId:e.id||0},(e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void i(r)}n(e)}))}))}function c7(e,t,r){var n=t7.get(e);n&&n.emit(t,r)}class u7{constructor(){this.id=void 0,this.width=void 0,this.height=void 0}}class d7{constructor(){var e=this;this.id=void 0,this.width=void 0,this.height=void 0,this.buffer=void 0,this.buffId=void 0;var t=new Ft;t7.set(this,t);var r=Hp()((function*(){if(ge){i7();var r=yield new Promise(((e,t)=>{Af.MediaToolKit.playerCreate({},(r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}))}));e.id=r.containerId}else{var n=yield zu("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}e.id&&e7.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();r7.set(this,r)}start(e={}){var t=this;return Hp()((function*(){var r;if(yield a7(t),ge){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield zu("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var i=yield l7(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=i.video,r.audio=i.audio}else{var a=yield s7(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.buffId=a.buffId,t.width=r.width||0,t.height=r.height||0,r.video=a.video,r.audio=a.audio}return c7(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return Hp()((function*(){yield a7(r);var n="accurate"===t;return ge?yield l7(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield s7(r,"seek",{seekStamp:e,seekByStamp:n}),c7(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return Hp()((function*(){yield a7(t),ge?yield l7(t,"playerWait",{wait:e}):yield s7(t,"wait",{wait:e}),c7(t,"wait",{})}))()}stop(){var e=this;return Hp()((function*(){yield a7(e),ge?yield l7(e,"playerStop",{}):yield s7(e,"stop",{}),c7(e,"stop",{})}))()}remove(){var e=this;return Hp()((function*(){if(yield a7(e),e.id){e7.removeAllListeners(e.id);var t=t7.get(e);null==t||t.eventNames().forEach((e=>t.removeAllListeners(e)))}ge?yield l7(e,"playerRemove",{}):yield s7(e,"remove",{})}))()}getFrameData(){var e,t,r,n,i,a;if(ge?Af.MediaToolKit.playerGetFrame({containerId:this.id,buffer:this.buffer},(a=>{a.got&&(e=this.buffer),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts})):qu("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:a=>{a.got&&(e=Th().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts},fail(e){var t;a=new Error(null===(t=e.errMsg)||void 0===t?void 0:t.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(a,e)}}),a)throw a;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:i}:null}on(e,t){var r=t7.get(this);null==r||r.on(e,t)}off(e,t){var r=t7.get(this);null==r||r.off(e,t)}get videoDecoderId(){return this.id}}var p7=function(){var e=Hp()((function*(e,t,r){var n=yield e[t](r),{code:i,desc:a,...o}=n;if(i)throw new Error(a);return o}));return function(t,r,n){return e.apply(this,arguments)}}(),h7=["onbufferchange","firstaudioplayed","onaudioplayback"];class f7{constructor(){this.id=void 0,this.width=void 0,this.height=void 0,this.currentFrame=null,this.context=new Af.WeMedia.Context,this.player=void 0,this.reader=void 0,this.avSync=void 0,this.emitter=new Ft,this.reader=this.context.createReader(),this.avSync=this.context.createAvSync(),this.avSync.reader=this.reader,this.player=this.context.createPlayer(),this.player.avSync=this.avSync,this.player.onvideorenderer=e=>{this.currentFrame=e,e.frame&&this.emitter.emit("frame",e.frame)},this.player.onerror=e=>this.emitter.emit("error",e),this.player.onend=e=>this.emitter.emit("ended",e),this.player.onfirstvideorendered=e=>this.emitter.emit("firstvideorendered",e)}start(e){var t=this;return Hp()((function*(){var r,n,i,a,o,s=e.source;ge&&(e.source&&/^(http|https):\/\/.*/i.test(e.source)||(s=(yield zu("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath));var l={abort:null!==(r=e.abortAudio)&&void 0!==r&&r},c={abort:null!==(n=e.abortVideo)&&void 0!==n&&n,expectFormat:null!==(i=e.videoFormat)&&void 0!==i?i:Af.WeMedia.MediaFormat.kMMMediaFormatVideoRgba32};t.avSync.reader=t.reader;var{mediainfo:u}=yield p7(t.reader,"start",{uri:s,enableHardwareAccelerated:!0,audioSetting:l,videoSetting:c}),d=Object.assign({},u.video);return d.width=null===(a=u.video)||void 0===a?void 0:a.width,d.height=null===(o=u.video)||void 0===o?void 0:o.height,d.video=u.video,d.audio=u.audio,t.width=d.width||0,t.height=d.height||0,yield p7(t.player,"start",{audioSetting:l}),t.emitter.emit("start",d),e.startTime&&(yield t.seek(e.startTime)),d}))()}seek(e){var t=this;return Hp()((function*(){e&&(yield p7(t.reader,"seek",{stamp:e})),t.emitter.emit("seek",{})}))()}wait(e){var t=this;return Hp()((function*(){yield p7(t.player,e?"pause":"resume")}))()}stop(){var e=this;return Hp()((function*(){yield p7(e.reader,"stop"),yield p7(e.player,"stop"),e.emitter.emit("stop",{})}))()}mute(e=!0){var t=this;return Hp()((function*(){yield p7(t.player,"mute",e)}))()}remove(){var e=this;return Hp()((function*(){e.emitter.eventNames().forEach((t=>e.emitter.removeAllListeners(t)))}))()}getFrameData(){if(this.currentFrame){var{code:e,desc:t,frame:r}=this.currentFrame;if(this.currentFrame=null,e)throw new Error(t);return r}return null}on(e,t){h7.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=t=>this.emitter.emit(e,t)),this.emitter.addListener(e,t)}off(e,t){this.emitter.removeListener(e,t),h7.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=void 0)}}function g7(e={}){return"wemedia"===e.type?new f7:new d7}var v7={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},m7=e=>e.toString().endsWith(1),y7=e=>e.toString().endsWith(2),_7=e=>e.toString().endsWith(3),b7=e=>{var t={101:{code:v7.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:v7.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:v7.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:v7.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:v7.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:v7.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:v7.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:v7.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:v7.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:v7.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:v7.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:v7.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:v7.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:v7.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:v7.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"}},w7=new jt,S7=new WeakMap,C7=new WeakMap,I7=new WeakMap,A7=new WeakSet,k7=new WeakMap,E7=new Map,T7=e=>new Promise((t=>setTimeout(t,e)));function P7(e){return x7.apply(this,arguments)}function x7(){return x7=Hp()((function*(e){if(A7.has(e))throw new Error("this mediaRecorder has been destroyed");var t=k7.get(e);yield t})),x7.apply(this,arguments)}function O7(e,t={}){return new Promise(((r,n)=>{Af.MediaToolKit[e](t,(t=>{if(t&&t.errCode&&0!==t.errCode){var i=new Error(t.errMsg||`${e} failed`);return Object.assign(i,t),void n(i)}r(t)}))}))}function R7(e,t,r={}){var n=C7.get(e),i=n.id,a=0;return n.isOffscreenCanvas&&(a=n._innerId),zu("operateMediaRecorder",{...r,canvasId:i,offScreenCanvasId:a,operationType:t})}Rt("onMediaRecorderStateChange",(e=>{var t=e.state,r=e.canvasId<<0;if(delete e.state,"timeUpdate"===t)w7.emit(r,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===t){var n=b7(e.errCode);w7.emit(r,{event:"error",data:{error:n}})}}));var M7=!1;function D7(){ge&&(M7||(M7=!0,Af.MediaToolKit.addEventListener("onRecorderTimeUpdate",(e=>{if(E7.has(e.containerId)){var t=E7.get(e.containerId);w7.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}))))}class N7{constructor(e,t={}){var r=this;C7.set(this,e);var n=new jt;S7.set(this,n),w7.on(e.id,(({event:e,data:t})=>n.emit(e,t))),"number"==typeof t.duration?this.duration=Math.min(7200,Math.max(5,t.duration)):this.duration=7200,"number"==typeof t.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,t.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=t.fps||24,this.gop=t.gop||12,this.timeUpdateInterval=t.timeUpdateInterval||this.gop,this.audioPlayerId=t.audioPlayerId;var i=Hp()((function*(){if(ge){D7();var t=yield O7("recorderCreate",{});r._containerId=t.containerId,E7.set(r._containerId,e.id)}else yield R7(r,"create",{});n.emit("create",{})}))();k7.set(this,i)}pause(){var e=this;return Hp()((function*(){yield P7(e);var t=S7.get(e);if(ge){var r=yield O7("recorderUpdate",{containerId:e._containerId,pause:!0});t.emit("pause",r)}else yield R7(e,"pause",{}),t.emit("pause")}))()}resume(){var e=this;return Hp()((function*(){yield P7(e);var t=S7.get(e);if(ge){var r=yield O7("recorderUpdate",{containerId:e._containerId,pause:!1});t.emit("resume",r)}else yield R7(e,"resume"),t.emit("resume")}))()}start(){var e=this;return Hp()((function*(){yield P7(e);var t=S7.get(e),r=C7.get(e),n={width:r.width,height:r.height,fps:e.fps,bitrate:e.videoBitsPerSecond,gop:e.gop,duration:e.duration,timeUpdateInterval:e.timeUpdateInterval,audioPlayerId:e.audioPlayerId,cumulativeStamp:!0};if(n.duration=Math.floor(1e3*e.duration),ge){var i=yield zu("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:`${Date.now()}`,mimeType:"mp4",autoDeleteIfExists:!0});e.tempFilePath=i.localId,e._absoluteFilePath=i.filePath,n.containerId=e._containerId,n.canvasId=r._innerId||r.id,n.notifyVideoKeyFrame=!0,n.filePath=i.filePath;var a=yield O7("recorderStart",n);t.emit("start",a)}else yield R7(e,"start",n),t.emit("start")}))()}stop(){var e=this;return Hp()((function*(){yield P7(e);var t,r=S7.get(e);if(ge){yield O7("recorderStop",{containerId:e._containerId});var n=yield O7("analysis",{filePath:e._absoluteFilePath});t={duration:n.duration,tempFilePath:e.tempFilePath,fileSize:n.size}}else{var{tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}=yield R7(e,"stop");t={tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}}return r.emit("stop",t),t}))()}requestFrame(e=(()=>{})){var t=this;return Hp()((function*(){yield P7(t);var r=C7.get(t);if(ge){var n=yield new Promise((e=>{Af.MediaToolKit.recorderCapture({containerId:t._containerId},e)})),i=1e3/t.fps;n.got?e():(yield T7(i),yield t.requestFrame(e))}else r.isOffscreenCanvas?setTimeout((()=>{e(),g.g.WeixinCanvas.recordFrame(r.id,r._innerId)})):(yield new Promise((e=>r.requestAnimationFrame(e))),e())}))()}on(e,t){"timeUpdate"===e&&(e="timeupdate"),S7.get(this).on(e,t)}off(e,t){"timeUpdate"===e&&(e="timeupdate"),S7.get(this).off(e,t)}destroy(){var e=this;return Hp()((function*(){if(A7.has(e))throw new Error("this mediaRecorder has been destroyed");var t=C7.get(e);w7.removeAllListeners(t.id);var r=S7.get(e);r.eventNames().forEach((e=>r.removeAllListeners(e))),I7.delete(t),A7.add(e),ge?(yield P7(e),E7.delete(e._containerId),yield O7("recorderRemove",{containerId:e._containerId})):yield R7(e,"remove")}))()}}function L7(e,t){if(I7.get(e))throw new Error("Already created by the same canvas node.");if(!e||"function"!=typeof e.getContext||!e.getContext("webgl"))throw new Error("Cannot get webgl context from target.");var r=new N7(e,t);return I7.set(e,r),r}var B7=1,$7=300,F7=Object.assign,j7=(e={})=>{if(yc("openVideoEditor",e,{filePath:""})){var{title:t,filePath:r}=e,{minDuration:n,maxDuration:i}=e;n=parseInt(n,10),i=parseInt(i,10),(!n||n<B7)&&(n=B7),(!i||i>$7)&&(i=$7),qu("openVideoEditor",F7({},e,{editType:2,editorParmas:{title:t,filePath:r,minDuration:n,maxDuration:i,toolBars:["crop"],buttonOptions:[]}}),{beforeSuccess(e){e.duration=e.duraionMs||Math.round(e.duration/1e3),e.size=e.size||e.fileSize,delete e.fileSize,delete e.chosenId,delete e.videoMD5,delete e.duraionS,delete e.duraionMs,delete e.duraionUs}})}},W7,U7=()=>(W7||(W7=Dg()),W7),V7=e=>U7().saveFile(e),q7=e=>U7().getFileInfo(e),z7=e=>U7().getSavedFileList(e),G7=e=>U7().getSavedFileInfo(e),H7=e=>U7().removeSavedFile(e),K7=e=>{if(yc("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{qu("getBackgroundFetchData",{fetchType:e.fetchType,success(t){Sc({name:"getBackgroundFetchData",args:e,res:t})},fail(t){Sc({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else bc("getBackgroundFetchData",e,"invalid fetchType")},Q7=e=>{try{Rt("onBackgroundFetchData",(t=>{t.errMsg="onBackgroundFetchData:ok","function"==typeof e&&E.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&E.surroundThirdByTryCatch(e,"at onBackgroundFetchData callback function")(t)}},J7=(e={})=>{yc("setBackgroundFetchToken",e,{token:""})&&qu("setBackgroundFetchToken",e)},X7=(e={})=>{qu("getBackgroundFetchToken",e)},Y7=e=>{try{qu("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){Sc({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){Sc({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},Z7=e=>{try{Rt("private_onBackgroundFetchData",(t=>{t.errMsg="private_onBackgroundFetchData:ok","function"==typeof e&&E.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}))}catch(t){"function"==typeof e&&E.surroundThirdByTryCatch(e,"at private_onBackgroundFetchData callback function")(t)}},e8=new Map,t8=()=>{var e=new Map;return fe||Te()?new Proxy(e,{get:()=>()=>{}}):e},r8,n8=null;function i8(){return r8?Promise.resolve(r8):n8||(n8=xd({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array(WS(t)),i=new Uint8Array(WS(r));return n8=null,r8={encryptKeyBytes:n,ivBytes:i}})).catch((e=>{throw n8=null,e})))}var a8=!1;function o8(){a8||(Ym().runTask("initAesWasm",{}),a8=!0)}function s8(e,t,r){return Ym().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function l8(){return c8.apply(this,arguments)}function c8(){return c8=Hp()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&o8();var i=yield r;return yield s8(t,n,i)})),c8.apply(this,arguments)}function u8(e,t,r){return Ym().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function d8(e={},t){var{key:r,data:n,dataType:i,storageId:a,encryptEnv:o="wasm"}=e,{failWithMsg:s}=Cc(e,"setStorage"),l=[i8()];"wasm"===o&&o8(),Promise.all(l).then((([e])=>u8(n,o,e))).then((n=>{qu(ve?"setStorageAsync":"setStorage",{key:r,data:n,dataType:i,storageId:a,success:t=>{e8.get(a).set(r,{data:n,dataType:i}),it(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),v.error("encryptThenSetStorage error",e)}))}var p8=(e,t={})=>{var{encrypt:r}=t;if(yc("setStorage",t,{key:""}))try{var{data:n,dataType:i}=Tt(t.data),a=t.key,o={key:a,data:n,dataType:i,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&C.isSupportWXLibWorker())d8(o,s);else{var l=e8.get(e),c=l.get(a);if(c&&c.dataType===i&&c.data===n)Sc({name:"setStorage",args:t});else qu(ve?"setStorageAsync":"setStorage",o,{...s,beforeSuccess:()=>{l.set(a,{data:n,dataType:i})}})}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},h8=(e,t,r="")=>{if("string"==typeof t){var n=ve?"setStorage":"setStorageSync",{data:i,dataType:a}=Tt(r),o=!1,s="",l=e8.get(e),c=l.get(t);if(!c||c.dataType!==a||c.data!==i){if(qu(n,{key:t,data:i,dataType:a,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new np(s);l.set(t,{data:i,dataType:a})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${Ue(t)}`)},f8=Pc("getStorage",Hp()((function*(e={},t){var{encrypt:r,key:n}=e,i=r&&C.isSupportWXLibWorker(),a=ve?"getStorageAsync":"getStorage";_c(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},l=Object.assign({},e,{storageId:t}),c=e8.get(t),u=i?i8():null;return c.has(n)?o={...c.get(n)}:(o=yield zu(a,l,s),c.set(n,{data:o.data,dataType:o.dataType})),i&&(o.data=yield l8(e,o.data,u)),o.data=(e._stringToAnyType||xt)(o.data,o.dataType),delete o.dataType,o}))),g8=(e,t={})=>f8(t,e);function v8(e,t){var r=arguments[arguments.length-1]||{};if(qe(t)){var n,i=e8.get(e);if(i.has(t)){var{data:a,dataType:o}=i.get(t);return(r._stringToAnyType||xt)(a,o)}return qu(ve?"getStorage":"getStorageSync",{key:t,storageId:e},{beforeSuccess:(e={})=>{i.set(t,{data:e.data,dataType:e.dataType}),n=(r._stringToAnyType||xt)(e.data,e.dataType)},beforeFail:()=>{n=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),n}}var m8=Pc("batchGetStorage",Hp()((function*(e={},t){_c(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=e8.get(t),i=yield zu("batchGetStorage",r);return Array.isArray(i.dataList)&&(i.dataList=i.dataList.map(((e,t)=>{var{data:i,dataType:a}=e;return i&&n.set(r.keyList[t],e),xt(i,a)}))),i}))),y8=(e,t={})=>m8(t,e),_8=(e,t)=>{var r;_c(t,["1"]);var n=e8.get(e);return qu("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:i,dataType:a}=e;return i&&n.set(t[r],e),xt(i,a)}))}}),r.dataList},b8=Pc("batchSetStorage",function(){var e=Hp()((function*(e,t){_c(e,{kvList:[{key:"1"}]});var r=e8.get(t),n={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=Tt(e.value);return{key:e.key,data:t,dataType:n}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete};return yield zu("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),w8=(e,t={})=>b8(t,e),S8=(e,t)=>{_c(t,[{key:"1"}]);var r,n=e8.get(e),i=t.map((e=>{var{data:t,dataType:r}=Tt(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return qu("batchSetStorageSync",{storageId:e,kvList:i,beforeAll(e){r=e}}),r},C8=(e,t)=>{yc("removeStorage",t,{key:""})&&(e8.get(e).delete(t.key),qu("removeStorage",Object.assign({},t,{storageId:e})))},I8=(e,t)=>{yc("removeStorageSync",t,"")&&(e8.get(e).delete(t),qu("removeStorageSync",{key:t,storageId:e}))},A8=(e,t)=>{e8.get(e).clear(),qu(ve?"clearStorageAsync":"clearStorage",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},k8=e=>{e8.get(e).clear(),qu(ve?"clearStorage":"clearStorageSync",{storageId:e})},E8=function(e){if(!Array.isArray(e))return[];var t=e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__")));return t},T8=(e,t)=>{qu("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=E8(e.keys)}})},P8=e=>{var t;return qu("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=E8(e.keys),delete e.errMsg}}),t},x8={setStorage:p8,batchSetStorage:w8,setStorageSync:h8,batchSetStorageSync:S8,getStorage:g8,batchGetStorage:y8,getStorageSync:v8,batchGetStorageSync:_8,getStorageInfo:T8,getStorageInfoSync:P8,removeStorage:C8,removeStorageSync:I8,clearStorage:A8,clearStorageSync:k8},O8={app:0,game:0,opendata:1,singlePage:2,cache:3},R8=e=>{var t=O8[e];return e8.has(t)||e8.set(t,t8()),Object.keys(x8).reduce(((e,r)=>(e[r]=(...e)=>x8[r](t,...e),e)),{})};const M8={app:R8("app"),game:R8("game"),opendata:R8("opendata"),singlePage:R8("singlePage"),cache:R8("cache")};var D8=["setStorage","batchSetStorage","getStorage","batchGetStorage","getStorageInfo","removeStorage","clearStorage"],N8={};D8.forEach((e=>{N8[e]=(t={})=>{if(t.key&&t.key.toString().startsWith("__plugins__"))return void bc(e,t,`invalid key "${t.key}"`);return M8[wd()?"singlePage":"app"][`${e}`](t)},N8[`${e}Sync`]=(t,...r)=>{if(!t||!t.toString().startsWith("__plugins__"))return M8[wd()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r)};var t=`plugin_${e}`;N8[t]=(t={})=>(t.key&&(t.key=`__plugins__/${t.key}`),M8[wd()?"singlePage":"app"][`${e}`](t)),N8[`${t}Sync`]=(t,...r)=>(t&&(t=`__plugins__/${t}`),M8[wd()?"singlePage":"app"][`${e}Sync`].call(void 0,t,...r))}));const L8=N8;var B8=JSON.parse('{"ad":{"unit-id":63,"ad-intervals":63,"ad-type":63,"ad-theme":63,"bindload":63,"binderror":63,"bindclose":63,"_p":63},"button":{"size":{"_p":63,"default":63,"mini":63},"type":{"_p":63,"primary":63,"default":63,"warn":63},"plain":63,"disabled":63,"loading":63,"form-type":{"_p":63,"submit":63,"reset":63},"open-type":{"_p":63,"contact":63,"share":63,"getPhoneNumber":63,"getRealtimePhoneNumber":63,"getUserInfo":63,"launchApp":63,"openSetting":63,"feedback":63,"chooseAvatar":63,"agreePrivacyAuthorization":63},"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"session-from":63,"send-message-title":63,"send-message-path":63,"send-message-img":63,"app-parameter":63,"show-message-card":63,"bindgetuserinfo":63,"bindcontact":63,"bindgetphonenumber":63,"bindgetrealtimephonenumber":63,"binderror":63,"bindopensetting":63,"bindlaunchapp":63,"bindchooseavatar":63,"bindagreeprivacyauthorization":63,"_p":63},"camera":{"mode":{"_p":23,"normal":23,"scanCode":23},"resolution":{"_p":23,"low":23,"medium":23,"high":23},"device-position":{"_p":23,"front":23,"back":23},"flash":{"_p":23,"auto":23,"on":23,"off":23,"torch":23},"frame-size":{"_p":23,"small":23,"medium":23,"large":23},"bindstop":23,"binderror":23,"bindinitdone":23,"bindscancode":23,"_p":23},"audio":{"id":7,"src":7,"loop":7,"controls":7,"poster":7,"name":7,"author":7,"binderror":7,"bindplay":7,"bindpause":7,"bindtimeupdate":7,"bindended":7,"_p":7},"canvas":{"type":63,"canvas-id":63,"disable-scroll":63,"bindtouchstart":63,"bindtouchmove":63,"bindtouchend":63,"bindtouchcancel":63,"bindlongtap":63,"binderror":63,"_p":63},"channel-live":{"feed-id":63,"finder-user-name":63,"_p":63},"channel-video":{"feed-id":63,"finder-user-name":63,"feed-token":63,"autoplay":63,"loop":63,"muted":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"binderror":63,"_p":63},"checkbox":{"value":63,"disabled":63,"checked":63,"color":63,"_p":63},"checkbox-group":{"bindchange":63,"_p":63},"cover-image":{"src":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"bindload":63,"binderror":63,"_p":63},"cover-view":{"scroll-top":63,"_p":63},"editor":{"read-only":63,"placeholder":63,"show-img-size":63,"show-img-toolbar":63,"show-img-resize":63,"bindready":63,"bindfocus":63,"bindblur":63,"bindinput":63,"bindstatuschange":63,"_p":63},"form":{"report-submit":63,"report-submit-timeout":63,"bindsubmit":63,"bindreset":63,"_p":63},"functional-page-navigator":{"version":{"_p":63,"develop":63,"trial":63,"release":63},"name":{"_p":63,"loginAndGetUserInfo":63,"requestPayment":63,"chooseAddress":63,"chooseInvoice":63,"chooseInvoiceTitle":63},"args":63,"bindsuccess":63,"bindfail":63,"bindcancel":63,"_p":63},"grid-view":{"type":{"_p":7,"aligned":7,"masonry":7},"cross-axis-count":7,"max-cross-axis-extent":7,"main-axis-gap":7,"cross-axis-gap":7,"padding":7,"_p":7},"icon":{"type":63,"size":63,"color":63,"_p":63},"image":{"src":63,"mode":{"_p":63,"scaleToFill":63,"aspectFit":63,"aspectFill":63,"widthFix":63,"heightFix":63,"top":63,"bottom":63,"center":63,"left":63,"right":63,"top left":63,"top right":63,"bottom left":63,"bottom right":63},"show-menu-by-longpress":63,"binderror":63,"bindload":63,"_p":63},"input":{"value":63,"type":{"_p":63,"text":63,"number":63,"idcard":63,"digit":63,"safe-password":63,"nickname":63},"password":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"cursor-spacing":63,"auto-focus":63,"focus":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63},"always-embed":63,"confirm-hold":63,"cursor":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"safe-password-cert-path":63,"safe-password-length":63,"safe-password-time-stamp":63,"safe-password-nonce":63,"safe-password-salt":63,"safe-password-custom-hash":63,"bindinput":63,"bindfocus":63,"bindblur":63,"bindconfirm":63,"bindkeyboardheightchange":63,"bindnicknamereview":63,"_p":63},"keyboard-accessory":7,"label":{"for":63,"_p":63},"live-player":{"src":31,"mode":{"_p":31,"live":31,"RTC":31},"autoplay":31,"muted":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"object-fit":{"_p":31,"contain":31,"fillCrop":31},"background-mute":31,"min-cache":31,"max-cache":31,"sound-mode":{"_p":31,"speaker":31,"ear":31},"auto-pause-if-navigate":31,"auto-pause-if-open-native":31,"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"enable-auto-rotation":31,"referrer-policy":{"_p":31,"origin":31,"no-referrer":31},"enable-casting":31,"bindstatechange":31,"bindfullscreenchange":31,"bindnetstatus":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"bindcastinguserselect":31,"bindcastingstatechange":31,"bindcastinginterrupt":31,"_p":31},"live-pusher":{"url":31,"mode":31,"autopush":31,"enableVideoCustomRender":31,"muted":31,"enable-camera":31,"auto-focus":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"beauty":31,"whiteness":31,"aspect":31,"min-bitrate":31,"max-bitrate":31,"audio-quality":31,"waiting-image":31,"waiting-image-hash":31,"zoom":31,"device-position":31,"background-mute":31,"mirror":31,"remote-mirror":31,"local-mirror":{"_p":31,"auto":31,"enable":31,"disable":31},"audio-reverb-type":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"6":31,"7":31,"_p":31},"enable-mic":31,"enable-agc":31,"enable-ans":31,"audio-volume-type":{"_p":31,"auto":31,"media":31,"voicecall":31},"video-width":31,"video-height":31,"beauty-style":{"_p":31,"smooth":31,"nature":31},"filter":{"_p":31,"standard":31,"pink":31,"nostalgia":31,"blues":31,"romantic":31,"cool":31,"fresher":31,"solor":31,"aestheticism":31,"whitening":31,"cerisered":31},"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"voice-changer-type":31,"custom-effect":31,"skin-whiteness":31,"skin-smoothness":31,"face-thinness":31,"eye-bigness":31,"fps":31,"bindstatechange":31,"bindnetstatus":31,"binderror":31,"bindbgmstart":31,"bindbgmprogress":31,"bindbgmcomplete":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"_p":31},"map":{"longitude":63,"latitude":63,"scale":63,"min-scale":63,"max-scale":63,"markers":63,"covers":63,"polyline":63,"circles":63,"controls":63,"include-points":63,"show-location":63,"polygons":63,"subkey":63,"layer-style":63,"rotate":63,"skew":63,"enable-3D":63,"show-compass":63,"show-scale":63,"enable-overlooking":63,"enable-auto-max-overlooking":63,"enable-zoom":63,"enable-scroll":63,"enable-rotate":63,"enable-satellite":63,"enable-traffic":63,"enable-poi":63,"enable-building":63,"setting":63,"bindtap":63,"bindmarkertap":63,"bindlabeltap":63,"bindcontroltap":63,"bindcallouttap":63,"bindupdated":63,"bindregionchange":63,"bindpoitap":63,"bindabilitysuccess":63,"bindabilityfailed":63,"bindauthsuccess":63,"binderror":63,"_p":63},"match-media":{"min-width":63,"max-width":63,"width":63,"min-height":63,"max-height":63,"height":63,"orientation":63,"_p":63},"movable-area":{"scale-area":63,"_p":63},"movable-view":{"direction":63,"inertia":63,"out-of-bounds":63,"x":63,"y":63,"damping":63,"friction":63,"disabled":63,"scale":63,"scale-min":63,"scale-max":63,"scale-value":63,"animation":63,"bindchange":63,"bindscale":63,"htouchmove":63,"vtouchmove":63,"_p":63},"navigation-bar":{"title":63,"loading":63,"front-color":63,"background-color":63,"color-animation-duration":63,"color-animation-timing-func":63,"_p":63},"navigator":{"target":{"_p":63,"self":63,"miniProgram":63},"url":63,"open-type":{"_p":63,"navigate":63,"redirect":63,"switchTab":63,"reLaunch":63,"navigateBack":63,"exit":63},"delta":63,"app-id":63,"path":63,"extra-data":63,"version":{"_p":63,"develop":63,"trial":63,"release":63},"short-link":63,"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"bindsuccess":63,"bindfail":63,"bindcomplete":63,"_p":63},"official-account":23,"open-data":{"type":{"_p":63,"groupName":63,"userNickName":63,"userAvatarUrl":63,"userGender":63,"userCity":63,"userProvince":63,"userCountry":63,"userLanguage":63},"open-gid":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"default-text":63,"default-avatar":63,"binderror":63,"_p":63},"page-container":{"show":63,"duration":63,"z-index":63,"overlay":63,"position":63,"round":63,"close-on-slide-down":63,"overlay-style":63,"custom-style":63,"bind:beforeenter":63,"bind:enter":63,"bind:afterenter":63,"bind:beforeleave":63,"bind:leave":63,"bind:afterleave":63,"bind:clickoverlay":63,"_p":63},"page-meta":{"background-text-style":63,"background-color":63,"background-color-top":63,"background-color-bottom":63,"root-background-color":63,"page-style":63,"page-font-size":63,"root-font-size":63,"page-orientation":63,"bindresize":63,"_p":63},"picker":{"header-text":63,"mode":{"_p":63,"selector":63,"multiSelector":63,"time":63,"date":63,"region":63},"disabled":63,"bindcancel":63,"_p":63},"picker-view":{"value":63,"mask-class":63,"bindchange":63,"bindpickstart":63,"bindpickend":63,"_p":63},"picker-view-column":63,"progress":{"percent":63,"show-info":63,"border-radius":63,"font-size":63,"stroke-width":63,"color":63,"activeColor":63,"backgroundColor":63,"active":63,"active-mode":63,"duration":63,"bindactiveend":63,"_p":63},"radio":{"value":63,"checked":63,"disabled":63,"color":63,"_p":63},"radio-group":{"bindchange":63,"_p":63},"rich-text":{"nodes":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"user-select":63,"_p":63},"root-portal":{"enable":63,"_p":63},"scroll-view":{"scroll-x":63,"scroll-y":63,"upper-threshold":63,"lower-threshold":63,"scroll-top":63,"scroll-left":63,"scroll-into-view":63,"scroll-with-animation":63,"enable-back-to-top":63,"enable-passive":63,"refresher-enabled":63,"refresher-threshold":63,"refresher-default-style":63,"refresher-background":63,"refresher-triggered":63,"bounces":63,"show-scrollbar":63,"fast-deceleration":63,"binddragstart":63,"binddragging":63,"binddragend":63,"bindscrolltoupper":63,"bindscrolltolower":63,"bindscroll":63,"bindrefresherpulling":63,"bindrefresherrefresh":63,"bindrefresherrestore":63,"bindrefresherabort":63,"_p":63},"share-element":{"key":63,"transform":63,"duration":63,"easing-function":63,"_p":63},"slider":{"min":63,"max":63,"step":63,"disabled":63,"value":63,"color":63,"selected-color":63,"activeColor":63,"backgroundColor":63,"block-size":63,"block-color":63,"show-value":63,"bindchange":63,"bindchanging":63,"_p":63},"swiper":{"indicator-dots":63,"indicator-color":63,"indicator-active-color":63,"autoplay":63,"current":63,"interval":63,"duration":63,"circular":63,"vertical":63,"display-multiple-items":63,"easing-function":{"_p":63,"default":63,"linear":63,"easeInCubic":63,"easeOutCubic":63,"easeInOutCubic":63},"bindchange":63,"bindtransition":63,"bindanimationfinish":63,"_p":63},"swiper-item":{"item-id":63,"skip-hidden-item-layout":63,"_p":63},"switch":{"checked":63,"disabled":63,"type":63,"color":63,"bindchange":63,"_p":63},"text":{"selectable":63,"_p":63},"textarea":{"value":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"auto-focus":63,"focus":63,"auto-height":63,"cursor-spacing":63,"cursor":63,"show-confirm-bar":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"disable-default-padding":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63,"return":63},"confirm-hold":63,"adjust-keyboard-to":{"_p":63,"cursor":63,"bottom":63},"bindfocus":63,"bindblur":63,"bindlinechange":63,"bindinput":63,"bindconfirm":63,"bindkeyboardheightchange":63,"_p":63},"video":{"src":63,"duration":63,"controls":63,"danmu-list":63,"danmu-btn":63,"enable-danmu":63,"autoplay":63,"loop":63,"muted":63,"initial-time":63,"page-gesture":63,"direction":{"0":63,"90":63,"_p":63,"-90":63},"show-progress":63,"show-fullscreen-btn":63,"show-play-btn":63,"show-center-play-btn":63,"enable-progress-gesture":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"poster":63,"show-mute-btn":63,"title":63,"play-btn-position":{"_p":63,"bottom":63,"center":63},"enable-play-gesture":63,"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"vslide-gesture":63,"vslide-gesture-in-fullscreen":63,"show-bottom-progress":63,"ad-unit-id":63,"poster-for-crawler":63,"show-casting-button":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-show-progress":63,"enable-auto-rotation":63,"show-screen-lock-button":63,"show-snapshot-button":63,"show-background-playback-button":63,"background-poster":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"is-drm":63,"is-live":63,"provision-url":63,"certificate-url":63,"license-url":63,"preferred-peak-bit-rate":63,"bindplay":63,"bindpause":63,"bindended":63,"bindtimeupdate":63,"bindfullscreenchange":63,"bindwaiting":63,"binderror":63,"bindprogress":63,"bindloadedmetadata":63,"bindcontrolstoggle":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindseekcomplete":63,"bindcastinguserselect":63,"bindcastingstatechange":63,"bindcastinginterrupt":63,"_p":63},"view":{"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"_p":63},"voip-room":{"openid":7,"mode":{"_p":7,"camera":7,"video":7},"device-position":{"_p":7,"front":7,"back":7},"object-fit":{"_p":7,"fill":7,"contain":7,"cover":7},"binderror":7,"_p":7},"web-view":{"src":31,"bindmessage":31,"bindload":31,"binderror":31,"_p":31},"ad-custom":{"unit-id":63,"ad-intervals":63,"bindload":63,"binderror":63,"_p":63},"aria-component":63,"native-component":63}');const $8=B8;var F8=JSON.parse('{"class":{"VKSession":{"start":63,"stop":63,"destroy":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"getVKFrame":63,"hitTest":63,"addMarker":63,"removeMarker":63,"getAllMarker":63,"addOSDMarker":63,"removeOSDMarker":63,"getAllOSDMarker":63,"update3DMode":63,"updateOSDThreshold":63,"detectFace":63,"detectBody":63,"detectHand":63,"detectDepth":63,"runOCR":63,"on":63,"off":63,"state":63,"config":63,"cameraSize":63,"_p":63},"VKFrame":{"getCameraTexture":63,"getCameraBuffer":63,"getDisplayTransform":63,"timestamp":63,"camera":63,"_p":63},"VKCamera":{"getProjectionMatrix":63,"viewMatrix":63,"intrinsics":63,"_p":63},"VKPlaneAnchor":{"id":63,"type":63,"transform":63,"size":63,"alignment":63,"_p":63},"VKMarkerAnchor":{"id":63,"type":63,"transform":63,"markerId":63,"path":63,"_p":63},"VKOSDAnchor":{"id":63,"type":63,"markerId":63,"size":63,"path":63,"origin":63,"_p":63},"VKFaceAnchor":{"id":7,"type":7,"detectId":7,"origin":7,"size":7,"points":7,"angle":7,"confidence":7,"_p":7},"VKOCRAnchor":{"id":63,"type":63,"text":63,"_p":63},"VKBodyAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"_p":7},"VKHandAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"gesture":7,"_p":7},"VKDepthAnchor":{"id":63,"type":63,"size":63,"depthArray":63,"_p":63},"wx.env":{"USER_DATA_PATH":7,"_p":7},"InferenceSession":{"onLoad":7,"offLoad":7,"onError":7,"offError":7,"run":7,"destroy":7,"_p":7},"Tensors":{"key":7,"_p":7},"Tensor":{"shape":7,"data":7,"type":7,"_p":7},"CanvasContext":{"draw":63,"createLinearGradient":63,"createCircularGradient":63,"createPattern":63,"measureText":63,"save":63,"restore":63,"beginPath":63,"moveTo":63,"lineTo":63,"quadraticCurveTo":63,"bezierCurveTo":63,"arc":63,"rect":63,"arcTo":63,"clip":63,"fillRect":63,"strokeRect":63,"clearRect":63,"fill":63,"stroke":63,"closePath":63,"scale":63,"rotate":63,"translate":63,"drawImage":63,"strokeText":63,"transform":63,"setTransform":63,"setFillStyle":63,"setStrokeStyle":63,"setShadow":63,"setGlobalAlpha":63,"setLineWidth":63,"setLineJoin":63,"setLineCap":63,"setLineDash":63,"setMiterLimit":63,"fillText":63,"setFontSize":63,"setTextAlign":63,"setTextBaseline":63,"fillStyle":63,"strokeStyle":63,"shadowOffsetX":63,"shadowOffsetY":63,"shadowColor":63,"shadowBlur":63,"lineWidth":63,"lineCap":63,"lineJoin":63,"miterLimit":63,"lineDashOffset":63,"font":63,"globalAlpha":63,"globalCompositeOperation":63,"_p":63},"CanvasGradient":{"addColorStop":63,"_p":63},"OffscreenCanvas":{"getContext":63,"createImage":63,"width":63,"height":63,"_p":63},"Color":63,"EventChannel":{"emit":63,"on":63,"once":63,"off":63,"_p":63},"IntersectionObserver":{"relativeTo":63,"relativeToViewport":63,"observe":63,"disconnect":63,"_p":63},"MediaQueryObserver":{"observe":63,"disconnect":63,"_p":63},"NodesRef":{"fields":63,"boundingClientRect":63,"scrollOffset":63,"context":63,"node":63,"_p":63},"SelectorQuery":{"in":63,"select":63,"selectAll":63,"selectViewport":63,"exec":63,"_p":63},"AudioContext":{"setSrc":63,"play":63,"pause":63,"seek":63,"_p":63},"InnerAudioContext":{"play":63,"pause":63,"stop":63,"seek":63,"destroy":63,"onCanplay":63,"offCanplay":63,"onPlay":63,"offPlay":63,"onPause":63,"offPause":63,"onStop":63,"offStop":63,"onEnded":63,"offEnded":63,"onTimeUpdate":63,"offTimeUpdate":63,"onError":63,"offError":63,"onWaiting":63,"offWaiting":63,"onSeeking":63,"offSeeking":63,"onSeeked":63,"offSeeked":63,"src":63,"startTime":63,"autoplay":63,"loop":63,"obeyMuteSwitch":63,"volume":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"CameraContext":{"onCameraFrame":63,"takePhoto":63,"setZoom":63,"startRecord":63,"stopRecord":63,"_p":63},"CameraFrameListener":{"start":63,"stop":63,"_p":63},"EditorContext":{"format":63,"insertDivider":63,"insertImage":63,"insertText":63,"setContents":63,"getContents":63,"clear":63,"removeFormat":63,"undo":63,"redo":63,"blur":63,"scrollIntoView":63,"getSelectionText":63,"_p":63},"LivePlayerContext":{"play":63,"stop":63,"mute":63,"pause":63,"resume":63,"requestFullScreen":63,"exitFullScreen":63,"exitPictureInPicture":63,"snapshot":63,"requestPictureInPicture":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"LivePusherContext":{"start":63,"stop":63,"pause":63,"resume":63,"switchCamera":63,"snapshot":63,"toggleTorch":63,"playBGM":63,"stopBGM":63,"pauseBGM":63,"resumeBGM":63,"setBGMVolume":63,"setMICVolume":63,"startPreview":63,"stopPreview":63,"sendMessage":63,"exitPictureInPicture":63,"setZoom":63,"getMaxZoom":63,"applyFilter":63,"clearFilters":63,"applySticker":63,"clearStickers":63,"applyLipStickMakeup":63,"applyEyeShadowMakeup":63,"applyBlusherStickMakeup":63,"applyFaceContourMakeup":63,"applyEyeBrowMakeup":63,"clearMakeups":63,"onCustomRendererEvent":63,"createOffscreenCanvas":63,"_p":63},"MapContext":{"getCenterLocation":63,"setLocMarkerIcon":63,"moveToLocation":63,"translateMarker":63,"moveAlong":63,"includePoints":63,"getRegion":63,"getRotate":63,"getSkew":63,"getScale":63,"setCenterOffset":63,"removeCustomLayer":63,"addCustomLayer":63,"addGroundOverlay":63,"addVisualLayer":63,"removeVisualLayer":63,"executeVisualLayerCommand":63,"addArc":63,"removeArc":63,"setBoundary":63,"updateGroundOverlay":63,"removeGroundOverlay":63,"toScreenLocation":63,"fromScreenLocation":63,"openMapApp":63,"addMarkers":63,"removeMarkers":63,"initMarkerCluster":63,"on":63,"eraseLines":63,"_p":63},"ScrollViewContext":{"triggerRefresh":63,"closeRefresh":63,"triggerTwoLevel":63,"closeTwoLevel":63,"scrollTo":63,"scrollIntoView":63,"scrollEnabled":63,"bounces":63,"showScrollbar":63,"pagingEnabled":63,"fastDeceleration":63,"decelerationDisabled":63,"_p":63},"VideoContext":{"play":63,"pause":63,"stop":63,"seek":63,"sendDanmu":63,"playbackRate":63,"requestFullScreen":63,"exitFullScreen":63,"showStatusBar":63,"hideStatusBar":63,"exitPictureInPicture":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"UserCryptoManager":{"getLatestUserKey":63,"getRandomValues":63,"_p":63},"LogManager":{"debug":63,"info":63,"log":63,"warn":63,"_p":63},"RealtimeLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RealtimeTagLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"BeaconInfo":{"uuid":7,"major":7,"minor":7,"proximity":7,"accuracy":7,"rssi":7,"_p":7},"MediaRecorder":{"pause":39,"resume":39,"start":39,"stop":39,"requestFrame":39,"on":39,"off":39,"destroy":39,"_p":39},"UserInfo":{"nickName":7,"avatarUrl":7,"gender":7,"country":7,"province":7,"city":7,"language":7,"_p":7},"wx.router":{"addRouteBuilder":7,"removeRouteBuilder":7,"getRouteContext":7,"_p":7},"wx.worklet":{"shared":7,"derived":7,"cancelAnimation":7,"runOnUI":7,"runOnJS":7,"timing":7,"spring":7,"decay":7,"sequence":7,"repeat":7,"delay":7,"_p":7},"worklet.Easing":7,"PreDownloadSubpackageTask":{"onProgressUpdate":7,"_p":7},"Animation":{"export":63,"step":63,"matrix":63,"matrix3d":63,"rotate":63,"rotate3d":63,"rotateX":63,"rotateY":63,"rotateZ":63,"scale":63,"scale3d":63,"scaleX":63,"scaleY":63,"scaleZ":63,"skew":63,"skewX":63,"skewY":63,"translate":63,"translate3d":63,"translateX":63,"translateY":63,"translateZ":63,"opacity":63,"backgroundColor":63,"width":63,"height":63,"left":63,"right":63,"top":63,"bottom":63,"_p":63},"Worker":{"postMessage":63,"terminate":63,"testOnProcessKilled":63,"onMessage":63,"onProcessKilled":63,"env":63,"_p":63},"CacheManager":{"addRules":7,"addRule":7,"deleteRules":7,"deleteRule":7,"clearRules":7,"on":7,"off":7,"start":7,"stop":7,"match":7,"deleteCaches":7,"deleteCache":7,"clearCaches":7,"mode":7,"origin":7,"maxAge":7,"state":7,"_p":7},"FileSystemManager":63,"ReadResult":{"bytesRead":63,"arrayBuffer":63,"_p":63},"Stats":{"isDirectory":63,"isFile":63,"mode":63,"size":63,"lastAccessedTime":63,"lastModifiedTime":63,"_p":63},"WriteResult":{"bytesWritten":63,"_p":63},"UDPSocket":{"bind":63,"setTTL":63,"send":63,"connect":63,"write":63,"close":63,"onClose":63,"offClose":63,"onError":63,"offError":63,"onListening":63,"offListening":63,"onMessage":63,"offMessage":63,"_p":63},"NFCAdapter":{"startDiscovery":5,"stopDiscovery":5,"getNdef":5,"getNfcA":5,"getNfcB":5,"getIsoDep":5,"getNfcF":5,"getNfcV":5,"getMifareClassic":5,"getMifareUltralight":5,"onDiscovered":5,"offDiscovered":5,"tech":5,"_p":5},"Ndef":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"onNdefMessage":5,"offNdefMessage":5,"writeNdefMessage":5,"_p":5},"NfcA":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getAtqa":5,"getSak":5,"_p":5},"NfcB":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"IsoDep":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getHistoricalBytes":5,"_p":5},"NfcF":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcV":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareClassic":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareUltralight":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"WifiInfo":{"SSID":7,"BSSID":7,"secure":7,"signalStrength":7,"frequency":7,"_p":7},"BackgroundAudioManager":{"play":63,"pause":63,"seek":63,"stop":63,"onCanplay":63,"onWaiting":63,"onError":63,"onPlay":63,"onPause":63,"onSeeking":63,"onSeeked":63,"onEnded":63,"onStop":63,"onTimeUpdate":63,"onNext":63,"onPrev":63,"src":63,"startTime":63,"title":63,"epname":63,"singer":63,"coverImgUrl":63,"webUrl":63,"protocol":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"RecorderManager":{"start":63,"pause":63,"resume":63,"stop":63,"onStart":63,"onResume":63,"onPause":63,"onStop":63,"onFrameRecorded":63,"onError":63,"onInterruptionBegin":63,"onInterruptionEnd":63,"_p":63},"MediaTrack":{"kind":63,"duration":63,"volume":63,"_p":63},"MediaContainer":{"extractDataSource":63,"addTrack":63,"removeTrack":63,"export":63,"destroy":63,"_p":63},"DownloadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"RequestTask":{"abort":63,"onHeadersReceived":63,"offHeadersReceived":63,"onChunkReceived":63,"offChunkReceived":63,"_p":63},"SocketTask":{"send":63,"close":63,"onOpen":63,"onClose":63,"onError":63,"onMessage":63,"_p":63},"UploadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"AuthSetting":{"scope.userInfo":7,"scope.userLocation":7,"scope.address":7,"scope.invoiceTitle":7,"scope.invoice":7,"scope.werun":7,"scope.record":7,"scope.writePhotosAlbum":7,"scope.camera":7,"scope.bluetooth":7,"scope.addPhoneContact":7,"scope.addPhoneCalendar":7,"_p":7},"SubscriptionsSetting":{"mainSwitch":7,"itemSettings":7,"_p":7},"UpdateManager":{"applyUpdate":63,"onCheckForUpdate":63,"onUpdateReady":63,"onUpdateFailed":63,"_p":63},"Path2D":{"addPath":63,"arc":63,"arcTo":63,"bezierCurveTo":63,"closePath":63,"ellipse":63,"lineTo":63,"moveTo":63,"quadraticCurveTo":63,"rect":63,"_p":63},"BLEPeripheralServer":{"addService":63,"removeService":63,"startAdvertising":63,"stopAdvertising":63,"writeCharacteristicValue":63,"onCharacteristicWriteRequest":63,"offCharacteristicWriteRequest":63,"onCharacteristicReadRequest":63,"offCharacteristicReadRequest":63,"onCharacteristicSubscribed":63,"offCharacteristicSubscribed":63,"onCharacteristicUnsubscribed":63,"offCharacteristicUnsubscribed":63,"_p":63},"MediaAudioPlayer":{"start":63,"addAudioSource":63,"removeAudioSource":63,"stop":63,"destroy":63,"volume":63,"_p":63},"WebAudioContext":{"close":63,"resume":63,"suspend":63,"createIIRFilter":63,"createWaveShaper":63,"createConstantSource":63,"createOscillator":63,"createGain":63,"createPeriodicWave":63,"createBiquadFilter":63,"createBufferSource":63,"createChannelMerger":63,"createChannelSplitter":63,"createDelay":63,"createDynamicsCompressor":63,"createScriptProcessor":63,"createAnalyser":63,"createPanner":63,"createBuffer":63,"decodeAudioData":63,"state":63,"onstatechange":63,"currentTime":63,"destination":63,"listener":63,"sampleRate":63,"_p":63},"WebAudioContextNode":{"positionX":63,"positionY":63,"positionZ":63,"forwardX":63,"forwardY":63,"forwardZ":63,"upX":63,"upY":63,"upZ":63,"setOrientation":63,"setPosition":63,"_p":63},"AudioBuffer":{"getChannelData":63,"copyFromChannel":63,"copyToChannel":63,"sampleRate":63,"length":63,"duration":63,"numberOfChannels":63,"_p":63},"console":{"debug":7,"log":7,"info":7,"warn":7,"error":7,"group":7,"groupEnd":7,"_p":7},"PerformanceEntry":{"entryType":63,"name":63,"startTime":63,"duration":63,"path":63,"referrerPath":63,"pageId":63,"referrerPageId":63,"navigationStart":63,"navigationType":63,"moduleName":63,"fileList":63,"viewLayerReadyTime":63,"initDataSendTime":63,"initDataRecvTime":63,"viewLayerRenderStartTime":63,"viewLayerRenderEndTime":63,"packageName":63,"packageSize":63,"uri":63,"initiatorType":63,"transferSize":63,"domainLookupStart":63,"domainLookupEnd":63,"_p":63},"EntryList":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"_p":63},"Performance":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"createObserver":63,"setBufferSize":63,"_p":63},"PerformanceObserver":{"observe":63,"disconnect":63,"supportedEntryTypes":63,"_p":63},"TCPSocket":{"bindWifi":7,"connect":7,"write":7,"close":7,"onClose":7,"offClose":7,"onConnect":7,"offConnect":7,"onError":7,"offError":7,"onMessage":7,"offMessage":7,"onBindWifi":7,"offBindWifi":7,"_p":7},"Canvas":{"getContext":63,"createImage":63,"createImageData":63,"createPath2D":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"toDataURL":63,"width":63,"height":63,"_p":63},"RenderingContext":63,"Image":{"src":63,"width":63,"height":63,"referrerPolicy":63,"onload":63,"onerror":63,"_p":63},"ImageData":{"width":63,"height":63,"data":63,"_p":63},"VideoDecoder":{"start":63,"seek":63,"stop":63,"remove":63,"getFrameData":63,"on":63,"off":63,"_p":63},"InterstitialAd":{"show":7,"load":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"RewardedVideoAd":{"load":7,"show":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7}},"method":{"createVKSession":{"object":{"version":{"v1":7,"v2":7,"_p":7},"track":{"plane":7,"marker":7,"OSD":7,"depth":7,"face":7,"OCR":7,"body":7,"hand":7,"threeDof":7,"_p":7},"gl":7},"_p":7},"isVKSupport":7,"preloadAssets":{"object":{"data":63},"_p":63},"preloadWebview":7,"onNeedPrivacyAuthorization":63,"exitVoIPChat":31,"joinVoIPChat":{"object":{"roomType":{"voice":31,"video":31,"_p":31},"signature":31,"nonceStr":31,"timeStamp":31,"groupId":31,"muteConfig":31,"forceCellularNetwork":31},"success":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPChatInterrupted":{"callback":{"errCode":31,"errMsg":31},"_p":31},"offVoIPChatInterrupted":31,"onVoIPChatMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"offVoIPChatMembersChanged":31,"onVoIPChatSpeakersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"offVoIPChatSpeakersChanged":31,"onVoIPChatStateChanged":{"callback":{"code":31,"data":31,"errCode":31,"errMsg":31},"_p":31},"offVoIPChatStateChanged":31,"onVoIPVideoMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"offVoIPVideoMembersChanged":31,"subscribeVoIPVideoMembers":{"object":{"openIdList":31},"_p":31},"updateVoIPChatMuteConfig":{"object":{"muteConfig":31},"_p":31},"setEnable1v1Chat":{"object":{"enable":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"minWindowType":31},"_p":31},"join1v1Chat":{"object":{"caller":31,"listener":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"roomType":{"voice":31,"video":31,"_p":31},"minWindowType":31,"disableSwitchVoice":31},"_p":31},"getAccountInfoSync":{"return":{"miniProgram":{"appId":63,"envVersion":63,"version":63,"_p":63},"plugin":{"appId":63,"version":63,"_p":63}},"_p":63},"createInferenceSession":{"object":{"model":7,"precesionLevel":{"0":7,"1":7,"2":7,"3":7,"4":7,"_p":7},"allowQuantize":7,"allowNPU":7,"typicalShape":7},"_p":7},"getInferenceEnvInfo":{"success":{"ver":7},"_p":7},"onApiCategoryChange":{"callback":{"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"offApiCategoryChange":7,"getApiCategory":7,"getEnterOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"onError":63,"offError":63,"onUnhandledRejection":{"callback":{"reason":7,"promise":7},"_p":7},"offUnhandledRejection":7,"getLaunchOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"onLazyLoadError":{"callback":{"type":7,"subpackage":7,"errMsg":7},"_p":7},"offLazyLoadError":7,"onPageNotFound":{"callback":{"path":7,"query":7,"isEntryPage":7},"_p":7},"offPageNotFound":7,"onThemeChange":{"callback":{"theme":{"dark":7,"light":7,"_p":7}},"_p":7},"offThemeChange":7,"createBufferURL":7,"revokeBufferURL":7,"canvasGetImageData":{"object":{"canvasId":7,"x":7,"y":7,"width":7,"height":7},"success":{"width":7,"height":7,"data":7},"_p":7},"canvasPutImageData":{"object":{"canvasId":7,"data":7,"x":7,"y":7,"width":7,"height":7},"_p":7},"canvasToTempFilePath":{"object":{"x":63,"y":63,"width":63,"height":63,"destWidth":63,"destHeight":63,"canvasId":63,"canvas":63,"fileType":{"jpg":63,"png":63,"_p":63},"quality":63},"success":{"tempFilePath":63},"_p":63},"createOffscreenCanvas":{"object":{"type":{"webgl":63,"2d":63,"_p":63},"width":63,"height":63,"compInst":63},"_p":63},"createCanvasContext":63,"createIntersectionObserver":63,"nextTick":63,"createSelectorQuery":63,"createAudioContext":7,"createCameraContext":63,"createLivePlayerContext":63,"createLivePusherContext":63,"createMapContext":63,"createVideoContext":63,"createInnerAudioContext":{"object":{"useWebAudioImplement":63},"_p":63},"onCopyUrl":{"callback":{"query":7},"_p":7},"offCopyUrl":7,"getRandomValues":{"object":{"length":7},"success":{"randomValues":7},"_p":7},"getUserCryptoManager":7,"getLogManager":{"object":{"level":63},"_p":63},"getRealtimeLogManager":7,"setEnableDebug":{"object":{"enableDebug":7},"_p":7},"startAccelerometer":{"object":{"interval":{"game":39,"ui":39,"normal":39,"_p":39}},"_p":39},"stopAccelerometer":39,"onAccelerometerChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"offAccelerometerChange":39,"checkIsOpenAccessibility":{"success":{"open":7},"_p":7},"getBatteryInfo":{"success":{"level":47,"isCharging":47},"_p":47},"getBatteryInfoSync":{"return":{"level":47,"isCharging":47},"_p":47},"addPhoneCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7},"_p":7},"addPhoneRepeatCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7,"repeatInterval":{"day":7,"week":7,"month":7,"year":7,"_p":7},"repeatEndTime":7},"_p":7},"getClipboardData":{"success":{"data":63},"_p":63},"setClipboardData":{"object":{"data":63},"_p":63},"startCompass":39,"stopCompass":39,"onCompassChange":{"callback":{"direction":7,"accuracy":7},"_p":7},"offCompassChange":7,"chooseContact":{"success":{"phoneNumber":7,"displayName":7,"phoneNumberList":7},"_p":7},"addPhoneContact":{"object":{"firstName":7,"photoFilePath":7,"nickName":7,"lastName":7,"middleName":7,"remark":7,"mobilePhoneNumber":7,"weChatNumber":7,"addressCountry":7,"addressState":7,"addressCity":7,"addressStreet":7,"addressPostalCode":7,"organization":7,"title":7,"workFaxNumber":7,"workPhoneNumber":7,"hostNumber":7,"email":7,"url":7,"workAddressCountry":7,"workAddressState":7,"workAddressCity":7,"workAddressStreet":7,"workAddressPostalCode":7,"homeFaxNumber":7,"homePhoneNumber":7,"homeAddressCountry":7,"homeAddressState":7,"homeAddressCity":7,"homeAddressStreet":7,"homeAddressPostalCode":7},"_p":7},"getLocalIPAddress":{"success":{"errMsg":7,"localip":7,"netmask":7},"_p":7},"startGyroscope":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"stopGyroscope":7,"onGyroscopeChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"offGyroscopeChange":7,"startBeaconDiscovery":{"object":{"uuids":7,"ignoreBluetoothAvailable":7},"_p":7},"stopBeaconDiscovery":7,"getBeacons":{"success":{"beacons":7},"_p":7},"onBeaconUpdate":{"callback":{"beacons":7},"_p":7},"offBeaconUpdate":7,"onBeaconServiceChange":{"callback":{"available":7,"discovering":7},"_p":7},"offBeaconServiceChange":7,"startLocalServiceDiscovery":{"object":{"serviceType":7},"_p":7},"stopLocalServiceDiscovery":7,"onLocalServiceFound":{"callback":{"serviceType":7,"serviceName":7,"ip":7,"port":7},"_p":7},"offLocalServiceFound":7,"onLocalServiceLost":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"offLocalServiceLost":7,"onLocalServiceDiscoveryStop":7,"offLocalServiceDiscoveryStop":7,"onLocalServiceResolveFail":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"offLocalServiceResolveFail":7,"startDeviceMotionListening":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"stopDeviceMotionListening":7,"onDeviceMotionChange":{"callback":{"alpha":7,"beta":7,"gamma":7},"_p":7},"offDeviceMotionChange":7,"getNetworkType":{"success":{"networkType":{"wifi":31,"2g":31,"3g":31,"4g":31,"5g":31,"unknown":31,"none":31,"_p":31},"signalStrength":31,"hasSystemProxy":31},"_p":31},"onNetworkStatusChange":{"callback":{"isConnected":47,"networkType":{"wifi":47,"2g":47,"3g":47,"4g":47,"5g":47,"unknown":47,"none":47,"_p":47}},"_p":47},"offNetworkStatusChange":7,"onNetworkWeakChange":{"callback":{"weakNet":47,"networkType":47},"_p":47},"offNetworkWeakChange":47,"makePhoneCall":{"object":{"phoneNumber":39},"_p":39},"scanCode":{"object":{"onlyFromCamera":7,"scanType":{"barCode":7,"qrCode":7,"datamatrix":7,"pdf417":7,"_p":7}},"success":{"result":7,"scanType":{"QR_CODE":7,"AZTEC":7,"CODABAR":7,"CODE_39":7,"CODE_93":7,"CODE_128":7,"DATA_MATRIX":7,"EAN_8":7,"EAN_13":7,"ITF":7,"MAXICODE":7,"PDF_417":7,"RSS_14":7,"RSS_EXPANDED":7,"UPC_A":7,"UPC_E":7,"UPC_EAN_EXTENSION":7,"WX_CODE":7,"CODE_25":7,"_p":7},"charSet":7,"path":7,"rawData":7},"_p":7},"sendSms":{"object":{"phoneNumber":7,"content":7},"_p":7},"vibrateShort":{"object":{"type":7},"_p":7},"vibrateLong":7,"getCommonConfig":{"object":{"keys":63,"mode":63},"success":{"errcode":63,"errmsg":63,"conf_type":63,"conf":63,"expire_sec":63},"_p":63},"getExptInfoSync":63,"reportEvent":7,"getExtConfig":{"success":{"extConfig":63},"_p":63},"getExtConfigSync":63,"initFaceDetect":7,"faceDetect":{"object":{"frameBuffer":7,"width":7,"height":7,"enablePoint":7,"enableConf":7,"enableAngle":7,"enableMultiFace":7},"success":{"detectRect":7,"x":7,"y":7,"pointArray":7,"confArray":7,"angleArray":7,"faceInfo":7},"_p":7},"stopFaceDetect":7,"getChannelsLiveInfo":{"object":{"finderUserName":63,"startTime":63,"endTime":63},"success":{"feedId":63,"nonceId":63,"description":63,"status":{"2":63,"3":63,"_p":63},"headUrl":63,"nickname":63,"replayStatus":{"0":63,"1":63,"3":63,"6":63,"_p":63},"otherInfos":63},"_p":63},"getChannelsLiveNoticeInfo":{"object":{"finderUserName":63},"success":{"noticeId":63,"status":63,"startTime":63,"headUrl":63,"nickname":63,"reservable":63,"otherInfos":63},"_p":63},"openChannelsActivity":{"object":{"finderUserName":7,"feedId":7},"_p":7},"openChannelsEvent":{"object":{"finderUserName":31,"eventId":31},"_p":31},"openChannelsLive":{"object":{"finderUserName":7,"feedId":7,"nonceId":7},"_p":7},"openChannelsUserProfile":{"object":{"finderUserName":7},"_p":7},"reserveChannelsLive":{"object":{"noticeId":7},"_p":7},"chooseLocation":{"object":{"latitude":31,"longitude":31},"success":{"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"choosePoi":{"success":{"type":31,"city":31,"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"getFuzzyLocation":{"object":{"type":7},"success":{"latitude":7,"longitude":7},"_p":7},"getLocation":{"object":{"type":63,"altitude":63,"isHighAccuracy":63,"highAccuracyExpireTime":63},"success":{"latitude":63,"longitude":63,"speed":63,"accuracy":63,"altitude":63,"verticalAccuracy":63,"horizontalAccuracy":63},"_p":63},"onLocationChange":{"callback":{"latitude":7,"longitude":7,"speed":7,"accuracy":7,"altitude":7,"verticalAccuracy":7,"horizontalAccuracy":7},"_p":7},"offLocationChange":7,"onLocationChangeError":{"callback":{"errCode":7},"_p":7},"offLocationChangeError":7,"startLocationUpdateBackground":{"object":{"type":39},"_p":39},"startLocationUpdate":{"object":{"type":39},"_p":39},"stopLocationUpdate":39,"openLocation":{"object":{"latitude":55,"longitude":55,"scale":55,"name":55,"address":55},"_p":55},"onAudioInterruptionBegin":7,"offAudioInterruptionBegin":7,"onAudioInterruptionEnd":7,"offAudioInterruptionEnd":7,"chooseMedia":{"object":{"count":31,"mediaType":{"image":31,"video":31,"mix":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31},"maxDuration":31,"sizeType":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFiles":31,"type":31},"_p":31},"chooseMessageFile":{"object":{"count":7,"type":{"all":7,"video":7,"image":7,"file":7,"_p":7},"extension":7},"success":{"tempFiles":7},"_p":7},"loadFontFace":{"object":{"global":63,"family":63,"source":63,"desc":{"style":63,"weight":63,"variant":63,"_p":63},"scopes":63},"success":{"status":63},"_p":63},"chooseImage":{"object":{"count":31,"sizeType":{"original":31,"compressed":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31}},"success":{"tempFilePaths":31,"tempFiles":31},"_p":31},"previewImage":{"object":{"urls":63,"showmenu":63,"current":63,"referrerPolicy":63},"_p":63},"getImageInfo":{"object":{"src":63},"success":{"width":63,"height":63,"path":63,"orientation":{"up":63,"up-mirrored":63,"down":63,"down-mirrored":63,"left-mirrored":63,"right":63,"right-mirrored":63,"left":63,"_p":63},"type":{"unknown":63,"jpeg":63,"png":63,"gif":63,"tiff":63,"_p":63}},"_p":63},"saveImageToPhotosAlbum":{"object":{"filePath":31},"_p":31},"compressImage":{"object":{"src":7,"quality":7,"compressedWidth":7,"compressedHeight":7},"success":{"tempFilePath":7},"_p":7},"editImage":{"object":{"src":7},"success":{"tempFilePath":7},"_p":7},"cropImage":{"object":{"src":7,"cropScale":{"16:9":7,"9:16":7,"4:3":7,"3:4":7,"5:4":7,"4:5":7,"1:1":7,"_p":7}},"success":{"tempFilePath":7},"_p":7},"createMediaRecorder":39,"openVideoEditor":{"object":{"filePath":7,"minDuration":7,"maxDuration":7},"success":{"duration":7,"size":7,"tempFilePath":7,"tempThumbPath":7},"_p":7},"previewMedia":{"object":{"sources":7,"current":7,"showmenu":7,"referrerPolicy":7},"_p":7},"downloadFile":{"object":{"url":63,"header":63,"timeout":63,"filePath":63},"success":{"tempFilePath":63,"filePath":63,"statusCode":63,"profile":63},"_p":63},"request":{"object":{"url":63,"data":63,"header":63,"timeout":63,"method":{"OPTIONS":63,"GET":63,"HEAD":63,"POST":63,"PUT":63,"DELETE":63,"TRACE":63,"CONNECT":63,"_p":63},"dataType":{"json":63,"其他":63,"_p":63},"responseType":{"text":63,"arraybuffer":63,"_p":63},"enableHttp2":63,"enableQuic":63,"enableCache":63,"enableHttpDNS":63,"httpDNSServiceId":63,"enableChunked":63,"forceCellularNetwork":63},"success":{"data":63,"statusCode":63,"header":63,"cookies":63,"profile":63,"exception":63},"_p":63},"uploadFile":{"object":{"url":63,"filePath":63,"name":63,"header":63,"formData":63,"timeout":63},"success":{"data":63,"statusCode":63},"_p":63},"login":{"object":{"timeout":31},"success":{"code":31},"_p":31},"checkSession":63,"chooseAddress":{"success":{"userName":7,"postalCode":7,"provinceName":7,"cityName":7,"countyName":7,"streetName":7,"detailInfo":7,"detailInfoNew":7,"nationalCode":7,"telNumber":7,"errMsg":7},"_p":7},"addCard":{"object":{"cardList":7},"success":{"cardList":7},"_p":7},"openCard":{"object":{"cardList":7},"_p":7},"checkIsAddedToMyMiniProgram":{"success":{"added":63},"_p":63},"chooseInvoice":{"success":{"invoiceInfo":7},"_p":7},"chooseInvoiceTitle":{"success":{"type":{"0":7,"1":7,"_p":7},"title":7,"taxNumber":7,"companyAddress":7,"telephone":7,"bankName":7,"bankAccount":7,"errMsg":7},"_p":7},"chooseLicensePlate":{"success":{"plateNumber":39},"_p":39},"getDeviceVoIPList":{"success":{"list":7},"_p":7},"getGroupEnterInfo":{"success":{"errMsg":31,"encryptedData":31,"iv":31,"cloudID":31},"_p":31},"getUserInfo":{"object":{"withCredentials":63,"lang":{"en":63,"zh_CN":63,"zh_TW":63,"_p":63}},"success":{"userInfo":63,"rawData":63,"signature":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getUserProfile":{"object":{"lang":{"en":47,"zh_CN":47,"zh_TW":47,"_p":47},"desc":47},"success":{"userInfo":47,"rawData":47,"signature":47,"encryptedData":47,"iv":47,"cloudID":47},"_p":47},"openCustomerServiceChat":{"object":{"extInfo":{"url":31,"_p":31},"corpId":31,"showMessageCard":31,"sendMessageTitle":31,"sendMessagePath":31,"sendMessageImg":31},"_p":31},"requestDeviceVoIP":{"object":{"sn":7,"snTicket":7,"modelId":7,"deviceName":7,"isGroup":7,"groupId":7},"_p":7},"requestSubscribeDeviceMessage":{"object":{"tmplIds":7,"sn":7,"snTicket":7,"modelId":7},"success":{"errMsg":7,"TEMPLATE_ID":7},"_p":7},"requestSubscribeMessage":{"object":{"tmplIds":63},"success":{"errMsg":63,"TEMPLATE_ID":63},"_p":63},"getWeRunData":{"success":{"encryptedData":7,"iv":7,"cloudID":7},"_p":7},"onMemoryWarning":{"callback":{"level":{"5":7,"10":7,"15":7,"_p":7}},"_p":7},"offMemoryWarning":7,"reportPerformance":7,"requirePrivacyAuthorize":63,"getPrivacySetting":{"success":{"needAuthorization":63,"privacyContractName":63},"_p":63},"openPrivacyContract":63,"reportAnalytics":31,"reportMonitor":31,"getBackgroundFetchData":{"object":{"fetchType":7},"success":{"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"onBackgroundFetchData":{"callback":{"fetchType":7,"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"setBackgroundFetchToken":{"object":{"token":7},"_p":7},"getBackgroundFetchToken":{"success":{"token":7,"errMsg":7},"_p":7},"preDownloadSubpackage":{"object":{"packageType":7},"_p":7},"createAnimation":{"object":{"duration":63,"timingFunction":{"linear":63,"ease":63,"ease-in":63,"ease-in-out":63,"ease-out":63,"step-start":63,"step-end":63,"_p":63},"delay":63,"transformOrigin":63},"_p":63},"enableAlertBeforeUnload":{"object":{"message":7},"_p":7},"disableAlertBeforeUnload":7,"getMenuButtonBoundingClientRect":{"return":{"width":63,"height":63,"top":63,"right":63,"bottom":63,"left":63},"_p":63},"getSelectedTextRange":{"success":{"start":7,"end":7},"_p":7},"hideKeyboard":31,"showModal":{"object":{"title":63,"content":63,"showCancel":63,"cancelText":63,"cancelColor":63,"confirmText":63,"confirmColor":63,"editable":63,"placeholderText":63},"success":{"content":63,"confirm":63,"cancel":63},"_p":63},"showToast":{"object":{"title":63,"icon":{"success":63,"error":63,"loading":63,"none":63,"_p":63},"image":63,"duration":63,"mask":63},"_p":63},"hideToast":{"object":{"noConflict":63},"_p":63},"showLoading":{"object":{"title":63,"mask":63},"_p":63},"hideLoading":{"object":{"noConflict":63},"_p":63},"showActionSheet":{"object":{"alertText":63,"itemList":63,"itemColor":63},"success":{"tapIndex":63},"_p":63},"onKeyboardHeightChange":{"callback":{"height":7},"_p":7},"offKeyboardHeightChange":7,"pageScrollTo":{"object":{"scrollTop":31,"duration":31,"selector":31,"offsetTop":31},"_p":31},"checkIsPictureInPictureActive":7,"startPullDownRefresh":63,"stopPullDownRefresh":63,"onWindowResize":{"callback":{"size":{"windowWidth":63,"windowHeight":63,"_p":63}},"_p":63},"offWindowResize":63,"setBackgroundColor":{"object":{"backgroundColor":7,"backgroundColorTop":7,"backgroundColorBottom":7},"_p":7},"setBackgroundTextStyle":{"object":{"textStyle":{"dark":7,"light":7,"_p":7}},"_p":7},"setWindowSize":{"object":{"width":63,"height":63},"_p":63},"setTabBarBadge":{"object":{"index":63,"text":63},"_p":63},"removeTabBarBadge":{"object":{"index":63},"_p":63},"showTabBarRedDot":{"object":{"index":63},"_p":63},"hideTabBarRedDot":{"object":{"index":63},"_p":63},"showTabBar":{"object":{"animation":63},"_p":63},"hideTabBar":{"object":{"animation":47},"_p":47},"setTabBarStyle":{"object":{"color":47,"selectedColor":47,"backgroundColor":47,"borderStyle":47},"_p":47},"setTabBarItem":{"object":{"index":47,"text":47,"iconPath":47,"selectedIconPath":47},"_p":47},"setTopBarText":{"object":{"text":7},"_p":7},"createWorker":63,"createCacheManager":{"object":{"origin":7,"mode":{"weakNetwork":7,"always":7,"none":7,"_p":7},"maxAge":7,"extra":7},"_p":7},"openDocument":{"object":{"filePath":31,"showMenu":31,"fileType":{"doc":31,"docx":31,"xls":31,"xlsx":31,"ppt":31,"pptx":31,"pdf":31,"_p":31}},"_p":31},"getFileSystemManager":63,"saveFileToDisk":{"object":{"filePath":31},"_p":31},"batchGetStorage":{"object":{"keyList":7},"_p":7},"batchGetStorageSync":7,"batchSetStorage":{"object":{"kvList":7},"_p":7},"batchSetStorageSync":7,"clearStorage":63,"clearStorageSync":63,"getStorage":{"object":{"key":63,"encrypt":63},"success":{"data":63},"_p":63},"getStorageSync":63,"getStorageInfo":{"success":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageInfoSync":{"return":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"removeStorage":{"object":{"key":63},"_p":63},"removeStorageSync":63,"setStorage":{"object":{"key":63,"data":63,"encrypt":63},"_p":63},"setStorageSync":63,"createTCPSocket":7,"createUDPSocket":47,"pluginLogin":15,"canIUse":63,"makeBluetoothPair":{"object":{"deviceId":7,"pin":7,"timeout":7},"_p":7},"isBluetoothDevicePaired":{"object":{"deviceId":7},"_p":7},"closeBLEConnection":{"object":{"deviceId":7},"_p":7},"closeBluetoothAdapter":7,"createBLEConnection":{"object":{"deviceId":7,"timeout":7},"_p":7},"getBLEDeviceCharacteristics":{"object":{"deviceId":7,"serviceId":7},"success":{"characteristics":7},"_p":7},"getBLEDeviceRSSI":{"object":{"deviceId":7},"success":{"RSSI":7},"_p":7},"getBLEDeviceServices":{"object":{"deviceId":7},"success":{"services":7},"_p":7},"getBLEMTU":{"object":{"deviceId":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"success":{"mtu":7},"_p":7},"getBluetoothAdapterState":{"success":{"discovering":7,"available":7},"_p":7},"getBluetoothDevices":{"success":{"devices":7},"_p":7},"getConnectedBluetoothDevices":{"object":{"services":7},"success":{"devices":7},"_p":7},"notifyBLECharacteristicValueChange":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"state":7,"type":7},"_p":7},"onBLECharacteristicValueChange":{"callback":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7},"_p":7},"offBLECharacteristicValueChange":7,"onBLEConnectionStateChange":{"callback":{"deviceId":7,"connected":7},"_p":7},"offBLEConnectionStateChange":7,"onBLEMTUChange":{"callback":{"deviceId":7,"mtu":7},"_p":7},"offBLEMTUChange":7,"onBluetoothAdapterStateChange":{"callback":{"available":7,"discovering":7},"_p":7},"offBluetoothAdapterStateChange":7,"onBluetoothDeviceFound":{"callback":{"devices":7},"_p":7},"offBluetoothDeviceFound":7,"openBluetoothAdapter":{"object":{"mode":{"central":7,"peripheral":7,"_p":7}},"_p":7},"readBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7},"_p":7},"setBLEMTU":{"object":{"deviceId":7,"mtu":7},"success":{"mtu":7},"_p":7},"startBluetoothDevicesDiscovery":{"object":{"services":7,"allowDuplicatesKey":7,"interval":7,"powerLevel":{"low":7,"medium":7,"high":7,"_p":7}},"_p":7},"stopBluetoothDevicesDiscovery":7,"writeBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"_p":7},"getHCEState":7,"getNFCAdapter":5,"onHCEMessage":{"callback":{"messageType":{"1":7,"2":7,"_p":7},"data":7,"reason":7},"_p":7},"offHCEMessage":7,"sendHCEMessage":{"object":{"data":7},"_p":7},"startHCE":{"object":{"aid_list":7},"_p":7},"stopHCE":7,"getScreenBrightness":{"success":{"value":31},"_p":31},"onUserCaptureScreen":7,"offUserCaptureScreen":7,"onScreenRecordingStateChanged":{"callback":{"state":{"start":2,"stop":2,"_p":2}},"_p":2},"offScreenRecordingStateChanged":2,"getScreenRecordingState":{"success":{"state":{"on":2,"off":2,"_p":2}},"_p":2},"setKeepScreenOn":{"object":{"keepScreenOn":39},"_p":39},"setScreenBrightness":{"object":{"value":31},"_p":31},"setVisualEffectOnCapture":{"object":{"visualEffect":7},"_p":7},"getAppAuthorizeSetting":{"return":{"albumAuthorized":31,"bluetoothAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"locationReducedAccuracy":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31},"_p":31},"getAppBaseInfo":{"return":{"SDKVersion":63,"enableDebug":63,"host":{"appId":63,"_p":63},"language":63,"version":63,"theme":{"dark":63,"light":63,"_p":63}},"_p":63},"getDeviceInfo":{"return":{"abi":63,"deviceAbi":63,"benchmarkLevel":63,"brand":63,"model":63,"system":63,"platform":63,"cpuType":63,"memorySize":63},"_p":63},"getRendererUserAgent":7,"getSystemInfo":{"success":{"brand":31,"model":31,"pixelRatio":31,"screenWidth":31,"screenHeight":31,"windowWidth":31,"windowHeight":31,"statusBarHeight":31,"language":31,"version":31,"system":31,"platform":{"ios":31,"android":31,"windows":31,"mac":31,"devtools":31,"_p":31},"fontSizeSetting":31,"SDKVersion":31,"benchmarkLevel":31,"albumAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31,"bluetoothEnabled":31,"locationEnabled":31,"wifiEnabled":31,"safeArea":{"left":31,"right":31,"top":31,"bottom":31,"width":31,"height":31,"_p":31},"locationReducedAccuracy":31,"theme":{"dark":31,"light":31,"_p":31},"host":{"appId":31,"_p":31},"enableDebug":31,"deviceOrientation":{"portrait":31,"landscape":31,"_p":31}},"_p":31},"getSystemInfoSync":{"return":{"brand":31,"model":31,"pixelRatio":31,"screenWidth":31,"screenHeight":31,"windowWidth":31,"windowHeight":31,"statusBarHeight":31,"language":31,"version":31,"system":31,"platform":{"ios":31,"android":31,"windows":31,"mac":31,"devtools":31,"_p":31},"fontSizeSetting":31,"SDKVersion":31,"benchmarkLevel":31,"albumAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31,"bluetoothEnabled":31,"locationEnabled":31,"wifiEnabled":31,"safeArea":{"left":31,"right":31,"top":31,"bottom":31,"width":31,"height":31,"_p":31},"locationReducedAccuracy":31,"theme":{"dark":31,"light":31,"_p":31},"host":{"appId":31,"_p":31},"enableDebug":31,"deviceOrientation":{"portrait":31,"landscape":31,"_p":31}},"_p":31},"getSystemInfoAsync":{"success":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemSetting":{"return":{"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getWindowInfo":{"return":{"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"screenTop":63},"_p":63},"openAppAuthorizeSetting":7,"openSystemBluetoothSetting":7,"connectWifi":{"object":{"SSID":7,"BSSID":7,"password":7,"maunal":7,"partialInfo":7},"_p":7},"getConnectedWifi":{"object":{"partialInfo":7},"success":{"wifi":7},"_p":7},"getWifiList":7,"onGetWifiList":{"callback":{"wifiList":7},"_p":7},"offGetWifiList":7,"onWifiConnected":{"callback":{"wifi":7},"_p":7},"offWifiConnected":7,"onWifiConnectedWithPartialInfo":{"callback":{"wifi":7},"_p":7},"offWifiConnectedWithPartialInfo":7,"setWifiList":{"object":{"wifiList":7},"_p":7},"startWifi":7,"stopWifi":7,"getBackgroundAudioManager":63,"getRecorderManager":63,"getBackgroundAudioPlayerState":{"success":{"duration":7,"currentPosition":7,"status":{"0":7,"1":7,"2":7,"_p":7},"downloadPercent":7,"dataUrl":7},"_p":7},"playBackgroundAudio":{"object":{"dataUrl":7,"title":7,"coverImgUrl":7},"_p":7},"pauseBackgroundAudio":7,"seekBackgroundAudio":{"object":{"position":7},"_p":7},"stopBackgroundAudio":7,"onBackgroundAudioPlay":7,"onBackgroundAudioPause":7,"onBackgroundAudioStop":7,"getAvailableAudioSources":{"success":{"audioSources":{"auto":31,"buildInMic":31,"headsetMic":31,"mic":31,"camcorder":31,"voice_communication":31,"voice_recognition":31,"_p":31}},"_p":31},"startRecord":{"success":{"tempFilePath":7},"_p":7},"stopRecord":7,"setInnerAudioOption":{"object":{"mixWithOther":7,"obeyMuteSwitch":7,"speakerOn":7},"_p":7},"playVoice":{"object":{"filePath":7,"duration":7},"_p":7},"pauseVoice":7,"stopVoice":7,"chooseVideo":{"object":{"sourceType":{"album":31,"camera":31,"_p":31},"compressed":31,"maxDuration":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFilePath":31,"duration":31,"size":31,"height":31,"width":31},"_p":31},"saveVideoToPhotosAlbum":{"object":{"filePath":31},"_p":31},"getVideoInfo":{"object":{"src":39},"success":{"orientation":{"up":39,"down":39,"left":39,"right":39,"up-mirrored":39,"down-mirrored":39,"left-mirrored":39,"right-mirrored":39,"_p":39},"type":39,"duration":39,"size":39,"height":39,"width":39,"fps":39,"bitrate":39},"_p":39},"compressVideo":{"object":{"src":7,"quality":{"low":7,"medium":7,"high":7,"_p":7},"bitrate":7,"fps":7,"resolution":7},"success":{"tempFilePath":7,"size":7},"_p":7},"createMediaContainer":7,"connectSocket":{"object":{"url":63,"header":63,"protocols":63,"tcpNoDelay":63,"perMessageDeflate":63,"timeout":63,"forceCellularNetwork":63},"_p":63},"closeSocket":{"object":{"code":63,"reason":63},"_p":63},"sendSocketMessage":{"object":{"data":63},"_p":63},"onSocketOpen":{"callback":{"header":7},"_p":7},"onSocketClose":{"callback":{"code":7,"reason":7},"_p":7},"onSocketMessage":{"callback":{"data":7},"_p":7},"onSocketError":{"callback":{"errMsg":7},"_p":7},"getChannelsShareKey":{"success":{"sharerOpenId":7,"promoter":{"finderNickname":7,"promoterId":7,"promoterOpenId":7,"_p":7}},"_p":7},"addFileToFavorites":{"object":{"filePath":7,"fileName":7},"_p":7},"addVideoToFavorites":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"requestOrderPayment":7,"requestPayment":{"object":{"timeStamp":63,"nonceStr":63,"package":63,"signType":{"MD5":63,"HMAC-SHA256":63,"RSA":63,"_p":63},"paySign":63},"_p":63},"showRedPackage":{"object":{"url":23},"_p":23},"getSetting":{"object":{"withSubscriptions":63},"success":{"authSetting":63,"subscriptionsSetting":63,"miniprogramAuthSetting":63},"_p":63},"openSetting":{"object":{"withSubscriptions":23},"success":{"authSetting":23,"subscriptionsSetting":23},"_p":23},"authPrivateMessage":{"object":{"shareTicket":63},"success":{"errMsg":63,"valid":63,"encryptedData":63,"iv":63},"_p":63},"getShareInfo":{"object":{"shareTicket":63,"timeout":63},"success":{"errMsg":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"hideShareMenu":{"object":{"menus":63},"_p":63},"shareFileMessage":{"object":{"filePath":7,"fileName":7},"_p":7},"shareVideoMessage":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"showShareImageMenu":{"object":{"path":63},"_p":63},"showShareMenu":{"object":{"withShareTicket":63,"menus":63},"_p":63},"updateShareMenu":{"object":{"withShareTicket":63,"isUpdatableMessage":63,"activityId":63,"toDoActivityId":63,"templateInfo":63,"isPrivateMessage":63},"_p":63},"checkIsSoterEnrolledInDevice":{"object":{"checkAuthMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"success":{"isEnrolled":7,"errMsg":7},"_p":7},"checkIsSupportSoterAuthentication":{"success":{"supportMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"_p":7},"startSoterAuthentication":{"object":{"requestAuthModes":{"fingerPrint":7,"facial":7,"speech":7,"_p":7},"challenge":7,"authContent":7},"success":{"authMode":7,"resultJSON":7,"resultJSONSignature":7,"errCode":7,"errMsg":7},"_p":7},"shareToWeRun":{"object":{"recordList":7},"_p":7},"exitMiniProgram":63,"navigateBackMiniProgram":{"object":{"extraData":31},"_p":31},"navigateToMiniProgram":{"object":{"appId":63,"path":63,"extraData":63,"envVersion":{"develop":63,"trial":63,"release":63,"_p":63},"shortLink":63,"noRelaunchIfPathUnchanged":63},"_p":63},"openEmbeddedMiniProgram":{"object":{"appId":7,"path":7,"extraData":7,"envVersion":{"develop":7,"trial":7,"release":7,"_p":7},"shortLink":7,"verify":{"binding":7,"unionProduct":7,"_p":7},"noRelaunchIfPathUnchanged":7,"allowFullScreen":7},"_p":7},"onEmbeddedMiniProgramHeightChange":{"callback":{"height":7,"initialHeight":7},"_p":7},"offEmbeddedMiniProgramHeightChange":7,"setNavigationBarTitle":{"object":{"title":63},"_p":63},"showNavigationBarLoading":63,"hideNavigationBarLoading":63,"hideHomeButton":31,"setNavigationBarColor":{"object":{"frontColor":63,"backgroundColor":63,"animation":{"duration":63,"timingFunc":63,"_p":63}},"_p":63},"navigateBack":{"object":{"delta":31},"_p":31},"navigateTo":{"object":{"url":31,"events":31,"routeType":31},"success":{"eventChannel":31},"_p":31},"reLaunch":{"object":{"url":63},"_p":63},"redirectTo":{"object":{"url":63},"_p":63},"switchTab":{"object":{"url":63},"_p":63},"getUpdateManager":47,"updateWeChatApp":23,"createBLEPeripheralServer":{"success":{"server":7},"_p":7},"onBLEPeripheralConnectionStateChanged":{"callback":{"deviceId":7,"serverId":7,"connected":7},"_p":7},"offBLEPeripheralConnectionStateChanged":7,"createMediaAudioPlayer":7,"createWebAudioContext":63,"onAppHide":7,"offAppHide":7,"onAppShow":{"callback":{"path":7,"scene":7,"query":7,"shareTicket":7,"referrerInfo":{"appId":7,"extraData":7,"_p":7},"forwardMaterials":7,"chatType":{"1":7,"2":7,"3":7,"4":7,"_p":7},"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"offAppShow":7,"authorize":{"object":{"scope":63},"_p":63},"getPerformance":63,"getSkylineInfo":{"success":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getSkylineInfoSync":{"return":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"preloadSkylineView":7,"arrayBufferToBase64":63,"base64ToArrayBuffer":63,"authorizeForMiniProgram":{"object":{"scope":{"record":63,"writePhotosAlbum":63,"camera":63,"_p":63}},"_p":63},"createVideoDecoder":7,"requestPluginPayment":{"object":{"version":{"develop":7,"trial":7,"release":7,"_p":7},"fee":7,"paymentArgs":7,"currencyType":7},"_p":7},"createInterstitialAd":{"object":{"adUnitId":7},"_p":7},"createRewardedVideoAd":{"object":{"adUnitId":7,"multiton":7},"_p":7}}}');const j8=F8;var W8={ANDROID:1,IOS:2,DEVTOOLS:4,WIN:8,MAC:16,WMPF:32};function U8(){return ge?W8.ANDROID:ve?W8.IOS:fe?W8.DEVTOOLS:be?W8.WIN:_e?W8.WMPF:void 0}function V8(e,t,r){var n=U8();switch(e){case"comp":var[i,a]=r;"object"==typeof t&&(i?"object"==typeof(t=t[i])&&(t=a?t[a]:t._p):t=t._p);break;case"method":var[o,s,l]=r;if("object"==typeof t){var c=t._p;o?(t=t[o],s&&"object"==typeof t?"object"==typeof(t=t[s])&&(t=l?t[l]:t._p):t=c):t=c}break;case"class":var[u]=r;"object"==typeof t&&(t=u?t[u]:t._p)}return(t&n)===n}function q8(e,t,r){var n=$8[e];return!!n&&((!t||t in n)&&(!(r&&("object"!=typeof n[t]||!n[t][r]))&&!!V8("comp",n,[t,r])))}function z8(e,t,r,n){var i=j8.method[e];if(!i)return!1;if(t&&!i[t])return!1;if(r&&!i[t][r])return!1;if(n){var a=i[t][r];if("object"!=typeof a||!a[n])return!1}return!!V8("method",i,[t,r,n])}function G8(e,t,r){r&&(t=`${t}.${r}`);var n=j8.class[e]||j8.class[`wx.${e}`];return!!n&&(!(t&&!n[t])&&!!V8("class",n,[t]))}function H8(e=""){if("string"!=typeof e)throw new np("canIUse: schema should be a string");var t=e.split(".");return!!q8(...t)||(!!G8(...t)||!!z8(...t))}var K8=(e={})=>{setTimeout((()=>{qu("getBatteryInfo",e)}),0)},Q8=()=>{var e={level:100,isCharging:!0};if(qu("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},J8=!1,X8=Gt("accelerometerChange"),Y8=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=ap(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0});qu("enableAccelerometer",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),J8=!0},Z8=(e={})=>{qu("enableAccelerometer",ap(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),J8=!1},e9=X8.onMethod,t9=X8.offMethod,r9=e=>{J8||(qu("enableAccelerometer",{enable:!0}),J8=!0),e9(e)};Rt("onAccelerometerChange",((e={})=>{X8.emit(e)}));var n9=!1,i9=Gt("compassChange"),a9=(e={})=>{qu("enableCompass",ap(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),n9=!0},o9=(e={})=>{qu("enableCompass",ap(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),n9=!1},s9=i9.onMethod,l9=i9.offMethod,c9=e=>{n9||(qu("enableCompass",{enable:!0}),n9=!0),s9(e)};Rt("onCompassChange",((e={})=>{i9.emit(e)}));var u9=(e={})=>{yc("makePhoneCall",e,{phoneNumber:""})&&qu("makePhoneCall",e)},d9=(e={})=>{qu("makeVoIPCall",ap({allowBackCamera:!1,showOther:!1},e))},p9=(e={})=>{yc("scanCode",e,{})&&qu("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},h9=(e={})=>{yc("openQRCode",e,{})&&qu("openQRCode",e)},f9=Md("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),g9=Md("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),v9=(e={})=>{yc("scanItem",e,{})&&qu("scanItem",{...e,data:JSON.stringify({appId:H.accountInfo.appId,path:Fc.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?f9({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):bc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},m9=(e={})=>{yc("scanItem",e,{})&&qu("scanItem",{...e,data:JSON.stringify({appId:H.accountInfo.appId,path:Fc.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?g9({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):bc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},y9=(e={})=>{qu("getClipboardData",e,{beforeSuccess(){var e;if(!Be()){var t=(null===(e=H.accountInfo)||void 0===e?void 0:e.nickname)||"小程序";Yu("showToast",{icon:"",title:`“${t}”读取了你的剪切板内容`})}}})},_9=(e={})=>{yc("setClipboardData",e,{data:""})&&qu("setClipboardData",e,{beforeSuccess(){Yu("showToast",{icon:"",title:"内容已复制"})}})},b9=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void bc("startBeaconDiscovery",e,"invalid service uuid")}qu("startBeaconDiscovery",e)}else bc("startBeaconDiscovery",e,"uuid must be an Array");else bc("startBeaconDiscovery",e,"must have uuid")},w9=(e={})=>{qu("stopBeaconDiscovery",e)},S9=(e={})=>{qu("getBeacons",e)},C9=e=>{yc("onBeaconUpdate",e,St)&&Rt("onBeaconUpdated",E.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},I9=()=>{Rt("onBeaconUpdated",(()=>{}))},A9=e=>{yc("onBeaconServiceChange",e,St)&&Rt("onBeaconServiceChanged",E.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},k9=()=>{Rt("onBeaconServiceChanged",(()=>{}))},E9=(e={})=>{qu("captureScreen",e,{})},T9=Gt("userCaptureScreen"),P9=T9.onMethod,x9=T9.offMethod,O9=null;Yt("onUserCaptureScreen",(e=>{"function"==typeof O9&&O9(e),T9.emit(e)}));var R9=e=>{O9=E.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function")},M9=()=>{O9=null};H.onReady((()=>{var e,t,r,n=1092===(null===(e=H.appLaunchInfo)||void 0===e?void 0:e.scene),i=null===(t=H.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;Yt("onAppEnterForeground",(e=>{var t;n=1092===e.scene,i=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),Yt("onUserCaptureScreen",(()=>{var e,t,r=Fc.lastRoute||"",a=Fc.query||{};"object"==typeof a&&(a=Object.keys(a).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`)).join("&")),T.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,a].join(",")}),n&&(null===(e=i)||void 0===e?void 0:e.csSessionId)&&Pd({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=i)||void 0===t?void 0:t.csSessionId}})}))}));var D9=(e={})=>{qu("getScreenBrightness",e,{})},N9=(e={})=>{qu("setScreenBrightness",e,{})},L9=(e={})=>{ge&&(e.visualEffect=e.visualEffect||"none",qu("setVisualEffectOnCapture",e,{}))},B9=Gt("screenRecordingStateChanged"),$9=B9.onMethod,F9=B9.offMethod;Rt("onScreenRecordingStateChanged",((e={})=>{B9.emit(e)}));var j9=(e={})=>{qu("getScreenRecordingState",e,{})},W9=e=>{qu("chooseContact",e)},U9=(e={})=>{qu("chooseWeChatContact",e)},V9=function(e={}){Gu(Bh(this))("addPhoneContact",e,{})},q9=(e={})=>{sh("quicklyAddBrandContact",e,{})},z9=Pc("searchContacts",Hp()((function*(e={}){if(_c(e,{phoneNumber:""}),!/^.{8,}$/.test(e.phoneNumber))throw new Error("phoneNumber length is less than 8");return yield zu("searchContacts",e,{})}))),G9=z9,H9=Pc("sendSms",Hp()((function*(e={}){return yield zu("sendSms",e,{})}))),K9=function(e={}){Gu(Bh(this))("openBluetoothAdapter",e,{})},Q9=(e={})=>{J9({success(t){var r=t.devices.filter((e=>e.appid===H.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),Nu({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){bc("getMonitoredBluetoothDevices",e,t.errMsg)}})},J9=(e={})=>{e.type="getAll",qu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},X9=[];function Y9(){Q9({success(e){e.devices&&(X9=e.devices)}})}function Z9(e){return X9.some((t=>t.deviceId===e))}var eee=new jt;eee.on("_updateMonitorDevices",Y9);var tee=new jt,ree=()=>H&&Array.isArray(H.requiredBackgroundModes)&&H.requiredBackgroundModes.includes("bluetooth"),nee=(e={})=>{if(!ree())return bc("openBluetoothAdapterBackground",e,"requiredBackgroundModes in app.json invalid",10014);qu("openBluetoothAdapterBackground",e,{beforeSuccess(){"boolean"==typeof e.enableMonitoring&&tee.emit("_enableMonitoring",e.enableMonitoring),eee.emit("_updateMonitorDevices")}})},iee=(e={})=>{qu("closeBluetoothAdapter",e,{})},aee=(e={})=>{qu("getBluetoothAdapterState",e,{})},oee=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void bc("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void bc("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(ge&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}qu("startBluetoothDevicesDiscovery",e,{})},see=(e={})=>{qu("stopBluetoothDevicesDiscovery",e,{})},lee=(e={})=>{qu("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=WS(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=WS(t[e]))}))}return e}))}})},cee=(e={})=>{yc("getBLEDeviceRSSI",e,{deviceId:""})&&qu("getBLEDeviceRSSI",e)},uee=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void bc("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void bc("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(ge&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}qu("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=WS(e.advertisData)),e)))}})},dee=a.prototype.call.bind(Object.prototype.hasOwnProperty),pee=()=>{var e=Object.create(null);return{add(t){e[t]=t},remove(t){delete e[t]},has:t=>dee(e,t),clear(){e=Object.create(null)}}},hee=pee();EZ((e=>{e&&(e.connected?hee.add(e.deviceId):hee.remove(e.deviceId))})),OZ((e=>{e&&!e.available&&hee.clear()}));var fee=e=>hee.has(e),gee=new jt,vee=Object.create(null),mee=!1;function yee(e,t,r,n){Sc({name:e,args:t,errMsg:r,errno:n,success:!1}),mee=!1}function _ee(e){for(var t=Object.create(null),r=0;r<e.length;r++){if(t[e[r]])return t=null,!0;t[e[r]]=e[r]}return t=null,!1}function bee({devices:e},t){Pd({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:0,device_info_list:e.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,bluetooth_device_id:e.deviceId})))},success(e){var{max_user_count_to_device:r,max_device_count_to_app:n}=e.data;r&&n&&delete e.errMsg,t(e)},fail(e){t(e)}})}var wee=(e={})=>{if(yc("setBluetoothBackgroundMode",e,{enable:!1,devices:[{sn:"",snTicket:"",modelId:"",deviceId:""}]})){if(mee)return yee("setBluetoothBackgroundMode",e,"current interface is busy",El);mee=!0;var t=e.devices.some((e=>Object.keys(e).some((t=>""===e[t]))));if(t)return yee("setBluetoothBackgroundMode",e,"device property can't be empty",Tl);var r=e.devices.map((e=>e.sn)),n=e.devices.map((e=>e.deviceId));if(_ee(r)||_ee(n))return yee("setBluetoothBackgroundMode",e,"repeated sn or deviceId",Pl);if(e.devices.some((e=>Object.values(vee).some((t=>t.deviceId===e.deviceId&&t.sn!==e.sn)))))return yee("setBluetoothBackgroundMode",e,"deviceId already binded by another sn",xl);e.devices.forEach((e=>{vee[e.sn]=e})),bee(e,(t=>{if(t.errMsg)return yee("setBluetoothBackgroundMode",e,t.errMsg,Ol);qu("setBluetoothBackgroundMode",e,{beforeSuccess(){gee.emit("_setBluetoothBackgroundMode",e)},beforeAll(){mee=!1}})}))}},See=!1,Cee=!1,Iee=[];aO((()=>{See=!1})),aT((()=>{See=!0})),gee.on("_setBluetoothBackgroundMode",(e=>{Cee=e.enable,Iee=e.devices.map((e=>e.deviceId))}));var Aee=(e,t)=>{var r=See||Vp();!Z9(e)&&r&&Cee?t(!(fee(e)&&Iee.includes(e))):t(!1)},kee=e=>{var t=e.map(encodeURIComponent).join(",");T.reportKeyValue({key:"BLEDevices",value:t})},Eee=(e={})=>{yc("createBLEConnection",e,{deviceId:""})&&(ree()?Aee(e.deviceId,(t=>{t?bc("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(kee([e.deviceId]),qu("createBLEConnection",e,{}))})):(kee([e.deviceId]),qu("createBLEConnection",e,{})))},Tee=(e={})=>{yc("closeBLEConnection",e,{deviceId:""})&&qu("closeBLEConnection",e,{})},Pee=(e={})=>{yc("getBLEDeviceServices",e,{deviceId:""})&&qu("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},xee=(e={})=>{yc("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&qu("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:ge?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},Oee=(e={})=>{yc("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&qu("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ge?e.serviceId.toUpperCase():e.serviceId,characteristicId:ge?e.characteristicId.toUpperCase():e.characteristicId}),{})},Ree=(e={})=>{yc("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&qu("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ge?e.serviceId.toUpperCase():e.serviceId,characteristicId:ge?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},Mee=(e={})=>{yc("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&qu("readBLECharacteristicValue",Object.assign({},e,{serviceId:ge?e.serviceId.toUpperCase():e.serviceId,characteristicId:ge?e.characteristicId.toUpperCase():e.characteristicId}),{})},Dee=(e={})=>{yc("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||Nee(e.writeType)?qu("writeBLECharacteristicValue",Object.assign({},e,{value:jS(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:ge?e.characteristicId.toUpperCase():e.characteristicId}),{}):bc("writeBLECharacteristicValue",e,"invalid writeType"))},Nee=e=>["write","writeNoResponse"].includes(e),Lee=e=>{Rt("onBLEConnectionStateChanged",E.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},Bee=()=>{Rt("onBLEConnectionStateChanged",(()=>{}))},$ee=e=>{Rt("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=WS(t.value)),E.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},Fee=()=>{Rt("onBLECharacteristicValueChange",(()=>{}))},jee=e=>{Rt("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=WS(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=WS(t[e]))}))}catch(e){}return e})),E.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},Wee=()=>{Rt("onBluetoothDeviceFound",(()=>{}))},Uee,Vee=(e,t)=>Object.assign({},e,{[t]:jS(e[t])}),qee=e=>!(e>=0&&e<65536),zee=new jt,Gee=new WeakMap,Hee=new WeakMap,Kee=function(e,t){var r=`${Gee.get(this)}_on${e}`,n=r=>{E.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};Hee.get(this).set(t,n),zee.on(r,n)},Qee=function(e,t){var r=`${Gee.get(this)}_on${e}`,n=Hee.get(this);if(it(t)){var i=n.get(t);it(i)&&(n.delete(t),zee.off(r,i))}else Hee.set(this,new WeakMap),zee.removeAllListeners(r)},Jee=Gt("CharacteristicReadRequest"),Xee=Jee.onMethod,Yee=Jee.offMethod;Rt("onCharacteristicReadRequest",((e={})=>{zee.emit(`${e.serverId}_onCharacteristicReadRequest`,e),Jee.emit(e)}));var Zee=Gt("CharacteristicWriteRequest"),ete=Zee.onMethod,tte=Zee.offMethod;Rt("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=WS(e.value)),zee.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),Zee.emit(e)}));var rte=Gt("CharacteristicSubscribed"),nte=rte.onMethod,ite=rte.offMethod;Rt("onCharacteristicSubscribed",((e={})=>{zee.emit(`${e.serverId}_onCharacteristicSubscribed`,e),rte.emit(e)}));var ate=Gt("CharacteristicUnsubscribed"),ote=ate.onMethod,ste=ate.offMethod;Rt("onCharacteristicUnsubscribed",((e={})=>{zee.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),ate.emit(e)}));var lte=(Uee=class{constructor(e){this.serverId=e,this.services=[],Gee.set(this,e),Hee.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{Kee.call(this,e,t)},this[`off${e}`]=t=>{Qee.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});qu("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",Gee.delete(t)}})}addService(e={}){if(yc("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>Vee(e,"value"))),Object.assign({},e,{value:jS(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;qu("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if(yc("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});qu("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if(yc("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!yc("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(qee(t.beacon.major)||qee(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>Vee(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var i=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});qu("startBLEPeripheralAdvertising",i,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});qu("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:jS(e.value)});qu("writeBLEPeripheralCharacteristicValue",t,{})}},F()(Uee.prototype,"close",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"close"),Uee.prototype),F()(Uee.prototype,"addService",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"addService"),Uee.prototype),F()(Uee.prototype,"removeService",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"removeService"),Uee.prototype),F()(Uee.prototype,"startAdvertising",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"startAdvertising"),Uee.prototype),F()(Uee.prototype,"stopAdvertising",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"stopAdvertising"),Uee.prototype),F()(Uee.prototype,"writeCharacteristicValue",[At],Object.getOwnPropertyDescriptor(Uee.prototype,"writeCharacteristicValue"),Uee.prototype),Uee),cte=function(e={}){Gu(Bh(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new lte(t);delete e.serverId,e.server=r}})},ute=Gt("BLEPeripheralConnectionStateChanged"),dte=ute.onMethod,pte=ute.offMethod;Rt("onBLEPeripheralConnectionStateChanged",((e={})=>{ute.emit(e)}));var hte=(e={})=>{if(yc("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);gt(e.pin||null)&&(t.pin=jS(e.pin)),qu("makeBluetoothPair",t)}},fte=(e={})=>{yc("isBluetoothDevicePaired",e,{deviceId:""})&&qu("isBluetoothDevicePaired",e)},gte=(e={})=>{ge?yc("setBLEMTU",e,{deviceId:"",mtu:0})&&qu("setBLEMTU",e,{}):bc("setBLEMTU",e,"can only be invoked on android")},vte=Gt("onBLEMTUChange"),mte=23,yte={},_te=vte.onMethod,bte=vte.offMethod;ge&&Rt("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(yte).forEach((e=>{delete yte[e]})),yte[e.deviceId]={mtu:e.mtu}),vte.emit(e)}));var wte=(e={})=>{if(yc("getBLEMTU",e,{deviceId:""}))if(ge){var t=yte[e.deviceId];Nu({mtu:t?t.mtu:mte},"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void bc("getBLEMTU",e,"invalid write type");qu("getBLEMTU",e,{})}},Ste=!1,Cte=!1;function Ite(e,t={},r,n){Sc({name:e,args:t,errMsg:r,errno:n,success:!1}),Cte=!1}function Ate(e,t,r,n){Nu(e,t,r,n),Cte=!1}tee.on("_enableMonitoring",(e=>{Ste=e}));var kte=(e={})=>{var t=Object.assign({},e);if(yc("startMonitoringBluetoothDevice",t,{sn:"",snTicket:"",modelId:"",deviceId:""})){if(t.bluetoothDeviceId=t.deviceId,Cte)return Ite("startMonitoringBluetoothDevice",t,"current interface is busy",El);if(Cte=!0,t.envVersion)if(!["develop","trial","release"].includes(t.envVersion))return Ite("startMonitoringBluetoothDevice",t,"invalid envVersion",Rl);if(t.entryPackage&&"string"==typeof t.entryPackage){var r=H.subPackages||H.subpackages;if(!r)return Ite("startMonitoringBluetoothDevice",t,"invalid subpackages configuration",Bl);var n=r.some((e=>e.root.includes(t.entryPackage)));if(!n)return Ite("startMonitoringBluetoothDevice",t,"invalid entryPackage",$l);t.entryPackage.trim(),t.entryPackage.startsWith("/")||(t.entryPackage=`/${t.entryPackage}`),t.entryPackage.endsWith("/")||(t.entryPackage=`${t.entryPackage}/`)}return Ste?fee(t.bluetoothDeviceId)?void J9({success({devices:e}){var r=H.accountInfo.appId,n=e.filter((e=>e.appid===r));Tte(t,(i=>i.errMsg?Ite("startMonitoringBluetoothDevice",t,i.errMsg,Ol):e.length>i.max_user_count_to_device||n.length>i.max_device_count_to_app?Ite("startMonitoringBluetoothDevice",t,"devices are out of max count",Ll):e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&t.sn!==e.sn))||e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&r!==e.appid))?Ite("startMonitoringBluetoothDevice",t,"same ble device can only bound 1 sn and 1 appid",Nl):void Ete({data:{monitoredDeviceInfo:{appid:r,bluetoothDeviceId:t.bluetoothDeviceId,deviceId:t.sn,envVersion:t.envVersion,entryPackage:t.entryPackage}},success(e){Ate(e,"startMonitoringBluetoothDevice",t,{}),eee.emit("_updateMonitorDevices"),r5({network:"all",packages:[t.entryPackage||"__APP__"]})},fail(e){Ite("startMonitoringBluetoothDevice",t,e.errMsg)}})))},fail(e){Ite("startMonitoringBluetoothDevice",t,e.errMsg)}}):Ite("startMonitoringBluetoothDevice",t,"only connected devices can be monitored",Dl):Ite("startMonitoringBluetoothDevice",t,"enableMonitoring is not set",Ml)}},Ete=(e={})=>{e.type="set",qu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},Tte=({sn:e,snTicket:t,modelId:r,bluetoothDeviceId:n},i)=>{Pd({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:1,device_info_list:[{sn:e,sn_ticket:t,model_id:r,bluetooth_device_id:n}]},success(e){var{max_user_count_to_device:t,max_device_count_to_app:r}=e.data;t&&r&&(e.max_user_count_to_device=t,e.max_device_count_to_app=r,delete e.errMsg),i(e)},fail(e){i(e)}})},Pte=(e={})=>{yc("stopMonitoringBluetoothDevice",e,{sn:""})&&xte({data:{deviceId:e.sn,appid:H.accountInfo.appId},success(t){Nu(t,"stopMonitoringBluetoothDevice",e,{}),eee.emit("_updateMonitorDevices")},fail(t){bc("stopMonitoringBluetoothDevice",e,t.errMsg)}})},xte=(e={})=>{e.type="delete",qu("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},Ote=Gt("onMonitoredBluetoothDeviceFound"),Rte=[],Mte=!1,Dte=e=>{Ote.onMethod(e),Mte=!0,Rte.length&&(Rte.forEach((e=>{Ote.emit(e)})),Rte=[])},Nte=Ote.offMethod;Rt("onMonitoredBluetoothDeviceFound",(e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,Mte?Ote.emit(e):Rte.push(e)}));var Lte=(e={})=>{qu("startWifi",e,{})},Bte=(e={})=>{qu("stopWifi",e,{})},$te=(e={})=>{qu("getWifiList",e,{})};function Fte(e){return"string"==typeof e&&('"'===e[0]&&(e=e.substring(1)),'"'===e[e.length-1]&&(e=e.substring(0,e.length-1))),e}var jte=(e={})=>{"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo,ve&&(e.useCN=e.partialInfo)),qu("getConnectedWifi",e,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi=ve?{SSID:t.wifi.SSID,BSSID:t.wifi.BSSID}:{SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=Fte(t.wifi.SSID))}})},Wte=(e={})=>{if(yc("connectWifi",e,{SSID:"",password:""})){"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo),"boolean"==typeof e.manual&&(e.maunal=e.manual);var t=Object.assign({maunal:!1},e);qu("connectWifi",t,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi={SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=Fte(t.wifi.SSID))}})}},Ute=(e={})=>{ve?yc("presetWifiList",e,{wifiList:[]})&&qu("presetWifiList",e,{}):bc("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},Vte=(e={})=>{ve?yc("setWifiList",e,{wifiList:[]})&&qu("setWifiList",e,{}):bc("setWifiList",e,"setWifiList must be invoked on iOS platform")},qte=e=>{Rt("onGetWifiList",(t=>{t.wifiList&&t.wifiList.forEach((e=>{e.SSID=Fte(e.SSID)})),E.surroundThirdByTryCatch(e,"at onGetWifiList callback function")(t)}))},zte=()=>{Rt("onGetWifiList",(()=>{}))},Gte=e=>{Rt("onWifiConnected",(t=>{t.wifi&&(t.wifi.SSID=Fte(t.wifi.SSID)),E.surroundThirdByTryCatch(e,"at onWifiConnected callback function")(t)}))},Hte=()=>{Rt("onWifiConnected",(()=>{}))},Kte=null,Qte=["none","low","high"],Jte=e=>{"function"==typeof e&&(Kte=e)};function Xte(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof Kte)try{t=Kte(e)||{}}finally{Qte.find((e=>e===t.confidence))&&(r.confidence=t.confidence),qu("evaluateWifi",r,{})}}Rt("onEvaluateWifi",E.surroundThirdByTryCatch(Xte,"at onEvaluateWifi callback function"));var Yte=e=>{Rt("onWifiConnectedWithPartialInfo",(({wifi:t})=>{var r={wifi:{}};t&&(r.wifi.SSID=Fte(t.SSID)),E.surroundThirdByTryCatch(e,"at onWifiConnectedWithPartialInfo callback function")(r)}))},Zte=()=>{Rt("onWifiConnectedWithPartialInfo",(()=>{}))},ere=(e={})=>{qu("getHCEState",e,{})},tre=(e={})=>{qu("startHCE",e,{})},rre=(e={})=>{qu("stopHCE",e,{})},nre=(e={})=>{yc("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&qu("sendHCEMessage",Object.assign({},e,{data:jS(e.data)}),{})},ire=e=>{Rt("onHCEMessage",((t={})=>{"string"==typeof t.data&&(t.data=WS(t.data)),E.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)}))},are=()=>{Rt("onHCEMessage",(()=>{}))},ore=()=>{},sre=(e={},t)=>{var r=T.surroundThirdByTryCatch(e.success||ore,`at api ${t} success callback function`),n=T.surroundThirdByTryCatch(e.fail||ore,`at api ${t} fail callback function`),i=T.surroundThirdByTryCatch(e.complete||ore,`at api ${t} complete callback function`);return{...e,success:r,fail:n,complete:i}},lre=(e,t,r)=>{var n=void 0===r?{errMsg:t}:{errMsg:t,errCode:r};e.fail(n),e.complete(n)},cre=new WeakMap,ure=new Ft,dre="onNFCDiscovered",pre="onNdefMessageRead";Yt("onNFCDiscovered",(e=>{ure.emit(dre,e)})),Yt("onNdefMessageRead",(e=>{ure.emit(pre,e)}));var hre={ndef:"NDEF",nfcA:"NFC-A",nfcB:"NFC-B",isoDep:"ISO-DEP",nfcF:"NFC-F",nfcV:"NFC-V",mifareClassic:"MIFARE Classic",mifareUltralight:"MIFARE Ultralight"};function fre(e,t){if(!this[e]){var r=t();return Object.defineProperty(this,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),r}return this[e]}class gre{constructor(){this.tech=hre,Object.defineProperty(this,"_singleton",{enumerable:!1,configurable:!1,writable:!1})}startDiscovery(e={}){e=sre(e,"NFCAdapter#startDiscovery"),ge?qu("isSupportNFC",{success(){qu("startNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("startNFCDiscovery","startDiscovery"))}})},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isSupportNFC","startDiscovery"))}}):lre(e,"startDiscovery:fail current platform is not supported")}stopDiscovery(e={}){e=sre(e,"NFCAdapter#stopDiscovery"),ge?qu("stopNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("stopNFCDiscovery","stopDiscovery"))}}):lre(e,"stopDiscovery:fail current platform is not supported")}onDiscovered(e){if("function"==typeof e){var t=T.surroundThirdByTryCatch(e,"at NFCAdapter#onDiscovered callback function"),r=(e={})=>{if(e.messages&&nt(e.messages)){for(var r=[],n=e.messages||[],i=0;i<n.length;++i){for(var a={records:[]},o=n[i]||[],s=0;s<o.length;++s){var l=`payload-${i}-${s}`,c=e[l];delete e[l],o[s].payload=c,o[s].id=WS(o[s].id),o[s].type=WS(o[s].type),a.records.push(o[s])}r.push(a)}e.messages=r}e.id&&"string"==typeof e.id&&(e.id=WS(e.id)),t(e)};ure.on(dre,r),cre.set(e,r)}}offDiscovered(e){if("function"==typeof e){var t=cre.get(e);t&&ure.off(dre,t)}}getNdef(){return fre.call(this,"_ndef",(()=>new mre))}getNfcA(){return fre.call(this,"_nfcA",(()=>new _re))}getNfcB(){return fre.call(this,"_nfcB",(()=>new bre))}getIsoDep(){return fre.call(this,"_isoDep",(()=>new wre))}getNfcF(){return fre.call(this,"_nfcF",(()=>new Sre))}getNfcV(){return fre.call(this,"_nfcV",(()=>new Cre))}getMifareClassic(){return fre.call(this,"_mirafeClassic",(()=>new Ire))}getMifareUltralight(){return fre.call(this,"_mifareUltralight",(()=>new Are))}}class vre{constructor(e){this.techType=e}connect(e={}){e=sre(e,`${this.techType}#connect`),ge?qu("NFCConnect",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCConnect","connect"))}}):lre(e,"connect:fail current platform is not supported")}close(e={}){e=sre(e,`${this.techType}#close`),ge?qu("NFCClose",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCClose","close"))}}):lre(e,"close:fail current platform is not supported")}setTimeout(e={}){e=sre(e,`${this.techType}#setTimeout`),ge?e.timeout?qu("NFCSetTimeout",{tech:this.techType,timeout:parseInt(e.timeout,10),success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCSetTimeout","setTimeout"))}}):lre(e,"timeout should be specified"):lre(e,"setTimeout:fail current platform is not supported")}isConnected(e){e=sre(e,`${this.techType}#isConnected`),ge?qu("isNFCTechConnected",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isNFCTechConnected","isConnected"))}}):lre(e,"isConnected:fail current platform is not supported")}}class mre extends vre{constructor(){super("NDEF")}onNdefMessage(e){if("function"==typeof e){var t=T.surroundThirdByTryCatch(e,"at Ndef#onReadNdefMessage callback function"),r=e=>{for(var r=e.messages||[],n=0;n<r.length;++n)for(var i=r[n]||[],a=0;a<i.length;++a){var o=`payload-${n}-${a}`,s=e[o];i[a].payload=s,delete e[o]}t(e)};ure.on(pre,r),cre.set(e,r)}}offNdefMessage(e){if("function"==typeof e){var t=cre.get(e);t&&ure.off(pre,t)}}writeNdefMessage(e={}){if(e=sre(e,"Ndef#writeNdefMessage"),ge){if(e.uris)return nt(e.uris)?void qu("writeNdefMessage",{uris:e.uris,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void lre(e,"writeNdefMessage: urils should be type of Array");if(e.texts)return nt(e.texts)?void qu("writeNdefMessage",{texts:e.texts,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void lre(e,"writeNdefMessage: texts should be type of Array");if(e.records){if(!nt(e.records))return void lre(e,"writeNdefMessage: records should be type of Array");for(var t={},r=0;r<e.records.length;++r){var n=e.records[r];if(!gt(n.id))return void lre(e,"writeNdefMessage: record.id should be type of ArrayBuffer");if(!gt(n.type))return void lre(e,"writeNdefMessage: record.type should be type of ArrayBuffer");n.id=jS(n.id),n.type=jS(n.type),t[`payload-${r}`]=n.payload,delete n.payload}qu("writeNdefMessage",{records:e.records,...t,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}})}else lre(e,"writeNdefMessage: expect parameter contains one of uris, texts, records")}else lre(e,"writeNdefMessage:fail current platform is not supported")}}class yre extends vre{getMaxTransceiveLength(e={}){e=sre(e,`${this.techType}#getMaxTransceiveLength`),ge?qu("NFCGetMaxTransceiveLength",{tech:this.techType,success:e.success,fail:e.fail,complete:e.complete},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetMaxTransceiveLength","getMaxTransceiveLength"))}}):lre(e,"getMaxTransceiveLength:fail current platform is not supported")}transceive(e={}){e=sre(e,`${this.techType}#transceive`),ge?e.data?gt(e.data)?qu("NFCTransceive",{tech:this.techType,data:e.data,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCTransceive","transceive"))}}):lre(e,"transceive: data should be type of ArrayBuffer"):lre(e,"transceive: data field is required"):lre(e,"transceive:fail current platform is not supported")}}class _re extends yre{constructor(){super("NFC-A")}getAtqa(e){e=sre(e,`${this.techType}#getAtqa`),ge?qu("NFCGetAtqa",{success(t){t&&t.atqa?e.success({errMsg:t.errMsg,atqa:WS(t.atqa)}):e.success({errMsg:t.errMsg,atqa:null})},fail(t){e.fail(t)},complete(t){t&&t.atqa?e.complete({errMsg:t.errMsg,atqa:WS(t.atqa)}):e.complete({errMsg:t.errMsg,atqa:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetAtqa","getAtqa"))}}):lre(e,"getAtqa:fail current platform is not supported")}getSak(e){e=sre(e,`${this.techType}#getSak`),ge?qu("NFCGetSak",e,{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetSak","getSak"))}}):lre(e,"getSak:fail current platform is not supported")}}class bre extends yre{constructor(){super("NFC-B")}setTimeout(e={}){e=sre(e,`${this.techType}#setTimeout`),lre(e,"setTimeout: function not support",13024)}}class wre extends yre{constructor(){super("ISO-DEP")}getHistoricalBytes(e){e=sre(e,`${this.techType}#getHistoricalBytes`),ge?qu("NFCGetHistoricalBytes",{success(t){t&&t.histBytes?e.success({errMsg:t.errMsg,histBytes:WS(t.histBytes)}):e.success({errMsg:t.errMsg,histBytes:null})},fail(t){e.fail(t)},complete(t){t&&t.histBytes?e.complete({errMsg:t.errMsg,histBytes:WS(t.histBytes)}):e.complete({errMsg:t.errMsg,histBytes:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetHistoricalBytes","getHistoricalBytes"))}}):lre(e,"getHistoricalBytes:fail current platform is not supported")}}class Sre extends yre{constructor(){super("NFC-F")}}class Cre extends yre{constructor(){super("NFC-V")}setTimeout(e={}){e=sre(e,`${this.techType}#setTimeout`),lre(e,"setTimeout: function not support",13024)}}class Ire extends yre{constructor(){super("MIFARE Classic")}}class Are extends yre{constructor(){super("MIFARE Ultralight")}}var kre=null;function Ere(){return kre||(kre=new gre)}var Tre=Gt("local-service-found"),Pre=Gt("local-service-lost"),xre=Gt("local-service-discovery"),Ore=Gt("local-service-resolve-fail"),Rre=(e={})=>{qu("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},Mre=(e={})=>{qu("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};Rt("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=WS(r)})),delete t.event,e.event){case"found":Tre.emit(t);break;case"lost":Pre.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,xre.emit(t);break;case"resolveFail":delete t.ip,delete t.port,Ore.emit(t)}}));var Dre=Tre.onMethod,Nre=Tre.offMethod,Lre=Pre.onMethod,Bre=Pre.offMethod,$re=xre.onMethod,Fre=xre.offMethod,jre=Ore.onMethod,Wre=Ore.offMethod,Ure=Gt("gyroscopeChange"),Vre=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;qu("enableGyroscope",ap(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},qre=(e={})=>{qu("enableGyroscope",ap(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},zre=Ure.onMethod,Gre=Ure.offMethod;Rt("onGyroscopeChange",(e=>{Ure.emit(e)}));var Hre=Gt("deviceMotionChange"),Kre=(e={})=>{var t={fast:0,game:20,ui:60,normal:200},r=t[e.interval]||t.normal;qu("enableDeviceMotionChangeListening",ap(e,{interval:r,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},Qre=(e={})=>{qu("enableDeviceMotionChangeListening",ap(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},Jre=Hre.onMethod,Xre=Hre.offMethod;Rt("onDeviceMotionChange",(e=>{Hre.emit(e)}));var Yre=e=>{qu("checkIsOpenAccessibility",e)},Zre=e=>{var t=new Date(1e3*e);return t.setHours(0,0,0),t.valueOf()/1e3},ene=e=>{var t=new Date(1e3*e);return t.setSeconds(0),t.valueOf()/1e3},tne=function(e={}){if(yc("addPhoneCalendar",e,{})){var t=e.allDay?Zre(e.startTime):ene(e.startTime),r=e.endTime?e.allDay?Zre(e.endTime):ene(e.endTime):void 0;Gu(Bh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,...e,startTime:t,endTime:r,repeat:!1})}},rne=function(e={}){if(yc("addPhoneCalendar",e,{})){var t=e.allDay?Zre(e.startTime):ene(e.startTime),r=e.endTime?e.allDay?Zre(e.endTime):ene(e.endTime):void 0;Gu(Bh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,repeatInterval:"month",...e,startTime:t,endTime:r,repeat:!0})}},nne=mq(),ine={};function ane(e){var t=nne.next();ine[t]=e,Or("getWebviewDebugInfo",{callbackId:t},[Fc.currentWebviewId])}Br("getWebviewDebugInfoRes",(({callbackId:e,info:t},r)=>{var n=ine[e];ine[e]=null,"function"==typeof n.success&&n.success(t)}));var one=e=>{ve||ge?qu("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):qu("getLocalIPAddress",e)},sne=Md("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),lne=e=>{var t=jZ(e.keyList);t?bc("removeUserCloudStorage",e,t):sne(e)},cne=Md("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return Ge(H.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=H.disableSetUserStorageFromMiniProgram),t})),une=(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?bc("setUserCloudStorage",e,"invalid KVData item"):cne(e):bc("setUserCloudStorage",e,"KVDataList.length must greater than 0"):bc("setUserCloudStorage",e,"KVDataList must be an Array")},dne="groupNameFetched",pne=!1;Br(dne,(()=>{pne||(pne=!0,gP({icon:"none",title:"群名称仅你可见，小程序无法获取。"}))}));var hne=(e={})=>{invokeMethod("navigateBackApplication",e,{})},fne,gne={};H.onReady((()=>{fne=H.appLaunchInfo.scene,Object.assign(gne,H.appLaunchInfo),Yt("onAppEnterForeground",(e=>{Object.assign(gne,e)}))}));var vne=(t={})=>{var{launchAppid:r}=t;r&&"string"==typeof r?invokeOperateWXData({apiName:"wxaapi_verify_jump",reqData:{appid:r},success:n=>{if("ok"===n.data.res){invokeMethod("launchApplication",Object.assign(t,{appId:r,operateDirectly:!0}));var i=[fne,encodeURIComponent(gne.scene_note||gne.sceneNote),e&&e.getCurrentRoutePath(),t.alertType,t.parameter,WXConfig.appType+1e3,t.appId].map(encodeURIComponent).join(",");T.reportKeyValue({key:"LaunchApplicationInfo",value:i,force:!0})}else beforeInvokeFail("launchApplication",t,"no permission")},fail:()=>{beforeInvokeFail("launchApplication",t,"no permission")}}):(delete t.operateDirectly,invokeMethod("launchApplication",t,{}))},mne=(e={})=>{delete e.operateDirectly,qu("launchApplicationForNative",e,{})},yne=(e={})=>{bf("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,ve?bf("launchApplicationDirectly")?qu("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>bc("launchApplicationDirectly",e,"no permission"))):qu("launchApplicationDirectly",e,{})},_ne=(e={})=>{qu("openDeliveryList",e,{})},bne=!1,wne=[],Sne=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),bne?wne.push(e):(bne=!0,qu("sendDataToH5",e,{afterAll(){if(bne=!1,wne.length){var e=wne.shift();Sne(e)}}}))},Cne=!1,Ine=[];function Ane(e){for(var t=0;t<Ine.length;t++)Ine[t](e)}var kne=e=>{if("function"==typeof e){Ine.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),Cne||(Rt("onH5Data",Ane),Cne=!0)}},Ene=(e,t)=>(r={})=>{t||(t=e),bf(e)?!0!==Fc.openUrlExtBrowserLock&&(r.url=r.url||"",Fc.openUrlExtBrowserLock=!0,qu(t,r,{afterAll(){Fc.openUrlExtBrowserLock=!1}})):bc(e,r,"no permission")},Tne=Ene("openUrlByExtBrowser"),Pne=Ene("openUrlByExtBrowser2","openUrlByExtBrowser"),xne=()=>{var e={};return qu("getPublicLibVersion",{complete:t=>{t.version?e=t.version:delete(e=t).errMsg}}),e},One=(e={})=>{yc("setEnableDebug",e,{enableDebug:!0})&&(qu("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},Rne={debug(){},log(){},info(){},warn(){},error(){}},Mne=!1;Mne||H.onReady((()=>{}));var Dne="undefined"!=typeof __initHelper&&1===__initHelper,Nne=function(){try{return Ff.apply(this,arguments)}catch(e){return Rne.error("mkdirSync fail",e,arguments),{errMsg:e.message||""}}},Lne=function(){try{return zf.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return Rne.error("accessSync fail",e,arguments),{errMsg:e.message||""}}},Bne=function(){try{return Yf.apply(this,arguments)}catch(e){return Rne.error("renameSync fail",e,arguments),{errMsg:e.message||""}}},$ne=function(){try{return{stat:ef.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return Rne.error("statSync fail",e,arguments),{errMsg:e.message||""}}},Fne=function(){try{return{data:Nf.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return Rne.error("readFileSync fail",e,arguments),{errMsg:e.message||""}}},jne=function(){try{return Hf.apply(this,arguments),Rne.info("unlinkSync success",arguments),{errMsg:"unlinkSync:ok"}}catch(e){return Rne.error("unlinkSync fail",e,arguments),{errMsg:e.message||""}}},Wne=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},Une=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},Vne=!1,qne,zne,Gne=1048576,Hne=4,Kne=102400,Qne=2e3,Jne=1,Xne=[],Yne,Zne="log",eie={lastLogNum:1,lastLogSize:0},tie=!1,rie=!1,nie=!1,iie={},aie=e=>zne+Zne+e,oie=Ip((e=>Lne(e).errMsg.indexOf("accessSync:ok")>=0)),sie=Ip((e=>{var t=Lne(e).errMsg;return t.indexOf("fail")>=0&&(t.indexOf("access denied")>=0||t.indexOf("no permission")>=0)})),lie=Ip((e=>{if(Rne.info(`initLog[1][isRemoteDebugMode=${Dne}, wxConfigReady=${Vne}, isLogInit=${tie}]`),Dne||!Vne||tie)e&&e();else{if(Rne.info("initLog[2]"),qne=H&&"devtools"===H.platform,zne=(H&&H.env.USER_DATA_PATH||(qne?"http://usr":"wxfile://usr"))+"/miniprogramLog/",!oie(zne))return Rne.info(`initLog[3][mkdirSync][usrLogDir=${zne}]`),Nne(zne),tie=!0,nie=sie(zne),e&&e(),nie?void Rne.error("hasNoPermission[1]"):void 0;if(nie=sie(zne))return tie=!0,void Rne.error("hasNoPermission[2]");for(var t=1;t<=Hne+1&&oie(aie(t));)iie[t]=!0,eie.lastLogNum=t,t++;Rne.info(`[before statSync] path=${aie(eie.lastLogNum)}`);var r=$ne(aie(eie.lastLogNum));r.stat&&(eie.lastLogSize=r.stat.size),Rne.info("[before isLogInit changeinto true"),tie=!0,e&&e()}})),cie=Ip((()=>{lie((()=>{if(Rne.warn(`[after initLog] isLogInit=${tie}; isRemoteDebugMode=${Dne}; hasNoPermission=${nie}; CACHE_LOG.length=${Xne.length}; needDeleteOldLog=${rie}`),tie&&!Dne&&!nie&&Xne.length&&!rie){for(var e=[],t=0,r=0;r<Xne.length;r++){var n=Une(Xne[r]);if(Rne.warn(`[logItemSize=${n}][currentSize=${t}][MAX_LOG_SIZE=${Kne}]`),n>Kne)console.warn("[wx.log warn] each log size exceed 100KB will be discard."),Rne.warn(`submitLog[3],logItemSize=${n},MAX_LOG_SIZE=${Kne}`);else{if(t+n>Kne)break;t+=n,e.push(Xne[r])}}if(Rne.warn(`[reportLogList.length=${e.length}]`),e.length){if(eie.lastLogSize+t>Gne){if(eie.lastLogNum+1>=Hne+2)return rie=!0,Rne.warn("submitLog[4][deleteOldLog]","logConfig=",eie,",MAX_FILE_COUNT=",Hne),void uie();eie.lastLogNum++,eie.lastLogSize=0}r===Xne.length?Xne=[]:Xne.splice(0,r),iie[eie.lastLogNum]||oie(aie(eie.lastLogNum))?(Rne.info("submitLog[7],before appendFile, filePath=",aie(eie.lastLogNum)),Zf({filePath:aie(eie.lastLogNum),data:(eie.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){Rne.error("submitLog[7.1], appendFile fail",e)},success(e){Rne.info("submitLog[7.2], appendFile success",e)}})):(Rne.info("submitLog[5], before writeFile, filePath=",aie(eie.lastLogNum)),Lf({filePath:aie(eie.lastLogNum),data:(eie.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",success(e){Rne.info("submitLog[5.1], writeFile success",e)},fail(e){console.log("log writeFile err "+e.errMsg),Rne.error("submitLog[6],writeFile fail",e)}})),eie.lastLogSize+=t}}}))}));function uie(){setTimeout((()=>{Rne.info(`deleteOldLog[1],unlinkSync,logPath(1)=${aie(1)}`),jne(aie(1));for(var e=2;e<=Hne+1;e++)Rne.info(`deleteOldLog[2],renameSync,logPath(1)=${aie(1)},logPath(i - 1)=${aie(e-1)}`),Bne(aie(e),aie(e-1));eie.lastLogNum=Hne+1,iie[eie.lastLogNum]=!1,eie.lastLogSize=0,rie=!1}),50)}function die(){Yne&&clearTimeout(Yne),Yne=setTimeout((()=>{cie(),Yne=null,die()}),Qne)}var pie={logApiInvoke:!0};function hie(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){pie.modules&&pie.modules.includes(e)&&pie[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{pie[e]=function(){if(!Dne&&!nie&&Vne&&arguments.length&&eie){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,Wne(new Date),`[${e}]`),Xne.push(t.join(" "))}}}));var fie=!1;function gie(e={}){return fie||(Ip(die)(),fie=!0),"number"==typeof e.level&&(pie.level=e.level),Array.isArray(e.modules)&&(pie.modules=e.modules),pie.level===Jne?pie.logApiInvoke=!1:0===pie.level&&(pie.logApiInvoke=!0),pie}pie._getUserLog=function(){for(var e={},t=1;t<=Hne+1;t++)e["log"+t]=$ne(aie(t));return e},pie.privateSystemLog=(...e)=>{Vne&&Be()&&void 0!==T&&e&&e.length&&v.info(e)},H.onReady((()=>{Dne||(Vne=!0)})),aT((()=>{Dne||cie()}));var vie=Ip(Sne),mie=Ip(kne);function yie(e={}){if(Rne.info(`uploadUserLog[1],logConfig.lastLogNum=${eie.lastLogNum}`,",args=",e),!e.index||e.index>eie.lastLogNum)return Rne.info("uploadUserLog[2]"),void(e.complete&&e.complete());var t="ios"===H.platform?1:5,r=e.readFileResp||Fne(aie(e.index),"utf8");if(Rne.info(`uploadUserLog[3],readFileSync=${r.errMsg},index=${e.index},EACH_SLICE=${t}`),r.errMsg.indexOf("readFileSync:ok")>=0&&r.data){var n=r.data.length,i=Math.max(parseInt(n/t,10),1),a=(e.slice-1)*i;Rne.info("uploadUserLog[4]","start=",a,"eachLen=",i,"len=",n,r.data.length);var o=r.data.substr(a,i);if(Rne.info("uploadUserLog[5],content.length=",o&&o.length,",logConfig=",eie),!o)return Rne.info("uploadUserLog[6],uploadUserLogSliceComplete"),vie({webviewId:e.webviewId,data:{total:eie.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:v_()}}),e.index++,e.slice=1,e.readFileResp=null,void yie(e);Rne.info("uploadUserLog[7], uploadUserLogContent,content.length=",o&&o.length,",logConfig=",eie),vie({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:o,index:e.index,slice:e.slice||1,total:eie.lastLogNum,info:1===e.index&&1===e.slice?v_():null},success(){Rne.info(`uploadUserLog[8] uploadUserLogContent suc, EACH_SLICE=${t}, args.slice=${e.slice}, logConfig.lastLogNum=${eie.lastLogNum}`),e.slice===t?(vie({webviewId:e.webviewId,data:{total:eie.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:v_()}}),e.index++,e.slice=1,e.readFileResp=null,yie(e)):(e.slice++,e.readFileResp=r,Rne.info("uploadUserLog[9],args=",e),yie(e))},fail(t){Rne.error(`uploadUserLog[10] fail,failResp.errMsg=${t.errMsg},args.retry=${e.retry}`),e.retry?vie({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:v_()}}):(e.retry=!0,yie(e))}})}else Rne.error(`uploadUserLog[11],readFileSync fail=${r.errMsg},index=${e.index}`),vie({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:v_()}})}Dne||mie((e=>{Rne.info("onH5Data",e,eie),e.data&&"uploadUserLog"===e.data.type&&yie({index:1,slice:1,webviewId:e.webviewId})}));var _ie="GetUploadSetting",bie,wie={};function Sie(e){return e?(wie[e]||(wie[e]=xd({sdkApiName:_ie,apiName:"GetUploadSetting",reqData:{},pluginId:e})),wie[e]):bie||(bie=xd({sdkApiName:_ie,apiName:"GetUploadSetting",reqData:{}}))}var Cie=mq(),Iie=function(){return Cie.next()},Aie=function(){try{return Ff.apply(this,arguments)}catch(e){return{errMsg:e.message}}},kie=function(){try{return{data:Nf.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}},Eie=Ip((e=>Tie(e).errMsg.indexOf("accessSync:ok")>=0)),Tie=function(){try{return zf.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},Pie=function(e){return xd(e)},xie=1e3,Oie={DEBUG:1,INFO:2,WARN:4,ERROR:8},Rie={ANDROID:1,IOS:2},Mie={WEAPP:1},Die="",Nie=!1;function Lie(e){Nie?e&&e():(Nie=!0,H.onReady((()=>{Die=H.accountInfo.appId,e&&e()})))}var Bie=function(e,t){if("string"!=typeof e)return 0;var r,n,i,a=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return a};function $ie(){if(void 0!==sr){var e=sr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if(Oe())return"index"}var Fie=3e5,jie;function Wie(e){if(Uie(),e="number"!=typeof e?Fie:e,(e=Math.max(e,5e3))>0){var t=()=>{Uie(),jie=setTimeout((()=>{rae(),t()}),e)};t()}}function Uie(){jie&&(jie=clearTimeout(jie))}var Vie=!1,qie=6e4,zie=2048;class Gie{constructor(e={}){this.systemInfo=J_(),this.opt={},this.opt.level=Oie.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Mie.WEAPP,this._logInfo.platform="ios"===this.systemInfo.platform?Rie.IOS:Rie.ANDROID,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{fe||this._getLogConfig()}),300),Lie((()=>{Oe()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,YO((e=>{this.onRealtimeDataResponse(e)})))}cyclelyUploadInGame(){setTimeout((()=>{rae(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=lv();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(Vie=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{Vie=!1}),qie))),e.idList&&e.idList.length){var r=!1,n={},i=!1,a={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,T.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${Die}`}),r=!0,delete this.historyLog[o],n[o]=s);var l=this.retryLogList[o];l&&(l.id,l.url,a[o]=l,delete this.retryLogList[o],i=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),i&&this.saveToFile(a)}}}_getLogConfig(e,t){return Sie(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=Oie.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var i=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],i.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),Oe()||Wie(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||$ie()))return!0;t.forEach((e=>{r+=Bie(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,i,a,o;"object"==typeof e?(n=e.id,i=e.name,a=e.level,o=e.time):(n="__DEFAULT__",i="__DEFAULT__",a=e,o=+new Date);var s=Oie[a.toUpperCase()]||0;if(!(s<this.opt.level)){var l,c;if(t=this.pluginId||t||$ie(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);c=this._checkSize(t,[u,p]),l=[n,o,i,u,p]}else l=r.map(this._getLogValue),c=this._checkSize(t,l),this.structSizeList[t]+=6+(l.length?3*l.length-1:0);if(!0===c)this._addLogMsg(l,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,Oie.WARN)}this.exceedSizeList[t]+=c}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||$ie();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var i=this.msgList[n][0];if("kv"===this.mode){var[a,o,s,l,c]=e,u=[r,a,o,s,l,c];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[i?p-i[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[n].push(h)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var a=XO(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:Die}));return this.historyLog[a]=e,T.reportKeyValue({key:"UserLog",value:`,${r+n},${n}${e.timestamp},${e.url},${e.filter1},${Die}`}),void(t&&t(!0))}return Pie({sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}}).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||$ie())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||$ie())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<xie)}upload(e){var t=e||$ie();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(Nie){if(!Vie){this.msgList[e]=[];var n=this.levelList[e]||Oie.DEBUG;this.levelList[e]=0;var i=this.sizeList[e];this.sizeList[e]=0;var a=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=a+i;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var l={},c={};r.forEach((e=>{var[t,r,n,i,a,o]=e,s=t||Oie.DEBUG;c[r]=c[r]||[n,{},s],c[r][1][a]=o,c[r][2]=Math.max(c[r][2],s),l[i]=l[i]||[],-1===l[i].indexOf(c[r])&&l[i].push(c[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(c[r]){var i=c[r][1];i.__REALTIME_LOG_TAG__=i.__REALTIME_LOG_TAG__||[],-1===i.__REALTIME_LOG_TAG__.indexOf(n)&&i.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(l),o.filter1=[].concat(Object.keys(l),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";Bie(o.msg),o.appid=Die,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),xie))}))}}else Lie((()=>{Die&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),Bie(t)>zie)return!1;if(e=this.pluginId||e||$ie(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||$ie(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var i=this.filterList[e]||"";this.setFilterMsg(e,i+(i?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(H&&H.env.USER_DATA_PATH||(fe?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return Eie(e)||Aie(e),t}getFileContent(e){var t=kie(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(Eie(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}Lf({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(Eie(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),Lf({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var Hie=null,Kie={},Qie=e=>e?Kie[e]:Hie,Jie=(e,t)=>{e?Kie[e]=t:Hie=t},Xie=()=>{var e=[];return Hie&&e.push(Hie),Object.keys(Kie).forEach((t=>e.push(Kie[t]))),e},Yie=(e={},t,r)=>{var n="",i={stat(){if(!fe){var e=Qie(t);if(e)return e.stat(n)}},getCurrentState(){if(fe)return{};var e=Qie(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!fe){var r=Qie(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!fe){var r=Qie(t);if(r)return r.addFilterMsg(n,e)}},in(e){Oe()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=Iie(),i=+new Date;return{debug(a,o){if(!fe){var s=Qie(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"debug"},n,a,o)}},info(a,o){if(!fe){var s=Qie(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"info"},n,a,o)}},warn(a,o){if(!fe){var s=Qie(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"warn"},n,a,o)}},error(a,o){if(!fe){var s=Qie(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"error"},n,a,o)}},setFilterMsg(i){if(!fe){var a=Qie(t);if(a)return a.setFilterMsg(n,i,{name:e,id:r})}},addFilterMsg(i){if(!fe){var a=Qie(t);if(a)return a.addFilterMsg(n,i,{name:e,id:r})}}}}};return i=t?Object.assign(i,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(i,{config(e){if(!fe&&"object"==typeof e){var r=Qie(t);r&&r._config(e)}},debug(...e){if(!fe){var r=Qie(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!fe){var r=Qie(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!fe){var r=Qie(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!fe){var r=Qie(t);if(r)return r._baseLog("error",n,...e)}}}),Qie(t)||Jie(t,new Gie({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),i},Zie=e=>{e=e||{};var t="develop"===H.envVersion||"trial"===H.envVersion;return e.isClientReport=!t,Yie(e)},eae=(e,t,r)=>{r=r||{};var n="develop"===H.envVersion||"trial"===H.envVersion;return r.isClientReport=!n,Yie(r,e,t)},tae=e=>{e=e||{};var t="develop"===WXConfig.envVersion||"trial"===WXConfig.envVersion;return e.isClientReport=!t,Yie(e)},rae=e=>{if(!fe){var t=Xie();t.length&&t.forEach((t=>{try{t.upload(e)}catch(e){}}))}},nae;aT((e=>{fe||e&&8===e.targetAction||Nie&&(nae&&clearTimeout(nae),nae=setTimeout((()=>{void 0!==sr?sr.getCurrentPagesByDomain("").forEach((e=>{rae(e.route)})):Oe()&&rae();nae=null}),10))}));var iae=(e={})=>{H.onReady((()=>{if(!$e()&&!Be()){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,oh("appServiceEnterContact",e,[Fc.currentWebviewId],(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact")),0===t.errMsg.indexOf("enterContact:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},aae=function(e){var t=Bh(this);Gu(t)("chooseShareGroup",e)},oae=10,sae=e=>{qu("updatePerfData",e)},lae=e=>{qu("traceEvent",e)},cae,uae=Gt("memoryWarning"),dae=uae.onMethod,pae=uae.offMethod,hae=(e,t=!1)=>{t?cae=e:dae(e)},fae=(e,t=!1)=>{t?cae=null:pae(e)};Rt("onMemoryWarningReceive",((e={})=>{ge&&e.level<oae||(uae.getGlobalListeners().length?uae.emitGlobal(e):"function"==typeof cae&&cae(e))}));var gae=1,vae=60,mae=300,yae=1e3,_ae=864e5,bae=null,wae=null,Sae=null,Cae=new Promise((e=>{Sae=e}));H.onReady((()=>{wae=H,bae=J_(),Sae()}));var Iae=e=>{wae?e():Cae.then(e)},Aae={enabled:!0,sampleRate:gae,batchTime:mae,legacyReportEnabled:!0,bufferCapacity:yae,userUin:0},kae,Eae=!1;function Tae(){return Eae=!0,Sie().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(Aae.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(Aae.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(Aae.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(Aae.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(Aae.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(Aae.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),Aae.userUin=t.UserUin,Aae.batchTime!==mae&&Bae()}})).catch((e=>{}))}function Pae(e){return e}function xae(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return Pae(e)%r===parseInt(Date.now()/_ae,10)%r}function Oae(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}function Rae(){var e=void 0!==sr?sr.getCurrentPagesByDomain(""):[],t=bae&&bae.brand,r=bae&&bae.model,n=bae&&bae.platform,i=bae&&bae.system,a=wae&&wae.appLaunchInfo&&wae.appLaunchInfo.scene,o=wae&&H.envVersion,s=bae&&bae.version,l=bae&&bae.SDKVersion,c=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:i,path:c=Oae(c),scene:a,brand:t,model:r,networkType:lv(),envType:o,clientVersion:s,sdkVersion:l}}function Mae(e,t,r=[],n){var i=Object.create(null);i.key=e,i.value=t;var a=Rae(),o="";n?(o=n.pluginId,a.pluginCustomVersion=n.customVersion,a.path=ir.convertRouteToComponentAlias(a.path),a.path.indexOf("plugin")<0&&(a.path="")):o=wae.accountInfo&&wae.accountInfo.appId,Wae({appId:o,metrics:i,dimensions:r}),kae&&kae.then((()=>{"release"===H.envVersion&&Aae.sampleRate!==gae&&Aae.userUin&&!xae(Aae.userUin,Aae.sampleRate)||Aae.enabled&&Aae.legacyReportEnabled&&Uae({appId:o,metrics:i,baseInfo:a,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var Dae={};function Nae(){var e=Object.keys(Dae);if(!(e.length<=0)&&Aae.enabled&&("release"!==H.envVersion||Aae.sampleRate===gae||!Aae.userUin||xae(Aae.userUin,Aae.sampleRate))){var t="develop"===H.envVersion||"trial"===H.envVersion;for(var r of e){var n=Dae[r],i={key:n.key,value:n.valueSum/n.count,num:n.count},a=n.baseInfo,o=n.dimensions;t?o.length>0?Vae({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):Vae({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?Uae({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):Uae({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete Dae[r],T.reportKeyValue({key:"PerfReport",value:[n.appId,a.platform,a.scene,a.brand,a.model,a.networkType,a.envType,i.key,i.value,i.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var Lae=null;function Bae(){var e="develop"===H.envVersion||"trial"===H.envVersion?vae:Aae.batchTime;Lae&&clearInterval(Lae),Lae=setInterval(Nae,1e3*e)}function $ae(){setTimeout(Nae,3e4)}var Fae=!1;function jae(){Fae=!0,Iae((()=>{$ae(),Bae(),aT((()=>{Nae()})),aO((()=>{Bae()}))}))}function Wae({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var i=Rae(),a=`${t.key}_${i.networkType}_${i.scene}${n}`;if(!(Object.keys(Dae).length>Aae.bufferCapacity)){Dae[a]||(Dae[a]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:i,dimensions:r});var o=Dae[a];o&&(o.valueSum+=t.value,o.count++)}}function Uae({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:i,data:o});XO(1002,s,!0)}function Vae({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){if(Aae.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)});xd({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:i,data:o}}).catch((()=>{}))}}function qae(e){e&&e.success&&delete e.success,e&&e.fail&&delete e.fail,e&&e.complete&&delete e.complete}var zae=0,Gae=4294967295;function Hae(e,t,r,n){Aae.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=zae&&e<=Gae||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=zae&&t<=Gae?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),Eae||(kae=Tae()),Fae||jae(),Iae((()=>{"release"===H.envVersion&&Aae.sampleRate!==gae&&Aae.userUin&&!xae(Aae.userUin,Aae.sampleRate)||Mae(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",zae," to",Gae))}function Kae(e,t,r){Hae(e,t,r)}function Qae(e,t,r,n){Hae(e,t,r,n)}var Jae=["navigation","loadPackage","render","script","resource"],Xae=["navigation","render"],Yae=["appLaunch","route","firstRender"],Zae,eoe;class toe{constructor(e,t,r,n,i){this.entryType=e,this.name=t,this.startTime=r,this.duration=void 0,n&&(this.duration=n-r),i&&Object.assign(this,i)}}class roe extends toe{constructor(e,t,r,n){super("render",e,t,r,n)}}class noe extends roe{constructor(e,t,r){super("firstRender",e,t,r)}}class ioe extends toe{constructor(e,t,r){super("script","evaluateScript",e,t,r)}}class aoe extends toe{constructor(e,t,r,n,i){super("navigation",e,t,r,Object.assign({navigationType:n},i))}}class ooe extends aoe{constructor(e,t,r){super("appLaunch",e,t,"appLaunch",r)}}class soe extends aoe{constructor(e,t,r,n){super("route",e,t,r,n)}}class loe extends toe{constructor(e,t,r){super("loadPackage","downloadPackage",e,t,r)}}class coe extends toe{constructor(e,t,r){super("resource","resourceTiming",e,t,r)}}function uoe(e){e.duration>0&&e.duration<1e6&&m.info(`Launch Time: ${e.duration} ms`)}"devtools"===H.platform&&m.info(`WeChatLib: ${kI.version} (${kI.updateTime})`),H.onReady((()=>{(Array.isArray(H.subpackages)?H.subpackages.length:0)>0?m.info(`No. of subpackages: ${H.subpackages.length}`):m.info("Subpackages: N/A");var e=!!H.isLazyLoad;m.info(`LazyCodeLoading: ${e}`),e&&H.__globalComponentsCount>0&&console.warn(`[Perf] 全局自定义组件可能影响按需注入的效果，请谨慎使用（在 app.json 中检测到 ${H.__globalComponentsCount} 个）。\n参考 https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html`)}));var doe="updatePerfTimeline",poe=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onShow=3]="App_onShow",e[e.Evaluate_Script_Begin=4]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=5]="Evaluate_Script_End",e[e.SubPackage_Ready=6]="SubPackage_Ready",e[e.AppRoute_Begin=7]="AppRoute_Begin",e[e.AppRoute_End=8]="AppRoute_End",e[e.AppRoute_Callback_Begin=9]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=10]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=11]="AppRoute_AppServiceEngine",e[e.Open_New_Page=12]="Open_New_Page",e[e.Publish_Init_Data=13]="Publish_Init_Data",e[e.Send_Init_Data=14]="Send_Init_Data",e[e.Recv_Init_Ready=15]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=16]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=17]="AppRoute_Done_End",e[e.TriggerAppRoute=18]="TriggerAppRoute",e[e.Evaluate_WAWebview_Begin=19]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=20]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=21]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=22]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=23]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=24]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=25]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=26]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=27]="Set_CSS_Begin",e[e.Set_CSS_End=28]="Set_CSS_End",e[e.Generate_Func_Ready=29]="Generate_Func_Ready",e[e.Recv_Init_Data=30]="Recv_Init_Data",e[e.Init_Render_Begin=31]="Init_Render_Begin",e[e.Init_Render_End=32]="Init_Render_End",e[e.VD_Init_Render_Begin=33]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=34]="VD_Init_Render_End",e[e.Send_Init_Ready=35]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=36]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=37]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=38]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=39]="Init_Ready_Client",e[e.Real_Init_Ready=40]="Real_Init_Ready",e[e.First_User_Interaction=41]="First_User_Interaction",e[e.FP=42]="FP",e[e.FCP=43]="FCP",e[e.LCP=44]="LCP",e[e.First_Start_Render=45]="First_Start_Render",e}({}),hoe=null,foe=[],goe={};function voe(e){return 0===e?"N/A":Math.round(e-(H.coldLaunchTime||0))}var moe=(null===(Zae=h)||void 0===Zae||null===(eoe=Zae.env)||void 0===eoe?void 0:eoe.typeStr)||"UNKNOWN";function yoe(e,t,r={}){r.noRecord||foe.push([e,t]),goe[e]=t,r.noLog||v.info(`[CheckPoint][${moe}][${voe(t)}] ${poe[e]} @ ${t}`)}var _oe=new Set;function boe(e,t){_oe.has(e)||(_oe.add(e),yoe(e,t))}function woe(e){return goe[e]||0}function Soe(){var e=foe;return foe=[],e}var Coe=null;function Ioe(e){var t;null===(t=Coe)||void 0===t||t(e)}var Aoe=new Promise((e=>{Coe=e})),koe=new Ft,Eoe={LAUNCH:"appLaunch",ROUTE:"route",FIRST_RENDER:"firstRender",FP:"firstPaint",FCP:"firstContentfulPaint",LCP:"largestContentfulPaint"},Toe=null,Poe,xoe=!1,Ooe=new Promise((e=>{Toe=e})),Roe=fe?new Promise((e=>{Poe=e})):null;AB((()=>{var e;null===(e=Toe)||void 0===e||e()}));var Moe=null,Doe=[];function Noe(e){}function Loe(e){"appLaunch"!==e.name||xoe||(xoe=!0,uoe(e),Ioe({duration:e.duration,startTime:e.startTime})),Ooe.then((()=>(koe.emit(e.entryType,e),null))).catch((()=>{}))}var Boe=Gt("RoutePerfDataEmitter");Boe.internalOnMethod(((e,t)=>{var r=H,n=t.data.path,i=t.data.viewId;if(e===Eoe.ROUTE&&t.isOpenTypeInAllowList)Loe(new soe(t.data.startTime,t.g(poe.AppRoute_Done_Begin),"autoReLaunch"===t.data.openType?"reLaunch":t.data.openType,{path:n,pageId:i,referrerPath:t.data.referrer,referrerPageId:t.data.referrerViewId,navigationStart:t.g(poe.AppRoute_Begin)}));else if(e===Eoe.FIRST_RENDER)Loe(new noe(t.g(poe.AppRoute_Begin),t.g(poe.Real_Init_Ready),{path:n,pageId:i,viewLayerReadyTime:t.g(poe.Generate_Func_Ready),initDataSendTime:t.g(poe.Send_Init_Data),initDataRecvTime:t.g(poe.Recv_Init_Data),viewLayerRenderStartTime:t.g(poe.Init_Render_Begin),viewLayerRenderEndTime:t.g(poe.Init_Render_End)}));else if(e===Eoe.FP)Loe(new roe("firstPaint",t.g(poe.FP),0,{path:n,pageId:i}));else if(e===Eoe.FCP)Loe(new roe("firstContentfulPaint",t.g(poe.FCP),0,{path:n,pageId:i}));else if(e===Eoe.LCP)Loe(new roe("largestContentfulPaint",t.g(poe.LCP),0,{path:n,pageId:i}));else if(e===Eoe.LAUNCH){var a=r.appLaunchInfo;if(fe)null==Roe||Roe.then((e=>{r.coldLaunchTime||(r.coldLaunchTime=e),Loe(new ooe(r.coldLaunchTime,t.g(poe.Real_Init_Ready),{path:a.path,pageId:i}))}));else if(r.coldLaunchTime){var o=new ooe(r.coldLaunchTime,t.g(poe.Real_Init_Ready),{path:a.path,pageId:i});if(Be())if(ge)o.preloadType=r.preloadType;else if(ve){var s=r.preloadType,l=Math.floor(s%100/10),c=Math.floor(s%10),u=0;0===l&&0===c&&(u=0),1===l&&1===c&&(u=1),2===l&&2===c&&(u=2),0===l&&2===c&&(u=4),2===l&&0===c&&(u=5),o.preloadType=u}Loe(o)}}}));var $oe=9782784e5,Foe=e=>{var t=(new Date).getTimezoneOffset()/60;return e+$oe-3600*t*1e3};function joe(e){"/"!==e[0]&&(e="/"+e);var t=H.subPackages;if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;++r){var n=t[r].root||"/";if("/"!==n[0]&&(n="/"+n),"/"!==n[n.length-1]&&(n+="/"),e.startsWith(n))return n}return"/__APP__/"}return""}Rt("onNewPerformanceMetric",(e=>{if("loadPackage"===e.name&&!fe){var t,r,n=ve?Foe(e.startTime):e.startTime,i=ve?Foe(e.endTime):e.endTime;Loe(new loe(n,i,{packageName:(null===(t=e.extraInfo)||void 0===t?void 0:t.packageName)||"",packageSize:(null===(r=e.extraInfo)||void 0===r?void 0:r.size)||0}))}var a,o;if(fe)if("loadPackage"===e.name)Loe(new loe(e.startTime,e.endTime,{packageName:(null===(a=e.extraInfo)||void 0===a?void 0:a.packageName)||"",packageSize:(null===(o=e.extraInfo)||void 0===o?void 0:o.size)||0}));else if("evaluateJavaScript"!==e.name||Id()){if("appLaunch"===e.name){var s;null===(s=Poe)||void 0===s||s(e.startTime)}}else Loe(new ioe(e.startTime,e.endTime,{moduleName:e.moduleName||"",fileList:[]}))})),Br("perf_resource",(e=>{e.forEach((e=>{var t,r,n,{startTime:i}=e,a=e.startTime+e.duration;Loe(new coe(i,a,{uri:e.name,initiatorType:e.initiatorType,transferSize:null!==(t=e.transferSize)&&void 0!==t?t:0,domainLookupStart:null!==(r=e.domainLookupStart)&&void 0!==r?r:0,domainLookupEnd:null!==(n=e.domainLookupEnd)&&void 0!==n?n:0}))}))}));var Woe=5;function Uoe(e){if(e.data.isLaunch){var t=e.g(poe.Evaluate_PageFrame_Begin),r=e.g(poe.Evaluate_PageFrame_End);if(H.isReady&&(!t||r)){var n=H;T.reportKeyValue({key:"LaunchDetailSpeed",value:[e.g(poe.WV_Config_Ready_Begin),t,r,e.g(poe.Set_CSS_Begin),e.g(poe.Set_CSS_End),e.g(poe.Generate_Func_Ready),e.g(poe.Recv_Init_Data),e.g(poe.Init_Render_Begin),e.g(poe.Init_Render_End),e.g(poe.Real_Init_Ready),1,woe(poe.AS_Config_Ready_Begin),woe(poe.App_onLaunch),e.g(poe.AppRoute_Begin),e.g(poe.Open_New_Page),e.g(poe.Send_Init_Data),n.preloadType||n.preload,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(poe.Evaluate_Subpackage_PageFrame_Begin),e.g(poe.Evaluate_Subpackage_PageFrame_End),e.g(poe.WV_Config_Ready_End),woe(poe.AS_Config_Ready_End),Woe,n.isIsolateContext?1:0,e.data.delayedGwx,n.coldLaunchTime].join(",")})}}}function Voe(e,t,r){e.data.openType,e.data.referrer,e.data.path,e.g(poe.Real_Init_Ready),e.g(poe.FCP),Qoe[t],Qoe[r],T.reportQualityData("Route",e.data.startTime,e.g(poe.Real_Init_Ready),[H.SDKVersion,encodeURIComponent(e.data.path),joe(e.data.path),encodeURIComponent(e.data.referrer),joe(e.data.referrer),e.data.openType,e.data.navId,e.data.isWebviewPreload,e.data.isPreloadPageFrame,H.isLazyLoad?1:0,e.g(poe.AppRoute_Begin),e.g(poe.AppRoute_Done_Begin),e.data.viewType,t,r,e.g(poe.Send_Init_Data),e.g(poe.Recv_Init_Data),e.g(poe.Init_Render_Begin),e.g(poe.Init_Render_End),e.g(poe.FCP)])}function qoe(e){T.reportQualityData("RenderStages",e.g(poe.Recv_Init_Data),e.g(poe.Real_Init_Ready),[H.SDKVersion,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),0,e.data.isLaunch?1:0,e.g(poe.Generate_Func_Ready),e.g(poe.Init_Render_Begin),e.g(poe.Init_Render_End),e.data.navId,e.data.openType,e.data.isWebviewPreload,e.data.isPreloadPageFrame,e.g(poe.Send_Init_Data),"skyline"===e.data.backend?5:0])}function zoe(e){var t=H,r=[cu(),uu(),t.coldLaunchTime,woe(poe.AS_Config_Ready_Begin),woe(poe.AS_Config_Ready_End),t.preload?1:0,woe(poe.SubPackage_Ready),encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(poe.TriggerAppRoute),e.g(poe.AppRoute_Begin),e.g(poe.AppRoute_Done_Begin),e.data.openType,e.g(poe.Send_Init_Data),e.g(poe.Recv_Init_Data),e.g(poe.Real_Init_Ready),e.g(poe.Init_Render_Begin),e.g(poe.Init_Render_End),e.g(poe.FP||poe.FCP),e.g(poe.FCP),e.g(poe.LCP||poe.FCP),e.data.backend,t.preloadType,e.g(poe.First_Start_Render),e.data.webCore];T.reportQualityData2("Skyline",r)}var Goe=1e4,Hoe=1e4,Koe=5e3,Qoe=function(e){return e[e.normal=1]="normal",e[e.force=2]="force",e[e.timeout=3]="timeout",e[e.loaded=4]="loaded",e[e.interrupted=5]="interrupted",e}({}),Joe=function(e){return e[e.NO_RENDERER=0]="NO_RENDERER",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}({}),Xoe=["navigateTo","navigateBack","redirectTo","reLaunch","autoReLaunch","switchTab"],Yoe=["appLaunch","navigateTo","redirectTo","reLaunch","autoReLaunch","switchTab"],Zoe=0;function ese(e){return"boolean"==typeof e?e?1:0:-1}class tse{constructor(e,t,r){var n,i,a;this.data=void 0,this.orderId=Zoe++,this.appRouteDoneTimer=void 0,this.initReadyTimer=void 0,this.appRouteDoneResolve=void 0,this.initReadyResolve=void 0,this.renderFinishResolve=void 0,this.isOpenTypeInAllowList=void 0,this.isOpenTypeInAllowList=Xoe.indexOf(t.openType)>=0;var o={navId:(null===(n=t.qualityData)||void 0===n?void 0:n.navId)||`${e}_${r}`,isWebviewPreload:ese(null===(i=t.qualityData)||void 0===i?void 0:i.isWebviewPreload),isPreloadPageFrame:ese(null===(a=t.qualityData)||void 0===a?void 0:a.isPreloadPageFrame)},s=sr.getCurrentPage(),l=!(!use[0]||use[0].type!==t.openType);if(this.data={referrer:(null==s?void 0:s.route)||sr.getCurrentRoute()||"",referrerViewId:(null==s?void 0:s.webviewId)||0,path:t.path||"",viewId:e,timeline:{},openType:t.openType,isLaunch:0===this.orderId,isFromJSAPI:l,startTime:r,navId:o.navId,isWebviewPreload:o.isWebviewPreload,isPreloadPageFrame:o.isPreloadPageFrame,viewType:Joe.NO_RENDERER,delayedGwx:0,initReadyCalled:!1,appRouteDoneCalled:!1,backend:t.renderer||"webview",webCore:""},l){var c=use.shift();this.data.startTime=c.startTime}else{var u,d=null===(u=t.qualityData)||void 0===u?void 0:u.routeStartTime;"number"==typeof d&&d>1e5&&(this.data.startTime=d)}var p=hse("skyline");(!p&&this.isOpenTypeInAllowList||p&&Yoe.indexOf(t.openType)>=0)&&(this.appRouteDoneTimer=setTimeout((()=>{var e;i1().assertWithIDKey(!1,7),v.warn("[RouteContext] appRouteDone timeout",this),null===(e=this.appRouteDoneResolve)||void 0===e||e.call(this,{type:Qoe.timeout}),this.appRouteDoneResolve=void 0}),Goe),this.initReadyTimer=setTimeout((()=>{var e;i1().assertWithIDKey(!1,8),v.warn("[RouteContext] initReady timeout",this),null===(e=this.initReadyResolve)||void 0===e||e.call(this,{type:Qoe.timeout}),this.initReadyResolve=void 0}),Hoe),Promise.all([new Promise((e=>{this.appRouteDoneResolve=e})),new Promise((e=>{this.initReadyResolve=e})).then((e=>{if(e.type!==Qoe.normal||gse(this))return e;var t=setTimeout((()=>{var e;v.warn("[RouteContext] paintCheckPoints timeout",this),null===(e=this.renderFinishResolve)||void 0===e||e.call(this)}),Koe);return new Promise((r=>{this.renderFinishResolve=()=>{this.renderFinishResolve=void 0,t&&clearTimeout(t),r(e)}}))}))]).then((([e,r])=>{"appLaunch"!==t.openType&&Voe(this,e.type,r.type),p&&fse(this,"skyline")&&zoe(this)})))}set(e,t){return this.data.timeline[e]=t,yoe(e,t),this}updateViewCheckpoint(e){this.data.delayedGwx=e.delayedGWx,this.data.backend=e.backend,this.data.viewType="skyline"===e.backend?Joe.SKYLINE:Joe.WEBVIEW,this.data.webCore=e.webCore;var t={};return e.data.forEach((([e,r])=>{var n;(yoe(e,r,{noLog:!0}),this.data.timeline[e]=r,e===poe.LCP||e===poe.FCP)&&(gse(this)&&(null===(n=this.renderFinishResolve)||void 0===n||n.call(this)));t[e]=r})),t}g(e){return this.data.timeline[e]||0}get(e){return this.g(e)}setAppRouteDone(e){var t;if(!this.data.appRouteDoneCalled)return this.data.appRouteDoneCalled=!0,this.appRouteDoneTimer&&clearTimeout(this.appRouteDoneTimer),null===(t=this.appRouteDoneResolve)||void 0===t||t.call(this,{type:e}),this.appRouteDoneResolve=void 0,this}setAppRouteDoneAllBefore(e){var t=[];return Object.values(rse).forEach((r=>{r.orderId<=this.orderId&&!r.g(poe.AppRoute_Done_Begin)&&(r.set(poe.AppRoute_Done_Begin,e),r.orderId<this.orderId&&r.set(poe.AppRoute_Done_End,e),r.setAppRouteDone(r.orderId===this.orderId?Qoe.normal:Qoe.force),t.push(r))})),t}setInitReady(e=Qoe.normal,t){var r;if(!this.data.initReadyCalled)return this.data.initReadyCalled=!0,this.data.viewType=t,this.initReadyTimer&&clearTimeout(this.initReadyTimer),null===(r=this.initReadyResolve)||void 0===r||r.call(this,{type:e}),this.initReadyResolve=void 0,this}}var rse={},nse=null,ise=new Set;function ase(e,t,r){var n=new tse(e,t,r);return e in rse&&n.setInitReady(Qoe.loaded,Joe.NO_RENDERER),rse[e]=n,nse=e,Dse[n.data.referrer]&&(n.set(poe.TriggerAppRoute,Dse[n.data.referrer]),delete Dse[n.data.referrer]),n}function ose(e){return rse[e]}function sse(e,t){var r=lse();r?r.set(e,t):yoe(e,t)}function lse(){return null!==nse?rse[nse]:(i1().assertWithIDKey(!1,11),null)}function cse(e){if(e in rse){var t=rse[e];t.data.initReadyCalled||t.setInitReady(Qoe.interrupted,Joe.NO_RENDERER),t.data.appRouteDoneCalled||t.setAppRouteDone(Qoe.interrupted),ise.add(e),delete rse[e]}else i1().assertWithIDKey(!1,12)}var use=[];function dse(e){Xoe.indexOf(e)<0||use.push({type:e,startTime:Date.now()})}function pse(e){return ise.has(e)}function hse(e){var t,r=H;return!!Array.isArray(null==r||null===(t=r.renderer)||void 0===t?void 0:t.allUsed)&&r.renderer.allUsed.indexOf(e)>-1}function fse(e,t){var r,n=e.data.path,i=(null===(r=H.renderer)||void 0===r?void 0:r.default)||"webview";return(H.page[n].window.renderer||i)===t}var gse=e=>{var t,r=null!==(t=e.data.webCore)&&void 0!==t?t:"unknown",n=0;return(n=r.includes("Chrome")||r.includes("XWEB")?e.g(poe.LCP):e.g(poe.FCP))>=e.g(poe.Init_Render_End)&&n>=e.g(poe.FCP)},vse=Gt("InitReadyFromService");function mse(e){vse.emit(),qu("initReady",{inBackground:e})}var yse=vse.internalOnMethod,_se=50,bse=T.reportFrameworkIDKey.bind(T);function wse(e){if(e.data.isLaunch){var t=e.g(poe.Generate_Func_Ready),r=e.g(poe.Send_Init_Data),n=e.g(poe.Recv_Init_Data);n&&t&&r&&(bse(n<t?1:2),Math.abs(r-t)<=_se?bse(6):bse(r>=t?5:4))}}function Sse(e){if(e.data.isLaunch){var t=e.g(poe.WV_Config_Ready_Begin),r=woe(poe.AS_Config_Ready_Begin);r&&t&&(Math.abs(t-r)<=_se?bse(15):bse(r>=t?14:13))}}var Cse=0,Ise=1,Ase=2,kse=1,Ese=2;function Tse(e){return e.endsWith("Begin")?Cse:e.endsWith("End")?Ise:Ase}function Pse(e){return e.replace(/_End|_Begin/,"").replace(/_/g,"")}function xse(e){var t={service:[poe.AppRoute_Begin,poe.AppRoute_End,poe.Open_New_Page,poe.Send_Init_Data],view:[e.data.isLaunch?poe.App_onLaunch:-1,poe.Evaluate_PageFrame_Begin,poe.Evaluate_PageFrame_End,poe.Evaluate_Subpackage_PageFrame_Begin,poe.Evaluate_Subpackage_PageFrame_End,poe.Generate_Func_Ready,poe.Recv_Init_Data,poe.Init_Render_Begin,poe.Init_Render_End,poe.Init_Ready_Client,poe.Real_Init_Ready]},r=[];Object.entries(t).forEach((([t,n])=>{for(var i of n)if(!(i<0)){var a=poe[i],o=e.g(i);o&&r.push({timeStamp:o,eventName:Pse(a),eventType:Tse(a),parent:`lib_${t}`,category:"service"===t?kse:Ese})}})),Ur("noticePerformanceMetrics",{events:r})}or((()=>{y1((()=>{var e;null===(e=ir.setGlobalUpdatePerformanceListener)||void 0===e||e.call(ir,{withDataPaths:!1},((e,t,r)=>{E1.traceBeginAPI("updatePerformanceStat",{pendingStart:e.pendingStartTimestamp,updateStart:e.updateStartTimestamp,updateEnd:e.updateEndTimestamp,is:t.is,viewId:r}),E1.traceEndAPI()}))}))})),H.onReady((e=>{yoe(poe.AS_Config_Ready_Begin,e.onReadyStart||0),setTimeout((()=>{yoe(poe.AS_Config_Ready_End,e.onReadyEnd||0)}),0)}));var Ose=0,Rse=!1;C1("Framework",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name)yoe(poe.Evaluate_Script_Begin,e.timeStamp);else if("openNewPage"===e.name)sse(poe.Open_New_Page,e.timeStamp);else if("publishInitData"===e.name)sse(poe.Publish_Init_Data,e.timeStamp);else if("sendInitData"===e.name)sse(poe.Send_Init_Data,e.timeStamp);else if("handleAppRoute"===e.name)sse(poe.AppRoute_AppServiceEngine,e.timeStamp);else if(e.name.startsWith("AppRoute#"))Ose=e.timeStamp,Rse=!1;else if("AppRouteDone"===e.name){var r=ose(t.webviewId);if(r){var n=r.setAppRouteDoneAllBefore(e.timeStamp);r.g(poe.AppRoute_Done_Begin)||r.set(poe.AppRoute_Done_Begin,e.timeStamp),n.forEach((e=>{Mse.emit(Eoe.ROUTE,e)}))}else pse(t.webviewId)||(i1().assertWithIDKey(!1,10),t.webviewId)}else"onAppRouteCallback"===e.name?(Rse=!0,ase(t.webviewId,t,Ose).set(poe.AppRoute_Begin,Ose).set(poe.AppRoute_Callback_Begin,e.timeStamp),Ose=0):"onWebviewEvent"===e.name&&"__DOMReady"===(null==t?void 0:t.eventName)&&yoe(poe.Recv_Init_Ready,e.timeStamp)})),I1("Framework",((e,t,r)=>{var n=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name){yoe(poe.Evaluate_Script_End,e.timeStamp);var{moduleName:i,fileList:a}=r;!1!==n.isSuccess&&Loe(new ioe(t,e.timeStamp,{moduleName:i||"",fileList:a}))}else if(e.name.startsWith("AppRoute#"))Rse&&sse(poe.AppRoute_End,e.timeStamp);else if("onAppRouteCallback"===e.name)sse(poe.AppRoute_Callback_End,e.timeStamp);else if("AppRouteDone"===e.name){var o;null===(o=ose(n.webviewId))||void 0===o||o.set(poe.AppRoute_Done_End,e.timeStamp)}})),C1("LifeCycle",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name)yoe(poe.App_onLaunch,e.timeStamp);else if("App.onShow"===e.name)yoe(poe.App_onShow,e.timeStamp);else if("Page.onUnload"===e.name){cse(t.id)}}));var Mse=Gt("RoutePerfDataEmitter"),Dse={};uh.internalOnMethod((e=>{dse(e.type);var t=lse();t&&(Dse[t.data.path]=e.start)}));var Nse=!0;function Lse(e){Nse&&Mse.emit(Eoe.LAUNCH,e),Nse=!1}function Bse(e,t){e[poe.FP]&&Mse.emit(Eoe.FP,t),e[poe.FCP]&&Mse.emit(Eoe.FCP,t),e[poe.LCP]&&Mse.emit(Eoe.LCP,t),!t.data.initReadyCalled&&e[poe.Real_Init_Ready]&&(t.setInitReady(Qoe.normal,t.data.viewType),Mse.emit(Eoe.FIRST_RENDER,t),Lse(t),t.data.isLaunch&&(Uoe(t),wse(t),Sse(t)),qoe(t),xse(t))}yse((()=>{var e=Date.now(),t=lse()||ase(0,{openType:"appLaunch"},e);t&&(t.set(poe.Real_Init_Ready,e),Lse(t))}));var $se=50;function Fse(e,t,r){if(fe||we()){var n=e.timeStamp-t;if(n>=$se){var i=null==r?void 0:r.path;i?console.warn(`[Perf][${i}] ${e.name} took ${n.toFixed(0)}ms`):console.warn(`[Perf] ${e.name} took ${n.toFixed(0)}ms`)}}}function jse(e){Or("timelineData",{data:Soe()},[e])}I1("User Script",Fse),I1("LifeCycle",Fse),Br(doe,((e,t)=>{var r=ose(t);if(r){var n=r.updateViewCheckpoint(e);Bse(n,r)}else pse(t)||i1().assertWithIDKey(!1,9)}));var Wse=30;function Use(e=""){return e.indexOf("__plugin__")>-1||e.indexOf("plugin-private://")>-1}function Vse(e=""){return e.indexOf("__wx__")>-1}function qse(e=""){return Use(e)||Vse(e)}var zse=(e,t)=>e.startTime-t.startTime,Gse=new WeakMap;class Hse{constructor(e){Gse.set(this,{list:e})}getEntries(){var e,t=((null===(e=Gse.get(this))||void 0===e?void 0:e.list)||[]).slice();return t.sort(zse),t}getEntriesByType(e){var t,r=[];if(!e)return console.warn("entryType is not provided"),r;if(Jae.indexOf(e)<0)return console.warn("invalid entryType:",e),r;var n=(null===(t=Gse.get(this))||void 0===t?void 0:t.list)||[];for(var i of n)i.entryType===e&&r.push(i);return r}getEntriesByName(e,t){var r,n=[];if(!e)return console.warn("getEntriesByName requires name"),n;var i=(null===(r=Gse.get(this))||void 0===r?void 0:r.list)||[];for(var a of i)t&&t!==a.entryType||a.name!==e||n.push(a);return n}}var Kse=new WeakMap;class Qse{constructor(e){var t=[];Kse.set(this,{buffer:t,entryList:new Hse(t),bufferSize:Wse,pluginId:e}),this._initiateSubscription()}_initiateSubscription(){var e=Kse.get(this);e&&this.createObserver((t=>{for(0!==e.bufferSize&&e.buffer.push(...t.getEntries());e.buffer.length>e.bufferSize;)e.buffer.shift()})).observe({entryTypes:"string"==typeof e.pluginId?Xae:Jae.slice()})}getEntries(){var e;return(null===(e=Kse.get(this))||void 0===e?void 0:e.entryList.getEntries())||[]}getEntriesByType(e){var t;return(null===(t=Kse.get(this))||void 0===t?void 0:t.entryList.getEntriesByType(e))||[]}getEntriesByName(e,t){var r;return(null===(r=Kse.get(this))||void 0===r?void 0:r.entryList.getEntriesByName(e,t))||[]}createObserver(e){var t,r=null===(t=Kse.get(this))||void 0===t?void 0:t.pluginId;return"string"==typeof r?new Zse(e,r):new Xse(e)}setBufferSize(e){var t=Kse.get(this);t&&(t.bufferSize=e)}now(){return Date.now()}}var Jse=new WeakMap;class Xse{constructor(e){Jse.set(this,{callback:T.surroundThirdByTryCatch(e,"at api PerformanceObserver callback function"),timer:null,batchBuffer:[],observedEntryTypes:[],__handle:this._handle.bind(this)})}_handle(e){if(e&&"function"==typeof this._shouldHandle&&this._shouldHandle(e)){var t=Jse.get(this);t&&(t.batchBuffer.push(e),null===t.timer&&(t.timer=setTimeout((()=>{var e=new Hse(t.batchBuffer);t.callback(e,this),t.batchBuffer=[],t.timer=null}),500)))}}_shouldHandle(e){return!e.path||!qse(e.path)}observe(e){if(e){var t=Jse.get(this);if(t)if(t.observedEntryTypes.length>0&&this.disconnect(),e.type||e.entryTypes){if(e.type&&e.entryTypes)console.warn("observe can only be called with either type or entryTypes, but not both of them");else if(e.type&&Jae.indexOf(e.type)<0)console.warn("invalid entry type:",e.type);else if(Array.isArray(e.entryTypes)&&e.entryTypes.forEach((e=>{Jae.indexOf(e)<0&&console.warn("invalid entry type:",e)})),e.type)koe.on(e.type,t.__handle),t.observedEntryTypes.push(e.type);else if(e.entryTypes)for(var r of e.entryTypes)Jae.indexOf(r)>=0&&(koe.on(r,t.__handle),t.observedEntryTypes.push(r))}else console.warn("observe should be called with either type or entryTypes provided")}}disconnect(){var e=Jse.get(this);if(e){for(var t of e.observedEntryTypes)koe.off(t,e.__handle);e.observedEntryTypes.splice(0,e.observedEntryTypes.length)}}get supportedEntryTypes(){return Jae.slice()}}var Yse=new WeakMap;class Zse extends Xse{constructor(e,t){super(e),Yse.set(this,{pluginId:t})}_handle(e){return e.path&&(e.path=ir.convertRouteToComponentAlias(e.path)),super._handle(e)}_shouldHandle(e){var t;if(!(e&&Xae.indexOf(e.entryType)>=0&&Yae.indexOf(e.name)>=0))return!1;var r=e.path;if(Vse(r))return!1;var n,i=`plugin-private://${null===(t=Yse.get(this))||void 0===t?void 0:t.pluginId}`;return!!((e instanceof aoe||e instanceof roe)&&r&&(n=r)&&n.indexOf(i)>-1)}get supportedEntryTypes(){return Xae.slice()}}var ele=new Qse;function tle(){return ele}var rle=new Map;function nle(e={}){var t=e.pluginId;return rle.has(t)||rle.set(t,new Qse(t)),rle.get(t)}var ile=()=>!1,ale=()=>["nativeFunctionalized"].includes(Jp().apiCategory)?"服务需要重启以使用最新功能":Be()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",ole=new jt,sle=e=>{cP({content:ale(),confirmText:"知道了",showCancel:!1,complete(){qu("updateApp",e)}})};Rt("onUpdateStatusChange",(e=>{var t=(e.state||"").toLowerCase();e.appContactInfo&&e.appContactInfo.passThroughInfo.forceUpdate||!1?"updateready"===t&&(console.info("[apply update before]"),sle()):(delete e.state,ole.emit(t,e))}));var lle=[],cle;ole.on("updating",(e=>{cle={hasUpdate:!0,version:e.customVersion},ule()})),ole.on("noupdate",(()=>{cle={hasUpdate:!1},ule()}));var ule=()=>{lle.forEach((e=>{"function"==typeof e&&e(cle)})),lle.length=0},dle=e=>{e=E.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),ile()||(cle?"function"==typeof e&&e(cle):lle.push(e))},ple=new jt;Rt("onPluginUpdateStatusChange",((e={})=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:i}=e,a=(r||"").toLowerCase();ple.emit("plugin"+a,{pluginAppid:t,appVersion:n,customVersion:i})}));var hle={},fle={};ple.on("pluginupdateready",(({pluginAppid:e,appVersion:t,customVersion:r})=>{fle[e]={pluginVersion:r},gle(e,t,r)}));var gle=(e,t,r)=>{var n=hle[e];n&&(delete hle[e],n.forEach((e=>{e({pluginVersion:r})})))},vle=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onUpdateReady callback function");void 0===fle[e]?hle[e]?hle[e].push(r):hle[e]=[r]:r({pluginVersion:fle[e].pluginVersion})},mle=()=>Object.keys(fle).length>0,yle=[],_le=!1,ble=!1,wle={};ole.on("updateready",(e=>{_le=!0,wle={version:e.customVersion},Sle()}));var Sle=()=>{yle.forEach((e=>{"function"==typeof e&&e(wle)})),yle.length=0},Cle=e=>{e=E.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),ile()||(_le?"function"==typeof e&&e(wle):yle.push(e))},Ile=e=>{_le&&ble?bc("applyUpdate",e,"applyUpdate has been called"):!_le&&!mle()||ile()?bc("applyUpdate",e,"update is not ready"):(ble=!0,cP({content:ale(),confirmText:"知道了",showCancel:!1,complete(){qu("updateApp",e)}}))},Ale=[],kle;ole.on("updatefailed",(e=>{kle={version:e.customVersion},Ele()}));var Ele=()=>{Ale.forEach((e=>{"function"==typeof e&&e(kle)})),Ale.length=0},Tle=e=>{e=E.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),ile()||(kle?"function"==typeof e&&e(kle):Ale.push(e))},Ple={onCheckForUpdate:dle,onUpdateReady:Cle,onUpdateFailed:Tle,applyUpdate:Ile},xle=()=>Ple,Ole=Object.assign,Rle=Object.create,Mle=(e={})=>{var t=Rle(null);Ole(t,e),t.url="https://support.weixin.qq.com/update/",MM(t)},Dle={},Nle={};ple.on("pluginupdating",(({pluginAppid:e,appVersion:t,customVersion:r})=>{Nle[e]={hasUpdate:!0,pluginVersion:r},Lle(e,t,r)})),ple.on("pluginnoupdate",(({pluginAppid:e,appVersion:t,customVersion:r})=>{Nle[e]={hasUpdate:!1},Lle(e,t,r)}));var Lle=(e,t,r)=>{var n=Dle[e];n&&(delete Dle[e],n.forEach((t=>{var n=Nle[e].hasUpdate;t(n?{hasUpdate:n,pluginVersion:r}:{hasUpdate:n})})))},Ble=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onCheckForUpdate callback function");if(void 0===Nle[e])Dle[e]?Dle[e].push(r):Dle[e]=[r];else{var n=Nle[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:Nle[e].pluginVersion}:{hasUpdate:n})}},$le={},Fle={};ple.on("pluginupdatefailed",(({pluginAppid:e,appVersion:t,customVersion:r})=>{Fle[e]={pluginVersion:r},jle(e,t,r)}));var jle=(e,t,r)=>{var n=$le[e];n&&(delete $le[e],n.forEach((e=>{e({pluginVersion:r})})))},Wle=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onUpdateFailed callback function");void 0===Fle[e]?$le[e]?$le[e].push(r):$le[e]=[r]:r({pluginVersion:Fle[e].pluginVersion})},Ule=e=>({onCheckForUpdate:Ble(e),onUpdateReady:vle(e),onUpdateFailed:Wle(e)}),Vle=(e={})=>{var{pluginId:t}=e;if("string"!=typeof t)throw new TypeError("pluginId must be a string");return Ule(t)},qle=0,zle=function(e){Date.now()>qle&&(cP({title:"",content:e,confirmText:"确定",showCancel:!1},50),qle=Date.now()+6e4)},Gle={2:"插件版本过低，无法提供服务"},Hle=function(e,t,r){if(!Oh.pluginInfos)return null;var n=Oh.pluginInfos[e];if(!n)return null;var i=n.runningFlag,a=n.banning||{},o=Gle[i];return i||a[t]?{all:i,detail:a[t],hint:a.hint||o||r||"由于小程序违规，该服务暂时无法使用"}:null};Oh.emitter.on("pluginInfoFetchDone",(()=>{if(void 0!==ir&&ir.initBannedMap){var e={},t=Oh.pluginInfos;for(var r in t)e[r]=Hle(r,"components");ir.initBannedMap(e)}}));var Kle=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function Qle(e){return e<=1024||(e>=8e3&&e<=8100||Kle.indexOf(e)>-1)}var Jle=new WeakMap,Xle=new WeakMap,Yle=1,Zle=[],ece=!1;H.onReady((()=>{ece=!1===H.urlCheck}));class tce{constructor(e,t){Jle.set(this,e),Xle.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=Gt(`jsapi-tcp-${e}-${t}`);this[`on${vd(t)}`]=r.onMethod,this[`off${vd(t)}`]=r.offMethod}))}connect(e){var t,r=Gt(`jsapi-tcp-${Jle.get(this)}-error`),n=`tcp://${e.address}`,i=()=>{if(qu("connectTCPSocket",{id:Jle.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new ip(t)};it(Xle.get(this).customCheck)?Xle.get(this).customCheck({url:n},(t=>{t||Qle(Number(e.port))?(t=t||`invalid address ${e.address}:${e.port}`,r.emit({errMsg:`connect fail: ${t}`,errCode:-4})):i()})):nm({api:"tcp",url:n}).then((t=>{(t.isInLAN&&!t.isLocalHost||t.isInDomainList)&&!Qle(Number(e.port))||ece?i():r.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{r.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if(qu("writeTCPSocket",{id:Jle.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new ip(t)}close(){var e;if(qu("closeTCP",{id:Jle.get(this),fail(t){e=t.errMsg}}),e)throw new ip(e)}}class rce extends tce{constructor(e){var t=Zle[Zle.length-1];if(t&&Date.now()-t<3e5)throw new ip("[TCPSocket] created too much.");Zle.push(Date.now()),Zle.length>20&&Zle.shift();var r,n=Yle++;if(qu("createTCPSocket",{id:n,fail(e){e.errMsg,r=e.errMsg}}),r)throw new ip(r);super(n,e)}}class nce{constructor(){var e,t=Yle++;if(Jle.set(this,t),qu("createTCPServer",{id:t,fail(t){t.errMsg,e=t.errMsg}}),e)throw new ip(e);["close","connection","error","listening"].forEach((e=>{var r=Gt(`jsapi-tcp-${t}-${e}`);this[`on${vd(e)}`]=r.onMethod,this[`off${vd(e)}`]=r.offMethod}))}listen(e){var t,r;if(qu("listenTCPServer",{id:Jle.get(this),port:e.port,fail(e){t=e.port,r=e.errMsg}}),r)throw new ip(r);return t}close(){var e;if(qu("closeTCP",{id:Jle.get(this),fail(t){e=t.errMsg}}),e)throw new ip(e)}}H.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{Rt(`onTCP${vd(e)}`,(t=>{var{id:r}=t;delete t.id,vd(e);var n=Gt(`jsapi-tcp-${r}-${e}`);"connection"===e?n.emit(new tce(t.socketId)):n.emit(t)}))}))}));var ice=e=>{Lte({success(){jte({success(t){e(t)}})}})},ace=new WeakMap,oce=new WeakMap,sce=new WeakMap,lce=new WeakMap,cce=new WeakMap,uce=1,dce=[],pce=!1;function hce(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}H.onReady((()=>{var e=H.envVersion&&"release"!==H.envVersion,t=!0===H.debug;pce=e&&t}));class fce{constructor(e,t,r){var n=uce++;if(["close","error","connect","message","bindWifi"].forEach((r=>{var i=Gt(`jsbinding-tcp-${n}-${r}`);this[`on${vd(r)}`]=i.onMethod,this[`off${vd(r)}`]=i.offMethod,t||(e[`on${r}`]=function(...e){var t=ve?H.expt.clicfg_appbrand_ios_tcp_buffer:H.expt.clicfg_appbrand_android_tcp_buffer;"message"===r&&(e[0]=hce(e[0])),"error"===r&&XI("createTCPSocket.onError.callback",Iv(),void 0,!1,Date.now(),0,{...e[0],clicfg:t},0,!0,0),i.emit(...e)})})),ace.set(this,e),sce.set(this,t),oce.set(this,n),cce.set(this,r||{}),ge&&"function"==typeof e.create){var i=e.create();lce.set(this,i)}}bindWifi(e){var t=Gt(`jsbinding-tcp-${oce.get(this)}-error`);ge?ice((r=>{if(r.wifi&&r.wifi.BSSID===e.BSSID&&!r.wifi.SSID.includes("unknown ssid")&&ace.has(this)){var n=ace.get(this),i=lce.get(this);if(i<0)return;qu("bindSocketToNetwork",{networkType:"wifi",socketFd:i,success(){n.onbindWifi({})},fail(e){t.emit({...e,errCode:4})}},{})}else t.emit({errMsg:"bindWifi fail: Invalid BSSID",errCode:3})})):t.emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t=Gt(`jsbinding-tcp-${oce.get(this)}-error`);if(bf("TCP")){var r=`tcp://${e.address}`;it(cce.get(this).customCheck)?cce.get(this).customCheck({url:r},(r=>{r||Qle(Number(e.port))&&!pce?(r=r||`invalid address ${e.address}:${e.port}`,t.emit({errMsg:`connect fail: ${r}`,errCode:-4})):ace.get(this).connect(e)})):nm({api:"tcp",url:r}).then((r=>{(r.isInLAN&&!r.isLocalHost||r.isInDomainList)&&!Qle(Number(e.port))||pce?ace.get(this).connect(e):t.emit({errMsg:`connect fail: invalid address ${e.address}:${e.port}`,errCode:-4})})).catch((e=>{t.emit({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if(bf("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};sce.get(this)&&(t.socketfd=sce.get(this)),ace.get(this).send(t)}else{Gt(`jsbinding-tcp-${oce.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){sce.get(this)?ace.get(this).close(sce.get(this)):ace.get(this).close()}}class gce extends fce{constructor(e){var t=Af.TCP;if(!t)return null;var r=dce[dce.length-20];if(r&&Date.now()-r<3e5)throw new ip("[TCPSocket] created too much.");dce.push(Date.now()),dce.length>20&&dce.shift();var n=new t;if(null===n)return null;super(n,0,e)}}class vce{constructor(){var e=Af.TCP;if(!e)return null;var t=new e;if(null===t)return null;var r=0,n=uce++,i={};["close","connection","error","listening","message"].forEach((e=>{var a=Gt(`jsbinding-tcp-${n}-${e}`);"connection"===e?t.onaccept=e=>{var n=new fce(t,e);r=e,i[e]=n,a.emit(n),t.recv(e)}:t[`on${e}`]=function(...n){if("close"===e||"error"===e||"message"===e){var o=n[0];if("error"!==e&&"message"!==e||(o=n[0].sockfd,delete n[0].sockfd,o||(o=r)),"message"===e&&(n[0]=hce(n[0])),i[o])return Gt(`jsbinding-tcp-${oce.get(i[o])}-${e}`).emit(et(n[0])?n[0]:void 0),void("close"===e&&delete i[o])}a.emit(et(n[0])?n[0]:void 0),"listening"===e&&t.accept()},this[`on${vd(e)}`]=a.onMethod,this[`off${vd(e)}`]=a.offMethod})),ace.set(this,t)}listen(e){var t=ace.get(this);return t.onbind=function(){t.listen(10)},t.bind(e)}close(){ace.get(this).close()}}var mce=()=>fe?new rce:new gce,yce=()=>fe?new nce:new vce,_ce={request:tw,uploadFile:uw,downloadFile:vm,connectSocket:Fw().connectSocket,createTCPSocket:fe?rce:gce},bce={_requestSkipCheckDomain:tw,_uploadFileSkipCheckDomain:uw,_downloadFileSkipCheckDomain:vm,_socketSkipCheckDomainFactory:Fw},wce=(e,t)=>{if(v.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,Rb.Qc)(e||""),n=0;n<t.length;n++){var i=t[n]||"",a=(0,Rb.Qc)(i);if(a.protocol===r.protocol&&a.hostname===r.hostname&&a.port===r.port)return!0}return!1},Sce=Gt("subpackage:beforeSubPackageReady"),Cce=Gt("subpackage:onSubPackageReady"),Ice=Sce.internalOnMethod,Ace=Cce.internalOnMethod;Rt("onSubPackageReady",(e=>{v.info("[onSubPackageReady]",e),Sce.emit(e),Cce.emit(e)}));var kce=e=>(...t)=>{v[e](["[Plugin]",...t.map((e=>"string"==typeof e?e:JSON.stringify(e)))].join(" "))},Ece=kce("info"),Tce=kce("warn"),{emitter:Pce,pluginInfos:xce}=Oh,Oce=1,Rce=2,Mce=3,Dce={[Oce]:!1,[Mce]:!1,[Rce]:!1},Nce=0,Lce=0,Bce=[10,10,10],$ce=!1,Fce=e=>{Dce[e]=!0;var t=Object.keys(Dce).reduce(((e,t)=>e&&Dce[t]),!0);t&&($ce||(Ece("all steps done, emit pluginInfoFetchDone"),Pce.emit("pluginInfoFetchDone"),$ce=!0),Pce.emit("pluginInfoFetchDoneInterval"))},jce=(e,t)=>{setTimeout((()=>{var r=[e,t,sr.getCurrentRoute(),ux().sessionid||ux().sessionId||"",1,""].map(encodeURIComponent).join(",");T.reportKeyValue({key:"PluginDisplay",value:r})}),0)},Wce=()=>{if(Ece("start to invokeGetPluginList"),H.appContactInfo&&H.appContactInfo.call_plugin_info)for(var e=H.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],n=r.plugin_id;xce[n]=GN({version:r.inner_version,customVersion:r.plugin_version||""}),jce(n,r.inner_version)}else if(H.plugins)for(var i in H.plugins){var a=H.plugins[i],o=a.provider;xce[o]=GN({version:0,customVersion:a.version||""}),jce(o,0)}Fce(Oce),Ece("invokeGetPluginList -> ",xce)},Uce=e=>new Promise(((t,r)=>{qu("batchGetContact",{appIds:e,success({contactList:r}){Ece(`batchGetContact with appIds ${e} success: ->`,r),WN(r),t(r)},fail(t){r({res:t,appIds:e})}})})),Vce=[];function qce(e){var t=!1,r=0;for(var n in xce){if(xce[n].latestCustomVersion>=0&&e[n]>xce[n].latestCustomVersion){Ece("customVersion in code ("+e[n]+") is larger than customVersion in contact info ("+xce[n].latestCustomVersion+"). Retry needed."),t=!0;break}for(var i in xce[n].domains)xce[n].domains[i]&&(r+=xce[n].domains[i].length);t||r||(Ece("no domains set. Retry needed."),t=!0)}return t}function zce({appIds:e,appIdCustomVersionMap:t,retryCount:r}){Promise.all(Vce).then((n=>{Vce=[];var i=n.flat();if(r>0&&(qce(t)||e.length!==i.length))return void setTimeout((()=>{Kce(r-1)}),1e3);UN(),Fce(Rce)})).catch((({appIds:e,res:t})=>{Vce=[],Tce(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),Nce<1?(Ece("retry to batchGetContact.."),setTimeout((()=>{Kce(0)}),0),Nce++):Fce(Rce)}))}var Gce=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{var n=[...e],i=e.splice(0,10);if(i.length){var a=0===e.length,o=Uce(i);if(Vce.push(o),a)zce({appIds:n,appIdCustomVersionMap:t,retryCount:r});else var s=setInterval((()=>{var i=e.splice(0,10);a=0===e.length;var o=Uce(i);Vce.push(o),a&&(s&&clearInterval(s),zce({appIds:n,appIdCustomVersionMap:t,retryCount:r}))}),1e3)}},Hce=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{Uce(e).then((()=>{if(r>0&&qce(t))return void setTimeout((()=>{Kce(r-1)}),1e3);UN(),Fce(Rce)})).catch((t=>{Tce(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),Nce<1?(Ece("retry to batchGetContact.."),setTimeout((()=>{Kce(0)}),0),Nce++):Fce(Rce)}))},Kce=e=>{Ece("start to invokeGetContact");var t=[],r={};for(var n in xce)t.push(n),r[n]=xce[n].customVersion;0!==t.length?(ve?Gce({appIds:t,appIdCustomVersionMap:r,retryCount:e}):Hce({appIds:t,appIdCustomVersionMap:r,retryCount:e}),setTimeout((()=>{Fce(Rce)}),12e4)):Ece("appids are empty, skip invokeGetContact.")},Qce=({plugins:e,success:t,fail:r,timeout:n})=>{var i=!1,a=setTimeout((()=>{i=!0,r({errMsg:"verifyPlugin:fail timeout"})}),1e3*n);qu("verifyPlugin",{data:{plugins:e},success(...e){i||(clearTimeout(a),t(...e))},fail(...e){i||(clearTimeout(a),r(...e))}})},Jce=null,Xce=()=>{null!==Jce&&(clearTimeout(Jce),Jce=null,Yce())},Yce=()=>{Ece("start to invokeVerifyPlugin",Date.now());var e=[];for(var t in xce){var r=xce[t];e.push({provider:t,inner_version:r.version})}0!==e.length?Qce({plugins:e,timeout:10,success({data:e}){if(void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e.list)?e.list:[];qN(t),Ece("verifyPlugin result -> ",e.list),Fce(Mce),Lce=0,Jce=setTimeout(Xce,6e5)}else Tce("Plugin data from backend is not available.")},fail(e){var t;Tce("invokeVerifyPlugin failed: "+e.errMsg,Date.now()),Lce<Bce.length?t=Bce[Lce]:(Dce[Mce]||Fce(Mce),t=30),Ece(`retry invokeVerifyPlugin after ${t}s..`),setTimeout(Yce,1e3*t),Lce++}}):Ece("plugins is empty, skip invokeVerifyPlugin.")},Zce=()=>{H.onReady((()=>{Wce(),Kce(5),Yce()}))};Ice((e=>{var t=e.separatedPlugins||[];Ece("onSubpackageReady",t),t.forEach((e=>{xce[e.plugin_id]&&e.custom_version&&(xce[e.plugin_id].customVersion=FN(e.custom_version))}))}));var eue=function(e,t){var r=Hle(e,"domains");if(!r)return!1;if(!r.all){for(var n=r.detail,i=(0,Rb.Qc)(t||""),a=!1,o=0;o<n.length;o++){var s=(0,Rb.Qc)(n[o]||"");if(i.protocol===s.protocol&&i.hostname===s.hostname&&i.port===s.port){a=!0;break}}if(!a)return!1}return zle(r.hint),!0},tue=(e,t)=>{var r=t.header||{},n=e.hostSign||{};r["X-WECHAT-HOSTSIGN"]=JSON.stringify(n),v.info("[Plugin] add host sign: "+JSON.stringify(n)),t.header=r},rue=(e,t,r)=>{var n=[e,t,sr.getCurrentRoute(),ux().sessionid||ux().sessionId||"",2,r].map(encodeURIComponent).join(",");T.reportKeyValue({key:"PluginDisplay",value:n})},nue=!1;H.onReady((()=>{if(fe)nue=!1===H.urlCheck;else{var e=H.envVersion&&"release"!==H.envVersion,t=!0===H.debug;nue=e&&t}}));var iue=function(e,t,r){return new Promise(((n,i)=>{qu("checkNetworkAPIURL",{api:e,url:t,success(e){v.info(`[Plugin] checkNetworkAPIURL success: ${JSON.stringify(e)}`);var a=wce(t,r)||e.isInLAN&&!e.isLocalHost,o="";a||(o=`Url "${t}" not in plugin's domain list.`,nue&&console.warn(o+" This network request will be blocked in release version.")),v.info(`[Plugin] checkDomain res: ${o}`),nue||a?n():i(o)},fail(e){i(e.errMsg||"check url failed.")}})}))},aue=0,oue=!0,sue=[];Oh.emitter.on("pluginInfoFetchDoneInterval",(()=>{for(oue=!1,aue=Date.now();sue.length>0;){sue.shift()()}}));var lue=function(){return Date.now()-aue>6e5?(oue||Xce(),new Promise((e=>{sue.push(e)}))):Promise.resolve()},cue=Object.assign,uue={};Object.keys(_ce).forEach((e=>{uue[e]=function(t={}){var r=Bh(this),n=cue({},t);return n.customCheck=(t,n)=>{var i;lue().then((()=>{var n=(i=Oh.pluginInfos[r]).domains[e],a=e;return"connectSocket"===e&&(a="websocket"),"createTCPSocket"===e?iue("tcp",t.url,i.domains.tcp):iue(a,t.url,n)})).then((()=>{if(eue(r,t.url)){var a=`url "${t.url}" is temporarily rejected.`;n(a)}else rue(r,i.version,t.url),"createTCPSocket"!==e&&tue(i,t),n(null)})).catch((e=>{var t=qe(e)?e:"check url failed.";n(t)}))},"createTCPSocket"===e?new _ce[e](n):_ce[e](n)}}));const due=uue;var pue=e=>(t={})=>{if(ve){Nu({errMsg:"preloadWebview:ok preload request ignored in iOS"},"preloadWebview",t,{})}else oh("preloadWebview",{pluginId:e},void 0,(e=>{Nu(e,"preloadWebview",t,{})}))},hue=pue("/"),fue=!1,gue=e=>{if(fue||!e||"object"!=typeof e||null==e||!e.custom)return!1;var t=!1;return"cover-view"===(null==e?void 0:e.renderer)&&(t=!0),!t&&Array.isArray(null==e?void 0:e.list)&&e.list.forEach((e=>{t="cover-view"===(null==e?void 0:e.renderer)})),v.info("[CustomTabBar] needCreateSclContext ",!!t),t},vue=function(){var e=Hp()((function*(){if(fue)return Promise.resolve();fue=!0,x.createAppSclContext(),yield x.waitAppSclContextInit()}));return function(){return e.apply(this,arguments)}}(),mue=e=>(t={})=>{Gu(e)("preloadSkylineView",t,{})},yue=mue("/"),_ue=function(e){return e[e.AUTO=0]="AUTO",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}(_ue||{});function bue(e){return e.isSupportSkyline?e.isLibSupportSkyline?e.switchRenderMode!==_ue.AUTO||e.enableSkyline?e.switchRenderMode===_ue.WEBVIEW?{isSupported:!1,reason:"SwitchRender option set to `webview`"}:{isSupported:!0}:{isSupported:!1,reason:"a-b test not enabled"}:{isSupported:!1,reason:"baselib not supported"}:{isSupported:!1,reason:"client not supported"}}function wue(e){var{errMsg:t}=e,{isSupported:r,reason:n}=bue(e),i=e.userAgent.split(" ")[0];return i.startsWith("skyline/")&&(i=i.slice(8)),{errMsg:t,isSupported:r,reason:n,version:i}}var Sue=e=>(t={})=>{var r=Gu(e),n=t.success,i=t.fail,a=t.complete,o=Object.assign({},t);o.success=e=>{var t=wue(e);"function"==typeof n&&n(t)},o.fail=e=>{"function"==typeof i&&i({errMsg:e.errMsg})},o.complete=e=>{var t=wue(e);"function"==typeof a&&a(t)},r("getSkylineInfo",o,{})},Cue=Sue("/"),Iue=e=>()=>{var t={};Gu(e)("getSkylineInfoSync",{success(e){t=e}});var r=wue(t);return delete r.errMsg,r},Aue=Iue("/");function kue(e,t){var r={};return t.forEach((t=>r[t]=e[t])),r}function Eue(){return{...kue(y,["addRouteBuilder","removeRouteBuilder"]),getRouteContext(e){var t=parseInt(e.getPageId().slice(7),10);return y.getRouteContext(t)}}}function Tue(){return kue(y,["runOnJS","runOnUI","cancelAnimation","shared","derived","delay","repeat","sequence","timing","spring","decay","Easing"])}function Pue(e,t,r){return y.genRouteConfig(e,t,r)}var xue=0,Oue={};function Rue(e){var t;if("object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime)return SkylineGlobal.runtime.registerJsValue(e);var r=xue++;return Oue[r]=e,r}function Mue(e){var t;"object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime?SkylineGlobal.runtime.unRegisterJsValue(e):delete Oue[e]}Rt("onTapStatusBar",(e=>{Or("onTapStatusbar",e,[Fc.currentWebviewId])}));var Due=function(){var e=Hp()((function*(){Nue||(Nue=!0,x.createAppRenderContext(),yield x.waitAppRenderContextInit(),Lue=!0,v.info("[SubContextEngine] requireRenderContext finished, render context inject done"),Bue.forEach((e=>{try{x.publishToRenderContext(e.event,e.msg||{})}catch(t){v.error("[SkylineEvents] publish "+e.event+" error"),v.error("[SkylineEvents] "+t.message),t.stack.split("\n").forEach((e=>{v.error("[SkylineEvents] "+e)}))}})),gue(null==H?void 0:H.tabBar)&&(yield vue()))}));return function(){return e.apply(this,arguments)}}(),Nue=!1,Lue=!1,Bue=[];Rt("requireRenderContext",Due),h.onLoad((()=>{ve&&H.envPreloadType===z.BeforeLaunch&&or((()=>{setTimeout((()=>{v.info("[RenderContext] requireRenderContext on preload"),Due()}),200)}))})),Rt("onSkylineGlobalReady",(e=>{v.info(`[WABaseLib.Critical] main context receive onSkylineGlobalReady: ${JSON.stringify(e)}, renderContextRequired=${Nue} ${Date.now()}`),e.SkylineGlobal=SkylineGlobal,Lue?x.publishToRenderContext("onSkylineGlobalReady",e||{}):Bue.push({event:"onSkylineGlobalReady",msg:e||{}})})),Rt("onSkylineWindowReady",(e=>{v.info(`[WABaseLib.Critical] main context receive onSkylineWindowReady: ${JSON.stringify(e)}, renderContextRequired=${Nue} ${Date.now()}`),Lue?x.publishToRenderContext("onSkylineWindowReady",e||{}):Bue.push({event:"onSkylineWindowReady",msg:e||{}})}));var $ue=function(e={}){var t=Bh(this);e.pluginId=t,MF(e)};function Fue(e){var t=Bh(this);Pd(Object.assign({},e,{pluginId:t}))}var jue={},Wue=e=>{if(!jue[e]){var t=Bg(e);delete t.saveFile,delete t.saveFileSync,delete t.getSavedFileList,delete t.getSavedFileInfo,delete t.removeSavedFile,delete t.getFileInfo;try{Ff(Cg(e),!0)}catch(e){}jue[e]=t}return jue[e]},Uue=["scope.record","scope.writePhotosAlbum","scope.camera","scope.addPhoneContact","scope.bluetooth","scope.voip"],Vue=e=>{var t=F$(e);return function(e={}){yc("authorizeForMiniProgram",e,{scope:""})&&(Uue.includes(e.scope)?t(qh(e,"authorize","authorizeForMiniProgram")):bc("authorizeForMiniProgram",e,`scope "${e.scope}" is not supported to be authorized by plugin.`))}},que=new WeakMap,zue=function(e,t){var r=Hle(e,"apis");return!!r&&(!(!r.all&&r.detail.indexOf(t)<0)&&(zle(r.hint),!0))},Gue=(e,t,r)=>{var n=function(n){Object.defineProperty(e,n,{get:Kue((()=>{var i=t[n];return"function"!=typeof i?i:function(t){if(ZC(n,r,t)&&!zue(r,n))return i.apply(e,arguments);if("Sync"===n.slice(-4))throw new np(n+":fail rejected due to no permission currently in plugin");t&&(t.fail||t.complete)&&setTimeout((()=>{bc(n,t,"rejected due to no permission currently in plugin")}),0)}})),set(t){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},enumerable:!0,configurable:!0})};for(var i of Object.keys(t))n(i)},Hue=(e,t)=>{for(var r of Object.keys(H.plugins)){var n=H.plugins[r];n.provider===t&&que.set(e,n.version)}};function Kue(e){var t;return()=>t=t||e()}var Que=(e,t,r,n)=>{var i={...bce,invokeOperateWXData:Fue,uploadToCommonCDN:Uw};for(var a of Object.keys(i))i[a]=i[a].bind(e);var o={sdk:i,identifiers:{pluginId:r,pluginVersion:n}},s={...t,getFileSystemManager:()=>Wue(r),preloadWebview:pue(r),preloadSkylineView:mue(r),getSkylineInfoFactory:Sue(r),getSkylineInfoSyncFactory:Iue(r),authorizeForMiniProgram:Vue(r)};return Object.defineProperties(s,{cloud:{get:Kue((()=>__cloudSDKMain__.getCloudAPI(o))),enumerable:!0,configurable:!0},serviceMarket:{get:Kue((()=>__cloudSDKMain__.getServiceMarketAPI(o))),enumerable:!0,configurable:!0}}),s};class Jue{constructor(e,t,r){var n=Dp();Oh.puidToPluginWX[n]=this,Oh.pluginIDs[n]=t,Oh.pluginVersions[n]=r;var i=Que(this,e,t,r);Gue(this,i,t),Hue(this,t),this.env={USER_DATA_PATH:Cg(t)}}getPluginVersion(){return que.get(this)}}const Xue=Jue;var Yue={},Zue=(e,t)=>{var r=(e=e.replace("plugin_","")).endsWith("Sync");Yue[e]=function(e,...n){var i=Bh(this);return r?(e&&(e=`${i}/${e}`),t(e,...n)):(e.key&&(e.key=`${i}/${e.key}`),t(e))}};for(var ede in L8)ede.startsWith("plugin_")&&Zue(ede,L8[ede]);const tde=Yue;var rde={createInnerAudioContext:oZ};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach((e=>{rde[e]=function(t,r){var n=Bh(this),i=jh(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return u[e].call(this,t,Fc.currentWebviewId,a,`${n}/${i}`)}}));const nde=rde;var ide={createOffscreenCanvas(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},i=Bh(this);return n.pluginId=i,xQ(n)}},ade=[];for(var ode in i)ode.endsWith("4Plugin")&&ade.push(ode);ade.forEach((e=>{var t=e.replace("4Plugin","");ide[t]=function(t,r){var n=Bh(this),a=jh(this),o=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return i[e].call(this,t,`${n}/${a}`,o)}}));const sde=ide;var lde=function(){var e=rR(),t=Bh(this);return e.plugin={appId:t||"",version:zh(Oh.pluginInfos[t].customVersion)},e},cde=function(e){return o6(e,Bh(this))},ude=function(e,t){return p6(e,t,Bh(this))},dde=function(e,t){return v6(e,t,Bh(this))},pde=function(e){return BO(e)},hde=function(){},fde={},gde={},vde=0;tT((({webviewId:e})=>{vde=e,gde[e]||(gde[e]=!0,NC(e,(e=>{delete gde[e],delete fde[e]}),"AD"))}));var mde=e=>e&&!0===e.multiton?new ADSDK.RewardedVideoAd(e):(fde[vde]||(fde[vde]=new ADSDK.RewardedVideoAd(e)),fde[vde]),yde=e=>{var t={...e};return delete t.pluginId,mde(t)},_de=e=>{var t={...e};return delete t.pluginId,new ADSDK.InterstitialAd(t)},bde=e=>new ADSDK.InterstitialAd(e),wde=()=>{Sde()},Sde=()=>(console.warn("deprecated: wx.createCustomAd is not support"),{});function Cde(e){var t=Bh(this);return mde({...e,pluginId:t})}function Ide(e){var t=Bh(this);return bde({...e,pluginId:t})}var Ade={};function kde(e,t){var r="";if(e===uO&&(r="setCookies"),e===dO&&(r="getCookies"),r){var n=Bh(this);Ade[n]=Ade[n]||{[uO]:null,[dO]:null},de(n,r,1,(r=>{Ade[n][e]=r,t()}))}}function Ede(e,t){var r=Bh(this);fe?t(!0):Ade[r]&&null!==Ade[r][e]?t(!!Ade[r][e]):kde.call(this,e,(()=>t(!!Ade[r][e])))}function Tde(e){Ede.call(this,uO,(t=>{var r="setCookies:ok";if(t){var n=kO(e);n?(r=n,"function"==typeof e.fail&&e.fail({errMsg:r})):"function"==typeof e.success&&e.success({errMsg:r})}else r="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function Pde(e){Ede.call(this,dO,(t=>{var r="getCookies:ok";if(t){var n=EO(e);"function"==typeof e.success&&e.success({errMsg:r,cookies:n})}else r="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function xde(e={}){if(yc("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,t.privateExtraData={__pluginAppId:Bh(this)},qu("openBusinessView",t)}}function Ode(e,t,r){var n=Bh(this),i=Wh(this);Qae(e,t,r,{pluginId:n,customVersion:i?i.customVersion:""})}function Rde(){return nle({pluginId:Bh(this)})}var Mde={muteMicrophone:!1,muteEarphone:!1},Dde;function Nde(e){return et(e)?Cq()?{muteMicrophone:!0,muteEarphone:!0}:(Ge(e.muteMicrophone)&&(Mde.muteMicrophone=e.muteMicrophone),Ge(e.muteEarphone)&&(Mde.muteEarphone=e.muteEarphone),Mde):Mde}var Lde=()=>{cP({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},Bde=e=>{"boolean"==typeof Dde?(Dde&&Lde(),e(Dde)):Oe()?Pd({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(Lde(),e(Dde=!0)):e(!1===r&&(Dde=!1))},fail(){e(!1)}}):e(Dde=!1)},$de=e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}},Fde=function(e){if(yc("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:Nde(e.muteConfig),handsFree:!Ge(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=Bh(this);r.privateData=JSON.stringify({pluginId:e});var t=()=>{Gu(e)("joinVoIPChat",r,{beforeSuccess(e){hb(),Or("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=$de(e.errMsg))}})};r.muteConfig.muteMicrophone?t():Bde((e=>{e&&(r.muteConfig.muteMicrophone=!0),t()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):gb().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},jde=function(e={}){if(yc("join1v1VoIPChat",e,{roomId:0,sessionKey:"",lifespan:0})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:Nde(e.muteConfig),handsFree:!!Ge(e.handsFree)&&e.handsFree,roomType:t}),n=Bh(this);r.privateData=JSON.stringify({pluginId:n}),Gu(n)("join1v1VoIPChat",r)}},Wde=function(e){try{var t=Bh(this);Gu(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";Or("exitVoIPChat",{}),Sc({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";Sc({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},Ude=function(e){if(yc("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=Bh(this),r=Object.assign({},e,{muteConfig:Nde(e.muteConfig),handsFree:!Ge(e.handsFree)||e.handsFree}),n=()=>{Gu(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():Bde((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},Vde=Gt("voIPChatMembersChanged"),qde=Vde.onMethod,zde=Vde.offMethod;Rt("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",Vde.emit(e)}));var Gde=e=>{try{Rt("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&E.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&E.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},Hde=()=>{Rt("onVoIPChatSpeakersChanged",(()=>{}))},Kde=(e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3,Qde=Gt("VoIPChatInterrupted"),Jde=e=>{e.errCode||(e.errCode=Kde(e.reason)),Qde.emit(e)};Rt("onVoIPChatInterrupted",(e=>{Jde(e)})),Rt("onVoIPChatInterruptedJsEvent",(e=>{Jde(e)}));var Xde=Qde.onMethod,Yde=Qde.offMethod,Zde=(e={})=>{yc("subscribeVoIPVideoMembers",e,{openIdList:[]})&&qu("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},epe=Gt("VoIPVideoMembersChanged"),tpe=epe.onMethod,rpe=epe.offMethod;Rt("onVoIPVideoMembersChanged",((e={})=>{epe.emit(e)}));var npe=Gt("voIPChatStateChanged"),ipe=npe.onMethod,ape=npe.offMethod;Rt("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",npe.emit(e)}));var ope=function(e={}){var{success:t,fail:r}=Cc(e,"getNativeUserInfo");Pd({sdkApiName:"getNativeUserInfo",apiName:"webapi_getuserinfo",fromComponent:!0,reqData:{lang:e.lang||"en",version:H.SDKVersion},pluginId:Bh(this),withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,success:e=>{var{cloudID:r,encryptedData:n,iv:i,signature:a,data:o}=e,s=JSON.stringify(e.data);t({cloudID:r,encryptedData:n,iv:i,signature:a,userInfo:o,rawData:s,respData:{data:s}})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),r(e)}})},spe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:H.accountInfo.appId});Fue.call(this,{sdkApiName:"login",apiName:"webapi_plugin_login",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},lpe=function(e={}){var t=Bh(this),r=Object.assign({},e,{miniprogram_appid:H.accountInfo.appId,version:H.SDKVersion,plugin_version:zh(jh(this))});Fue.call(this,{sdkApiName:"getUserInfo",apiName:"webapi_plugin_getuserinfo",reqData:r,success:r=>{var n;r.rawData=JSON.stringify(r.data),r.userInfo=r.data,delete r.data,"function"==typeof e.success&&e.success(r),null!==(n=r.userInfo)&&void 0!==n&&n.is_demote||setTimeout((()=>{rF(t,"wx.getUserInfo")}),200)},fail:e.fail,complete:e.complete})},cpe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:H.accountInfo.appId});Fue.call(this,{sdkApiName:"pluginLogin",apiName:"webapi_getapppluginopenpid",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},upe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:H.accountInfo.appId,filter_auth_status:1,with_app_auth:!0});Fue.call(this,{sdkApiName:"getSetting",apiName:"webapi_getwxapluginuserscope",reqData:t,success:t=>{var r=t.data,n={errMsg:"getSetting:ok"};n.authSetting=(r.auth_item||[]).reduce(((e,t)=>(e[t.scope]=1===t.auth_status,e)),{}),r.user_all_app_auth&&(n.miniprogramAuthSetting=AF(r.user_all_app_auth).authSetting||{}),"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)},fail:t=>{var r={errMsg:t.errMsg||"getSetting:fail"};"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}})},dpe=function(...e){return eae(Bh(this),jh(this),...e)},ppe=function(e={}){if(e.image){if(0!==e.image.indexOf("/"))return void bc("showToast",e,"parameter 'image' must be begin with '/'");var t=Bh(this);e=Object.assign({},e,{image:ir.getPluginRoutePrefix(t)+e.image.substr(1)})}gP(e)},hpe=(e={})=>{qu("saveFileToDisk",e,{})},fpe=1;H.onReady((()=>{["close","error","listening","message"].forEach((e=>{Rt(`onUDPSocket${vd(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,vd(e),Gt(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class gpe{constructor(e){var t;if(this._id=fpe++,qu("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=Gt(`jsapi-udp-${this._id}-${e}`);this[`on${vd(e)}`]=t.onMethod,this[`off${vd(e)}`]=t.offMethod}))}bind(e){var t,r;if(qu("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if(qu("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,qu("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{Gt(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if(qu("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var vpe=new WeakMap,mpe=new WeakMap,ype=new WeakMap,_pe=1;class bpe{constructor(e){var t=Af.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=_pe++;["close","error","listening","message"].forEach((e=>{var t=Gt(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=function(...r){"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?(XI("createUDPSocket.onError.callback",Iv(),void 0,!1,Date.now(),0,r[0],0,!0,0),T.reportIDKey({key:"UDPError"})):"message"===e&&T.reportIDKey({key:"receiveUDPMessage"})},this[`on${vd(e)}`]=t.onMethod,this[`off${vd(e)}`]=t.offMethod})),vpe.set(this,r),mpe.set(this,n),ype.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return _v("bindUDP","",1,0,"","",!1,0),T.reportIDKey({key:"bindUDP"}),vpe.get(this).bind({port:e,type:ype.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){Gt(`jsbinding-udp-${mpe.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=vpe.get(this);"IPv6"===ype.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if(bf("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=vpe.get(this);if(e.setBroadcast){var i=n.getMacro("SOL_SOCKET"),a=n.getMacro("SO_BROADCAST");i>=0&&a>=0&&n.setopt({level:i,option:a,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};_v("sendUDP",r,1,0,"","",!1,ld(e.message),0,{},0,o)}T.reportIDKey({key:"sendUDPMessage"})}else{Gt(`jsbinding-udp-${mpe.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=vpe.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if(bf("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=vpe.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{Gt(`jsbinding-udp-${mpe.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){vpe.get(this).onconnect=e}close(){return vpe.get(this).close()}}var wpe=(e="udp4")=>Af.UDP?new bpe(e):new gpe(e),Spe=e=>{void 0!==mr?e():_r(e)},Cpe,Ipe=e=>{Cpe=e},Ape,kpe=e=>{Ape=e},Epe,Tpe=0,Ppe=!1,xpe=()=>{v.info(`[initXrFrameContext] hasInitXrFrameContext=${Ppe}`),Ppe||(x.createAppXRFrameRenderContext((e=>{Epe=e.xrFrameSystem,v.info("[createAppXRFrameRenderContext] call xrFrame init, xrFrameSystem="+typeof Epe),e.init({extraWx:Cpe(),onCanvasEvent:xV}),Spe((()=>{e.init({extraWx:{cloud:Ape()}})}))})),Ppe=!0)};fe&&h.onLibraryEnd((()=>{xpe()}));var Ope=()=>(Ppe||xpe(),Epe),Rpe=()=>"xr-view-"+Tpe++,Mpe=(e,t,r,n)=>{Ppe||xpe();var i=Rpe();Ar(i,"xr-frame"),E1.traceBeginEvent("Framework","dispatchViewRoute"),Rr("viewRoute",{pageId:i,path:e},[i]),E1.traceEndEvent();var a=sr.openNewXrFrame(e,i,n,t,r);return a.__xrFrameId__=i,a},Dpe=function(){var e=Hp()((function*(e){var{nodeId:t,nodeCanvasType:r}=e;return yield DQ(t,r)}));return function(t){return e.apply(this,arguments)}}();Br("onSkylineXrFrameEvent",(({nodeId:e,canvasId:t,event:r,cb:n},i)=>{var a=Fp(e,i);ir.xrFrameTouchEvent.negotiate(a,r,((e,i)=>{i&&NV(t,r.type,r),n(e,i)}))}));var Npe=e=>t=>{Gu(e)("openAddress",t,{beforeSuccess(e){cp(e,"addressPostalCode","postalCode"),cp(e,"proviceFirstStageName","provinceName"),cp(e,"addressCitySecondStageName","cityName"),cp(e,"addressCountiesThirdStageName","countyName"),cp(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})},Lpe=e=>function(t){t.pluginId=e,t.appId=H.accountInfo.appId,oh("setPluginLoginAuth",t,void 0,(e=>{0===e.errMsg.indexOf("setLoginAuth:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)}))};function Bpe(e,t){MF({pluginId:e,apiName:"GetPluginAuthScope",reqData:{scope_list:["scope.eCommercePluginAuths"]},fail(){t(!1)},success(e){var r=JSON.parse(e.respData.data).auth_item_list.find((e=>"scope.eCommercePluginAuths"===e.scope));t(!!r&&(r.state&&1===r.state))}})}var $pe=e=>function(t){Bpe(e,(e=>{e?oh("chooseAddressDirectly",{},void 0,(e=>{0===e.errMsg.indexOf("chooseAddressDirectly:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)})):bc("chooseAddressDirectly",t,"no permission")}))},Fpe=()=>function(e={}){e.permissionBytes=[1,1,1],oh("appServiceEnterContact",e,void 0,(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("enterContact","enterContactForPlugin")),0===t.errMsg.indexOf("enterContactForPlugin:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},jpe=(e={})=>{qu("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{})}})},Wpe=()=>function(e={}){jpe(e)},Upe=()=>function(e){e.isNativeStyle=!0,qu("private_openUrl",e,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openUrl")}})},Vpe=e=>{RO((t=>{var r=(+new Date-(t||0))/1e3/60,n=!1,i="",a=H&&H.appContactInfo&&H.appContactInfo.operationInfo&&H.appContactInfo.operationInfo.jsonInfo&&H.appContactInfo.operationInfo.jsonInfo.warning_info&&H.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,i=e.wording)})),n&&r>30?cP({content:i,confirmText:"继续支付",cancelText:"取消",success(t){t.confirm&&(MO(+new Date),qpe(e))}}):qpe(e)}))},qpe=e=>{if(yc("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=IO();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie,qu("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:()=>{oh("reportPaymentFormId",{packageStr:e.package}),cT()}})}},zpe=()=>function(e={}){Vpe(e)},Gpe=e=>function(t={}){var r="";et(t.extraData)&&(r=JSON.stringify(t.extraData)),Gu(e)("navigateBackNative",Object.assign({},t,{extraData:r}))},Hpe=e=>function(t={}){yc("setNavigationBarRightButton",t,{hide:!0})&&Gu(e)("setNavigationBarRightButton",t,{})},Kpe=e=>function(t={}){Gu(e)("openAddressWithLightMode",t,{beforeSuccess(e){cp(e,"addressPostalCode","postalCode"),cp(e,"proviceFirstStageName","provinceName"),cp(e,"addressCitySecondStageName","cityName"),cp(e,"addressCountiesThirdStageName","countyName"),cp(e,"addressDetailInfo","detailInfo")},beforeAll(e){delete e.err_msg}})},Qpe=Kpe(),Jpe=e=>function(t={}){Gu(e)("editTextWithPopForm",t,{})},Xpe=Jpe(),Ype=()=>function(e={}){xF(qh(e,"chooseInvoiceTitle","chooseInvoiceTitleDirectly"))},Zpe=()=>function(e={}){RB(qh(e,"openCard","openCardDirectly"))},ehe=e=>(t={})=>{oh("getPhoneNumber",Object.assign({permissionBytes:[1,1,1],pluginId:e},t),void 0,(e=>{"string"==typeof e.public.errMsg&&(e.public.errMsg=e.public.errMsg.replace(/^getPhoneNumber:/,"getPhoneNumberDirectly:")),Nu(e.public,"getPhoneNumberDirectly",t,{})}))},the="webapi_getenteroptions_sensitivetype",rhe=e=>v.info(the+" "+e),nhe=(e,t,r)=>{var n={app_info_list:[{appid:e,scene:t}]};rhe("reqData="+JSON.stringify(n)),Pd({sdkApiName:"getInnerEnterOptions",pluginId:e,apiName:the,reqData:n,complete(e){rhe("respData="+JSON.stringify(e))},fail(e){r(e.errmsg||e.errMsg)},success(n){var i=(n.data.sensitive_type_data_list||[]).find((r=>r.appid===e&&r.scene===t)),a=i?i.sensitive_type_list:[],o=a.indexOf("sessionId");-1!==o&&(a[o]="sessionid"),r(null,a||[])}})},ihe=Object.prototype.hasOwnProperty,ahe=Object.assign,ohe=e=>(t={})=>{var r=Jp();r.sessionid=r.sessionid||r.sessionId,delete r.sessionId,nhe(e,r.scene,((e,n)=>{var i={};e||(i=ahe(r.__public),n.forEach((e=>{ihe.call(r,e)&&(i[e]=r[e])}))),Sc({name:"getInnerEnterOptions",args:t,success:!e,errMsg:e,res:i})}))},she=()=>function(e){var t=(0,Rb.Qc)("https://open.weixin.qq.com/sns/checktpbetaplugintoken");t.query={appid:String(e.appid),token:String(e.token)},e.extraData&&(t.query.extraData=JSON.stringify(e.extraData));var r={url:t.format(),isNativeStyle:!0};qu("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","launchTrialMiniProgram")}})},lhe=e=>(t={})=>{sW(t,e)},che=()=>(e={})=>{var t=yce();e.success&&e.success(t),e.complete&&e.complete(t)},uhe=()=>(e={})=>{vN(e)},dhe=e=>{var t=/^rgba?\((.+)\)/.exec(e);if(!t)return e;var r=t[1].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e=`0${e}`),e))).join("");return r=`#${r}`},phe=e=>{var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%3600-60*r;r<10&&(r=`0${r}`),n<10&&(n=`0${n}`);var i=`${r}:${n}`;return t>0&&(i=`${t}:${i}`),i},hhe=e=>{e.type=e.type||"play",qu("operateCallTone",e)},fhe=()=>hhe,ghe=e=>{qu("hasJoinVoIPChat",e)},vhe=new Map,mhe=e=>(t={})=>{v.info(["[Plugin]","markRelievedBuyFlag",e,"in webview",Fc.currentWebviewId].join(" ")),vhe.set(Fc.currentWebviewId,!0),Nu({},"markRelievedBuyFlag",t,{})},yhe=(e=Fc.currentWebviewId)=>vhe.has(e),_he=[{name:"chooseAddressForPlugin",factory:Npe,permissionBytes:["chooseAddressForPlugin"],copyToWx:!0},{name:"openSettingForPlugin",factory:Wpe,permissionBytes:["openSettingForPlugin"],copyToWx:!0},{name:"requestPaymentForPlugin",factory:zpe,permissionBytes:["requestPaymentForPlugin"],copyToWx:!0},{name:"chooseAddressDirectly",factory:$pe,permissionBytes:[],copyToWx:!0},{name:"enterContactForPlugin",factory:Fpe,permissionBytes:["enterContactForPlugin"],copyToWx:!0},{name:"openUrl",factory:Upe,permissionBytes:["openUrlForPlugin"],copyToWx:!0},{name:"setLoginAuth",factory:Lpe,permissionBytes:["setLoginAuthForPlugin"],copyToWx:!0},{name:"navigateBackNative",factory:Gpe,permissionBytes:["navigateBackNative"],copyToWx:!0},{name:"setNavigationBarRightButton",factory:Hpe,permissionBytes:["setNavigationBarRightButton"],copyToWx:!0},{name:"openAddressWithLightMode",factory:Kpe,permissionBytes:["openAddressWithLightMode"],copyToWx:!0},{name:"editTextWithPopForm",factory:Jpe,permissionBytes:["editTextWithPopForm"],copyToWx:!0},{name:"navigateToMiniProgramDirectly",factory:HN,permissionBytes:["navigateToMiniProgramDirectly"],copyToWx:!0},{name:"getInnerEnterOptions",factory:ohe,permissionBytes:["private_getEnterOptions"],copyToWx:!1},{name:"chooseInvoiceTitleDirectly",factory:Ype,permissionBytes:["private_chooseInvoiceTitleDirectly"],copyToWx:!1},{name:"getPhoneNumberDirectly",factory:ehe,permissionBytes:["private_getPhoneNumberDirectly"],copyToWx:!1},{name:"openCardDirectly",factory:Zpe,permissionBytes:["private_openCardDirectly"],copyToWx:!1},{name:"launchTrialMiniProgram",factory:she,permissionBytes:["private_launchTrialMiniProgram"],copyToWx:!1},{name:"navigateToDevMiniProgram",factory:lhe,permissionBytes:[],copyToWx:!1},{name:"createTCPServer",factory:che,permissionBytes:["TCPServer"],copyToWx:!1},{name:"faceVerifyForPay",factory:XF,permissionBytes:[],copyToWx:!1},{name:"requestPersonalPay",factory:PN,permissionBytes:[],copyToWx:!1},{name:"requestOrderPaymentForPlugin",factory:uhe,permissionBytes:["requestOrderPaymentForPlugin"],copyToWx:!0},{name:"operateCallToneForPlugin",factory:fhe,permissionBytes:[],copyToWx:!1},{name:"markRelievedBuyFlag",factory:mhe,permissionBytes:["markRelievedBuyFlag"],copyToWx:!1}],bhe=(e,t,r)=>{Promise.all((t||[]).map((t=>(t=>new Promise((r=>pe(e,t,0,r))))(t)))).then((e=>{r(e.every((e=>e)))}))},whe=e=>{var t={};return _he.forEach((r=>{var n=r.factory(e);t[r.name]=function(t){bhe(e,r.permissionBytes,(e=>{e?n(t):bc(r.name,t,"no permission",void 0)}))}})),t},She=(e,t)=>{var r=!0===H.debug,n="devtools"===H.platform;(r||n)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),K5(`${e} (${t})`)},Che=()=>{var e={};return _he.forEach((t=>{t.copyToWx&&(e[t.name]=function(e){var r=Bh(this);She(t.name,r),bhe(r,t.permissionBytes,(n=>{n?t.factory(r)(e):bc(t.name,e,"no permission",void 0)}))})})),e},Ihe=(e={})=>{yc("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&bc("getRandomValues",e,"invalid length"),qu("getRandomValues",e))},Ahe={SUCCESS:0,INVALID_ARGUMENT:Gl,SESSION_UNAVAILABLE:rc,SYSTEM_ERROR:zl,DEVICE_NOT_SUPPORTED:Ql,OS_NOT_SUPPORTED:Kl,NO_SYSTEM_CAMERA_ACCESS:nc,NO_MINIPROGRAM_CAMERA_ACCESS:ic},khe={SUCCESS:0,INVALID_ARGUMENT:-1,SESSION_UNAVAILABLE:-2,SYSTEM_ERROR:-3,DEVICE_NOT_SUPPORTED:-4,OS_NOT_SUPPORTED:-5,NO_SYSTEM_CAMERA_ACCESS:-6,NO_MINIPROGRAM_CAMERA_ACCESS:-7},Ehe={[khe.INVALID_ARGUMENT]:Ahe.INVALID_ARGUMENT,[khe.SESSION_UNAVAILABLE]:Ahe.SESSION_UNAVAILABLE,[khe.SYSTEM_ERROR]:Ahe.SYSTEM_ERROR,[khe.DEVICE_NOT_SUPPORTED]:Ahe.DEVICE_NOT_SUPPORTED,[khe.OS_NOT_SUPPORTED]:Ahe.OS_NOT_SUPPORTED,[khe.NO_SYSTEM_CAMERA_ACCESS]:Ahe.NO_SYSTEM_CAMERA_ACCESS,[khe.NO_MINIPROGRAM_CAMERA_ACCESS]:Ahe.NO_MINIPROGRAM_CAMERA_ACCESS},The={UNAVAILABLE:0,RUNNING:1,PAUSE:2},Phe={PLANE:0,MARKER:1,OSD:2,FACE:3,MANUAL:4,BODY:5,OCR:6,HAND:7,DEPTH:8},xhe={ON_ADD_ANCHORS:1,ON_UPDATE_ANCHORS:2,ON_REMOVE_ANCHORS:3,FRAME_SIZE_CHANGED:4},Ohe={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},Rhe={UNKNOWN:0,WEVISION:1,ARKIT:2,WEVISION_6DOF:3,WEVISION_3DOF:4,WEVISION_VIO:5,WEVISION_MARKER:6,WEVISION_OSD:7,WEVISION_FACE:8,WEVISION_BODY:9,WEVISION_OCR:10,WEVISION_HAND:11,WEVISION_MONODEPTH:12,WEVISION_VIO_DEPTH:13},Mhe={V1:"v1",V2:"v2"},Dhe=Ohe.VKReference,Nhe={};class Lhe{constructor(e=0,t){this[Dhe]={webviewId:e,native:t}}destroy(){this[Dhe].native=null}}class Bhe extends Lhe{}class $he extends Lhe{}function Fhe(e=0,t){if(!t)return null;Nhe[e]||(Nhe[e]=new WeakMap);var r=Nhe[e];if(r.has(t))return r.get(t);var n=null;return t instanceof Af.ARImageReference?n=new Bhe(e,t):t instanceof Af.ARObjectReference&&(n=new $he(e,t)),r.set(t,n),n}function jhe(e){return e[Dhe].native}function Whe(e=0){Nhe[e]={}}var Uhe=Ohe.VKMesh;class Vhe{constructor(e=0,t){this[Uhe]={webviewId:e,native:t}}get vertices(){return this[Uhe].native?this[Uhe].native.getVertices():null}get uvs(){return this[Uhe].native?this[Uhe].native.getUVs():null}get triangles(){return this[Uhe].native?this[Uhe].native.getTriangles():null}destroy(){this[Uhe].native=null}}var qhe=Ohe.VKAnchor,zhe={},Ghe={},Hhe=1e4;class Khe{constructor(e=0,t){this[qhe]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[qhe].native?this[qhe].native.id:null}get type(){return this[qhe].native?this[qhe].native.type:null}get transform(){return this[qhe].native?this[qhe].native.transform:null}get reference(){if(!this[qhe].native)return null;if(!this[qhe].reference){var e=this[qhe].native.reference;this[qhe].reference=Fhe(this[qhe].webviewId,e)}return this[qhe].reference}get mesh(){if(!this[qhe].native)return null;if(!this[qhe].mesh){var e=this[qhe].native.mesh;this[qhe].mesh=new Vhe(this[qhe].webviewId,e)}return this[qhe].mesh}get size(){if(!this[qhe].native||!this[qhe].native.size)return null;var e=Array.from(this[qhe].native.size);return{width:e[0],height:e[1]}}destroy(){this[qhe].native=null,this[qhe].reference&&(this[qhe].reference.destroy(),this[qhe].reference=null),this[qhe].mesh&&(this[qhe].mesh.destroy(),this[qhe].mesh=null)}}class Qhe extends Khe{get alignment(){return this[qhe].native?this[qhe].native.alignment:null}}class Jhe extends Khe{get markerId(){return this[qhe].native?this[qhe].native.markerID:null}get path(){return this[qhe].native?Ghe[this[qhe].native.markerID]||"":null}}class Xhe extends Khe{get markerId(){return this[qhe].native?this[qhe].native.markerID:null}get path(){return this[qhe].native?Ghe[this[qhe].native.markerID]||"":null}get origin(){if(!this[qhe].native||!this[qhe].native.origin)return null;var e=Array.from(this[qhe].native.origin);return{x:e[0],y:e[1]}}}class Yhe extends Khe{get size(){return this[qhe].native?this[qhe].native.size:null}get depthArray(){return this[qhe].native?this[qhe].native.depthArray:null}}class Zhe extends Khe{get text(){return this[qhe].native?this[qhe].native.text:null}get box(){return this[qhe].native?this[qhe].native.box:null}get subtext(){return this[qhe].native?this[qhe].native.subtext:null}get score(){return this[qhe].native?this[qhe].native.score:null}}class efe extends Khe{get detectId(){return this[qhe].native?this[qhe].native.detectId:null}get origin(){if(!this[qhe].native||!this[qhe].native.origin)return null;var e=Array.from(this[qhe].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[qhe].native?this[qhe].native.confArray:null}get points3d(){return this[qhe].native?this[qhe].native.joints3d:null}get camExtArray(){return this[qhe].native?this[qhe].native.cameraExtrinsicArray:null}get camIntArray(){return this[qhe].native?this[qhe].native.cameraIntrinsicArray:null}}class tfe extends efe{get points(){return this[qhe].native?this[qhe].native.points106:null}get angle(){return this[qhe].native?this[qhe].native.angleArray:null}}class rfe extends efe{get points(){return this[qhe].native?this[qhe].native.pointsArray:null}get score(){return this[qhe].native?this[qhe].native.score:null}}class nfe extends efe{get points(){return this[qhe].native?this[qhe].native.pointsArray:null}get score(){return this[qhe].native?this[qhe].native.score:null}get gesture(){return this[qhe].native?this[qhe].native.gesture:null}}function ife(e=0,t){if(!t)return null;if(zhe[e]||(zhe[e]={}),void 0===t.id)return console.error("[getAnchor] Declare native.id can not be undefined"),null;var r=zhe[e];if(r[t.id])return r[t.id];var n=null;return t.type===Phe.PLANE?n=new Qhe(e,t):t.type===Phe.MARKER?n=new Jhe(e,t):t.type===Phe.OSD?n=new Xhe(e,t):t.type===Phe.FACE?n=new tfe(e,t):t.type===Phe.BODY?n=new rfe(e,t):t.type===Phe.OCR?n=new Zhe(e,t):t.type===Phe.HAND?n=new nfe(e,t):t.type===Phe.DEPTH&&(n=new Yhe(e,t)),r[t.id]=n,n}function afe(e){return e[qhe].native}function ofe(e=0,t){Ghe[e]||(Ghe[e]={});var r=++Hhe;return Ghe[e][r]=t,r}function sfe(e=0){zhe[e]&&Object.keys(zhe[e]).forEach((t=>{var r=zhe[e][t];r&&r.destroy()}));zhe[e]={},Ghe[e]={}}var lfe=Ohe.VKCamera;class cfe{constructor(e){this[lfe]={native:e}}get _transform(){return this[lfe].native?this[lfe].native.transform:null}get viewMatrix(){return this[lfe].native?this[lfe].native.viewMatrix:null}get intrinsics(){return this[lfe].native?this[lfe].native.intrinsics:null}destroy(){this[lfe].native=null}getProjectionMatrix(e,t){return this[lfe].native?this[lfe].native.getProjectionMatrix(e,t):null}}var ufe=Ohe.VKLightEstimate;class dfe{constructor(e){this[ufe]={native:e}}get ambientIndensity(){return this[ufe].native?this[ufe].native.ambient_indensity:null}destroy(){this[ufe].native=null}}var pfe=Ohe.VKFrame,hfe=Ohe.VKSession,ffe=!0,gfe=!1;function vfe(){gfe=!0,H.onReady((()=>{kf({experimentId:"clicfg_wa_ar_iosurface_switch",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(ffe=!1)}})}))}class mfe{constructor(e=0,t,r){this[pfe]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},ve&&!gfe&&vfe()}get timestamp(){return this[pfe].native?this[pfe].native.timestamp:null}get camera(){if(!this[pfe].native)return null;if(!this[pfe].camera){var e=this[pfe].native.camera;this[pfe].camera=new cfe(e)}return this[pfe].camera}get lightEstimate(){if(!this[pfe].native)return null;if(!this[pfe].lightEstimate){var e=this[pfe].native.lightEstimate;this[pfe].lightEstimate=new dfe(e)}return this[pfe].lightEstimate}destroy(){this[pfe].native=null,this[pfe].camera&&(this[pfe].camera.destroy(),this[pfe].camera=null),this[pfe].lightEstimate&&(this[pfe].lightEstimate.destroy(),this[pfe].lightEstimate=null),this[pfe].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[pfe].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[pfe].native)return null;if(e%16==0){if(this[pfe].session[hfe].options.gl)return this[pfe].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getDepthBuffer(){return this[pfe].native&&this[pfe].session?this[pfe].native.getDepthBuffer():null}getDepthTexture(e){if(!this[pfe].native||!this[pfe].session)return null;var t=this[pfe].session;if(!(e=e||t[hfe].options.gl))return null;var r=t[hfe].depthTexture;r||(r=e.createTexture());var n=this[pfe].native.getDepthBuffer();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(n.DepthAddress)),t[hfe].depthTexture=r,r._gl=e,e.bindTexture(e.TEXTURE_2D,null),r}getCameraTexture(e,t="yuv"){if(!this[pfe].native||!this[pfe].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[pfe].session;if(!(e=e||r[hfe].options.gl))return null;if("yuv"===t){var n=r[hfe].yTexture;n||(n=e.createTexture());var i,a=r[hfe].uvTexture;a||(a=e.createTexture());var o=!1;return ve&&ffe&&(o=this[pfe].native.updateCameraYUVTextureIOS(n,a,e)),o||(i=this[pfe].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,i.width,i.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(i.yAddress)),r[hfe].yTexture=n,n._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,i.width/2,i.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(i.uvAddress)),r[hfe].uvTexture=a,a._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:n,uvTexture:a}}return null}getDisplayTransform(){return this[pfe].native?this[pfe].native.getDisplayTransform():null}getAllAnchors(){}}var yfe={},_fe=[],bfe=null;function wfe(e=0){return yfe[e]}function Sfe(e=0,t){yfe[e]=t}function Cfe(e=0){yfe[e]=null}function Ife(e=0){if(bfe){var t=wfe(bfe);t&&t.stop()}bfe=e}function Afe(e=0){bfe===e&&(bfe=null)}function kfe(e=0){bfe===e&&(bfe=null),Cfe(e)}function Efe(){return bfe}function Tfe(e=0){return-1!==_fe.indexOf(e)}function Pfe(e=0){var t=wfe(e);t&&(t.stop(),Tfe(e)||_fe.push(e))}function xfe(e=0){var t=wfe(e);if(t&&(t.start(),Tfe(e))){var r=_fe.indexOf(e);_fe.splice(r,1)}}var Ofe=bq(),Rfe=e=>setTimeout(e,0,1e3*Ofe.since()),Mfe=e=>clearTimeout(e),Dfe=null;ve&&!Oe()?(Dfe||(Dfe=fH()),Rfe=e=>Dfe.requestAnimationFrame(e),Mfe=e=>Dfe.cancelAnimationFrame(e)):ge||Oe()?(Rfe=e=>Af.requestAnimationFrame(e),Mfe=e=>Af.cancelAnimationFrame(e)):fe&&(Rfe=e=>window.requestAnimationFrame((()=>e(1e3*Ofe.since()))),Mfe=e=>window.cancelAnimationFrame(e));var Nfe=Ohe.VKSession,Lfe=function(){};class Bfe{constructor(e=0,t={},r=""){this[Nfe]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||Mhe.V1,implType:Rhe.WEVISION,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[Nfe].eventMap[e];r&&r.length&&r.forEach((r=>{E.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[Nfe].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[Nfe].native?this[Nfe].native.state:The.UNAVAILABLE}get cameraSize(){return this[Nfe].native?this[Nfe].native.getCameraSize():null}get config(){return this[Nfe].native?this[Nfe].native.config:null}set config(e){this[Nfe].native.config=e}get version(){return this[Nfe].version}get requestAnimationFrame(){return this[Nfe].native?Rfe:Lfe}get cancelAnimationFrame(){return this[Nfe].native?Mfe:Lfe}static isSupport(e){if(fe)return!1;if(e===Mhe.V2){var t;if(ve){t=1===Number(H.expt&&H.expt.clicfg_appbrand_ios_arkit2wevision_usewevision)?Rhe.WEVISION_VIO:Rhe.ARKIT}else t=Rhe.WEVISION_VIO;return Af.ARSession.isSupportARImplType(t)}return e===Mhe.V1||void 0}setDepthOccRange(e=.01,t=10){if(!this[Nfe].native)return console.error("native is null"),null;this[Nfe].native.setDepthOccRange(e,t)}start(e){var t=this;return Hp()((function*(){if("function"!=typeof e&&(e=Lfe),t.state===The.RUNNING)return e(null);var r=yield _G("createVKSession").catch((e=>({success:!0})));if(r.success){var n=t[Nfe].version;if(!Bfe.isSupport(n))return console.error(`VKSession.start:fail The current device does not support version "${n}"`),void e(Ahe.DEVICE_NOT_SUPPORTED);if(t[Nfe].native){Ife(t[Nfe].webviewId);var i=t[Nfe].native.start();i===Ahe.SUCCESS?e(null):e(Ehe[i])}else{var a=t[Nfe].options,o=a.track||{};if(o.plane?o.plane&&"number"==typeof o.plane.mode&&(o.plane.mode=o.plane.mode<<1):o.plane={mode:2},o.threeDof&&(a.arImplType=Rhe.WEVISION_3DOF),a.track=o,o.OSD)a.arImplType=Rhe.WEVISION_OSD;else if(o.face&&o.face.mode>0){a.arImplType=Rhe.WEVISION_FACE;var s="object"==typeof o.face?o.face:{};a.forbidCamera=2===s.mode}else if(o.body&&o.body.mode>0){a.arImplType=Rhe.WEVISION_BODY;var l="object"==typeof o.body?o.body:{};a.forbidCamera=2===l.mode}else if(o.hand&&o.hand.mode>0){a.arImplType=Rhe.WEVISION_HAND;var c="object"==typeof o.hand?o.hand:{};a.forbidCamera=2===c.mode}else if(o.OCR){var u="object"==typeof o.OCR?o.OCR:{};a.arImplType=Rhe.WEVISION_OCR,a.forbidCamera=2===u.mode}else if(t[Nfe].version===Mhe.V2)if(ve){if(o.depth){var d="object"==typeof o.depth?o.depth:{};a.arImplType=Rhe.WEVISION_VIO_DEPTH,a.forbidCamera=2===d.mode}else 1===Number(H.expt&&H.expt.clicfg_appbrand_ios_arkit2wevision_usewevision)&&2===o.plane.mode?a.arImplType=Rhe.WEVISION_VIO:a.arImplType=Rhe.ARKIT}else if(o.depth){var p="object"==typeof o.depth?o.depth:{};a.arImplType=Rhe.WEVISION_VIO_DEPTH,a.forbidCamera=2===p.mode}else a.arImplType=Rhe.WEVISION_VIO;else if(o.marker)a.arImplType=Rhe.WEVISION_MARKER;else if(o.depth){var h="object"==typeof o.depth?o.depth:{};a.arImplType=Rhe.WEVISION_MONODEPTH,a.forbidCamera=2===h.mode}t[Nfe].implType=a.arImplType;var f=e=>e.map((e=>ife(t[Nfe].webviewId,e))).filter((e=>!!e)),g=()=>{if(!Af.ARSession)return e(Ahe.DEVICE_NOT_SUPPORTED);Af.ARSession.create(a,(r=>{if("number"==typeof r){var n=Ehe[r]||Ahe.SYSTEM_ERROR;return ge&&n===Ahe.NO_SYSTEM_CAMERA_ACCESS?void cP({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&C_(),e(n)}}):e(n)}r.onEvent(xhe.ON_ADD_ANCHORS,(e=>t[Nfe].trigger("addAnchors",[f(e)]))),r.onEvent(xhe.ON_UPDATE_ANCHORS,(e=>{t[Nfe].trigger("updateAnchors",[f(e)])})),r.onEvent(xhe.ON_REMOVE_ANCHORS,(e=>t[Nfe].trigger("removeAnchors",[f(e)]))),r.onEvent(xhe.FRAME_SIZE_CHANGED,(()=>t[Nfe].trigger("resize"))),t[Nfe].native=r,Ife(t[Nfe].webviewId);var i=r.start();return i===Ahe.SUCCESS?(e(null),setTimeout((()=>aF(t[Nfe].pluginId,"VKSession.start")))):e(Ehe[i]),null}),(e=>{"string"==typeof e&&(e=JSON.parse(e));var r=e.event,n=e.params;switch(r){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddHandAnchor":case"onAddDepthAnchor":var i=n.anchors;t[Nfe].trigger("addAnchors",[f(i)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateHandAnchor":case"onUpdateDepthAnchor":var a=n.anchors;t[Nfe].trigger("updateAnchors",[f(a)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":case"onRemoveDepthAnchor":var o=n.anchors;t[Nfe].trigger("removeAnchors",[f(o)])}}))};if(a.forbidCamera)g();else F$(t[Nfe].pluginId)({scope:"scope.camera",success:g,fail:()=>{e(Ahe.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}e(r.errno)}))()}stop(){this[Nfe].native&&this.state!==The.PAUSE&&(this[Nfe].native.stop(),Afe(this[Nfe].webviewId))}destroy(){this[Nfe].native&&(this[Nfe].native.destroy(),sfe(this[Nfe].webviewId),Whe(this[Nfe].webviewId),kfe(this[Nfe].webviewId),this[Nfe].native=null,this[Nfe].lastFrame&&(this[Nfe].lastFrame.destroy(),this[Nfe].lastFrame=null),this[Nfe].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[Nfe][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[Nfe][e]=null})))}getVKFrame(e,t){if(!this[Nfe].native)return null;sfe(this[Nfe].webviewId);var r=this[Nfe].native.getARFrame(e,t);if(r){var n=new mfe(this[Nfe].webviewId,r,this);return this[Nfe].lastFrame&&(this[Nfe].lastFrame.destroy(),this[Nfe].lastFrame=null),this[Nfe].lastFrame=n,n}return null}removeAnchor(e){if(this[Nfe].native){var t=afe(e);this[Nfe].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[Nfe].native)return null;var n=this[Nfe].native.hitTest(e,t,r);return n?n.map((e=>({anchor:ife(this[Nfe].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[Nfe].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_MARKER&&this[Nfe].implType!==Rhe.WEVISION_VIO)return console.error("native is null, implType is not wevision marker or wevision vio"),null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var n=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=Ap(Fc.lastRoute,e,!1));var i=ofe(this[Nfe].webviewId,n);return this[Nfe].native.addARMarker(i,e),i}removeMarker(e){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_MARKER&&this[Nfe].implType!==Rhe.WEVISION_VIO)return null;this[Nfe].native.removeARMarker(e)}getAllMarker(){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_MARKER&&this[Nfe].implType!==Rhe.WEVISION_VIO)return null;var e=this[Nfe].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_OSD)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|store)\//.test(e)||(e=Ap(Fc.lastRoute,e,!1));var r=ofe(this[Nfe].webviewId,t);return this[Nfe].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_OSD)return null;this[Nfe].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_OSD)return null;var e=this[Nfe].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}update3DMode({open3d:e=!1}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_FACE&&this[Nfe].implType!==Rhe.WEVISION_BODY&&this[Nfe].implType!==Rhe.WEVISION_HAND)return null;this[Nfe].native.update3DMode(e)}updateOSDThreshold(e){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_OSD)return null;this[Nfe].native.updateOSDThreshold(e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,modelMode:a=1,open3d:o=!1}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_FACE)return null;this[Nfe].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,modelMode:a,open3d:o}},e)}detectDepth({frameBuffer:e,width:t,height:r}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_MONODEPTH)return null;this[Nfe].commonCmd({action:"runDepth",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,open3d:a=!1}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_BODY)return null;this[Nfe].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,open3d:a}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_OCR)return null;this[Nfe].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:n,algoMode:i,open3d:a=!1}={}){if(!this[Nfe].native||this[Nfe].implType!==Rhe.WEVISION_HAND)return null;this[Nfe].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,algoMode:i,open3d:a}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Nfe].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[Nfe].eventMap;if(r){var n=r[e]=r[e]||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}}function $fe(e){var t=Efe();t!==e&&Pfe(t)}function Ffe(e){Tfe(e)&&xfe(e)}function jfe(e={}){var t=Bh(this),r=Fc.currentWebviewId,n=wfe(r),i=e.version||Mhe.V1;return Bfe.isSupport(i)||console.error(`createVKSession:fail The current device does not support version "${i}"`),n||Sfe(r,n=new Bfe(r,e,t)),n}function Wfe(e={}){var t=Fc.currentWebviewId,{type:r,config:n={}}=e,i=null;return"image"===r?i=new Af.ARImageReference(n):"object"===r&&(i=new Af.ARObjectReference(n)),Fhe(t,i)}function Ufe(e){return Bfe.isSupport(e)}VA((()=>{Ffe(Fc.currentWebviewId)})),ek((()=>$fe())),tT((e=>{var t=e.webviewId;$fe(t),Ffe(t),NC(t,(()=>{var e=wfe(t);e&&e.destroy(),sfe(t),Whe(t)}),"AR")}));var Vfe=1;H.onReady((()=>{try{"number"==typeof H.wxAppInfo.maxWorkerConcurrent&&(Vfe=H.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var qfe=()=>{if(be)return!0;var e=!1,t=!!ve&&"clicfg_appbrand_ios_allow_multi_context_worker";return!t||(v.info(`[expt] clicfg_appbrand_ios_allow_multi_context_worker: ${H.expt[t]}`),1===Number(H.expt&&H.expt[t])&&(e=!0),e)},zfe=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:H.accountInfo.appId,useExperimentalWorker:r&&bf("WeAppWorker")},i="workers.js",a=pz.service,o=Bh(this);if(o&&(i=Ep(o,"workers.js"),a=pz.plugin,n.pluginId=o),gz.getSizeByType(a)>=Vfe)throw new Error("createWorker: exceed max concurrent workers limit.");var s=i;qfe()&&!r&&(i=xz()&&!be?void 0:i);var{workerId:l,useWKWorker:c}=C.create(i,n);if(setTimeout((()=>{T.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),l>0)return new Kz(l,e,{useWKWorker:c,contextType:a,pluginId:n.pluginId,injectFilePath:s});throw-1===l?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},Gfe="weapp://wechat-game-runtime";function Hfe(e={}){var{filePath:t,encoding:r,success:n,fail:i,complete:a}=e;return fetch(`${Gfe}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof n&&n({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof a&&a({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof i&&i(e),"function"==typeof a&&a(e)}))}function Kfe({filePath:e,encoding:t}){var r=new XMLHttpRequest;return r.open("POST",`${Gfe}/wxfs/${btoa(e)}`,!1),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof t?"text":"arraybuffer",r.send(JSON.stringify({})),"string"==typeof t?r.responseText:r.response}var Qfe={},Jfe=e=>{var t;return"string"!=typeof e?t=new Error("WebAssembly.instantiate: first argument must be a string"):/^(wxfile|https?):/.test(e)?t=new Error("WebAssembly.instantiate: not support wxfile: or http: path"):/\.wasm(\.br)?$/.test(e)||(t=new Error("WebAssembly.instantiate: only support file type .wasm or .wasm.br")),t},Xfe=e=>bf("allowBufferWASM")&&Ub(e,"allowBufferWASM"),Yfe=(e,t,r,n)=>new Promise(((i,a)=>{e({compressionAlgorithm:"br",filePath:t,success(e){Qfe.instantiate(e.data,r).then((e=>{n(!0,e),i(e)}),(e=>{n(!1,e),a(e)}))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));n(!1,t,!Ee),a(t)}})})),Zfe=(e,t,r)=>{var n=e(t);return new Qfe.Instance(n,r)},ege=e=>(t,r,n)=>{if(Qfe.Module&&t instanceof Qfe.Module)return e?new Qfe.Instance(t,r):Qfe.instantiate(t,r);var i,a,o,s=nA("instantiate",{file:t,imports:r},!1,!1);if(Xfe(n)||/^(wxfile:\/\/__wxprivate__)/.test(t)||(i=Jfe(t)),i){if(s(!1,i,!0),e)throw i;return Promise.reject(i)}if(Ee||(ve||ge)&&"string"==typeof t&&t.startsWith("wxfile://")){var l,c;if(e)return/\.br$/.test(t)?(l=ug,c={filePath:t,compressionAlgorithm:"br"}):(l=Nf,c=t),Zfe(l,c,r,s);var u=/\.br$/.test(t)?cg:Df;return Yfe(u,t,r,s)}if(ve||ge){if(e)return new Qfe.Instance(t,r);var d=Qfe.instantiate(t,r);return"Promise"===Ue(d)?(s(!0,d),d):(s(!0,d,!0),Promise.resolve(d))}if(e)return/\.br$/.test(t)?(a=ug,o={filePath:t,compressionAlgorithm:"br"}):(a=Nf,o=t),Zfe(a,o,r,s);var p=/\.br$/.test(t)?cg:Df;return Yfe(p,t,r,s)},tge=ege(!1),rge=ege(!0);function nge(e){var t=Jfe(e);if(t)return Promise.reject(t);if(Ee)return new Promise(((t,r)=>{Hfe({filePath:e,success(e){t(Qfe.compile(e.data))},fail({errMsg:e}){r(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var r=/\.br$/.test(e)?cg:Df;return new Promise(((t,n)=>{r({compressionAlgorithm:"br",filePath:e,success(e){t(Qfe.compile(e.data))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}class ige{constructor(){}}var age=(e,t)=>{var r;return"string"==typeof e&&(e.startsWith("wxfile://")?Xfe(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=new Error("WebAssembly.instantiate: not support wxfile: or http: path")):-1!==e.indexOf(`__plugin__/${t}/`)||(e=Ep(t,e))),{error:r,finalFile:e}},oge=e=>{dge();var t={Table:Qfe.Table,Memory:Qfe.Memory,Global:Qfe.Global,Instance:function(t,r={}){var{error:n,finalFile:i}=age(t,e);if(n)throw n;return rge(i,r,e)},instantiate(t,r={}){var{error:n,finalFile:i}=age(t,e);return n?Promise.reject(n):tge(i,r,e)}};return Qfe.compile&&(t.compile=e=>nge(e)),Qfe.Module&&(t.Module=ige),t},sge=()=>{dge();var e={Table:Qfe.Table,Memory:Qfe.Memory,Global:Qfe.Global};iA(e,!1);var t={...e,Instance:function(e,t={}){return rge(e,t,void 0)},instantiate:(e,t={})=>tge(e,t,void 0)};return Qfe.compile&&(t.compile=e=>nge(e)),Qfe.Module&&(t.Module=ige),t},lge=null,cge=({provider:e}={})=>e?oge(e):(lge||(lge=sge()),lge),uge=!1;function dge(){if(!uge)throw new Error("WebAssembly not ready")}var pge=new Proxy({},{get:(e,t,r)=>(dge(),Reflect.get(e,t,r))});function hge(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),qu("faceProcessInit",e,{beforeFail:e=>{var t=vge(e.errCode),r=mge(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function fge(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),qu("faceDetect",e,{beforeFail(e){var t=vge(e.errCode),r=mge(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function gge(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),qu("faceProcessStop",e,{beforeFail:e=>{var t=vge(e.errCode),r=mge(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function vge(e){switch(e){case 0:return Yr;case 1:case 3:return Xl;case 2:return Yl;case 5:return ec;case 6:return tc;case 4:case 7:return Jl}}function mge(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}h.onLoad((()=>{uge=!0;var e=globalThis;void 0!==Af.WebAssembly?Qfe=Af.WebAssembly:void 0!==e.WebAssembly&&(Qfe=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}Qfe.Module&&(ige.customSections=Qfe.Module.customSections,ige.exports=Qfe.Module.exports,ige.imports=Qfe.Module.imports);var t={Table:Qfe.Table,Memory:Qfe.Memory,Global:Qfe.Global,Instance:Qfe.Instance,compile:Qfe.compile,compileStreaming:Qfe.compileStreaming,instantiateStreaming:Qfe.instantiateStreaming,validate:Qfe.validate,CompileError:Qfe.CompileError,LinkError:Qfe.LinkError,Module:Qfe.Module,RuntimeError:Qfe.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(Qfe.instantiate(e,t,r))};Object.assign(pge,t)}));var yge=E9,_ge=R9,bge=M9,wge=LG,Sge=N9,Cge=D9,Ige=cj,Age=uj,kge=lB,Ege=uB,Tge=pB,Pge=hB,xge=fB,Oge=t4,Rge=r4,Mge=e4,Dge=O5,Nge=R5,Lge=q5,Bge=z5,$ge=G5,Fge=V9,jge=f4,Wge=g4,Uge=v4,Vge=m4,qge=y4,zge=b4,Gge=w4,Hge=S4,Kge=mP,Qge=_P,Jge=bP,Xge=uP,Yge=wP,Zge=V0,eve=q0,tve=z0,rve=Q0,nve=J0,ive=Y0,ave=Z0,ove=iL,sve=oL,lve=sL,cve=dL,uve=CB,dve=SC,pve=IC,hve=mh,fve=kC,gve=AC,vve=yD,mve={getAccountInfoSync:lde,request:due.request,uploadFile:due.uploadFile,downloadFile:due.downloadFile,connectSocket:due.connectSocket,getStorage:tde.getStorage,getStorageSync:tde.getStorageSync,removeStorage:tde.removeStorage,removeStorageSync:tde.removeStorageSync,setStorage:tde.setStorage,setStorageSync:tde.setStorageSync,createAudioContext:nde.createAudioContext,createCameraContext:nde.createCameraContext,createMapContext:nde.createMapContext,createVideoContext:nde.createVideoContext,createInnerAudioContext:nde.createInnerAudioContext,createLivePlayerContext:nde.createLivePlayerContext,createLivePusherContext:nde.createLivePusherContext,createSelectorQuery:cde,createIntersectionObserver:ude,createMediaQueryObserver:dde,nextTick:pde,createCanvasContext:sde.createCanvasContext,createOffscreenCanvas:sde.createOffscreenCanvas,drawCanvas:sde.drawCanvas,canvasToTempFilePath:sde.canvasToTempFilePath,canvasGetImageData:sde.canvasGetImageData,canvasPutImageData:sde.canvasPutImageData,createAnimation:a2,reportAnalytics:hde,chooseImage:kge,chooseMedia:L4,previewImage:Ege,getImageInfo(e){return Tge(e,due.downloadFile.bind(this))},saveImageToPhotosAlbum:Pge,compressImage:xge,startRecord:Oge,stopRecord:Rge,getRecorderManager:Mge,playVoice:Lge,pauseVoice:Bge,stopVoice:$ge,getBackgroundAudioManager:h4,setInnerAudioOption:I4,chooseVideo:Dge,saveVideoToPhotosAlbum:Nge,createMediaContainer:Z4,createMediaRecorder:L7,createVideoDecoder:g7,createMediaAudioPlayer:O4,createWorker:zfe,getLocation:Z2,getFuzzyLocation:C3,openLocation:r3,chooseLocation:e3,choosePoi:t3,onLocationChange:i3,offLocationChange:a3,onLocationChangeError:l3,offLocationChangeError:c3,startLocationUpdate:m3,stopLocationUpdate:y3,getNetworkType:nv,onNetworkStatusChange:iv,offNetworkStatusChange:av,onNetworkWeakChange:ov,offNetworkWeakChange:sv,getSystemInfo:__,getSystemInfoSync:h_,startAccelerometer:Y8,stopAccelerometer:Z8,onAccelerometerChange:r9,offAccelerometerChange:t9,startCompass:a9,stopCompass:o9,onCompassChange:c9,offCompassChange:l9,getClipboardData:y9,setClipboardData:_9,makePhoneCall:u9,makeVoIPCall:d9,startGyroscope:Vre,stopGyroscope:qre,onGyroscopeChange:zre,offGyroscopeChange:Gre,startDeviceMotionListening:Kre,stopDeviceMotionListening:Qre,onDeviceMotionChange:Jre,offDeviceMotionChange:Xre,scanCode:p9,scanItem:v9,makeBluetoothPair:hte,isBluetoothDevicePaired:fte,openBluetoothAdapter:K9,closeBluetoothAdapter:iee,getBluetoothAdapterState:aee,onBluetoothAdapterStateChange:PZ,offBluetoothAdapterStateChange:xZ,startBluetoothDevicesDiscovery:oee,stopBluetoothDevicesDiscovery:see,getBluetoothDevices:lee,getConnectedBluetoothDevices:uee,createBLEConnection:Eee,closeBLEConnection:Tee,getBLEDeviceServices:Pee,getBLEDeviceCharacteristics:xee,getBLEDeviceRSSI:cee,setBLEMTU:gte,getBLEMTU:wte,notifyBLECharacteristicValueChanged:Oee,notifyBLECharacteristicValueChange:Ree,readBLECharacteristicValue:Mee,writeBLECharacteristicValue:Dee,onBluetoothDeviceFound:jee,offBluetoothDeviceFound:Wee,onBLEConnectionStateChanged:Lee,offBLEConnectionStateChanged:Bee,onBLEConnectionStateChange:AZ,offBLEConnectionStateChange:kZ,onBLECharacteristicValueChange:$ee,offBLECharacteristicValueChange:Fee,onBLEMTUChange:_te,offBLEMTUChange:bte,createBLEPeripheralServer:cte,onBLEPeripheralConnectionStateChanged:dte,offBLEPeripheralConnectionStateChanged:pte,getHCEState:ere,startHCE:tre,stopHCE:rre,sendHCEMessage:nre,onHCEMessage:ire,offHCEMessage:are,getNFCAdapter:Ere,startBeaconDiscovery:b9,stopBeaconDiscovery:w9,getBeacons:S9,onBeaconUpdate:C9,offBeaconUpdate:I9,onBeaconServiceChange:A9,offBeaconServiceChange:k9,startWifi:Lte,stopWifi:Bte,getWifiList:$te,getConnectedWifi:jte,connectWifi:Wte,presetWifiList:Ute,setWifiList:Vte,onGetWifiList:qte,onWifiConnected:Gte,offGetWifiList:zte,offWifiConnected:Hte,onEvaluateWifi:Jte,onWifiConnectedWithPartialInfo:Yte,offWifiConnectedWithPartialInfo:Zte,addPhoneCalendar:tne,addPhoneRepeatCalendar:rne,getRandomValues:Ihe,captureScreen:yge,onUserCaptureScreen:_ge,offUserCaptureScreen:bge,setKeepScreenOn:wge,setScreenBrightness:Sge,getScreenBrightness:Cge,vibrateShort:Ige,vibrateLong:Age,addPhoneContact:Fge,login:spe,pluginLogin:cpe,getUserInfo:lpe,getNativeUserInfo:ope,openSetting:tb,getSetting:upe,operateWXData:$ue,requestPluginPayment:rL,requestFacetoFacePayment:bN,requestPersonalPay:xN,openEmbeddedMiniProgram:DW,showModal:Xge,showToast:ppe,hideToast:Kge,showLoading:Qge,hideLoading:Jge,showActionSheet:Yge,pageScrollTo:G1,setPageStyle:X1,setPageOrientation:bW,startPullDownRefresh:H1,stopPullDownRefresh:K1,setNavigationBarTitle:Zge,showNavigationBarLoading:eve,hideNavigationBarLoading:tve,setNavigationBarColor:rve,setNavigationBarAlpha:nve,setNavigationBarRightButton:ive,onTapNavigationBarRightButton:ave,getShareInfo:ove,showShareMenu:sve,hideShareMenu:lve,updateShareMenu:cve,showShareImageMenu:uve,setBackgroundColor:s2,setBackgroundTextStyle:l2,navigateTo:dve,redirectTo:pve,navigateBack:hve,switchTab:fve,reLaunch:gve,getBackgroundAudioPlayerState:jge,playBackgroundAudio:Wge,pauseBackgroundAudio:Uge,seekBackgroundAudio:Vge,stopBackgroundAudio:qge,onBackgroundAudioPlay:zge,onBackgroundAudioPause:Gge,onBackgroundAudioStop:Hge,setCookies:Tde,getCookies:Pde,chooseShareGroup:aae,arrayBufferToBase64:E.surroundThirdByTryCatch(jS),base64ToArrayBuffer:E.surroundThirdByTryCatch(WS),openBusinessView:xde,joinVoIPChat:Fde,exitVoIPChat:Wde,updateVoIPChatMuteConfig:Ude,onVoIPChatMembersChanged:qde,offVoIPChatMembersChanged:zde,onVoIPChatSpeakersChanged:Gde,offVoIPChatSpeakersChanged:Hde,onVoIPChatInterrupted:Xde,offVoIPChatInterrupted:Yde,subscribeVoIPVideoMembers:Zde,onVoIPVideoMembersChanged:tpe,offVoIPVideoMembersChanged:rpe,onVoIPChatStateChanged:ipe,offVoIPChatStateChanged:ape,createRewardedVideoAd:Cde,createInterstitialAd:Ide,updateWeChatApp:Mle,reportPerformance:Ode,getPerformance:Rde,getLaunchOptionsSync:cx,getEnterOptionsSync:lx,onThemeChange:LF,offThemeChange:$F,getVideoInfo:M5,compressVideo:D5,createUDPSocket:wpe,createTCPSocket:due.createTCPSocket,getRealtimeLogManager:dpe,getPublicLibVersion:xne,startLocalServiceDiscovery:Rre,stopLocalServiceDiscovery:Mre,onLocalServiceFound:Dre,offLocalServiceFound:Nre,onLocalServiceLost:Lre,offLocalServiceLost:Bre,onLocalServiceDiscoveryStop:$re,offLocalServiceDiscoveryStop:Fre,onLocalServiceResolveFail:jre,offLocalServiceResolveFail:Wre,loadFontFace:V5,getBatteryInfo:K8,getBatteryInfoSync:Q8,getAvailableAudioSources:C4,onAudioInterruptionBegin:mJ,offAudioInterruptionBegin:yJ,onAudioInterruptionEnd:bJ,offAudioInterruptionEnd:wJ,previewMedia:$4,openVideoEditor:j7,saveFileToDisk:hpe,openDocument:ff,getMenuButtonBoundingClientRect:h2,version:EI(),chooseAddress:yF,chooseInvoice:JF,chooseInvoiceTitle:xF,publishWeChatState:$j,navigateToMiniProgram:vve,exitMiniProgram:fW,createVKSession:jfe,createVKReference:Wfe,isVKSupport:Ufe,faceDetect:fge,initFaceDetect:hge,stopFaceDetect:gge,getLocalIPAddress:one,openSystemBluetoothSetting:S_,openAppAuthorizeSetting:C_,getSystemSetting:k_,getAppAuthorizeSetting:E_,getDeviceInfo:N_,getWindowInfo:B_,getAppBaseInfo:F_,setVisualEffectOnCapture:L9,createInferenceSession:qg,getInferenceEnvInfo:zg,getXrFrameSystem:Ope},yve=Che();Object.keys(yve).forEach((e=>{mve[e]=yve[e]}));var _ve=(e,t)=>new Xue(mve,e,t),bve=()=>"undefined"==typeof BaseConsole?new A.BaseConsole:new BaseConsole,wve=e=>cge({provider:e});Zce();var Sve=Oh.pluginInfos,Cve={};H.onReady((()=>{"object"==typeof H.env&&(Cve.USER_DATA_PATH=H.env.USER_DATA_PATH)}));const Ive=Cve;var Ave=(e,t)=>({vdSync(t,r){e("vdSync",t,r)},vdSyncBatch(t,r){e("vdSyncBatch",t,r)},onVdSync(e){t("vdSync",e)},onVdSyncBatch(e){t("vdSyncBatch",e)}}),kve=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},Eve={};Br("media_banned",(e=>{var{index:t,permissionByte:r}=e;Eve[t]=r}));var Tve=()=>Eve,Pve=[];function xve(e,t){Pve.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function Ove(e){Pve.push(e)}var Rve=null,Mve=(e={})=>{if(yc("showAuthorize",e,{apply:""})){var t=H.accountInfo.nickname,r=H.accountInfo.icon,n=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),i=TM((e=>{[gM.BottomBackButton,gM.NavigationBackInterceptionType,gM.NavigateBackCall].includes(e.type)&&Rve&&(Rve.handleCancel(),Rve=null)}));l.initScl((t=>{(Rve=t.mainRoot.append("authorize",{input:n})).addListener("confirm",(()=>{PM(i),Sc({name:"showAuthorize",args:e})})),Rve.addListener("cancel",(()=>{PM(i),bc("showAuthorize",e,"cancel")}))}))}},Dve=new Map;function Nve({component:e,getVisibleAera:t}){Dve.has(e)||Dve.set(e,t)}function Lve(e){Dve.delete(e)}function Bve(){return[...Dve.entries()].map((([e,t])=>{var{width:r,height:n,left:i,top:a}=t(e);return{width:r,height:n,left:i,top:a}}))}function $ve({left:e,width:t}){return e+t}function Fve({top:e,height:t}){return e+t}function jve(e,t){var r=Math.max(e.left,t.left),n=Math.max(r,Math.min($ve(e),$ve(t))),i=Math.max(e.top,t.top),a=Math.max(i,Math.min(Fve(e),Fve(t)));return r!==n&&i!==a}function Wve(e,t){var r;null!==(r=t)&&void 0!==r||(t=Bve());var n=t.findIndex((t=>jve(t,e)));return-1!==n&&t[n]}Dve.set({},(()=>h2()));var Uve=8;function Vve({height:e,width:t,align:r="right",padding:n=Uve}){for(var i,a=null!==(i=H.screenWidth)&&void 0!==i?i:375,o=a/2,s=Bve(),l=s.map((({width:e,left:t,...r})=>({width:e,left:t,...r,align:e>o?"center":t<o?"left":"right"}))).filter((({align:e})=>r===e||"center"===e)).sort(((e,t)=>e.top-t.top)),c=l[l.length-1],u={height:e,width:t,left:"left"===r?0:a-t,top:c?c.height+c.top+n:0},d=Wve(u,s);d;)u.top=d.top+d.height+n,d=Wve(u,s);return u}var qve=null;function zve(e={},t){if(qve)return t&&t(qve);var{top:r}=Vve({height:20,width:180,align:"right"}),{right:n}=h2(),i=H.screenWidth-n,a=JSON.stringify(e);l.initScl((e=>{Nve({component:qve=e.mainRoot.append("verify-tip",{top:r,right:i,info:a}),getVisibleAera:e=>e.__wxSlotChildren[0].__wxSlotChildren[0].childNodes[0].getBoundingClientRect()}),qve.addListener("destroy",(()=>{Lve(qve),qve=null})),t&&t(qve)}))}var Gve=new Ah("Keyboard"),Hve=new Ah("",!0),Kve=new Set,Qve=["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"];function Jve(e,t){Gve.emit(e,t),Hve.emit(e,t),Kve.forEach((r=>{Hve.emit(`${r}-${e}`,t)}))}Qve.forEach((e=>{Yt(e,(t=>{Jve(e,t)}))}));var Xve=(e,t,r)=>{Kve.add(e),Hve.on(`${e}-${t}`,r)},Yve=(e,t,r)=>{Hve.off(`${e}-${t}`,r)},Zve=e=>Hve.on("onKeyboardInput",e),eme=e=>Hve.off("onKeyboardInput",e),tme=e=>Hve.on("onKeyboardConfirm",e),rme=e=>Hve.off("onKeyboardConfirm",e),nme=e=>t=>Xve(e,"onKeyboardConfirm",t),ime=e=>t=>Yve(e,"onKeyboardConfirm",t),ame=e=>Hve.on("onKeyboardComplete",e),ome=e=>Hve.off("onKeyboardComplete",e),sme=e=>t=>Xve(e,"onKeyboardComplete",t),lme=e=>t=>Yve(e,"onKeyboardComplete",t),cme=e=>Gve.on("onKeyboardHeightChange",e),ume=e=>Gve.off("onKeyboardHeightChange",e),dme=e=>Hve.on("onKeyboardHeightChange",e),pme=e=>Hve.off("onKeyboardHeightChange",e),hme=e=>t=>Xve(e,"onKeyboardHeightChange",t),fme=e=>t=>Yve(e,"onKeyboardHeightChange",t),gme=e=>Gve.on("onStoreEmoticonSelect",e),vme=e=>Gve.off("onStoreEmoticonSelect",e),mme=null,yme=!1,_me="",bme=0,wme=null,Sme=({value:e})=>{_me&&mme.setData({[_me]:e})},Cme=({value:e})=>{yme=!1,_me&&mme.setData({[_me]:e})},Ime=({detail:e})=>{_me===e.key&&yme||(_me=e.key,yme?qu("hideKeyboard",{success:()=>{yme=!1,setTimeout((()=>{qu("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===_me?"identity":"text",style:{height:"50px"},success:()=>{yme=!0}})}),800)}}):qu("showKeyboard",{confirmType:"done",defaultValue:e.value,type:"id"===_me?"identity":"text",style:{height:"50px"},success(){yme=!0,mme.setData({open:yme,key:_me})}}))},Ame=({height:e})=>{e<100?mme.setData({keyboardHeight:0}):mme.setData({keyboardHeight:e+50})};function kme(e={},t){var r;if(clearInterval(wme),bme=null!==(r=e.remainSeconds)&&void 0!==r?r:bme,wme=setInterval((()=>{bme>0&&bme--}),1e3),mme)return t&&t(mme);l.initScl((r=>{mme=r.mainRoot.append("verify-modal",e),Yt("onKeyboardHeightChange",Ame),mme.addListener("destroy",(({detail:t})=>{mme=null,eme(Sme),rme(Cme),tr("onKeyboardHeightChange",Ame),e.des&&e.des(null==t?void 0:t.reason),"success"===(null==t?void 0:t.reason)&&e.reportkv({UIArea:1511,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1})})),mme.addListener("click",Ime),mme.addListener("confirm",(({detail:t})=>(qu("hideKeyboard",{success:()=>{yme=!1}}),e.confirm({...t,showModal:(...e)=>mme.showModal(...e)})))),mme.addListener("switchPage",(({detail:t})=>{yme&&qu("hideKeyboard",{success:()=>{yme=!1}});var{page:r}=t,n=e.half?1508:1507;"help"===r?n=1509:"fail"===r?n=1510:"succ"===r&&(n=1511),e.reportkv({UIArea:n,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1}),mme.setData({...t})})),mme.addListener("close",(({detail:t})=>{!e.isSoftMode&&bme<=0?fW():(mme.des(null==t?void 0:t.reason),"fail"===(null==t?void 0:t.reason)?e.reportkv({UIArea:1510,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1}):"cancel"===(null==t?void 0:t.reason)&&(qu("hideKeyboard",{success:()=>{yme=!1}}),e.reportkv({UIArea:e.half?1508:1507,PositionID:3,ActionID:2,Status:e.isSoftMode?3:1})))})),mme.addListener("report",(({detail:t})=>{e.reportkv(t)})),Zve(Sme),tme(Cme),t&&t(mme)}))}function Eme(e,t,r,n=0){T.reportKeyValue({key:"Handoff",value:[H.appType+1e3,H.appLaunchInfo.scene,e,t,r,n,lv(),""].join(",")})}var Tme=e=>{qu("checkHandoffEnabled",e)},Pme=(e={})=>{var{path:t,fromButton:r}=e;r?bf("handoff")?Tme({success({isEnabled:e,errCode:r}){e?(Eme(2,2,2),Mve({apply:"在电脑端微信打开小程序",success(){Eme(2,2,1),qu("startHandoff",{path:t,actionId:2},{beforeSuccess:()=>Eme(2,1,1),beforeFail:({errCode:e})=>Eme(2,1,0,e)})},fail(){Eme(2,2,0)}})):Eme(2,1,0,r)}}):console.warn("startHandOff:fail no permission"):qu("startHandoff",{path:t,actionId:1},{beforeSuccess:()=>Eme(1,1,1),beforeFail:({errCode:e})=>Eme(1,1,0,e)})};function xme(e,t){return Ome.apply(this,arguments)}function Ome(){return(Ome=Hp()((function*(e,t){if(_x.recording){var r=qk[e];r&&bx({timestamp:Date.now(),type:r,data:{payload:t}})}}))).apply(this,arguments)}function Rme(e){if(_x.recording){var t=yx.recordingWebviewIds.indexOf(e);t>=0&&yx.recordingWebviewIds.splice(t,1),yx.reporter===e&&(yx.recordingWebviewIds.length?yx.reporter=yx.recordingWebviewIds[0]:yx.reporter=void 0)}}function Mme(e){return Dme.apply(this,arguments)}function Dme(){return(Dme=Hp()((function*(e){var t;(_x.recording&&2===e.event_id&&bx({type:lk.PageStaytime,data:{path:e.pagepath.replace(".html",""),query:e.query,staytime:e.staytime},timestamp:Date.now()}),e.sessionid!==_x.weSessionId&&_x.recording)&&zE(null!==(t=_x.weSessionId)&&void 0!==t?t:void 0);_x.weSessionId=e.sessionid}))).apply(this,arguments)}var Nme=(e,t)=>{qu("getAppConfig",e,t)},Lme=function(e){Rt("onAppConfig",e)},Bme=function(e){Rt("onPullDownRefresh",e)},$me=function(e){Rt("onShareAppMessage",e)},Fme=function(e){Rt("onAddToFavorites",e)},jme=function(e){Rt("onStartHandoff",e)},Wme=(e,t)=>{qu("addToFavorites",e,t)},Ume=function(e){Rt("onTabItemTap",e)},Vme=(e,t)=>{qu("reportRealtimeAction",e,t)},qme=(e,t)=>{qu("shareAppMessage",e,t)},zme=(e,t)=>{qu("shareAppMessageDirectly",e,t)},Gme=(e,t)=>{qu("shareAppMessageToSpecificContactDirectly",e,t)},Hme=(e,t)=>{qu("shareAppMessageForFakeNative",e,t)},Kme=(e,t)=>{qu("shareAppMessageToSpecificContactForFakeNativeDirectly",e,t)},Qme=(e,t)=>{qu("checkHandoffEnabled",e,t)},Jme=e=>{Br("recycleStatistics",e)},Xme=e=>{Br("savePageState",e)},Yme=e=>{Br("tapShareButton",e)},Zme=e=>{Br("tapHandoffButton",e)},eye=e=>{Br("tapShareTimeLineButton",e)},tye=(e,t)=>{qu("showUpdatableMessageSubscribeButton",e,t)},rye=e=>Rt("onShareTimeline",e),nye=(e,t)=>qu("shareTimeline",e,t),iye=e=>qu("showShareTimelineMenu",e),aye=U0,oye=oL,sye=aL,lye=DP,cye=WC,uye=UC,dye=function(e){jC.call(this,e)},pye=O1,hye=(e,t)=>{Or("functionalPage",e,t)},fye=(e,t)=>{Or("pageScrollTo",e,t)},gye=(e,t)=>{Or("telecontrol",e,t)},vye=(e,t)=>{Or("__updateAppData",e,t)},mye=e=>{Br("subjectChangeInfo",e)},yye=e=>{Pd({apiName:"webapi_report_data",reqData:e})},_ye=(e,t={})=>{Pd({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:2,...e},...t})},bye=(...e)=>Hy("ad")===qy.uninjected?[]:ADSDK.getPreloadAdUnitIds(...e),wye=()=>H.subPackages||H.subpackages,Sye=Symbol("Cache"),Cye={OFF:0,ON:1,UNKNOWN:2},Iye={WEAK_NETWORK:"weakNetwork",ALWAYS:"always",NONE:"none"},Aye=["ALL","GET","POST","PATCH","PUT","DELETE"],kye=6048e5,Eye=2592e6,Tye={JS_AUTHORIZE:1157,JS_AUTHORIZE_CONFIRM:1158,JS_OPERATE_WX_DATA:1133},Pye=["login","checkSession","getSetting"],xye={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20},Oye=g(405),Rye=g.n(Oye),Mye=Object.prototype.hasOwnProperty;function Dye(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},Dye(n,t[r])):t[r]=n}))}function Nye(e){var t={};return Dye(e,t),Rye()(JSON.stringify(t))}function Lye({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function Bye(e,t){return Rye()(`${e}|${t}`)}function $ye(e){return Rye()("string"==typeof e?e:JSON.stringify(e))}function Fye(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function jye(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function Wye(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return qye(t,r,n);if(r!==t)return!1}return!0}function Uye(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function Vye({type:e="any",value:t},r,n,i){var a,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){a=typeof n[0];for(var l=1,c=n.length;l<c;l++)if(typeof n[l]!==a)return!1}else a=typeof n;var u=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(a!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(a!==e||Array.isArray(u)||null===u)return!1}if(o){i[r]=[];for(var d=0,p=n.length;d<p;d++){var h=Uye(n[d]);if(!Wye(e,t,n[d],h))return!1;i[r].push(h)}}else{var f=Uye(n);if(!Wye(e,t,n,f))return!1;i[r]=f}return!0}function qye(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,i=e.length;n<i;n++){var{name:a,schema:o}=e[n];if(a&&o){if(!Mye.call(t,a))return!1;var s=t[a];if(Array.isArray(o)){for(var l=!1,c=0,u=o.length;c<u;c++){if(l=Vye(o[c],a,s,r))break}if(!l)return!1}else if("object"==typeof o&&!Vye(o,a,s,r))return!1}}return!0}function zye(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:i,next:a}=n;return i&&(i.next=a),a&&(a.prev=i),n===e&&(e=a),n===t&&(t=i),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var a=t[n];r({key:a,time:e[a][1]})}},add:(r,i)=>{var a=n(r)||{key:r};a.time=i,e?(t.next=a,a.prev=t,t=a):(e=a,t=a)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}var Gye=M8.cache,Hye=zye(),Kye={};function Qye(e,t,r){Hye.add(t,r),Kye[t]=[e,r],Gye.setStorage({key:"cache|meta",data:Kye})}function Jye(e,t){var r=Bye(e,t);Gye.removeStorage({key:r,success(){Hye.del(r),delete Kye[r],Gye.setStorage({key:"cache|meta",data:Kye})}})}function Xye(e,t){var r=e.length,n=0,i=()=>{++n>=r&&(Gye.setStorage({key:"cache|meta",data:Kye}),t&&t())};e.forEach((e=>{Gye.removeStorage({key:e,success(){Hye.del(e),delete Kye[e],i()},fail:i})}))}function Yye(e){var t=[];Hye.each((r=>{Kye[r][0]===e&&t.push(r)})),t&&t.length&&Xye(t)}function Zye(e){Gye.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:i}=t;if(r.length>100||n>.66*i){var a=Hye.eliminate(5);a.length?Xye(a,e):e()}else e()}})}function e_e(e,t,r,n){Gye.setStorage({key:t,data:r,success:()=>Qye(e,t,n)})}function t_e(e,t){var r=Date.now(),n=e.rule.id,i=Lye(e),a=Bye(n,i);Zye((()=>e_e(n,a,t,r)))}function r_e(e){var t=e.rule.id,r=Lye(e),n=Bye(t,r);try{var i=Gye.getStorageSync(n);if(i){var a=Date.now(),o=e.rule.maxAge;if(a-i.ts<o)return Qye(t,n,a),{cacheId:r,...i};Gye.removeStorage({key:n,success:()=>Jye(t,r)})}else Gye.removeStorage({key:n})}catch(e){}return null}function n_e(e,t={},r,n){var i=`cache|${e}`;t=$ye(t),Zye((()=>{Gye.setStorage({key:i,data:{args:t,data:r,expire:n}})}))}function i_e(e,t){var r=`cache|${e}`;t=$ye(t);try{var n=Gye.getStorageSync(r);return!n||n.args!==t||Date.now()>n.expire?void Gye.removeStorage({key:r}):n.data}catch(e){}return null}H.onReady((()=>{Gye.getStorage({key:"cache|meta",success:e=>{e&&(Kye=e.data,Hye.addMap(Kye)),Gye.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(Kye[e]||Gye.removeStorage({key:e}))}))}})}})}));var a_e=!1,o_e=!1,s_e=0,l_e=!1,c_e="",u_e=0,d_e=0,p_e=0,h_e=[xye.ENTER_WEAK_NETWORK_4_OLD,xye.EXIT_WEAK_NETWORK_4_OLD,xye.REQUEST_4_OLD,xye.EXIT_MINIPROGRAM_4_OLD],f_e=[xye.ENTER_WEAK_NETWORK,xye.EXIT_WEAK_NETWORK,xye.EXIT_MINIPROGRAM,xye.ENTER_WEAK_NETWORK_4_OLD,xye.EXIT_WEAK_NETWORK_4_OLD,xye.EXIT_MINIPROGRAM_4_OLD],g_e=!1,v_e=0,m_e=!1;function y_e(){var e=woe(poe.AppRoute_Begin);return{fr:woe(poe.Real_Init_Ready)-e,fp:woe(poe.FP)-e,fcp:woe(poe.FCP)-e}}function __e(e){o_e||(s_e=Date.now(),o_e=!0,!l_e&&s_e-u_e<5e3&&(l_e=!0),S_e(xye.ENTER_WEAK_NETWORK,e))}function b_e(e){o_e&&(o_e=!1,S_e(xye.EXIT_WEAK_NETWORK,e,{duration:Date.now()-s_e}))}function w_e(){o_e&&S_e(xye.EXIT_MINIPROGRAM,null,{duration:Date.now()-s_e}),g_e&&S_e(xye.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-v_e})}tT(((e={})=>{u_e=Date.now(),l_e=o_e,m_e=g_e,c_e=e.path||e.rawPath||""})),ik(((e={})=>{3===e.targetAction&&w_e(),a_e&&(S_e(xye.CACHE_MATCH,null,{matchCount:d_e,matchSuccessCount:p_e}),d_e=0,p_e=0)}));var S_e=function(){var e=Hp()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:i=0,matchCount:a=0,matchSuccessCount:o=0,extra1:s}={}){t=t||lv()||"";var l={},c=yield Aoe;-1!==f_e.indexOf(e)&&(l=y_e());var u=-1!==h_e.indexOf(e),d=u?m_e:l_e,p=[t,0,(u?g_e:o_e)?1:0,e,encodeURIComponent(c_e),i,r?1:0,n,d?1:0,l.fr||0,l.fp||0,l.fcp||0,(null==c?void 0:c.duration)||0,a,o,s||""].join(",");T.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:p})}));return function(t,r){return e.apply(this,arguments)}}();function C_e(e){if(o_e||g_e){var{url:t,complete:r}=e,n=Date.now();e.complete=e=>{r&&"function"==typeof r&&r(e);var i=e.errMsg||"",a=encodeURIComponent(t||"");o_e&&S_e(xye.REQUEST,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a}),g_e&&S_e(xye.REQUEST_4_OLD,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a})}}}function I_e(e){o_e&&S_e(xye.CALL_CONTAINER,null,e)}function A_e(){a_e=!0,S_e(xye.USE_CACHE_MANAGER)}function k_e(e){d_e++,e&&p_e++}function E_e(e,t){S_e(e,null,{extra1:t})}cv((e=>{"offline"!==e&&"none"!==e||P_e(e)}));var T_e={isWeakNetwork:o_e,weakNetworkStartTs4Old:v_e};function P_e(e){g_e||(v_e=Date.now(),g_e=!0,!m_e&&v_e-u_e<5e3&&(m_e=!0),S_e(xye.ENTER_WEAK_NETWORK_4_OLD,e))}function x_e(e){g_e&&(g_e=!1,S_e(xye.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-v_e}))}iv((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?P_e(t):x_e(t)})),ov((e=>{e.weakNet?P_e():x_e()}));var O_e=Object.prototype.hasOwnProperty,R_e=new WeakMap;function M_e(){var e=new Map,t={},r=Iye.WEAK_NETWORK,n=Cye.UNKNOWN,i="",a=kye,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:l}=t,c=l instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",l=c?l:"string"==typeof l?l.trim():null,n&&e.has(n))return;if(-1===Aye.indexOf(s))return;if(!l)return;var u={};if(c)u={isRegExp:c,regExp:l};else{if(-1===l.indexOf("://")&&("/"!==l[0]&&(l=`/${l}`),l=i+l),-1===l.indexOf("://"))return;var{protocol:d,host:p,path:h,query:f}=pp(l);u={isRegExp:c,protocol:d,host:p,path:Fye(h),query:jye(f)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||a,Eye),!n&&(n=Nye(u),e.has(n)))return;return u.id=n,u}}},s=(t,r,n="GET")=>{var a,o=e.values();n=n.toUpperCase();var{protocol:s,host:l,path:c,query:u}=pp(t),d=`${s}://${l}`,p=[],h={};for(var f of o)if("ALL"===f.method||f.method===n){if(f.isRegExp){f.regExp.lastIndex=0;var g=f.regExp.exec(t);if(!g){if(i!==d)continue;if(f.regExp.lastIndex=0,!(g=f.regExp.exec(t.replace(`${s}://${l}`))))continue}}else{if(s!==f.protocol)continue;if(l!==f.host)continue;if(f.path.regExp.lastIndex=0,!f.path.regExp.exec(c))continue;if(f.query){var v=!0;for(var m of(p.length=0,f.query)){var{key:y,value:_}=m;if(!u||!O_e.call(u,y)||_&&u[y]!==_){v=!1;break}var b=_||u[y];p.push(`${y}${b?"="+encodeURIComponent(b):""}`)}if(!v)continue}}if(f.dataSchema){if(!r||"object"!=typeof r)continue;if(!qye(f.dataSchema,r,h))continue}a=f;break}if(a)return{rule:a,url:`${d}${c}${p.length?"?"+p.join("&"):""}`,data:h,method:n}},l={start:()=>{n=Cye.ON},stop:()=>{n=Cye.OFF},config:(e={})=>{i=e.origin||"",r=e.mode||Iye.WEAK_NETWORK,a=Math.min(e.maxAge||kye,Eye),r===Iye.ALWAYS&&l.start()},emit:(e,r)=>{var n=t[e],i=[];if(n&&n.length)for(var a=n.length-1;a>=0;a--){var o=n[a];o=E.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),i.push(o(r))}return i},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var i=s(e,t,r);i&&t_e(i,{ts:Date.now(),res:n})}))}},c=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var i=n.id;e.set(i,n),r.push(i)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),Yye(t))}))},d=()=>{var t=e.keys();for(var r of t)Yye(r)},p={set mode(e){r=e||Iye.WEAK_NETWORK},get mode(){return r},set origin(e){i=e||""},get origin(){return i},set maxAge(e){a=e||kye},get maxAge(){return a},get state(){return n},addRules:c,addRule:e=>c([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},start:()=>{r===Iye.NONE&&l.start()},stop:()=>{r===Iye.NONE&&l.stop()},match:e=>{var{url:t,data:r,method:n}=e,i=s(t,r,n);if(i){var a={};a.ruleId=i.rule.id,a.maxAge=i.rule.maxAge;var o=r_e(i);if(o){var{cacheId:l,ts:c,res:u}=o;a.cacheId=l,a.createTime=c,a.data=u;try{a.data=JSON.parse(a.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return k_e(!!o),a}k_e(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>Jye(e,t)))};for(var i of r)n(i)}},deleteCache:t=>{var r=e.keys();for(var n of r)Jye(n,t)},clearCaches:d};return R_e.set(p,l),p}var D_e=M_e(),N_e=R_e.get(D_e),L_e=g(945),B_e=g.n(L_e),$_e="\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n",F_e=`\n${$_e}\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n`,j_e={},W_e={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},U_e={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},V_e={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},q_e={},z_e={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},G_e={[Tye.JS_AUTHORIZE]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process(e){E_e(xye.PROXY_AUTHORIZE);var t=e.jsapi_name,r=W_e[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},i={sub_desc:q_e[r]||" "};if(r&&V_e[r]){i.scope=`scope.${r}`,i.desc=V_e[r];var a=j_e[i.scope]||0;1===a||7===H.appType?n={errcode:0,errmsg:"has authorized"}:2===a&&(n={errcode:-12006,errmsg:"user deny"}),E_e(xye.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=H.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[i],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${U_e[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}},content:F_e},[Tye.JS_AUTHORIZE_CONFIRM]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>j_e[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:F_e},[Tye.JS_OPERATE_WX_DATA]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(){E_e(xye.PROXY_OPERATE_WX_DATA)},content:F_e}};function H_e(){return g(945)()}var K_e={};function Q_e(e){var t=$ye(e);return K_e[t]||(K_e[t]=H_e()(e)),K_e[t]}function J_e(e){if(G_e[e])return G_e[e].proto||(G_e[e].proto=Q_e(G_e[e].content)),G_e[e]}function X_e(){var e,t,r=null==H||null===(e=H.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=z_e[e.scope];t&&(q_e[t]=e.sub_desc||"")})),Rt("onClientRequest",(e=>{var t=J_e(e.api),r=!1,n=!1,i=null;if(t){r=!0;var a=null;try{a=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=t.process(a);o&&(i=t.proto[t.resp].encode(o))}catch(e){return}}qu("responseClientRequest",{id:e.id,support:r&&n&&!!i,data:i&&i.buffer})}))}function Y_e(){j_e={}}var Z_e=!1,ebe=!1,tbe=Pye.reduce(((e,t)=>(e[t]=!0,e)),{});function rbe(){return Z_e&&(ve||ge||fe)}function nbe(e){if(e&&e.extra){var t=e.extra.apiList;Array.isArray(t)&&(tbe={},t.forEach((e=>{e=e.replace("wx.",""),Pye.indexOf(e)>=0&&(tbe[e]=!0)})))}}var ibe=()=>tbe;function abe(e,t){e&&!e.reason&&(D_e.mode===Iye.WEAK_NETWORK&&(e.switch?N_e.start():N_e.stop()),e.switch?(ebe=!0,N_e.emit("enterWeakNetwork"),__e()):t&&(ebe=!1,Y_e(),N_e.emit("exitWeakNetwork"),b_e()))}Rt("onToggleWxappLibServerMode",(e=>abe(e,!0))),H.onReady((()=>{abe(H.serverMode),X_e()}));var obe=(e,t,r,n,i,a,o,s,l)=>{var c=N_e.emit("request",{url:t,data:r,method:n,request:()=>new Promise(((t,r)=>{var n={...i};n.success=t,n.fail=r,n.complete=null,e(n)}))});if(c.length){var u=c.find((e=>e&&"function"==typeof e.then));if(u)return u.then((e=>{a&&"function"==typeof a&&a(e),s&&"function"==typeof s&&s(e)})).catch((e=>{o&&"function"==typeof o&&o(e),s&&"function"==typeof s&&s(e)})),{abort:()=>{},onChunkReceived:()=>{},offChunkReceived:()=>{},onHeadersReceived:()=>{},offHeadersReceived:()=>{}}}l&&(o&&"function"==typeof o&&o(l),s&&"function"==typeof s&&s(l))};function sbe(e){var t=e.request;e.__defineGetter__("request",(()=>function(e={}){if(initOfflineCacheReport(e),!rbe())return t(e);var{url:r,data:n,method:i,success:a,fail:o,complete:s}=e,l=e=>{privateCacheManager.checkNeedStore(r,n,i,e),a&&"function"==typeof a&&a(e)};if(cacheManager.state===STATE.UNKNOWN)e.success=e=>{a&&"function"==typeof a&&l(e),s&&"function"==typeof s&&s(e)},e.fail=l=>obe(t,r,n,i,e,a,o,s,l),e.complete=null;else if(cacheManager.state===STATE.ON){var c=obe(t,r,n,i,e,a,o,s);if(c)return c}else cacheManager.state===STATE.OFF&&(e.success=l);return t(e)})),DEFAULT_CACHE_API_LIST.forEach((t=>{var r=e[t];e.__defineGetter__(t,(()=>function(e={}){if(!rbe()||!tbe[t])return r(e);var{success:n,fail:i,complete:a}=e,o=!n&&!i&&!a,s={};if(Object.keys(e).forEach((t=>{"function"!=typeof e[t]&&(s[t]=e[t])})),!ebe){var l=Date.now()+cacheManager.maxAge;return o?r(e).then((e=>(setApi(t,s,e,l),e))):(e.success=function(e){setApi(t,s,e,l),"function"==typeof n&&n(e)},r(e))}var c=getApi(t,s);return c?("object"==typeof c&&(c.fromCache=!0),o?new Promise((e=>e(c))):"function"==typeof n?(n(c),void a(c)):void 0):r(e)}))})),initOfflineCacheReport(e)}function lbe(e){return A_e(),nbe(e),N_e.config(e),Z_e=!0,D_e}Fc.appStatus=Rc.FORE_GROUND,Fc.hanged=!1,zA((e=>{Date.now()})),ik((e=>{Date.now()})),aO((()=>{Fc.appStatus=Rc.FORE_GROUND})),aT((e=>{"hide"===e.mode?Fc.appStatus=Rc.LOCK:Fc.appStatus=Rc.BACK_GROUND,"close"===e.mode?Fc.hanged=!1:"hang"===e.mode&&(Fc.hanged=!0)})),rW((()=>{Fc.hanged=!1}));var cbe=function(){var e=Hp()((function*(e){var t;e||(e=yield sy(null,!0));var r=[];return e.forEach((e=>{var n=e.cliParamList;n&&(r.push(e),n.forEach((e=>{var{pre_proc:r,preset_data:n}=e;if("screenshot"===n&&r){var{param:i}=r;i&&i.forEach((e=>{"shortEdge"===e.key&&(t=e.value)}))}})))})),{shortEdge:t,configs:r}}));return function(t){return e.apply(this,arguments)}}(),ube=0,dbe=e=>{if(ube!==(e?1:2)){var t=0!==ube;ube=e?1:2,qu("setSecuritySnapshotStrategy",{enabledSnapshot:e,snapshotIntervalMillis:100,shortEdge:fS(),success(){t||pbe()},fail(e){cbe().then((t=>{var{configs:r}=t;r.length&&wC(r,null,null,e)}))}})}},pbe=()=>{Yt("onDumpSecuritySnapshot",(e=>{dbe(!1),cbe().then((t=>{var{configs:r}=t;wC(r,e.buffer,[e.shape[1],e.shape[0]])}))}))},hbe={},fbe=(t,r=0)=>{var{afterLoadInterval:n,afterLoadMaxCnt:i,mostCnt:a}=t;if(!("number"!=typeof n||n<=0)&&e){var o=e.getCurrentFullyRoutePath();hbe[o]||(hbe[o]=!0,setTimeout(Hp()((function*(){var n=e.getCurrentFullyRoutePath();if(t.currentCnt>a)hbe[o]=!1;else if(o===n)try{t.currentCnt+=1,yield bC(11),ge&&(yield gbe()),r<i?fbe(t,r+1):hbe[o]=!1}catch(e){hbe[o]=!1}else hbe[o]=!1})),n))}},gbe=()=>{dbe(!0)},vbe=function(){var e=Hp()((function*(){var e=yield sy(null,!0);if(e&&e.length){var{configs:t,shortEdge:r}=yield cbe(e),n=null==t?void 0:t[0];if(n){dS(r);var{afterLoadMaxCnt:i,afterLoadInterval:a}=n;pS({maxCnt:i,interval:a})}fbe(e[0])}}));return function(){return e.apply(this,arguments)}}(),mbe=0,ybe=[],_be;Br("pageMaxScrollHeightUpdate",(e=>{mbe=e})),Br("pageScrollViewViewMaxHeightUpdate",(e=>{var{idx:t,height:r}=e;ybe[t-1]=r}));var bbe=()=>mbe,wbe=()=>mbe=0,Sbe=()=>ybe=[],Cbe=({path:e,stayTime:t})=>{var r=[e,0,mbe,0,-1,t,_be].join(",");ybe.forEach(((r,n)=>{var i=[e,1,-1,n+1,r,t,_be,_be].join(",");T.reportKeyValue({key:"PageScrollInfo",value:i})})),T.reportKeyValue({key:"PageScrollInfo",value:r})},Ibe=e=>{_be?Cbe(e):__({success(t){_be=t.screenHeight,Cbe(e)}})},Abe=void 0,kbe=!1,Ebe={},Tbe,Pbe=!1,xbe=()=>kbe;H.onReady((()=>{Tbe=!!Pbe||bf("enableAIAD")}));var Obe=()=>Abe,Rbe=e=>Abe=e,Mbe=()=>{if(Pbe)return!0;if($be)return!0;var e=H.envVersion;return"release"===e?Tbe:"trial"===e?kbe||Tbe:"develop"===e?kbe:void 0},Dbe=e=>kbe=e,Nbe=()=>Ebe,Lbe=10086,Bbe=({unitId:t,enablePreview:r=!0,onlyPreviewCurrentPage:n=!1,applyReleaseConfig:i=Lbe,__innerArgsInMpEnv:a=!1}={enablePreview:!0})=>{if(Tbe||a){if("release"!==H.envVersion||Pbe||a)if("develop"===H.envVersion&&i===Lbe&&(i=!1),r){if(kbe=!0,Rbe(t),n){var o=e.getCurrentFullyRoutePath();o=e.getCompatPathWithoutValue(o),Ebe[o]={unitId:t}}else Ebe["*"]=!0;var s=Wbe();if(ht(s))s.then((e=>{!e||a?e&&(Ebe["**"]=!0,Ebe["*"]=!1):console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口")}));else if(s){if(!a)return void console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口");Ebe["**"]=!0,Ebe["*"]=!1}Tbe&&i&&(Ebe.__apply_release_config__=!0)}else kbe=null}else console.warn("wx.previewAIAD fail: 你没有权限调用 wx.previewSmartAd 接口")},$be,Fbe,jbe=()=>{$be||void 0!==$be||(Fbe=xd({apiName:"webapi_getaiadexperiencewhiteconfig"}).then((e=>{var t;Fbe=null,null!==(t=e.data)&&void 0!==t&&t.permission?($be=!0,Bbe({enablePreview:!0,onlyPreviewCurrentPage:!1,__innerArgsInMpEnv:!0,applyReleaseConfig:!1})):$be=!1})).catch((e=>{$be=!1,Fbe=null,v.warn("[aiad system] webapi_getaiadexperiencewhiteconfig error: ",e)})))},Wbe=()=>Fbe||$be,Ube=new Set,Vbe={};function qbe(e,t){if(!Oe()&&e&&t&&!Fc.navigationBarTitleMap[e]){var r="";H.page[t]&&H.page[t].window&&qe(H.page[t].window.navigationBarTitleText)?r=H.page[t].window.navigationBarTitleText:H.global&&H.global.window&&qe(H.global.window.navigationBarTitleText)&&(r=H.global.window.navigationBarTitleText),Fc.navigationBarTitleMap[e]=r}}Yt("onAppRoute",E1.useTracedEnd(((t,n=0)=>{var i,a,o;t.__ts__=Date.now();var s=null==t||null===(i=t.singlePageData)||void 0===i?void 0:i.pageId;if(n=void 0!==s?s:void 0!==t.webviewId?t.webviewId:n,t.webviewId=n,E1.traceBeginEvent("Framework",`AppRoute#${t.openType}`,t),H.appLaunchInfo&&H.appLaunchInfo.inBackground&&"appLaunch"===t.openType)return qp(!0),void mse(!0);zp()&&"autoReLaunch"===t.openType&&(t.openType="appLaunch",setTimeout((()=>qp(!1)),0)),v.info(`[WABaseLib.Critical] onAppRoute with webviewId=${n}, res=${JSON.stringify(t)} ${Date.now()}`),iu.appRoute=!0,iu.appRouteDone=!1;var l=xU(t,n);if(!l.rewritten){if(l.triggerNotFound){T.reportIDKey({key:"pageNotFound",force:!0});var c=t.path;if(AU(t,n),"string"==typeof c&&!c.endsWith(".html")&&t.notFound)return void v.warn(`path: "${c}", .html suffix is required`)}if(void 0!==e){e.checkIsWebviewPageDetach();var u=t.query;"appLaunch"===t.openType&&"1"===u.__platform_aiad_preview&&u.__platform_expire_time>Date.now()&&jbe(!0);var d=e.getCurrentRoutePath();if(d){var p=e.endTraceLastRouteStayTime();Ibe({path:d,stayTime:p}),wbe(),Sbe()}e.startTraceLastRouteStayTime(),e.traceRoutePathWithoutQuery(t.path);var h=e.getSafeRoutePath(t.path,u,H.appLaunchInfo.scene);e.traceRoutePath(h),e.traceFullyRoutePath(t.path,u),e.updateWebviewPageInfo(),Vbe[n]=t.path}t.path=up(t.path),t.renderer=t.renderer||"webview",Ar(n,t.renderer);var f="skyline"===t.renderer?"glass-easel":"exparser";sr.setComponentFramework(n,f),y.chooseRenderMode(t.renderer);var g,m,_=Fc.routeType,b=-2147483648,w=void 0,S=Fc.currentWebviewId;if("skyline"===t.renderer)b=null===(g=t.singlePageData)||void 0===g?void 0:g.windowId,_=null===(m=t.singlePageData)||void 0===m?void 0:m.routeType;if("navigateTo"===t.openType&&_){var C=y.genRouteConfig(b,n,_);w=C?Rue(C):void 0}if(Fc.routeType="",null!=H&&null!==(a=H.tabBar)&&void 0!==a&&a.custom){var I=t.openType;if("appLaunch"===I||"reLaunch"===I||"autoReLaunch"===I){var A=()=>{Rr("initTabBar",t,[ir.SCL_TABBAR_VIEW_ID])};gue(H.tabBar)?vue().then(A):A()}}if("dismissPip"!==t.openType&&(Fc.lastRoute=t.path||"",Fc.lastRawQuery=JSON.parse(JSON.stringify(t.query||{}))),Fc.lastOpenType=t.openType,["appLaunch","autoReLaunch"].includes(t.openType)&&Ube.add(n),!Ube.has(n))for(var k in t.query)try{t.query[k]=decodeURIComponent(t.query[k])}catch(e){}if("dismissPip"!==t.openType&&(v.info("[onAppRoute] set global query"),Fc.query=t.query,v.info("[onAppRoute] set global currentWebviewId to "+n),Fc.currentWebviewId=n),void 0!==r&&r.features&&r.features.pruneWxConfigByPage){var E=t.preloadRule||H._preloadRule&&H._preloadRule[t.path],P=t.page||H._page&&H._page[t.path+".html"];if(E&&(H.updatePreloadRule(t.path,E),t.preloadRule,H.preloadRule),P){var x=H.global&&H.global.window||{};P.window=Object.assign({},x,P.window),e.traceRawRoutePath(t.path),H.updatePage(t.path,P),t.page,H.page}}Or("pingWebView",{t:Date.now()},[t.webviewId]);var O=Fc.getWebviewIds();O.includes(t.webviewId)||O.push(t.webviewId),Or("onAppRoute",t,O),vbe(),BP.emitter.emit("onAppRoute",t);var R=()=>{try{E1.traceBeginEvent("Framework","onAppRouteCallback",t),nT(t)}finally{E1.traceEndEvent()}};if("glass-easel"===f){var D,N=!1,L=null===(D=H.tabBar)||void 0===D?void 0:D.custom;H.tabBar&&Array.isArray(H.tabBar.list)&&H.tabBar.list.forEach((e=>{up(e.pagePath)===t.path&&(N=!0)}));var B={windowId:b,pageId:s,prevPageId:S,routeConfigId:w,path:t.path,openType:t.openType,isTab:N},$=M.getEnv();if(!$.getCodeSpace("/").hasPolyfill()){var F="Generate function polyfill not found, "+(fe?"update devtool to run glass-easel":"may be not a valid code package");return void T.thirdErrorReport({error:new Error(F)})}var j=$.newAdapterPage(t.webviewId);if(N&&L){var W;["autoReLaunch","reLaunch"].includes(B.openType)&&$.destroyTabBarManager(),$.initTabBarManager(B);var U=$.tabBarManager.createTabBar((null===(W=H.tabBar)||void 0===W?void 0:W.renderer)||t.renderer||"webview");j.setTabBarId(U)}j.init(B,R)}else R();"appLaunch"!==t.openType&&"boolean"==typeof(null===(o=t.qualityData)||void 0===o?void 0:o.isWebviewPreload)&&(T.reportFrameworkIDKey(7),T.reportFrameworkIDKey(t.qualityData.isWebviewPreload?8:9))}}))),Yt("onAppRouteDone",E1.useTracedEnd(((e,t=0)=>{var r;v.info(`[WABaseLib.Critical] onAppRouteDone with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),e.__ts__=Date.now();var n=null==e||null===(r=e.singlePageData)||void 0===r?void 0:r.pageId;t=void 0!==n?n:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,E1.traceBeginEvent("Framework","AppRouteDone",e),iu.appRoute=!1,iu.appRouteDone=!0,au();var i="";e.path&&(i=e.path,e.path=up(e.path)),"dismissPip"!==Fc.lastOpenType&&(Fc.lastRoute=e.path||""),EB(e),Or("onAppRouteDone",{frameset:e.frameset,webviewId:e.webviewId},[t]),Tr("notifyDestroyPageContext",{},["skyline"]),qbe(e.path,i),nh.unblock(),e.path.startsWith("wxpage://inner-page")&&(Fc.openingInnerPage=!1)})));var zbe=(e={})=>{yc("getLabInfo",e,{labId:""})&&qu("getLabInfo",e)},Gbe=(e={})=>{yc("setLabInfo",e,{labId:"",enabled:Boolean()})&&qu("setLabInfo",e)},Hbe={voip1v1:1},Kbe={};Object.keys(Hbe).forEach((e=>{Kbe[Hbe[e]]=e}));var Qbe=(e={})=>{if(Hbe[e.msgType]){var t=Md("sendChannelMessage","webapi_sendwxachannelmsg",(e=>({msg_type:Hbe[e.msgType],receiver_openid:e.receiver,msg_content:JSON.stringify(e.data||{})})),(e=>{e.msgId=e.msg_id,delete e.msg_id}));t(e)}else bc("sendChannelMessage",e,"lock of message type")},Jbe=Gt("receiveMsgChannel"),Xbe=Jbe.onMethod,Ybe=Jbe.offMethod;Rt("onReceiveMsgChannel",(e=>{try{e.msgType=Kbe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent,Jbe.emit(e)}catch(t){v.error("[WABaseLib.Critical] onReceiveMsgChannel parse content fail ",t," raw content: ",JSON.stringify(e))}}));var Zbe=Gt("receiveCacheMsgChannel"),ewe=Zbe.onMethod,twe=Zbe.offMethod;Rt("onReceiveCacheMsgChannelBatch",(e=>{try{var t=JSON.parse(e.cacheList);t.forEach((e=>{e.msgType=Kbe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent})),Zbe.emit(t)}catch(t){v.error("[WABaseLib.Critical] onReceiveCacheMsgChannelBatch parse content fail ",t," raw content: ",JSON.stringify(e))}}));var rwe=["对方版本暂不支持发起视频通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的视频通话请求","对方正在通话中，请稍后再播"],nwe=["已接通","对方已挂断，通话结束","已拒绝，通话结束"],iwe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","对方已切换到语音通话，请使用听筒接听","已切换到语音通话，请使用听筒接听","余额不足，通话结束"],awe=["对方版本暂不支持发起语音通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的语音通话请求","对方正在通话中，请稍后再播","对方设备未开启通话选项"],owe=["已接通，请使用听筒接听","对方已挂断，通话结束","已拒绝，通话结束"],swe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","声音将通过扬声器播放","声音将通过听筒播放","余额不足，通话结束"],lwe="在移动网络环境下会影响视频通话质量，并产生手机流量，确定继续？",cwe=(e=[],t={})=>{et(e)&&(e=Object.keys(e));var r={};return e.forEach((e=>{e in t&&void 0!==t[e]&&(r[e]=t[e])})),r},uwe=new jt({maxListeners:2e5}),dwe={onTextViewClick:"click",onImageViewClick:"click",onTextViewDrag:"drag",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel"};Object.keys(dwe).forEach((e=>{Yt(e,(t=>{var r=dwe[e];try{var n=JSON.parse(t.data).id;uwe.emit(`${r}-${n}`,t)}catch(e){}}))}));var pwe=32768,hwe;class fwe{constructor(e={}){var{props:t={},style:r={},position:n={},dataset:i={}}=e;this.parent=null,this.parentId=0,this.children={},this.events=[],this.id=++pwe,this.props=t,this.style=r,this.position=n,this.dataset=i,this.bubbleHandler()}bubbleHandler(){["touchstart","touchmove","touchend","touchcancel","click"].forEach((e=>{this.on(e,(t=>{if(this.props.bubbles&&this.parent&&!this.parent.props.transEvt){var r=this.position.left,n=this.position.top;if("click"===e){if(!this.parent.props.clickable)return;this.parent.emit(e)}else if("touchstart"===e||"touchend"===e){if(!this.parent.props.gesture)return;var i=Object.assign({},t.touch);i.x+=r,i.y+=n,i.id=this.parent.id,this.parent.emit(e,{viewId:this.parent.id,touch:i})}else{if(!this.parent.props.gesture)return;var a=t.touches.map((e=>({x:e.x+r,y:e.y+n,id:this.parent.id})));this.parent.emit(e,{viewId:this.parent.id,touches:a})}}}))}))}getAbsolutePositon(){if(!this.parent)return{left:0,top:0};var e=this.parent.getAbsolutePositon(),{left:t,top:r}=this.position;return{left:t+e.left,top:r+e.top}}hide(){return this.props.hide=!0,this.update()}show(){return this.props.hide=!1,this.update()}insert(){var e=this.insertView(),t=[];return Object.keys(this.children).forEach((e=>{var r=this.children[e];t.push(r.insert())})),Promise.all([e,...t]).then((()=>{this.emit("ready")}),(e=>{this.emit("ready")}))}update(){return this.updateView()}remove(){this.parent&&this.parent.removeChild(this);var e=[];Object.keys(this.children).forEach((t=>{var r=this.children[t];this.removeChild(r),e.push(r.remove())})),this.removeListeners();var t=this.removeView();return Promise.all([t,...e]).catch((e=>{}))}insertView(){return Promise.resolve()}updateView(){return Promise.resolve()}removeView(){return Promise.resolve()}removeListeners(){this.events.forEach((e=>{uwe.removeAllListeners(`${e}-${this.id}`)}))}appendChild(e){e.parent=this,e.parentId=this.id,this.props.independent&&(e.props.independent=!0),this.children[e.id]=e}empty(){Object.keys(this.children).forEach((e=>{var t=this.children[e];this.removeChild(t),t.remove()}))}removeChild(e){delete this.children[e.id],e.parent=null,e.parentId=0}emit(e,t){uwe.emit(`${e}-${this.id}`,t)}on(e,t){uwe.on(`${e}-${this.id}`,t)}off(e,t){uwe.off(`${e}-${this.id}`,t)}once(e,t){uwe.once(`${e}-${this.id}`,t)}}var gwe="insertTextView",vwe="updateTextView",mwe="removeTextView",ywe="animateCoverView",_we=(hwe=class extends fwe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultLabel(),n=this.getDefaultStyle();this.events=["click","drag","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor);var i=this.props.label;this.style=Object.assign(n,cwe(n,this.style)),this.props=Object.assign(t,cwe(t,this.props)),this.label=Object.assign(r,cwe(r,i)),this.label.lineHeight=this.label.lineHeight||1.2*this.label.fontSize}getDefaultProps(){return{hide:!1,clickable:!1,gesture:!1,transEvt:!1,sendTo:"appservice",fullscreen:!1,independent:!1,bubbles:!1,draggable:!1,dragConfig:{}}}getDefaultLabel(){return{content:"",color:"#000000",fontSize:12,textAlign:"left",fontWeight:"normal",lineHeight:0,lineBreak:"clip",whiteSpace:"nowrap"}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,overflow:"hidden",rotate:0,scaleX:1,scaleY:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,draggable:this.props.draggable,dragConfig:this.props.dragConfig,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,data:JSON.stringify({id:this.id}),label:this.label,fullscreen:this.props.fullscreen,independent:this.props.independent,zIndex:this.style.zIndex,fixed:this.style.fixed,style:this.style,notCoverRect:!0};Object.assign(t,e),qu(gwe,t)}updateView(e){var t={viewId:this.id,position:this.position,hide:this.props.hide,label:this.label,independent:this.props.independent,style:this.style,fixed:this.style.fixed,zIndex:this.style.zIndex,notCoverRect:!0,draggable:this.props.draggable,dragConfig:this.props.dragConfig};Object.assign(t,e);qu(vwe,t,{beforeFail(e){}})}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);qu(mwe,t,{beforeFail(e){}})}animate(e){var t=this,r={duration:300,easing:"linear",viewId:this.id,finalStyle:{},independent:this.props.independent},n=Object.assign(r,e);qu(ywe,n,{beforeSuccess(){Object.keys(n.finalStyle).forEach((e=>{e in t.position?t.position[e]=n.finalStyle[e]:e in t.style&&(t.style[e]=n.finalStyle[e])}))},beforeFail(e){v.error("animateView fail",t.id,n,e)}})}measureText(e=""){var t=0,r={text:e,fontSize:this.label.fontSize,fontWeight:this.label.fontWeight,fontStyle:"normal",fontFamily:"sans-serif",complete(e){t=e.width||0}};return qu("measureText",r),t}fadeIn(e=300,t="linear"){return this.show().then((()=>this.animate({finalStyle:{opacity:1},duration:e,easing:t})))}fadeOut(e=300,t="linear"){return this.animate({finalStyle:{opacity:0},duration:e,easing:t}).then((()=>this.hide()))}fadeTo(e,t=300,r="linear"){return this.animate({finalStyle:{opacity:e},duration:t,easing:r})}slideUp(e=300,t="linear"){return this.animate({finalStyle:{height:0},duration:e,easing:t})}slideDown(e=300,t="linear"){var r=this.position.height;return this.position.height=0,this.update(),this.animate({finalStyle:{height:r},duration:e,easing:t})}},F()(hwe.prototype,"insertView",[At],Object.getOwnPropertyDescriptor(hwe.prototype,"insertView"),hwe.prototype),F()(hwe.prototype,"updateView",[At],Object.getOwnPropertyDescriptor(hwe.prototype,"updateView"),hwe.prototype),F()(hwe.prototype,"removeView",[At],Object.getOwnPropertyDescriptor(hwe.prototype,"removeView"),hwe.prototype),F()(hwe.prototype,"animate",[At],Object.getOwnPropertyDescriptor(hwe.prototype,"animate"),hwe.prototype),hwe),bwe,wwe="insertImageView",Swe="updateImageView",Cwe="removeImageView",Iwe=(bwe=class extends fwe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultStyle();this.events=["click","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor),this.style=Object.assign(r,cwe(r,this.style)),this.props=Object.assign(t,cwe(t,this.props))}getDefaultProps(){return{hide:!1,iconPath:"",clickable:!1,gesture:!1,transEvt:!1,bubbles:!1,sendTo:"appservice",independent:!1}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,iconPath:this.props.iconPath,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,independent:this.props.independent,data:JSON.stringify({id:this.id}),style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,notCoverRect:!0};Object.assign(t,e),qu(wwe,t)}updateView(e){var t={viewId:this.id,position:this.position,iconPath:this.props.iconPath,hide:this.props.hide,style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,independent:this.props.independent,notCoverRect:!0};Object.assign(t,e),qu(Swe,t)}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);qu(Cwe,t)}},F()(bwe.prototype,"insertView",[At],Object.getOwnPropertyDescriptor(bwe.prototype,"insertView"),bwe.prototype),F()(bwe.prototype,"updateView",[At],Object.getOwnPropertyDescriptor(bwe.prototype,"updateView"),bwe.prototype),F()(bwe.prototype,"removeView",[At],Object.getOwnPropertyDescriptor(bwe.prototype,"removeView"),bwe.prototype),bwe),Awe,kwe="insertCamera",Ewe="updateCamera",Twe="removeCamera",Pwe=(Awe=class extends fwe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,cwe(t,this.props))}getDefaultProps(){return{independent:!1,mode:"normal",devicePosition:"front",resolution:"medium",hide:!1}}insertView(e){var t={parentId:this.parentId,cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,resolution:this.props.resolution,hide:this.props.hide};Object.assign(t,e),qu(kwe,t)}updateView(e){var t={cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,hide:this.props.hide};Object.assign(t,e),qu(Ewe,t)}removeView(e){var t=Object.assign({cameraId:this.id,independent:this.props.independent},e);qu(Twe,t)}},F()(Awe.prototype,"insertView",[At],Object.getOwnPropertyDescriptor(Awe.prototype,"insertView"),Awe.prototype),F()(Awe.prototype,"updateView",[At],Object.getOwnPropertyDescriptor(Awe.prototype,"updateView"),Awe.prototype),F()(Awe.prototype,"removeView",[At],Object.getOwnPropertyDescriptor(Awe.prototype,"removeView"),Awe.prototype),Awe),xwe,Owe="insertVoIPView",Rwe="updateVoIPView",Mwe="removeVoIPView",Dwe=(xwe=class extends fwe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,cwe(t,this.props))}getDefaultProps(){return{independent:!1,self:!0,configCamera:"front",openid:""}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),qu(Owe,t)}updateView(e){var t={viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),qu(Rwe,t)}removeView(e){var t=Object.assign({viewId:this.id,independent:this.props.independent,openId:this.props.openid},e);qu(Mwe,t)}},F()(xwe.prototype,"insertView",[At],Object.getOwnPropertyDescriptor(xwe.prototype,"insertView"),xwe.prototype),F()(xwe.prototype,"updateView",[At],Object.getOwnPropertyDescriptor(xwe.prototype,"updateView"),xwe.prototype),F()(xwe.prototype,"removeView",[At],Object.getOwnPropertyDescriptor(xwe.prototype,"removeView"),xwe.prototype),xwe),Nwe=function(){var e,t="inherit",r="ltr",n="rtl",i="row",a="row-reverse",o="column",s="column-reverse",l="flex-start",c="center",u="flex-end",d="space-between",p="space-around",h="flex-start",f="center",g="flex-end",v="stretch",m="relative",y="absolute",_={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},b={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},w={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},S={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function C(e){return void 0===e}function I(e){return e===i||e===a}function A(e,t){if(void 0!==e.style.marginStart&&I(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function k(e,t){if(void 0!==e.style.marginEnd&&I(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function E(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&I(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function T(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&I(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function P(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&I(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+E(e,t)}function x(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&I(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+T(e,t)}function O(e,t){return E(e,t)+T(e,t)}function R(e,t){return A(e,t)+k(e,t)}function M(e,t){return P(e,t)+x(e,t)}function D(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function N(e,t){if(t===n){if(e===i)return a;if(e===a)return i}return e}function L(e,t){return function(e){return e===o||e===s}(e)?N(i,t):o}function B(e){return e.style.position?e.style.position:"relative"}function $(e){return B(e)===m&&e.style.flex>0}function F(e,t){return e.layout[S[t]]+R(e,t)}function j(e,t){return void 0!==e.style[S[t]]&&e.style[S[t]]>=0}function W(e,t){return void 0!==e.style[t]}function U(e,t){return void 0!==e.style[t]?e.style[t]:0}function V(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],i={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=r;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==n&&n>=0&&a<n&&(a=n),a}function q(e,t){return e>t?e:t}function z(e,t){void 0===e.layout[S[t]]&&j(e,t)&&(e.layout[S[t]]=q(V(e,t,e.style[S[t]]),M(e,t)))}function G(e,t,r){t.layout[b[r]]=e.layout[S[r]]-t.layout[S[r]]-t.layout[w[r]]}function H(e,t){return void 0!==e.style[_[t]]?U(e,_[t]):-U(e,b[t])}function K(n,T,K){var J=function(e,n){var i;return(i=e.style.direction?e.style.direction:t)===t&&(i=void 0===n?r:n),i}(n,K),X=N(function(e){return e.style.flexDirection?e.style.flexDirection:o}(n),J),Y=L(X,J),Z=N(i,J);z(n,X),z(n,Y),n.layout.direction=J,n.layout[_[X]]+=A(n,X)+H(n,X),n.layout[b[X]]+=k(n,X)+H(n,X),n.layout[_[Y]]+=A(n,Y)+H(n,Y),n.layout[b[Y]]+=k(n,Y)+H(n,Y);var ee=n.children.length,te=M(n,Z);if(function(e){return void 0!==e.style.measure}(n)){var re=!C(n.layout[S[Z]]),ne=e;ne=j(n,Z)?n.style.width:re?n.layout[S[Z]]:T-R(n,Z),ne-=te;var ie=!j(n,Z)&&!re,ae=!j(n,o)&&C(n.layout[S[o]]);if(ie||ae){var oe=n.style.measure(ne);ie&&(n.layout.width=oe.width+te),ae&&(n.layout.height=oe.height+M(n,o))}if(0===ee)return}var se,le,ce,ue,de=function(e){return"wrap"===e.style.flexWrap}(n),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(n),he=P(n,X),fe=P(n,Y),ge=M(n,X),ve=M(n,Y),me=!C(n.layout[S[X]]),ye=!C(n.layout[S[Y]]),_e=I(X),be=null,we=null,Se=e;me&&(Se=n.layout[S[X]]-ge);for(var Ce=0,Ie=0,Ae=0,ke=0,Ee=0,Te=0;Ie<ee;){var Pe,xe=0,Oe=0,Re=0,Me=0,De=me&&pe===l||!me&&pe!==c,Ne=De?ee:Ce,Le=!0,Be=ee,$e=null,Fe=null,je=he,We=0;for(se=Ce;se<ee;++se){if((ce=n.children[se]).lineIndex=Te,ce.nextAbsoluteChild=null,ce.nextFlexChild=null,(Je=D(n,ce))===v&&B(ce)===m&&ye&&!j(ce,Y))ce.layout[S[Y]]=q(V(ce,Y,n.layout[S[Y]]-ve-R(ce,Y)),M(ce,Y));else if(B(ce)===y)for(null===be&&(be=ce),null!==we&&(we.nextAbsoluteChild=ce),we=ce,le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!j(ce,ue)&&W(ce,_[ue])&&W(ce,b[ue])&&(ce.layout[S[ue]]=q(V(ce,ue,n.layout[S[ue]]-M(n,ue)-R(ce,ue)-U(ce,_[ue])-U(ce,b[ue])),M(ce,ue)));var Ue=0;if(me&&$(ce)?(Oe++,Re+=ce.style.flex,null===$e&&($e=ce),null!==Fe&&(Fe.nextFlexChild=ce),Fe=ce,Ue=M(ce,X)+R(ce,X)):(Pe=e,_e||(Pe=j(n,Z)?n.layout[S[Z]]-te:T-R(n,Z)-te),0===Ae&&Q(ce,Pe,J),B(ce)===m&&(Me++,Ue=F(ce,X))),de&&me&&xe+Ue>Se&&se!==Ce){Me--,Ae=1;break}De&&(B(ce)!==m||$(ce))&&(De=!1,Ne=se),Le&&(B(ce)!==m||Je!==v&&Je!==h||C(ce.layout[S[Y]]))&&(Le=!1,Be=se),De&&(ce.layout[w[X]]+=je,me&&G(n,ce,X),je+=F(ce,X),We=q(We,V(ce,Y,F(ce,Y)))),Le&&(ce.layout[w[Y]]+=ke+fe,ye&&G(n,ce,Y)),Ae=0,xe+=Ue,Ie=se+1}var Ve=0,qe=0,ze=0;if(ze=me?Se-xe:q(xe,0)-xe,0!==Oe){var Ge,He,Ke=ze/Re;for(Fe=$e;null!==Fe;)(Ge=Ke*Fe.style.flex+M(Fe,X))!==(He=V(Fe,X,Ge))&&(ze-=He,Re-=Fe.style.flex),Fe=Fe.nextFlexChild;for((Ke=ze/Re)<0&&(Ke=0),Fe=$e;null!==Fe;)Fe.layout[S[X]]=V(Fe,X,Ke*Fe.style.flex+M(Fe,X)),Pe=e,j(n,Z)?Pe=n.layout[S[Z]]-te:_e||(Pe=T-R(n,Z)-te),Q(Fe,Pe,J),ce=Fe,Fe=Fe.nextFlexChild,ce.nextFlexChild=null}else pe!==l&&(pe===c?Ve=ze/2:pe===u?Ve=ze:pe===d?(ze=q(ze,0),qe=Oe+Me-1!=0?ze/(Oe+Me-1):0):pe===p&&(Ve=(qe=ze/(Oe+Me))/2));for(je+=Ve,se=Ne;se<Ie;++se)B(ce=n.children[se])===y&&W(ce,_[X])?ce.layout[w[X]]=U(ce,_[X])+E(n,X)+A(ce,X):(ce.layout[w[X]]+=je,me&&G(n,ce,X),B(ce)===m&&(je+=qe+F(ce,X),We=q(We,V(ce,Y,F(ce,Y)))));var Qe=n.layout[S[Y]];for(ye||(Qe=q(V(n,Y,We+ve),ve)),se=Be;se<Ie;++se)if(B(ce=n.children[se])===y&&W(ce,_[Y]))ce.layout[w[Y]]=U(ce,_[Y])+E(n,Y)+A(ce,Y);else{var Je,Xe=fe;if(B(ce)===m)if((Je=D(n,ce))===v)C(ce.layout[S[Y]])&&(ce.layout[S[Y]]=q(V(ce,Y,Qe-ve-R(ce,Y)),M(ce,Y)));else if(Je!==h){var Ye=Qe-ve-F(ce,Y);Xe+=Je===f?Ye/2:Ye}ce.layout[w[Y]]+=ke+Xe,ye&&G(n,ce,Y)}ke+=We,Ee=q(Ee,je),Te+=1,Ce=Ie}if(Te>1&&ye){var Ze=n.layout[S[Y]]-ve,et=Ze-ke,tt=0,rt=fe,nt=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(n);nt===g?rt+=et:nt===f?rt+=et/2:nt===v&&Ze>ke&&(tt=et/Te);var it=0;for(se=0;se<Te;++se){var at=it,ot=0;for(le=at;le<ee;++le)if(B(ce=n.children[le])===m){if(ce.lineIndex!==se)break;C(ce.layout[S[Y]])||(ot=q(ot,ce.layout[S[Y]]+R(ce,Y)))}for(it=le,ot+=tt,le=at;le<it;++le)if(B(ce=n.children[le])===m){var st=D(n,ce);if(st===h)ce.layout[w[Y]]=rt+A(ce,Y);else if(st===g)ce.layout[w[Y]]=rt+ot-k(ce,Y)-ce.layout[S[Y]];else if(st===f){var lt=ce.layout[S[Y]];ce.layout[w[Y]]=rt+(ot-lt)/2}else st===v&&(ce.layout[w[Y]]=rt+A(ce,Y))}rt+=ot}}var ct=!1,ut=!1;if(me||(n.layout[S[X]]=q(V(n,X,Ee+x(n,X)),ge),X!==a&&X!==s||(ct=!0)),ye||(n.layout[S[Y]]=q(V(n,Y,ke+ve),ve),Y!==a&&Y!==s||(ut=!0)),ct||ut)for(se=0;se<ee;++se)ce=n.children[se],ct&&G(n,ce,X),ut&&G(n,ce,Y);for(we=be;null!==we;){for(le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!j(we,ue)&&W(we,_[ue])&&W(we,b[ue])&&(we.layout[S[ue]]=q(V(we,ue,n.layout[S[ue]]-O(n,ue)-R(we,ue)-U(we,_[ue])-U(we,b[ue])),M(we,ue))),W(we,b[ue])&&!W(we,_[ue])&&(we.layout[_[ue]]=n.layout[S[ue]]-we.layout[S[ue]]-U(we,b[ue]));ce=we,we=we.nextAbsoluteChild,ce.nextAbsoluteChild=null}}function Q(e,t,n){e.shouldUpdate=!0;var i=e.style.direction||r;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===i?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=i,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),K(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:K,computeLayout:Q,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function Lwe(e){Nwe.fillNodes(e),Nwe.computeLayout(e)}var Bwe=g(469),$we={view:_we,image:Iwe,voip:Dwe,camera:Pwe},Fwe;class jwe{constructor(e,t){this.elementClassMap={},this.root=null;var r=Bwe(e).root;this.addStyle(r,t),Lwe(r),this.root=this.compose(r)}querySelector(e=""){return this.querySelectorAll(e)[0]||null}querySelectorAll(e=""){return e.startsWith(".")?this.elementClassMap[e.slice(1)]||[]:null}addStyle(e,t){var r=e.attributes,n={},i=["id","class","name"];e.tagName=e.name,Object.keys(r).forEach((a=>{var o=r[a];if(""===o||"true"===o?r[a]=!0:"false"===o&&(r[a]=!1),a.startsWith("data-")){i.push(a);var s=a.slice(5);n[s]=r[a]}"class"===a&&(e.class=o&&o.trim().split(/\s+/)||[],e.style=e.class.reduce(((e,r)=>{var n=t[r]||{};return Object.assign(e,n)}),{}))})),i.forEach((e=>delete r[e])),e.dataset=n,e.children.forEach((e=>{this.addStyle(e,t)}))}compose(e){var t=e.tagName,r=$we[t],{layout:n,attributes:i,dataset:a,content:o,style:s}=e;if(i.hidden)return null;"view"===t&&(i.label=s,i.label.content=o,i.label.padding=s.labelPadding);var l=new r({position:n,props:i,dataset:a,style:s});return e.class.forEach((e=>{this.elementClassMap[e]||(this.elementClassMap[e]=[]),this.elementClassMap[e].push(l)})),e.children.forEach((t=>{e.attributes.independent&&(t.attributes.independent=!0);var r=this.compose(t);r&&l.appendChild(r)})),l}}var Wwe="insertHTMLVConsoleView",Uwe="updateHTMLVConsoleView",Vwe="deleteHTMLVConsoleView",qwe="sendToHTMLVConsoleView",zwe=(Fwe=class extends fwe{constructor(e={}){super(e),this._hide=!0,this.handleWindowResize=()=>{var{position:e}=this.getDefaultProps();e.left=this._hide?e.width:0,this.props.position=e,this.update()};var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,cwe(t,this.props))}getDefaultProps(){var{screenHeight:e=0,screenWidth:t=0,screenTop:r=0}=h_();return{independent:!0,hide:!0,position:{top:r,left:t,width:t,height:e}}}show(){var e=this;return Hp()((function*(){if(e._hide)return e._hide=!1,e.props.position.left=0,e.update()}))()}hide(){var e=this;return Hp()((function*(){if(!e._hide)return e._hide=!0,e.props.position.left=e.props.position.width,e.update()}))()}insertView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),qu(Wwe,t),vU(this.handleWindowResize)}updateView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),qu(Uwe,t)}removeView(e){var t=Object.assign({htmlId:this.id,independent:this.props.independent},e);qu(Vwe,t),mU(this.handleWindowResize)}postMessage(e){return new Promise(((t,r)=>{qu(qwe,{htmlId:this.id,independent:this.props.independent,data:JSON.stringify(e),success:t,fail:r})}))}},F()(Fwe.prototype,"insertView",[At],Object.getOwnPropertyDescriptor(Fwe.prototype,"insertView"),Fwe.prototype),F()(Fwe.prototype,"updateView",[At],Object.getOwnPropertyDescriptor(Fwe.prototype,"updateView"),Fwe.prototype),F()(Fwe.prototype,"removeView",[At],Object.getOwnPropertyDescriptor(Fwe.prototype,"removeView"),Fwe.prototype),Fwe),Gwe="https://res.wx.qq.com/op_res/QTADvaCvE516_xRgOJ7MxnMeM_I-9bk-ngeQrOE4O6SjCk0zj-YeAVwoWDzJEFsA",Hwe="https://res.wx.qq.com/op_res/uv-tkcFVNYmjSLo8oYLi6eHVUT_JFSWYhjoYd77-hNkfpHKJrm4qL1nTZBE7JdfM",Kwe="https://res.wx.qq.com/op_res/MMZ7ikr1yDWDciblT6cTjGEYi5X7nUBkmxeFiAYY6pTrTZTcVWlcLB8_CsIP---k",Qwe="https://res.wx.qq.com/op_res/VgAFtpPeKJeLoWBJ0QXzjP7ebzWqPqfVnfKclugzcpfp6_PkGC12B-uwBakQhvhP",Jwe="https://res.wx.qq.com/op_res/eG0naaMvi5-ResXXogaG1JfWqr7axjp_DgJu1Q-Al-_KPOFwDImGlDAd1y8rHxv2",Xwe="https://res.wx.qq.com/op_res/abRQv44fOA20modJp4dTaplyqzBvee7vYikt8Um1XjPwg4gGibt6kvjqG_ZgN4tl",Ywe="https://res.wx.qq.com/op_res/Wvt127UTzax9olBJldzRshntgwJBswVtASV7AoLiSSsx85W_g2Umr33qRtOElgvD",Zwe="https://res.wx.qq.com/op_res/ZjsLKqozyScMcOTIqmL1LHdV6M95Hz9luJu65Tf4jmzrYgBPKFKxKxDGw6GAaki9",eSe="https://res.wx.qq.com/op_res/tqnj65wMmdaQDVBAia5726VAaVtTVOcFF9PgeVrkis1gJWt_C2k7pHYWC_pjaGjR",tSe="https://res.wx.qq.com/op_res/7f8h7wvyZo92NU4yaA3Kwp4yXLkdgj8jsA4GFUO7G6r3rBObYxqqEeDP9pgm1O2k",rSe="https://res.wx.qq.com/op_res/TnkjDXCOtdoxzei_oGVMdSiYu-0a3TBEgas1qwql8YYMyn8zwsFMDB0W272fSFZk",nSe="https://res.wx.qq.com/op_res/XWPIP9W-ZHRXSdZMoQH_RzjZ2msJo3gNU7H9HkkV8ect4MGc6KJmXRjwBqr01Mb1",iSe="https://res.wx.qq.com/op_res/wKk3iTI51g49P2MX1rfvuwvi-JfjpNM2z4wHFmXEwS8xOm0WZu0zcKnDR78QvoVo62u8fNsQEJ0rZFyWT_7K7A",aSe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABPFJREFUeAHtnF2IVkUYx/e1NI3AMrpSaI2UMkKwi6AgQRCCLtILwaSL8sIiwUTrRvrQoAgqPyD6EDQvVMyr8FaI9sLwQr0QK7WgJKKLvlZsdXNb335/nFme9+y++75zOrPvHJ0H/jzPzJkz88z/fWbOzJyz29eXJTOQGcgMZAYyA3VloFHG8WazOZ37NoA1YCG4HUwDVUmzooqGqOcHcADsajQaI6H1BhPkyDlKQ0tDG+tx+QHaXx5KUplfXZFTN3L028hn+R4kZSLoJC0sca1cRX8BLrp0amo2Dq0AM5xjp4igR6I6yRC7BLwcjtpYBZXj6OfeWfSl0CrLDDFNyF4GvZGwttFtfe/K5TIE2Xuqetp05WwFhazvXVUXfENXtd5AhTJBHX7MTFAvCOJp0Q8Ogn3gng4+JH351kjefUy9T7q6F0DSE6w/RiO1FbXaWENMezUvj2Fs9Ym66VgEvQER/xoythBFddyeVLoDH+OD4fQ1iW1jGdd3+vshaY7Jq4UZK4LU+XfAVzKczEPv9QmvIe0ZcBl8C/p9fm01nbDy6WQdoeBc8Lu9Afslfw/2NGD3du/6a1Vp6t8NxiS03pgR1MdQ+wWH1hac+gBvH3Z589F3mOv/GDsJMypB6iEkHUF9aHo7E/sQJM1CP2DyZX5XSPc8GZ0g18NX0adNbxdh7wAPmjyZZwvpnidjLRRbOkYUDRMxq8k8AfyRwwvYOi/2opOBcz6Rip6qCNJQ0/DZWOj4/SZ9gTJXTDoJMxpBRMw8cAb8AY6Dz+ix1kE/tul5cvOP/Iw5xLQOesiR8ShamEySm3/kbLQIou4Lk7ExwbWbLoLehIS/wDKgp1U/aPeDaILW9iQ5iTbEmHCv0dvtDn3MQVr/LARa+4gwr2/D1lvPb9DJSTSCij2FgGHytBay66FiseTS7UI+OUd75VAmqAPzmaBMUAcGOlzOEdSBoCl7inXwY9xllgUvkvky0BmRFpFaaXt93j0VyYorSRIEOdqifAQarvuLCzRco8xP5ImwL8FOt+7CrFaSJIguPg48ORP1WFPDfQ5Poe8Cr4PKJdU5SKvsELk3pHBI2VQjqHjS6PukoxK9KBCBgrYuv4ItIIqkSlC7CJoPC4PMN89HYWOCSpMbYky+OpK1Q+b7gt87KKMz7SmR5Aii1xo2doLeTfoTw8YsbL0VmWnyopkpElScf/Qo3wTscYjeq70fjRVTcYoEFeefs8w5V/B5NRg2vq8nip426ShmigTpAM3L3xh6cumtyBnUZtlG9kDSXJOu3EyRIM03GlaKmnV2hYyt1bU+XPdyN4a+GkmnHzhjRWuSKRUanwN+tk5gv9bOCa6l+/FCO6f/Tz5R9Cf3Pwt05u1lK0ToS7bKJZ3QDOgaJA1Q/G1zyy3Yb5l0ZWYtCXK934Y+ZpgYMXZlZqpbjY4dJIpGGVYrKfgemAGi7MdqS5AYhKTfUM/JjiV1HmKxOGmpNxPUQsf4RCZoPCctOWUIsusPu+tuqTjRRDPUrzIEXTaNzDZ2qqb1cSjUyTJPsfM0ssQ1tIJH7WFs/Wlm8K/j6oilFN13Arvjt99EdtVuGYIOUrMnSOuPVV21lEahA6FuBM8hRMx0GjkKloY21uPyA7Qf/x8LsDjTkn45eAWcAjqzsRM3ySREPsk3+Shfg8nhniyZgcxAZiAzkBmoMQP/Af+8lwiMNw+aAAAAAElFTkSuQmCC";function oSe(e){var t=`\n    <view class="container" independent="true" clickable="true">\n      <view class="overlay"></view>\n      <view class="navigationBar" clickable="true">${e.title}</view>\n\n      <view class="maxWindow"> \n        <view class="cameraContainer" hidden="${e.isVoiceRoom}">\n          <camera class="camera"></camera>\n        </view>\n        <view class="voipContainer" hidden="${e.isVoiceRoom}">\n          <view class="previewWindowSelfContainer"></view>\n          <view class="previewWindowOtherContainer"></view>\n        </view>\n\n        <image class="maskBottom" hidden="${e.isVoiceRoom}" iconPath="${rSe}"></image>\n        <image class="maskTop" hidden="${e.isVoiceRoom}" iconPath="${nSe}"></image>\n        <image class="maskVoice" hidden="${!e.isVoiceRoom}" iconPath="${iSe}"></image>\n\n        <view class="mainContainer">\n          <view class="videoInfoWindowNicknameCenter" hide="true" hidden="${e.isVoiceRoom}">${e.nickname}</view>\n          <view class="videoInfoWindow" hidden="${e.isVoiceRoom}">\n            <view class="videoInfoWindowInfo">\n              <view class="videoInfoWindowNickname">${e.nickname}</view>\n              <view class="videoInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你视频通话"}</view>\n            </view>\n            ${e.headImage?`<image class="videoInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n          </view>\n\n          <view class="operationContainer videoOperationArea" hide="true" hidden="${e.isVoiceRoom}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon switchVoiceBtn" iconPath="${Kwe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切到语音通话</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${Jwe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon switchCameraBtn" iconPath="${Gwe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切换摄像头</view>\n            </view>\n          </view>\n\n          <view class="voiceInfoWindow" hide="${!e.isVoiceRoom}" hidden="${e.disableSwitchVoice}">\n            ${e.headImage?`<image class="voiceInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n            <view class="voiceInfoWindowNickname">${e.nickname}</view>\n            <view class="voiceInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你语音通话"}</view>\n          </view>\n\n          <view class="operationContainer voiceOperationArea" hide="true" hidden="${e.disableSwitchVoice}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon muteBtn" iconPath="${Ywe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">静音</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${Jwe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon handsFreeBtn" iconPath="${Zwe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">免提</view>\n            </view>\n          </view>\n\n          <view class="operationContainer callArea" hidden="${!e.isCaller}">\n            <view class="operationItemContainer callItemContainer">\n              <view class="operationItemTop switchVoiceBtn callSwitchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${Hwe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon cancelBtn" iconPath="${Jwe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">取消</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="operationContainer listenArea" hidden="${e.isCaller}">\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop"></view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon refuseBtn" iconPath="${Jwe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">拒绝</view>\n              </view>\n            </view>\n            <view class="operationItemContainer listenItemContainer"></view>\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop switchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${Hwe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon listenBtn" iconPath="${Qwe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">接听</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="tips" hide="true">已接通</view>\n          <view class="duration" hide="true">00:01</view>\n          <view class="minPreviewWindowMask" clickable="true"></view>\n\n          <view class="scaleBtn" clickable="true">\n            <image class="scaleBtnIcon" iconPath="${aSe}" clickable="true" bubbles="true"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n  `,r=`\n    <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n      <view class="minWindowContainer">\n        <view class="minWindowLeft" clickable="true">\n          ${e.isVoiceRoom?"":`<view class="minWindowVoipContainer" transEvt="true">\n              <image class="minWindowHeadImage" iconPath="${e.headImage}"></image>\n              <view class="minWindowVoip"></view>\n            </view>`}\n          <view class="minWindowInfo" transEvt="true">\n            <view class="minWindowNickname">${e.nickname}</view>\n            <view class="minWindowDuration">等待接听</view>\n          </view> \n        </view>\n        <view class="minWindowRight minWindowHangupBtn" clickable="true">\n          <image class="minWindowHangupIcon" iconPath="${Xwe}" clickable="true" bubbles="true"></image>\n          <view class="minWindowHangupText" transEvt="true">挂断</view>\n        </view>\n      </view>\n    </view>\n  `;return 2===e.minWindowType&&(r=`\n      <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n        <view class="minWindowContainer">\n          <view class="minWindowVoipContainer" clickable="true">\n            ${e.isVoiceRoom?`<image class="minWindowHeadImage" iconPath="${Xwe}" clickable="true" bubbles="true"></image>`:`<image class="minWindowHeadImage" iconPath="${e.headImage}" clickable="true" bubbles="true"></image>\n            <view class="minWindowVoip" transEvt="true"></view>`}\n          </view>\n          <view class="minWindowInfo" clickable="true">\n            <view class="minWindowNickname" transEvt="true">${e.nickname}</view>\n            <view class="minWindowDuration" transEvt="true">等待接听</view>\n          </view>\n        </view>\n      </view>\n    `),{maxWindowTemplate:t,minWIndowTemplate:r}}var sSe={CALL:0,CANCEL:1,HANG_UP:2,SWITCH_VOICE:3,REFUSE:4,ACCEPT:5,ACCEPT_AND_SWITCH_VOICE:6,RECEIVE_CALL:7,BUSY:8,NETWORK_DISCONNECT:9,NETWORK_SIGNAL_WEAK:10,DEVICE_NOT_SUPPORT:11,DISABLE_CHAT:12,ARREAR:13,SYSTEM_ERROR:14,OFFLINE_RECOVERY:15},lSe="voip1v1",cSe=6e4;class uSe{constructor(e){var{roomType:t="video",roomId:r="",groupId:n=0,disableSwitchVoice:i=!1,command:a=-1,caller:o={},listener:s={},sender:l=""}=e;this.roomType=t,this.roomId=r,this.groupId=n,this.disableSwitchVoice=i,this.command=a,this.caller=o,this.listener=s,this.sender=l}}function dSe(){var{screenWidth:e,screenHeight:t,statusBarHeight:r}=Y_(),n=ve?44:46,i=r+n+12,a=t-i,o=e-32,s=o-32-24,l=t-105,c=t-226,u=e-151,d=H.menuButtonInfo&&H.menuButtonInfo.zIndex||1e3,p={left:e-87,top:24,width:75,height:162},h={left:0,top:0,width:e,height:a};return{styleTree:{container:{width:e,height:t,zIndex:d-1},overlay:{position:"absolute",left:0,top:0,width:e,height:t,backgroundColor:"#000000",opacity:0},navigationBar:{marginTop:r,width:e,height:n,color:"#ffffff",lineHeight:n,fontSize:17,textAlign:"center",opacity:0},maxWindow:{position:"absolute",left:0,top:t,width:e,height:a+16,borderRadius:16,backgroundColor:"#262930"},cameraContainer:{position:"absolute",left:0,top:0,width:e,height:a},camera:{position:"absolute",left:0,top:0,width:e,height:a},voipContainer:{position:"absolute",left:0,top:0,width:e,height:a},mainContainer:{position:"absolute",left:0,top:0,width:e,height:a},videoAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},voiceAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},previewWindow:{width:e,height:a},scaleBtn:{position:"absolute",left:0,top:0,width:60,height:60},scaleBtnIcon:{position:"absolute",left:16,top:24,width:24,height:24},videoInfoWindow:{flexDirection:"row",justifyContent:"flex-end",position:"absolute",right:16,top:24,height:64,width:s},videoInfoWindowNicknameCenter:{position:"absolute",textAlign:"center",color:"#ffffff",lineHeight:20,fontSize:14,height:20,width:e,top:24,left:0},voiceInfoWindow:{position:"absolute",top:234,left:0,width:e,height:200,alignItems:"center"},voiceInfoWindowHeadImage:{width:96,height:96,borderRadius:16,marginBottom:8},voiceInfoWindowNickname:{width:e,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"center"},voiceInfoWindowTips:{marginTop:4,width:e,height:20,color:dhe("rgba(255,255,255,0.9)"),lineHeight:20,fontSize:14,textAlign:"center"},duration:{position:"absolute",bottom:177,width:e,height:16,color:"#ffffff",lineHeight:16,fontSize:14,textAlign:"center"},tips:{position:"absolute",left:e/2-33,bottom:225,width:66,labelPadding:[0,12,0,12],height:28,color:"#ffffff",lineHeight:28,fontSize:14,textAlign:"center",backgroundColor:dhe("rgba(0,0,0,0.5)"),borderRadius:6},operationContainer:{position:"absolute",flexDirection:"row",justifyContent:"space-between",bottom:0,width:e,height:149,paddingLeft:38,paddingRight:38},operationItemContainer:{width:84,height:149,alignItems:"center"},listenItemContainer:{height:235},listenArea:{height:235},callItemContainer:{height:235},callArea:{height:235,justifyContent:"center"},switchVoiceText:{marginTop:8},operationItemTop:{width:84,height:57,alignItems:"center"},operationItemBottom:{position:"absolute",bottom:0,left:0,width:84,height:149,alignItems:"center"},callBtnArea:{position:"absolute",bottom:0,left:0,width:e,height:149,alignItems:"center"},operationItemBtn:{borderRadius:32,justifyContent:"center",alignItems:"center",width:64,height:64},operationItemIcon:{width:64,height:64},switchVoiceIcon:{width:32,height:32},operationItemText:{marginTop:16,color:"#ffffffe5",lineHeight:17,fontSize:12,textAlign:"center",width:104,height:17,overflow:"visible"},videoInfoWindowInfo:{width:s-60,height:64},videoInfoWindowTips:{marginTop:6,width:s-60,height:20,color:dhe("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14,textAlign:"right"},videoInfoWindowNickname:{width:s-60,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"right"},videoInfoWindowHeadImage:{marginLeft:12,width:64,height:64,borderRadius:8},minPreviewWindowMask:{position:"absolute",...p},previewWindowSelfContainer:{position:"absolute",...p,zIndex:2},previewWindowOtherContainer:{position:"absolute",...h,zIndex:1},maskTop:{position:"absolute",left:0,top:0,width:e,height:145},maskBottom:{position:"absolute",left:0,top:a-201,width:e,height:201},maskVoice:{position:"absolute",left:0,top:0,width:e,height:a}},minWindowStyle1:{minWindow:{position:"absolute",left:16,top:l,height:72,width:o,backgroundColor:dhe("rgba(38,41,48,1)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:72,width:o},minWindowLeft:{flexDirection:"row",paddingLeft:12,paddingRight:12,height:48,width:s},minWindowVoipContainer:{paddingRight:12,width:56,height:48,borderRadius:6},minWindowHeadImage:{width:48,height:48,borderRadius:6},minWindowVoip:{position:"absolute",left:0,top:0,width:48,height:48,borderRadius:6},minWindowInfo:{paddingLeft:4,width:s-64,height:48},minWindowNickname:{width:s-64,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:4,width:s-64,height:20,color:dhe("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14},minWindowRight:{width:32,height:51},minWindowHangupIcon:{width:32,height:32},minWindowHangupText:{marginTop:2,width:32,height:17,color:dhe("rgba(255, 255, 255, 0.9)"),lineHeight:17,fontSize:12,textAlign:"center"}},minWindowStyle2:{minWindow:{position:"absolute",top:c,left:u,height:64,width:135,backgroundColor:dhe("rgba(44,44,44,0.70)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:64,width:135},minWindowVoipContainer:{paddingLeft:12,paddingRight:12,width:64,height:40},minWindowHeadImage:{width:40,height:40,borderRadius:4},minWindowVoip:{position:"absolute",left:12,top:0,width:40,height:40,borderRadius:4},minWindowInfo:{width:59,height:43},minWindowNickname:{width:59,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:3,width:59,height:16,color:dhe("rgba(255, 255, 255, 0.7)"),lineHeight:16,fontSize:14}},maxPreviewWindowPosition:h,minPreviewWindowPosition:p,minPreviewWindowVoipPosition:{left:0,top:0,width:75,height:162},screenWidth:e,minWindowLeft2:u,maxWindowTop:i,maxWindowHeight:a}}var pSe={},hSe=!1,fSe=()=>{hSe||(Object.assign(pSe,dSe()),hSe=!0)},gSe=(e={})=>{var t=Md("getCloudSession","webapi_getcloudimsession",(e=>({use_pluginid:void 0!==e.pluginId})),(e=>{e.sessionKey=e.session_key,delete e.session_key}));e.pluginId=Bh(void 0),t(e)},vSe=(e={})=>{var t=Md("generateRoomId","webapi_join1v1voiproom",(e=>({use_pluginid:void 0!==e.pluginId,groupid:e.groupId,room_type:"join"===e.type?2:1,target_openid:e.targetOpenid||""})),(e=>{e.targetSupport=0===e.target_version,delete e.target_version,e.roomId=e.imroomid,delete e.imroomid,e.groupId=e.groupid,delete e.groupid}));e.pluginId=Bh(void 0),t(e)},mSe=(e={})=>{var t=Md("setVoIPChatRecord","webapi_set1v1voipcallrecord",(e=>({use_pluginid:void 0!==e.pluginId,caller_openid:e.callerOpenid,receiver_openid:e.listenerOpenid,video_time:e.videoTime||0,voice_time:e.voiceTime||0})),(()=>{}));e.pluginId=Bh(void 0),t(e)},ySe=(e={})=>{var t=operateWXDataFactory("getVoIPChatRecord","webapi_getapp1v1voipstatus",(e=>({use_pluginid:void 0!==e.pluginId,begin_date:e.begin,end_date:e.end})),(e=>{var t=e.voip_status||{},r={};r.voiceCount=t.voice_count||0,r.voiceTime=t.voice_time||0,r.videoCount=t.video_count||0,r.videoTime=t.video_time||0,e.status=r,delete e.voip_status}));e.pluginId=getPluginId(void 0),t(e)},_Se=(e={})=>{var t=Md("deductVoIPCallPay","webapi_deductapp1v1voipcallpay",(e=>({op_type:e.operationType,call_type:e.callType,use_pluginid:void 0!==e.pluginId,roomid:e.roomId,session_key:e.sessionKey})),(e=>{delete e.rawData}));e.pluginId=Bh(void 0),t(e)},bSe=dd(kF),wSe=dd(j$),SSe=dd(jde),CSe=dd(vSe),ISe=dd(gSe),ASe=dd(_Se),kSe={0:"#262930ff",1:"#FA5151ff",2:"#FA9D3Bff",3:"#3D7257ff",4:"#1485EEff",5:"#6467F0ff"},ESe={enable:!1,ignoreSelfVersion:!1,minWindowType:1,popupDuration:300,userSessionInfo:{},widget:null,backgroundColor:kSe[0],occupied:!1},TSe=(e,t)=>{v.info(`[1v1 voip] sendMessage command: ${t}`);var r=e.sender,n=ESe.userSessionInfo.openid,i=Object.assign({},e,{sender:n,command:t});Qbe({msgType:lSe,receiver:r,data:i,complete(e){v.info(`[1v1 voip] sendChannelMessage command: ${t} message: ${JSON.stringify(i)}`,e)}})},PSe=()=>!(ge||ve);Xbe((e=>{v.info("[1v1 voip] onReceiveMsgChannel: ",JSON.stringify(e));var{msgType:t,data:r}=e,n=ESe.widget;t===lSe&&(n?r.sender===n.sessionInfo.otherOpenid?n.handleReceiveMessage(r.command):n.sendMessage(sSe.BUSY):r.command===sSe.CALL&&RSe().then((()=>{PSe()&&!ESe.ignoreSelfVersion?TSe(r,sSe.DEVICE_NOT_SUPPORT):ESe.enable?ghe({complete(e){v.info("[1v1 voip] hasJoinVoIPChat",e),ESe.occupied=e.join,ESe.occupied?TSe(r,sSe.BUSY):ASe({roomId:r.roomId,sessionKey:ESe.userSessionInfo.sessionKey,callType:"video"===r.roomType?1:0,operationType:1}).then((e=>{v.info("[1v1 voip] deductVoIPCallPay",e);var t=parseInt(e.errcode,10),n=parseInt(e.unused_quota_count,10);0===t&&n>0?ESe.widget=new xSe({role:"listener",minWindowType:ESe.minWindowType,backgroundColor:ESe.backgroundColor,...r}):TSe(r,sSe.ARREAR)})).catch((e=>{console.log("[1v1 voip] deductVoIPCallPay fail: ",e),TSe(r,sSe.SYSTEM_ERROR)}))}}):TSe(r,sSe.DISABLE_CHAT)})))})),ewe((e=>{v.info("[1v1 voip] onReceiveCacheMsgChannel: ",JSON.stringify(e));var t=new Set,r=null===ESe.widget;e.filter((e=>e.msgType===lSe)).forEach((e=>{var{sendTime:n,data:i}=e;t.has(i.sender)||Date.now()-n>cSe||i.command===sSe.CALL&&r&&(t.add(i.sender),TSe(i,sSe.OFFLINE_RECOVERY))}))})),iv((e=>{v.info("[1v1 voip] onNetworkStatusChange",e),ESe.widget&&ESe.widget.onNetworkStatusChange(e)})),Xde((e=>{v.info("[1v1 voip] onVoIPChatInterrupted",e),ESe.widget&&ESe.widget.onVoIPChatInterrupted(e)})),qde((e=>{v.info("[1v1 voip] onVoIPChatMembersChanged",e),ESe.widget&&ESe.widget.onVoIPChatMembersChanged(e)}));class xSe{constructor(e){var t={};t.roomType=e.roomType||"video",t.isVoiceRoom="voice"===e.roomType,t.isCaller="caller"===e.role,t.groupId=e.groupId,t.roomId=e.roomId,t.disableSwitchVoice=e.disableSwitchVoice||!1,t.minWindowType=e.minWindowType||1,t.caller=e.caller,t.listener=e.listener,t.lifespan=ESe.userSessionInfo.lifespan,t.sessionKey=ESe.userSessionInfo.sessionKey,t.createSessionTime=ESe.userSessionInfo.createSessionTime,t.handsFree=!t.isVoiceRoom,t.muteConfig={muteMicrophone:!1,muteEarphone:!1},t.backgroundColor=e.backgroundColor,this.node={container:null,overlay:null,navigationBar:null,maxWindow:null,scaleBtn:null,hangupBtns:null,muteBtn:null,handsFreeBtn:null,cancelBtn:null,refuseBtn:null,listenBtn:null,switchVoiceBtns:null,switchCameraBtn:null,cameraContainer:null,voipContainer:null,videoOperationArea:null,voiceOperationArea:null,videoInfoWindow:null,voiceInfoWindow:null,videoInfoWindowNicknameCenter:null,callArea:null,listenArea:null,minPreviewWindowMask:null,previewWindowSelfContainer:null,previewWindowOtherContainer:null,previewWindowSelf:null,previewWindowOther:null,tips:null,camera:null,duration:null,minWindow:null,minWindowLeft:null,minWindowInfo:null,minWindowHangupBtn:null,minWindowDuration:null,minWindowVoipContainer:null,minWindowVoip:null,minWindowHeadImage:null,videoInfoWindowTips:null,voiceInfoWindowTips:null,maskBottom:null,maskTop:null,maskVoice:null,callSwitchVoiceBtn:null,mainContainer:null},this.statistics={videoStartTime:0,videoEndTime:0,voiceStartTime:0,voiceEndTime:0},this.callback={success:e.success,fail:e.fail,complete:e.complete},t.isCaller?(t.selfOpenid=e.caller.openid,t.otherOpenid=e.listener.openid):(t.otherOpenid=e.caller.openid,t.selfOpenid=e.listener.openid),this.sessionInfo=t,this.isPreviewWindowOtherMax=!0,this.hasOtherReceiveCall=!1,this.showMinWindow=!1,this.onDraging=!1,this.onCalling=!1,this.destoryed=!1,this.hasJoinVoIPChat=!1,this.startChatTime=0;var{maxWindowTemplate:r,minWIndowTemplate:n}=this.compileTemplate(t);fSe(),pSe.styleTree.maxWindow.backgroundColor=t.isVoiceRoom?t.backgroundColor:kSe[0];var i=new jwe(r,pSe.styleTree),a=this.isMinWindowTypeMax()?pSe.minWindowStyle1:pSe.minWindowStyle2;a.minWindow.backgroundColor=t.backgroundColor;var o=new jwe(n,a);Object.keys(this.node).forEach((e=>{this.node[e]=i.querySelector(`.${e}`)}));["minWindow","minWindowLeft","minWindowRight","minWindowHangupBtn","minWindowDuration","minWindowInfo","minWindowVoipContainer","minWindowHeadImage","minWindowVoip","minWindowContainer"].forEach((e=>{this.node[e]=o.querySelector(`.${e}`)})),this.node.hangupBtns=i.querySelectorAll(".hangupBtn"),this.node.switchVoiceBtns=i.querySelectorAll(".switchVoiceBtn"),this.bindEvent(),this.node.container.insert(),this.node.minWindow.insert(),this.startWaitAnimation(),t.isCaller||(this.startVibrateLong(),this.sendMessage(sSe.RECEIVE_CALL)),t.isCaller&&(setTimeout((()=>{this.destoryed||this.onCalling||this.showMinWindow||this.showTips(rwe[1],2e4)}),2e4),setTimeout((()=>{this.destoryed||this.onCalling||(this.sendMessage(sSe.CANCEL),this.showTipsThenDestory(rwe[2]))}),6e4),this.call()),this.payTimer=setInterval((()=>{this.onCalling&&ASe({roomId:t.roomId,sessionKey:t.sessionKey,callType:t.isVoiceRoom?0:1,operationType:2}).then((e=>{v.info("[1v1 voip]: deductVoIPCallPay: ",e);var t=parseInt(e.errcode,10);3===t?(this.sendMessage(sSe.ARREAR),this.showTipsThenDestory(iwe[8])):0!==t&&(this.sendMessage(sSe.SYSTEM_ERROR),this.showTipsThenDestory(iwe[2]))})).catch((e=>{v.info("[1v1 voip]: deductVoIPCallPay fail: ",e),this.sendMessage(sSe.SYSTEM_ERROR),this.showTipsThenDestory(iwe[2])}))}),cSe)}bindEvent(){var{container:e,overlay:t,navigationBar:r,scaleBtn:n,maxWindow:i,minWindow:a,minWindowLeft:o,minWindowInfo:s,minWindowHangupBtn:l,cancelBtn:c,refuseBtn:u,listenBtn:d,muteBtn:p,handsFreeBtn:h,minPreviewWindowMask:f,switchCameraBtn:g,hangupBtns:v,switchVoiceBtns:m,minWindowVoipContainer:y,minWindowContainer:_,mainContainer:b}=this.node;e.on("ready",(()=>{this.popupMaxWindow(),r.fadeTo(.9,ESe.popupDuration),t.fadeTo(.87,ESe.popupDuration),this.changeStatusBarColor()})),n&&n.on("click",(()=>{this.resetStatusBarColor(),this.showMinWindow=!0;var n=this.sessionInfo.isVoiceRoom;r.hide(),t.fadeOut(),b.hide(),this.popDownMaxWindow().then((()=>{e.hide()})),this.showMinWindowVoipPreviewWindow(),!n&&this.onCalling&&this.hideOtherVoipPreviewWindow(),setTimeout((()=>{n?(this.hideMask(),_.style.opacity=0,_.update(),a.fadeIn(5),_.fadeTo(1,200)):a.fadeIn(200)}),200)}));var w=()=>{var e=this.onCalling?iwe[5]:rwe[4],t=this.onCalling?sSe.HANG_UP:sSe.CANCEL;this.sendMessage(t),this.showTipsThenDestory(e,0)},S=()=>{if(!this.onDraging){this.showMinWindow=!1;var{isVoiceRoom:n}=this.sessionInfo;!n&&this.onCalling&&this.showOtherVoipPreviewWindow(),this.hideMinWindowVoipPreviewWindow(),e.show(),n?_.fadeTo(0,100).then((()=>{this.showMask(),a.fadeOut(5).then((()=>{_.style.opacity=1,_.update()}))})):a.fadeOut(100),t.show(),t.fadeTo(.87,ESe.popupDuration),this.popupMaxWindow().then((()=>{this.node.maxWindow.style.borderRadius=16,this.node.maxWindow.update(),r.show(),b.show()})),this.changeStatusBarColor()}};l&&l.on("click",(()=>{w()})),o&&o.on("click",(()=>{S()})),s&&s.on("click",(()=>{this.isMinWindowTypeMax()||S()})),y&&y.on("click",(()=>{var{isVoiceRoom:e}=this.sessionInfo;this.isMinWindowTypeMax()||(e?w():S())})),a&&a.on("drag",(e=>{var t=a.position.width/2,r=pSe.screenWidth/2,n=e.stage,o=e.drag;"dragging"===n&&(this.onDraging=!0),"end"===n&&this.onDraging&&(this.onDraging=!1,a.position.left=16,o.left+t>r&&!this.isMinWindowTypeMax()&&(a.position.left=pSe.minWindowLeft2),a.position.top=o.top,a.animate({finalStyle:{...a.position},duration:100}),i.position=Object.assign({},a.position),i.update())})),p&&p.on("click",(()=>{var e=this.sessionInfo.muteConfig,t=!e.muteMicrophone;e.muteMicrophone=t,Ude({muteConfig:{muteMicrophone:t}});var r=t?eSe:Ywe;p.props.iconPath=r,p.update()})),c&&c.on("click",(()=>{this.sendMessage(sSe.CANCEL),this.showTipsThenDestory(rwe[4])})),u&&u.on("click",(()=>{this.stopVibrateLong(),this.sendMessage(sSe.REFUSE),this.showTipsThenDestory(nwe[2])})),v.forEach((e=>{e.on("click",(()=>{this.sendMessage(sSe.HANG_UP),this.showTipsThenDestory(iwe[5])}))})),h&&h.on("click",(()=>{this.toggleHandsFree();var{handsFree:e}=this.sessionInfo;this.showTips(swe[e?6:7])})),m.forEach((e=>{e.on("click",(()=>{var{isCaller:e}=this.sessionInfo;this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.onCalling||e?(this.switchToVoiceCall(),this.showTips(iwe[7]),this.sendMessage(sSe.SWITCH_VOICE)):(this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(iwe[7]),this.sendMessage(sSe.ACCEPT_AND_SWITCH_VOICE),this.showDuration()})))}))})),d&&d.on("click",(()=>{this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{var{isVoiceRoom:e}=this.sessionInfo,t=e?owe[0]:nwe[0];this.onCalling=!0,this.stopWaitAnimation(),this.showTips(t),this.showDuration(),this.pullUpCallingInterface(),this.sendMessage(sSe.ACCEPT)}))})),g&&g.on("click",(()=>{var e=this.node.previewWindowSelf,t="front"===e.props.configCamera?"back":"front";e.props.configCamera=t,e.update()})),f&&f.on("click",(()=>{this.switchVoipPreviewWindow()}))}toggleHandsFree(){var{handsFree:e,muteConfig:t}=this.sessionInfo,r=!e;Ude({muteConfig:t,handsFree:r});var{handsFreeBtn:n}=this.node;n&&(n.props.iconPath=r?tSe:Zwe,n.update()),this.sessionInfo.handsFree=r}isMinWindowTypeMax(){return 1===this.sessionInfo.minWindowType}call(){var e=this.callback,t=Date.now();CSe({type:"create",targetOpenid:this.sessionInfo.otherOpenid}).then((r=>{v.info("[1v1 voip] generateRoomId",r);var n=Date.now();this.sessionInfo.groupId=r.groupId,this.sessionInfo.roomId=r.roomId,ASe({roomId:this.sessionInfo.roomId,sessionKey:ESe.userSessionInfo.sessionKey,callType:"video"===this.sessionInfo.roomType?1:0,operationType:1}).then((r=>{v.info("[1v1 voip] deductVoIPCallPay",r);var i=parseInt(r.errcode,10),a=parseInt(r.unused_quota_count,10);if(0===i&&a>0)SSe({...this.sessionInfo}).then((r=>{this.hasJoinVoIPChat=!0,this.playCallTone();var i=Date.now();v.info("[1v1 voip] generateRoomId use",n-t),v.info("[1v1 voip] join1v1VoIPChat use",i-n),v.info("[1v1 voip] join1v1VoIPChat",r),this.sendMessage(sSe.CALL);var a="join1v1Chat:ok";e.success&&e.success({errMsg:a,errCode:0}),e.complete&&e.complete({errMsg:a,errCode:0})})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("join1v1VoIPChat","join1v1Chat");e.fail&&e.fail({errMsg:r,errCode:t.errCode}),e.complete&&e.complete({errMsg:r,errCode:t.errCode})}));else{this.showTipsThenDestory(iwe[8]);var o=`join1v1Chat:fail ${r.errmsg}`;e.fail&&e.fail({errMsg:o,errCode:i}),e.complete&&e.complete({errMsg:o,errCode:i})}})).catch((t=>{v.info("[1v1 voip] deductVoIPCallPay",t),this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("deductVoIPCallPay","join1v1Chat");e.fail&&e.fail({errMsg:r}),e.complete&&e.complete({errMsg:r})}))}))}reCall(){v.info("[1v1 voip] reCall onCalling: ",this.onCalling),this.onCalling||this.sendMessage(sSe.CALL)}listenerJoinVoIPChat(){return CSe({type:"join",groupId:this.sessionInfo.groupId}).then((e=>(this.sessionInfo.groupId=e.groupId,this.sessionInfo.roomId=e.roomId,SSe({...this.sessionInfo}).then((e=>{this.hasJoinVoIPChat=!0,v.info("[1v1 voip] join1v1VoIPChat",e)})).catch((e=>{this.showTipsThenDestory("接听失败"),v.error(e)})))))}onVoIPChatInterrupted(){this.showTipsThenDestory(iwe[2])}onVoIPChatMembersChanged(e){var t=e.openIdList,{selfOpenid:r,isCaller:n}=this.sessionInfo,{callSwitchVoiceBtn:i}=this.node;2===t.length&&n&&(i&&i.hide(),this.showDuration()),this.onCalling&&1===t.length&&t[0]===r?this.showTipsThenDestory(iwe[4]):n||1!==t.length||t[0]!==r||this.showTipsThenDestory(iwe[4])}sendMessage(e){if(!this.destoryed){var{otherOpenid:t,selfOpenid:r}=this.sessionInfo,n=new uSe({...this.sessionInfo,sender:r,command:e});Qbe({msgType:lSe,receiver:t,data:n,complete(t){v.info(`[1v1 voip] sendMessage ${e}`,t)}})}}handleReceiveMessage(e){var{isVoiceRoom:t}=this.sessionInfo;switch(e){case sSe.CALL:this.sendMessage(sSe.BUSY);break;case sSe.ACCEPT:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),!t&&this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()),this.showTips(rwe[3]);break;case sSe.SWITCH_VOICE:this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.switchToVoiceCall(),this.showTips(iwe[6]);break;case sSe.ACCEPT_AND_SWITCH_VOICE:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(iwe[6]);break;case sSe.RECEIVE_CALL:this.hasOtherReceiveCall=!0;break;case sSe.CANCEL:this.showTipsThenDestory(nwe[1]);break;case sSe.REFUSE:var r=t?awe[5]:rwe[5];this.showTipsThenDestory(r);break;case sSe.HANG_UP:this.showTipsThenDestory(iwe[4]);break;case sSe.NETWORK_SIGNAL_WEAK:this.showTips(iwe[0]);break;case sSe.BUSY:this.showTipsThenDestory(rwe[6]);break;case sSe.DEVICE_NOT_SUPPORT:this.showTipsThenDestory(awe[0]);break;case sSe.DISABLE_CHAT:this.showTipsThenDestory(awe[7]);break;case sSe.ARREAR:case sSe.SYSTEM_ERROR:break;case sSe.OFFLINE_RECOVERY:this.reCall()}}onNetworkStatusChange(e){var{isConnected:t,networkType:r}=e,{isVoiceRoom:n}=this.sessionInfo;t?("2g"===r||!n&&"3g"===r)&&(this.sendMessage(sSe.NETWORK_SIGNAL_WEAK),this.showTips(iwe[1])):this.showTipsThenDestory(iwe[3])}switchToVoiceCall(){this.toggleHandsFree();var{videoInfoWindowNicknameCenter:e,voipContainer:t,cameraContainer:r,switchVoiceBtns:n,videoInfoWindow:i,voiceInfoWindow:a,voiceInfoWindowTips:o,videoOperationArea:s,voiceOperationArea:l,minWindowVoipContainer:c,minWindowInfo:u,minWindowHeadImage:d,maskBottom:p,maskTop:h}=this.node,{isCaller:f}=this.sessionInfo;p&&(p.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),this.isMinWindowTypeMax()?(c&&c.remove(),u.position=Object.assign({},u.position,{left:16,top:0}),u.update()):(d.props.iconPath=Xwe,d.update()),this.onCalling?(f||(this.statistics.videoEndTime=Date.now(),this.statistics.voiceStartTime=Date.now()),t&&t.remove(),this.node.voipContainer=null,e.hide(),o.hide(),a.show(),s.hide(),l.show()):(r&&r.remove(),this.node.cameraContainer=null,i.hide(),a.show(),n.forEach((e=>e.hide())))}pullUpCallingInterface(){if(this.onCalling){var{isVoiceRoom:e}=this.sessionInfo,{videoInfoWindow:t,videoOperationArea:r,listenArea:n,callArea:i,videoInfoWindowNicknameCenter:a,voiceInfoWindow:o,voiceInfoWindowTips:s,voiceOperationArea:l,cameraContainer:c,minWindowVoipContainer:u,minWindowInfo:d,minWindowHeadImage:p,maskTop:h,maskBottom:f}=this.node;i&&i.hide(),n&&n.hide(),t&&t.hide(),c&&c.remove(),this.node.cameraContainer=null,e?(f&&(f.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),o.show(),s.hide(),l.show(),this.isMinWindowTypeMax()?(u&&u.remove(),d.position=Object.assign({},d.position,{left:16,top:0}),d.update()):(p.props.iconPath=Xwe,p.update())):(this.showVoipPreViewWindow(),o&&o.hide(),a.show(),r.show(),this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()))}}destory(){clearInterval(this.payTimer),this.hideDuration(),this.resetStatusBarColor(),this.stopWaitAnimation(),this.onCalling=!1,this.destoryed=!0,this.hasJoinVoIPChat&&Wde(),this.node.container.remove(),this.node.minWindow.remove(),ESe.widget=null}showTipsThenDestory(e,t=2e3){this.stopCallTone(),this.stopVibrateLong(),0===t?this.destory():this.showTips(e,t).then((()=>this.destory()))}showTips(e,t=2e3){if(this.showTipsTimier&&clearTimeout(this.showTipsTimier),this.showMinWindow)return gP({title:e,icon:"none",duration:t}),new Promise((e=>{setTimeout((()=>{e()}),t)}));var r=this.node.tips,n=r.measureText(e)+28,i=(pSe.screenWidth-n)/2;return r.label.content=e,r.position.left=i,r.position.width=n,r.props.hide=!1,r.update(),new Promise((e=>{this.showTipsTimier=setTimeout((()=>{this.destoryed||r.hide(),e()}),t)}))}changeStatusBarColor(){qu("setStatusBarStyle",{color:"white"})}resetStatusBarColor(){var e=X0().frontColor;qu("setStatusBarStyle",{color:"#ffffff"===e?"white":"black"})}showVoipPreViewWindow(){var{otherOpenid:e,selfOpenid:t}=this.sessionInfo;this.createVoipPreviewWindow({self:!1,openid:e,size:"max"}),this.createVoipPreviewWindow({self:!0,openid:t,size:"min"})}showOtherVoipPreviewWindow(){var{otherOpenid:e}=this.sessionInfo,t=this.isPreviewWindowOtherMax?"max":"min";this.createVoipPreviewWindow({self:!1,openid:e,size:t})}hideOtherVoipPreviewWindow(){var{previewWindowOther:e}=this.node;e&&e.remove()}showMinWindowVoipPreviewWindow(){var{otherOpenid:e,isVoiceRoom:t}=this.sessionInfo,{minWindowVoip:r,cameraContainer:n}=this.node;if(!t){r&&r.empty(),n&&n.empty();var i=this.isMinWindowTypeMax()?48:40,a=this.isMinWindowTypeMax()?48:40,o=null;this.onCalling&&(o=new Dwe({position:{left:0,top:0,width:a,height:i},props:{independent:!0,self:!1,openid:e}})),o&&(r.appendChild(o),o.insert())}}hideMinWindowVoipPreviewWindow(){var{minWindowVoip:e,cameraContainer:t}=this.node;if(e&&e.empty(),!this.onCalling&&t){var r=new Pwe({position:{left:0,top:0,width:pSe.screenWidth,height:pSe.maxWindowHeight}});t.appendChild(r),t.insert()}}switchVoipPreviewWindow(){var{previewWindowOther:e,previewWindowSelf:t}=this.node;if(t&&e){var r=this.isPreviewWindowOtherMax?"max":"min",n=this.isPreviewWindowOtherMax?"min":"max";this.adjustVoipPreviewWindow(t,r),this.adjustVoipPreviewWindow(e,n),this.isPreviewWindowOtherMax=!this.isPreviewWindowOtherMax}}adjustVoipPreviewWindow(e,t){var r="max"===t,n=e.parent,i=r?pSe.maxPreviewWindowPosition:pSe.minPreviewWindowPosition,a=r?pSe.maxPreviewWindowPosition:pSe.minPreviewWindowVoipPosition,o=r?1:2;n.position=i,e.position=a,n.style.zIndex=o,n.update(),e.update()}createVoipPreviewWindow(e){var{size:t,self:r,openid:n}=e,{previewWindowSelfContainer:i,previewWindowOtherContainer:a}=this.node,o="max"===t?pSe.maxPreviewWindowPosition:pSe.minPreviewWindowVoipPosition,s=r?i:a,l=new Dwe({position:o,props:{independent:!0,self:r,openid:n}});this.node[r?"previewWindowSelf":"previewWindowOther"]=l,s.appendChild(l),l.insert()}startWaitAnimation(){this.sessionInfo.isCaller&&(this.waitCount=0,this.waitTimer=setInterval((()=>{var{voiceInfoWindowTips:e,videoInfoWindowTips:t}=this.node,r=`正在等待对方接收邀请${new Array(++this.waitCount).fill(".").join("")}`;this.waitCount%=3,t&&(t.label.content=r,t.update()),e&&(e.label.content=r,e.update())}),800))}stopWaitAnimation(){clearInterval(this.waitTimer)}playCallTone(){hhe({type:"play"})}stopCallTone(){hhe({type:"stop"})}startVibrateLong(){this.vibrateLongTimer=setInterval((()=>{uj()}),2e3)}stopVibrateLong(){clearInterval(this.vibrateLongTimer)}showDuration(){var{duration:e,minWindowDuration:t}=this.node,{isVoiceRoom:r,isCaller:n}=this.sessionInfo;n||(r?this.statistics.voiceStartTime=Date.now():this.statistics.videoStartTime=Date.now()),this.startChatTime||(this.startChatTime=Date.now()),e.show(),this.durationTimer=setInterval((()=>{if(!this.destoryed){var n=Math.ceil((Date.now()-this.startChatTime)/1e3),i=phe(n);e.label.content=i,e.update();var a=this.isMinWindowTypeMax()?r?`音频通话中 ${i}`:`通话中 ${i}`:i;t.label.content=a,t.update()}}),1e3)}hideDuration(){var{isCaller:e,isVoiceRoom:t,caller:r,listener:n}=this.sessionInfo;if(this.onCalling&&!e){t?this.statistics.voiceEndTime=Date.now():this.statistics.videoEndTime=Date.now();var{videoEndTime:i,videoStartTime:a,voiceEndTime:o,voiceStartTime:s}=this.statistics,l=Math.ceil((i-a)/1e3),c=Math.ceil((o-s)/1e3);mSe({callerOpenid:r.openid,listenerOpenid:n.openid,videoTime:l,voiceTime:c,complete(e){v.info("[1v1 voip] setVoIPChatRecord:",e)}})}clearInterval(this.durationTimer)}popupMaxWindow(){return this.node.maxWindow.animate({finalStyle:{top:pSe.maxWindowTop,left:0,width:pSe.screenWidth,height:pSe.maxWindowHeight},duration:ESe.popupDuration})}changeMaxWindowBackground(){var{maxWindow:e}=this.node;e.style.bgColor=this.sessionInfo.backgroundColor,e.update()}hideMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.hide(),t&&t.hide(),r&&r.hide()}showMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.show(),t&&t.show(),r&&r.show()}popDownMaxWindow(){var{minWindow:e,minWindowVoip:t}=this.node,{isVoiceRoom:r}=this.sessionInfo,n={},i=9.6;return r?Object.assign(n,e.position):(n={left:e.position.left+12,top:e.position.top+12,width:t.position.width,height:t.position.height},i=pSe.minWindowStyle1?6:4),this.node.maxWindow.style.borderRadius=i,this.node.maxWindow.update(),this.node.maxWindow.animate({finalStyle:{...n},duration:ESe.popupDuration})}compileTemplate(){var e=this.sessionInfo,t=e.isCaller?e.listener:e.caller;return oSe({title:H.accountInfo.nickname,nickname:t.nickname,headImage:t.headImage,disableSwitchVoice:e.disableSwitchVoice,isVoiceRoom:e.isVoiceRoom,isCaller:e.isCaller,minWindowType:e.minWindowType})}}var OSe=["on call","wechat has no camera authorization","wechat has no record authorization","miniprogram has no record authorization","miniprogram has no camera authorization","device not support","not open 1v1 Chat","system error","occupied by other miniprogram"],RSe=()=>{var e=Math.ceil(Date.now()/1e3),{lifespan:t,createSessionTime:r}=ESe.userSessionInfo;return r&&t&&e<r+t?Promise.resolve():ISe().then((t=>{Object.assign(ESe.userSessionInfo,{openid:t.openid,lifespan:t.lifespan,sessionKey:t.sessionKey,createSessionTime:e-3600}),v.info("[1v1 voip] getCloudSession success",t)}),(e=>{v.info("[1v1 voip] getCloudSession fail",e)}))},MSe=(e={})=>{if(yc("setEnable1v1Chat",e,{enable:!0})){RSe();var t="ok",r=0;if(PSe()&&!e.ignoreSelfVersion)return r=-20001,t=OSe[5],void bc("setEnable1v1Chat",e,t,r);if(!e.enable)return ESe.enable=!1,ESe.ignoreSelfVersion=e.ignoreSelfVersion||!1,void Sc({name:"setEnable1v1Chat",args:e});var{cameraAuthorized:n,microphoneAuthorized:i}=h_();if(!n||!i)return n||(r=-30001,t=OSe[1]),i||(r=-30002,t=OSe[2]),void uP({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){bc("setEnable1v1Chat",e,t,r)}});bSe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?(ESe.enable=!0,ESe.ignoreSelfVersion=e.ignoreSelfVersion||!1,ESe.minWindowType=ze(e.minWindowType)?e.minWindowType:1,ESe.backgroundColor=ze(e.backgroundType)?kSe[e.backgroundType]:kSe[0],Sc({name:"setEnable1v1Chat",args:e})):a?i||wSe({scope:"scope.camera"}).then((()=>{MSe(e)}),(()=>{r=-30004,t=OSe[4],bc("setEnable1v1Chat",e,t,r)})):wSe({scope:"scope.record"}).then((()=>{MSe(e)}),(()=>{r=-30003,t=OSe[3],bc("setEnable1v1Chat",e,t,r)}))}))}},DSe=e=>{var t="ok",r=0;if(PSe()&&!e.ignoreSelfVersion?(r=-20001,t=OSe[5]):ESe.widget?(r=-20002,t=OSe[0]):ESe.occupied&&(r=-20003,t=OSe[8]),"ok"===t){var{cameraAuthorized:n,microphoneAuthorized:i}=h_();if(!n||!i)return n||(t=OSe[1],r=-30001),i||(t=OSe[2],r=-30002),void uP({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){bc("join1v1Chat",e,t,r)}});bSe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?RSe().then((()=>{ghe({complete(n){if(v.info("[1v1 voip] hasJoinVoIPChat",n),ESe.occupied=n.join,ESe.occupied)t=OSe[8],bc("join1v1Chat",e,t,r=-20003);else{var i=Object.assign({role:"caller"},e);i.backgroundColor=ze(e.backgroundType)?kSe[e.backgroundType]:kSe[0],i.caller.openid=ESe.userSessionInfo.openid,ESe.widget=new xSe(i)}}})}),(()=>{t=OSe[7],bc("join1v1Chat",e,t,r=-3e4)})):a?i||wSe({scope:"scope.camera"}).then((()=>{DSe(e)}),(()=>{t=OSe[4],bc("join1v1Chat",e,t,r=-30004)})):wSe({scope:"scope.record"}).then((()=>{DSe(e)}),(()=>{t=OSe[3],bc("join1v1Chat",e,t,r=-30003)}))}))}else bc("join1v1Chat",e,t,r)},NSe=!1;H.onReady((()=>{NSe=NSe||1055===(H.appLaunchInfo||{}).scene})),aO((e=>{NSe=NSe||1055===e.scene}));var LSe=e=>{NSe?qu("navigateBackH5",e):bc("navigateBackH5",e,"not HTML5 page can navigate back.")},BSe=(e={})=>{if(Be()){var t="";et(e.extraData)&&(t=JSON.stringify(e.extraData)),qu("navigateBackApplication",Object.assign({},e,{extraData:t}))}else bc(e,"permission denied",1)},$Se=(e={})=>{var t="";et(e.extraData)&&(t=JSON.stringify(e.extraData)),qu("navigateBackNative",Object.assign({},e,{extraData:t}))};class FSe extends LT{constructor({id:e,parentId:t,style:r,props:n={},type:i="text",name:a="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:c=!1,independent:u=!1,dest:d=0}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===i?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=c,this.independent=u,this.dest=d,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new FSe({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{l&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),h=e}));var f=e=>{l&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-p};this.emit("click",n)};this.on("touchend",f),this.on("touchcancel",f),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=ET(this.computedStyle[t])),e)),{});t.bgColor=ET(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{qu(`insert${this.type}`,Object.assign(e,{success:e=>{wT(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{qu(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,r)=>{qu(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:a=0,duration:o=500,easing:s}={}){var l={dest:this.dest,viewId:this.id,easing:s||"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:r,rotate:a,scaleX:n,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{qu("animateCoverView",Object.assign(l,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==a&&(this.style.rotate=a),o))).catch((e=>{v.error("animateCoverView fail",e)}))}}class jSe extends FSe{constructor({id:e,style:t,value:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var WSe=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&WSe(e,r)}))},USe=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return USe(r)})))))},VSe=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return VSe(r)}))};class qSe extends LT{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return Lwe(t),WSe(t,this),e?USe(this).then((()=>this.emit("update-done"))):(VSe(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var zSe=new qSe({name:"webview-layout"});zSe.dest=0;var GSe=new qSe({name:"nativeview-layout",auto:!1});GSe.onebyone=!1,GSe.dest=1;var HSe="RefreshRuntimeSession",KSe=()=>xd({apiName:HSe,sdkApiName:HSe,reqData:{}}),QSe=e=>{var t=0,r=0,n=()=>{++t>=e&&KSe().then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;r_(n)})).catch((e=>{++r>=2&&r_(n)}))};t_(n)},JSe=e=>new Promise((t=>setTimeout(t,e)));class XSe{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=h_(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var a=new FSe({id:i,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!Oe()}}),o=new jSe({id:i+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${Oe()?"小游戏":"小程序"}业务及数据已由新开发者承接`});a.add(o),zSe.add(a),this.banner=a,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,JSe(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>JSe(3e3))).then((()=>zSe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=h_();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=h_();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var YSe=(e,t)=>xd({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((r=>{var n=JSON.parse(r.rawData),{need_show:i,runtime_refresh_clicks:a}=n;if(a&&Pe()&&QSe(a),i){var o=new XSe(e,t);return o.show(),o}})).catch((()=>{})),ZSe=e=>new Promise((t=>setTimeout(t,e)));class eCe{constructor(e,t,r=!1){this.orientation=t,this.animating=!1;var{screenWidth:n}=h_(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=r;var a=n-30,o=new FSe({id:i,style:{display:"flex",alignItems:"center",position:"fixed",left:(n-a)/2,top:this.getTop(),width:a,height:38,backgroundColor:"#FA5151",opacity:0,zIndex:1000001,borderRadius:5,fixed:!0}}),s=new jSe({id:i+1,style:{width:a-30,height:38,lineHeight:38,textAlign:"center",fontSize:13,color:"#ffffff"},value:e,bubbleEvent:!1,clickState:!1}),l=new jSe({id:i+2,style:{position:"absolute",left:a-44,top:-2,width:30,height:38,lineHeight:38,fontSize:18,color:"#ffffff"},value:"×",eventType:"touch",bubbleEvent:!0,clickState:!0});s.add(l),o.add(s),zSe.add(o),o.on("touchstart",(()=>{this.hide()})),this.banner=o,this.bannerWidth=a}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.9,duration:300})))).then((()=>{this.animating=!1})).catch((()=>{}))}hide(){OO(+new Date),this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>ZSe(3e3))).then((()=>zSe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=h_();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=h_();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var tCe=(e,t)=>{xO((r=>{var n=(+new Date-(r||0))/1e3/60,i=H&&H.appContactInfo&&H.appContactInfo.operationInfo&&H.appContactInfo.operationInfo.jsonInfo&&H.appContactInfo.operationInfo.jsonInfo.warning_info&&H.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner&&H.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner.wording||"";if(!Oe()&&i&&n>30){var a=new eCe(i,e,t);return a.show(),a}}))},rCe=(()=>{var e,t=t=>{e="halfPage"===t.mode};return aO((e=>t(e))),H.onReady((()=>t(H.appLaunchInfo||{}))),()=>e})(),nCe=(()=>{var e,t=[1175,1177],r=r=>{e=t.includes(r.scene)};return aO((e=>r(e))),H.onReady((()=>r(H.appLaunchInfo||{}))),()=>e})(),iCe=(()=>{var e,t=[1011,1012,1013,1124,1125,1126],r=r=>{e=t.includes(r.scene)};return aO((e=>r(e))),H.onReady((()=>r(H.appLaunchInfo||{}))),()=>e})(),aCe=(e={})=>iCe()&&e.query&&e.query.q&&e.query.scancode_time,oCe=e=>{if(ge&&aCe(e)){var t=H.accountInfo&&H.accountInfo.appId;oh("getPatchWrongQueryFromGlobalStorage",{appId:t},void 0,(r=>{r="number"==typeof r?r:0;var n=e.path+".html",i=Object.keys(e.query||{}).reduce(((t,r,n)=>t+`${0===n?"":"&"}${r}=${e.query[r]}`),"");xd({apiName:"webapi_checkwxa3rdqrcodescaninfo",reqData:{retry_time:r,path:n,query:i}}).then((n=>{v.info("webapi_checkwxa3rdqrcodescaninfo res=",n);var{is_restart:i,replace_query:a,replace_appid:o}=n.data;i?o?cP({content:"无法启动小程序，请重试",confirmText:"确认",showCancel:!1,success(){oh("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{fW()}))},fail(){oh("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{fW()}))}}):(r++,oh("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:r},void 0,(()=>{cP({content:"信息已更新，需要重启小程序",confirmText:"确认",showCancel:!1,success(){qu("restart",{url:a,scene:e.scene})},fail(){qu("restart",{url:a,scene:e.scene})}})}))):"number"==typeof r&&r>0&&oh("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)})).catch((e=>{v.error("patchWrongQuery fail",e),"number"==typeof r&&r>0&&oh("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)}))}))}},sCe="game:verifystate",lCe="game_live_default_condition",cCe=v.createLogger("common reportUserBehavior"),uCe=dd(cP),dCe=dd(Df),pCe=dd(Lf),hCe="wxfile://ad",fCe=`${hCe}/verifystate.json`,gCe=sCe,vCe=null;function mCe(e){return yCe.apply(this,arguments)}function yCe(){return yCe=Hp()((function*(e){try{if(vCe=e,cCe.log("set verifydata",JSON.stringify(vCe)),fe)return;be||ge?yield zu("setGlobalStorage",{key:gCe,data:JSON.stringify(e)}):ve&&(yield pCe({filePath:fCe,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){cCe.log("set cache fail",e.message)}})),yCe.apply(this,arguments)}function _Ce(){return bCe.apply(this,arguments)}function bCe(){return bCe=Hp()((function*(){try{if(fe)return;if(be||ge){var{data:e}=yield zu("getGlobalStorage",{key:gCe});cCe.log("get verifydata",e),vCe=JSON.parse(e)}else if(ve){var{data:t}=yield dCe({filePath:fCe,encoding:"utf8"});cCe.log("get verifydata",t),vCe=JSON.parse(t)}}catch(e){cCe.log("get cache fail",e.message,e)}})),bCe.apply(this,arguments)}var wCe=!1,SCe=0,CCe=null,ICe=0,ACe=new Ah("Verify",!0);function kCe(e=!0){var t;null!==(t=vCe)&&void 0!==t&&t.isSoftMode||(e&&(vCe=null),CCe&&(CCe.des(),CCe=null))}var ECe=null;function TCe(e){Sc({args:ECe,name:"getRealNameVerifyMethod",success:e}),ECe=null}function PCe(e,{ContentType:t,ContentID:r}={}){if(vCe){var n=null;"function"==typeof e?n=e:ECe=e;var{url:i,weapp:a,inlineCertMode:o}=vCe.urlInfo||{},{isSoftMode:s,remainSeconds:l}=vCe;if(o)return RCe({UIArea:o===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:s?3:1,ContentType:t}),void eIe({inlineCertMode:o,isSoftMode:s,remainSeconds:l,ContentType:t,ContentID:r});a?YM({appId:a.appid,path:a.path,extraData:a.extraData,success:n}):i&&MM({url:i,isNativeStyle:!0,success:n}),kCe()}}var xCe={INLINE_CERT_MODE_DIALOG:1,INLINE_CERT_MODE_HALF_SCREEN:2};function OCe(){return!1}function RCe({UIArea:e,PositionID:t,ActionID:r,Status:n,ExpID:i="",ContentType:a=0,ContentID:o=0,ExternInfo:s,SourceID:l=SCe}){T.reportKeyValue({key:"GameAdsSkipCard",value:[lv(),H.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(H.deviceOrientation)?2:1,n,l,"",i,0,"",ICe,0,"",a,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(SCe=e)}var MCe=0,DCe="",NCe="",LCe={},BCe,$Ce=!1,FCe=0,jCe=null,WCe=!1,UCe=!1,VCe=!1,qCe=null,zCe=null,GCe=0,HCe=3e5,KCe=null,QCe={isSupportWebview:!0,isSupportOnLoad:!1,loaded:!1};function JCe(e,t,{coldBoot:r=!1,realnameInfo:n}={},{appType:i,deviceOrientation:a}=H){GCe=Date.now();var o={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return wCe?_Ce().then(s).then(l).catch((e=>{cCe.error("report fail",e)})):cIe.then(_Ce).then(s).then(l).catch((e=>{cCe.error("report fail",e)}));function s(){var a={version:6,callbackData:BCe,type:o[e],duration:t/1e3,scene_note:NCe,scene:MCe,realnameInfo:n,referrerInfo:{appId:DCe,extraData:LCe},appServiceType:i,isColdStart:r};return Oe()||(a.isWxaAdultOnly=WCe),xd({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:a}).catch((e=>{var t;if(Oe()&&1!==(null===(t=vCe)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function l(e){var t=e.data;mCe(t);var{action:r,alertMsg:n,heartbeatInterval:i,jumpRule:o={},realnameResult:s}=t;if(o.gameStartRule&&(DM.setShouldExecuteFirstSkipLimitStrategy(!0),DM.setAttemptSkipMinTime(o.gameStartRule.blockJumpTimeInSeconds),DM.setModalMessage2(o.gameStartRule.jumpInfo.desc),DM.setModalConfirm2(o.gameStartRule.jumpInfo.jumpButtonLabel),DM.setModalSkipLink2(o.gameStartRule.jumpInfo.url),DM.setExpId2(o.gameStartRule.expId),DM.resumeLimitTimer(!0)),o.cancelRule&&(DM.setShouldExecuteSkipMaxLimitStrategy(!0),DM.setAttemptSkipMaxThreshold(o.cancelRule.maxCancelCount),DM.setModalMessage1(o.cancelRule.jumpInfo.desc),DM.setModalConfirm1(o.cancelRule.jumpInfo.jumpButtonLabel),DM.setModalSkipLink1(o.cancelRule.jumpInfo.url),DM.setExpId1(o.cancelRule.expId)),BCe=t.callbackData,i!==HCe&&i>=1e4&&(HCe=i,iIe()),s){var{code:c,failReason:u,certRemainTimes:d}=s;if(0===c)qCe.showSucc(),kCe();else if(0===d)qCe.showFail({failReason:u});else{var p;qCe.showModal({title:u+d?`（剩余${d}次机会）`:""}),RCe({ExpID:null==t||null===(p=t.urlInfo)||void 0===p?void 0:p.expId,UIArea:t.inlineCertMode===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:4,ActionID:4,Status:t.isSoftMode?3:1,ExternInfo:{number:d}})}}else switch(TCe(1===r),QCe.isSupportOnLoad=ge||ve,r){case 1:break;case 2:setTimeout((()=>{RCe({UIArea:1518,PositionID:0,ActionID:1}),uCe({title:"提示",content:n,showCancel:!1}).then((()=>{RCe({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(a)?500:0);break;case 3:var{inlineUrl:h,needAdapterZk:f,expId:g}=t.urlInfo||{};if(h&&Oe()&&QCe.isSupportWebview&&QCe.isSupportOnLoad){ZCe({url:h,ExpId:g,DeviceModel:KCe.model,DeviceBrand:KCe.brand,OsName:KCe.platform,needAdapterZk:f,action:3}).catch((()=>{l(e)}));break}if($Ce)break;$Ce=!0;var v=setTimeout(fW,15e3);RCe({UIArea:1517,PositionID:0,ActionID:1}),uCe({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(v),$Ce=!1,RCe({UIArea:1517,PositionID:1,ActionID:2}),fW()}));break;case 4:var{url:m,name:y,inlineCertMode:_,inlineUrl:b,expId:w}=t.urlInfo||{},{remainSeconds:S}=t;if(b&&Oe()&&QCe.isSupportWebview){ZCe({url:b,ExpId:w,DeviceModel:KCe.model,DeviceBrand:KCe.brand,OsName:KCe.platform,action:4}).catch((()=>{l(e)}));break}if(_){RCe({ExpID:w,UIArea:_===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),eIe({alertMsg:n,inlineCertMode:_,isSoftMode:!1,remainSeconds:S,ContentType:1});break}var C=setTimeout(fW,15e3);!$Ce&&n&&m&&y&&($Ce=!0,RCe({ExpID:w,UIArea:1504,PositionID:0,ActionID:1,Status:1}),cP({title:"提示",content:n,confirmText:y,cancelText:"退出游戏",success(e){clearTimeout(C),e.confirm?(RCe({ExpID:w,UIArea:1504,PositionID:1,ActionID:2,Status:1}),PCe((()=>{VCe=!0}))):e.cancel&&(RCe({ExpID:w,UIArea:1504,PositionID:2,ActionID:2,Status:1}),fW()),$Ce=!1},fail(e){cCe.error("show modal fail=",e),clearTimeout(C),fW(),$Ce=!1}}));break;case 5:var I,{name:A,inlineCertMode:k}=t.urlInfo||{},{remainSeconds:E}=t;if(k){var T;RCe({ExpID:null==t||null===(T=t.urlInfo)||void 0===T?void 0:T.expId,UIArea:k===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:t.isSoftMode?3:1,ContentType:1,ContentID:4}),eIe({alertMsg:n,inlineCertMode:k,isSoftMode:!0,remainSeconds:E,ContentType:1});break}RCe({ExpID:null==t||null===(I=t.urlInfo)||void 0===I?void 0:I.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{$Ce||cP({title:"提示",content:n,confirmText:A,cancelText:"继续游戏",success({confirm:e}){var r,n;e&&RCe({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||RCe({ExpID:null==t||null===(n=t.urlInfo)||void 0===n?void 0:n.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&PCe((()=>{VCe=!0}))},complete(){$Ce=!1}}),$Ce=!0}),/landscape/.test(a)?1e3:0);break;case 6:var P,x,{inlineCertMode:O}=t.urlInfo||{},{remainSeconds:R,needAlert:M,alertMsg:D,isSoftAlert:N,isSoftMode:L}=t;if(N&&ACe.emit("notify",{alertMsg:D,remainSeconds:R,doVerify:()=>PCe()}),M){eIe({alertMsg:D,remainSeconds:R,isSoftMode:L,inlineCertMode:O,ContentType:1,ContentID:L?0===R?3:2:1});break}CCe?null===(P=(x=CCe).setData)||void 0===P||P.call(x,t):(CCe=!0,setTimeout((()=>XCe(t,{ContentType:0})),ve?2e3:0))}}}function XCe(e,{ContentID:t,ContentType:r}={}){null!==CCe&&!0!==CCe||zve(e,(n=>{var i;CCe=n,RCe({ExpID:null==e||null===(i=e.urlInfo)||void 0===i?void 0:i.expId,UIArea:e.isSoftMode?1506:1501,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r}),setTimeout((()=>{var n;return CCe&&RCe({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1502,PositionID:0,ActionID:1,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r})}),1e4),CCe.addListener("stop",(()=>{var n;(JCe("heartbeat",FCe=Date.now()-GCe),e.isSoftMode)&&RCe({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:1506,PositionID:0,ActionID:1,Status:3,ContentID:t,ContentType:r});kCe()})),CCe.addListener("click",(()=>{var n,{showSeconds:i,remainSeconds:a}=CCe.data;RCe({ExpID:null==e||null===(n=e.urlInfo)||void 0===n?void 0:n.expId,UIArea:i?a?1502:1506:1501,PositionID:1,ActionID:2,Status:e.isSoftMode?3:1,ContentID:t,ContentType:r,Time:a}),PCe((()=>{var e,t;VCe=!(null===(e=vCe)||void 0===e||null===(t=e.urlInfo)||void 0===t||!t.inlineCertMode)}),{ContentID:t,ContentType:r})}))}))}var YCe=()=>Ee&&"landscape"===H.deviceOrientation&&H.screenHeight>H.screenWidth?{width:H.screenHeight,height:H.screenWidth}:{width:H.screenWidth,height:H.screenHeight};function ZCe({url:e,ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i,needAdapterZk:a,action:o}){var s,l;if(null!==zCe)return Promise.resolve();e=e.replace("#wechat_redirect","");var c={ExpId:t,DeviceModel:r,DeviceBrand:n,OsName:i,appid:H.accountInfo.appId,AppServiceType:null!==(s=H.appType)&&void 0!==s?s:4,versionType:null!==(l=H.versionType)&&void 0!==l?l:0,SDKVersion:H.SDKVersion,menuButtonBoundingClientRect:h2()};XX();var u,d=YCe(),p=a,h=0===e.indexOf("https://jiazhang.qq.com/healthy/");return zCe=new GT({src:yp(e,c)+"#wechat_redirect",style:{left:0,top:0,width:d.width,height:d.height},zIndex:2000010,fullscreen:!0,__skipDomainCheck__:!0,isGameWebview:p}),QCe.isSupportOnLoad&&(zCe.onload=()=>{QCe.loaded=!0,p&&zCe&&qu("updateGameHTMLWebView",{htmlId:zCe.id,evaluateJavascript:'function addScript() {\n            var childJs = document.createElement("script")\n            childJs.src = "https://game.weixin.qq.com/cgi-bin/minigame/static/minigame_minority/index.js"\n            document.body.appendChild(childJs);\n          }\n          addScript();'}),h&&RCe({UIArea:1522,PositionID:0,ActionID:1})}),zCe.onmessage=function(e){cCe.log("webview onMessage",e);var{type:t,appId:r,path:n,style:i}=e;"success"===t?(zCe&&zCe.destroy(),YX(),b_({success(e){delete e.errMsg,"portrait"===(KCe=e).deviceOrientation&&"landscape"===u&&qu("setDeviceOrientation",{value:"landscape",success(e){b_({success(e){delete e.errMsg,KCe=e}})}})}}),FCe=Date.now()-GCe,setTimeout((()=>{JCe("retryLogin",FCe)}),500),zCe=null):"exit"===t?(zCe&&(zCe.destroy(),zCe=null),h?(RCe({UIArea:1522,PositionID:1,ActionID:2}),setTimeout((()=>{fW()}),200)):fW()):"showModal"===t?uCe(e):"openWeapp"===t?YM({appId:r,path:n}):"updateStyle"===t?zCe&&(zCe.style=i):"setDeviceOrientation"===t?b_({success(e){delete e.errMsg,"landscape"===(KCe=e).deviceOrientation&&(u=KCe.deviceOrientation,qu("setDeviceOrientation",{value:"portrait",success(e){b_({success(e){delete e.errMsg,KCe=e,zCe.style={left:0,top:0,width:KCe.screenWidth,height:KCe.screenHeight}}})}}))}}):"openUrl"===t&&(h&&0===n.indexOf("https://support.qq.com/product/")?(RCe({UIArea:1522,PositionID:2,ActionID:2}),setTimeout((()=>{MM({url:n,isNativeStyle:!0})}),200)):MM({url:n,isNativeStyle:!0}))},new Promise(((t,r)=>{QCe.isSupportOnLoad?setTimeout((()=>{QCe.loaded?t():(RCe({UIArea:1500,PositionID:o,ActionID:4,ExternInfo:{url:e}}),QCe.isSupportWebview=!1,zCe&&(zCe.destroy(),zCe=null),r())}),5e3):t()}))}function eIe({inlineCertMode:e,alertMsg:t,isSoftMode:r=!1,isPay:n=!1,remainSeconds:i=0,ContentType:a,ContentID:o}){var s;null===(s=CCe)||void 0===s||s.des(),CCe=null,null===qCe&&setTimeout((()=>kme({alertMsg:t,hor:/landscape/.test(H.deviceOrientation),reportkv:t=>{var n,i;return RCe({UIArea:e===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,ExpID:null===(n=vCe)||void 0===n||null===(i=n.urlInfo)||void 0===i?void 0:i.expId,Status:r?3:1,ContentType:a,ContentID:o,...t})},remainSeconds:i,isSoftMode:r,isPay:n,half:e===xCe.INLINE_CERT_MODE_HALF_SCREEN,confirm:({name:t,id:n,showModal:i})=>{var s,l;t?n?/(^\d{15}$)|(^\d{17}([0-9]|[xX])$)/.test(n)?(RCe({ExpID:null===(s=vCe)||void 0===s||null===(l=s.urlInfo)||void 0===l?void 0:l.expId,UIArea:e===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:2,ActionID:2,Status:r?3:1,ContentType:a,ContentID:o}),JCe("retryLogin",FCe=Date.now()-GCe,{realnameInfo:{name:t,id:n}})):i({title:"身份证格式错误"}):i({title:"请输入身份证号"}):i({title:"请输入真实姓名"})},des(e){qCe=null,("cancel"===e&&vCe.isSoftMode||"fail"===e&&vCe.isSoftMode)&&setTimeout((()=>XCe({...vCe},{ContentID:o,ContentType:a})),0),TCe("succ"===e)}},(e=>{qCe=e}))),0)}var tIe=UCe,rIe=UCe,nIe=UCe||WCe,iIe=()=>{null!==jCe&&(clearInterval(jCe),aIe())},aIe=()=>{jCe=setInterval((()=>{FCe=Date.now()-GCe,tIe&&JCe("heartbeat",FCe)}),HCe)},oIe=(e,{coldBoot:t=!1}={})=>{DM.resumeLimitTimer(),NCe=e.scene_note||"",FCe=0,MCe=e.scene,e.referrerInfo&&(DCe=e.referrerInfo.appId,LCe=e.referrerInfo.extraData),aIe(),VCe?(JCe("retryLogin",FCe),VCe=!1):nIe&&JCe("onShow",FCe,{coldBoot:t})},sIe=()=>{DM.pauseLimitTimer(),FCe=Date.now()-GCe,clearInterval(jCe),jCe=null,rIe&&JCe("onHide",FCe)};H.onReady((()=>{var e=H.appLaunchInfo;KCe=Y_(!0);try{H.appContactInfo&&H.appContactInfo.operationInfo&&H.appContactInfo.operationInfo.jsonInfo&&H.appContactInfo.operationInfo.jsonInfo.op_info&&(WCe=1===Number(H.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),UCe=1===Number(H.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){cCe.error("get op_info fail",e.message)}tIe=Oe()||UCe,rIe=Oe()||UCe,nIe=Oe()||UCe||WCe,oIe(e,{coldBoot:!0}),Yt("onAppEnterForeground",(t=>{oIe(e=t)})),Yt("onAppEnterBackground",(()=>{sIe()})),Yt("onAppRoute",(t=>{"autoReLaunch"===t.openType&&($Ce=!1,sIe(),setTimeout((()=>{oIe(e)}),1e3))}))}));var lIe=()=>{},cIe=new Promise((e=>{lIe=e})),uIe=()=>{wCe=!0,lIe()};function dIe(){var e,t;if(!vCe)return!0;if(vCe.isSoftMode)return!0;if(vCe.action<=3)return!0;var r,n,{inlineCertMode:i}=null!==(e=null===(t=vCe)||void 0===t?void 0:t.urlInfo)&&void 0!==e?e:{};return i?(RCe({ExpID:null===(r=vCe)||void 0===r||null===(n=r.urlInfo)||void 0===n?void 0:n.expId,UIArea:i===xCe.INLINE_CERT_MODE_DIALOG?1507:1508,PositionID:0,ActionID:1,Status:1,ContentType:3}),eIe({inlineCertMode:i,isSoftMode:!0,isPay:!0,ContentType:3}),!1):(RCe({UIArea:1503,PositionID:0,ActionID:1,Status:1}),_showModal({title:"提示",cancelText:"返回",content:"当前账号尚未实名，完成实名认证后才可进行充值",confirmText:vCe.urlInfo.name,success({confirm:e}){var t,r,n,i;e&&PCe(),e&&RCe({ExpID:null===(t=vCe)||void 0===t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1503,PositionID:1,ActionID:2,Status:1}),e||RCe({ExpID:null===(n=vCe)||void 0===n||null===(i=n.urlInfo)||void 0===i?void 0:i.expId,UIArea:1503,PositionID:2,ActionID:2,Status:1})}}),!1)}function pIe(e){ACe.on("notify",e)}function hIe(e){ACe.off("notify",e)}H.onReady((()=>{var e="",t=setInterval((()=>{e&&(e&&clearInterval(t),r(e))}),1e3),r=e=>{var t=Object.keys(H.page).find((t=>t.startsWith(e))),n=H.page[t];if(t&&n&&n.window){var i=n.window.pageOrientation,a=!1;try{var o=n.window.navigationStyle||H.global.window.navigationStyle;a="custom"===o}catch(e){}if("landscape"===i){var s=!1;_U((()=>{s||(YSe(i,a),tCe(i,a),s=!0)}))}else{var l=YSe("portrait",a),c=tCe(i,a);"auto"===i&&vU((e=>{var{windowWidth:t,windowHeight:r}=e,n=t>r?"landscape":"portrait";l.then((e=>{e&&e.setOrientation&&e.setOrientation(n)})),c&&c.then((e=>{e&&e.setOrientation&&e.setOrientation(n)}))}))}kB(r)}};AB((t=>{"appLaunch"!==t.openType&&"autoReLaunch"!==t.openType||oCe(t),e=t.path})),uIe()}));var fIe=(e={})=>{bc("setWindowSize",e,"deprecated")},gIe=null,vIe=[],mIe=e=>{Or("onBanTapRules",{rules:gIe},[e])};function yIe(){H.onReady((()=>{JS().then((e=>{var t,r;gIe=null!==(t=null==e||null===(r=e.data)||void 0===r?void 0:r.ban_event_rules)&&void 0!==t?t:[],vIe.length&&(vIe.forEach((e=>mIe(e))),vIe.length=0)}))})),b.clientManager.on("clientConnected",(e=>{gIe?mIe(e):vIe.push(e)}))}var _Ie=(e={})=>{qu("bindGroup",e)},bIe=(e={})=>{ve?Pd({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;qu("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){gP({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){Sc({name:"joinGroup",args:e})}}):qu("joinGroup",e)};function wIe(){H.onReady((()=>{aT((()=>{T.flushReportKeyValueList(),T.flushReportIDKeyList()}))}))}var SIe=!1,CIe=!1,IIe=function(){if(!SIe)return SIe=!0,{invokeMethod:qu,onMethod:Rt,subscribe:Br,publish:Or,beforeInvokeFail:bc,beforeInvokeCallback:Sc,getCurrentPagesByDomain:sr.getCurrentPagesByDomain}},AIe=function(e){CIe||(CIe=!0,e.__defineGetter__("getBaseMethods",(()=>{if(WXConfig.exportBaseMethods)return IIe})))};function kIe(e={}){qu("openWCPayLQTDetail",e)}function EIe(e={}){qu("openWCPayLQTSave",e)}function TIe(e={}){qu("openWCPayLQTDepositPlan",e)}function PIe(e={}){qu("openWCPayLQTDepositPlanAdd",e)}var xIe=[{name:"quicklyAddBrandContact",permissionByte:"quicklyAddBrandContact"},{name:"privateScanItem",permissionByte:"privateScanItem"},{name:"privateSearchContacts",permissionByte:"privateSearchContacts"},{name:"setNavigateBackInterception",permissionByte:"private_setNavigateBackInterception"},{name:"stopNavigateBackInterception",permissionByte:"private_stopNavigateBackInterception"},{name:"getWebviewDebugInfo",permissionByte:"private_getWebviewDebugInfo"},{name:"openAddressWithLightMode",permissionByte:"openAddressWithLightMode"},{name:"editTextWithPopForm",permissionByte:"editTextWithPopForm"},{name:"jumpRedPacketEnvelopePreview",permissionByte:"jumpRedPacketEnvelopePreview"},{name:"quickSendRedPacket",permissionByte:"quickSendRedPacket"},{name:"openChannelsPostPage",permissionByte:"openChannelsPostPage"},{name:"sendRedCoverAppMsg",permissionByte:"sendRedCoverAppMsg"}],OIe=e=>{var t=!0===H.debug,r="devtools"===H.platform;(t||r)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),K5(`wx.${e}`)},RIe=(e,t,r)=>function(...n){return OIe(e),t.apply(r,n)},MIe=e=>{fr((()=>{cr.define("__wx__/private-api",((t,r)=>{r.exports=e}))}))},DIe=e=>{var t={};xIe.forEach((r=>{var n=r.name,i=r.permissionByte,a=e[n];t[n]=function(...t){return bf(i)?a.call(e,...t):bc(n,t[0],"no permission")}.bind(e),r.deprecate?e[n]=RIe(n,t[n],e):delete e[n]})),MIe(t)},NIe=e=>{if(Ee){var t,r="";if(qu("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var n=Af.createBufferURL(e)||(()=>"");return iI.add(n,e),n},LIe=(e={})=>{invokeMethod("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},BIe=e=>{if(!Ee)return iI.off(e),Af.revokeBufferURL(e)||(()=>!1);var t;if(qu("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},$Ie=(...e)=>Af.createSignal?Af.createSignal(...e):null;function FIe(e={}){var t,r=e.mode,n="getCommonConfig";if(0===e.mode||1===e.mode){var i=[],a=[];if(null===(t=e.keys)||void 0===t||t.forEach((e=>{var t=e.slice(0,e.indexOf("_")),r=e.slice(e.indexOf("_")+1);i.push(t),a.push(r||"")})),0===r){for(var o=i.length,s=new Array(o),l=0;l<o;s[l++]={});new Promise((e=>{oh("getCommonConfigFromGlobalStorage",{apiName:n},void 0,(t=>{e(t)}))})).then((t=>{for(var r=Date.now(),l=[],c={business_type:[],separate_key:[]},u=0;u<o;u++){var d=i[u]+a[u],p=t[d];if(p){if(p.time_stamp>=r){Object.assign(s[u],p);continue}p.time_stamp}i[u],a[u],c.business_type.push(i[u]),c.separate_key.push(a[u]),l.push(u)}0===c.business_type.length?Sc({name:n,args:e,res:{data:s}}):Pd({apiName:"webapi_getopencommconf",sdkApiName:n,reqData:c,success:o=>{for(var c=o.data.conf_list,u=0;u<c.length;u++){var d={conf:c[u].conf,conf_type:c[u].conf_type,time_stamp:r+1e3*c[u].expire_sec},p=l[u];i[p],a[p],t[i[p]+a[p]]=d,l[u],c[u].expire_sec,Object.assign(s[p],d)}oh("setCommonConfigToGlobalStorage",{apiName:n,item:t},void 0,(e=>{null===e||v.error("setCommonConfigToGlobalStorage fail:",e)})),Sc({name:n,args:e,res:{data:s}})},fail:t=>{bc(n,e,t.errMsg,t.err_code)}})}))}else Sc({name:n,args:e,res:{data:fR(e.keys)}})}else bc(n,e,"mode错误",1e3)}var jIe=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),WIe=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},UIe=Md("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:i})=>{var a={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof i&&(a.start_time=n,a.end_time=i),a}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,jIe(r)),e.otherInfos=n.map(jIe)}delete e.live_info})),VIe="getChannelsLiveInfo";function qIe(e){var t,r,n={...e,jsapi:VIe};if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(n.startTime=WIe(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=WIe(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime))return void bc(VIe,e,"invalid time range");UIe(n)}var zIe=Md("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),GIe=Md("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),HIe=Md("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function KIe(){if(void 0===sr)return"";var e=sr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function QIe(e,t,r,n="",i=0,a="",o="",s=0){var l=[e||"",KIe(),t,r,n,i,H.appType+1e3,a,o,s].map(encodeURIComponent).join(",");T.reportKeyValue({key:"WeAppToChannels",value:l})}function JIe(e={}){qu("openChannelsLive",e)}function XIe(e={}){Be()?JIe(e):UIe(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){cP({title:`即将打开${t?`“${t}”`:""}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var i=2;"release"===H.envVersion&&(i=1),"trial"===H.envVersion&&(i=3),qu("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:H.accountInfo.appId,version_type:i}}),{beforeAll({errMsg:t}){QIe(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else QIe(e.finderUserName,1,0,"cancel",5,e.feedId),bc("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){QIe(e.finderUserName,1,0,t,4,e.feedId),bc("openChannelsLive",e,t,r)},complete:null}))}function YIe(e={}){qu("openChannelsUserProfile",e)}function ZIe(e={}){Be()?YIe(e):xd({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";cP({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?qu("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){QIe(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(QIe(e.finderUserName,2,0,"cancel",5),bc("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{QIe(e.finderUserName,2,0,r||t,4),bc("openChannelsUserProfile",e,r||t)}))}function eAe(e={}){qu("openChannelsActivity",e)}function tAe(e={}){Be()?eAe(e):UIe(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){cP({title:`即将打开${t?`“${t}”`:""}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?qu("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){QIe(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(QIe(e.finderUserName,3,0,"cancel"),bc("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){QIe(e.finderUserName,3,0,t,4,e.feedId),bc("openChannelsActivity",e,t,r)},complete:null}))}function rAe(e={}){var t={appId:H.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));qu("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:Oe()?5:4,pageTitle:Oe()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),QIe("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})}function nAe(e={}){Promise.all([xd({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),xd({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";cP({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?qu("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),QIe(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):bc("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{bc("openChannelsEvent",e,r||t),QIe(e.finderUserName,6,0,r||t,4)}))}function iAe(e={}){qu("reserveChannelsLive",Object.assign({},e,{wxData:{appid:H.accountInfo.appId,apptype:H.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){QIe("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})}function aAe(e={},t){l.initScl((r=>{var n=r.mainRoot.append("toast",e);"function"==typeof t&&t(n)}))}Yt("onNavigateBackFromChannelsActivity",(e=>{Or("onNavigateBackFromChannelsActivity",e)}));var oAe=Object.assign,sAe=Object.create,lAe="https://mp.weixin.qq.com/intp/jump";function cAe(e={}){if(bf("openPublicServicePayment")){var{jumpToken:t,destUrl:r,openId:n}=e;if(t&&r&&n){var i=`?appid=${H.accountInfo.appId}`;i+=`&jump_token=${encodeURIComponent(t)}`,i+=`&dest_url=${encodeURIComponent(r)}`,i+=`&openid=${encodeURIComponent(n)}`;var a=sAe(null);oAe(a,e),a.url=lAe+i,a.isNativeStyle=!0,aAe({loading:!0,title:"政务民生缴费"},(e=>{setTimeout((()=>{e.close(),qu("private_openUrl",a,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPublicServicePayment")}})}),1e3)}))}else bc("openPublicServicePayment",e,"missing arguments")}else bc("openPublicServicePayment",e,"permission denied")}function uAe(e){for(var t="",r=0;r<e.length;){var n=e[r],i=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(i=(3&e[r])<<30,i|=(63&e[r+1])<<24,i|=(63&e[r+2])<<18,i|=(63&e[r+3])<<12,i|=(63&e[r+4])<<6,i|=63&e[r+5],t+=String.fromCharCode(i),r+=6):248==(248&n)?(i=(7&e[r])<<24,i|=(63&e[r+1])<<18,i|=(63&e[r+2])<<12,i|=(63&e[r+3])<<6,i|=63&e[r+4],t+=String.fromCharCode(i),r+=5):240==(240&n)?(i=(15&e[r])<<18,i|=(63&e[r+1])<<12,i|=(63&e[r+2])<<6,i|=63&e[r+3],t+=String.fromCharCode(i),r+=4):224==(224&n)?(i=(31&e[r])<<12,i|=(63&e[r+1])<<6,i|=63&e[r+2],t+=String.fromCharCode(i),r+=3):192==(192&n)?(i=(63&e[r])<<6,i|=63&e[r+1],t+=String.fromCharCode(i),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}function dAe(e){for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var a=new Int8Array(r.length),o=0;o<r.length;o++)a[o]=r[o];return a.buffer}var pAe="START_CPU_PROFILE",hAe="STOP_CPU_PROFILE",fAe="TAKE_HEAP_SNAPSHOT",gAe="PERFDOG_METHOD",vAe="PERFDOG_METHOD_CALLBACK",mAe="LAN_DEBUG_GET_DEVICE_INFO",yAe="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",_Ae={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR",CONNECTING:"CONNECTING"},bAe="LAN_DEBUG_STATUS_CHANGE",wAe=(e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")},SAe=null,CAe=!1,IAe=()=>!0===CAe||("function"!=typeof getProfiler?(void 0!==Af.Profiler&&(SAe=Af.Profiler,CAe=!0),!0):((SAe=getProfiler())&&(CAe=!0),!0)),AAe=!1,kAe=()=>(IAe(),SAe?(AAe||(AAe=!0,SAe.startCpuProfiling()),!0):null),EAe=()=>{if(IAe(),!SAe)return null;if(AAe){AAe=!1;var e=SAe.stopCpuProfiling();return e}return null},TAe=()=>(IAe(),SAe?SAe.takeHeapSnapshot():null),PAe=!1;function xAe(e,t){var{model:r,version:n,system:i,SDKVersion:a}=J_(),{accountInfo:o,isDevEdition:s}=H,{appId:l,nickname:c}=o,u={model:r,wechatVersion:n,system:i,SDKVersion:a,appId:l,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(u))}function OAe(e){var t=g.g.LanDebug;t&&(Oe||delete g.g.LanDebug,t.registerCallback?t.registerCallback(gAe,((t,r)=>{e(vAe,r)})):t.registerCallback)}function RAe(e,t,r){PAe||(PAe=!0,OAe(t),e(mAe,(()=>{xAe(mAe,t)})),e(yAe,(()=>{xAe(yAe,t)})),e(gAe,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(gAe,e)),t(vAe,n)})),e(pAe,(()=>{kAe()})),e(hAe,(()=>{var e=EAe();ge&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=uAe(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(hAe,e||"")})),e(fAe,(()=>{setTimeout((()=>{var e=TAe();if(t(`${fAe}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(fAe,""),t(`${fAe}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(fAe),i=!1;e.on("data",(e=>{i||(t(`${fAe}:PROGRESS`,JSON.stringify({data:"data"})),i=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${fAe}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${fAe}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var MAe=0,DAe=Fw(),NAe="\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n",LAe=null,BAe=()=>LAe||(LAe=B_e()()(NAe)),$Ae,FAe=()=>{$Ae||($Ae=wAe())},jAe=new jt,WAe="LANDEBUG",UAe="MPHELPER",VAe=null,qAe=_Ae.CLOSED,zAe="",GAe=-1,HAe=!1,KAe=null,QAe=null,JAe=[],XAe=[],YAe=[];function ZAe(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(qAe===_Ae.OPEN&&QAe)return Promise.resolve(QAe);if(qAe===_Ae.CONNECTING)return VAe;var{ip:r,port:n,token:i,useStaticServer:a=!1,mode:o}=t;HAe=a,zAe=r,GAe=n,qAe=_Ae.CONNECTING;var s="mpHelper"===o?UAe:WAe,l=J_();return RAe(ike,rke,nke),VAe=new Promise((e=>{FAe(),(QAe=DAe.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${l.system}_v${l.version}_${$Ae}`)}||${i}`]})).onOpen((()=>{QAe.send({data:"ping",success(){JAe.forEach((e=>{oke(e)}))},fail(e){}}),qAe=_Ae.OPEN,jAe.emit(bAe,qAe),e(QAe)})),QAe.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),i=new Uint32Array(n)[0],a=r.slice(4,4+i);try{t=BAe().LanDebugHeader.decode(a)}catch(e){return e.message,void e.stack}var o,{isString:s,method:l}=t;if(s)o=uAe(r.slice(4+i));else o=r.slice(4+i).buffer;jAe.emit(l,o)}})),QAe.onClose((()=>{eke(_Ae.CLOSED),YAe.forEach((e=>{lke(e)}))})),QAe.onError((e=>{eke(_Ae.ERROR),KAe=e,XAe.forEach((e=>{ske(e)}))}))})),VAe}function eke(e){qAe=e,jAe.emit(bAe,qAe),zAe="",GAe=-1,HAe=!1,QAe=null}function tke(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var i=!1;return VAe?("string"==typeof r&&(i=!0,r=dAe(r)),VAe.then((a=>new Promise((o=>{if(!a)return o({errMsg:"sendSocketMessage:fail no client"});FAe();var s=BAe().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:i,clientId:$Ae,options:JSON.stringify({isDevEdition:H.isDevEdition})},n?{notEnd:!0}:{})),l=new Uint32Array([s.length]);a.send({data:new Uint8Array([...new Uint8Array(l.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var rke=function(e,t){return tke(MAe++,e,t)},nke=function(e){var t=MAe++;return{send:r=>tke(t,e,r,!0),end:(r=new ArrayBuffer(0))=>tke(t,e,r)}},ike=function(e,t){jAe.on(e,t)},ake=function(e,t){jAe.off(e,t)},oke=function(e){try{e()}catch(e){e.message,e.stack}},ske=function(e){try{e(KAe)}catch(e){e.message,e.stack}},lke=function(e){try{e(KAe)}catch(e){e.message,e.stack}},cke=function(e){"function"==typeof e&&(qAe===_Ae.OPEN?oke(e):JAe.push(e))},uke=function(e){"function"==typeof e&&(qAe===_Ae.ERROR?ske(e):XAe.push(e))},dke=function(e){"function"==typeof e&&(qAe===_Ae.ERROR?lke(e):YAe.push(e))},pke={sendPackage:rke,sendStream:nke,onMessage:ike,offMessage:ake,onReady:cke,onError:uke,onClose:dke,get status(){return qAe},get ip(){return zAe},get port(){return GAe},get useStaticServer(){return HAe}};Object.defineProperty(pke,"_start",{get:()=>(...e)=>ZAe(...e)});var hke=e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:i,useLanDebug:a}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||a)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return ZAe({ip:t,port:r,token:n,useStaticServer:i})}),500)};H.onReady((()=>{Oe()||zA((()=>{hke(H)}))}));var fke="getLatestUserKey",gke={},vke=null;function mke(){return gke.expireTime&&gke.expireTime>Date.now()?Promise.resolve(gke):vke||(vke=xd({apiName:"webapi_getuserencryptkey",reqData:{}}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:i}=e.data;return gke={encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:i},vke=null,gke})).catch((e=>{throw vke=null,e})))}function yke(e){mke().then((t=>(Sc({name:fke,args:e,res:t}),null))).catch((t=>{bc(fke,e,t.message||t.errMsg)}))}var _ke={getLatestUserKey:yke,getRandomValues:Ihe},bke=()=>_ke,wke=(e={})=>{qu("operateSmCrypto",e)},Ske=(e={})=>{qu("operateSmCryptoSensitive",e)},Cke=(e={})=>{qu("operateSmStorage",e)},Ike=RK((()=>new ArrayBuffer)),Ake={generateKeyPair:"generateSm2KeyPair",importPublic:"importSm2PublicKey",exportPublic:"exportSm2PublicKey",updatePublic:"updateSm2PublicKey",deletePublic:"deleteSm2PublicKey",checkPublic:"checkSm2PublicKey",importPrivate:"importSm2PrivateKey",exportPrivate:"exportSm2PrivateKey",updatePrivate:"updateSm2PrivateKey",deletePrivate:"deleteSm2PrivateKey",checkPrivate:"checkSm2PrivateKey"},kke=(e={})=>{var t="desc"in e,r=t?Cke:Ske,n=t?Ake.generateKeyPair:"sm2GenKeyPair";t&&!yc("GMCryptoManager.SM2.generateKeyPair",e,{desc:""})||r({...e,type:n})},Eke=(e={})=>{if(yc("GMCryptoManager.SM2.importPublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.importPublic})}},Tke=(e={})=>{if(yc("GMCryptoManager.SM2.exportPublicKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.exportPublic})}},Pke=(e={})=>{if(yc("GMCryptoManager.SM2.updatePublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.updatePublic})}},xke=(e={})=>{yc("GMCryptoManager.SM2.deletePublicKey",e,{desc:""})&&Cke({...e,type:Ake.deletePublic})},Oke=(e={})=>{yc("GMCryptoManager.SM2.checkPublicKey",e,{desc:""})&&Cke({...e,type:Ake.checkPublic})},Rke=(e={})=>{if(yc("GMCryptoManager.SM2.importPrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.importPrivate})}},Mke=(e={})=>{if(yc("GMCryptoManager.SM2.exportPrivateKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.exportPrivate})}},Dke=(e={})=>{if(yc("GMCryptoManager.SM2.updatePrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,Cke({...t,type:Ake.updatePrivate})}},Nke=(e={})=>{yc("GMCryptoManager.SM2.deletePrivateKey",e,{desc:""})&&Cke({...e,type:Ake.deletePrivate})},Lke=(e={})=>{yc("GMCryptoManager.SM2.checkPrivateKey",e,{desc:""})&&Cke({...e,type:Ake.checkPrivate})},Bke=(e={})=>{yc("GMCryptoManager.SM2.generatePublicKey",e,{privateKey:new ArrayBuffer})&&Ske({...e,type:"sm2GenPublicKey"})},$ke=(e={})=>{var t=Ike(),r={plaintext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.publicKey=t,yc("GMCryptoManager.SM2.encrypt",e,r)){var i=n?"sm2Encrypt":"sm2EncryptWithMode";(n?Cke:wke)({...e,type:i})}},Fke=(e={})=>{var t=Ike(),r={ciphertext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.privateKey=t,yc("GMCryptoManager.SM2.decrypt",e,r)){var i=n?"sm2Decrypt":"sm2DecryptWithMode";(n?Cke:Ske)({...e,type:i})}},jke=(e={})=>{var t=Ike(),r={message:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.privateKey=r.publicKey=r.uid=t,yc("GMCryptoManager.SM2.sign",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Sign":"sm2SignWithMode";(n?Cke:Ske)({...e,type:i})}},Wke=(e={})=>{var t=Ike(),r={message:t,signed:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.publicKey=r.uid=t,yc("GMCryptoManager.SM2.verify",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Verify":"sm2VerifyWithMode";(n?Cke:wke)({...e,type:i})}},Uke={CipherMode_C1C3C2_ASN1:0,CipherMode_C1C3C2:1,CipherMode_C1C2C3_ASN1:2,CipherMode_C1C2C3:3,CipherMode_04C1C3C2:4,CipherMode_04C1C2C3:5,SignMode_RS_ASN1:0,SignMode_RS:1,KeyFormat_HEX:0,KeyFormat_PEM:1,generateKeyPair:kke,generatePublicKey:Bke,encrypt:$ke,decrypt:Fke,sign:jke,verify:Wke,importPublicKey:Eke,exportPublicKey:Tke,updatePublicKey:Pke,deletePublicKey:xke,checkPublicKey:Oke,importPrivateKey:Rke,exportPrivateKey:Mke,updatePrivateKey:Dke,deletePrivateKey:Nke,checkPrivateKey:Lke},Vke=(e={})=>{yc("GMCryptoManager.SM3.digest",e,{message:Ike()})&&wke({...e,type:"sm3"})},qke=(e={})=>{yc("GMCryptoManager.SM3.hmac",e,{message:Ike(),key:Ike()})&&Ske({...e,type:"sm3Hmac"})},zke={digest:Vke,hmac:qke},Gke={cbc:"sm4CbcEncrypt",gcm:"sm4GcmEncrypt",ctr:"sm4CtrEncrypt",ecb:"sm4EcbEncrypt"},Hke={cbc:"sm4CbcDecrypt",gcm:"sm4GcmDecrypt",ctr:"sm4CtrDecrypt",ecb:"sm4EcbDecrypt"},Kke={generate:"generateSm4Key",import:"importSm4Key",export:"exportSm4Key",update:"updateSm4Key",delete:"deleteSm4Key",check:"checkSm4Key"},Qke=(e={})=>{var t=Ike(),r={plaintext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===nEe.CipherMode_GCM&&(r.aad=t),yc("GMCryptoManager.SM4.encrypt",e,r))&&(delete e.cipherMode,(n?Cke:Ske)({...e,type:Gke[i]}))},Jke=(e={})=>{var t=Ike(),r={ciphertext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===nEe.CipherMode_GCM&&(r.aad=r.tag=t),yc("GMCryptoManager.SM4.decrypt",e,r))&&(delete e.cipherMode,(n?Cke:Ske)({...e,type:Hke[i]}))},Xke=(e={})=>{yc("GMCryptoManager.SM4.generateKey",e,{desc:""})&&Cke({...e,type:Kke.generate})},Yke=(e={})=>{yc("GMCryptoManager.SM4.importKey",e,{desc:"",key:""})&&Cke({...e,type:Kke.import})},Zke=(e={})=>{yc("GMCryptoManager.SM4.importKey",e,{desc:""})&&Cke({...e,type:Kke.export})},eEe=(e={})=>{yc("GMCryptoManager.SM4.updateKey",e,{desc:"",key:""})&&Cke({...e,type:Kke.update})},tEe=(e={})=>{yc("GMCryptoManager.SM4.deleteKey",e,{desc:""})&&Cke({...e,type:Kke.delete})},rEe=(e={})=>{yc("GMCryptoManager.SM4.checkKey",e,{desc:""})&&Cke({...e,type:Kke.check})},nEe={encrypt:Qke,decrypt:Jke,generateKey:Xke,importKey:Yke,exportKey:Zke,updateKey:eEe,deleteKey:tEe,checkKey:rEe,CipherMode_CBC:"cbc",CipherMode_GCM:"gcm",CipherMode_CTR:"ctr",CipherMode_ECB:"ecb"},iEe=(e={})=>{yc("GMCryptoManager.generateRandomBytes",e,{length:0})&&wke({...e,type:"genRandomBytes"})},aEe={SM2:Uke,SM3:zke,SM4:nEe,generateRandomBytes:iEe},oEe=()=>{for(var e of(aEe.generateRandomBytes=Ot(aEe.generateRandomBytes),["SM2","SM3","SM4"]))for(var[t,r]of Object.entries(aEe[e]))"function"==typeof r&&(aEe[e][t]=Ot(r))},sEe=()=>aEe,lEe=()=>Math.floor(Date.now()/1e3),cEe=()=>{var e="0123456789abcdef",t=t=>{for(var r="";t--;)r+=e[Math.floor(16*Math.random())];return r};return`${t(8)}-${t(4)}-4${t(3)}-8${t(3)}-${t(8)}`},uEe=(e,t)=>{var r=t.map((t=>`${t}=${e[t]}`)).join("&");return Rye()(r).toUpperCase()},dEe=e=>{qu("private_openUrl",{url:`https://mp.weixin.qq.com/mp/waerrpage?appid=${e}&type=offshelf&offshelf_type=0#wechat_redirect`,isNativeStyle:!0}),aO((()=>{fW()}))},pEe=M8.app,hEe="_private_@@financial_applet_events@@",fEe="https://open.fdep.cn",gEe="/api/v1/mop/runtime/external/check/app-packages",vEe="/api/v1/mop/runtime/data-report/apm/private",mEe={APPLET_START:"applet_start",DATA_DISCLOSURE:"data_disclosure",APPLET_CRASH:"applet_crash",SANDBOX_CRASH:"sandbox_crash",OPERATION_EXCEPTION:"operation_exception",ACCESS_EXCEPTION:"access_exception",START_FAIL:"start_fail"},yEe={applet_start:"小程序启动",data_disclosure:"数据泄露",applet_crash:"小程序崩溃",sandbox_crash:"安全沙箱崩溃",operation_exception:"运维异常",access_exception:"无法访问业务内容",start_fail:"启动失败"},_Ee=new Promise((e=>H.onReady(e))),bEe=function(){var e=Hp()((function*(){var e,t;yield _Ee;var r=null==H||null===(e=H.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t?void 0:t.finance_app_info;return r?{appId:r.finance_appid,sdkFingerprint:r.finance_sdk_fingerprint,sdkKey:r.finance_sdk_key,sdkSecret:r.finance_sdk_secret,sdkBundleId:r.finance_sdk_bundleid,sdkVersion:r.finance_sdk_version,appPkgList:r.finance_app_pkg_list,appSequence:r.finance_app_seq,appVersion:r.finance_app_version,organId:r.finance_organ_id,encryptionType:r.finance_encryption_type,isGray:r.is_gray,shouldCheck:r.should_check,baseUrl:r.finance_base_url}:null}));return function(){return e.apply(this,arguments)}}(),wEe=function(){var e=Hp()((function*(e){var t,r,n,i,a,o,s,l,c,u="wechat",d="sha256",p=Math.floor(Date.now()/1e3),h=cEe(),f=e.appPkgList.filter((e=>16===e.pkg_type))[0].pkg_sha256,g={source:u,identityType:d,apps:[{appId:e.appId,identity:f}],timestamp:p,uuid:h,sign:uEe({timestamp:p,uuid:h,source:u,identityType:d,secret:e.sdkSecret},["identityType","source","timestamp","uuid","secret"])},m={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},y=`${e.baseUrl||fEe}${gEe}`,_=yield new Promise(((e,t)=>{tw({method:"POST",url:y,header:m,data:g,success:e,fail:t})}));if(v.info(`[mop verify response] errcode=${null==_||null===(t=_.data)||void 0===t?void 0:t.errcode} error=${null==_||null===(r=_.data)||void 0===r?void 0:r.error}`),["FS_BIND_NOT_FOUND","MOP_SDK_FINGERPRINT_CHECK_FAIL"].includes(null==_||null===(n=_.data)||void 0===n?void 0:n.errcode))return!1;if("OK"!==(null==_||null===(i=_.data)||void 0===i?void 0:i.errcode))throw new Error((null==_||null===(c=_.data)||void 0===c?void 0:c.error)||"mop verify failed");var b=null==_||null===(a=_.data)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.appList)||void 0===s?void 0:s[0];if(!b)throw new Error("cannot find app data in appList");if(["FS_APP_ID_NOT_FOUND","FS_IDENTITY_NOT_FOUND_ERR","FS_ORGAN_STATUS_INVALID","FS_COOPERATION_TERMINATED","FS_APP_NOT_ASS_BIND"].includes(null==b?void 0:b.errcode))return!1;if("OK"!==(null==b?void 0:b.errcode))throw new Error((null==b?void 0:b.error)||"mop verify failed");return!0===(null==b||null===(l=b.data)||void 0===l?void 0:l.identityValid)}));return function(t){return e.apply(this,arguments)}}(),SEe=function(){var e=Hp()((function*(e,t){var r={applet_id:e.appId,applet_ver:e.appVersion,applet_sequence:e.appSequence,event_name:yEe[t],event_type:t,is_gray:e.isGray,organ_id:e.organId,basic_pack_version:H.SDKVersion,payload:{},timestamp:lEe()},n=pEe.getStorageSync(hEe);if((n=Array.isArray(n)?n:[]).push(r),pEe.setStorageSync(hEe,n),e.shouldCheck){var i=cEe(),a=lEe(),o={data:{app_info:{app_id:e.sdkBundleId,app_version:H.host.version+"",name:H.host.env,sdk_key:e.sdkKey,sdk_version:e.sdkVersion,finger:e.sdkFingerprint},device_info:{brand:H.brand,device_id:null,model:H.model,os:H.platform,os_version:H.system,screen_size:`${H.screenHeight}*${H.screenWidth}`},events:n},exp:{},timestamp:a,uuid:i,sign:uEe({timestamp:a,uuid:i,secret:e.sdkSecret},["timestamp","uuid","secret"])},s={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},l=`${e.baseUrl||fEe}${vEe}`;try{var c,u,d=yield new Promise(((e,t)=>{tw({method:"POST",url:l,header:s,data:o,success:e,fail:t})}));if("OK"!==(null==d||null===(c=d.data)||void 0===c?void 0:c.errcode))throw new Error((null==d||null===(u=d.data)||void 0===u?void 0:u.error)||"report failed");var p=pEe.getStorageSync(hEe);p=(p=Array.isArray(p)?p:[]).slice(n.length),pEe.setStorageSync(hEe,p)}catch(e){}}}));return function(t,r){return e.apply(this,arguments)}}(),CEe=()=>{H.onReady(Hp()((function*(){yield new Promise((e=>setTimeout(e,0)));var e=yield bEe();if(e&&e.appId){var t="initial";try{if(e.shouldCheck)try{if(!(yield wEe(e)))return dEe(H.accountInfo.appId),void(t="rejected");t="passed"}catch(e){t="failed",v.error("[mop verify error]",e)}else t="skipped";SEe(e,mEe.APPLET_START).catch((e=>{v.error("[mop report error]",e)}))}catch(e){v.error("[init financial app error]",e)}finally{v.info("[financial check status]",t)}}})))},IEe=()=>{H.onReady((()=>{g.g.__isAppServiceRemoteDebugMode__&&g.g.__remoteDebug__.setAppserviceHandlers({getCurrentPages:sr.getCurrentPagesByDomain,invokeWebviewMethod:oh,__appServiceEngine__:sr,__appServiceSDK__:{_requestSkipCheckDomain:tw},Reporter:T,__virtualDOM__:ir,exparser:gr,wx:kit.wx})}))},AEe=()=>g.g.__debuggerMessager__?g.g.__debuggerMessager__:{},kEe=(e={})=>{var t=["release","develop","trial"],r=Md("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)},EEe=(e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",qu("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})},TEe=(e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",qu("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})},PEe=(e={})=>{EEe({success(t){Sc({name:"getAppContact",args:e,res:t})},fail(t){TEe({success(t){Sc({name:"getAppContact",args:e,res:t})},fail(t){Sc({name:"getAppContact",args:e,res:t,success:!1})}})}})},xEe=null,OEe=e=>{xEe=e},REe=()=>{xEe=null},MEe=dd(kEe),DEe=dd(PEe),NEe=e=>gP({icon:"none",title:e}),LEe=1500,BEe=new Map,$Ee="请检查网络后重试",FEe="已复制",jEe=0;Rt("onCopyUrl",(e=>{if(e.webviewId!==Fc.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void NEe("请检查网络后重试");$C(e.webviewId);var t=e.shortLinkEnable||!1,r=Fc.lastRoute,n=Fc.lastOpenType,i=JSON.parse(JSON.stringify(Fc.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void NEe($Ee)}var a=Oe()?t?"":"index.html":`${r}.html`,o=Object.entries(i).map((e=>e.join("="))).join("&");if(t&&"function"==typeof xEe)try{o=(xEe()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${a}?${o}`:a;if(t){BEe.has(jEe)&&BEe.set(jEe,!1);var l=++jEe,c=!1;BEe.set(l,!0);var u=e=>{!!BEe.get(l)&&(NEe(e),e===$Ee&&qu("returnCopyUrl",{url:"",shortLinkEnable:t}),BEe.set(l,!1))};setTimeout((()=>{c=!0,u($Ee)}),LEe);var d=H.page[`${r}.html`],p=d&&d.window||{},h=H.global&&H.global.window||{},f=p.navigationBarTitleText||h.navigationBarTitleText||"";DEe().then((e=>{var r=e.data;return MEe({appid:H.accountInfo.appId,envVersion:H.envVersion,path:s,title:Oe()?"":f,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!BEe.get(l)&&!c&&(qu("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){NEe(FEe)},fail(){NEe($Ee)}}),BEe.set(l,!1)),null))).catch((e=>{u($Ee),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u($Ee),console.log("[onCopyUrl]: ",e)}))}else qu("returnCopyUrl",{url:s,shortLinkEnable:t,success(){NEe(FEe)},fail(){NEe($Ee)}})}));var WEe=["image","font"],UEe=(e={})=>{var t="preloadAssets";if(yc(t,e,{data:[{src:"",type:""}]})){for(var r=e.data,n=0;n<r.length;n++){var i=r[n];if(!i.type||!WEe.includes(i.type)||!i.src)return void bc(t,e,Sn)}Fc.currentWebviewIdPromise.then((()=>{oh("preloadAssets",r,[Fc.currentWebviewId],(t=>{Nu(t,"preloadAssets",e,{})}))}))}},VEe=!1,qEe=!1;function zEe(e=!1,t=0,n=[]){var i,a,o=Af.saveV8CodeCacheWithTier;"function"==typeof o&&null!==(i=r)&&void 0!==i&&null!==(a=i.features)&&void 0!==a&&a.delayedServiceCodeCache&&(qEe||(qEe=e,VEe||(VEe=!0,setTimeout((()=>{Date.now();o(!1,qEe,t,n),Date.now(),VEe=!1}),0))))}var GEe=!1,HEe=!1;function KEe(e=!1){var t,n,i=Af.saveCodeCache;"function"==typeof i&&null!==(t=r)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&n.delayedServiceCodeCache&&(HEe||(HEe=e,GEe||(GEe=!0,setTimeout((()=>{Date.now();i(!1,HEe),Date.now(),GEe=!1}),0))))}function QEe(e){"skyline"!==e.renderer?zEe(!0,2,["WARenderContext.js"]):zEe(!0,2),rT(QEe)}h.onLoad((()=>{1===H.envPreloadType?setTimeout((()=>{zEe(!1,1)}),0):be||H.onReady((()=>{KEe(!1)}))})),tT(QEe);var JEe={},XEe,YEe;H.onReady((()=>{XEe=H.appLaunchInfo.scene,YEe=H.appLaunchInfo.sessionid||H.appLaunchInfo.sessionId,Object.assign(JEe,H.appLaunchInfo),Yt("onAppEnterForeground",(t=>{Object.assign(JEe,t),t&&t.scene&&(XEe=t.scene),t&&(t.sessionid||t.sessionId)&&(YEe=t.sessionid||t.sessionId),e.setAppServiceVariable({scene:XEe,scene_note:JEe.scene_note||JEe.sceneNote,instanceId:YEe}),e.updateWebviewPageInfo()})),e.setAppServiceVariable({scene:XEe,scene_note:JEe.scene_note||JEe.sceneNote,instanceId:YEe}),Yt("onAppEnterBackground",(()=>{e.checkIsWebviewPageDetach()}))}));var ZEe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",fe){var r=null;return qu("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return Af.encodeArrayBuffer(t.data,t.format)},eTe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8",fe){var r="";return qu("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return Af.decodeArrayBuffer(t.data,t.format)},tTe=Symbol("specialAdd");Yt("onAddToDesktop",(()=>{gP({icon:"loading",title:"加载中",duration:5e3}),rTe({timeout:5e3,special:tTe,fail(e){gP({icon:"error",title:"链接生成失败，请重试"}),v.info("onAddToDesktop addToDesktop occur error: ",e)},success(){qu("hideToast",null)}})}));var rTe=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||qe(e.path))if(fe||ge)bc("addToDesktop",e,"not supported");else{var{path:n="",fail:i,success:a}=e;if(bf("openUrlByExtBrowser2")||bf("openUrlByExtBrowser")&&t===tTe){var o,s=!1;r&&(o=setTimeout((()=>{s=!0,it(i)&&i({errMsg:"timeout"})}),r)),xd({apiName:"webapi_adduserurllink",reqData:{path:n}}).then((e=>{if(!s){if(o&&clearTimeout(o),0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===tTe?Tne:Pne)({url:r,success(){it(a)&&a()},fail(e){it(i)&&i(e)}})}})).catch((e=>{s||(o&&clearTimeout(o),e.err_code&&(e.errno=e.err_code,delete e.err_code),it(i)&&i(e))}))}else bc("addToDesktop",e,"no permission","-12001")}else bc("addToDesktop",e,"invalid request data")},nTe=(e,t)=>{Or("getPassiveEvent",{},[e]),Br("getPassiveEventCb",((r,n)=>{e===n&&t(r)}))},iTe=(e,t)=>{Or("setPassiveEvent",t,[e])},aTe=(e,...t)=>{it(e)&&e(...t)},oTe=dd(Lf),sTe=dd(Df),lTe=dd(qf),cTe=dd($f),uTe=ge?"wxfile://__wxprivate__/pay":"wxfile://usr/__sdk_private_pay__",dTe=`${uTe}/meta.json`,pTe=5e3,hTe=function(){var e=Hp()((function*(e={}){if(bf("allowUseWePay")){var t,r={...e},n=(t,r=!1)=>{WW(void 0),aTe(e.fail,r?t:{errMsg:"pay:fail "+t})};if(!!jW())n("has other on-going payment");else try{var i;"wx8d3e80ba58488c78"!==p.accountInfo.appId&&"wx40f8626ddf43d362"!==p.accountInfo.appId||(t=e.cheat,UW.cheat=t);var{prepayId:a,wxPay:o}=e;if(!a)return void n("lose argument: prepay_id");var s=!1;_P();var c,u,d=setTimeout((()=>{bP(),s=!0,n("timeout")}),pTe);WW({prepayId:a}),o&&(c=o.useOrder);try{if(u=yield xd({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformList",json_req:JSON.stringify({prepay_id:a})}}),s)return;u=u.data}catch(e){return bP(),clearTimeout(d),void n(e.message)}var h=[];u.platform_list&&u.platform_list.forEach((e=>{var t=e.platform_info;h.push({h:t.name,src:t.icon_url,id:e.platform_id})})),null!==(i=t)&&void 0!==i&&i.multi&&h.push(...h),l.initScl((i=>{clearTimeout(d);try{var{windowHeight:l}=h_(),u=i.mainRoot.append("pay",{title:"请选择",content:h,windowHeight:l});u.addListener("hide-loading",(()=>{bP()})),u.addListener("select-pay",function(){var i=Hp()((function*(i){try{var l,u,p=i.detail.id,h=i.detail.name;if(jW().platformId=p,"微信支付"===h)return void(c?vN({...o,fail(e){n(e,!0)},success(t){aTe(e.success,t)}}):KR({...o,fail(e){n(e)},success(t){aTe(e.success,t)}}));try{_P(),u=yield xd({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayArgs",json_req:JSON.stringify({platform_id:p,prepay_id:a})}})}catch(e){return bP(),void gP({title:`打开${h}失败，请重试`,icon:"error",duration:1500})}if(bP(),null!==(l=u.data.base_resp)&&void 0!==l&&l.errno)return s||clearTimeout(d),void n(u.data.base_resp.err_msg);var{appid:f,platform_prepay_id:g,platform_args:v,path:m}=u.data;try{yield lTe({path:uTe})}catch(e){try{yield cTe({dirPath:uTe,recursive:!0})}catch(e){}}try{var y,_,b,w,S,C,I;try{b=(b=yield sTe({filePath:dTe,encoding:"utf-8"})).data}catch(e){}if(b&&(b=JSON.parse(b)),null!==(y=b)&&void 0!==y&&null!==(_=y[f+h])&&void 0!==_&&_.hasInit)yield RW({__skip_tap_check__:CW,appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},skipSceneSymbol:IW,scene:1227,envVersion:null!==(w=null===(S=t)||void 0===S?void 0:S.envVersion)&&void 0!==w?w:"release"});else yield new Promise(((e,t)=>{uP({title:`即将打开“${h}”小程序支付`,success:r=>{r.cancel?t(new Error("cancel")):e()},fail:t})})),yield _D({appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},scene:1227,envVersion:null!==(C=null===(I=t)||void 0===I?void 0:I.envVersion)&&void 0!==C?C:"release"}),b={...b,[f+h]:{hasInit:!0}},yield oTe({filePath:dTe,data:JSON.stringify(b)})}catch(e){if("cancel"===(null==e?void 0:e.message))return void n("user cancel")}var A,k=yield GW();if(k.retry)return void hTe(r);if(null!=k&&k.result)E=h,WW(void 0),aTe(e.success,{errMsg:"pay: ok",pay:E});else n(null!==(A=null==k?void 0:k.errMsg)&&void 0!==A?A:"pay cancel")}catch(e){console.error("DEBUG Pay phrase 4 occur error:",e)}var E}));return function(e){return i.apply(this,arguments)}}()),u.addListener("cancel",(()=>{n("user cancel")}))}catch(e){}}))}catch(e){}}else aTe(e.fail,{errMsg:"pay:fail no permission"})}));return function(){return e.apply(this,arguments)}}(),fTe=!0,gTe=function(t,r,n){var i,a=this.prefix+this.api,o=this.uuid,s=n-this.invokeTime,l=null===(i=this.params)||void 0===i?void 0:i[0],c=t?{}:{errMsg:r&&r.errMsg,errno:r&&r.errno};e.traceApi(a,l,r,t,o,s,!1,c)};function vTe(){return BA("traceApiAction",{hookHandlers:{paramHandler(...e){this.params=e},success(t){var r=this.api,n=Date.now();fTe&&"request"!==r&&e.traceApi(r,this.params[0],t,!1,this.uuid,n-this.invokeTime,!0),gTe.call(this,!0,t,n)},fail(t){var r=this.api,n=Date.now();fTe&&"request"!==r&&e.traceApi(r,this.params[0],t,!0,this.uuid,n-this.invokeTime,!0,{errMsg:t&&t.errMsg,errno:t&&t.errno}),gTe.call(this,!1,t,n)},afterCallback(e,t,r){var n=Date.now(),{callbackError:i,syncError:a}=r;gTe.call(this,!(a||i),t,n)},hookArgs(e){"request"===this.api&&(e.__wx_inner_uuid__=this.uuid,e.__wx_inner_invokeTime__=this.invokeTime)}},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,invokeTime:void 0,params:void 0})})}var mTe=()=>{},yTe=function(e,t,r,n){var i,a=this.prefix+this.api,o=this.uuid,s=this.params,[l,...c]=s,u=this.invokeTime,d=this.subContext;et(l)?(i={...l},["complete","success","fail"].forEach((e=>{var t;null===(t=i)||void 0===t||delete t[`__origin_${e}__`]}))):i=l,XI(a,o,c.length?[i,...c]:i,t?1:0,u,n?0:1,e,d,r,_Te.call(this),this.syncCost)};function _Te(){return!this.shouldBelieveAsync}function bTe(e,t=!1,r=0){return NA("report",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;dI(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!T.isLimitReport(21688))&&yTe.call(this,e,!0,t)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),setTimeout(mTe,16)},fail(e){var r=this.prefix+this.api;dI(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!T.isLimitReport(21688))&&yTe.call(this,e,!1,t)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)})),e.errno&&T.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")}),setTimeout(mTe,16)},complete(){setTimeout(mTe,16)},afterCallback(e,r,n){var i=Date.now()-this.invokeTime;this.syncCost=i;var a=this.prefix+this.api,{callbackError:o,syncError:s}=n;dI(a,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var n=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,n&&(!t||!T.isLimitReport(21688))&&yTe.call(this,r,!(s||o),t,!0)})).catch((e=>{v.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,i=WI(n),a=null!==(r=null==i?void 0:i.ratio)&&void 0!==r?r:e;t=1===(null==i?void 0:i.ratio)||t,this.report=this.random<a,this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync:_Te},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,params:void 0,invokeTime:void 0,report:void 0,shouldBelieveAsync:void 0,hasCheckReq:void 0,subContext:r,deep:2})})}function wTe(e=0){return bTe(1,!0,e)}var STe=null,CTe=null;function ITe(){return define("apiCache",{hookHandlers:{breakDirectly:()=>STe.cache?STe.ret:NoBreakExecuteNumber,afterCallback(e,t,r){var{syncError:n,callbackError:i}=r,a=e[0];n||i||(STe.cache?(tryRun(null==a?void 0:a.__origin_success__,STe.rawResult||t),tryRun(null==a?void 0:a.__origin_complete__,STe.rawResult||t)):(STe.cache=!0,STe.ret=t,setTimeout((()=>{STe.cache=!1,STe.ret=null,STe.rawResult=null}))))}},getState:()=>({cacheInfo:STe})})}function ATe(){return define("apiCache",{hookHandlers:{breakDirectly(...e){var t,r,n,i,a=e[0];return CTe.isReleaseQueue?CTe.doubleCacheList?void CTe.doubleCacheList.push([(null===(t=this.otherDecoratorStates.promised)||void 0===t?void 0:t.resolve)||(null==a?void 0:a.__origin_success__),(null===(r=this.otherDecoratorStates.promised)||void 0===r?void 0:r.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(CTe.doubleCacheList=[],NoBreakExecuteNumber):CTe.cacheList?void CTe.cacheList.push([(null===(n=this.otherDecoratorStates.promised)||void 0===n?void 0:n.resolve)||(null==a?void 0:a.__origin_success__),(null===(i=this.otherDecoratorStates.promised)||void 0===i?void 0:i.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(CTe.cacheList=[],NoBreakExecuteNumber)},success(e){CTe.isReleaseQueue=!0,CTe.cacheList&&CTe.cacheList.forEach((t=>{tryRun(t[0],e)}))},fail(e){CTe.isReleaseQueue=!0,CTe.cacheList&&CTe.cacheList.forEach((t=>{tryRun(t[1],e)}))},complete(){CTe.cacheList&&(CTe.cacheList.forEach((e=>{tryRun(e[2])})),CTe.cacheList=null),CTe.isReleaseQueue=!1,CTe.cacheList=CTe.doubleCacheList,CTe.doubleCacheList=null}},getState:()=>({cacheInfo:CTe}),otherDecoratorStates:["promised"]})}var kTe={promise:null};function ETe(){return NA("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;r||n||i||(this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),kTe.promise=this.promise)},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return SA;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return ht(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.otherDecoratorStates)&&void 0!==n&&n.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return SA},success(e){var t,r,n=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}function TTe(e){return defineAll("catchErr",{hookHandlers:{afterCallback(t,r,n){var{syncError:i}=n;if(void 0!==i){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(i)&&"AppServiceSdkKnownError"!==i.type)return"ThirdScriptError"===i.type?(T.thirdErrorReport({error:i,extend:a}),CatchErrorNumber):(T.errorReport({key:e,error:i,extend:a}),CatchErrorNumber)}}},getState:()=>({api:void 0})})}var PTe=[10,30,40,50];function xTe(e){return(...t)=>{if(4===H.appType)return Zd("tap"),e.apply(this,t),void ep();ir.wrapTapMark((()=>{e.apply(this,t)}))}}function OTe(){return BA("checkTapPermission",{hookHandlers:{syncPrepositive(e){var t=this.api,r=Jd(t,"tap"),n=tp();return(10!==r||n||(hM({name:t,scene:0,strategy:1}),!fe&&cd(t)))&&(40!==r||4===H.appType||n)?50!==r||n?[!1]:e&&(e.fail||e.complete)?(setTimeout((()=>{bc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,!1,!1,!0]):[!0,"can only be invoked by user TAP gesture."]:e&&(e.fail||e.complete)?(setTimeout((()=>{bc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,null,null,!0]):[!0,"can only be invoked by user TAP gesture."]},paramHandler(...e){var t=this.api,r=Jd(t,"tap"),n=tp();this.status=r;var i=e[0];(20===r&&n||30===r)&&("function"==typeof i?i=xTe.call(this,i):"object"==typeof i&&null!==i&&["success","fail","complete"].forEach((e=>{"function"==typeof i[e]&&(i[e]=xTe.call(this,i[e]))})))},afterCallback(){Oe()&&PTe.includes(this.status)&&ep()}},getState:()=>({api:void 0,status:void 0,refuseExec:void 0,refuseExecReason:void 0})})}function RTe(){return defineAll("protect",{hookHandlers:{beforeExecute(){checkWxInterfaceSupported(this.api)}},getState:()=>({api:void 0})})}var MTe=function(){if(!this.emitFail){if(this.isTimeout)throw RA;clearTimeout(this.timer)}};function DTe(){return NA("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,bA(this.afterCopyArgs?this.afterCopyArgs.fail:t.fail,e),bA(this.afterCopyArgs?this.afterCopyArgs.complete:t.complete,e),this.emitFail=!1}),r))},success(){MTe.call(this)},fail(){MTe.call(this)},complete(){MTe.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})})}function NTe(){return define("noCondom",{})}function LTe(e){return BA("intercepted",{hookHandlers:{beforeExecute(){var t=this.api,r=this.originArgs,[n,i]=e({api:t,args:r});if(n)return[_A,i]}},getState:()=>({})})}function BTe(){return NA("privacy",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){return _G(this.api).then((({success:e,errMsg:t,errno:r})=>e?[!1]:[!0,t,r])).catch((e=>[!1]))}},getState:()=>({modifyArgs:!0})})}lG(null);var $Te=e=>{lG(e)},FTe;h.onLoad((()=>{FTe=gie()}));var jTe=new WeakMap,WTe=0;function UTe(){return BA("callbackLogReport",{hookHandlers:{beforeExecute(){this.key=this.api,FTe.log(`wx.${this.key} api invoke${this.seqMsg}`),this.categoryValue=Jd(this.key,"log"),this.categoryValue&&!this.otherDecoratorStates.checkWxInterfaceSupportAndPermission.shouldNotTraceAPI&&(E1.traceBeginAPI(`wx.${this.key}`),this.hasTraceAPI=!0)},paramHandler(e){this.seqMsg="request"===this.key?` with seq ${WTe}`:"";var t=e[0];if(3===this.categoryValue&&"function"==typeof t){var r=e[0];3===this.categoryValue&&"function"==typeof r&&(0===this.key.indexOf("off")&&jTe.has(r)?e[0]=jTe.get(r):e[0]=function(...e){E1.traceBeginAPI(`wx.${this.key} callback`),r.apply(null,e),E1.traceEndAPI()},0===this.key.indexOf("on")&&(jTe.has(r)?e[0]=jTe.get(r):jTe.set(r,e[0])))}},success(){1===this.categoryValue&&E1.traceBeginAPI(`wx.${this.key} success callback`)},fail(){1===this.categoryValue&&E1.traceBeginAPI(`wx.${this.key} fail callback`)},complete(){1===this.categoryValue&&E1.traceBeginAPI(`wx.${this.key} complete callback`)},afterSuccess(e){1===this.categoryValue&&(FTe&&FTe.logApiInvoke&&FTe.log(`wx.${this.key} success callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),E1.traceEndAPI())},afterFail(e){1===this.categoryValue&&(FTe&&FTe.logApiInvoke&&FTe.log(`wx.${this.key} fail callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),E1.traceEndAPI())},afterComplete(){1===this.categoryValue&&E1.traceEndAPI()},afterCallback(){2===this.categoryValue&&FTe&&FTe.logApiInvoke&&FTe.log(`wx.${this.key} return`),this.hasTraceAPI&&(E1.traceEndAPI(),this.hasTraceAPI=!1)}},getState:()=>({api:void 0,categoryValue:void 0,seqMsg:"",key:void 0,modifyArgs:!0}),otherDecoratorStates:["checkWxInterfaceSupportAndPermission"]})}function VTe(e){if(it(e))return NA("lazy",{hookHandlers:{getter:e}})}var qTe={quicklyAddBrandContact:"quicklyAddBrandContact",privateScanItem:"privateScanItem",privateSearchContacts:"privateSearchContacts",setNavigateBackInterception:"private_setNavigateBackInterception",stopNavigateBackInterception:"private_stopNavigateBackInterception",getWebviewDebugInfo:"private_getWebviewDebugInfo"};function zTe(e){return NA("privateApi",{hookHandlers:{beforeExecute(){if("declare"===e){var t,r,n,i,a=+(null===(t=H.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo)||void 0===n||null===(i=n.privacy)||void 0===i?void 0:i.locationPrivateInfosCheckStatus),o=H.requiredPrivateInfos,s=o&&o.indexOf(this.api)>=0,l=!("release"!==H.envVersion||1!==a||o&&s),c="release"!==H.envVersion&&o&&!s;return!l&&!c||[_A,"the api need to be declared in the requiredPrivateInfos field in app.json/ext.json",()=>console.error(`wx.${this.api} need to be declared in the requiredPrivateInfos field in app.json/ext.json`)]}if("permission"===e){var u=this.api,d=qTe[u].permissionByte;if(bf(d))return[_A,"no permission"]}}},getState:()=>({api:void 0})})}function GTe(){return NA("weakNetworkOptimize",{hookHandlers:{beforeExecute(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;this.usedPromise=!r&&!n&&!i,this.args={},Object.keys(t).forEach((e=>{"function"!=typeof t[e]&&(this.args[e]=t[e])}))},breakDirectly(){if(!rbe()||!ibe()[this.api])return CA;if(T_e.isWeakNetwork){var e=i_e(this.api,this.args);if(!e)return CA;if("object"==typeof e&&(e.fromCache=!0),this.usedPromise)return this.otherDecoratorStates.apiCache||(this.otherDecoratorStates.apiCache={cacheInfo:{}}),void(this.otherDecoratorStates.apiCache.cacheInfo.ret=e);if(!this.usedPromise)return e}return CA},success(e){if(!T_e.isWeakNetwork){var t=Date.now()+D_e.maxAge;n_e(this.api,this.args,e,t)}}},getState:()=>({usedPromise:void 0,args:void 0,api:void 0}),otherDecoratorStates:["apiCache"]})}var HTe=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,KTe=[];function QTe(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=KTe.length-1,i=0;i>=0&&n>=0;){var a=r.length,o=0;for(var s in JTe)if(JTe[s]){var l=r.indexOf(JTe[s],i);l<0||a<=l||(a=l,o=JTe[s].length)}if(a>=r.length)break;var c=`at <${KTe[n--].description}>`;r=r.slice(0,a)+c+r.slice(a+o),i=a+c.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var JTe={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function XTe(e){var t=((new Error).stack||"").match(/.+/gm),r="",n=0;t&&t.forEach((e=>{if(HTe.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return r=e.slice(i),!1}return!0})),JTe[e]=r}function YTe(){for(var e="",t=KTe.length-1;t>=0;t--)KTe[t].pluginAppId&&(e=KTe[t].pluginAppId);return e}var ZTe=e=>{null===JTe.wrapSystemFunction&&(JTe.wrapSystemFunction="",rPe("","",XTe)("wrapSystemFunction")),KTe.push({description:e})},ePe=()=>{KTe.pop()};function tPe(e,t,r,n,i,a=!1){var o;null===JTe.wrapSystemFunction&&(JTe.wrapSystemFunction="",rPe("","",XTe)("wrapSystemFunction")),KTe.push({description:t});try{o=r.apply(n,i)}catch(t){if(QTe(t)){if("AppServiceSdkKnownError"===t.type)throw KTe.pop(),t;if("ThirdScriptError"===t.type){var s=YTe();T.thirdErrorReport({error:t,source:s,triggerErrorCallback:!a})}else T.errorReport({key:e,error:t,triggerErrorCallback:!a})}if(a)throw KTe.pop(),t}return KTe.pop(),o}function rPe(e,t,r,n=!1){return function(...i){return tPe(e,t,r,this,i,n)}}function nPe(e,t,r,n,i,a=!1){var o;null===JTe.wrapMiniProgramOrPluginFunction&&(JTe.wrapMiniProgramOrPluginFunction="",aPe("","",XTe)("wrapMiniProgramOrPluginFunction")),KTe.push({description:t,pluginAppId:e});try{o=r.apply(n,i)}catch(t){if(QTe(t)&&T.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!a}),a)throw KTe.pop(),t}return KTe.pop(),o}function iPe(e,t,r,n,i=!1){return nPe(YTe(),e,t,r,n,i)}function aPe(e,t,r,n=!1){return function(...i){return nPe(e,t,r,this,i,n)}}function oPe(e,t,r=!1){return function(...n){return nPe(YTe(),e,t,this,n,r)}}function sPe(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return nPe(YTe(),n,i,i,e,!1)}}var lPe=e=>{if(QTe(e)){if("AppServiceSdkKnownError"!==e.type){if("ThirdScriptError"===e.type){var t=YTe();return T.thirdErrorReport({error:e,source:t,triggerErrorCallback:!1}),IA}return T.errorReport({key:"appServiceSDKScriptError",error:e,triggerErrorCallback:!1}),IA}KTe.pop()}};function cPe(){return BA("apiCatchError",{hookHandlers:{beforeExecute(){var e=` at wx.${this.api}`;ZTe(e)},errorHandler:e=>lPe(e),uncaughtErrorHandler:e=>lPe(e),afterCallback(){ePe()}},getState:()=>({api:void 0})})}function uPe(){return BA("checkWxInterfaceSupportAndPermission",{hookHandlers:{beforeExecute(){var e=this.api,t=this.originArgs;if(!ZC(e,"",t)){if("Sync"===e.slice(-4))throw new np(e+":fail rejected due to no permission currently");return t&&(t.fail||t.complete)&&setTimeout((()=>{bc(e,t,"rejected due to no permission currently")}),0),this.shouldNotTraceAPI=!0,this.refuseExecReason="rejected due to no permission currently",void(this.refuseExec=!0)}},breakDirectly(){if(!this.refuseExec)return CA}},getState:()=>({refuseExecReason:void 0,refuseExec:void 0,shouldNotTraceAPI:void 0})})}function dPe(){return NA("routeRequest",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){if(nh.isBlocking()){var e=this.api,t=this.originArgs;return new Promise((r=>{nh.routeRequest({blockUntilFinished:!!t.blockUntilFinished,name:e,args:t,requestFunc:()=>{r([!1])}})}))}return[!1]}},getState:()=>({modifyArgs:!0})})}var pPe=ew,hPe=(e={})=>{if(C_e(e),!rbe())return pPe(e);var{url:t,data:r,method:n,success:i,fail:a,complete:o}=e,s=e=>{N_e.checkNeedStore(t,r,n,e),i&&"function"==typeof i&&i(e)};if(D_e.state===Cye.UNKNOWN)e.success=e=>{i&&"function"==typeof i&&s(e),o&&"function"==typeof o&&o(e)},e.fail=s=>obe(pPe,t,r,n,e,i,a,o,s),e.complete=null;else if(D_e.state===Cye.ON){var l=obe(pPe,t,r,n,e,i,a,o);if(l)return l}else D_e.state===Cye.OFF&&(e.success=s);return pPe(e)},fPe,gPe={},vPe=!1,mPe=e=>{gPe=e;try{gPe="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,vPe=!0}catch(e){gPe={}}};vPe||(vPe="SDK"===(null===(fPe=H.host)||void 0===fPe?void 0:fPe.env));var yPe=e=>gPe&&gPe[e],_Pe;Yt("onThirdPlatformApiPermissionBytesUpdate",(e=>{mPe(ge?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==_Pe&&_Pe()}));var bPe=e=>{_Pe=e},wPe=()=>vPe;H.onReady((()=>{mPe(H.thirdPlatformApiPermissionBytes)}));var SPe=(e,t={},r={},n={})=>{var i,a=r.fail;"function"==typeof a&&(a=a.bind(r));var o={...r};o.isThird=!0;try{i=Lu(t,e,o,n)}catch(e){return void("function"==typeof a&&a(`SDK error: ${e}`))}yPe(e)?Vr(e,t,(e=>{try{i(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof a&&a(`没有权限调用JSAPI: ${e}`))},CPe=(e,t)=>{yPe(e)?Zt(e,t):console.warn(`没有权限监听Event: ${e}`)},IPe=()=>({showTabBar(e){var t=e.renderer;if(t)return ir.showTabBarByRenderer(t);var r=e.pageId;return r?ir.showTabBar(r):void 0}}),APe;!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(APe||(APe={}));var kPe=(e,t)=>e===t||e&t;class EPe{constructor(e=APe.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e)}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var r=this.callbacks.get(e);r=[...r.filter((e=>e!==t))]}}handleCDPMessage(e,t,r){var n,i,a;kPe(this.type,t)&&("id"in e?null===(n=this.callbacks.get("command"))||void 0===n||n.forEach((t=>t(e,r))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,r))),null===(a=this.callbacks.get("all"))||void 0===a||a.forEach((t=>t(e,r))))}}function TPe(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}class PPe{constructor(e){this._enabled=!1,this.bridge=e}get enabled(){return this._enabled}disable(){return TPe(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return TPe(this,void 0,void 0,(function*(){this._enabled=!0}))}}class xPe extends PPe{constructor(){super(...arguments),this._enabled=!0}}class OPe{constructor(e=0){this._id=e}get id(){return this._id++}reset(){this._id=0}}var RPe=new WeakMap;class MPe{constructor(){this._roots=[],this._rootExparserMap=new Map}get roots(){return this._roots}init(e){RPe.set(this,e)}getExparser(e){return this._rootExparserMap.get(e)}insertChild(e,t){var r,n;if(!this._rootExparserMap.has(e)){this._roots.push(e),this._rootExparserMap.set(e,t);var i=RPe.get(this);i&&(null===(r=i.handleChildNodeInserted)||void 0===r||r.call(i,e),null===(n=i.handleChildNodeCountUpdated)||void 0===n||n.call(i,this._roots.length))}}removeChild(e){var t,r;if(this._rootExparserMap.has(e)){this._roots=this._roots.filter((t=>t!==e)),this._rootExparserMap.delete(e);var n=RPe.get(this);n&&(null===(t=n.handleChildNodeRemoved)||void 0===t||t.call(n,e),null===(r=n.handleChildNodeCountUpdated)||void 0===r||r.call(n,this._roots.length))}}}var DPe="#text",NPe=new Set(["class","is"]),LPe;function BPe(e){return e.id.startsWith("__wx_inspectee_highlight__")}!function(e){e[e.Unknown=0]="Unknown",e[e.TextNode=1]="TextNode",e[e.VirtualNode=2]="VirtualNode",e[e.Component=3]="Component",e[e.NativeNode=4]="NativeNode",e[e.Element=5]="Element",e[e.ShadowRoot=6]="ShadowRoot"}(LPe||(LPe={}));class $Pe{constructor({exparser:e,root:t,getSkylineEngine:r,getContextId:n,advanceMode:i=!1,hideVirtual:a=!0},o){this.name="mini-app",this.nodeId=new OPe(4),this.inspectedId=new OPe(0),this.nodeIdMap=new Map,this.idNodeMap=new Map,this.options={},this.sentNodeIdSet=new Set,this.exparser=e(),this._root=t instanceof MPe?()=>t:t,this.emitter=o,this.skylineEngine=null==r?void 0:r(),n&&this.skylineEngine&&(this.skylineContextId=n()),this.options={advanceMode:i,hideVirtual:a},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"},this.documentType={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name}}get root(){return this._root()}getRoot(e){return this.root}get inspectedNode(){return this._inspectedNode}getExparser(e){return this.exparser}isGlassEasel(e){return"ElementIteratorType"in e}getSkylineContext(){return this.skylineEngine.getRuntime().allContexts[this.skylineContextId]||{}}isAlreadySent(e){return this.sentNodeIdSet.has(e)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,{node:e}),e.setAttribute&&e.setAttribute("wx:nodeid",t)}removeNode(e){var t,r=this.getNodeById(e);r!==this.root&&r&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.node}getCachedCDPNode(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.cdpCache}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.id,this.addToMap(e,r)),r}isWxComponent(e){return this.getNodeType(e)!==LPe.TextNode&&(this.skylineEngine?!!e.__libComp__:this.isNamedNode(e)&&e.is.startsWith("wx-"))}isElement(e){return this.getNodeType(e)===LPe.Element}isNativeNode(e){return this.getNodeType(e)===LPe.NativeNode}isTextNode(e){return this.getNodeType(e)===LPe.TextNode}isNamedNode(e){return"is"in e}getNodeType(e){if(!e)return LPe.Unknown;var t=this.getExparser(e);return t?e instanceof t.TextNode?LPe.TextNode:e instanceof t.ShadowRoot?LPe.ShadowRoot:e instanceof t.VirtualNode?LPe.VirtualNode:e instanceof t.Component?LPe.Component:e instanceof t.NativeNode?LPe.NativeNode:e instanceof t.Element?LPe.Element:LPe.Unknown:LPe.Unknown}getNodeName(e){var t;if(this.getNodeType(e)===LPe.TextNode)return"";var r=null!==(t=e.is)&&void 0!==t?t:"";return this.skylineEngine?r:this.isWxComponent(e)?r.slice(3):r}getSlotName(e){var t=this.getExparser(e);return this.isGlassEasel(t)?t.Element.getSlotName(e):e.__slotName}getChildren(e){var t=[],r=this.getNodeType(e);if(void 0!==this.getSlotName(e))t.push(...this.getComposedChildren(e));else if(r===LPe.Component){if(this.options.advanceMode||!this.isWxComponent(e)){var n=e.shadowRoot;this.getNodeType(n)===LPe.ShadowRoot&&t.push(n)}t.push(...e.childNodes)}else(r===LPe.NativeNode||r===LPe.ShadowRoot||r===LPe.VirtualNode&&["wx:if","wx:for","wx:for-item","wx:else"].includes(e.is))&&t.push(...e.childNodes);return t}domify({node:e,nodeId:t,currentDepth:r=1,depth:n=1,parentId:i,env:a={}}={}){if(e?this.nodeIdMap.has(e)||(t=this.nodeId.id,this.addToMap(e,t)):t?e=this.getNodeById(t):(e=this.root,this.addToMap(e,3)),!e)return null;t||(t=this.nodeIdMap.get(e));var o=this.getNodeType(e),s={type:o};if(this.observeNode({nodeId:t}),o===LPe.TextNode)return this.sentNodeIdSet.add(t),{nodeId:t,parentId:i,backendNodeId:t,nodeType:3,nodeName:DPe,localName:DPe,nodeValue:e.textContent};var l=e;s.parentId=i,s.nodeId=s.backendNodeId=t,o===LPe.ShadowRoot?(s.nodeType=11,s.nodeName=s.localName="#shadow-root"):(s.nodeType=1,s.nodeName=s.localName=this.getNodeName(e));var c=this.getChildren(l),u=[],d=this.getSlotName(e);if(this.options.hideVirtual&&o===LPe.VirtualNode&&void 0===d)return c.forEach(((e,t)=>{var a=this.domify({node:e,depth:n,currentDepth:r,parentId:i});a&&(Array.isArray(a)?u.push(...a):u.push(a))})),u;if(r<=n||-1===n){var p=this.idNodeMap.get(t);p&&(p.cdpCache=s),this.sentNodeIdSet.add(t),c.forEach(((e,t)=>{var i=this.domify({node:e,depth:n,currentDepth:r+1,parentId:s.nodeId});i&&(Array.isArray(i)?u.push(...i):u.push(i))})),void 0!==d?(s.distributedNodes=u.map((e=>({backendNodeId:e.backendNodeId,nodeName:e.nodeName,nodeType:e.nodeType}))),s.childNodeCount=0,s.nodeName="SLOT",d.length>0&&(s.attributes=["name",d])):(s.children=r!==n&&u.length?u:void 0,s.childNodeCount=u.length)}var h=this.getAttributes(l);return h.length&&(Array.isArray(s.attributes)?s.attributes.push(...h):s.attributes=h),s}getAttributes(e){var t,r=[];if(!this.isElement(e)&&!this.isNativeNode(e))return r;e.id&&r.push("id",e.id),e.slot&&r.push("slot",e.slot);var n=null===(t=e.classList)||void 0===t?void 0:t.getClassNames();n&&r.push("class",n);var i=e.style;if("string"==typeof i&&r.push("style",String(i)),e.attributes)for(var{name:a,value:o}of e.attributes)a&&this.checkAttr(a)&&r.push(a,null!=o?o:"");return this.getNodeName(e),r}checkAttr(e){return!/^(wx|exparser):/.test(e)&&!NPe.has(e)}removeAttributes(e,t){var r;"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?null===(r=e.classList)||void 0===r||r.setClassNames(""):"style"===t?e.style="":e.removeAttribute(t)}getAttributeValue(e,t){var r,n;return"id"===t?e.id:"slot"===t?e.slot:"class"===t?null!==(n=null===(r=e.classList)||void 0===r?void 0:r.getClassNames())&&void 0!==n?n:"":"style"===t?e.style:e.getAttribute(t)}setAttributeValues(e,t,r){var n;"id"===t?e.id=r:"slot"===t?e.slot=r:"class"===t?null===(n=e.classList)||void 0===n||n.setClassNames(r):"style"===t?e.style=r:e.setAttribute(t,r)}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}setInspectedNodeForExparser(e){var t,{node:r,variableName:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{};if(!r)return null;var i=n;if(!i){for(i=`$$${this.inspectedId.id}`;Reflect.has(globalThis,i);)i=`$$${this.inspectedId.id}`;var a=this.idNodeMap.get(e);a&&(a.variableName=i)}return Reflect.set(globalThis,i,r),i}isVirtual(e){return this.getNodeType(e)===LPe.VirtualNode}isGenericVirtual(e){return e instanceof this.getExparser(e).VirtualNode}isShadowRoot(e){return this.getNodeType(e)===LPe.ShadowRoot}findNearestNonVirtualAncestor(e){for(var t=e.parentNode;t&&this.isVirtual(t);)t=t.parentNode;return t}findLogicalParent(e){return this.options.hideVirtual?this.findNearestNonVirtualAncestor(e):this.getNodeType(e)===LPe.ShadowRoot?e.getComposedParent():e.parentNode}findParent(e){return this.getNodeType(e)===LPe.ShadowRoot?e.getComposedParent():e.parentNode}getComposedParent(e){return e.getComposedParent?e.getComposedParent():e.__wxSlotParent}getComposedChildren(e){return e.getComposedChildren?e.getComposedChildren():e.__wxSlotChildren.slice()}getSibling(e,t="prev"){var{hideVirtual:r}=this.options,n=this.findParent(e);if(!n)return null;var i,a=this.getChildren(n),o=Array.prototype.indexOf.call(a,e);if(a.length<2||o<0||"next"===t&&o===a.length-1||"prev"===t&&0===o)return r&&this.isVirtual(n)?this.getSibling(n,t):null;if("prev"===t)for(i=a[o-1];i&&r&&this.isVirtual(i);){var s=this.getChildren(i);i=s[s.length-1]}else for(i=a[o+1];i&&r&&this.isVirtual(i);)i=this.getChildren(i)[0];return null!=i?i:null}observeNode({nodeId:e=-1}){var t,{node:r,observer:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{};if(r)return n||(n=this.getExparser(r).Observer.create((t=>{var n,i,a,o,s,l,c,u,d,p,h,f,g,v,m,y,_,b;if(r)switch(t.type){case"characterData":var w=r.textContent;null===(n=this.emitter)||void 0===n||n.call(this,{method:"DOM.characterDataModified",params:{nodeId:e,characterData:w}});break;case"properties":var S=null!==(i=t.propertyName)&&void 0!==i?i:"",C=null!==(s=null!==(a=r[S])&&void 0!==a?a:null===(o=r.data)||void 0===o?void 0:o[S])&&void 0!==s?s:null===(l=r.dataset)||void 0===l?void 0:l[S];void 0!==C?null===(c=this.emitter)||void 0===c||c.call(this,{method:"DOM.attributeModified",params:{nodeId:e,name:S,value:C}}):null===(u=this.emitter)||void 0===u||u.call(this,{method:"DOM.attributeRemoved",params:{nodeId:e,name:S}});break;case"childList":var I=this.findLogicalParent(r),A=I&&null!==(d=this.nodeIdMap.get(I))&&void 0!==d?d:-1,{cdpCache:k}=null!==(p=this.idNodeMap.get(A))&&void 0!==p?p:{},E=null!==(h=null==k?void 0:k.childNodeCount)&&void 0!==h?h:0;if(t.removedNodes)for(var T of(E-=t.removedNodes.length,t.removedNodes)){var P=null!==(f=this.nodeIdMap.get(T))&&void 0!==f?f:-1,{observer:x}=null!==(g=this.idNodeMap.get(P))&&void 0!==g?g:{};null===(v=this.emitter)||void 0===v||v.call(this,{method:"DOM.childNodeRemoved",params:{parentNodeId:A,nodeId:P}}),this.nodeIdMap.delete(T),this.idNodeMap.delete(P),null==x||x.disconnect()}if(t.addedNodes)for(var O of(E+=t.addedNodes.length,t.addedNodes)){var R=this.findLogicalParent(O),M=R&&null!==(m=this.nodeIdMap.get(R))&&void 0!==m?m:-1,D=this.getSibling(O),N=D&&null!==(y=this.nodeIdMap.get(D))&&void 0!==y?y:-1,L=this.domify({node:O,parentId:M});if(!L)break;var B=Array.isArray(L)?L:[L];for(var $ of B)null===(_=this.emitter)||void 0===_||_.call(this,{method:"DOM.childNodeInserted",params:{parentNodeId:M,previousNodeId:N,node:$}}),N=$.nodeId;if(R){var F=this.domify({node:R,depth:1});if(!F||Array.isArray(F))break;E!==(null==k?void 0:k.childNodeCount)&&(null===(b=this.emitter)||void 0===b||b.call(this,{method:"DOM.childNodeCountUpdated",params:{nodeId:M,childNodeCount:F.childNodeCount}}))}}}})),n.observe(r,{properties:!0,childList:!0,characterData:this.getNodeType(r)===LPe.TextNode}),this.idNodeMap.set(e,{node:r,observer:n})),n.disconnect}getDocument({depth:e}={}){var t,r;if(!this.root)return this.document;this.sentNodeIdSet.clear();var n=this.domify({depth:e,parentId:this.document.nodeId});return!n||Array.isArray(n)||(this.document.children=[this.documentType,n],this.document.childNodeCount=null!==(r=null===(t=this.document.children)||void 0===t?void 0:t.length)&&void 0!==r?r:0),this.document}}var FPe=new OPe(1);function jPe({beforeInvoke:e,afterInvoke:t,console:r=globalThis.console}){var n={},i=r,a=function(){var[r,a]=o;n[r]="function"==typeof a&&"debug"!==r?function(...n){null==e||e({method:r,args:n,originConsole:i});var a=i[r](...n);return null==t||t({method:r,args:n,ret:a,originConsole:i}),a}:a};for(var o of Object.entries(r))a();return n}var WPe=e=>!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then,UPe=new WeakMap,VPe=new Map,qPe=new Map,zPe=new Map,GPe=()=>VPe.size,HPe=e=>zPe.get(e),KPe=e=>{var t=qPe.get(e);if(t)for(var r of t)VPe.delete(r),zPe.delete(r)},QPe=(e,t={})=>{var r,n,i={},a=typeof e,o="";try{o=null===(r=null==e?void 0:e.toString)||void 0===r?void 0:r.call(e)}catch(e){o={}.toString()}if("object"===a||"function"===a||"symbol"===a){if(UPe.has(e))i.objectId=UPe.get(e);else{i.objectId=FPe.id.toString();try{e&&e instanceof Object&&UPe.set(e,i.objectId)}catch(t){console.error("objectToRemoteIdMap fail",t,e)}VPe.set(i.objectId,e),t.objectGroup&&((e,t)=>{var r=qPe.get(t);r?r.push(e):qPe.set(t,[e]),zPe.set(e,t)})(i.objectId,t.objectGroup)}if("object"===a){var s,l=null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name;if(l&&(i.className=l),Array.isArray(e)?s="array":null===e?s="null":e instanceof RegExp?s="regexp":e instanceof Date?s="date":e instanceof Map?s="map":e instanceof Set?s="set":e instanceof WeakMap?s="weakmap":e instanceof WeakSet?s="weakset":e instanceof Error?s="error":WPe(e)?s="promise":function(e){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((t=>e instanceof t))}catch(e){return!1}}(e)?s="typedarray":e instanceof ArrayBuffer?s="arraybuffer":e instanceof DataView?s="dataview":globalThis.WebAssembly&&e instanceof globalThis.WebAssembly.Memory&&(s="webassemblymemory"),s&&(i.subtype=s),null!=e&&t.generatePreview){var c={type:a,description:o,properties:Object.keys(e).flatMap((r=>e===globalThis&&"BabelRuntimeHelpers"===r?[]:Object.assign({name:r},QPe(e[r],Object.assign(Object.assign({},t),{generatePreview:!1}))))),overflow:!0};s&&(c.subtype=s),"map"===s?c.entries=[...e].map((([e,r])=>({key:e,value:QPe(r,Object.assign(Object.assign({},t),{generatePreview:!1}))}))):"set"===s&&(c.entries=[...e].map((e=>({value:QPe(e,Object.assign(Object.assign({},t),{generatePreview:!1}))})))),i.preview=c}}}else i.value=e;return Object.assign({type:a,description:o},i)},JPe=e=>{VPe.get(e)&&VPe.delete(e)},XPe=e=>VPe.get(e),YPe=(e,t={})=>{var r=QPe(e,t);if(e instanceof Error){var{name:n,message:i}=e;return{text:n,exception:r}}return{text:"Unknown Error",exception:r}},ZPe={printError:!0};class exe{constructor(e,t=ZPe){this.bindAdapter=(e,t)=>{var r=`${e}Adapter`;return Reflect.set(this,r,t),this},this.options=t,this.handler=this.handleCommand.bind(this),this.bridge=e,this.bridge.on("command",this.handler),this.fallbackAdapter=new xPe(e)}destroy(){this.bridge.off("command",this.handler)}handleCommand(e){var t,r;return TPe(this,void 0,void 0,(function*(){var n,{id:i,method:a,params:o}=e,[s,l]=a.split("."),c=`${s}Adapter`,u=null!==(t=Reflect.get(this,c))&&void 0!==t?t:this.fallbackAdapter;if(u.enabled||"enable"===l)try{n=null!==(r=yield u[l](o))&&void 0!==r?r:{}}catch(e){this.options.printError&&console.error(`inspectee ${a} error:`,e),n={message:"N/A"}}else n={message:"disabled, enable it first"};this.bridge.reply(i,n)}))}}class txe extends PPe{constructor(e,t){super(e),this._executionContextId=1;var{evalFn:r=globalThis.eval,executionContextId:n=1}=t;this.evalFn=r,this._executionContextId=n,this._hookedConsole=this.getHookedConsole(n)}get executionContextId(){return this._executionContextId}get hookedConsole(){return this._hookedConsole}get remoteObjectAmount(){return GPe()}getHookedConsole(e){return jPe({beforeInvoke:({method:e,args:t})=>this.callConsoleAPI(e,t)})}callConsoleAPI(e,t,r=Date.now(),n=this._executionContextId){this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:e,args:t.map((e=>QPe(e,{objectGroup:"console",generatePreview:!0}))),executionContextId:n,timestamp:r}})}hookConsole(){var e;null!==(e=Reflect.get(console,Symbol.for("hooked")))&&void 0!==e&&e||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(e){var t;return TPe(this,void 0,void 0,(function*(){var{promiseObjectId:r}=e,n=XPe(r),i=null!==(t=HPe(r))&&void 0!==t?t:"promise";if(WPe(n)){var a={objectGroup:i};try{return{result:QPe(yield n,a)}}catch(r){return{exceptionDetails:YPe(r,a),result:QPe(r,a)}}}var o="no such promise";return{exceptionDetails:YPe(o),result:QPe(o)}}))}callFunctionOn(e){throw new Error("Method not implemented.")}compileScript(e){throw new Error("Method not implemented.")}discardConsoleEntries(){throw new Error("Method not implemented.")}evaluate(e){return TPe(this,void 0,void 0,(function*(){var{expression:t,awaitPromise:r,returnByValue:n,generatePreview:i=!0,objectGroup:a}=e;try{var o=this.evalFn.call(globalThis,t);return r&&WPe(o)&&(o=yield o),{result:QPe(o,{returnByValue:n,generatePreview:i,objectGroup:a})}}catch(e){return{exceptionDetails:YPe(e),result:QPe(e,{objectGroup:a})}}}))}getIsolateId(){throw new Error("Method not implemented.")}getHeapUsage(){throw new Error("Method not implemented.")}getProperties(e){return TPe(this,void 0,void 0,(function*(){var{objectId:t,ownProperties:r=!0,accessorPropertiesOnly:n=!1}=e,i=XPe(t),a=HPe(t),o=[],s={result:o},l=[];if(!i)return s;for(var c of Object.keys(i)){var u=Reflect.getOwnPropertyDescriptor(i,c);u&&o.push(Object.assign(Object.assign({},u),{name:c,isOwn:!0}))}if(i instanceof Map){var d=[...i];o.push({name:"[[Entries]]",value:d.length?d.map((([e,t])=>({key:e,value:t}))):"no entry"}),d.length&&o.push({name:"size",value:i.size})}if(i instanceof Set){var p=[...i];o.push({name:"[[Entries]]",value:p.length?p:"no entry"}),p.length&&o.push({name:"size",value:i.size})}var h={objectGroup:a};if(o=o.flatMap((e=>{if(i===globalThis&&"BabelRuntimeHelpers"===e.name)return[];var{get:t,set:r,value:n}=e;return"value"in e&&(e["symbol"===n?"symbol":"value"]=QPe(n,h)),t&&(e.get=QPe(t,h)),r&&(e.set=QPe(r,h)),e})),n&&(o=o.filter((e=>e.get||e.set))),"object"==typeof i||"function"==typeof i){var f=Reflect.getPrototypeOf(i);l.push({name:"[[Prototype]]",value:QPe(f,h)})}return l.length&&(s.internalProperties=l),s}))}globalLexicalScopeNames(e){throw new Error("Method not implemented.")}queryObjects(e){throw new Error("Method not implemented.")}releaseObject(e){return TPe(this,void 0,void 0,(function*(){JPe(e.objectId)}))}releaseObjectGroup(e){return TPe(this,void 0,void 0,(function*(){KPe(e.objectGroup)}))}runIfWaitingForDebugger(){throw new Error("Method not implemented.")}runScript(e){throw new Error("Method not implemented.")}setAsyncCallStackDepth(e){throw new Error("Method not implemented.")}setCustomObjectFormatterEnabled(e){throw new Error("Method not implemented.")}setMaxCallStackSizeToCapture(e){throw new Error("Method not implemented.")}terminateExecution(){throw new Error("Method not implemented.")}addBinding(e){throw new Error("Method not implemented.")}removeBinding(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}}function rxe(e,t=1e3,r){var n;return function(...i){if(n&&clearTimeout(n),r){if(!n)return e.apply(this,i);n=setTimeout((()=>n=null),t)}else n=setTimeout((()=>e.apply(this,i)),t)}}function nxe(e){return function(...t){return new Promise((function(r,n){t.push((e=>{r(e)})),e.apply(null,t)}))}}var ixe=(e,t,...r)=>TPe(void 0,void 0,void 0,(function*(){return new Promise(((n,i)=>{var a=e[t];"function"==typeof a?a.call(e,...r,((...e)=>n(e))):i(`${t.toString()} is not a function`)}))}));class axe extends $Pe{constructor(e,t){super(e,t),this._nodeExparserMap=new Map;var r=this.document.nodeId;this.forest.init({handleChildNodeInserted:e=>{var t,n,i=this.roots[this.roots.length-2],a=null!==(t=this.nodeIdMap.get(i))&&void 0!==t?t:this.documentType.nodeId,o=this.domify({node:e,parentId:r});if(o){var s=Array.isArray(o)?o:[o];for(var l of s)null===(n=this.emitter)||void 0===n||n.call(this,{method:"DOM.childNodeInserted",params:{previousNodeId:a,parentNodeId:r,node:l}}),a=l.nodeId}},handleChildNodeRemoved:e=>{var t,n,i,a=null!==(t=this.nodeIdMap.get(e))&&void 0!==t?t:-1,{observer:o}=null!==(n=this.idNodeMap.get(a))&&void 0!==n?n:{};this.nodeIdMap.delete(e),this.idNodeMap.delete(a),this.sentNodeIdSet.delete(a),null==o||o.disconnect(),null===(i=this.emitter)||void 0===i||i.call(this,{method:"DOM.childNodeRemoved",params:{parentNodeId:r,nodeId:a}})},handleChildNodeCountUpdated:e=>null==t?void 0:t({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:e+1}})})}get forest(){return this._root()}get roots(){return this.forest.roots}getRoot(e){var t,r;if(this._nodeExparserMap.has(e))return null===(t=this._nodeExparserMap.get(e))||void 0===t?void 0:t.root;var n=this.findExparserRoot(e),i=null!==(r=this.forest.getExparser(n))&&void 0!==r?r:super.getExparser(e);return this._nodeExparserMap.set(e,{root:n,exparser:i}),n}getExparser(e){var t,r;if(this._nodeExparserMap.has(e))return null===(t=this._nodeExparserMap.get(e))||void 0===t?void 0:t.exparser;var n=this.findExparserRoot(e),i=null!==(r=this.forest.getExparser(n))&&void 0!==r?r:super.getExparser(e);return this._nodeExparserMap.set(e,{root:n,exparser:i}),i}findExparserRoot(e){for(var t=e;t.ownerShadowRoot;)t=t.ownerShadowRoot.getHostNode();return t}removeNode(e){var t,r=this.getNodeById(e);r&&!this.roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getDocument({depth:e}={}){if(!this.roots.length)return this.document;var t=this.roots.flatMap((t=>this.domify({node:t,depth:e,parentId:this.document.nodeId})||[]));return this.document.children=[this.documentType,...t],this.document.childNodeCount=this.document.children.length,this.document}domify(e){var{node:t,nodeId:r,currentDepth:n=1,depth:i=1,parentId:a,env:o}=e;return t||r?super.domify(e):null}}class oxe extends PPe{constructor(e,t){super(e),this.tempId=new OPe(1),this.props=t,this.highlight=t.highlight}getExparserNodeFromParams(e){return TPe(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;if(r||n)t=this.tree.getNodeById(r||n);else if(i){var a=yield this.requestNode({objectId:i});t=this.tree.getNodeById(a.nodeId)}return t||null}))}scrollIntoViewIfNeeded(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}collectClassNamesFromSubtree(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}enable(){return TPe(this,void 0,void 0,(function*(){if(!this.tree){var e=this.props,t=e=>{this.bridge.emit(e)};e.root instanceof MPe?this.tree=new axe(e,t):this.tree=new $Pe(e,t)}this._enabled=!0}))}focus(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(e){return TPe(this,void 0,void 0,(function*(){var{nodeId:t}=e,r=yield this.getExparserNodeFromParams({nodeId:t});return r&&this.tree.getNodeType(r)===LPe.Component?{attributes:this.tree.getAttributes(r)}:{attributes:[]}}))}getBoxModel(e){throw new Error("Method not implemented.")}getContentQuads(e){throw new Error("Method not implemented.")}getDocument(e){return TPe(this,void 0,void 0,(function*(){var{depth:t=2}=e;try{return{root:this.tree.getDocument({depth:t})}}catch(e){throw console.error(e),e}}))}getFlattenedDocument(e){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(e){throw new Error("Method not implemented.")}getNodeForLocation(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getOuterHTML(e){throw new Error("Method not implemented.")}getRelayoutBoundary(e){throw new Error("Method not implemented.")}getSearchResults(e){throw new Error("Method not implemented.")}hideHighlight(){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightNode(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(e){throw new Error("Method not implemented.")}performSearch(e){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(e){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(e){return TPe(this,void 0,void 0,(function*(){var{backendNodeIds:t}=e;return{nodeIds:t}}))}querySelector(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}querySelectorAll(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}redo(){throw new Error("Method not implemented.")}removeAttribute(e){return TPe(this,void 0,void 0,(function*(){var{nodeId:t,name:r}=e,n=yield this.getExparserNodeFromParams(e);n&&this.tree.isElement(n)&&(this.tree.removeAttributes(n,r),this.bridge.emit({method:"DOM.attributeRemoved",params:{nodeId:t,name:r}}))}))}setAttributeValue(e){return TPe(this,void 0,void 0,(function*(){var{nodeId:t,name:r,value:n}=e,i=yield this.getExparserNodeFromParams(e);i&&this.tree.isElement(i)&&(this.tree.setAttributeValues(i,r,n),this.bridge.emit({method:"DOM.attributeModified",params:{nodeId:t,name:r,value:n}}))}))}setAttributesAsText(e){return TPe(this,void 0,void 0,(function*(){var{name:t,nodeId:r,text:n}=e,i=yield this.getExparserNodeFromParams(e);if(!i||!this.tree.isElement(i))throw new Error("invalid name");if(i){for(var a={},o=n.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],s=0,l=o.length;s<l;s++){var c=o[s].split("="),u=c[0].trim(),d=c[1]?c[1].trim().replace(/^"/,"").replace(/"$/,""):"true";a[u]=d,this.tree.getAttributeValue(i,u)!==d&&this.setAttributeValue({nodeId:r,name:u,value:d})}t&&!a[t]&&this.removeAttribute({nodeId:r,name:t})}}))}removeNode(e){return TPe(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.removeNode(t)}))}requestChildNodes(e){return TPe(this,void 0,void 0,(function*(){var t,{nodeId:r,depth:n=2,pierce:i}=e;if(1===r)t=this.tree.getDocument({depth:2}).children;else{var a=this.tree.domify({depth:n,nodeId:r});if(!a||Array.isArray(a))return;t=a.children}this.bridge.emit({method:"DOM.setChildNodes",params:{parentId:r,nodes:null!=t?t:[]}})}))}requestNode(e){return TPe(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(e){return TPe(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n}=e;if(!r&&!n)throw new Error("invalid nodeId or backendNodeId");for(t=`temp${this.tempId.id}`;Reflect.has(globalThis,t);t=`temp${this.tempId.id}`);var i=this.tree.getNodeById(null!=r?r:n);return Reflect.set(globalThis,t,i),console.log(`%cNode saved as ${t}. If it warns, just ignore :)`,"color: #ffbb33"),console.log(t,i),{}}))}setFileInputFiles(e){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(e){throw new Error("Method not implemented.")}getNodeStackTraces(e){throw new Error("Method not implemented.")}getFileInfo(e){throw new Error("Method not implemented.")}setInspectedNode(e){return TPe(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.setInspectedNode(t)}))}setNodeName(e){throw new Error("Method not implemented.")}setNodeValue(e){return TPe(this,void 0,void 0,(function*(){var{value:t}=e,r=yield this.getExparserNodeFromParams(e);r&&this.tree.isTextNode(r)&&this.tree.getNodeType(r)===LPe.TextNode&&(r.textContent=t)}))}setOuterHTML(e){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(e){throw new Error("Method not implemented.")}getContainerForNode(e){throw new Error("Method not implemented.")}}class sxe extends(null){scrollIntoViewIfNeeded(e){var r,n;return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:i,objectId:a,rect:o}=e,s=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:i,objectId:a});null===(n=null===(r=null==s?void 0:s.$$)||void 0===r?void 0:r.scrollIntoView)||void 0===n||n.call(r)}))}getNodeForLocation(e){return t(this,void 0,void 0,(function*(){var{x:t,y:r}=e;if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");var n=document.elementFromPoint(t,r).__wxElement;if(!n)throw new Error("");var i=this.tree.requestIdForNode(n);return{nodeId:i,backendNodeId:i,frameId:"n/a"}}))}hideHighlight(){var e;return t(this,void 0,void 0,(function*(){null===(e=this.highlight)||void 0===e||e.hide()}))}highlightNode(e){var r;return t(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:t,backendNodeId:n,objectId:i,selector:a,highlightConfig:o={}}=e||{},s=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:n,objectId:i});if(s){if(a&&!this.tree.isTextNode(s)&&(s=s.querySelector(a)),!s)throw new Error("can not found node");null===(r=this.highlight)||void 0===r||r.show(s,o)}}}))}querySelector(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getExparserNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeId:t};var i=-1;return n.querySelector(r)&&(i=this.tree.requestIdForNode(n)),{nodeId:i}}))}querySelectorAll(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getExparserNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeIds:[]};var i=n.querySelectorAll(r),a=[];return(null==i?void 0:i.length)&&(a=i.map((e=>this.tree.requestIdForNode(e)))),{nodeIds:a}}))}getBoxModel(e){return t(this,void 0,void 0,(function*(){var t=yield this.getExparserNodeFromParams(e),r=null==t?void 0:t.$$;if(!r||!("getBoundingClientRect"in r)){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var{left:i,right:a,top:o,bottom:s,height:l,width:c}=r.getBoundingClientRect(),u=[i,o,a,o,a,s,i,s];return{model:{width:c,height:l,content:u,padding:u,border:u,margin:u}}}))}}class lxe extends(null){enable(){var e=Object.create(null,{enable:{get:()=>super.enable}});return t(this,void 0,void 0,(function*(){yield e.enable.call(this),this.skylineContext=this.tree.skylineEngine.getRuntime().allContexts[1]}))}scrollIntoViewIfNeeded(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:r,objectId:n,rect:i}=e;(yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:r,objectId:n})).$$.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(e){var r;return t(this,void 0,void 0,(function*(){var{x:t,y:n}=e;if(!(null===(r=this.skylineContext)||void 0===r?void 0:r.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var i=(yield s(this.skylineContext.getNodeFromPoint)([t,n])).__wxElement;if(!i)throw new Error("");var a=this.tree.requestIdForNode(i);return{nodeId:a,backendNodeId:a,frameId:"n/a"}}))}hideHighlight(){return t(this,void 0,void 0,(function*(){this.highlight.hide()}))}highlightNode(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,backendNodeId:r,objectId:n,selector:i,highlightConfig:a={}}=e||{},o=yield this.getExparserNodeFromParams({nodeId:t,backendNodeId:r,objectId:n});if(!o)throw new Error("can not found node");this.highlight.show(o,a)}))}querySelector(e){return t(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e;return yield this.getExparserNodeFromParams({nodeId:t}),{nodeId:1e3}}))}querySelectorAll(e){return t(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}}class cxe extends oxe{getBoxModel(e){return TPe(this,void 0,void 0,(function*(){var t=yield this.getExparserNodeFromParams(e);if(!(null==t?void 0:t.$$)){var r=Array(8).fill(0);return{model:{width:0,height:0,content:r,padding:r,border:r,margin:r}}}var[{left:n,top:i,height:a,width:o}]=yield ixe(t.$$,"getBoundingClientRect"),s=this.tree.getRoot(t).$$;if(null==s?void 0:s.getLocation){var[{position:l,frameSetRect:c}]=yield ixe(s,"getLocation");i+=c.top+l.top,n+=c.left+l.left}var u=[n,i,n+o,i,n+o,i+a,n,i+a];return{model:{width:o,height:a,content:u,padding:u,border:u,margin:u}}}))}getNodeByViewportPosition(e,t,r){var n;return TPe(this,void 0,void 0,(function*(){var i=this.tree.getRoot(e).$$;if(!(null==i?void 0:i.getLocation))return null;var[{position:a,frameSetRect:o}]=yield ixe(i,"getLocation"),s=a.top+o.top,l=a.left+o.left;if(r>=s&&r<=s+a.height&&t>=l&&t<=l+a.width){var c=null===(n=e.ownerShadowRoot)||void 0===n?void 0:n.getBackendContext();if(!(null==c?void 0:c.elementFromPoint))return null;var[u]=yield ixe(c,"elementFromPoint",t-l,r-s);return u}return null}))}getNodeForLocation(e){return TPe(this,void 0,void 0,(function*(){var t,{x:r,y:n}=e;if(this.tree instanceof axe){var i=this.tree.roots.map((e=>this.getNodeByViewportPosition(e,r,n)));t=(yield Promise.all(i)).find((e=>!!e))}else{var a=this.tree.root;t=yield this.getNodeByViewportPosition(a,r,n)}if(!t)return console.warn("Node not found for given postion",r,n),{};var o=this.tree.requestIdForNode(t,!1),s=this.tree.isAlreadySent(o);if(!o||!s){for(var l=[],c=this.tree.findLogicalParent(t);c;){var u=this.tree.requestIdForNode(c),d=this.tree.isAlreadySent(u);if(l.push(u),d)break;c=this.tree.findLogicalParent(c)}for(;l.length;){var p=l.pop();this.requestChildNodes({nodeId:p,depth:2})}}return{nodeId:o=this.tree.requestIdForNode(t),backendNodeId:o,frameId:"n/a"}}))}}class uxe extends(null){constructor(e,t,r){super(e),this.domAdapter=t,this.highlight=r}get enabled(){return this.domAdapter.enabled&&this._enabled}disable(){return t(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return t(this,void 0,void 0,(function*(){if(!this.domAdapter.enabled)throw new Error("Enable DOM first.");this._enabled=!0}))}findExparserNode(e){for(;e&&!e.__wxElement;e=e.parentElement);if(e){for(var t=e.__wxElement,{root:r,exparser:n}=this.domAdapter.tree;t.ownerShadowRoot!==r.shadowRoot;)t=t instanceof n.VirtualNode?t.__wxSlotParent:t.parentNode;return t}}emitInspectNodeRequested(e){if(e){var{tree:t}=this.domAdapter,r=t.requestIdForNode(e),n=[];if(!t.getCachedCDPNode(r)){for(var i=t.findLogicalParent(e);!t.getCachedCDPNode(i);i=t.findLogicalParent(i))n.push(i);for(n.push(i);n.length;){var a=t.requestIdForNode(n.pop());this.domAdapter.requestChildNodes({nodeId:a,depth:1})}}this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:r}})}}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){throw new Error("Method not implemented.")}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return t(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}on(e,t){throw new Error("Method not implemented.")}}class dxe extends(null){constructor(){super(...arguments),this.handleClickEvents=e=>{e.preventDefault();var{x:t,y:r}=e,n=this.hitTest(t,r);return this.emitInspectNodeRequested(n),!1}}hitTest(e,t){document.body.style.pointerEvents="";var r=document.elementFromPoint(e,t),n=r?this.findExparserNode(r):null;return document.body.style.pointerEvents="none",n}handleMouseDownEvents(e){document.body.dispatchEvent(new CustomEvent("touchcancel"))}handleMouseMoveEvents(e){var{x:t,y:r}=e,n=this.hitTest(t,r);if(n){var i=this.domAdapter.tree.requestIdForNode(n);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(n,this.highlightConfig)}}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e,this._handleMouseMoveEvents=o(this.handleMouseMoveEvents.bind(this),100),document.addEventListener("click",this.handleClickEvents),document.addEventListener("mousedown",this.handleMouseDownEvents),document.addEventListener("mousemove",this._handleMouseMoveEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0,document.removeEventListener("click",this.handleClickEvents),document.removeEventListener("mousedown",this.handleMouseDownEvents),document.removeEventListener("mousemove",this._handleMouseMoveEvents),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class pxe extends(null){constructor(){super(...arguments),this.handleClickEvents=e=>{var{x:t,y:r}=e,n=this.hitTest(t,r);if(n)return this.emitInspectNodeRequested(n),!1}}hitTest(e,t){return this.domAdapter.tree.skylineContext.getNodeFromPoint(e,t)}handleMouseDownEvents(e){}handleMouseMoveEvents(e){var{x:t,y:r}=e,n=this.hitTest(t,r);if(n){var i=this.domAdapter.tree.requestIdForNode(n);this.bridge.emit({method:"Overlay.nodeHighlightRequested",params:{nodeId:i}}),this.highlight.show(n,this.highlightConfig)}}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e;var t=this.domAdapter.tree.skylineContextId;this.domAdapter.tree.skylineEngine.getRuntime().startTouchEventInterception(t,((e,t)=>{var r=t.touches[0];if(r){var n={x:r.clientX,y:r.clientY};"click"===e?this.handleClickEvents(n):"touchstart"===e||"mousedown"===e?this.handleMouseDownEvents(n):"touchmove"!==e&&"mousemove"!==e||this.handleClickEvents(n)}}))}stopInspect(){document.body.style.pointerEvents="",this.highlightConfig=void 0;var e=this.domAdapter.tree.skylineContextId;this.domAdapter.tree.skylineEngine.getRuntime().stopTouchEventInterception(e),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}}class hxe extends PPe{constructor(e,t,r){super(e),this.domAdapter=t,this.getSkylineRuntime=r}get skylineRuntime(){return this.getSkylineRuntime()}emitInspectNodeRequested(e){if(e){var{tree:t}=this.domAdapter,r=t.requestIdForNode(e),n=[];if(!t.isAlreadySent(r)){for(var i=t.findLogicalParent(e);i;){var a=t.requestIdForNode(i),o=t.isAlreadySent(a);if(n.push(i),o)break;i=t.findLogicalParent(i)}for(;n.length;){var s=t.requestIdForNode(n.pop());this.domAdapter.requestChildNodes({nodeId:s,depth:2})}}this.bridge.emit({method:"Overlay.inspectNodeRequested",params:{backendNodeId:r}})}}startInspect(e){this.highlightConfig=e,this.skylineRuntime.startTouchEventInterception,this.skylineRuntime.startTouchEventInterception((e=>{var{type:t,target:r}=e;if(r&&"touchend"===t)try{this.emitInspectNodeRequested(r.__wxElement)}catch(e){console.error("emitInspectNodeRequested err",e)}}))}stopInspect(){this.highlightConfig=void 0,this.skylineRuntime.stopTouchEventInterception(1),this.bridge.emit({method:"Overlay.inspectModeCanceled",params:void 0})}getHighlightObjectForTest(e){throw new Error("Method not implemented.")}getGridHighlightObjectsForTest(e){throw new Error("Method not implemented.")}getSourceOrderHighlightObjectForTest(e){throw new Error("Method not implemented.")}hideHighlight(){throw new Error("Method not implemented.")}highlightFrame(e){throw new Error("Method not implemented.")}highlightNode(e){throw new Error("Method not implemented.")}highlightQuad(e){throw new Error("Method not implemented.")}highlightRect(e){throw new Error("Method not implemented.")}highlightSourceOrder(e){throw new Error("Method not implemented.")}setInspectMode(e){return TPe(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("Method not implemented.")}}))}setShowAdHighlights(e){throw new Error("Method not implemented.")}setPausedInDebuggerMessage(e){throw new Error("Method not implemented.")}setShowDebugBorders(e){throw new Error("Method not implemented.")}setShowFPSCounter(e){throw new Error("Method not implemented.")}setShowGridOverlays(e){throw new Error("Method not implemented.")}setShowFlexOverlays(e){throw new Error("Method not implemented.")}setShowScrollSnapOverlays(e){throw new Error("Method not implemented.")}setShowContainerQueryOverlays(e){throw new Error("Method not implemented.")}setShowPaintRects(e){throw new Error("Method not implemented.")}setShowLayoutShiftRegions(e){throw new Error("Method not implemented.")}setShowScrollBottleneckRects(e){throw new Error("Method not implemented.")}setShowHitTestBorders(e){throw new Error("Method not implemented.")}setShowWebVitals(e){throw new Error("Method not implemented.")}setShowViewportSizeOnResize(e){throw new Error("Method not implemented.")}setShowHinge(e){throw new Error("Method not implemented.")}}var fxe={objectGroup:"exparser"};class gxe extends PPe{constructor(e,t){super(e),this.domAdapter=t}get enabled(){var e;return null!==(e=this.domAdapter.enabled)&&void 0!==e&&e}get tree(){return this.domAdapter.tree}logRemoteObject(e){return TPe(this,void 0,void 0,(function*(){return console.log(XPe(e.objectId))}))}setInspectedNode(e){return TPe(this,void 0,void 0,(function*(){var t=this.tree.setInspectedNodeForExparser(e.nodeId);if(t)return{variableName:t};throw new Error("Failed to set inspected node")}))}logToConsole(e){return TPe(this,void 0,void 0,(function*(){var{prefix:t,level:r="log"}=e,n=yield this.domAdapter.getExparserNodeFromParams(e);n&&(t?console[r](t,n):console[r](n))}))}getNodeData(e){var t;return TPe(this,void 0,void 0,(function*(){var r=yield this.domAdapter.getExparserNodeFromParams(e);return!r||this.tree.isWxComponent(r)?{data:{}}:{data:null!==(t=r.data)&&void 0!==t?t:{}}}))}getNodeDetails(e){var t,r,n;return TPe(this,void 0,void 0,(function*(){var i=yield this.domAdapter.getExparserNodeFromParams(e);if(!i)throw new Error("no such node");var a={},o={},s={},l={};if(!this.tree.isWxComponent(i)){var{data:c}=yield this.getNodeData(e);for(var[u,d]of Object.entries(c))a[u]=QPe(d,fxe)}var p=null===(t=this.domAdapter)||void 0===t?void 0:t.tree.getExparser(i);if(p&&"listPublicProperties"in p.Component)for(var h of p.Component.listPublicProperties(i))Reflect.has(a,h)||(o[h]=QPe(i.__dataProxy._data[h],fxe));for(var[f,g]of Object.entries(null!==(r=i.__wxEvents)&&void 0!==r?r:{}))s[f]=QPe(g,fxe);var v=null===(n=i.ownerShadowRoot)||void 0===n?void 0:n.getBackendContext();if(i.$$&&v&&"getComputedStyle"in v){var[m]=yield ixe(v,"getComputedStyle",i.$$);l.computedStyle=QPe(m,fxe);var y={display:m.display,boxSizing:m.boxSizing,direction:m.direction,writingMode:m.writingMode,position:m.position,overflowX:m.overflowX,overflowY:m.overflowY,flexGrow:m.flexGrow,flexShrink:m.flexShrink,flexDirection:m.flexDirection,flexWrap:m.flexWrap,justifyContent:m.justifyContent,alignContent:m.alignContent,alignItems:m.alignItems,alignSelf:m.alignSelf,aspectRatio:m.aspectRatio,left:m.left,right:m.right,top:m.top,bottom:m.bottom,marginLeft:m.marginLeft,marginRight:m.marginRight,marginTop:m.marginTop,marginBottom:m.marginBottom,borderLeft:m.borderLeft,borderRight:m.borderRight,borderTop:m.borderTop,borderBottom:m.borderBottom,paddingLeft:m.paddingLeft,paddingRight:m.paddingRight,paddingTop:m.paddingTop,paddingBottom:m.paddingBottom,flexBasis:m.flexBasis,width:m.width,height:m.height,minWidth:m.minWidth,minHeight:m.minHeight,maxWidth:m.maxWidth,maxHeight:m.maxHeight};l.layoutComputedStyle=QPe(y,fxe)}return{data:a,events:s,props:o,others:l}}))}disable(){return TPe(this,void 0,void 0,(function*(){this.domAdapter.disable()}))}enable(){var e;return TPe(this,void 0,void 0,(function*(){null===(e=this.domAdapter)||void 0===e||e.enable()}))}}var vxe=()=>(Zy(),new Promise((e=>l.initScl((t=>e(t.mainRoot)))))),mxe=function(){var e=Hp()((function*(e={}){return(yield vxe()).append("console-switch",{...e})}));return function(){return e.apply(this,arguments)}}(),yxe="vConsole_ready",_xe="vConsole_show",bxe="vConsole_hide",wxe="vConsole_showSwitch",Sxe="vConsole_hideSwitch",Cxe="vConsole_moved";class Ixe{constructor(){this.switch=null,this.isInSkylinePage=!0,this.vConsoleWebviewInited=!1,this.vConsoleWebview=new zwe,this.vConsoleReady=new Promise((e=>{Br(yxe,e),U2(yxe,e)})),this.initWebview()}initWebview(){var e=this;return Hp()((function*(){Br(bxe,(({showSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.show())})),Br(_xe,(({hideSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.hide())})),Br(Sxe,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.hide()})),Br(wxe,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.show()}))}))()}initVConsoleWebview(e){var t=this;return Hp()((function*(){try{yield t.vConsoleWebview.insert(),U2(bxe,Hp()((function*({showSwitch:e=!0}={}){var r;yield t.vConsoleWebview.hide(),e&&(null===(r=t.switch)||void 0===r||r.show())}))),U2(_xe,Hp()((function*({hideSwitch:e=!0}={}){var r;yield t.vConsoleWebview.show(),e&&(null===(r=t.switch)||void 0===r||r.hide())}))),U2(Sxe,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.hide()})),U2(wxe,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.show()})),t.vConsoleWebviewInited=!0,e.bindVConsoleWebview(t.vConsoleWebview,t.vConsoleReady)}catch(e){return[yxe,_xe,bxe,wxe,Sxe].forEach((e=>V2(e))),!1}return!0}))()}initSwitch(e){var t=this;return Hp()((function*(){if(!t.switch){var r=yield t.vConsoleReady;t.switch=yield mxe({initialPos:r}),t.switch.addListener("toggle",(()=>t.show())),t.switch.addListener("moved",(({detail:e})=>{t.postMessage(Cxe,e,!0)})),t.setSwitchBanner(e)}}))()}setSwitchBanner(e){var t=this;return Hp()((function*(){t.switch&&e&&t.switch.setData({banner:e})}))()}show(){var e=this;return Hp()((function*(){e.postMessage(_xe)}))()}hide(){var e=this;return Hp()((function*(){e.postMessage(bxe)}))()}postMessage(e,t={},r=!1){var n=this;return Hp()((function*(){(n.isInSkylinePage||r)&&n.vConsoleWebviewInited&&n.vConsoleWebview.postMessage({data:{...t,name:e}}),n.isInSkylinePage&&!r||Or(e,t,[Fc.currentWebviewId])}))()}}class Axe extends EPe{constructor(e){super(APe.ServiceInspectee),this.vConsoleWebview=void 0,this.cachedMsgs=[],this.ready=!1,this.init(),this.vConsoleWebview=e}_sendUnsafe(e,t=APe.Inspector){this.vConsoleWebview.postMessage({data:{name:"vConsole_cdp",msg:e,target:t,source:this.type}})}send(e){this.vConsoleWebview&&this.ready?(this.consumeCachedLogs(),this._sendUnsafe(e)):(this.cachedMsgs.length>Oc&&this.cachedMsgs.shift(),this.cachedMsgs.push(e))}initSubscription(e){U2("vConsole_cdp",(t=>{var{msg:r,target:n,source:i}=t;e(r,n,i)}))}consumeCachedLogs(){this.cachedMsgs.length&&(this.cachedMsgs.forEach((e=>this._sendUnsafe(e))),this.cachedMsgs=[])}bindVConsoleWebview(e,t){this.vConsoleWebview=e,t.then((()=>{this.ready=!0,this.consumeCachedLogs()}))}}var kxe=!1,Exe=e=>{if(!kxe){var t=([t,r])=>{if(!kxe){kxe=!0;var n=new Axe,i=new exe(n),a=new txe(n,{evalFn:e});i.bindAdapter("Runtime",a),r(a),t.forEach((({method:e,log:t,timestamp:r})=>{a.callConsoleAPI(e,t,r)}));var o=null,s=!1,l=null;tT(function(){var e=Hp()((function*(e){l&&clearTimeout(l);var t,r="skyline"===e.renderer,i=e.renderer.toUpperCase();o?(o.isInSkylinePage=r,s||o.vConsoleWebviewInited||!r||(s=yield o.initVConsoleWebview(n)),o.hide(),null===(t=o.switch)||void 0===t||t.hide(),l=setTimeout((()=>{var e;null!==(e=o)&&void 0!==e&&e.switch&&(o.switch.show(),o.setSwitchBanner(i))}),200)):(o=new Ixe,setTimeout(Hp()((function*(){o&&(o.isInSkylinePage=r,o.initSwitch(i),r&&(s=yield o.initVConsoleWebview(n)))})),200))}));return function(t){return e.apply(this,arguments)}}());var c=new MPe;A.setInspecteeRoots(c);var u={root:c,exparser:()=>null,getSkylineEngine:()=>!0},d=new cxe(n,u);i.bindAdapter("DOM",d);var p=new gxe(n,d);i.bindAdapter("Exparser",p);var h=A.getSkylineRuntime,f=new hxe(n,d,h);i.bindAdapter("Overlay",f)}};A.onDebugEnabledAfterBaseConsoleInjected(((...e)=>t(e)))}};function Txe(){return!!sr.getPipPage()}function Pxe(e){var t={},r=(...e)=>{var r=e.map((e=>e.toString())).join(".");!0!==t[r]&&(t[r]=!0,kL({name:"Intl",data:{callPath:r}}))};return new Proxy(e,{get(e,t,n){if(r(t),Reflect.has(e,t))return new Proxy(e[t],{construct:(e,n,i)=>new Proxy(Reflect.construct(e,n),{get:(e,n,i)=>(r(t,n),e[n])})})}})}var xxe=({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:i,injectContext:a=0,errMsg:o}={})=>{var s=[e,t,r,n,i,a,o].map(encodeURIComponent).join(",");T.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})},Oxe="undefined"!=typeof __initHelper&&1===__initHelper,Rxe=["cloud","cloudSDK","ad"],Mxe={},Dxe=(e,...t)=>e.toUpperCase()+t.join(""),Nxe=(e,t)=>{fe?(b.devtools_miniprogram=!0,b[e]=()=>t()):globalThis[e]=()=>t()},Lxe=(e,t,r)=>{var n;return fe?(n=null!=e?e:b["subPackageShare"+t],r||delete b["subPackageShare"+t]):(n=null!=e?e:globalThis[t],r||delete globalThis[t]),n},Bxe=!1,$xe=(e,t)=>{var r=t.globalName;if(Mxe[r])return Mxe[r];if(2===I.isEmptyContext){if(!Oxe)throw new Error("Fatal: unexpected loadSdkSubPackage case");return Bxe||(Bxe=!0,uP({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"})),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var n,i=`get${Dxe(...e)}GlobalVar`;t.globalGetter&&Nxe(i,t.globalGetter);var a=!1;try{var o,s=Date.now(),l=I.loadMainContextLibFile;t.injectSub&&(o="function"==typeof t.injectSub?t.injectSub():t.injectSub),o&&(a=!0,l=I.loadSubContextLibFile,I.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[I.convertRealId2SdkId(o)])),l.call(I,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[i];var r=Date.now()-s;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?fe?(uP({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),H.onReady((()=>{xxe({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:H.appType+1e3,errMsg:"success"===e?"":e})}))}),o)}catch(e){console.error(`${a?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var c=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:c})}t.loadedSubPackage=Lxe(n,t.globalName,t.reserveGlobal),Mxe[t.globalName]=t.loadedSubPackage,it(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},Fxe=e=>{for(var t in e){var r=e[t];$xe(t,r)}},jxe=e=>{for(var t in e)if(Rxe.includes(t)){var r=e[t];$xe(t,r)}},Wxe=()=>{var e=rOe();jxe(e)},Uxe={},Vxe=(e,t)=>Uxe[e].loadedSubPackage[t],qxe=(e,t,r)=>{var{apiKey:n,call:i,cache:a}=t;if(a)return a;var o=Vxe(e,n);if(it(o)){if(i){var s=o.call(r);return et(s)&&(t.cache=s),s}return o.bind(r)}return o},zxe=(e,t)=>function(){var r=Uxe[e];return r.init||$xe(e,r),qxe(e,t,this)},Gxe=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:i,onInjectCallback:a,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d}={})=>{Uxe[e]={waLibName:t,exportApis:r,globalGetter:i,init:!1,onInjectCallback:a,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d}},Hxe=()=>Object.entries(Uxe).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]={api:()=>$xe(t,r),subPackageInfo:r,replaceGlobal:!0,...r.fakeProvider?{fakeProvider:r.fakeProvider}:{},emptyInjectKey:r.emptyInjectKey},!et(r.exportApis))||Object.entries(r.exportApis).forEach((([n,i])=>{n===t&&console.warn(`sdk warn: sdk subpackage: ${n} has same name with one item of exportApis`);var a={...r};delete a.provideInGlobal,e[n]={api:zxe(t,i),apiInfo:i,subPackageInfo:a,emptyInjectKey:r.emptyInjectKey}})),e)),{}),Kxe=()=>Hxe(),Qxe=e=>`_sdk_subPackage_load_${e}`,Jxe=e=>{globalThis[Qxe(e)]=!0},Xxe=e=>{globalThis[Qxe(e)]=!1},Yxe=e=>globalThis[Qxe(e)],Zxe=(e,t)=>{var r={},n=function(n){var i=e[n];Object.defineProperty(r,n,{get(){if(i.call)return(...e)=>{var r=t();return null==r?void 0:r[i.key||n].call(r,...e)};var e=t();return null==e?void 0:e[i.key||n]}})};for(var i in e)n(i);return r},eOe=(e,t=!1)=>{var r=Kxe();Object.entries(r).forEach((([r,n])=>{var i=e,{api:a,subPackageInfo:o,replaceGlobal:s,fakeProvider:l,emptyInjectKey:c}=n;if(o.provideInGlobal){if(s){var u=o.provideInGlobal;return void Object.defineProperty(globalThis,u,{get(){if(l){if(!o.__fakeProviderCache){var e=()=>{if(!Yxe(u))return Jxe(u),a(),Xxe(u),o.loadedSubPackage};o.__fakeProviderCache=Zxe(l,e),c&&(o.__fakeProviderCache[c]=()=>{e()})}return o.__fakeProviderCache}if(!Yxe(u)){Jxe(u),a(),Xxe(u);var t=o.loadedSubPackage;return c&&(t[c]=()=>{}),t}},configurable:!0,enumerable:!1})}i=o.provideInGlobal}if(t){if(!!n.subPackageInfo.exportApis[r].noExportWx)return;var d=i[r];Object.defineProperty(i,r,{get(){if(et(d)){var t=a.call(e),n=mA(r);return n&&n(t),t}return it(d)?(...t)=>{var r=a.call(e),n=[...t,yA,r];return r.call(i,...n)}:d},configurable:!0})}else Object.defineProperty(i,r,{get:()=>a.call(e),configurable:!0})}))},tOe=()=>{Object.entries(Kxe()).forEach((([e,t])=>{var{api:r,subPackageInfo:n,replaceGlobal:i}=t;if(n.provideInGlobal&&i){var a=n.provideInGlobal;Object.defineProperty(globalThis,a,{get(){if(!Yxe(a))return Jxe(a),r(),Xxe(a),n.loadedSubPackage},configurable:!0})}else;}))},rOe=()=>Uxe,nOe={...D,wx:{}},iOe;hr((()=>{iOe=dr})),Gxe({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:b,wxConsole:f,Reporter:T,console:console,__appServiceSDK__:nOe,__wxConfig:H,Foundation:h,IS_APP:!0,__subContextEngine__:iOe}),onInjectCallback:()=>{Gy("cloudSDK",qy.injected)},resultGetter:()=>mr,provideInGlobal:"__cloudSDKMain__",injectSub:()=>I.getAppSubContextId(),src:"./src/cloud/dist/cloud-sdk-subpackage.js",emptyInjectKey:"inject"});var aOe=e=>{Object.assign(nOe,e)};X.onAppRoute=tT;var oOe={bridgeOn:X},sOe="undefined"!=typeof __initHelper?__initHelper:void 0;Gxe({name:"sclEngine",waLibName:"WASubAppSclEngine.js",compileType:"app",fakeProvider:{initScl:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:oOe,WeixinJSBridge:b,wxConsole:f,wxNativeConsole:v,Reporter:T,__wxConfig:H,WebAssembly:pge,packageChannel:Xy,IS_APP_SUBPACKAGE:!0,__initHelper:sOe}),onInjectCallback:()=>{Gy("sclengine",qy.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/app-scl-engine.js",emptyInjectKey:"inject"});var lOe=null,cOe=new Ah("touch",!0),uOe=new Ah("touch",!0),dOe={};const pOe=dOe;var hOe=!1,fOe=null;function gOe(){return new Promise(((e,t)=>{hOe||t(),hOe&&(fOe=setTimeout(t,3e3)),hOe&&Pd({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:i}=r;!n&&i?(fOe&&clearTimeout(fOe),cP({title:"是否使用广告跳过卡",content:`当前还有${i}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?Pd({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?(gP({title:"使用广告卡失败",icon:"error"}),t()):(gP({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))}H.onReady((()=>{Oe()&&setTimeout((()=>{Pd({apiName:"webapi_getadcardbalance",success({data:e}){hOe=!e.errCode}})}),3e3)}));var vOe=e=>(t={})=>{(e?Pd:Od)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},mOe=vOe(!1),yOe=vOe(!0),_Oe=e=>Number(e).toString()===e,bOe=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),wOe=(e,t)=>bOe(e,Object.keys(e).filter((e=>!t.includes(e)))),SOe=e=>e&&"object"==typeof e&&!Array.isArray(e);function COe(e,...t){if(!t.length)return e;var r=t.shift();if(SOe(e)&&SOe(r))for(var n of Object.keys(r))SOe(r[n])?(e[n]||Object.assign(e,{[n]:{}}),COe(e[n],r[n])):Object.assign(e,{[n]:r[n]});return COe(e,...t)}var IOe=e=>{for(var t=new Set,r=e;r;){for(var n of Object.getOwnPropertyNames(r))t.add(n);r=Object.getPrototypeOf(r)}return[...t]},AOe=(e,t,r)=>{for(var n="string"==typeof t?t.split("."):t,i=e,a=0;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},kOe=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...kOe(t)):e.push(t),e)),[]),EOe=e=>JSON.parse(JSON.stringify(e)),TOe=e=>Object.keys(e),POe=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||POe(r)}))},xOe="TIMEOUT_REJECT",OOe=(e,t)=>Promise.race([e,new Promise(((e,r)=>{setTimeout((()=>{r(xOe)}),t)}))]),ROe={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},MOe=(e,t)=>({idKey:e,idKeyGroup:t}),DOe=e=>MOe(e,ROe.COMMON),NOe=e=>MOe(e,ROe.COMMON2),LOe=DOe(5),BOe=DOe(10),$Oe=DOe(11),FOe=DOe(12),jOe=DOe(13),WOe=DOe(14),UOe=DOe(21),VOe=DOe(22),qOe=DOe(23),zOe=DOe(24),GOe=DOe(25),HOe=DOe(26),KOe=DOe(28),QOe=DOe(32),JOe=DOe(33),XOe=DOe(34),YOe=DOe(35),ZOe=DOe(36),eRe=DOe(37),tRe=DOe(38),rRe=DOe(39),nRe=DOe(40),iRe=DOe(41),aRe=DOe(42),oRe=DOe(43),sRe=DOe(44),lRe=DOe(45),cRe=DOe(46),uRe=DOe(49),dRe=DOe(50),pRe=DOe(86),hRe=DOe(87),fRe=DOe(88),gRe=DOe(89),vRe=DOe(90),mRe=DOe(96),yRe=DOe(97),_Re=DOe(98),bRe=DOe(99),wRe=DOe(100),SRe=DOe(101),CRe=DOe(102),IRe=DOe(103),ARe=DOe(104),kRe=DOe(106),ERe=DOe(105),TRe=DOe(107),PRe=DOe(108),xRe=DOe(109),ORe=DOe(110),RRe=DOe(112),MRe=DOe(113),DRe=DOe(114),NRe=DOe(115),LRe=DOe(116),BRe=DOe(119),$Re=DOe(120),FRe=DOe(121),jRe=DOe(123),WRe=DOe(124),URe=DOe(125),VRe=DOe(126),qRe=DOe(127),zRe=DOe(128),GRe=DOe(129),HRe=DOe(130),KRe=DOe(131),QRe=DOe(132),JRe=DOe(133),XRe=DOe(134),YRe=DOe(135),ZRe=DOe(136),eMe=DOe(137),tMe=DOe(138),rMe=DOe(139),nMe=DOe(140),iMe=DOe(141),aMe=DOe(142),oMe=DOe(143),sMe=DOe(144),lMe=DOe(145),cMe=DOe(146),uMe=DOe(147),dMe=DOe(148),pMe=DOe(149),hMe=DOe(150),fMe=DOe(151),gMe=DOe(152),vMe=DOe(153),mMe=DOe(154),yMe=DOe(156),_Me=DOe(157),bMe=DOe(158),wMe=DOe(159),SMe=DOe(160),CMe=DOe(161),IMe=DOe(162),AMe=DOe(163),kMe=DOe(164),EMe=DOe(165),TMe=DOe(166),PMe=DOe(167),xMe=DOe(168),OMe=DOe(169),RMe=DOe(170),MMe=DOe(171),DMe=DOe(173),NMe=DOe(178),LMe=DOe(179),BMe=DOe(180),$Me=DOe(181),FMe=DOe(182),jMe=DOe(183),WMe=DOe(188),UMe=DOe(189),VMe=DOe(190),qMe=DOe(191),zMe=DOe(192),GMe=DOe(193),HMe=DOe(194),KMe=DOe(195),QMe=DOe(196),JMe=DOe(197),XMe=DOe(198),YMe=DOe(199),ZMe=DOe(202),eDe=DOe(203),tDe=DOe(204),rDe=DOe(205),nDe=DOe(206),iDe=DOe(207),aDe=DOe(208),oDe=DOe(209),sDe=DOe(210),lDe=DOe(211),cDe=DOe(212),uDe=DOe(213),dDe=DOe(214),pDe=DOe(215),hDe=DOe(216),fDe=DOe(217),gDe=DOe(218),vDe=DOe(219),mDe=DOe(220),yDe=DOe(221),_De=DOe(223),bDe=DOe(224),wDe=DOe(225),SDe=DOe(226),CDe=DOe(227),IDe=DOe(228),ADe=DOe(229),kDe=DOe(230),EDe=DOe(234),TDe=DOe(235),PDe=DOe(236),xDe=DOe(237),ODe=DOe(238),RDe=DOe(239),MDe=DOe(240),DDe=DOe(241),NDe=DOe(242),LDe=DOe(243),BDe=DOe(244),$De=DOe(246),FDe=DOe(247),jDe=DOe(250),WDe=DOe(251),UDe=DOe(252),VDe=DOe(253),qDe=DOe(254),zDe=NOe(1),GDe=NOe(2),HDe=NOe(3),KDe="",QDe="",JDe="",XDe="{}",YDe="",ZDe="",eNe="{}";function tNe(e){KDe?e&&e(KDe):ge&&H.clientVersion<654315827?qu("getOAID",{success(t){/:ok/.test(t.errMsg)?(KDe=t.result||"",e&&e(KDe)):e&&e("")},fail(){e&&e("")}}):e&&e("")}function rNe(e=""){return new Promise(((t,r)=>{ge&&H.clientVersion>=654315827||ve&&H.clientVersion>=385879808?qu("getDeviceInfo",{waidPkg:e,success(e){KDe=e.oaid||"",QDe=e.imei||"",ZDe=e.waid||"",YDe=e.ua||"",eNe=e.devIdInfo||"{}";try{XDe=JSON.stringify({...JSON.parse(eNe),...YDe?{ua:YDe}:{}})}catch(e){r(e)}t({oaid:KDe,imei:QDe,commonid:XDe,waid:ZDe})},fail(e){r(e)}}):t({oaid:KDe,imei:QDe,commonid:XDe,waid:ZDe})}))}function nNe(e=""){return new Promise(((t,r)=>{var n="",i="";IS_ANDROID&&WXConfig.clientVersion>=654316032?invokeMethod("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",i=e.imei||"",t({waid:n,imei:i})},fail(e){r(e)}}):t({waid:n,imei:i})}))}var iNe=()=>{var e=X_();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":H.deviceOrientation&&/^landscape/.test(H.deviceOrientation)?"landscape":H.deviceOrientation||"portrait"},aNe={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}]},oNe=e=>[20267].includes(Number(e)),sNe=e=>{var t=aNe[e.toString()];return t?t.concat([]):[]},lNe="",cNe=he,uNe="",dNe="",pNe="",hNe="",fNe="",gNe="",vNe=!0,mNe="",yNe="";H.onReady((()=>{lNe=iNe()||"";var e=J_();uNe=e.system,dNe=e.version,pNe=e.SDKVersion,fNe=e.model,gNe=e.brand,vNe=Oe();try{yNe=H.accountInfo.appId,hNe=r.updateTime}catch(e){}}));var _Ne=({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),T.reportIDKeyDirectly({id:t||924,key:e,force:!0})},bNe=({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}return wNe(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})},wNe=(e,t)=>{var r=sNe(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:yNe,appid:yNe,orig_weapp_id:"",network_type:mNe,wechat_version:dNe,platform:cNe,system_version:uNe,device_orientation:lNe,wxapp_lib_version:pNe,wxapp_lib_time:hNe,machine_type:fNe,ad_platform:vNe?1:0},t),t=Object.assign({DeviceModel:fNe,DeviceBrand:gNe,OsName:cNe,OsVersion:uNe},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),xd({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:r})}}).catch((e=>{}))},SNe=(e,t,r)=>{_Ne({key:e}),bNe({key:e,extInfo:t,reportData:r})},CNe={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:he,isWaGame:!0,isApp:!1,isIOS:ve,isAndroid:ge,isWindows:me,isMac:ye,isPC:be,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},INe={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""};h.onLoad((()=>{CNe.startTime=new Date,INe.enterForegroundTime=new Date}));var ANe=()=>bOe(CNe,["oaid","imei","idfa","common_device_id"]),kNe=()=>{var e=h_();return CNe.screenWidth=e.screenWidth,CNe.screenHeight=e.screenHeight,CNe.deviceOrientation=CNe.screenWidth>CNe.screenHeight?"landscape":"portrait",CNe.deviceOrientation},ENe=()=>{},TNe=()=>ENe(),PNe=()=>new Promise((e=>{ENe=e})),xNe=()=>new Promise((e=>{tNe((t=>{CNe.oaid=t,e()}))})),ONe=()=>new Promise((e=>{rNe().then((({imei:t,oaid:r,commonid:n})=>{ve?CNe.idfa=t:ge&&(CNe.oaid=r,CNe.imei=t),CNe.common_device_id=n||"{}",e(),PNe().then((()=>{SNe(KRe)}))})).catch((t=>{e(),PNe().then((()=>{SNe(GRe,t)}))}))})),RNe=()=>new Promise((e=>{H.onReady((()=>{var t;CNe.safeArea=H.safeArea||{},CNe.startTime=new Date,CNe.deviceOrientation=iNe()||"",CNe.envVersion=H.envVersion;var n=J_(),i=X_();CNe.screenWidth=i.screenWidth||0,CNe.screenHeight=i.screenHeight||0,CNe.systemVersion=n.system,CNe.wechatVersion=n.version,CNe.SDKVersion=n.SDKVersion,CNe.brand=n.brand,CNe.model=n.model,CNe.isIPad=null===(t=n.model)||void 0===t?void 0:t.includes("iPad"),CNe.isWaGame=Oe(),CNe.isApp=De();try{CNe.gameAppId=H.accountInfo.appId,CNe.SDKVersionTime=r.updateTime}catch(e){}Promise.all([xNe(),ONe()]).then((()=>e(CNe)))}))})),MNe=RNe(),DNe=e=>{var t=Object.keys(e);for(var r of t)CNe[r]=e[r]},NNe,LNe,BNe,$Ne,FNe,jNe,WNe;try{tT((({webviewId:e,openType:t,path:r})=>{CNe.isWaGame||(INe.lastWebviewId=INe.currentWebviewId,INe.currentWebviewId=e||0,INe.currentOpenType=t,INe.weappPath=r)}))}catch{}var UNe=()=>({gameTouchStartPosX:NNe,gameTouchStartPosY:LNe,gameTouchEndPosX:BNe,gameTouchEndPosY:$Ne,gameTouchInterval:FNe,gameTouchStartTime:jNe,gameTouchEndTime:WNe}),VNe=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(NNe=Math.round(e.changedTouches[0].clientX),LNe=Math.round(e.changedTouches[0].clientY),BNe=0,$Ne=0,FNe=0,jNe=+new Date)},qNe=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(BNe=Math.round(e.changedTouches[0].clientX),$Ne=Math.round(e.changedTouches[0].clientY),FNe=+new Date-jNe,WNe=+new Date)},zNe=()=>{pOe.offTouchStart(VNe),pOe.offTouchEnd(qNe)};zA((({scene:e})=>{INe.enterForegroundTime=new Date,INe.currentScene=e})),ik((()=>{INe.gameDuration+=Date.now()-INe.enterForegroundTime.getTime()}));class GNe extends FSe{constructor({id:e,style:t,src:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:wp(this.src)})}}class HNe{constructor(){this.emitter=new jt({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=E.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}var KNe={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},QNe=0,JNe={};H.onReady((()=>{QNe=H.appType+1e3,JNe=H.appLaunchInfo}));var XNe={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},YNe=({component:e,eventName:t,eventData:r,src:n=""}={})=>{var i=lv(),a=H.SDKVersion||"",o=Object.keys(JNe.query||{}).map((e=>`${e}=${JNe.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),JNe.scene,"",JNe.sessionid||JNe.sessionId,JNe.path,o,i,a,KNe[e],XNe[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),QNe].join(",");T.reportKeyValue({key:"MediaCompStatus",value:l})},ZNe={},eLe=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];ge&&eLe.push("onVideoFullScreenChange");var tLe=(e,t,r)=>{"ad"!==e.scene&&YNe({component:"video",eventName:t,eventData:r,src:e.src})};class rLe extends LT{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,hide:o=!1,src:s,poster:l,referrerPolicy:c="no-referrer",initialTime:u=0,playbackRate:d=1,live:p=!1,objectFit:h="contain",controls:f=!0,showProgress:g=!0,showProgressInControlMode:v=g,autoplay:m=!1,muted:y=!1,loop:_=!1,customCache:b=!1,enableProgressGesture:w=!0,enablePlayGesture:S=!1,showCenterPlayBtn:C=!0,autoInsert:I=!0,scene:A="default",preLoad:k=!1,obeyMuteSwitch:E=!1,underGameView:T=!1,backgroundColor:P="#000000",playerHint:x="",zIndex:O,autoPauseIfNavigate:R=!0,autoPauseIfOpenNative:M=!0,independent:D=!1,dest:N=0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=I,this.playerHint=x,this.scene=A,this.preLoad=k,this.underGameView=T,this.zIndex=O,this.autoPauseIfOpenNative=M,this.autoPauseIfNavigate=R,this.customCache=b,this.independent=D,this.dest=N,ZNe[this.id]=this;var L=null;this.emitter=new HNe,this.deferred=[],this._buffered=0,this._position=0;var B={x:r,y:n,width:i,height:a,hide:o,src:s,poster:l,initialTime:u,playbackRate:d,live:p,objectFit:h,controls:f,showProgress:g,showProgressInControlMode:v,backgroundColor:P,autoplay:m,muted:y,loop:_,enableProgressGesture:w,enablePlayGesture:S,showCenterPlayBtn:C,obeyMuteSwitch:E,referrerPolicy:c};Object.keys(B).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>B[e],set:t=>{"src"!==e&&B[e]===t||(B[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(L),L=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),eLe.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,tLe(this,"onSrcSet",{}),new Promise(((e,t)=>{qu("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:wp(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{ve?setTimeout((()=>{qu("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):qu("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),eLe.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete ZNe[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent};return this.isSrcChanged&&(t.filePath=wp(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=wp(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&tLe(this,"onSrcSet",{}),new Promise(((t,r)=>{qu("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{qu("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}eLe.forEach((e=>{var t=e.replace("Video","");rLe.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");rLe.prototype[r]=function(t){this.emitter.off(e,t)}})),eLe.forEach((e=>{Yt(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=ZNe[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var i=t;"onVideoTimeUpdate"===e?(n._position=t.position,i={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(i={position:n._position,buffered:n._buffered}),tLe(n,e.replace("Video",""),i)}else n._buffered=t.buffered}))}));var nLe={};class iLe extends LT{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:u=!1,zIndex:d=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=i,this.height=a,this.scale=+l,this.hide=u,this.autoInsert=c,this.url=o,this.zIndex=d,this.emitter=new Ah("ImagePreviewer",!0),nLe[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return qu("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{qu("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{qu("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete nLe[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}Yt("onImagePreviewerLoadFail",(e=>{nLe[e.viewId].emitter.emit("onImageLoadFail",e)}));var aLe=new WeakMap,oLe=a.prototype.call.bind(WeakMap.prototype.get),sLe=a.prototype.call.bind(WeakMap.prototype.set),lLe=a.prototype.call.bind(WeakMap.prototype.delete),cLe=e=>oLe(aLe,e),uLe=function(e){var t=cLe(this),r={view:FSe,text:jSe,image:GNe,video:rLe,"image-previewer":iLe}[e.name],n="";e.attributes.id?n=CT(e.attributes.id):v.error(`${e.name} 缺少id`);var i=Object.keys(e.attributes).reduce(((r,i)=>{var a=e.attributes[i],o=CT(i);return"id"===i?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===i?(r.style=a.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(a)||(r[o]=""===a||"true"===a||"false"!==a&&a),r)}),{});i.name=n;var a=new r(i);return t[n]=a,e.children.forEach((e=>{var t=uLe.call(this,e);a.add(t)})),a},dLe=e=>{lLe(aLe,e)};class pLe{constructor(){sLe(aLe,this,{})}}var hLe=function(e,t,r){var n=cLe(this);n.xom=e,n.style=t,n.state=r,uLe.call(this,e)},fLe={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},gLe={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3};const vLe={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:gLe,adTypeName:{[gLe.AD_TYPE_BANNER]:"BANNER",[gLe.AD_TYPE_PORTAL]:"PORTAL",[gLe.AD_TYPE_ICON]:"ICON"},actionType:fLe,feedbackList:[{name:"不感兴趣",actionType:fLe.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:fLe.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}};var mLe=null,yLe=!1;function _Le(){var e=null;if(Oe()){var t=new Af.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else if(fe||be){e=(be?new Af.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d")}return e}function bLe(e,t){var r,n={};return qu("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function wLe(e,t){var r={};if(yLe)r=bLe(e,t);else if(mLe||(mLe=_Le()),mLe){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(mLe.font=n),r=mLe.measureText(e)}else yLe=!0,r=bLe(e,t);return r.width||0}var SLe=vLe.presetChars,CLe="PingFangSC-Regular, SF Pro Display, SF Pro Text";class ILe{constructor(){}getCharWidth(e,t){return(SLe[e]?SLe[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return ge?this.getTextWidthInAndroid(e,t):Math.ceil(wLe(e,t?{fontSize:t,fontFamily:CLe}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var i=0,a=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(i+l>r)break;a++,i+=l}return a}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:i=1}=t,a=[],o=0,s=e.substring(0,e.length);o<i;){var l=this.getMaxWordLength(s,r,n,!(o!==i-1)),c=o===i-1?this.limitString(s,l):s.substring(0,l);c&&a.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(l,s.length)}return a}}const ALe=new ILe;var kLe=new Ah("playableads",!1);function ELe(e){kLe.on("playableStatusChange",e)}function TLe(e){kLe.off("playableStatusChange",e)}Rt("onPlayableStatusChange",(e=>{kLe.emit("playableStatusChange",e)}));var PLe=Qy("ad"),xLe={GameGlobal:pv,_onShow:zA,_onHide:ik,_offShow:GA,_offHide:ak,onBeforeHide:rk,onAfterHide:ok,offBeforeHide:nk,offAfterHide:sk,_downloadFileSkipCheckDomain:vm,touch:pOe,reportCanvasData:iP,ReportCanvasDataEventType:XT,checkAndUseAdSkipCard:gOe,_requestSkipCheckDomain:tw,onAppRoute:tT,showToast:gP,_getNetworkType:nv,getChannelsLiveInfo:qIe,_showModal:cP,getInitScreenSize:X_,getSystemInfoSync:h_,onAppRouteDone:AB,onWindowResize:vU,beginAudioInterruption:XX,endAudioInterruption:YX,__wxConfig:H,onNativeEvent:Yt,offNativeEvent:tr,onNetworkWeakChange:ov,getExptInfoSync:fR,addInnerShareCallbacks:Ove,onBeforeUnloadPage:NC,_onUserCaptureScreen:P9,getAdUxInfo:jr,getStableSystemInfo:J_,vibrateShort:cj,vibrateLong:uj,_gameTransfer:yOe,...N,webviewLayout:zSe,nativeviewLayout:GSe,View:FSe,Text:jSe,Image:GNe,Video:rLe,Component:pLe,initComponent:hLe,createComponent:uLe,getPrivateThis:cLe,removePrivateThis:dLe,invoke:Ur,invokeMethod:qu,beforeInvoke:yc,onMethod:Rt,publish:Or,subscribe:Br,invokeOperateWXDataPromise:xd,_invokeMethod:Yu,gametext:ALe,packageChannel:PLe,getGameTouchStatus:UNe,onPlayableStatusChange:ELe,offPlayableStatusChange:TLe,_getABTestConfig:kf,readdir:Uf,stat:Zh,unlink:Gf,writeFile:Lf,readFileSync:Nf,readFile:Df,access:qf,accessSync:zf,wxNativeConsole:v,wxConsole:f,console:console,_createInnerAudioContext:aZ,onPaymentCompletedPagePreload:OR,invokeOperateWXData:Pd};const OLe=xLe;Gxe({name:"ad",waLibName:"WAAppAd.js",compileType:"app",globalName:"AD",globalGetter:()=>({console:console,wxConsole:f,wxNativeConsole:v,__wxConfig:H,__errorTracer__:E,Reporter:T,Foundation:h,WeixinJSBridge:b,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!1,IS_WORKER:!1,wxRunOnDebug:d,__appServiceSDKAD__:OLe,readFile:Df}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd",noExportWx:!0},createInterstitialAd:{apiKey:"createInterstitialAd",noExportWx:!0},createCustomAd:{apiKey:"createCustomAd",noExportWx:!0},preloadAd:{apiKey:"preloadAd",noExportWx:!1}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/app-ad.js",onInjectCallback:()=>{Gy("ad",qy.injected)},emptyInjectKey:"inject"});var RLe=e=>{loadSdkSubPackage(e,getAllRegisterdSubPackageInfos()[e])},MLe=()=>{_loadAllSdkSubPackage(getAllRegisterdSubPackageInfos())},DLe=e=>{aOe(e)},NLe,LLe,BLe;function $Le(e){NLe=e}function FLe(){return NLe}H.onReady((()=>{var e=ULe(H.appLaunchInfo||{});LLe=e.appLaunchInfo,BLe=e.publicLaunchInfo}));var jLe=()=>BLe,WLe=()=>LLe;function ULe(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=DP.set(t.shareKey,t.shareName),DP.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),!1===e.reLaunch&&(n={}),void 0===e.reLaunch&&"hide"===FLe()&&(n={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!bf("getGroupToolbarInfo")&&(r=1008);var i={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(i.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),H.debugLaunchInfo&&H.debugLaunchInfo.lanDebugInfo&&!1!==H.debugLaunchInfo.lanDebugInfo.useStaticServer&&(i.lanDebugInfo=H.debugLaunchInfo.lanDebugInfo),e.chatType&&(i.chatType=e.chatType),i.referrerInfo&&"wxb6d22f922f37b35a"===i.referrerInfo.appId&&(i.referrerInfo={}),{publicLaunchInfo:i,appLaunchInfo:e}}var VLe="wxfile://__wxprivate__",qLe=`${VLe}/app_info/`,zLe=`${qLe}app_meta.json`,GLe=dd(Df),HLe=dd(Lf),KLe=dd(qf),QLe=dd(Gf),JLe=dd($f),XLe=function(){var e=Hp()((function*(){try{yield KLe({path:qLe})}catch(e){yield JLe({recursive:!0,dirPath:qLe})}try{var{data:e}=yield GLe({filePath:zLe,encoding:"utf8"});return JSON.parse(e)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),YLe=[1011,1013,1047,1049,1065,1194,1069],ZLe=null,eBe=!1;H.onReady(Hp()((function*(){if(1248===H.appLaunchInfo.scene){var e,{publicLaunchInfo:t}=ULe(H.appLaunchInfo||{}),{migrateSourceAppId:r,migrateSourceAppIdIsStared:n,migrateSourcePath:i,migrateSourceScene:a}=t.query;if(null!=i&&null!==(e=i.endsWith)&&void 0!==e&&e.call(i,".html")&&(t.query.migrateSourcePath=i.slice(0,-5)),delete t.query.migrateSourceAppIdIsStared,YLe.includes(Number(a)))return;rBe();var o=[r,H.accountInfo.appId],s=XLe(),c=tBe(o);Promise.all([s,c]).then((([e,t])=>{t[0].migrateSourceAppIdIsStared=n,e&&e.has_migrate&&!eBe||l.initScl((r=>{var n=r.mainRoot.append("miniprogram-migrate",{oldAppInfo:t[0],newAppInfo:t[1]});n.addListener("confirm",(()=>{var t=e;e||(t={}),t.has_migrate=!0,HLe({filePath:zLe,data:JSON.stringify(t)}).catch((e=>{v.warn("write migrate appinfo error: ",e)}))})),n.addListener("goFeedback",(()=>{var e={};e.url=`https://mp.weixin.qq.com/wxawap/wapreportwxadevlog?action=complain_feedback&appid=${H.accountInfo.appId}`,MM(e)}))}),!0)})).catch((e=>{v.warn("getMigrateInfo error: ",e)}))}})));var tBe=e=>{var t=e.map((e=>new Promise(((t,r)=>{if(ge){var n=["RegisterSource.RegisterBody","WxaAppInfo.RoundedSquareIconUrl","base.nickName"].map((t=>new Promise(((r,n)=>{qu("getAppContact",{keyPath:t,appId:e,..."base.nickName"===t||"WxaAppInfo.RoundedSquareIconUrl"===t?{appid:e}:{},success(e){"base.nickName"===t?e={data:e.base.nickName}:"WxaAppInfo.RoundedSquareIconUrl"===t&&(e={data:e.base.iconUrl}),r(e)},fail(e){n(e)}})}))));Promise.all(n).then((e=>{var r={body:e[0].data,icon:e[1].data,nickname:e[2].data};t(r)})).catch((e=>{r(e)}))}else qu("getAppContact",{appId:e,success(e){var r,n=JSON.parse(e.data),i={body:n.RegisterSource.RegisterBody,icon:n.WxaAppInfo.RoundedSquareIconUrl,nickname:null===(r=e.base)||void 0===r?void 0:r.nickName};t(i)},fail(e){r(e)}})}))));return Promise.all(t)},rBe=e=>xd({sdkApiName:"checkwxauserstarwxa",apiName:"webapi_checkwxauserstarwxa",reqData:{origin_appid:e,busitype:1}}).then((e=>{v.warn("checkwxauserstarwxa res: ",e)})).catch((e=>{v.warn("checkwxauserstarwxa error: ",e)})),nBe=dd(Df),iBe=dd(Lf),aBe=dd(qf),oBe=dd($f),sBe=dd(Gf),lBe=dd(Uf),cBe="wxfile://__wxprivate__",uBe=`${cBe}/youngboy_aiad`,dBe=function(){var e=Hp()((function*(){var e=yield lBe({dirPath:uBe}),t=[];return e.files.forEach((e=>{t.push(Number(e))})),t.sort(((e,t)=>e-t)),t}));return function(){return e.apply(this,arguments)}}(),pBe=function(){var e=Hp()((function*(){var e=yield dBe();if(!(e.length<=5)){var t=e.slice(0,e.length-5);for(var r of t)yield sBe({filePath:`${uBe}/${r}`})}}));return function(){return e.apply(this,arguments)}}(),hBe=function(){var e=Hp()((function*(e){try{var{data:t}=yield nBe({filePath:`${uBe}/${e}`,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(t){return e.apply(this,arguments)}}(),fBe=function(){var e=Hp()((function*(e,t,r){try{yield aBe({path:uBe})}catch(e){yield oBe({dirPath:uBe})}yield pBe();var n=yield hBe(e),i=r.value?r.value:JSON.stringify(Object.assign({},r,{key:void 0}));if(n){var a=n[t];if(a){var o=!1;for(var s of a)if(s.key===r.key){o=!0;break}o||a.push({key:r.key,value:i})}else n[t]=[{key:r.key,value:i}];yield iBe({filePath:`${uBe}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}else{var l={[t]:[{key:r.key,value:i}]};yield iBe({filePath:`${uBe}/${e}`,data:JSON.stringify(l),encoding:"utf8"})}}));return function(t,r,n){return e.apply(this,arguments)}}(),gBe=function(){var e=Hp()((function*(e,t,r){try{var n=yield hBe(e);if(!n||!n[t])return;var i=n[t].findIndex((e=>e.key===r));-1!==i&&n[t].splice(i,1),v.warn("removeLocalCache: ",n),yield iBe({filePath:`${uBe}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}catch(e){}}));return function(t,r,n){return e.apply(this,arguments)}}(),vBe,mBe=!1,yBe={},_Be={},bBe=()=>{var e=Mbe();if(e){if(xbe()){var t=Nbe();vBe=t.__apply_release_config__?null:t}}else null===e&&(vBe=null,Dbe(!1));return vBe?Promise.resolve(vBe):mBe?(vBe={},Promise.resolve(vBe)):xd({apiName:"webapi_getaiadconfig"}).then((e=>{var t=e.data.info_list;t.map((e=>({unitId:e.unit_id,type:"banner"}))).length;var r={};return t.forEach((e=>{var t=e.path,n="string"==typeof e.path&&e.path.indexOf("?");!1!==n&&-1!==n&&(e.path=t=e.path.slice(0,n)),r[t]=e,r[t].unitId=e.unit_id})),vBe=r})).catch((e=>{}))},wBe=(e,t)=>{var r=e,n=()=>bBe().then((e=>{if(!e)return null;var n=[];return e[r]?(_Be[t]=!0,SBe(r).then((e=>{n=e})).catch((e=>{v.warn("[aiad system] getCompileInfo error:",e,r)})).then((()=>{if(e[r])return{unitId:e[r].unit_id,compileInfos:n,useReleaseAd:!0}}))):e["*"]?{unitId:Obe()}:e["**"]?{unitId:void 0,useReleaseAd:!0}:null})),i=Wbe();return ht(i)?Mbe()?i.then((e=>n())):Promise.resolve(null):Mbe()?n():Promise.resolve(null)},SBe=e=>{var t=yBe[e];if(t){t.forEach((e=>e.__local=!0));var r=t.map((e=>e.value));return r.__local=!0,Promise.resolve(r)}return new Promise((t=>{lF({success(r){var n=r.data;hBe(n).then((r=>{if(r&&(r=r[e]),r&&r.length){var i=[];yBe[e]||(yBe[e]=[]),r.forEach((({key:t,value:r})=>{yBe[e]||(yBe[e]=[]),yBe[e].push({key:t,value:r,__local:!0}),i.push(r)})),t(i)}else xd({sdkApiName:"",apiName:"webapi_getaiadtempcache",reqData:{page:e,version:Number(n)}}).then((r=>{var i=[];r.errno||r.err_code||r.data.value_list.forEach((t=>{if(t.key&&t.value){var r=t.key.indexOf("-");if(-1!==r)t.key.slice(r+1)==n&&(i.push(t.value),yBe[e]||(yBe[e]=[]),yBe[e].push({key:t.key,value:t.value}))}}));return t(i)})).catch((e=>{v.warn("[aiad system] webapi_getaiadtempcache fail: ",e),t()}))}))}})}))},CBe=(e,t,r,n=!1)=>{var i;(i=Hp()((function*(){for(var n of t)yield fBe(r,e,n)})),function(){return i.apply(this,arguments)})();var a=[];t.forEach(function(){var e=Hp()((function*(e){var t=e.key;t||v.warn("[aiad system] write cache info not set key");var r=JSON.stringify(Object.assign({},e,{key:void 0}));yBe[t]=r,n||a.push({key:t,value:r})}));return function(t){return e.apply(this,arguments)}}()),a.length&&xd({sdkApiName:"",apiName:"webapi_setaiadtempcache",reqData:{page:e,value_list:a,version:Number(r)}}).catch((e=>{v.warn("[aiad system] setCompileInfos error: ",e)}))},IBe=(e,t,r=!1)=>{"release"===H.envVersion&&lF({success(n){var i=n.data;t.forEach((e=>{e.key+="-"+i})),CBe(e,t,i,r)}})},ABe={};Mr("aiadStatusChange",((e,t)=>{var{platformId:r,status:n,result:i}=e.data,a=e.options.timestamp,o=String(t)+"-"+r;TBe({status:n,timestamp:a,result:i},o)}));var kBe=(e,t,r)=>{var n=String(e)+"-"+t;ABe[n]=r},EBe=(e,t)=>{var r=String(e)+"-"+t;ABe[r]=null},TBe=(e,t)=>{var r=ABe[t];r&&r(e)},PBe,xBe=({page:e,ads:t=[]})=>{PBe||(PBe=It());var r={entity:1,for:2},n=t.map((t=>({path:e,path_slot_index:t.platformId,screen:Number(t.screen.toFixed(3)),adType:r[t.type]})));lF({success(e){var t=Number(e.data);xd({apiName:"webapi_addusableaiaditemlist",reqData:{session_id:PBe,ad_list:n,version:t}}).then((e=>{v.warn("webapi_addusableaiaditemlist success: ",e)})).catch((e=>{v.warn("webapi_addusableaiaditemlist err: ",e)}))}})},OBe=({allCostTime:e,isExposure:t,position:r,applyCompileCache:n,algorithmPosition:i,adPullCost:a,realComputeCostTime:o,cacheCostTime:s,insertResult:l,adType:c,inScrollView:u,cacheComputeResult:d,page:p,sessionId:h,resultType:f,platformId:g})=>{var m;u=u?1:0,s=null!==(m=s)&&void 0!==m?m:0,d=d?1:0,l=l?1:0,n=n?1:0,t=t?1:0,r=1e3*Number(r),v.warn({allCostTime:e,isExposure:t,position:r,applyCompileCache:n,algorithmPosition:i,adPullCost:a,realComputeCostTime:o,cacheCostTime:s,insertResult:l,adType:c,inScrollView:u,cacheComputeResult:d,page:p,sessionId:h,resultType:f,platformId:g});var y=[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g].map(du(1024)).join(",");T.reportKeyValue({key:"AiadAnalyse",value:y})},RBe={};Br("requestAIAD",((e,t)=>{var r=Vbe[t];wBe(r,t).then((e=>{e&&(e.mpPreview=!!Wbe(),e.mpPreview&&_P({title:"智能广告计算中",mask:!0}),Or("responseAIAD",e,[t]))})).catch((e=>{}))})),Br("sendAiAdResponse",((e,t)=>{var r=Vbe[t],n=e.vPathLists,i=e.applyPreCompileCache,a=e.result,o=e.realInsertCostTime,s=e.cacheCostTime,l=e.alghrithmEndTimestamp,c=e.algorithmStartTimestamp,u=e.invalidCompileCacheApplyList,d=e.existAd;if(bP(),!!RBe[r]||(RBe[r]={result:a}),u.length&&lF({success(e){var t=e.data;u.forEach((e=>{var n=yBe[r][e.idx];gBe(t,r,n.key)}))}}),i){var p=e.compileCacheApplyList,h=[];p.forEach((n=>{var i,o=It(),s=n.idx,u=yBe[r][s],d=n.platformId,{key:p,__local:f}=u;a&&!f&&h.push({key:p,value:u.value}),kBe(t,d,(e=>{2===e.status?(OBe({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:p,position:n.screen,cacheCostTime:n.cost,sessionId:o,adType:n.adType,page:r,resultType:1,adPullCost:i,inScrollView:n.inScrollView?1:0,platformId:d,cacheComputeResult:!0,isExposure:!0}),EBe(t,d)):1===e.status&&(i=e.timestamp-l,e.result||(i=-i,OBe({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:p,position:n.screen,cacheCostTime:n.cost,sessionId:o,adType:n.adType,page:r,resultType:1,adPullCost:i,inScrollView:n.inScrollView?1:0,platformId:d,cacheComputeResult:!0,isExposure:!1}),EBe(t,d)))})),OBe({allCostTime:e.cacheCostTime,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:p,position:n.screen,cacheCostTime:n.cost,sessionId:o,adType:n.adType,page:r,resultType:0,adPullCost:0,inScrollView:n.inScrollView?1:0,platformId:d,cacheComputeResult:!0})})),h.length&&IBe(r,h,!0)}else{if(_Be[t]&&a&&IBe(r,n),Wbe())if(a)gP({title:"智能广告插入成功",icon:"success",duration:1500}),xBe({page:r,ads:n});else if(!RBe[r].noPrompt){cP({title:"智能广告插入失败",content:d?"当前页面已有广告组件，暂不支持插入智能广告":"当前页面无法插入，请尝试浏览其他页面",confirmText:"我知道了",cancelText:"本页不再提示",success(e){e.cancel&&(RBe[r].noPrompt=!0)},__sdk_inner_allowShowMoreLength__:!0})}n.forEach((e=>{var n,i=It(),u=0;"entity"===e.type?u=1:"for"===e.type&&(u=2);var d=e.platformId;kBe(t,d,(p=>{2===p.status?(OBe({allCostTime:p.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:i,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:d,adType:u,cacheCostTime:s,isExposure:!0}),EBe(t,d)):1===p.status&&(n=p.timestamp-l,p.result||(n=-n,OBe({allCostTime:p.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:i,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:d,adType:u,cacheCostTime:s,isExposure:!1}),EBe(t,d)))})),OBe({allCostTime:o,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:i,position:e.screen,algorithmPosition:e.key,page:r,resultType:0,adPullCost:0,inScrollView:e.inScrollView,platformId:d,adType:u,cacheCostTime:s})}))}}));var MBe=new Map,DBe=(e,t)=>(!Array.isArray(t.apptype_black)||!t.apptype_black.includes(e))&&(Array.isArray(t.apptype_white)&&t.apptype_white.includes(e),!0);H.onReady((e=>{var t=e.appType;JS().then((e=>{var r,n=null===(r=e.data)||void 0===r?void 0:r.func_ban_conf;if(n){var{api_list:i=[]}=n;for(var a of i)DBe(t,a)&&MBe.set(a.wxapi,a)}}))}));var NBe=e=>{var t=MBe.get(e.api);if(!t)return[!1];switch(t.ban_type){case 1:if(!t.modal_act)break;var{title:r,content:n,confirm_text:i="确定"}=t.modal_act;cP({title:r,content:n,confirmText:i},!0);break;case 2:if(!t.toast_act)break;var{title:a,icon:o,duration:s,mask:l}=t.toast_act;fP({title:a,icon:o,duration:s,mask:l},!0)}return[!0,"banned"]},LBe,BBe,$Be,FBe,jBe,WBe,UBe,VBe,qBe,zBe,GBe,HBe,KBe,QBe,JBe,XBe,YBe,ZBe,e$e,t$e,r$e,n$e,i$e,a$e,o$e,s$e,l$e,c$e,u$e,d$e,p$e,h$e,f$e,g$e,v$e,m$e,y$e,_$e,b$e,w$e,S$e,C$e,I$e,A$e,k$e,E$e,T$e,P$e,x$e,O$e,R$e,M$e,D$e,N$e,L$e,B$e,$$e,F$e,j$e,W$e,U$e,V$e,q$e,z$e,G$e,H$e,K$e,Q$e,J$e,X$e,Y$e,Z$e,eFe,tFe,rFe,nFe,iFe,aFe,oFe,sFe,lFe,cFe,uFe,dFe,pFe,hFe,fFe,gFe,vFe,mFe,yFe,_Fe,bFe,wFe,SFe,CFe,IFe,AFe,kFe,EFe,TFe,PFe,xFe,OFe,RFe,MFe,DFe,NFe,LFe,BFe,$Fe,FFe,jFe,WFe,UFe,VFe,qFe,zFe,GFe,HFe,KFe,QFe,JFe,XFe,YFe,ZFe,eje,tje,rje,nje,ije,aje,oje,sje,lje,cje,uje,dje,pje,hje,fje,gje,vje,mje,yje,_je,bje,wje,Sje,Cje,Ije,Aje,kje,Eje,Tje,Pje,xje,Oje,Rje,Mje,Dje,Nje,Lje,Bje,$je,Fje,jje,Wje,Uje,Vje,qje,zje,Gje,Hje,Kje,Qje,Jje,Xje,Yje,Zje,eWe,tWe,rWe,nWe,iWe,aWe,oWe,sWe,lWe,cWe,uWe,dWe,pWe,hWe,fWe,gWe,vWe,mWe,yWe,_We,bWe,wWe,SWe,CWe,IWe,AWe,kWe,EWe,TWe,PWe,xWe,OWe,RWe,MWe,DWe,NWe,LWe,BWe,$We,FWe,jWe,WWe,UWe,VWe,qWe,zWe,GWe,HWe,KWe,QWe,JWe,XWe,YWe,ZWe,eUe,tUe,rUe,nUe,iUe,aUe,oUe,sUe,lUe,cUe,uUe,dUe,pUe,hUe,fUe,gUe,vUe,mUe,yUe,_Ue,bUe,wUe,SUe,CUe,IUe,AUe,kUe,EUe,TUe,PUe,xUe,OUe,RUe,MUe,DUe,NUe,LUe,BUe,$Ue,FUe,jUe,WUe,UUe,VUe,qUe,zUe,GUe,HUe,KUe,QUe,JUe,XUe,YUe,ZUe,eVe,tVe,rVe,nVe,iVe,aVe,oVe,sVe,lVe,cVe,uVe,dVe,pVe,hVe,fVe,gVe,vVe,mVe,yVe,_Ve,bVe,wVe,SVe,CVe,IVe,AVe,kVe,EVe,TVe,PVe,xVe,OVe,RVe,MVe,DVe,NVe,LVe,BVe,$Ve,FVe,jVe,WVe,UVe,VVe,qVe,zVe,GVe,HVe,KVe,QVe,JVe,XVe,YVe,ZVe,eqe,tqe,rqe,nqe,iqe,aqe,oqe,sqe,lqe,cqe,uqe,dqe,pqe,hqe,fqe,gqe,vqe,mqe,yqe,_qe,bqe,wqe,Sqe,Cqe,Iqe,Aqe,kqe,Eqe,Tqe,Pqe,xqe,Oqe,Rqe,Mqe,Dqe,Nqe,Lqe,Bqe,$qe,Fqe,jqe,Wqe,Uqe,Vqe,qqe,zqe,Gqe,Hqe,Kqe,Qqe,Jqe,Xqe,Yqe,Zqe,eze,tze,rze,nze,ize,aze,oze,sze,lze,cze,uze,dze,pze,hze,fze,gze,vze,mze,yze,_ze,bze,wze,Sze,Cze,Ize,Aze,kze,Eze,Tze,Pze,xze,Oze,Rze,Mze,Dze,Nze,Lze,Bze,$ze,Fze,jze,Wze,Uze,Vze,qze,zze,Gze,Hze,Kze,Qze,Jze,Xze,Yze,Zze,eGe,tGe,rGe,nGe,iGe,aGe,oGe,sGe,lGe,cGe,uGe,dGe,pGe,hGe,fGe,gGe,vGe,mGe,yGe,_Ge,bGe,wGe,SGe,CGe,IGe,AGe,kGe,EGe,TGe,PGe,xGe,OGe,RGe,MGe,DGe,NGe,LGe,BGe,$Ge,FGe,jGe,WGe,UGe,VGe,qGe,zGe,GGe,HGe,KGe,QGe,JGe,XGe,YGe,ZGe,eHe,tHe,rHe,nHe,iHe,aHe,oHe,sHe,lHe,cHe,uHe,dHe,pHe,hHe,fHe,gHe,vHe,mHe,yHe,_He,bHe,wHe,SHe,CHe,IHe,AHe,kHe,EHe,THe,PHe,xHe,OHe,RHe,MHe,DHe,NHe,LHe,BHe,$He,FHe,jHe,WHe,UHe,VHe,qHe,zHe,GHe,HHe,KHe,QHe,JHe,XHe,YHe,ZHe,eKe,tKe,rKe,nKe,iKe,aKe,oKe,sKe,lKe,cKe,uKe,dKe,pKe,hKe,fKe,gKe,vKe,mKe,yKe,_Ke,bKe,wKe,SKe,CKe,IKe,AKe,kKe,EKe,TKe,PKe,xKe,OKe,RKe,MKe,DKe,NKe,LKe,BKe,$Ke,FKe,jKe,WKe,UKe,VKe,qKe,zKe,GKe,HKe,KKe,QKe,JKe,XKe,YKe,ZKe,eQe,tQe,rQe,nQe,iQe,aQe,oQe,sQe,lQe,cQe,uQe,dQe,pQe,hQe,fQe,gQe,vQe,mQe,yQe,_Qe,bQe,wQe,SQe,CQe,IQe,AQe,kQe,EQe,TQe,PQe,xQe,OQe,RQe,MQe,DQe,NQe,LQe,BQe,$Qe,FQe,jQe,WQe,UQe,VQe,qQe,zQe,GQe,HQe,KQe,QQe,JQe,XQe,YQe,ZQe,eJe,tJe,rJe,nJe,iJe,aJe,oJe,sJe,lJe,cJe,uJe,dJe,pJe,hJe,fJe,gJe,vJe,mJe,yJe,_Je,bJe,wJe,SJe,CJe,IJe,AJe,kJe,EJe,TJe,PJe,xJe,OJe,RJe,MJe,DJe,NJe,LJe,BJe,$Je,FJe,jJe,WJe,UJe,VJe,qJe,zJe,GJe,HJe,KJe,QJe,JJe,XJe,YJe,ZJe,eXe,tXe,rXe,nXe,iXe,aXe,oXe,sXe,lXe,cXe,uXe,dXe,pXe,hXe,fXe,gXe,vXe,mXe,yXe,_Xe,bXe,wXe,SXe,CXe,IXe,AXe,kXe,EXe,TXe,PXe,xXe,OXe,RXe,MXe,DXe,NXe,LXe,BXe,$Xe,FXe,jXe,WXe,UXe,VXe,qXe,zXe,GXe,HXe,KXe,QXe,JXe,XXe,YXe,ZXe,eYe,tYe,rYe,nYe,iYe,aYe,oYe,sYe,lYe,cYe,uYe,dYe,pYe,hYe,fYe,gYe,vYe,mYe,yYe,_Ye,bYe,wYe,SYe,CYe,IYe,AYe,kYe,EYe,TYe,PYe,xYe,OYe,RYe,MYe,DYe,NYe,LYe,BYe,$Ye,FYe,jYe,WYe,UYe,VYe,qYe,zYe,GYe,HYe,KYe,QYe,JYe,XYe,YYe,ZYe,eZe,tZe,rZe,nZe,iZe,aZe,oZe,sZe,lZe,cZe,uZe,dZe,pZe,hZe,fZe,gZe,vZe,mZe,yZe,_Ze,bZe,wZe,SZe,CZe,IZe,AZe,kZe,EZe,TZe,PZe,xZe,OZe,RZe,MZe,DZe,NZe,LZe,BZe,$Ze,FZe,jZe,WZe,UZe,VZe,qZe,zZe,GZe,HZe,KZe,QZe,JZe,XZe,YZe,ZZe,e0e,t0e,r0e,n0e,i0e,a0e,o0e,s0e,l0e,c0e,u0e,d0e,p0e,h0e,f0e,g0e,v0e,m0e,y0e,_0e,b0e,w0e,S0e,C0e,I0e,A0e,k0e,E0e,T0e,P0e,x0e,O0e,R0e,M0e,D0e,N0e,L0e,B0e,$0e,F0e,j0e,W0e,U0e,V0e,q0e,z0e,G0e,H0e,K0e,Q0e,J0e,X0e,Y0e,Z0e,e1e,t1e,r1e,n1e,i1e,a1e,o1e,s1e,l1e,c1e,u1e,d1e,p1e,h1e,f1e,g1e,v1e,m1e,y1e,_1e,b1e,w1e,S1e,C1e,I1e,A1e,k1e,E1e,T1e,P1e,x1e,O1e,R1e,M1e,D1e,N1e,L1e,B1e,$1e,F1e,j1e,W1e,U1e,V1e,q1e,z1e,G1e,H1e,K1e,Q1e,J1e,X1e,Y1e,Z1e,e2e,t2e,r2e,n2e,i2e,a2e,o2e,s2e,l2e,c2e,u2e,d2e,p2e,h2e,f2e,g2e,v2e,m2e,y2e,_2e,b2e,w2e,S2e,C2e,I2e,A2e,k2e,E2e,T2e,P2e,x2e,O2e,R2e,M2e,D2e,N2e,L2e,B2e,$2e,F2e,j2e,W2e,U2e,V2e,q2e,z2e,G2e,H2e,K2e,Q2e,J2e,X2e,Y2e,Z2e,e3e,t3e,r3e,n3e,i3e,a3e,o3e,s3e,l3e,c3e,u3e,d3e,p3e,h3e,f3e,g3e,v3e,m3e,y3e,_3e,b3e,w3e,S3e,C3e,I3e,A3e,k3e,E3e,T3e,P3e,x3e,O3e,R3e,M3e,D3e,N3e,L3e,B3e,$3e,F3e,j3e,W3e,U3e,V3e,q3e,z3e,G3e,H3e,K3e,Q3e,J3e,X3e,Y3e,Z3e,e6e,t6e,r6e,n6e,i6e,a6e,o6e,s6e,l6e,c6e,u6e,d6e,p6e,h6e,f6e,g6e,v6e,m6e,y6e,_6e,b6e,w6e,S6e,C6e,I6e,A6e,k6e,E6e,T6e,P6e,x6e,O6e,R6e,M6e,D6e,N6e,L6e,B6e,$6e,F6e,j6e,W6e,U6e,V6e,q6e,z6e,G6e,H6e,K6e,Q6e,J6e,X6e,Y6e,Z6e,e5e,t5e,r5e,n5e,i5e,a5e,o5e,s5e,l5e,c5e,u5e,d5e,p5e,h5e,f5e,g5e,v5e,m5e,y5e,_5e,b5e,w5e,S5e,C5e,I5e,A5e,k5e,E5e,T5e,P5e,x5e,O5e,R5e,M5e,D5e,N5e,L5e,B5e,$5e,F5e,j5e,W5e,U5e,V5e,q5e,z5e,G5e,H5e,K5e,Q5e,J5e,X5e,Y5e,Z5e,e4e,t4e,r4e,n4e,i4e,a4e,o4e,s4e,l4e,c4e,u4e,d4e,p4e,h4e,f4e,g4e,v4e,m4e,y4e,_4e,b4e,w4e,S4e,C4e,I4e,A4e,k4e,E4e,T4e,P4e,x4e,O4e,R4e,M4e,D4e,N4e,L4e,B4e,$4e,F4e,j4e,W4e,U4e,V4e,q4e,z4e,G4e,H4e,K4e,Q4e,J4e,X4e,Y4e,Z4e,e7e,t7e,r7e,n7e,i7e,a7e,o7e,s7e,l7e,c7e,u7e,d7e,p7e,h7e,f7e,g7e,v7e,m7e,y7e,_7e,b7e,w7e,S7e,C7e,I7e,A7e,k7e,E7e,T7e,P7e,x7e,O7e,R7e,M7e,D7e,N7e,L7e,B7e,$7e,F7e,j7e,W7e,U7e,V7e,q7e,z7e,G7e,H7e,K7e,Q7e,J7e,X7e,Y7e,Z7e,e8e,t8e,r8e,n8e,i8e,a8e,o8e,s8e,l8e,c8e,u8e,d8e,p8e,h8e,f8e,g8e,v8e,m8e,y8e,_8e,b8e,w8e,S8e,C8e,I8e,A8e,k8e,E8e,T8e,P8e,x8e,O8e,R8e,M8e,D8e,N8e,L8e,B8e,$8e,F8e,j8e,W8e,U8e,V8e,q8e,z8e,G8e,H8e,K8e,Q8e,J8e,X8e,Y8e,Z8e,e9e,t9e,r9e,n9e,i9e,a9e,o9e,s9e,l9e,c9e,u9e,d9e,p9e,h9e,f9e,g9e,v9e,m9e,y9e,_9e,b9e,w9e,S9e,C9e,I9e,A9e,k9e,E9e,T9e,P9e,x9e,O9e,R9e,M9e,D9e,N9e,L9e,B9e,$9e,F9e,j9e,W9e,U9e,V9e,q9e,z9e,G9e,H9e,K9e,Q9e,J9e,X9e,Y9e,Z9e,eet,tet,ret,net,iet,aet,oet,set,cet,uet,det,pet,het,fet,get,vet,met,yet,_et,bet,wet,Cet,Iet,Aet,ket,Eet,Tet,Pet,xet,Oet,Ret,Met,Det,Net,Let,Bet,$et,Fet,jet,Wet,Uet,Vet,qet,zet,Get,Het,Ket,Qet,Jet,Xet,Yet,Zet,ett,ttt,rtt,ntt,itt,att,ott,stt,ltt,ctt,utt,dtt,ptt,htt,ftt,gtt,vtt,mtt,ytt,_tt,btt,wtt,Stt,Ctt,Itt,Att,ktt,Ett,Ttt,Ptt,xtt,Ott,Rtt,Mtt,Dtt,Ntt,Ltt,Btt,$tt,Ftt,jtt,Wtt,Utt,Vtt,qtt,ztt,Gtt,Htt,Ktt,Qtt,Jtt,Xtt,Ytt,Ztt,ert,trt,rrt;H.isIsolateContext||k.hijack();var{setStorage:nrt,setStorageSync:irt,plugin_setStorage:art,plugin_setStorageSync:ort,batchSetStorage:srt,batchSetStorageSync:lrt,plugin_batchSetStorage:crt,plugin_batchSetStorageSync:urt,getStorage:drt,getStorageSync:prt,plugin_getStorage:hrt,plugin_getStorageSync:frt,batchGetStorage:grt,batchGetStorageSync:vrt,plugin_batchGetStorage:mrt,plugin_batchGetStorageSync:yrt,getStorageInfo:_rt,getStorageInfoSync:brt,plugin_getStorageInfo:wrt,plugin_getStorageInfoSync:Srt,removeStorage:Crt,removeStorageSync:Irt,plugin_removeStorage:Art,plugin_removeStorageSync:krt,clearStorage:Ert,clearStorageSync:Trt,plugin_clearStorage:Prt,plugin_clearStorageSync:xrt}=L8;Exe(eval),wIe(),bO(),CEe(),IEe(),th(),JL(),yIe();var Ort=$w.connectSocket,Rrt=$w.closeSocket,Mrt=$w.sendSocketMessage,Drt=$w.onSocketOpen,Nrt=$w.onSocketClose,Lrt=$w.onSocketMessage,Brt=$w.onSocketError,$rt=lB,Frt=uB,jrt=dB,Wrt=hB,Urt=fB,Vrt=gB,qrt=mB,zrt=t4,Grt=r4,Hrt=O5,Krt=R5,Qrt=M5,Jrt=D5,Xrt=q5,Yrt=z5,Zrt=G5,ent=H5,tnt=V5,rnt=f4,nnt=g4,int=v4,ant=m4,ont=y4,snt=b4,lnt=w4,cnt=S4,unt=Fde,dnt=Wde,pnt=Ude,hnt=qde,fnt=Gde,gnt=Xde,vnt=zde,mnt=Hde,ynt=Yde,_nt=Zde,bnt=tpe,wnt=rpe,Snt=ipe,Cnt=ape,Int=DSe,Ant=MSe,knt=E9,Ent=R9,Tnt=M9,Pnt=LG,xnt=N9,Ont=D9,Rnt=L9,Mnt=$9,Dnt=F9,Nnt=j9,Lnt=cj,Bnt=uj,$nt=W9,Fnt=U9,jnt=V9,Wnt=q9,Unt=z9,Vnt=G9,qnt=H9,znt=gP,Gnt=mP,Hnt=_P,Knt=bP,Qnt=uP,Jnt=wP,Xnt=SP,Ynt=V0,Znt=q0,eit=z0,tit=Q0,rit=J0,nit=Y0,iit=Z0,ait=e1,oit=iL,sit=oL,lit=sL,cit=dL,uit=hL,dit=yL,pit=CB,hit=gL,fit=vL,git=K7,vit=Q7,mit=J7,yit=X7;function _it(e){var t;return()=>t=t||e()}var bit=(LBe=FA(),BBe=vTe(),$Be=OTe(),FBe=UTe(),jBe=uPe(),WBe=LTe(NBe),UBe=cPe(),VBe=bTe(.05),qBe=bTe(.05),zBe=bTe(.05),GBe=bTe(.05),HBe=bTe(.05),KBe=ETe(),QBe=bTe(.05),JBe=bTe(.05),XBe=bTe(.05),YBe=bTe(.05),ZBe=ETe(),e$e=bTe(.05),t$e=bTe(.05),r$e=bTe(.05),n$e=bTe(.05),i$e=ETe(),a$e=bTe(.05),o$e=bTe(.05),s$e=bTe(.05),l$e=bTe(.05),c$e=ETe(),u$e=bTe(.05),d$e=bTe(.05),p$e=bTe(.05),h$e=bTe(.05),f$e=ETe(),g$e=bTe(.05),v$e=bTe(.05),m$e=bTe(.05),y$e=bTe(.05),_$e=ETe(),b$e=bTe(.05),w$e=bTe(.05),S$e=bTe(.05),C$e=bTe(.05),I$e=ETe(),A$e=bTe(.05),k$e=bTe(.05),E$e=bTe(.05),T$e=bTe(.05),P$e=bTe(.05),x$e=bTe(.05),O$e=bTe(.05),R$e=ETe(),M$e=bTe(.05),D$e=ETe(),N$e=bTe(.05),L$e=ETe(),B$e=bTe(.05),$$e=bTe(.05),F$e=bTe(.05),j$e=ETe(),W$e=DTe(),U$e=bTe(.05),V$e=bTe(.05),q$e=ETe(),z$e=BTe(),G$e=bTe(.05),H$e=ETe(),K$e=BTe(),Q$e=bTe(.05),J$e=ETe(),X$e=bTe(.05),Y$e=bTe(.05),Z$e=bTe(.05),eFe=bTe(.05),tFe=bTe(.05),rFe=bTe(.05),nFe=bTe(.05),iFe=bTe(.05),aFe=bTe(.05),oFe=bTe(.05),sFe=ETe(),lFe=bTe(.05),cFe=ETe(),uFe=BTe(),dFe=bTe(.05),pFe=ETe(),hFe=bTe(.05),fFe=ETe(),gFe=bTe(.05),vFe=BTe(),mFe=bTe(.05),yFe=ETe(),_Fe=bTe(.05),bFe=bTe(.05),wFe=bTe(.05),SFe=bTe(.05),CFe=bTe(.05),IFe=bTe(.05),AFe=ETe(),kFe=bTe(.05),EFe=ETe(),TFe=bTe(.05),PFe=ETe(),xFe=bTe(.05),OFe=bTe(.05),RFe=bTe(.05),MFe=ETe(),DFe=bTe(.05),NFe=bTe(.05),LFe=ETe(),BFe=bTe(.05),$Fe=ETe(),FFe=bTe(.05),jFe=ETe(),WFe=bTe(.05),UFe=ETe(),VFe=bTe(.05),qFe=ETe(),zFe=bTe(.05),GFe=GTe(),HFe=ETe(),KFe=bTe(.05),QFe=bTe(.05),JFe=bTe(.05),XFe=bTe(.05),YFe=bTe(.05),ZFe=bTe(.05),eje=bTe(.05),tje=bTe(.05),rje=bTe(.05),nje=bTe(.05),ije=bTe(.05),aje=bTe(.05),oje=bTe(.05),sje=ETe(),lje=bTe(.05),cje=bTe(.05),uje=bTe(.05),dje=bTe(.05),pje=bTe(.05),hje=bTe(.05),fje=bTe(.05),gje=BTe(),vje=bTe(.05),mje=ETe(),yje=zTe("permission"),_je=bTe(.05),bje=ETe(),wje=zTe("permission"),Sje=bTe(.05),Cje=bTe(.05),Ije=ETe(),Aje=bTe(.05),kje=ETe(),Eje=bTe(.05),Tje=bTe(.05),Pje=bTe(.05),xje=bTe(.05),Oje=bTe(.05),Rje=ETe(),Mje=BTe(),Dje=bTe(.05),Nje=ETe(),Lje=DTe(),Bje=bTe(.05),$je=bTe(.05),Fje=bTe(.05),jje=bTe(.05),Wje=bTe(.05),Uje=bTe(.05),Vje=ETe(),qje=bTe(.05),zje=bTe(.05),Gje=bTe(.05),Hje=ETe(),Kje=bTe(.05),Qje=bTe(.05),Jje=bTe(.05),Xje=ETe(),Yje=bTe(.05),Zje=ETe(),eWe=bTe(.05),tWe=bTe(.05),rWe=bTe(.05),nWe=bTe(.05),iWe=bTe(.05),aWe=bTe(.05),oWe=bTe(.05),sWe=ETe(),lWe=bTe(.05),cWe=ETe(),uWe=bTe(.05),dWe=ETe(),pWe=bTe(.05),hWe=ETe(),fWe=bTe(.05),gWe=ETe(),vWe=bTe(.05),mWe=ETe(),yWe=bTe(.05),_We=ETe(),bWe=bTe(.05),wWe=ETe(),SWe=bTe(.05),CWe=ETe(),IWe=bTe(.05),AWe=bTe(.05),kWe=ETe(),EWe=bTe(.05),TWe=ETe(),PWe=bTe(.05),xWe=ETe(),OWe=bTe(.05),RWe=bTe(.05),MWe=bTe(.05),DWe=bTe(.05),NWe=ETe(),LWe=bTe(.05),BWe=ETe(),$We=bTe(.05),FWe=ETe(),jWe=bTe(.05),WWe=ETe(),UWe=bTe(.05),VWe=bTe(.05),qWe=bTe(.05),zWe=bTe(.05),GWe=bTe(.05),HWe=bTe(.05),KWe=bTe(.05),QWe=bTe(.05),JWe=bTe(.05),XWe=ETe(),YWe=bTe(.05),ZWe=ETe(),eUe=bTe(.05),tUe=ETe(),rUe=bTe(.05),nUe=ETe(),iUe=bTe(.05),aUe=ETe(),oUe=bTe(.05),sUe=ETe(),lUe=bTe(.05),cUe=bTe(.05),uUe=bTe(.05),dUe=bTe(.05),pUe=ETe(),hUe=bTe(.05),fUe=bTe(.05),gUe=zTe("permission"),vUe=zTe("permission"),mUe=bTe(.05),yUe=ETe(),_Ue=bTe(.05),bUe=ETe(),wUe=BTe(),SUe=bTe(.05),CUe=ETe(),IUe=bTe(.05),AUe=ETe(),kUe=bTe(.05),EUe=ETe(),TUe=bTe(.05),PUe=ETe(),xUe=bTe(.05),OUe=bTe(.05),RUe=bTe(.05),MUe=ETe(),DUe=bTe(.05),NUe=ETe(),LUe=bTe(.05),BUe=ETe(),$Ue=bTe(.05),FUe=ETe(),jUe=bTe(.05),WUe=ETe(),UUe=bTe(.05),VUe=ETe(),qUe=bTe(.05),zUe=ETe(),GUe=bTe(.05),HUe=ETe(),KUe=bTe(.05),QUe=ETe(),JUe=bTe(.05),XUe=ETe(),YUe=bTe(.05),ZUe=ETe(),eVe=bTe(.05),tVe=bTe(.05),rVe=bTe(.05),nVe=ETe(),iVe=bTe(.05),aVe=ETe(),oVe=bTe(.05),sVe=ETe(),lVe=bTe(.05),cVe=ETe(),uVe=BTe(),dVe=bTe(.05),pVe=ETe(),hVe=bTe(.05),fVe=bTe(.05),gVe=bTe(.05),vVe=bTe(.05),mVe=ETe(),yVe=bTe(.05),_Ve=ETe(),bVe=bTe(.05),wVe=ETe(),SVe=bTe(.05),CVe=bTe(.05),IVe=bTe(.05),AVe=bTe(.05),kVe=bTe(.05),EVe=bTe(.05),TVe=bTe(.05),PVe=bTe(.05),xVe=bTe(.05),OVe=bTe(.05),RVe=bTe(.05),MVe=ETe(),DVe=bTe(.05),NVe=ETe(),LVe=bTe(.05),BVe=ETe(),$Ve=bTe(.05),FVe=bTe(.05),jVe=bTe(.05),WVe=bTe(.05),UVe=bTe(.05),VVe=ETe(),qVe=bTe(.05),zVe=ETe(),GVe=bTe(.05),HVe=ETe(),KVe=bTe(.05),QVe=ETe(),JVe=bTe(.05),XVe=ETe(),YVe=bTe(.05),ZVe=bTe(.05),eqe=ETe(),tqe=bTe(.05),rqe=bTe(.05),nqe=bTe(.05),iqe=bTe(.05),aqe=bTe(.05),oqe=bTe(.05),sqe=bTe(.05),lqe=bTe(.05),cqe=ETe(),uqe=bTe(.05),dqe=ETe(),pqe=bTe(.05),hqe=ETe(),fqe=bTe(.05),gqe=ETe(),vqe=bTe(.05),mqe=bTe(.05),yqe=bTe(.05),_qe=bTe(.05),bqe=ETe(),wqe=bTe(.05),Sqe=ETe(),Cqe=bTe(.05),Iqe=bTe(.05),Aqe=bTe(.05),kqe=bTe(.05),Eqe=bTe(.05),Tqe=bTe(.05),Pqe=bTe(.05),xqe=bTe(.05),Oqe=bTe(.05),Rqe=bTe(.05),Mqe=ETe(),Dqe=dPe(),Nqe=bTe(.05),Lqe=ETe(),Bqe=dPe(),$qe=bTe(.05),Fqe=ETe(),jqe=dPe(),Wqe=bTe(.05),Uqe=ETe(),Vqe=dPe(),qqe=bTe(.05),zqe=ETe(),Gqe=dPe(),Hqe=bTe(.05),Kqe=bTe(.05),Qqe=bTe(.05),Jqe=bTe(.05),Xqe=bTe(.05),Yqe=bTe(.05),Zqe=bTe(.05),eze=bTe(.05),tze=bTe(.05),rze=bTe(.05),nze=bTe(.05),ize=bTe(.05),aze=bTe(.05),oze=bTe(.05),sze=ETe(),lze=bTe(.05),cze=bTe(.05),uze=ETe(),dze=bTe(.05),pze=ETe(),hze=bTe(.05),fze=bTe(.05),gze=bTe(.05),vze=ETe(),mze=bTe(.05),yze=ETe(),_ze=bTe(.05),bze=bTe(.05),wze=bTe(.05),Sze=bTe(.05),Cze=bTe(.05),Ize=bTe(.05),Aze=bTe(.05),kze=bTe(.05),Eze=bTe(.05),Tze=bTe(.05),Pze=bTe(.05),xze=bTe(.05),Oze=bTe(.05),Rze=bTe(.05),Mze=bTe(.05),Dze=bTe(.05),Nze=bTe(.05),Lze=bTe(.05),Bze=BTe(),$ze=bTe(.05),Fze=ETe(),jze=bTe(.05),Wze=ETe(),Uze=bTe(.05),Vze=ETe(),qze=BTe(),zze=bTe(.05),Gze=ETe(),Hze=bTe(.05),Kze=ETe(),Qze=bTe(.05),Jze=bTe(.05),Xze=BTe(),Yze=bTe(.05),Zze=ETe(),eGe=bTe(.05),tGe=ETe(),rGe=bTe(.05),nGe=ETe(),iGe=bTe(.05),aGe=ETe(),oGe=bTe(.05),sGe=ETe(),lGe=bTe(.05),cGe=BTe(),uGe=bTe(.05),dGe=ETe(),pGe=BTe(),hGe=bTe(.05),fGe=ETe(),gGe=bTe(.05),vGe=ETe(),mGe=bTe(.05),yGe=ETe(),_Ge=bTe(.05),bGe=ETe(),wGe=bTe(.05),SGe=bTe(.05),CGe=bTe(.05),IGe=bTe(.05),AGe=bTe(.05),kGe=bTe(.05),EGe=BTe(),TGe=zTe("declare"),PGe=bTe(.05),xGe=ETe(),OGe=BTe(),RGe=zTe("declare"),MGe=bTe(.05),DGe=bTe(.05),NGe=ETe(),LGe=BTe(),BGe=zTe("declare"),$Ge=bTe(.05),FGe=ETe(),jGe=BTe(),WGe=zTe("declare"),UGe=bTe(.05),VGe=ETe(),qGe=zTe("declare"),zGe=bTe(.05),GGe=bTe(.05),HGe=bTe(.05),KGe=bTe(.05),QGe=BTe(),JGe=zTe("declare"),XGe=bTe(.05),YGe=ETe(),ZGe=BTe(),eHe=zTe("declare"),tHe=bTe(.05),rHe=ETe(),nHe=bTe(.05),iHe=ETe(),aHe=bTe(.05),oHe=ETe(),sHe=bTe(.05),lHe=bTe(.05),cHe=bTe(.05),uHe=bTe(.05),dHe=bTe(.05),pHe=ETe(),hHe=bTe(.05),fHe=bTe(.05),gHe=bTe(.05),vHe=ETe(),mHe=bTe(.05),yHe=ETe(),_He=bTe(.05),bHe=bTe(.05),wHe=bTe(.05),SHe=bTe(.05),CHe=bTe(.05),IHe=bTe(.05),AHe=bTe(.05),kHe=ETe(),EHe=bTe(.05),THe=BTe(),PHe=bTe(.05),xHe=ETe(),OHe=bTe(.05),RHe=ETe(),MHe=bTe(.05),DHe=bTe(.05),NHe=BTe(),LHe=bTe(.05),BHe=ETe(),$He=bTe(.05),FHe=ETe(),jHe=bTe(.05),WHe=bTe(.05),UHe=BTe(),VHe=bTe(.05),qHe=ETe(),zHe=bTe(.05),GHe=ETe(),HHe=bTe(.05),KHe=bTe(.05),QHe=BTe(),JHe=bTe(.05),XHe=ETe(),YHe=bTe(.05),ZHe=ETe(),eKe=bTe(.05),tKe=bTe(.05),rKe=bTe(.05),nKe=ETe(),iKe=BTe(),aKe=bTe(.05),oKe=ETe(),sKe=BTe(),lKe=bTe(.05),cKe=ETe(),uKe=bTe(.05),dKe=ETe(),pKe=zTe("permission"),hKe=bTe(.05),fKe=bTe(.05),gKe=bTe(.05),vKe=bTe(.05),mKe=ETe(),yKe=bTe(.05),_Ke=ETe(),bKe=bTe(.05),wKe=ETe(),SKe=bTe(.05),CKe=ETe(),IKe=bTe(.05),AKe=ETe(),kKe=bTe(.05),EKe=bTe(.05),TKe=bTe(.05),PKe=BTe(),xKe=bTe(.05),OKe=ETe(),RKe=bTe(.05),MKe=ETe(),DKe=bTe(.05),NKe=ETe(),LKe=bTe(.05),BKe=bTe(.05),$Ke=bTe(.05),FKe=bTe(.05),jKe=bTe(.05),WKe=bTe(.05),UKe=bTe(.05),VKe=ETe(),qKe=bTe(.05),zKe=bTe(.05),GKe=bTe(.05),HKe=bTe(.05),KKe=BTe(),QKe=bTe(.05),JKe=ETe(),XKe=bTe(.05),YKe=ETe(),ZKe=xx(824,825),eQe=bTe(.05),tQe=ETe(),rQe=bTe(.05),nQe=ETe(),iQe=bTe(.05),aQe=GTe(),oQe=ETe(),sQe=DTe(),lQe=bTe(.05),cQe=bTe(.05),uQe=GTe(),dQe=ETe(),pQe=bTe(.05),hQe=ETe(),fQe=BTe(),gQe=bTe(.05),vQe=ETe(),mQe=DTe(),yQe=BTe(),_Qe=bTe(.05),bQe=ETe(),wQe=DTe(),SQe=xx(820,821),CQe=bTe(.05),IQe=ETe(),AQe=bTe(.05),kQe=bTe(.05),EQe=bTe(.05),TQe=bTe(.05),PQe=bTe(.05),xQe=bTe(.05),OQe=bTe(.05),RQe=bTe(.05),MQe=bTe(.05),DQe=bTe(.05),NQe=bTe(.05),LQe=bTe(.05),BQe=bTe(.05),$Qe=bTe(.05),FQe=bTe(.05),jQe=bTe(.05),WQe=ETe(),UQe=bTe(.05),VQe=bTe(.05),qQe=bTe(.05),zQe=bTe(.05),GQe=bTe(.05),HQe=bTe(.05),KQe=bTe(.05),QQe=bTe(.05),JQe=ETe(),XQe=bTe(.05),YQe=bTe(.05),ZQe=ETe(),eJe=bTe(.05),tJe=bTe(.05),rJe=bTe(.05),nJe=bTe(.05),iJe=bTe(.05),aJe=bTe(.05),oJe=bTe(.05),sJe=bTe(.05),lJe=bTe(.05),cJe=bTe(.05),uJe=bTe(.05),dJe=bTe(.05),pJe=bTe(.05),hJe=ETe(),fJe=bTe(.05),gJe=ETe(),vJe=bTe(.05),mJe=bTe(.05),yJe=bTe(.05),_Je=bTe(.05),bJe=bTe(.05),wJe=bTe(.05),SJe=bTe(.05),CJe=ETe(),IJe=bTe(.05),AJe=ETe(),kJe=bTe(.05),EJe=xx(810,811),TJe=bTe(.05),PJe=bTe(.05),xJe=bTe(.05),OJe=ETe(),RJe=bTe(.05),MJe=bTe(.05),DJe=ETe(),NJe=zTe("permission"),LJe=BTe(),BJe=zTe("declare"),$Je=bTe(.05),FJe=ETe(),jJe=bTe(.05),WJe=ETe(),UJe=bTe(.05),VJe=ETe(),qJe=bTe(.05),zJe=ETe(),GJe=bTe(.05),HJe=ETe(),KJe=bTe(.05),QJe=ETe(),JJe=bTe(.05),XJe=ETe(),YJe=bTe(.05),ZJe=bTe(.05),eXe=bTe(.05),tXe=bTe(.05),rXe=bTe(.05),nXe=ETe(),iXe=bTe(.05),aXe=ETe(),oXe=bTe(.05),sXe=ETe(),lXe=bTe(.05),cXe=bTe(.05),uXe=bTe(.05),dXe=bTe(.05),pXe=bTe(.05),hXe=bTe(.05),fXe=bTe(.05),gXe=bTe(.05),vXe=bTe(.05),mXe=bTe(.05),yXe=bTe(.05),_Xe=bTe(.05),bXe=bTe(.05),wXe=bTe(.05),SXe=bTe(.05),CXe=bTe(.05),IXe=bTe(.05),AXe=bTe(.05),kXe=bTe(.05),EXe=bTe(.05),TXe=ETe(),PXe=bTe(.05),xXe=bTe(.05),OXe=bTe(.05),RXe=bTe(.05),MXe=bTe(.05),DXe=ETe(),NXe=bTe(.05),LXe=bTe(.05),BXe=bTe(.05),$Xe=bTe(.05),FXe=bTe(.05),jXe=ETe(),WXe=bTe(.05),UXe=bTe(.05),VXe=bTe(.05),qXe=bTe(.05),zXe=ETe(),GXe=bTe(.05),HXe=ETe(),KXe=bTe(.05),QXe=ETe(),JXe=bTe(.05),XXe=ETe(),YXe=bTe(.05),ZXe=ETe(),eYe=bTe(.05),tYe=ETe(),rYe=bTe(.05),nYe=bTe(.05),iYe=bTe(.05),aYe=BTe(),oYe=bTe(.05),sYe=ETe(),lYe=BTe(),cYe=bTe(.05),uYe=ETe(),dYe=bTe(.05),pYe=bTe(.05),hYe=bTe(.05),fYe=bTe(.05),gYe=bTe(.05),vYe=bTe(.05),mYe=bTe(.05),yYe=bTe(.05),_Ye=bTe(.05),bYe=bTe(.05),wYe=bTe(.05),SYe=bTe(.05),CYe=ETe(),IYe=bTe(.05),AYe=bTe(.05),kYe=bTe(.05),EYe=bTe(.05),TYe=bTe(.05),PYe=bTe(.05),xYe=bTe(.05),OYe=bTe(.05),RYe=bTe(.05),MYe=bTe(.05),DYe=bTe(.05),NYe=bTe(.05),LYe=bTe(.05),BYe=bTe(.05),$Ye=bTe(.05),FYe=bTe(.05),jYe=bTe(.05),WYe=bTe(.05),UYe=bTe(.05),VYe=bTe(.05),qYe=bTe(.05),zYe=bTe(.05),GYe=bTe(.05),HYe=bTe(.05),KYe=bTe(.05),QYe=bTe(.05),JYe=bTe(.05),XYe=bTe(.05),YYe=bTe(.05),ZYe=bTe(.05),eZe=bTe(.05),tZe=bTe(.05),rZe=bTe(.05),nZe=bTe(.05),iZe=bTe(.05),aZe=bTe(.05),oZe=bTe(.05),sZe=bTe(.05),lZe=BTe(),cZe=xx(814,815),uZe=bTe(.05),dZe=bTe(.05),pZe=bTe(.05),hZe=xx(812,813),fZe=bTe(.05),gZe=xx(804,805),vZe=bTe(.05),mZe=xx(808,809),yZe=bTe(.05),_Ze=xx(802,803),bZe=bTe(.05),wZe=bTe(.05),SZe=xx(806,807),CZe=bTe(.05),IZe=xx(800,801),AZe=bTe(.05),kZe=bTe(.05),EZe=bTe(.05),TZe=bTe(.05),PZe=bTe(.05),xZe=bTe(.05),OZe=bTe(.05),RZe=bTe(.05),MZe=bTe(.05),DZe=bTe(.05),NZe=bTe(.05),LZe=ETe(),BZe=bTe(.05),$Ze=bTe(.05),FZe=bTe(.05),jZe=bTe(.05),WZe=bTe(.05),UZe=bTe(.05),VZe=bTe(.05),qZe=bTe(.05),zZe=BTe(),GZe=bTe(.05),HZe=ETe(),KZe=bTe(.05),QZe=bTe(.05),JZe=bTe(.05),XZe=bTe(.05),YZe=bTe(.05),ZZe=bTe(0),e0e=bTe(0),t0e=bTe(.05,"serviceMarket"),r0e=VTe((()=>_it((()=>__cloudSDKMain__.getServiceMarketAPI()))())),n0e=bTe(.05,"cloud"),i0e=VTe((()=>_it((()=>__cloudSDKMain__.getCloudAPI()))())),a0e=bTe(1),o0e=bTe(.05),s0e=bTe(.05),l0e=bTe(.05),c0e=bTe(.05),u0e=bTe(.05),d0e=bTe(.05),p0e=bTe(.05),h0e=bTe(.05),f0e=bTe(.05),g0e=bTe(.05),v0e=bTe(.05),m0e=bTe(.05),y0e=bTe(.05),_0e=bTe(.05),b0e=bTe(.05),w0e=bTe(.05),S0e=bTe(.05),C0e=bTe(.05),$A(I0e=LBe(I0e=BBe(I0e=$Be(I0e=FBe(I0e=jBe(I0e=WBe(I0e=UBe((A0e=class{constructor(){B()(this,"requirePrivacyAuthorize",k0e,this),B()(this,"onNeedPrivacyAuthorization",E0e,this),B()(this,"getPrivacySetting",T0e,this),B()(this,"openPrivacyContract",P0e,this),B()(this,"setStorage",x0e,this),B()(this,"setStorageSync",O0e,this),B()(this,"plugin_setStorage",R0e,this),B()(this,"plugin_setStorageSync",M0e,this),B()(this,"batchSetStorage",D0e,this),B()(this,"batchSetStorageSync",N0e,this),B()(this,"plugin_batchSetStorage",L0e,this),B()(this,"plugin_batchSetStorageSync",B0e,this),B()(this,"getStorage",$0e,this),B()(this,"getStorageSync",F0e,this),B()(this,"plugin_getStorage",j0e,this),B()(this,"plugin_getStorageSync",W0e,this),B()(this,"batchGetStorage",U0e,this),B()(this,"batchGetStorageSync",V0e,this),B()(this,"plugin_batchGetStorage",q0e,this),B()(this,"plugin_batchGetStorageSync",z0e,this),B()(this,"getStorageInfo",G0e,this),B()(this,"getStorageInfoSync",H0e,this),B()(this,"plugin_getStorageInfo",K0e,this),B()(this,"plugin_getStorageInfoSync",Q0e,this),B()(this,"removeStorage",J0e,this),B()(this,"removeStorageSync",X0e,this),B()(this,"plugin_removeStorage",Y0e,this),B()(this,"plugin_removeStorageSync",Z0e,this),B()(this,"clearStorage",e1e,this),B()(this,"clearStorageSync",t1e,this),B()(this,"plugin_clearStorage",r1e,this),B()(this,"plugin_clearStorageSync",n1e,this),B()(this,"drawCanvas",i1e,this),B()(this,"createContext",a1e,this),B()(this,"createCanvasContext",o1e,this),B()(this,"canvasToTempFilePath",s1e,this),B()(this,"canvasGetImageData",l1e,this),B()(this,"canvasPutImageData",c1e,this),B()(this,"createOffscreenCanvas",u1e,this),B()(this,"getAccountInfoSync",d1e,this),B()(this,"getShareInfo",p1e,this),B()(this,"authPrivateMessage",h1e,this),B()(this,"pageScrollTo",f1e,this),B()(this,"chooseInvoiceTitle",g1e,this),B()(this,"chooseInvoice",v1e,this),B()(this,"openCustomerServiceChat",m1e,this),B()(this,"onPageReload",y1e,this),B()(this,"createAudioContext",_1e,this),B()(this,"createVideoContext",b1e,this),B()(this,"createMapContext",w1e,this),B()(this,"createLivePlayerContext",S1e,this),B()(this,"getPassiveEvent",C1e,this),B()(this,"arrayBufferToBase64",I1e,this),B()(this,"base64ToArrayBuffer",A1e,this),B()(this,"openSetting",k1e,this),B()(this,"getExtConfig",E1e,this),B()(this,"chooseMedia",T1e,this),B()(this,"previewMedia",P1e,this),B()(this,"chooseMultiMedia",x1e,this),B()(this,"chooseMessageFile",O1e,this),B()(this,"chooseWeChatContact",R1e,this),B()(this,"uploadEncryptedFileToCDN",M1e,this),B()(this,"onUploadEncryptedFileToCDNProgress",D1e,this),B()(this,"uploadToCommonCDN",N1e,this),B()(this,"getExtConfigSync",L1e,this),B()(this,"showShareMenu",B1e,this),B()(this,"hideShareMenu",$1e,this),B()(this,"updateShareMenu",F1e,this),B()(this,"shareAppMessageForFakeNative",j1e,this),B()(this,"openUrl",W1e,this),B()(this,"setNavigationBarColor",U1e,this),B()(this,"setNavigationBarAlpha",V1e,this),B()(this,"showShareImageMenu",q1e,this),B()(this,"shareFileMessage",z1e,this),B()(this,"shareVideoMessage",G1e,this),B()(this,"vibrateShort",H1e,this),B()(this,"vibrateLong",K1e,this),B()(this,"getSetting",Q1e,this),B()(this,"checkIsSupportFacialRecognition",J1e,this),B()(this,"startFacialRecognitionVerify",X1e,this),B()(this,"startFacialRecognitionVerifyAndUploadVideo",Y1e,this),B()(this,"startFacialEncryptionVerify",Z1e,this),B()(this,"startFacialEncryptionVerifyAndUploadVideo",e2e,this),B()(this,"startCustomFacialRecognitionVerify",t2e,this),B()(this,"startCustomFacialRecognitionVerifyAndUploadVideo",r2e,this),B()(this,"sendBizRedPacket",n2e,this),B()(this,"requestDeviceVoIP",i2e,this),B()(this,"getDeviceVoIPList",a2e,this),B()(this,"sendGoldenRedPacket",o2e,this),B()(this,"openGoldenRedPacketDetail",s2e,this),B()(this,"showRedPackage",l2e,this),B()(this,"jumpRedPacketEnvelopePreview",c2e,this),B()(this,"quickSendRedPacket",u2e,this),B()(this,"sendRedCoverAppMsg",d2e,this),B()(this,"previewSmartAd",p2e,this),B()(this,"jumpRedPacketEnvelopePreview",h2e,this),B()(this,"quickSendRedPacket",f2e,this),B()(this,"sendRedCoverAppMsg",g2e,this),B()(this,"addPhoneContact",v2e,this),B()(this,"quicklyAddBrandContact",m2e,this),B()(this,"searchContacts",y2e,this),B()(this,"privateSearchContacts",_2e,this),B()(this,"sendSms",b2e,this),B()(this,"setScreenBrightness",w2e,this),B()(this,"getScreenBrightness",S2e,this),B()(this,"setVisualEffectOnCapture",C2e,this),B()(this,"onScreenRecordingStateChanged",I2e,this),B()(this,"offScreenRecordingStateChanged",A2e,this),B()(this,"getScreenRecordingState",k2e,this),B()(this,"shareToWeRun",E2e,this),B()(this,"getWeRunData",T2e,this),B()(this,"uploadWeRunData",P2e,this),B()(this,"addWeRunData",x2e,this),B()(this,"canIUse",O2e,this),B()(this,"setPageStyle",R2e,this),B()(this,"triggerGettingWidgetData",M2e,this),B()(this,"navigateToMiniProgram",D2e,this),B()(this,"navigateToMiniProgramDirectly",N2e,this),B()(this,"navigateToDevMiniProgram",L2e,this),B()(this,"navigateBackMiniProgram",B2e,this),B()(this,"launchMiniProgram",$2e,this),B()(this,"launchDevMiniProgram",F2e,this),B()(this,"exitMiniProgram",j2e,this),B()(this,"openEmbeddedMiniProgram",W2e,this),B()(this,"onEmbeddedMiniProgramHeightChange",U2e,this),B()(this,"offEmbeddedMiniProgramHeightChange",V2e,this),B()(this,"launchApplicationDirectly",q2e,this),B()(this,"launchApplicationForNative",z2e,this),B()(this,"setNavigationBarRightButton",G2e,this),B()(this,"onTapNavigationBarRightButton",H2e,this),B()(this,"setTopBarText",K2e,this),B()(this,"setTabBarBadge",Q2e,this),B()(this,"removeTabBarBadge",J2e,this),B()(this,"showTabBarRedDot",X2e,this),B()(this,"hideTabBarRedDot",Y2e,this),B()(this,"showTabBar",Z2e,this),B()(this,"hideTabBar",e3e,this),B()(this,"setTabBarStyle",t3e,this),B()(this,"setTabBarItem",r3e,this),B()(this,"getTabBarManager",n3e,this),B()(this,"setBackgroundColor",i3e,this),B()(this,"setBackgroundTextStyle",a3e,this),B()(this,"setEnableDebug",o3e,this),B()(this,"captureScreen",s3e,this),B()(this,"onUserCaptureScreen",l3e,this),B()(this,"offUserCaptureScreen",c3e,this),B()(this,"setKeepScreenOn",u3e,this),B()(this,"checkIsSupportSoterAuthentication",d3e,this),B()(this,"startSoterAuthentication",p3e,this),B()(this,"checkIsSoterEnrolledInDevice",h3e,this),B()(this,"openDeliveryList",f3e,this),B()(this,"navigateBackH5",g3e,this),B()(this,"openBusinessView",v3e,this),B()(this,"navigateBackApplication",m3e,this),B()(this,"navigateBackNative",y3e,this),B()(this,"reportIDKey",_3e,this),B()(this,"reportKeyValue",b3e,this),B()(this,"setWindowSize",w3e,this),B()(this,"setNavigationBarTitle",S3e,this),B()(this,"showNavigationBarLoading",C3e,this),B()(this,"hideNavigationBarLoading",I3e,this),B()(this,"hideHomeButton",A3e,this),B()(this,"startPullDownRefresh",k3e,this),B()(this,"stopPullDownRefresh",E3e,this),B()(this,"operateWXData",T3e,this),B()(this,"getOpenDeviceId",P3e,this),B()(this,"getMenuButtonBoundingClientRect",x3e,this),B()(this,"getSelectedTextRange",O3e,this),B()(this,"enableAlertBeforeUnload",R3e,this),B()(this,"disableAlertBeforeUnload",M3e,this),B()(this,"setNavigateBackInterception",D3e,this),B()(this,"stopNavigateBackInterception",N3e,this),B()(this,"makeBluetoothPair",L3e,this),B()(this,"isBluetoothDevicePaired",B3e,this),B()(this,"openBluetoothAdapter",$3e,this),B()(this,"openBluetoothAdapterBackground",F3e,this),B()(this,"closeBluetoothAdapter",j3e,this),B()(this,"getBluetoothAdapterState",W3e,this),B()(this,"onBluetoothAdapterStateChange",U3e,this),B()(this,"offBluetoothAdapterStateChange",V3e,this),B()(this,"startBluetoothDevicesDiscovery",q3e,this),B()(this,"stopBluetoothDevicesDiscovery",z3e,this),B()(this,"startMonitoringBluetoothDevice",G3e,this),B()(this,"stopMonitoringBluetoothDevice",H3e,this),B()(this,"getBluetoothDevices",K3e,this),B()(this,"getConnectedBluetoothDevices",Q3e,this),B()(this,"getMonitoredBluetoothDevices",J3e,this),B()(this,"createBLEConnection",X3e,this),B()(this,"setBLEMTU",Y3e,this),B()(this,"setBluetoothBackgroundMode",Z3e,this),B()(this,"getBLEMTU",e6e,this),B()(this,"onBLEMTUChange",t6e,this),B()(this,"offBLEMTUChange",r6e,this),B()(this,"closeBLEConnection",n6e,this),B()(this,"getBLEDeviceServices",i6e,this),B()(this,"getBLEDeviceRSSI",a6e,this),B()(this,"getBLEDeviceCharacteristics",o6e,this),B()(this,"createBLEPeripheralServer",s6e,this),B()(this,"onBLEPeripheralConnectionStateChanged",l6e,this),B()(this,"offBLEPeripheralConnectionStateChanged",c6e,this),B()(this,"notifyBLECharacteristicValueChanged",u6e,this),B()(this,"notifyBLECharacteristicValueChange",d6e,this),B()(this,"readBLECharacteristicValue",p6e,this),B()(this,"writeBLECharacteristicValue",h6e,this),B()(this,"onBluetoothDeviceFound",f6e,this),B()(this,"offBluetoothDeviceFound",g6e,this),B()(this,"onMonitoredBluetoothDeviceFound",v6e,this),B()(this,"offMonitoredBluetoothDeviceFound",m6e,this),B()(this,"onBLEConnectionStateChanged",y6e,this),B()(this,"onBLEConnectionStateChange",_6e,this),B()(this,"onBLECharacteristicValueChange",b6e,this),B()(this,"offBLEConnectionStateChanged",w6e,this),B()(this,"offBLEConnectionStateChange",S6e,this),B()(this,"offBLECharacteristicValueChange",C6e,this),B()(this,"startBeaconDiscovery",I6e,this),B()(this,"stopBeaconDiscovery",A6e,this),B()(this,"getBeacons",k6e,this),B()(this,"onBeaconUpdate",E6e,this),B()(this,"offBeaconUpdate",T6e,this),B()(this,"onBeaconServiceChange",P6e,this),B()(this,"offBeaconServiceChange",x6e,this),B()(this,"startWifi",O6e,this),B()(this,"stopWifi",R6e,this),B()(this,"getWifiList",M6e,this),B()(this,"getConnectedWifi",D6e,this),B()(this,"connectWifi",N6e,this),B()(this,"presetWifiList",L6e,this),B()(this,"setWifiList",B6e,this),B()(this,"onGetWifiList",$6e,this),B()(this,"onWifiConnected",F6e,this),B()(this,"onWifiConnectedWithPartialInfo",j6e,this),B()(this,"offGetWifiList",W6e,this),B()(this,"offWifiConnected",U6e,this),B()(this,"offWifiConnectedWithPartialInfo",V6e,this),B()(this,"onEvaluateWifi",q6e,this),B()(this,"getHCEState",z6e,this),B()(this,"startHCE",G6e,this),B()(this,"stopHCE",H6e,this),B()(this,"sendHCEMessage",K6e,this),B()(this,"onHCEMessage",Q6e,this),B()(this,"offHCEMessage",J6e,this),B()(this,"getNFCAdapter",X6e,this),B()(this,"startLocalServiceDiscovery",Y6e,this),B()(this,"stopLocalServiceDiscovery",Z6e,this),B()(this,"onLocalServiceFound",e5e,this),B()(this,"offLocalServiceFound",t5e,this),B()(this,"onLocalServiceLost",r5e,this),B()(this,"offLocalServiceLost",n5e,this),B()(this,"onLocalServiceDiscoveryStop",i5e,this),B()(this,"offLocalServiceDiscoveryStop",a5e,this),B()(this,"onLocalServiceResolveFail",o5e,this),B()(this,"offLocalServiceResolveFail",s5e,this),B()(this,"getLocalIPAddress",l5e,this),B()(this,"redirectTo",c5e,this),B()(this,"reLaunch",u5e,this),B()(this,"navigateTo",d5e,this),B()(this,"switchTab",p5e,this),B()(this,"navigateBack",h5e,this),B()(this,"onAppShow",f5e,this),B()(this,"offAppShow",g5e,this),B()(this,"onAppHide",v5e,this),B()(this,"offAppHide",m5e,this),B()(this,"onError",y5e,this),B()(this,"offError",_5e,this),B()(this,"onUnhandledRejection",b5e,this),B()(this,"offUnhandledRejection",w5e,this),B()(this,"getLaunchOptionsSync",S5e,this),B()(this,"getEnterOptionsSync",C5e,this),B()(this,"onWindowResize",I5e,this),B()(this,"offWindowResize",A5e,this),B()(this,"setPageOrientation",k5e,this),B()(this,"getBackgroundFetchData",E5e,this),B()(this,"onBackgroundFetchData",T5e,this),B()(this,"setBackgroundFetchToken",P5e,this),B()(this,"getBackgroundFetchToken",x5e,this),B()(this,"request",O5e,this),B()(this,"connectSocket",R5e,this),B()(this,"closeSocket",M5e,this),B()(this,"sendSocketMessage",D5e,this),B()(this,"onSocketOpen",N5e,this),B()(this,"onSocketClose",L5e,this),B()(this,"onSocketMessage",B5e,this),B()(this,"onSocketError",$5e,this),B()(this,"uploadFile",F5e,this),B()(this,"downloadFile",j5e,this),B()(this,"addNativeDownloadTask",W5e,this),B()(this,"downloadApp",U5e,this),B()(this,"installDownloadApp",V5e,this),B()(this,"getAppInstallState",q5e,this),B()(this,"queryDownloadAppTask",z5e,this),B()(this,"cancelDownloadAppTask",G5e,this),B()(this,"resumeDownloadAppTask",H5e,this),B()(this,"pauseDownloadAppTask",K5e,this),B()(this,"onDownloadAppStateChange",Q5e,this),B()(this,"downloadAppForIOS",J5e,this),B()(this,"calRqt",X5e,this),B()(this,"secureTunnel",Y5e,this),B()(this,"chooseImage",Z5e,this),B()(this,"previewImage",e4e,this),B()(this,"getImageInfo",t4e,this),B()(this,"saveImageToPhotosAlbum",r4e,this),B()(this,"compressImage",n4e,this),B()(this,"editImage",i4e,this),B()(this,"cropImage",a4e,this),B()(this,"startRecord",o4e,this),B()(this,"stopRecord",s4e,this),B()(this,"playVoice",l4e,this),B()(this,"pauseVoice",c4e,this),B()(this,"stopVoice",u4e,this),B()(this,"onVoicePlayEnd",d4e,this),B()(this,"chooseVideo",p4e,this),B()(this,"saveVideoToPhotosAlbum",h4e,this),B()(this,"getVideoInfo",f4e,this),B()(this,"compressVideo",g4e,this),B()(this,"loadFontFace",v4e,this),B()(this,"createMediaContainer",m4e,this),B()(this,"createMediaRecorder",y4e,this),B()(this,"createVideoDecoder",_4e,this),B()(this,"openVideoEditor",b4e,this),B()(this,"createMediaAudioPlayer",w4e,this),B()(this,"createWebAudioContext",S4e,this),B()(this,"getLocation",C4e,this),B()(this,"getFuzzyLocation",I4e,this),B()(this,"openLocation",A4e,this),B()(this,"chooseLocation",k4e,this),B()(this,"choosePoi",E4e,this),B()(this,"onLocationChange",T4e,this),B()(this,"offLocationChange",P4e,this),B()(this,"onLocationChangeError",x4e,this),B()(this,"offLocationChangeError",O4e,this),B()(this,"startLocationUpdateBackground",R4e,this),B()(this,"startLocationUpdate",M4e,this),B()(this,"stopLocationUpdate",D4e,this),B()(this,"getNetworkType",N4e,this),B()(this,"onNetworkStatusChange",L4e,this),B()(this,"offNetworkStatusChange",B4e,this),B()(this,"onNetworkWeakChange",$4e,this),B()(this,"offNetworkWeakChange",F4e,this),B()(this,"getSystemInfo",j4e,this),B()(this,"getSystemInfoSync",W4e,this),B()(this,"getSystemInfoAsync",U4e,this),B()(this,"openSystemBluetoothSetting",V4e,this),B()(this,"openAppAuthorizeSetting",q4e,this),B()(this,"getSystemSetting",z4e,this),B()(this,"getAppAuthorizeSetting",G4e,this),B()(this,"getDeviceInfo",H4e,this),B()(this,"getWindowInfo",K4e,this),B()(this,"getAppBaseInfo",Q4e,this),B()(this,"getRendererUserAgent",J4e,this),B()(this,"getBatteryInfo",X4e,this),B()(this,"getBatteryInfoSync",Y4e,this),B()(this,"startAccelerometer",Z4e,this),B()(this,"stopAccelerometer",e7e,this),B()(this,"onAccelerometerChange",t7e,this),B()(this,"offAccelerometerChange",r7e,this),B()(this,"startCompass",n7e,this),B()(this,"stopCompass",i7e,this),B()(this,"onCompassChange",a7e,this),B()(this,"offCompassChange",o7e,this),B()(this,"startDeviceMotionListening",s7e,this),B()(this,"stopDeviceMotionListening",l7e,this),B()(this,"onDeviceMotionChange",c7e,this),B()(this,"offDeviceMotionChange",u7e,this),B()(this,"startGyroscope",d7e,this),B()(this,"stopGyroscope",p7e,this),B()(this,"onGyroscopeChange",h7e,this),B()(this,"offGyroscopeChange",f7e,this),B()(this,"checkIsOpenAccessibility",g7e,this),B()(this,"addPhoneCalendar",v7e,this),B()(this,"addPhoneRepeatCalendar",m7e,this),B()(this,"getRandomValues",y7e,this),B()(this,"getWebviewDebugInfo",_7e,this),B()(this,"reportAction",b7e,this),B()(this,"getBackgroundAudioManager",w7e,this),B()(this,"getRecorderManager",S7e,this),B()(this,"getBackgroundAudioPlayerState",C7e,this),B()(this,"playBackgroundAudio",I7e,this),B()(this,"pauseBackgroundAudio",A7e,this),B()(this,"seekBackgroundAudio",k7e,this),B()(this,"stopBackgroundAudio",E7e,this),B()(this,"onBackgroundAudioPlay",T7e,this),B()(this,"onBackgroundAudioPause",P7e,this),B()(this,"onBackgroundAudioStop",x7e,this),B()(this,"joinVoIPChat",O7e,this),B()(this,"exitVoIPChat",R7e,this),B()(this,"updateVoIPChatMuteConfig",M7e,this),B()(this,"onVoIPChatMembersChanged",D7e,this),B()(this,"onVoIPChatSpeakersChanged",N7e,this),B()(this,"onVoIPChatInterrupted",L7e,this),B()(this,"offVoIPChatMembersChanged",B7e,this),B()(this,"offVoIPChatSpeakersChanged",$7e,this),B()(this,"offVoIPChatInterrupted",F7e,this),B()(this,"subscribeVoIPVideoMembers",j7e,this),B()(this,"onVoIPVideoMembersChanged",W7e,this),B()(this,"offVoIPVideoMembersChanged",U7e,this),B()(this,"onVoIPChatStateChanged",V7e,this),B()(this,"offVoIPChatStateChanged",q7e,this),B()(this,"join1v1Chat",z7e,this),B()(this,"setEnable1v1Chat",G7e,this),B()(this,"requestSubscribeMessage",H7e,this),B()(this,"requestSubscribeDeviceMessage",K7e,this),B()(this,"login",Q7e,this),B()(this,"logout",J7e,this),B()(this,"checkSession",X7e,this),B()(this,"authorize",Y7e,this),B()(this,"getUserInfo",Z7e,this),B()(this,"getUserProfile",e8e,this),B()(this,"requestPayment",t8e,this),B()(this,"verifyPaymentPassword",r8e,this),B()(this,"bindPaymentCard",n8e,this),B()(this,"requestPaymentToBank",i8e,this),B()(this,"requestVirtualPayment",a8e,this),B()(this,"openOfflinePayView",o8e,this),B()(this,"openWCPayCardList",s8e,this),B()(this,"requestMallPayment",l8e,this),B()(this,"setCurrentPaySpeech",c8e,this),B()(this,"loadPaySpeechDialectConfig",u8e,this),B()(this,"requestJointPayment",d8e,this),B()(this,"getWCPayOverseaPrepayRequest",p8e,this),B()(this,"requestH5Transaction",h8e,this),B()(this,"openWCPayOverseaPaymentReceive",f8e,this),B()(this,"handleWCPayOverseaWalletBuffer",g8e,this),B()(this,"requestVerifyUserIdentity",v8e,this),B()(this,"requestPersonalPay",m8e,this),B()(this,"phoneBindCardVerifySms",y8e,this),B()(this,"faceVerifyForPay",_8e,this),B()(this,"openOfficialAccountProfile",b8e,this),B()(this,"openUserProfile",w8e,this),B()(this,"requestBizSplitBillPayment",S8e,this),B()(this,"openSelectPayment",C8e,this),B()(this,"requestEntrustAuthorization",I8e,this),B()(this,"requestFacetoFacePayment",A8e,this),B()(this,"requestQueryCashier",k8e,this),B()(this,"requestOrderPayment",E8e,this),B()(this,"checkBeforeAddOrder",T8e,this),B()(this,"notifyWCPayResult",P8e,this),B()(this,"openMiniProgramProfile",x8e,this),B()(this,"openMiniProgramSearch",O8e,this),B()(this,"openMiniProgramHistoryList",R8e,this),B()(this,"openMiniProgramStarList",M8e,this),B()(this,"openMiniProgramAuthManageList",D8e,this),B()(this,"batchGetContactDirectly",N8e,this),B()(this,"preloadMiniProgramEnvDirectly",L8e,this),B()(this,"predownloadMiniProgramPackageDirectly",B8e,this),B()(this,"preventApplePayUI",$8e,this),B()(this,"getWxSecData",F8e,this),B()(this,"addCard",j8e,this),B()(this,"openCard",W8e,this),B()(this,"checkTrafficCardConditions",U8e,this),B()(this,"queryTrafficCardInfo",V8e,this),B()(this,"issueTrafficCard",q8e,this),B()(this,"rechargeTrafficCard",z8e,this),B()(this,"setDefaultTrafficCard",G8e,this),B()(this,"deleteTrafficCard",H8e,this),B()(this,"addFileToFavorites",K8e,this),B()(this,"addVideoToFavorites",Q8e,this),B()(this,"openChannelsCreateContact",J8e,this),B()(this,"getChannelsShareKey",X8e,this),B()(this,"openChannelsPostPage",Y8e,this),B()(this,"scanCode",Z8e,this),B()(this,"openQRCode",e9e,this),B()(this,"scanItem",t9e,this),B()(this,"privateScanItem",r9e,this),B()(this,"chooseAddress",n9e,this),B()(this,"openDocument",i9e,this),B()(this,"getFileSystemManager",a9e,this),B()(this,"saveFileToDisk",o9e,this),B()(this,"getABTestConfig",s9e,this),B()(this,"chooseContact",l9e,this),B()(this,"removeUserCloudStorage",c9e,this),B()(this,"setUserCloudStorage",u9e,this),B()(this,"makePhoneCall",d9e,this),B()(this,"makeVoIPCall",p9e,this),B()(this,"onAppRoute",h9e,this),B()(this,"onAppRouteDone",f9e,this),B()(this,"onAppEnterBackground",g9e,this),B()(this,"onAppEnterForeground",v9e,this),B()(this,"onAppUnhang",m9e,this),B()(this,"onPageNotFound",y9e,this),B()(this,"offPageNotFound",_9e,this),B()(this,"onLazyLoadError",b9e,this),B()(this,"offLazyLoadError",w9e,this),B()(this,"onThemeChange",S9e,this),B()(this,"offThemeChange",C9e,this),B()(this,"onApiCategoryChange",I9e,this),B()(this,"offApiCategoryChange",A9e,this),B()(this,"getApiCategory",k9e,this),B()(this,"onCopyUrl",E9e,this),B()(this,"offCopyUrl",T9e,this),B()(this,"createAnimation",P9e,this),B()(this,"createInnerAudioContext",x9e,this),B()(this,"getAvailableAudioSources",O9e,this),B()(this,"onAudioInterruptionBegin",R9e,this),B()(this,"offAudioInterruptionBegin",M9e,this),B()(this,"onAudioInterruptionEnd",D9e,this),B()(this,"offAudioInterruptionEnd",N9e,this),B()(this,"setInnerAudioOption",L9e,this),B()(this,"createCameraContext",B9e,this),B()(this,"createLivePusherContext",$9e,this),B()(this,"onWebviewEvent",F9e,this),B()(this,"onNativeEvent",j9e,this),B()(this,"hideKeyboard",W9e,this),B()(this,"onKeyboardHeightChange",U9e,this),B()(this,"offKeyboardHeightChange",V9e,this),B()(this,"getPublicLibVersion",q9e,this),B()(this,"showModal",z9e,this),B()(this,"showToast",G9e,this),B()(this,"hideToast",H9e,this),B()(this,"showLoading",K9e,this),B()(this,"hideLoading",Q9e,this),B()(this,"showActionSheet",J9e,this),B()(this,"showShareActionSheet",X9e,this),B()(this,"reportAnalytics",Y9e,this),B()(this,"reportMonitor",Z9e,this),B()(this,"getClipboardData",eet,this),B()(this,"setClipboardData",tet,this),B()(this,"createSelectorQuery",ret,this),B()(this,"createIntersectionObserver",net,this),B()(this,"createMediaQueryObserver",iet,this),B()(this,"nextTick",aet,this),B()(this,"updatePerfData",oet,this),B()(this,"traceEvent",set,this),B()(this,"onMemoryWarning",cet,this),B()(this,"offMemoryWarning",uet,this),B()(this,"reportPerformance",det,this),B()(this,"getPerformance",pet,this),B()(this,"getUpdateManager",het,this),B()(this,"updateWeChatApp",fet,this),B()(this,"getPluginUpdateManager",get,this),B()(this,"createWorker",vet,this),B()(this,"voiceSplitJoint",met,this),B()(this,"uploadSilkVoice",yet,this),B()(this,"downloadSilkVoice",_et,this),B()(this,"getResPath",bet,this),B()(this,"setResPath",wet,this),B()(this,"setCookies",Cet,this),B()(this,"getCookies",Iet,this),B()(this,"faceDetect",Aet,this),B()(this,"initFaceDetect",ket,this),B()(this,"stopFaceDetect",Eet,this),B()(this,"createBufferURL",Tet,this),B()(this,"revokeBufferURL",Pet,this),B()(this,"createSignal",xet,this),B()(this,"bindGroup",Oet,this),B()(this,"joinGroup",Ret,this),B()(this,"getLabInfo",Met,this),B()(this,"setLabInfo",Det,this),B()(this,"createUDPSocket",Net,this),B()(this,"createTCPSocket",Let,this),B()(this,"env",Bet,this),B()(this,"error",$et,this),B()(this,"isSystemError",Fet,this),B()(this,"isSDKError",jet,this),B()(this,"isThirdError",Wet,this),B()(this,"createRewardedVideoAd",Uet,this),B()(this,"createInterstitialAd",Vet,this),B()(this,"createCustomAd",qet,this),B()(this,"preloadVideoAd",zet,this),B()(this,"preloadAd",Get,this),B()(this,"getLogManager",Het,this),B()(this,"getRealtimeLogManager",Ket,this),B()(this,"getExptInfo",Qet,this),B()(this,"getExptInfoSync",Jet,this),B()(this,"getCommonConfig",Xet,this),B()(this,"reportEvent",Yet,this),B()(this,"reportStableEvent",Zet,this),B()(this,"getChannelsLiveInfo",ett,this),B()(this,"getChannelsLiveState",ttt,this),B()(this,"getChannelsLiveReservation",rtt,this),B()(this,"getChannelsLiveNoticeInfo",ntt,this),B()(this,"openChannelsLive",itt,this),B()(this,"openChannelsActivity",att,this),B()(this,"openChannelsUserProfile",ott,this),B()(this,"openChannelsLiveCollection",stt,this),B()(this,"openChannelsEvent",ltt,this),B()(this,"reserveChannelsLive",ctt,this),B()(this,"openPublicServicePayment",utt,this),B()(this,"version",dtt,this),B()(this,"chooseShareGroup",ptt,this),B()(this,"enterContact",htt,this),B()(this,"getGroupEnterInfo",ftt,this),B()(this,"preloadWebview",gtt,this),B()(this,"preloadSkylineView",vtt,this),B()(this,"getSkylineInfo",mtt,this),B()(this,"getSkylineInfoSync",ytt,this),B()(this,"publishWeChatState",_tt,this),B()(this,"publishWechatStateActivity",btt,this),B()(this,"checkPublishWeChatStateScene",wtt,this),B()(this,"lanDebug",Stt,this),B()(this,"createVKSession",Ctt,this),B()(this,"createVKReference",Itt,this),B()(this,"isVKSupport",Att,this),B()(this,"createCacheManager",ktt,this),B()(this,"getDebuggerMessager",Ett,this),B()(this,"chooseLicensePlate",Ttt,this),B()(this,"createSharedArrayBuffer",Ptt,this),B()(this,"createInferenceSession",xtt,this),B()(this,"preloadAssets",Ott,this),B()(this,"addToDesktop",Rtt,this),B()(this,"setPassiveEvent",Mtt,this),B()(this,"router",Dtt,this),B()(this,"worklet",Ntt,this),B()(this,"serviceMarket",Ltt,this),B()(this,"cloud",Btt,this),B()(this,"getXrFrameSystem",$tt,this),B()(this,"onXrFrameTouchEventNegotiation",Ftt,this),B()(this,"addDevicePanel",jtt,this),B()(this,"removeDevicePanel",Wtt,this),B()(this,"getDevicePanelList",Utt,this),B()(this,"canIUseDevicePanel",Vtt,this),B()(this,"preDownloadSubpackage",qtt,this),B()(this,"pay",ztt,this),B()(this,"notifyPayResult",Gtt,this),B()(this,"checkIsPictureInPictureActive",Htt,this),B()(this,"editTextWithPopForm",Ktt,this),B()(this,"openAddressWithLightMode",Qtt,this),B()(this,"getGMCryptoManager",Jtt,this),B()(this,"getUserCryptoManager",Xtt,this),B()(this,"batchAddDevicePanel",Ytt,this),B()(this,"checkIsAddedToMyMiniProgram",Ztt,this),B()(this,"openCTID",ert,this),B()(this,"openWeComUserProfile",trt,this),B()(this,"getInferenceEnvInfo",rrt,this)}saveFile(...e){return console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),V7(...e)}getSavedFileList(...e){return console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),z7(...e)}getSavedFileInfo(...e){return console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),G7(...e)}getFileInfo(...e){return console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),q7(...e)}removeSavedFile(...e){return console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),H7(...e)}},k0e=F()(A0e.prototype,"requirePrivacyAuthorize",[VBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mG}}),E0e=F()(A0e.prototype,"onNeedPrivacyAuthorization",[qBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Te}}),T0e=F()(A0e.prototype,"getPrivacySetting",[zBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bG}}),P0e=F()(A0e.prototype,"openPrivacyContract",[GBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uG}}),x0e=F()(A0e.prototype,"setStorage",[HBe,KBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nrt}}),O0e=F()(A0e.prototype,"setStorageSync",[QBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return irt}}),R0e=F()(A0e.prototype,"plugin_setStorage",[JBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return art}}),M0e=F()(A0e.prototype,"plugin_setStorageSync",[XBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ort}}),D0e=F()(A0e.prototype,"batchSetStorage",[YBe,ZBe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return srt}}),N0e=F()(A0e.prototype,"batchSetStorageSync",[e$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lrt}}),L0e=F()(A0e.prototype,"plugin_batchSetStorage",[t$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return crt}}),B0e=F()(A0e.prototype,"plugin_batchSetStorageSync",[r$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return urt}}),$0e=F()(A0e.prototype,"getStorage",[n$e,i$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return drt}}),F0e=F()(A0e.prototype,"getStorageSync",[a$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return prt}}),j0e=F()(A0e.prototype,"plugin_getStorage",[o$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hrt}}),W0e=F()(A0e.prototype,"plugin_getStorageSync",[s$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return frt}}),U0e=F()(A0e.prototype,"batchGetStorage",[l$e,c$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return grt}}),V0e=F()(A0e.prototype,"batchGetStorageSync",[u$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vrt}}),q0e=F()(A0e.prototype,"plugin_batchGetStorage",[d$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mrt}}),z0e=F()(A0e.prototype,"plugin_batchGetStorageSync",[p$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yrt}}),G0e=F()(A0e.prototype,"getStorageInfo",[h$e,f$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _rt}}),H0e=F()(A0e.prototype,"getStorageInfoSync",[g$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return brt}}),K0e=F()(A0e.prototype,"plugin_getStorageInfo",[v$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wrt}}),Q0e=F()(A0e.prototype,"plugin_getStorageInfoSync",[m$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Srt}}),J0e=F()(A0e.prototype,"removeStorage",[y$e,_$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Crt}}),X0e=F()(A0e.prototype,"removeStorageSync",[b$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Irt}}),Y0e=F()(A0e.prototype,"plugin_removeStorage",[w$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Art}}),Z0e=F()(A0e.prototype,"plugin_removeStorageSync",[S$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return krt}}),e1e=F()(A0e.prototype,"clearStorage",[C$e,I$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ert}}),t1e=F()(A0e.prototype,"clearStorageSync",[A$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Trt}}),r1e=F()(A0e.prototype,"plugin_clearStorage",[k$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Prt}}),n1e=F()(A0e.prototype,"plugin_clearStorageSync",[E$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xrt}}),i1e=F()(A0e.prototype,"drawCanvas",[T$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XK}}),a1e=F()(A0e.prototype,"createContext",[P$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LQ}}),o1e=F()(A0e.prototype,"createCanvasContext",[x$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Q}}),s1e=F()(A0e.prototype,"canvasToTempFilePath",[O$e,R$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cQ}}),l1e=F()(A0e.prototype,"canvasGetImageData",[M$e,D$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WK}}),c1e=F()(A0e.prototype,"canvasPutImageData",[N$e,L$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GK}}),u1e=F()(A0e.prototype,"createOffscreenCanvas",[B$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xQ}}),d1e=F()(A0e.prototype,"getAccountInfoSync",[$$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rR}}),p1e=F()(A0e.prototype,"getShareInfo",[F$e,j$e,W$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oit}}),h1e=F()(A0e.prototype,"authPrivateMessage",[U$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dit}}),f1e=F()(A0e.prototype,"pageScrollTo",[V$e,q$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G1}}),g1e=F()(A0e.prototype,"chooseInvoiceTitle",[z$e,G$e,H$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xF}}),v1e=F()(A0e.prototype,"chooseInvoice",[K$e,Q$e,J$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JF}}),m1e=F()(A0e.prototype,"openCustomerServiceChat",[X$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fj}}),y1e=F()(A0e.prototype,"onPageReload",[Y$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{jC.call(wit,e)}}}),_1e=F()(A0e.prototype,"createAudioContext",[Z$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Wp(t,Fc.currentWebviewId);return pZ.call(wit,e,Fc.currentWebviewId,r)}}}),b1e=F()(A0e.prototype,"createVideoContext",[eFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Wp(t,Fc.currentWebviewId);return az.call(wit,e,Fc.currentWebviewId,r)}}}),w1e=F()(A0e.prototype,"createMapContext",[tFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Wp(t,Fc.currentWebviewId);return sV.call(wit,e,Fc.currentWebviewId,r)}}}),S1e=F()(A0e.prototype,"createLivePlayerContext",[rFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=Wp(t,Fc.currentWebviewId);return nH.call(wit,e,Fc.currentWebviewId,r)}}}),C1e=F()(A0e.prototype,"getPassiveEvent",[nFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nTe}}),I1e=F()(A0e.prototype,"arrayBufferToBase64",[iFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.surroundThirdByTryCatch(jS)}}),A1e=F()(A0e.prototype,"base64ToArrayBuffer",[aFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.surroundThirdByTryCatch(WS)}}),k1e=F()(A0e.prototype,"openSetting",[oFe,sFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tb}}),E1e=F()(A0e.prototype,"getExtConfig",[lFe,cFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A3}}),T1e=F()(A0e.prototype,"chooseMedia",[uFe,dFe,pFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L4}}),P1e=F()(A0e.prototype,"previewMedia",[hFe,fFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $4}}),x1e=F()(A0e.prototype,"chooseMultiMedia",[gFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q4}}),O1e=F()(A0e.prototype,"chooseMessageFile",[vFe,mFe,yFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N4}}),R1e=F()(A0e.prototype,"chooseWeChatContact",[_Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fnt}}),M1e=F()(A0e.prototype,"uploadEncryptedFileToCDN",[bFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jw}}),D1e=F()(A0e.prototype,"onUploadEncryptedFileToCDNProgress",[wFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ww}}),N1e=F()(A0e.prototype,"uploadToCommonCDN",[SFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vw}}),L1e=F()(A0e.prototype,"getExtConfigSync",[CFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I3}}),B1e=F()(A0e.prototype,"showShareMenu",[IFe,AFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sit}}),$1e=F()(A0e.prototype,"hideShareMenu",[kFe,EFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lit}}),F1e=F()(A0e.prototype,"updateShareMenu",[TFe,PFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cit}}),j1e=F()(A0e.prototype,"shareAppMessageForFakeNative",[xFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uit}}),W1e=F()(A0e.prototype,"openUrl",[OFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RM}}),U1e=F()(A0e.prototype,"setNavigationBarColor",[RFe,MFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tit}}),V1e=F()(A0e.prototype,"setNavigationBarAlpha",[DFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rit}}),q1e=F()(A0e.prototype,"showShareImageMenu",[NFe,LFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pit}}),z1e=F()(A0e.prototype,"shareFileMessage",[BFe,$Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hit}}),G1e=F()(A0e.prototype,"shareVideoMessage",[FFe,jFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fit}}),H1e=F()(A0e.prototype,"vibrateShort",[WFe,UFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lnt}}),K1e=F()(A0e.prototype,"vibrateLong",[VFe,qFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bnt}}),Q1e=F()(A0e.prototype,"getSetting",[zFe,GFe,HFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kF}}),J1e=F()(A0e.prototype,"checkIsSupportFacialRecognition",[KFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QB}}),X1e=F()(A0e.prototype,"startFacialRecognitionVerify",[QFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e$}}),Y1e=F()(A0e.prototype,"startFacialRecognitionVerifyAndUploadVideo",[JFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r$}}),Z1e=F()(A0e.prototype,"startFacialEncryptionVerify",[XFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XB}}),e2e=F()(A0e.prototype,"startFacialEncryptionVerifyAndUploadVideo",[YFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YB}}),t2e=F()(A0e.prototype,"startCustomFacialRecognitionVerify",[ZFe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t$}}),r2e=F()(A0e.prototype,"startCustomFacialRecognitionVerifyAndUploadVideo",[eje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n$}}),n2e=F()(A0e.prototype,"sendBizRedPacket",[tje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $B}}),i2e=F()(A0e.prototype,"requestDeviceVoIP",[rje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qj}}),a2e=F()(A0e.prototype,"getDeviceVoIPList",[nje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jj}}),o2e=F()(A0e.prototype,"sendGoldenRedPacket",[ije],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BB}}),s2e=F()(A0e.prototype,"openGoldenRedPacketDetail",[aje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LB}}),l2e=F()(A0e.prototype,"showRedPackage",[oje,sje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zB}}),c2e=F()(A0e.prototype,"jumpRedPacketEnvelopePreview",[lje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GB}}),u2e=F()(A0e.prototype,"quickSendRedPacket",[cje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HB}}),d2e=F()(A0e.prototype,"sendRedCoverAppMsg",[uje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KB}}),p2e=F()(A0e.prototype,"previewSmartAd",[dje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bbe}}),h2e=F()(A0e.prototype,"jumpRedPacketEnvelopePreview",[pje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GB}}),f2e=F()(A0e.prototype,"quickSendRedPacket",[hje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HB}}),g2e=F()(A0e.prototype,"sendRedCoverAppMsg",[fje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KB}}),v2e=F()(A0e.prototype,"addPhoneContact",[gje,vje,mje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jnt}}),m2e=F()(A0e.prototype,"quicklyAddBrandContact",[yje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wnt}}),y2e=F()(A0e.prototype,"searchContacts",[_je,bje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Unt}}),_2e=F()(A0e.prototype,"privateSearchContacts",[wje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vnt}}),b2e=F()(A0e.prototype,"sendSms",[Sje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qnt}}),w2e=F()(A0e.prototype,"setScreenBrightness",[Cje,Ije],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xnt}}),S2e=F()(A0e.prototype,"getScreenBrightness",[Aje,kje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ont}}),C2e=F()(A0e.prototype,"setVisualEffectOnCapture",[Eje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rnt}}),I2e=F()(A0e.prototype,"onScreenRecordingStateChanged",[Tje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mnt}}),A2e=F()(A0e.prototype,"offScreenRecordingStateChanged",[Pje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dnt}}),k2e=F()(A0e.prototype,"getScreenRecordingState",[xje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nnt}}),E2e=F()(A0e.prototype,"shareToWeRun",[Oje,Rje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KF}}),T2e=F()(A0e.prototype,"getWeRunData",[Mje,Dje,Nje,Lje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EF}}),P2e=F()(A0e.prototype,"uploadWeRunData",[Bje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TF}}),x2e=F()(A0e.prototype,"addWeRunData",[$je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PF}}),O2e=F()(A0e.prototype,"canIUse",[Fje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H8}}),R2e=F()(A0e.prototype,"setPageStyle",[jje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X1}}),M2e=F()(A0e.prototype,"triggerGettingWidgetData",[Wje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b6}}),D2e=F()(A0e.prototype,"navigateToMiniProgram",[Uje,Vje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yD}}),N2e=F()(A0e.prototype,"navigateToMiniProgramDirectly",[qje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bD}}),L2e=F()(A0e.prototype,"navigateToDevMiniProgram",[zje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lW}}),B2e=F()(A0e.prototype,"navigateBackMiniProgram",[Gje,Hje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oW}}),$2e=F()(A0e.prototype,"launchMiniProgram",[Kje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cW}}),F2e=F()(A0e.prototype,"launchDevMiniProgram",[Qje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uW}}),j2e=F()(A0e.prototype,"exitMiniProgram",[Jje,Xje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fW}}),W2e=F()(A0e.prototype,"openEmbeddedMiniProgram",[Yje,Zje],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DW}}),U2e=F()(A0e.prototype,"onEmbeddedMiniProgramHeightChange",[eWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LW}}),V2e=F()(A0e.prototype,"offEmbeddedMiniProgramHeightChange",[tWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BW}}),q2e=F()(A0e.prototype,"launchApplicationDirectly",[rWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yne}}),z2e=F()(A0e.prototype,"launchApplicationForNative",[nWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mne}}),G2e=F()(A0e.prototype,"setNavigationBarRightButton",[iWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nit}}),H2e=F()(A0e.prototype,"onTapNavigationBarRightButton",[aWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iit}}),K2e=F()(A0e.prototype,"setTopBarText",[oWe,sWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r1}}),Q2e=F()(A0e.prototype,"setTabBarBadge",[lWe,cWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M1}}),J2e=F()(A0e.prototype,"removeTabBarBadge",[uWe,dWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D1}}),X2e=F()(A0e.prototype,"showTabBarRedDot",[pWe,hWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N1}}),Y2e=F()(A0e.prototype,"hideTabBarRedDot",[fWe,gWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L1}}),Z2e=F()(A0e.prototype,"showTabBar",[vWe,mWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $1}}),e3e=F()(A0e.prototype,"hideTabBar",[yWe,_We],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F1}}),t3e=F()(A0e.prototype,"setTabBarStyle",[bWe,wWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W1}}),r3e=F()(A0e.prototype,"setTabBarItem",[SWe,CWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V1}}),n3e=F()(A0e.prototype,"getTabBarManager",[IWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IPe}}),i3e=F()(A0e.prototype,"setBackgroundColor",[AWe,kWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s2}}),a3e=F()(A0e.prototype,"setBackgroundTextStyle",[EWe,TWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l2}}),o3e=F()(A0e.prototype,"setEnableDebug",[PWe,xWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return One}}),s3e=F()(A0e.prototype,"captureScreen",[OWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return knt}}),l3e=F()(A0e.prototype,"onUserCaptureScreen",[RWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ent}}),c3e=F()(A0e.prototype,"offUserCaptureScreen",[MWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tnt}}),u3e=F()(A0e.prototype,"setKeepScreenOn",[DWe,NWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pnt}}),d3e=F()(A0e.prototype,"checkIsSupportSoterAuthentication",[LWe,BWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MB}}),p3e=F()(A0e.prototype,"startSoterAuthentication",[$We,FWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DB}}),h3e=F()(A0e.prototype,"checkIsSoterEnrolledInDevice",[jWe,WWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NB}}),f3e=F()(A0e.prototype,"openDeliveryList",[UWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _ne}}),g3e=F()(A0e.prototype,"navigateBackH5",[VWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LSe}}),v3e=F()(A0e.prototype,"openBusinessView",[qWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dM}}),m3e=F()(A0e.prototype,"navigateBackApplication",[zWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BSe}}),y3e=F()(A0e.prototype,"navigateBackNative",[GWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Se}}),_3e=F()(A0e.prototype,"reportIDKey",[HWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C6}}),b3e=F()(A0e.prototype,"reportKeyValue",[KWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I6}}),w3e=F()(A0e.prototype,"setWindowSize",[QWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fIe}}),S3e=F()(A0e.prototype,"setNavigationBarTitle",[JWe,XWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ynt}}),C3e=F()(A0e.prototype,"showNavigationBarLoading",[YWe,ZWe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Znt}}),I3e=F()(A0e.prototype,"hideNavigationBarLoading",[eUe,tUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eit}}),A3e=F()(A0e.prototype,"hideHomeButton",[rUe,nUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ait}}),k3e=F()(A0e.prototype,"startPullDownRefresh",[iUe,aUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H1}}),E3e=F()(A0e.prototype,"stopPullDownRefresh",[oUe,sUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K1}}),T3e=F()(A0e.prototype,"operateWXData",[lUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RF}}),P3e=F()(A0e.prototype,"getOpenDeviceId",[cUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DF}}),x3e=F()(A0e.prototype,"getMenuButtonBoundingClientRect",[uUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h2}}),O3e=F()(A0e.prototype,"getSelectedTextRange",[dUe,pUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f2}}),R3e=F()(A0e.prototype,"enableAlertBeforeUnload",[hUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u2}}),M3e=F()(A0e.prototype,"disableAlertBeforeUnload",[fUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d2}}),D3e=F()(A0e.prototype,"setNavigateBackInterception",[gUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TM}}),N3e=F()(A0e.prototype,"stopNavigateBackInterception",[vUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PM}}),L3e=F()(A0e.prototype,"makeBluetoothPair",[mUe,yUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hte}}),B3e=F()(A0e.prototype,"isBluetoothDevicePaired",[_Ue,bUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fte}}),$3e=F()(A0e.prototype,"openBluetoothAdapter",[wUe,SUe,CUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K9}}),F3e=F()(A0e.prototype,"openBluetoothAdapterBackground",[IUe,AUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nee}}),j3e=F()(A0e.prototype,"closeBluetoothAdapter",[kUe,EUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iee}}),W3e=F()(A0e.prototype,"getBluetoothAdapterState",[TUe,PUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aee}}),U3e=F()(A0e.prototype,"onBluetoothAdapterStateChange",[xUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PZ}}),V3e=F()(A0e.prototype,"offBluetoothAdapterStateChange",[OUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xZ}}),q3e=F()(A0e.prototype,"startBluetoothDevicesDiscovery",[RUe,MUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oee}}),z3e=F()(A0e.prototype,"stopBluetoothDevicesDiscovery",[DUe,NUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return see}}),G3e=F()(A0e.prototype,"startMonitoringBluetoothDevice",[LUe,BUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kte}}),H3e=F()(A0e.prototype,"stopMonitoringBluetoothDevice",[$Ue,FUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pte}}),K3e=F()(A0e.prototype,"getBluetoothDevices",[jUe,WUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lee}}),Q3e=F()(A0e.prototype,"getConnectedBluetoothDevices",[UUe,VUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uee}}),J3e=F()(A0e.prototype,"getMonitoredBluetoothDevices",[qUe,zUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q9}}),X3e=F()(A0e.prototype,"createBLEConnection",[GUe,HUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eee}}),Y3e=F()(A0e.prototype,"setBLEMTU",[KUe,QUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gte}}),Z3e=F()(A0e.prototype,"setBluetoothBackgroundMode",[JUe,XUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wee}}),e6e=F()(A0e.prototype,"getBLEMTU",[YUe,ZUe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wte}}),t6e=F()(A0e.prototype,"onBLEMTUChange",[eVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _te}}),r6e=F()(A0e.prototype,"offBLEMTUChange",[tVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bte}}),n6e=F()(A0e.prototype,"closeBLEConnection",[rVe,nVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tee}}),i6e=F()(A0e.prototype,"getBLEDeviceServices",[iVe,aVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pee}}),a6e=F()(A0e.prototype,"getBLEDeviceRSSI",[oVe,sVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cee}}),o6e=F()(A0e.prototype,"getBLEDeviceCharacteristics",[lVe,cVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xee}}),s6e=F()(A0e.prototype,"createBLEPeripheralServer",[uVe,dVe,pVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cte}}),l6e=F()(A0e.prototype,"onBLEPeripheralConnectionStateChanged",[hVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dte}}),c6e=F()(A0e.prototype,"offBLEPeripheralConnectionStateChanged",[fVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pte}}),u6e=F()(A0e.prototype,"notifyBLECharacteristicValueChanged",[gVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oee}}),d6e=F()(A0e.prototype,"notifyBLECharacteristicValueChange",[vVe,mVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ree}}),p6e=F()(A0e.prototype,"readBLECharacteristicValue",[yVe,_Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mee}}),h6e=F()(A0e.prototype,"writeBLECharacteristicValue",[bVe,wVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dee}}),f6e=F()(A0e.prototype,"onBluetoothDeviceFound",[SVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jee}}),g6e=F()(A0e.prototype,"offBluetoothDeviceFound",[CVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wee}}),v6e=F()(A0e.prototype,"onMonitoredBluetoothDeviceFound",[IVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dte}}),m6e=F()(A0e.prototype,"offMonitoredBluetoothDeviceFound",[AVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nte}}),y6e=F()(A0e.prototype,"onBLEConnectionStateChanged",[kVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lee}}),_6e=F()(A0e.prototype,"onBLEConnectionStateChange",[EVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AZ}}),b6e=F()(A0e.prototype,"onBLECharacteristicValueChange",[TVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ee}}),w6e=F()(A0e.prototype,"offBLEConnectionStateChanged",[PVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bee}}),S6e=F()(A0e.prototype,"offBLEConnectionStateChange",[xVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kZ}}),C6e=F()(A0e.prototype,"offBLECharacteristicValueChange",[OVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fee}}),I6e=F()(A0e.prototype,"startBeaconDiscovery",[RVe,MVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b9}}),A6e=F()(A0e.prototype,"stopBeaconDiscovery",[DVe,NVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w9}}),k6e=F()(A0e.prototype,"getBeacons",[LVe,BVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S9}}),E6e=F()(A0e.prototype,"onBeaconUpdate",[$Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C9}}),T6e=F()(A0e.prototype,"offBeaconUpdate",[FVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I9}}),P6e=F()(A0e.prototype,"onBeaconServiceChange",[jVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A9}}),x6e=F()(A0e.prototype,"offBeaconServiceChange",[WVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k9}}),O6e=F()(A0e.prototype,"startWifi",[UVe,VVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lte}}),R6e=F()(A0e.prototype,"stopWifi",[qVe,zVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bte}}),M6e=F()(A0e.prototype,"getWifiList",[GVe,HVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $te}}),D6e=F()(A0e.prototype,"getConnectedWifi",[KVe,QVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jte}}),N6e=F()(A0e.prototype,"connectWifi",[JVe,XVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wte}}),L6e=F()(A0e.prototype,"presetWifiList",[YVe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ute}}),B6e=F()(A0e.prototype,"setWifiList",[ZVe,eqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vte}}),$6e=F()(A0e.prototype,"onGetWifiList",[tqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qte}}),F6e=F()(A0e.prototype,"onWifiConnected",[rqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gte}}),j6e=F()(A0e.prototype,"onWifiConnectedWithPartialInfo",[nqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yte}}),W6e=F()(A0e.prototype,"offGetWifiList",[iqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zte}}),U6e=F()(A0e.prototype,"offWifiConnected",[aqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hte}}),V6e=F()(A0e.prototype,"offWifiConnectedWithPartialInfo",[oqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zte}}),q6e=F()(A0e.prototype,"onEvaluateWifi",[sqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jte}}),z6e=F()(A0e.prototype,"getHCEState",[lqe,cqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ere}}),G6e=F()(A0e.prototype,"startHCE",[uqe,dqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tre}}),H6e=F()(A0e.prototype,"stopHCE",[pqe,hqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rre}}),K6e=F()(A0e.prototype,"sendHCEMessage",[fqe,gqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nre}}),Q6e=F()(A0e.prototype,"onHCEMessage",[vqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ire}}),J6e=F()(A0e.prototype,"offHCEMessage",[mqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return are}}),X6e=F()(A0e.prototype,"getNFCAdapter",[yqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ere}}),Y6e=F()(A0e.prototype,"startLocalServiceDiscovery",[_qe,bqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rre}}),Z6e=F()(A0e.prototype,"stopLocalServiceDiscovery",[wqe,Sqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mre}}),e5e=F()(A0e.prototype,"onLocalServiceFound",[Cqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dre}}),t5e=F()(A0e.prototype,"offLocalServiceFound",[Iqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nre}}),r5e=F()(A0e.prototype,"onLocalServiceLost",[Aqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lre}}),n5e=F()(A0e.prototype,"offLocalServiceLost",[kqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bre}}),i5e=F()(A0e.prototype,"onLocalServiceDiscoveryStop",[Eqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $re}}),a5e=F()(A0e.prototype,"offLocalServiceDiscoveryStop",[Tqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fre}}),o5e=F()(A0e.prototype,"onLocalServiceResolveFail",[Pqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jre}}),s5e=F()(A0e.prototype,"offLocalServiceResolveFail",[xqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wre}}),l5e=F()(A0e.prototype,"getLocalIPAddress",[Oqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return one}}),c5e=F()(A0e.prototype,"redirectTo",[Rqe,Mqe,Dqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IC}}),u5e=F()(A0e.prototype,"reLaunch",[Nqe,Lqe,Bqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AC}}),d5e=F()(A0e.prototype,"navigateTo",[$qe,Fqe,jqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SC}}),p5e=F()(A0e.prototype,"switchTab",[Wqe,Uqe,Vqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kC}}),h5e=F()(A0e.prototype,"navigateBack",[qqe,zqe,Gqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mh}}),f5e=F()(A0e.prototype,"onAppShow",[Hqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VA}}),g5e=F()(A0e.prototype,"offAppShow",[Kqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qA}}),v5e=F()(A0e.prototype,"onAppHide",[Qqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ek}}),m5e=F()(A0e.prototype,"offAppHide",[Jqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tk}}),y5e=F()(A0e.prototype,"onError",[Xqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eU}}),_5e=F()(A0e.prototype,"offError",[Yqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tU}}),b5e=F()(A0e.prototype,"onUnhandledRejection",[Zqe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rU}}),w5e=F()(A0e.prototype,"offUnhandledRejection",[eze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nU}}),S5e=F()(A0e.prototype,"getLaunchOptionsSync",[tze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cx}}),C5e=F()(A0e.prototype,"getEnterOptionsSync",[rze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lx}}),I5e=F()(A0e.prototype,"onWindowResize",[nze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vU}}),A5e=F()(A0e.prototype,"offWindowResize",[ize],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mU}}),k5e=F()(A0e.prototype,"setPageOrientation",[aze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bW}}),E5e=F()(A0e.prototype,"getBackgroundFetchData",[oze,sze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return git}}),T5e=F()(A0e.prototype,"onBackgroundFetchData",[lze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vit}}),P5e=F()(A0e.prototype,"setBackgroundFetchToken",[cze,uze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mit}}),x5e=F()(A0e.prototype,"getBackgroundFetchToken",[dze,pze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yit}}),O5e=F()(A0e.prototype,"request",[hze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hPe}}),R5e=F()(A0e.prototype,"connectSocket",[fze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ort}}),M5e=F()(A0e.prototype,"closeSocket",[gze,vze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rrt}}),D5e=F()(A0e.prototype,"sendSocketMessage",[mze,yze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mrt}}),N5e=F()(A0e.prototype,"onSocketOpen",[_ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Drt}}),L5e=F()(A0e.prototype,"onSocketClose",[bze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nrt}}),B5e=F()(A0e.prototype,"onSocketMessage",[wze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lrt}}),$5e=F()(A0e.prototype,"onSocketError",[Sze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Brt}}),F5e=F()(A0e.prototype,"uploadFile",[Cze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cw}}),j5e=F()(A0e.prototype,"downloadFile",[Ize],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mm}}),W5e=F()(A0e.prototype,"addNativeDownloadTask",[Aze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qw}}),U5e=F()(A0e.prototype,"downloadApp",[kze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yw}}),V5e=F()(A0e.prototype,"installDownloadApp",[Eze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rS}}),q5e=F()(A0e.prototype,"getAppInstallState",[Tze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zw}}),z5e=F()(A0e.prototype,"queryDownloadAppTask",[Pze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eS}}),G5e=F()(A0e.prototype,"cancelDownloadAppTask",[xze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tS}}),H5e=F()(A0e.prototype,"resumeDownloadAppTask",[Oze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iS}}),K5e=F()(A0e.prototype,"pauseDownloadAppTask",[Rze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nS}}),Q5e=F()(A0e.prototype,"onDownloadAppStateChange",[Mze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aS}}),J5e=F()(A0e.prototype,"downloadAppForIOS",[Dze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oS}}),X5e=F()(A0e.prototype,"calRqt",[Nze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sS}}),Y5e=F()(A0e.prototype,"secureTunnel",[Lze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lS}}),Z5e=F()(A0e.prototype,"chooseImage",[Bze,$ze,Fze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $rt}}),e4e=F()(A0e.prototype,"previewImage",[jze,Wze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Frt}}),t4e=F()(A0e.prototype,"getImageInfo",[Uze,Vze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jrt}}),r4e=F()(A0e.prototype,"saveImageToPhotosAlbum",[qze,zze,Gze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wrt}}),n4e=F()(A0e.prototype,"compressImage",[Hze,Kze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Urt}}),i4e=F()(A0e.prototype,"editImage",[Qze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vrt}}),a4e=F()(A0e.prototype,"cropImage",[Jze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qrt}}),o4e=F()(A0e.prototype,"startRecord",[Xze,Yze,Zze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zrt}}),s4e=F()(A0e.prototype,"stopRecord",[eGe,tGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Grt}}),l4e=F()(A0e.prototype,"playVoice",[rGe,nGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xrt}}),c4e=F()(A0e.prototype,"pauseVoice",[iGe,aGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yrt}}),u4e=F()(A0e.prototype,"stopVoice",[oGe,sGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zrt}}),d4e=F()(A0e.prototype,"onVoicePlayEnd",[lGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ent}}),p4e=F()(A0e.prototype,"chooseVideo",[cGe,uGe,dGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hrt}}),h4e=F()(A0e.prototype,"saveVideoToPhotosAlbum",[pGe,hGe,fGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Krt}}),f4e=F()(A0e.prototype,"getVideoInfo",[gGe,vGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qrt}}),g4e=F()(A0e.prototype,"compressVideo",[mGe,yGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jrt}}),v4e=F()(A0e.prototype,"loadFontFace",[_Ge,bGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tnt}}),m4e=F()(A0e.prototype,"createMediaContainer",[wGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z4}}),y4e=F()(A0e.prototype,"createMediaRecorder",[SGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L7}}),_4e=F()(A0e.prototype,"createVideoDecoder",[CGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g7}}),b4e=F()(A0e.prototype,"openVideoEditor",[IGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j7}}),w4e=F()(A0e.prototype,"createMediaAudioPlayer",[AGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O4}}),S4e=F()(A0e.prototype,"createWebAudioContext",[kGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GX}}),C4e=F()(A0e.prototype,"getLocation",[EGe,TGe,PGe,xGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z2}}),I4e=F()(A0e.prototype,"getFuzzyLocation",[OGe,RGe,MGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C3}}),A4e=F()(A0e.prototype,"openLocation",[DGe,NGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r3}}),k4e=F()(A0e.prototype,"chooseLocation",[LGe,BGe,$Ge,FGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e3}}),E4e=F()(A0e.prototype,"choosePoi",[jGe,WGe,UGe,VGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t3}}),T4e=F()(A0e.prototype,"onLocationChange",[qGe,zGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i3}}),P4e=F()(A0e.prototype,"offLocationChange",[GGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a3}}),x4e=F()(A0e.prototype,"onLocationChangeError",[HGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l3}}),O4e=F()(A0e.prototype,"offLocationChangeError",[KGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c3}}),R4e=F()(A0e.prototype,"startLocationUpdateBackground",[QGe,JGe,XGe,YGe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v3}}),M4e=F()(A0e.prototype,"startLocationUpdate",[ZGe,eHe,tHe,rHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m3}}),D4e=F()(A0e.prototype,"stopLocationUpdate",[nHe,iHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y3}}),N4e=F()(A0e.prototype,"getNetworkType",[aHe,oHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nv}}),L4e=F()(A0e.prototype,"onNetworkStatusChange",[sHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iv}}),B4e=F()(A0e.prototype,"offNetworkStatusChange",[lHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return av}}),$4e=F()(A0e.prototype,"onNetworkWeakChange",[cHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ov}}),F4e=F()(A0e.prototype,"offNetworkWeakChange",[uHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sv}}),j4e=F()(A0e.prototype,"getSystemInfo",[dHe,pHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return __}}),W4e=F()(A0e.prototype,"getSystemInfoSync",[hHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h_}}),U4e=F()(A0e.prototype,"getSystemInfoAsync",[fHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w_}}),V4e=F()(A0e.prototype,"openSystemBluetoothSetting",[gHe,vHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S_}}),q4e=F()(A0e.prototype,"openAppAuthorizeSetting",[mHe,yHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C_}}),z4e=F()(A0e.prototype,"getSystemSetting",[_He],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k_}}),G4e=F()(A0e.prototype,"getAppAuthorizeSetting",[bHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E_}}),H4e=F()(A0e.prototype,"getDeviceInfo",[wHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N_}}),K4e=F()(A0e.prototype,"getWindowInfo",[SHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B_}}),Q4e=F()(A0e.prototype,"getAppBaseInfo",[CHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F_}}),J4e=F()(A0e.prototype,"getRendererUserAgent",[IHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z_}}),X4e=F()(A0e.prototype,"getBatteryInfo",[AHe,kHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K8}}),Y4e=F()(A0e.prototype,"getBatteryInfoSync",[EHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q8}}),Z4e=F()(A0e.prototype,"startAccelerometer",[THe,PHe,xHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y8}}),e7e=F()(A0e.prototype,"stopAccelerometer",[OHe,RHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z8}}),t7e=F()(A0e.prototype,"onAccelerometerChange",[MHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r9}}),r7e=F()(A0e.prototype,"offAccelerometerChange",[DHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t9}}),n7e=F()(A0e.prototype,"startCompass",[NHe,LHe,BHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a9}}),i7e=F()(A0e.prototype,"stopCompass",[$He,FHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o9}}),a7e=F()(A0e.prototype,"onCompassChange",[jHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c9}}),o7e=F()(A0e.prototype,"offCompassChange",[WHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l9}}),s7e=F()(A0e.prototype,"startDeviceMotionListening",[UHe,VHe,qHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kre}}),l7e=F()(A0e.prototype,"stopDeviceMotionListening",[zHe,GHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qre}}),c7e=F()(A0e.prototype,"onDeviceMotionChange",[HHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jre}}),u7e=F()(A0e.prototype,"offDeviceMotionChange",[KHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xre}}),d7e=F()(A0e.prototype,"startGyroscope",[QHe,JHe,XHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vre}}),p7e=F()(A0e.prototype,"stopGyroscope",[YHe,ZHe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qre}}),h7e=F()(A0e.prototype,"onGyroscopeChange",[eKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zre}}),f7e=F()(A0e.prototype,"offGyroscopeChange",[tKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gre}}),g7e=F()(A0e.prototype,"checkIsOpenAccessibility",[rKe,nKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yre}}),v7e=F()(A0e.prototype,"addPhoneCalendar",[iKe,aKe,oKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tne}}),m7e=F()(A0e.prototype,"addPhoneRepeatCalendar",[sKe,lKe,cKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rne}}),y7e=F()(A0e.prototype,"getRandomValues",[uKe,dKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ihe}}),_7e=F()(A0e.prototype,"getWebviewDebugInfo",[pKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ane}}),b7e=F()(A0e.prototype,"reportAction",[hKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w6}}),w7e=F()(A0e.prototype,"getBackgroundAudioManager",[fKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h4}}),S7e=F()(A0e.prototype,"getRecorderManager",[gKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e4}}),C7e=F()(A0e.prototype,"getBackgroundAudioPlayerState",[vKe,mKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rnt}}),I7e=F()(A0e.prototype,"playBackgroundAudio",[yKe,_Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nnt}}),A7e=F()(A0e.prototype,"pauseBackgroundAudio",[bKe,wKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return int}}),k7e=F()(A0e.prototype,"seekBackgroundAudio",[SKe,CKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ant}}),E7e=F()(A0e.prototype,"stopBackgroundAudio",[IKe,AKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ont}}),T7e=F()(A0e.prototype,"onBackgroundAudioPlay",[kKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return snt}}),P7e=F()(A0e.prototype,"onBackgroundAudioPause",[EKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lnt}}),x7e=F()(A0e.prototype,"onBackgroundAudioStop",[TKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cnt}}),O7e=F()(A0e.prototype,"joinVoIPChat",[PKe,xKe,OKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return unt}}),R7e=F()(A0e.prototype,"exitVoIPChat",[RKe,MKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dnt}}),M7e=F()(A0e.prototype,"updateVoIPChatMuteConfig",[DKe,NKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pnt}}),D7e=F()(A0e.prototype,"onVoIPChatMembersChanged",[LKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hnt}}),N7e=F()(A0e.prototype,"onVoIPChatSpeakersChanged",[BKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fnt}}),L7e=F()(A0e.prototype,"onVoIPChatInterrupted",[$Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gnt}}),B7e=F()(A0e.prototype,"offVoIPChatMembersChanged",[FKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vnt}}),$7e=F()(A0e.prototype,"offVoIPChatSpeakersChanged",[jKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mnt}}),F7e=F()(A0e.prototype,"offVoIPChatInterrupted",[WKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ynt}}),j7e=F()(A0e.prototype,"subscribeVoIPVideoMembers",[UKe,VKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _nt}}),W7e=F()(A0e.prototype,"onVoIPVideoMembersChanged",[qKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bnt}}),U7e=F()(A0e.prototype,"offVoIPVideoMembersChanged",[zKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wnt}}),V7e=F()(A0e.prototype,"onVoIPChatStateChanged",[GKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Snt}}),q7e=F()(A0e.prototype,"offVoIPChatStateChanged",[HKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cnt}}),z7e=F()(A0e.prototype,"join1v1Chat",[KKe,QKe,JKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Int}}),G7e=F()(A0e.prototype,"setEnable1v1Chat",[XKe,YKe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ant}}),H7e=F()(A0e.prototype,"requestSubscribeMessage",[ZKe,eQe,tQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aj}}),K7e=F()(A0e.prototype,"requestSubscribeDeviceMessage",[rQe,nQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aj}}),Q7e=F()(A0e.prototype,"login",[iQe,aQe,oQe,sQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m$}}),J7e=F()(A0e.prototype,"logout",[lQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _$}}),X7e=F()(A0e.prototype,"checkSession",[cQe,uQe,dQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y$}}),Y7e=F()(A0e.prototype,"authorize",[pQe,hQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j$}}),Z7e=F()(A0e.prototype,"getUserInfo",[fQe,gQe,vQe,mQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oF}}),e8e=F()(A0e.prototype,"getUserProfile",[yQe,_Qe,bQe,wQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mF}}),t8e=F()(A0e.prototype,"requestPayment",[SQe,CQe,IQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KR}}),r8e=F()(A0e.prototype,"verifyPaymentPassword",[AQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AN}}),n8e=F()(A0e.prototype,"bindPaymentCard",[kQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kx}}),i8e=F()(A0e.prototype,"requestPaymentToBank",[EQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IN}}),a8e=F()(A0e.prototype,"requestVirtualPayment",[TQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P5}}),o8e=F()(A0e.prototype,"openOfflinePayView",[PQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eO}}),s8e=F()(A0e.prototype,"openWCPayCardList",[xQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SN}}),l8e=F()(A0e.prototype,"requestMallPayment",[OQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xx}}),c8e=F()(A0e.prototype,"setCurrentPaySpeech",[RQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wN}}),u8e=F()(A0e.prototype,"loadPaySpeechDialectConfig",[MQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qx}}),d8e=F()(A0e.prototype,"requestJointPayment",[DQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TN}}),p8e=F()(A0e.prototype,"getWCPayOverseaPrepayRequest",[NQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zx}}),h8e=F()(A0e.prototype,"requestH5Transaction",[LQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CN}}),f8e=F()(A0e.prototype,"openWCPayOverseaPaymentReceive",[BQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EN}}),g8e=F()(A0e.prototype,"handleWCPayOverseaWalletBuffer",[$Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yN}}),v8e=F()(A0e.prototype,"requestVerifyUserIdentity",[FQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yx}}),m8e=F()(A0e.prototype,"requestPersonalPay",[jQe,WQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xN}}),y8e=F()(A0e.prototype,"phoneBindCardVerifySms",[UQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jx}}),_8e=F()(A0e.prototype,"faceVerifyForPay",[VQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YF}}),b8e=F()(A0e.prototype,"openOfficialAccountProfile",[qQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZF}}),w8e=F()(A0e.prototype,"openUserProfile",[zQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tj}}),S8e=F()(A0e.prototype,"requestBizSplitBillPayment",[GQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kj}}),C8e=F()(A0e.prototype,"openSelectPayment",[HQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _N}}),I8e=F()(A0e.prototype,"requestEntrustAuthorization",[KQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tO}}),A8e=F()(A0e.prototype,"requestFacetoFacePayment",[QQe,JQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bN}}),k8e=F()(A0e.prototype,"requestQueryCashier",[XQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kN}}),E8e=F()(A0e.prototype,"requestOrderPayment",[YQe,ZQe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vN}}),T8e=F()(A0e.prototype,"checkBeforeAddOrder",[eJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mN}}),P8e=F()(A0e.prototype,"notifyWCPayResult",[tJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ON}}),x8e=F()(A0e.prototype,"openMiniProgramProfile",[rJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ej}}),O8e=F()(A0e.prototype,"openMiniProgramSearch",[nJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UM}}),R8e=F()(A0e.prototype,"openMiniProgramHistoryList",[iJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VM}}),M8e=F()(A0e.prototype,"openMiniProgramStarList",[aJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qM}}),D8e=F()(A0e.prototype,"openMiniProgramAuthManageList",[oJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zM}}),N8e=F()(A0e.prototype,"batchGetContactDirectly",[sJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GM}}),L8e=F()(A0e.prototype,"preloadMiniProgramEnvDirectly",[lJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KM}}),B8e=F()(A0e.prototype,"predownloadMiniProgramPackageDirectly",[cJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QM}}),$8e=F()(A0e.prototype,"preventApplePayUI",[uJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rj}}),F8e=F()(A0e.prototype,"getWxSecData",[dJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nj}}),j8e=F()(A0e.prototype,"addCard",[pJe,hJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OB}}),W8e=F()(A0e.prototype,"openCard",[fJe,gJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RB}}),U8e=F()(A0e.prototype,"checkTrafficCardConditions",[vJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i$}}),V8e=F()(A0e.prototype,"queryTrafficCardInfo",[mJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a$}}),q8e=F()(A0e.prototype,"issueTrafficCard",[yJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o$}}),z8e=F()(A0e.prototype,"rechargeTrafficCard",[_Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s$}}),G8e=F()(A0e.prototype,"setDefaultTrafficCard",[bJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l$}}),H8e=F()(A0e.prototype,"deleteTrafficCard",[wJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c$}}),K8e=F()(A0e.prototype,"addFileToFavorites",[SJe,CJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u$}}),Q8e=F()(A0e.prototype,"addVideoToFavorites",[IJe,AJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d$}}),J8e=F()(A0e.prototype,"openChannelsCreateContact",[kJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p$}}),X8e=F()(A0e.prototype,"getChannelsShareKey",[EJe,TJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f$}}),Y8e=F()(A0e.prototype,"openChannelsPostPage",[PJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g$}}),Z8e=F()(A0e.prototype,"scanCode",[xJe,OJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p9}}),e9e=F()(A0e.prototype,"openQRCode",[RJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h9}}),t9e=F()(A0e.prototype,"scanItem",[MJe,DJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v9}}),r9e=F()(A0e.prototype,"privateScanItem",[NJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m9}}),n9e=F()(A0e.prototype,"chooseAddress",[LJe,BJe,$Je,FJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yF}}),F()(A0e.prototype,"saveFile",[jJe,WJe],Object.getOwnPropertyDescriptor(A0e.prototype,"saveFile"),A0e.prototype),i9e=F()(A0e.prototype,"openDocument",[UJe,VJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ff}}),F()(A0e.prototype,"getSavedFileList",[qJe,zJe],Object.getOwnPropertyDescriptor(A0e.prototype,"getSavedFileList"),A0e.prototype),F()(A0e.prototype,"getSavedFileInfo",[GJe,HJe],Object.getOwnPropertyDescriptor(A0e.prototype,"getSavedFileInfo"),A0e.prototype),F()(A0e.prototype,"getFileInfo",[KJe,QJe],Object.getOwnPropertyDescriptor(A0e.prototype,"getFileInfo"),A0e.prototype),F()(A0e.prototype,"removeSavedFile",[JJe,XJe],Object.getOwnPropertyDescriptor(A0e.prototype,"removeSavedFile"),A0e.prototype),a9e=F()(A0e.prototype,"getFileSystemManager",[YJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U7}}),o9e=F()(A0e.prototype,"saveFileToDisk",[ZJe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hpe}}),s9e=F()(A0e.prototype,"getABTestConfig",[eXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ef}}),l9e=F()(A0e.prototype,"chooseContact",[tXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $nt}}),c9e=F()(A0e.prototype,"removeUserCloudStorage",[rXe,nXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lne}}),u9e=F()(A0e.prototype,"setUserCloudStorage",[iXe,aXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return une}}),d9e=F()(A0e.prototype,"makePhoneCall",[oXe,sXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u9}}),p9e=F()(A0e.prototype,"makeVoIPCall",[lXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d9}}),h9e=F()(A0e.prototype,"onAppRoute",[cXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tT}}),f9e=F()(A0e.prototype,"onAppRouteDone",[uXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AB}}),g9e=F()(A0e.prototype,"onAppEnterBackground",[dXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aT}}),v9e=F()(A0e.prototype,"onAppEnterForeground",[pXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aO}}),m9e=F()(A0e.prototype,"onAppUnhang",[hXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rW}}),y9e=F()(A0e.prototype,"onPageNotFound",[fXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RU}}),_9e=F()(A0e.prototype,"offPageNotFound",[gXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MU}}),b9e=F()(A0e.prototype,"onLazyLoadError",[vXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jU}}),w9e=F()(A0e.prototype,"offLazyLoadError",[mXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FU}}),S9e=F()(A0e.prototype,"onThemeChange",[yXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LF}}),C9e=F()(A0e.prototype,"offThemeChange",[_Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $F}}),I9e=F()(A0e.prototype,"onApiCategoryChange",[bXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KP}}),A9e=F()(A0e.prototype,"offApiCategoryChange",[wXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QP}}),k9e=F()(A0e.prototype,"getApiCategory",[SXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XP}}),E9e=F()(A0e.prototype,"onCopyUrl",[CXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OEe}}),T9e=F()(A0e.prototype,"offCopyUrl",[IXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return REe}}),P9e=F()(A0e.prototype,"createAnimation",[AXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a2}}),x9e=F()(A0e.prototype,"createInnerAudioContext",[kXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oZ}}),O9e=F()(A0e.prototype,"getAvailableAudioSources",[EXe,TXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C4}}),R9e=F()(A0e.prototype,"onAudioInterruptionBegin",[PXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mJ}}),M9e=F()(A0e.prototype,"offAudioInterruptionBegin",[xXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yJ}}),D9e=F()(A0e.prototype,"onAudioInterruptionEnd",[OXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bJ}}),N9e=F()(A0e.prototype,"offAudioInterruptionEnd",[RXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wJ}}),L9e=F()(A0e.prototype,"setInnerAudioOption",[MXe,DXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I4}}),B9e=F()(A0e.prototype,"createCameraContext",[NXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>NG.call(wit,null,Fc.currentWebviewId)}}),$9e=F()(A0e.prototype,"createLivePusherContext",[LXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>aJ.call(wit,null,Fc.currentWebviewId)}}),F9e=F()(A0e.prototype,"onWebviewEvent",[BXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O1}}),j9e=F()(A0e.prototype,"onNativeEvent",[$Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R1}}),W9e=F()(A0e.prototype,"hideKeyboard",[FXe,jXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y1}}),U9e=F()(A0e.prototype,"onKeyboardHeightChange",[WXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r2}}),V9e=F()(A0e.prototype,"offKeyboardHeightChange",[UXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n2}}),q9e=F()(A0e.prototype,"getPublicLibVersion",[VXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xne}}),z9e=F()(A0e.prototype,"showModal",[qXe,zXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qnt}}),G9e=F()(A0e.prototype,"showToast",[GXe,HXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return znt}}),H9e=F()(A0e.prototype,"hideToast",[KXe,QXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gnt}}),K9e=F()(A0e.prototype,"showLoading",[JXe,XXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hnt}}),Q9e=F()(A0e.prototype,"hideLoading",[YXe,ZXe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Knt}}),J9e=F()(A0e.prototype,"showActionSheet",[eYe,tYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jnt}}),X9e=F()(A0e.prototype,"showShareActionSheet",[rYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xnt}}),Y9e=F()(A0e.prototype,"reportAnalytics",[nYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S6}}),Z9e=F()(A0e.prototype,"reportMonitor",[iYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A6}}),eet=F()(A0e.prototype,"getClipboardData",[aYe,oYe,sYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y9}}),tet=F()(A0e.prototype,"setClipboardData",[lYe,cYe,uYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _9}}),ret=F()(A0e.prototype,"createSelectorQuery",[dYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m6}}),net=F()(A0e.prototype,"createIntersectionObserver",[pYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y6}}),iet=F()(A0e.prototype,"createMediaQueryObserver",[hYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _6}}),aet=F()(A0e.prototype,"nextTick",[fYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BO}}),oet=F()(A0e.prototype,"updatePerfData",[gYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sae}}),set=F()(A0e.prototype,"traceEvent",[vYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lae}}),cet=F()(A0e.prototype,"onMemoryWarning",[mYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hae}}),uet=F()(A0e.prototype,"offMemoryWarning",[yYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fae}}),det=F()(A0e.prototype,"reportPerformance",[_Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kae}}),pet=F()(A0e.prototype,"getPerformance",[bYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tle}}),het=F()(A0e.prototype,"getUpdateManager",[wYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xle}}),fet=F()(A0e.prototype,"updateWeChatApp",[SYe,CYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mle}}),get=F()(A0e.prototype,"getPluginUpdateManager",[IYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vle}}),vet=F()(A0e.prototype,"createWorker",[AYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zfe}}),met=F()(A0e.prototype,"voiceSplitJoint",[kYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F4}}),yet=F()(A0e.prototype,"uploadSilkVoice",[EYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j4}}),_et=F()(A0e.prototype,"downloadSilkVoice",[TYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W4}}),bet=F()(A0e.prototype,"getResPath",[PYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U4}}),wet=F()(A0e.prototype,"setResPath",[xYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V4}}),Cet=F()(A0e.prototype,"setCookies",[OYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TO}}),Iet=F()(A0e.prototype,"getCookies",[RYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PO}}),Aet=F()(A0e.prototype,"faceDetect",[MYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fge}}),ket=F()(A0e.prototype,"initFaceDetect",[DYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hge}}),Eet=F()(A0e.prototype,"stopFaceDetect",[NYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gge}}),Tet=F()(A0e.prototype,"createBufferURL",[LYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NIe}}),Pet=F()(A0e.prototype,"revokeBufferURL",[BYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BIe}}),xet=F()(A0e.prototype,"createSignal",[$Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Ie}}),Oet=F()(A0e.prototype,"bindGroup",[FYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ie}}),Ret=F()(A0e.prototype,"joinGroup",[jYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bIe}}),Met=F()(A0e.prototype,"getLabInfo",[WYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zbe}}),Det=F()(A0e.prototype,"setLabInfo",[UYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gbe}}),Net=F()(A0e.prototype,"createUDPSocket",[VYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wpe}}),Let=F()(A0e.prototype,"createTCPSocket",[qYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mce}}),Bet=F()(A0e.prototype,"env",[zYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ive}}),$et=F()(A0e.prototype,"error",[GYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v7}}),Fet=F()(A0e.prototype,"isSystemError",[HYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m7}}),jet=F()(A0e.prototype,"isSDKError",[KYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y7}}),Wet=F()(A0e.prototype,"isThirdError",[QYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _7}}),Uet=F()(A0e.prototype,"createRewardedVideoAd",[JYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yde}}),Vet=F()(A0e.prototype,"createInterstitialAd",[XYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _de}}),qet=F()(A0e.prototype,"createCustomAd",[YYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wde}}),zet=F()(A0e.prototype,"preloadVideoAd",[ZYe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y0}}),Get=F()(A0e.prototype,"preloadAd",[eZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Het=F()(A0e.prototype,"getLogManager",[tZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gie}}),Ket=F()(A0e.prototype,"getRealtimeLogManager",[rZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zie}}),Qet=F()(A0e.prototype,"getExptInfo",[nZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hR}}),Jet=F()(A0e.prototype,"getExptInfoSync",[iZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fR}}),Xet=F()(A0e.prototype,"getCommonConfig",[aZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FIe}}),Yet=F()(A0e.prototype,"reportEvent",[oZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vR}}),Zet=F()(A0e.prototype,"reportStableEvent",[sZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mR}}),ett=F()(A0e.prototype,"getChannelsLiveInfo",[lZe,cZe,uZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qIe}}),ttt=F()(A0e.prototype,"getChannelsLiveState",[dZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zIe}}),rtt=F()(A0e.prototype,"getChannelsLiveReservation",[pZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GIe}}),ntt=F()(A0e.prototype,"getChannelsLiveNoticeInfo",[hZe,fZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HIe}}),itt=F()(A0e.prototype,"openChannelsLive",[gZe,vZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XIe}}),att=F()(A0e.prototype,"openChannelsActivity",[mZe,yZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tAe}}),ott=F()(A0e.prototype,"openChannelsUserProfile",[_Ze,bZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZIe}}),stt=F()(A0e.prototype,"openChannelsLiveCollection",[wZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rAe}}),ltt=F()(A0e.prototype,"openChannelsEvent",[SZe,CZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nAe}}),ctt=F()(A0e.prototype,"reserveChannelsLive",[IZe,AZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iAe}}),utt=F()(A0e.prototype,"openPublicServicePayment",[kZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cAe}}),dtt=F()(A0e.prototype,"version",[EZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EI()}}),ptt=F()(A0e.prototype,"chooseShareGroup",[TZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aae}}),htt=F()(A0e.prototype,"enterContact",[PZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iae}}),ftt=F()(A0e.prototype,"getGroupEnterInfo",[xZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pj}}),gtt=F()(A0e.prototype,"preloadWebview",[OZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hue}}),vtt=F()(A0e.prototype,"preloadSkylineView",[RZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yue}}),mtt=F()(A0e.prototype,"getSkylineInfo",[MZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cue}}),ytt=F()(A0e.prototype,"getSkylineInfoSync",[DZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aue}}),_tt=F()(A0e.prototype,"publishWeChatState",[NZe,LZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $j}}),btt=F()(A0e.prototype,"publishWechatStateActivity",[BZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lj}}),wtt=F()(A0e.prototype,"checkPublishWeChatStateScene",[$Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bj}}),Stt=F()(A0e.prototype,"lanDebug",[FZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pke}}),Ctt=F()(A0e.prototype,"createVKSession",[jZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jfe}}),Itt=F()(A0e.prototype,"createVKReference",[WZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wfe}}),Att=F()(A0e.prototype,"isVKSupport",[UZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ufe}}),ktt=F()(A0e.prototype,"createCacheManager",[VZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lbe}}),Ett=F()(A0e.prototype,"getDebuggerMessager",[qZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AEe}}),Ttt=F()(A0e.prototype,"chooseLicensePlate",[zZe,GZe,HZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jj}}),Ptt=F()(A0e.prototype,"createSharedArrayBuffer",[KZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cz}}),xtt=F()(A0e.prototype,"createInferenceSession",[QZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vg}}),Ott=F()(A0e.prototype,"preloadAssets",[JZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UEe}}),Rtt=F()(A0e.prototype,"addToDesktop",[XZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rTe}}),Mtt=F()(A0e.prototype,"setPassiveEvent",[YZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iTe}}),Dtt=F()(A0e.prototype,"router",[ZZe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eue()}}),Ntt=F()(A0e.prototype,"worklet",[e0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tue()}}),Ltt=F()(A0e.prototype,"serviceMarket",[t0e,r0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Btt=F()(A0e.prototype,"cloud",[n0e,i0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$tt=F()(A0e.prototype,"getXrFrameSystem",[a0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ope}}),Ftt=F()(A0e.prototype,"onXrFrameTouchEventNegotiation",[o0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r,n=null!==(r=null==e?void 0:e.is)&&void 0!==r?r:"unknown component",i=E.surroundThirdByTryCatch(t,`at xrFrame touch event negotiator of "${n}"`);ir.xrFrameTouchEvent.onNegotiation(e,i)}}}),jtt=F()(A0e.prototype,"addDevicePanel",[s0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vj}}),Wtt=F()(A0e.prototype,"removeDevicePanel",[l0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qj}}),Utt=F()(A0e.prototype,"getDevicePanelList",[c0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zj}}),Vtt=F()(A0e.prototype,"canIUseDevicePanel",[u0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gj}}),qtt=F()(A0e.prototype,"preDownloadSubpackage",[d0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d5}}),ztt=F()(A0e.prototype,"pay",[p0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hTe}}),Gtt=F()(A0e.prototype,"notifyPayResult",[h0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VW}}),Htt=F()(A0e.prototype,"checkIsPictureInPictureActive",[f0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Txe}}),Ktt=F()(A0e.prototype,"editTextWithPopForm",[g0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xpe}}),Qtt=F()(A0e.prototype,"openAddressWithLightMode",[v0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qpe}}),Jtt=F()(A0e.prototype,"getGMCryptoManager",[m0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sEe}}),Xtt=F()(A0e.prototype,"getUserCryptoManager",[y0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bke}}),Ytt=F()(A0e.prototype,"batchAddDevicePanel",[_0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hj}}),Ztt=F()(A0e.prototype,"checkIsAddedToMyMiniProgram",[b0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zj}}),ert=F()(A0e.prototype,"openCTID",[w0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wj}}),trt=F()(A0e.prototype,"openWeComUserProfile",[S0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qU}}),rrt=F()(A0e.prototype,"getInferenceEnvInfo",[C0e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zg}}),I0e=A0e))||I0e)||I0e)||I0e)||I0e)||I0e)||I0e)||I0e)||I0e),wit=new bit;DIe(wit),oEe(),Ipe((()=>({env:Ive,downloadFile:vm,getFileSystemManager:U7,encode:ZEe,decode:eTe,base64ToArrayBuffer:WS,getStorage:drt,getStorageSync:prt,setStorage:nrt,setStorageSync:irt,removeStorage:Crt,removeStorageSync:Irt,clearStorage:Ert,clearStorageSync:Trt,getStorageInfo:_rt,getStorageInfoSync:brt,onAppShow:VA,offAppShow:qA,onAppHide:ek,offAppHide:tk,createVKSession:jfe,isVKSupport:Ufe,getSystemInfoSync:h_,createVideoDecoder:g7,createMediaAudioPlayer:O4,createBufferURL:NIe,showShareImageMenu:pit,getCurrentPath:()=>Fc.lastRoute}))),kpe((()=>wit.cloud)),Br("INVOKE_METHOD",(({name:e,args:t})=>{wit[e](t,!0)})),Br("WEBVIEW_ERROR_MSG",(({msg:e})=>{T.triggerErrorMessage(e)}));var Sit=Object.getOwnPropertyNames(Object.getPrototypeOf(wit)),Cit=Object.getOwnPropertyNames(wit),Iit=Sit.concat(Cit).reduce(((e,t)=>("constructor"===t||(e[t]=wit[t]),e)),{});H.onReady((()=>{Be()&&(Iit.openWCPayLQTDetail=kIe,Iit.openWCPayLQTSave=EIe,Iit.openWCPayLQTDepositPlan=TIe,Iit.openWCPayLQTDepositPlanAdd=PIe,Object.defineProperty(Iit,"reportIDKey",{get:()=>function(e={}){qu("reportIDKey",e)},configurable:!0})),H.exportBaseMethods&&(Iit.getBaseMethods=IIe)})),eOe(Iit,!0),H.onReady((()=>{Be()&&(Iit.openWCPayLQTDetail=kIe,Iit.openWCPayLQTSave=EIe,Iit.openWCPayLQTDepositPlan=TIe,Iit.openWCPayLQTDepositPlanAdd=PIe,Object.defineProperty(Iit,"reportIDKey",{get:()=>function(e={}){qu("reportIDKey",e)},configurable:!0})),H.exportBaseMethods&&(Iit.getBaseMethods=IIe)}));var Ait={wx:Iit,createPluginWX:_ve,buildPluginPrivateApi:whe,createPluginConsole:bve,createPluginWXWebAssembly:wve,onAppRouteResized:_U,showShareMenu:sit,setWxInterfaceDisabled:YC,setWxInterfaceIsInvokeInTap:Zd,unsetWxInterfaceIsInvokeInTap:ep,_setWxIsInvokeInTapForNavToMiniProgram:cT,_createSelectorQuery:o6,_createIntersectionObserver:p6,_createMediaQueryObserver:v6,_assignOpenerEventChannelToPage:wh,_getPageOpenerEventChannel:Sh,pluginInfos:Sve,_virtualDOMTunnel:Ave(Rr,Br),...E1,saveExitState:NU,loadExitState:LU,createRouter:EC,setEnableDebug:One,_apiData:j8,loadSubpackage:Y6,setAppServiceEngine:lr,setExparser:vr,setSubContextEngineSub:pr,setVirtualDOM:ar,setWxModule:ur,setCloudSDK:yr,requestPluginPaymentEmitter:YN,getProxiedIntl:Pxe,workletSDK:{registerJsValue:Rue,...y},xrFrame:{getCanvasContext:Dpe,createXrFrame:Mpe,assignCanvasNodeIdToXrFrame:DV},splitOnBridgeListener:V,exportGlobal:{wx:Iit,get WXWebAssembly(){return cge()},Path2D:MQ},loadPreloadSdkSubPackage:Wxe,checkContext:r6};H.onReady((()=>{Be()&&(Iit.openWCPayLQTDetail=kIe,Iit.openWCPayLQTSave=EIe,Iit.openWCPayLQTDepositPlan=TIe,Iit.openWCPayLQTDepositPlanAdd=PIe,Object.defineProperty(Iit,"reportIDKey",{get:()=>function(e={}){qu("reportIDKey",e)},configurable:!0})),H.exportBaseMethods&&(Iit.getBaseMethods=IIe)})),wPe()&&(Ait.wx.invokeThird=SPe,Ait.wx.onThird=CPe),kve(Ait,O,Iit),kve(Ait,R,Iit),kve(Ait,D,Iit),DLe(Ait),J({...D,...Ait});const kit=Ait})(),w=P.default})();var P=w.wx;w.setCloudSDK(u),Object.assign(n,w.exportGlobal);var O=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=r(1),i=r(3),a=r(5),o=r(6),s=r(7),l=r(8),c=r(9),u=r(15),d=r(12),p=r(17),h=r(18),f=r(19),g=r(16),v=r(10),m=r(20),y=r(14),_=r(4),b=r(13),w=r(21);t.FreeTmpl=w,t.precompileTemplate=w.precompiler?w.precompiler.compile:null,t.precompiler=w.precompiler?w.precompiler:null,t.HtmlLLParser=w.htmlParser?w.htmlParser:null,t.LLParser=n,t.dataPath=s,t.dataUtils=a,t.Event=o,t.Element=c,t.TextNode=d,t.NativeNode=p,t.VirtualNode=h,t.ShadowRoot=f,t.Behavior=l,t.Component=u,t.Observer=v,t.DataGroup=g,t.ElementIterator=m,t.FakeDomElement=y,t.registerBehavior=l.create,t.registerElement=u.register,t.createElement=u.create,t.createTextNode=d.create,t.createVirtualNode=h.create,t.appendChild=c.appendChild,t.insertBefore=c.insertBefore,t.removeChild=c.removeChild,t.replaceChild=c.replaceChild,t.addListenerToElement=o.addListenerToElement,t.removeListenerFromElement=o.removeListenerFromElement,t.triggerEvent=o.triggerEvent,t.safeCallback=i.safeCallback,t.addGlobalErrorListener=i.addGlobalErrorListener,t.removeGlobalErrorListener=i.removeGlobalErrorListener,t.addGlobalWarningListener=i.addGlobalWarningListener,t.removeGlobalWarningListener=i.removeGlobalWarningListener,t.globalOptions=_,t.globalState=b,u._setDefaultTemplateEngine(w),(t.updateDefaultComponent=function(){delete u._list[""],u.register({is:"",options:{writeOnly:!0,allowInWriteOnly:!0,lazyRegistration:!1,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1}})})();var S=function(e){var t="";if(e instanceof O.Element&&(e.id&&(t+=' id="'+e.id+'"'),e.slot&&(t+=' slot="'+e.slot+'"'),e.__slotName&&(t+=' name="'+e.__slotName+'"'),e.classList&&(t+=' class="'+e.class+'"'),e.$$&&e.$$.getAttribute("style")&&(t+=' style="'+e.$$.getAttribute("style")+'"')),e instanceof O.VirtualNode)return t;if(e instanceof O.Component)return u.listPublicProperties(e).forEach((function(r){t+=" "+r+"="+JSON.stringify(e[r])})),t;for(var r=e.attributes,n=0;n<r.length;n++)t+=" "+r[n].name+'="'+r[n].value+'"';return t},C=t.dumpElementToString=function(e,t,r){var n=null;_.hasDOMBackend&&(n=window);var i=0,a="";for(i=r=r||0;i;i--)a+="  ";var o="";if(e instanceof O.Element)o+=a+"<"+(e.$$?e.$$.tagName.toLowerCase()+":":"")+e.is+S(e)+">",o+=e instanceof O.VirtualNode?" [Exp-Virtual]":e instanceof O.NativeNode?" [Exp-Native]":" [Exp-Component]",o+="\n"+C(t?e.__wxSlotChildren:e.childNodes,t,r+1);else if(e instanceof O.TextNode)o+=a+e.textContent+" [Exp-Text]\n";else if(n&&n.HTMLElement&&e instanceof n.HTMLElement)o+=a+"<"+e.tagName.toLowerCase()+S(e)+"> [DOM-Element]",o+="\n"+C(t&&e.__wxSlotChildren||e.childNodes,t,r+1);else if(n&&n.Text&&e instanceof n.Text)o+=a+e.textContent+" [DOM-Text]\n";else if(void 0!==e.length)for(i=0;i<e.length;i++)o+=C(e[i],t,r);else o=a+"[unknown node]\n";return o};t.dumpElement=function(e,t){console.log(C(e,t))}},function(e,t,r){var n=null,i=function(){},a=i.stats={all:0,copyIn:0,parse:0,constructOut:0},o=function(e){return n.llparser_create_descriptor(e,1)},s=function(e,t){var r=n.llparser_create_descriptor(e,0),i=!1;"^"===t[0]&&(i=!0);for(var a=i?1:0;a<t.length;a++){var o=t.charCodeAt(a);if("-"===t[a+1]){var s=t.charCodeAt(a+2);o<=s?(n.llparser_descriptor_add_range(r,o,s),a+=2):n.llparser_descriptor_add_char(r,o)}else n.llparser_descriptor_add_char(r,o)}return i&&n.llparser_descriptor_revert(r),r};i.create=function(e,t,a){n||(n=r(2));var l=new i;a=a||16384;var c=l._llp=n.llparser_create(a,128,128),u={},d={},p="";for(p in u.ALL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_all(u.ALL),u.NULL=n.llparser_create_descriptor(c,0),n.llparser_descriptor_set_nil(u.NULL),e)u[p]=o(c);for(p in e)for(var h=e[p],f=u[p],g=0;g<h.length;g++){for(var v=h[g].id,m=h[g].states,y=[],_=0;_<m.length;_++){var b=m[_];u[b]||(u[b]=s(c,b)),y.push(u[b])}var w=0;"_raw"===v?w=1:"_jump"===v?w=65536:"_blank"===v&&(w=65537);var S=n.llparser_add_rule(c,w,f,y.length,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7]);0===w&&(d[S]=t[v])}return n.llparser_prepare(c),l._inputPtr=n.llparser_get_input_buffer(c),l._resultPtr=n.llparser_get_result(c),l._stateIdMap=u,l._ruleCbMap=d,l._charCountLimit=a,l};i.prototype.parse=function(e,t){var r=Date.now();(function(e,t,r,n){for(var i=n>e.length?e.length:n,a=0;a<i;a++)t[r+a]=e.charCodeAt(a);t[r+i]=0})(t,new Uint16Array(n.memory.buffer),this._inputPtr>>1,this._charCountLimit),a.copyIn=a.copyIn+Date.now()-r,r=Date.now();var i=n.llparser_parse(this._llp,this._stateIdMap[e]);if(a.parse=a.parse+Date.now()-r,r=Date.now(),i)throw new Error("Parsing failed at character position "+(i-1)+' near "'+t.slice(i-20,i)+'"');var o=function(e,t,r,n,i){for(var a=[],o={i:0,r:0,n:!1,cc:-1,c:[]},s=o,l=i.pos,c=!1,u=!1,d=!1;;){var p=t[l],h=t[l+1];if(h<0?(u=!0,h=-h-1):u=!1,p>=0){d=!0;var f=r.slice(p,h);s.c.push(f),c=u}else{if(-1===p&&0===h)break;d=!1;var g=-p,v=h,m={i:s.c.length-(c?1:0),r:g,n:u,cc:v,c:[]};if(c){var y=s.c.length-1,_=s.c[y];m.c.push(_),s.c[y]=m}else s.c.push(m);a.push(s),s=m,c=!1}if(!d||!c)for(;s.c.length===s.cc;){c=s.n;var b=a.pop();if(b.c[s.i]=n[s.r].call(e,s.c),s=b,c)break}l+=2}return o.c[0]}(this,new Int32Array(n.memory.buffer),t,this._ruleCbMap,{pos:this._resultPtr>>2});return a.constructOut=a.constructOut+Date.now()-r,o},i.prototype.destroy=function(){n.llparser_destroy(this._llp)},e.exports=i},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(e,t,r){return m.llparser_create(e,t,r)}function i(e){m.llparser_destroy(e)}function a(e,t){return m.llparser_create_descriptor(e,t)}function o(e){m.llparser_descriptor_set_all(e)}function s(e){m.llparser_descriptor_set_nil(e)}function l(e,t){m.llparser_descriptor_add_char(e,t)}function c(e,t,r){m.llparser_descriptor_add_range(e,t,r)}function u(e){m.llparser_descriptor_revert(e)}function d(e,t,r,n,i,a,o,s,l,c,u,d){return m.llparser_add_rule(e,t,r,n,i,a,o,s,l,c,u,d)}function p(e){m.llparser_prepare(e)}function h(e,t){return m.llparser_parse(e,t)}function f(e){return m.llparser_get_input_buffer(e)}function g(e){return m.llparser_get_result(e)}function v(){m.wasm_main()}r.r(t),r.d(t,"llparser_create",(function(){return n})),r.d(t,"llparser_destroy",(function(){return i})),r.d(t,"llparser_create_descriptor",(function(){return a})),r.d(t,"llparser_descriptor_set_all",(function(){return o})),r.d(t,"llparser_descriptor_set_nil",(function(){return s})),r.d(t,"llparser_descriptor_add_char",(function(){return l})),r.d(t,"llparser_descriptor_add_range",(function(){return c})),r.d(t,"llparser_descriptor_revert",(function(){return u})),r.d(t,"llparser_add_rule",(function(){return d})),r.d(t,"llparser_prepare",(function(){return p})),r.d(t,"llparser_parse",(function(){return h})),r.d(t,"llparser_get_input_buffer",(function(){return f})),r.d(t,"llparser_get_result",(function(){return g})),r.d(t,"wasm_main",(function(){return v})),r.d(t,"memory",(function(){return y}));var m=r(1),y=m.memory;m.__wbindgen_start()},function(e,t,r){"use strict";r.r(t),r.d(t,"memory",(function(){return a})),r.d(t,"rust_calloc",(function(){return o})),r.d(t,"rust_free",(function(){return s})),r.d(t,"llparser_create",(function(){return l})),r.d(t,"llparser_destroy",(function(){return c})),r.d(t,"llparser_create_descriptor",(function(){return u})),r.d(t,"llparser_descriptor_set_all",(function(){return d})),r.d(t,"llparser_descriptor_set_nil",(function(){return p})),r.d(t,"llparser_descriptor_add_char",(function(){return h})),r.d(t,"llparser_descriptor_add_range",(function(){return f})),r.d(t,"llparser_descriptor_revert",(function(){return g})),r.d(t,"llparser_add_rule",(function(){return v})),r.d(t,"llparser_prepare",(function(){return m})),r.d(t,"llparser_parse",(function(){return y})),r.d(t,"llparser_get_input_buffer",(function(){return _})),r.d(t,"llparser_get_result",(function(){return b})),r.d(t,"wasm_main",(function(){return w})),r.d(t,"__wbindgen_start",(function(){return S}));var n=new ArrayBuffer(1114112),i=function(e,t,r){function n(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0;r=(t=e+-8|0)+(e=-8&(i=f[e+-4>>2]))|0;e:{t:{r:{n:{i:if(!(1&i)){if(!(3&i))break n;if(e=(i=f[t>>2])+e|0,(0|(t=t-i|0))==f[262246]){if(3!=(3&f[r+4>>2]))break i;return f[262244]=e,f[r+4>>2]=-2&f[r+4>>2],f[t+4>>2]=1|e,void(f[e+t>>2]=e)}i>>>0>=256?s(t):(0|(n=f[t+8>>2]))==(0|(a=f[t+12>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[n+12>>2]=a,f[a+8>>2]=n)}if(2&(i=f[r+4>>2]))f[r+4>>2]=-2&i,f[t+4>>2]=1|e,f[e+t>>2]=e;else{i:{if(f[262247]!=(0|r)){if((0|r)!=f[262246])break i;return f[262246]=t,e=f[262244]+e|0,f[262244]=e,f[t+4>>2]=1|e,void(f[e+t>>2]=e)}if(f[262247]=t,e=f[262245]+e|0,f[262245]=e,f[t+4>>2]=1|e,(0|t)==f[262246]&&(f[262244]=0,f[262246]=0),(r=f[262254])>>>0>=e>>>0)break n;if(!(e=f[262247]))break n;a:if(!((i=f[262245])>>>0<41))for(t=1049e3;;){if((n=f[t>>2])+f[t+4>>2]>>>0>e>>>0&&n>>>0<=e>>>0)break a;if(!(t=f[t+8>>2]))break}if(n=4095,e=f[262252]){for(t=0;t=t+1|0,e=f[e+8>>2];);n=t>>>0>4095?t:4095}if(f[262256]=n,i>>>0<=r>>>0)break n;return void(f[262254]=-1)}if(e=(n=-8&i)+e|0,n>>>0>=256?s(r):(0|(n=f[r+12>>2]))==(0|(r=f[r+8>>2]))?(l=1048576,c=f[262144]&d(i>>>3),f[l>>2]=c):(f[r+12>>2]=n,f[n+8>>2]=r),f[t+4>>2]=1|e,f[e+t>>2]=e,f[262246]==(0|t)){f[262244]=e;break n}}if(e>>>0<256)break r;if(o(t,e),e=f[262256]+-1|0,f[262256]=e,!e){if(e=f[262252])break t;e=4095;break e}}return}return e=1048584+((r=e>>>3)<<3)|0,i=f[262144],r=1<<(31&r),n=f[e+8>>2],i&r||(f[262144]=r|i,n=e),r=n,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,void(f[t+8>>2]=r)}for(t=0;t=t+1|0,e=f[e+8>>2];);e=t>>>0>4095?t:4095}f[262256]=e}function i(e,t,r,n,a){var o;if(b=o=b-48|0,f[o+44>>2]=e,f[o+40>>2]=t,f[o+36>>2]=r,f[o+32>>2]=n,f[o+28>>2]=a,f[f[o+40>>2]>>2]!=f[o+36>>2])for(f[f[o+40>>2]>>2]=f[o+36>>2],f[o+24>>2]=f[f[o+40>>2]+136>>2],f[o+20>>2]=1&(0!=f[o+28>>2]^-1^-1);f[o+24>>2];){for(f[o+20>>2]||(f[o+28>>2]=f[o+24>>2]),f[o+16>>2]=f[f[f[o+24>>2]>>2]+8>>2],1==f[f[o+16>>2]+4>>2]&&i(f[o+44>>2],f[o+16>>2],f[o+36>>2],f[o+32>>2],f[o+28>>2]),f[o+12>>2]=0;!(f[o+12>>2]>=128);)g[f[o+12>>2]+(f[o+16>>2]+8|0)|0]&&(m[f[o+28>>2]>>2]>=m[f[o+32>>2]+(f[o+12>>2]<<2)>>2]&&f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]||(f[f[o+32>>2]+(f[o+12>>2]<<2)>>2]=f[f[o+28>>2]>>2])),f[o+12>>2]=f[o+12>>2]+1;f[o+24>>2]=f[f[o+24>>2]+4>>2]}b=o+48|0}function a(e,t,r,n){var i;for(f[44+(i=b-48|0)>>2]=e,f[i+40>>2]=t,f[i+36>>2]=r,f[i+32>>2]=n,f[i+28>>2]=f[f[i+40>>2]+136>>2];f[i+28>>2];){if(f[i+24>>2]=f[f[f[i+28>>2]>>2]+8>>2],f[i+24>>2]==f[i+40>>2])for(f[i+20>>2]=f[f[f[i+28>>2]>>2]+12>>2],f[i+16>>2]=0;!(f[i+16>>2]>=128);){e:{if(1!=f[f[i+20>>2]+4>>2]){if(!g[f[i+16>>2]+(f[i+20>>2]+8|0)|0])break e}else if(f[i+12>>2]=f[f[i+44>>2]+32>>2]+((f[i+20>>2]-f[f[i+44>>2]+24>>2]|0)/140<<9),!f[f[i+12>>2]+(f[i+16>>2]<<2)>>2])break e;m[f[i+28>>2]>>2]>=m[f[i+32>>2]+(f[i+16>>2]<<2)>>2]&&f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]||(f[f[i+32>>2]+(f[i+16>>2]<<2)>>2]=f[f[i+28>>2]>>2])}f[i+16>>2]=f[i+16>>2]+1}f[i+28>>2]=f[f[i+28>>2]+4>>2]}}function o(e,t){var r=0,n=0,i=0,a=0;f[e+16>>2]=0,f[e+20>>2]=0,i=e,r=0,(n=t>>>8)&&(r=31,t>>>0>16777215||(r=62+((t>>>(6-(n=_(n))&31)&1)-(n<<1)|0)|0)),f[i+28>>2]=r,i=1048848+(r<<2)|0;e:{t:{r:{n:{if((a=f[262145])&(n=1<<(31&r))){if(n=f[i>>2],(-8&f[n+4>>2])!=(0|t))break n;r=n;break r}f[262145]=n|a,f[i>>2]=e,f[e+24>>2]=i;break e}for(i=t<<(31==(0|r)?0:25-(r>>>1)&31);;){if(!(r=f[(a=16+((i>>>29&4)+n|0)|0)>>2]))break t;if(i<<=1,n=r,(-8&f[r+4>>2])==(0|t))break}}return t=f[r+8>>2],f[t+12>>2]=e,f[r+8>>2]=e,f[e+24>>2]=0,f[e+12>>2]=r,void(f[e+8>>2]=t)}f[a>>2]=e,f[e+24>>2]=n}f[e+12>>2]=e,f[e+8>>2]=e}function s(e){var t,r=0,n=0,i=0,a=0,o=0,s=0;t=f[e+24>>2];e:{t:{if((0|e)==(0|(r=f[e+12>>2]))){if(i=f[(r=e+20|0)>>2],n=f[(i?20:16)+e>>2])break t;r=0;break e}n=f[e+8>>2],f[n+12>>2]=r,f[r+8>>2]=n;break e}for(i=i?r:e+16|0;a=i,(n=f[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=f[r+16>>2]),n;);f[a>>2]=0}e:if(t){n=1048848+(f[e+28>>2]<<2)|0;t:{if((0|e)==f[n>>2]){if(f[n>>2]=r,r)break t;return o=1048580,s=f[262145]&d(f[e+28>>2]),void(f[o>>2]=s)}if(f[(f[t+16>>2]==(0|e)?16:20)+t>>2]=r,!r)break e}f[r+24>>2]=t,(n=f[e+16>>2])&&(f[r+16>>2]=n,f[n+24>>2]=r),(e=f[e+20>>2])&&(f[r+20>>2]=e,f[e+24>>2]=r)}}function l(e,t){return 0|function(e){var t;return!(t=function(e){var t=0,r=0,n=0,i=0,a=0,l=0,c=0,h=0,g=0,v=0,y=0;e:{t:{r:{if(e>>>0>=245){if(e>>>0>=4294901709)break t;if(i=-8&(e=e+11|0),!(h=f[262145]))break r;r=0-i|0,c=0,(e>>>=8)&&(c=31,i>>>0>16777215||(c=62+((i>>>(6-(e=_(e))&31)&1)-(e<<1)|0)|0));n:{i:{if(e=f[1048848+(c<<2)>>2]){for(a=i<<(31==(0|c)?0:25-(c>>>1)&31);;){if(!((l=-8&f[e+4>>2])>>>0<i>>>0||(l=l-i|0)>>>0>=r>>>0||(n=e,r=l))){r=0;break i}if(l=f[e+20>>2],e=f[16+((a>>>29&4)+e|0)>>2],t=l&&(0|l)!=(0|e)?l:t,a<<=1,!e)break}if(t){e=t;break i}if(n)break n}if(n=0,!(e=(0-(e=2<<(31&c))|e)&h))break r;if(!(e=f[1048848+(u(e&0-e)<<2)>>2]))break r}for(;n=(l=(a=(t=-8&f[e+4>>2])-i|0)>>>0<r>>>0&t>>>0>=i>>>0)?e:n,r=l?a:r,e=(t=f[e+16>>2])||f[e+20>>2];);if(!n)break r}if(r>>>0>=(e=f[262244])-i>>>0&&e>>>0>=i>>>0)break r;s(n);n:if(r>>>0>=16){if(f[n+4>>2]=3|i,f[4+(t=n+i|0)>>2]=1|r,f[t+r>>2]=r,r>>>0>=256){o(t,r);break n}e=1048584+((r>>>=3)<<3)|0,a=f[262144],r=1<<(31&r),c=f[e+8>>2],a&r||(f[262144]=r|a,c=e),r=c,f[e+8>>2]=t,f[r+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=r}else e=r+i|0,f[n+4>>2]=3|e,f[4+(e=e+n|0)>>2]=1|f[e+4>>2];return n+8|0}n:{i:{if(!(3&(e=(t=f[262144])>>>(n=31&(r=(i=e>>>0<11?16:e+11&-8)>>>3))))){if(i>>>0<=m[262244])break r;if(e)break i;if(!(e=f[262145]))break r;for(t=f[1048848+(u(e&0-e)<<2)>>2],r=(-8&f[t+4>>2])-i|0,a=t;;){if(!(e=f[t+16>>2])&&!(e=f[t+20>>2]))break n;r=(t=(n=(-8&f[e+4>>2])-i|0)>>>0<r>>>0)?n:r,a=t?e:a,t=e}}r=(e=f[1048592+(l=(n=r+(1&(-1^e))|0)<<3)>>2])+8|0,(0|(a=f[e+8>>2]))==(0|(l=l+1048584|0))?(v=1048576,y=d(n)&t,f[v>>2]=y):(f[a+12>>2]=l,f[l+8>>2]=a),t=n<<3,f[e+4>>2]=3|t,f[4+(e=e+t|0)>>2]=1|f[e+4>>2];break t}return n=u(0-(e=(r=e<<n)&(0-(e=2<<n)|e))&e),e=f[1048592+(a=n<<3)>>2],(0|(r=f[e+8>>2]))==(0|(a=a+1048584|0))?(v=1048576,y=d(n)&t,f[v>>2]=y):(f[r+12>>2]=a,f[a+8>>2]=r),a=e+8|0,f[e+4>>2]=3|i,r=(t=n<<3)-i|0,f[4+(l=e+i|0)>>2]=1|r,f[e+t>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r,a}return s(a),r>>>0>=16?(f[a+4>>2]=3|i,f[4+(l=i+a|0)>>2]=1|r,f[r+l>>2]=r,(e=f[262244])&&(e=1048584+((n=e>>>3)<<3)|0,t=f[262246],i=f[262144],n=1<<(31&n),c=f[e+8>>2],i&n||(f[262144]=n|i,c=e),n=c,f[e+8>>2]=t,f[n+12>>2]=t,f[t+12>>2]=e,f[t+8>>2]=n),f[262246]=l,f[262244]=r):(e=r+i|0,f[a+4>>2]=3|e,f[4+(e=e+a|0)>>2]=1|f[e+4>>2]),a+8|0}r:{n:{i:{a:{if((t=f[262244])>>>0<i>>>0){if((e=f[262245])>>>0>i>>>0)break e;if(r=0,-1==(0|(t=p((e=i+65583|0)>>>16))))break t;if(!(n=t<<16))break t;if(e=(a=-65536&e)+f[262248]|0,f[262248]=e,t=f[262249],f[262249]=t>>>0>e>>>0?t:e,!(r=f[262247]))break a;for(e=1049e3;;){if((0|n)==((t=f[e>>2])+(l=f[e+4>>2])|0))break i;if(!(e=f[e+8>>2]))break}break n}return e=f[262246],(n=t-i|0)>>>0<=15?(f[262246]=0,f[262244]=0,f[e+4>>2]=3|t,i=4+(t=e+t|0)|0,r=1|f[t+4>>2]):(f[262244]=n,r=e+i|0,f[262246]=r,f[r+4>>2]=1|n,f[e+t>>2]=n,r=3|i,i=e+4|0),f[i>>2]=r,e+8|0}for((e=f[262255])>>>0<=n>>>0&&e||(f[262255]=n),e=0,f[262256]=4095,f[262251]=a,f[262250]=n,f[262253]=0;t=e+1048584|0,f[e+1048592>>2]=t,f[e+1048596>>2]=t,256!=(0|(e=e+8|0)););f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}if(!(f[e+12>>2]|n>>>0<=r>>>0|t>>>0>r>>>0)){f[e+4>>2]=a+l,t=(e=f[262247])+15&-8,f[262247]=t+-8,r=8+((n=a+f[262245]|0)+(e-t|0)|0)|0,f[262245]=r,f[t+-4>>2]=1|r,f[4+(e+n|0)>>2]=40,f[262254]=2097152;break r}}e=f[262255],f[262255]=e>>>0<n>>>0?e:n,t=n+a|0,e=1049e3;n:{for(;;){if((0|t)!=f[e>>2]){if(e=f[e+8>>2])continue;break n}break}if(!f[e+12>>2]){f[e>>2]=n,f[e+4>>2]=a+f[e+4>>2],f[n+4>>2]=3|i,a=n+i|0,i=(t-n|0)-i|0;i:{a:{if((0|t)!=f[262247]){if(f[262246]==(0|t))break a;if(1==(3&(e=f[t+4>>2]))&&((r=-8&e)>>>0>=256?s(t):(0|(l=f[t+12>>2]))==(0|(c=f[t+8>>2]))?(v=1048576,y=f[262144]&d(e>>>3),f[v>>2]=y):(f[c+12>>2]=l,f[l+8>>2]=c),i=r+i|0,t=t+r|0),f[t+4>>2]=-2&f[t+4>>2],f[a+4>>2]=1|i,f[i+a>>2]=i,i>>>0>=256){o(a,i);break i}e=1048584+((t=i>>>3)<<3)|0,r=f[262144],t=1<<(31&t),c=f[e+8>>2],r&t||(f[262144]=t|r,c=e),r=c,f[e+8>>2]=a,f[r+12>>2]=a,f[a+12>>2]=e,f[a+8>>2]=r;break i}f[262247]=a,e=f[262245]+i|0,f[262245]=e,f[a+4>>2]=1|e;break i}f[262246]=a,e=f[262244]+i|0,f[262244]=e,f[a+4>>2]=1|e,f[e+a>>2]=e}return n+8|0}}for(e=1049e3;!((t=f[e>>2])>>>0<=r>>>0&&(l=t+f[e+4>>2]|0)>>>0>r>>>0);)e=f[e+8>>2];for(f[262247]=n,e=a+-40|0,f[262245]=e,f[n+4>>2]=1|e,f[4+(e+n|0)>>2]=40,f[262254]=2097152,f[(t=(e=(l+-32&-8)-8|0)>>>0<r+16>>>0?r:e)+4>>2]=27,e=f[262250],c=f[262251],g=f[262253],f[(h=t+16|0)>>2]=f[262252],f[h+4>>2]=g,f[t+8>>2]=e,f[t+12>>2]=c,f[262251]=a,f[262250]=n,f[262252]=t+8,f[262253]=0,e=t+28|0;f[e>>2]=7,l>>>0>(e=e+4|0)>>>0;);(0|t)!=(0|r)&&(f[t+4>>2]=-2&f[t+4>>2],e=t-r|0,f[r+4>>2]=1|e,f[t>>2]=e,e>>>0>=256?o(r,e):(e=1048584+((t=e>>>3)<<3)|0,n=f[262144],t=1<<(31&t),c=f[e+8>>2],n&t||(f[262144]=t|n,c=e),t=c,f[e+8>>2]=r,f[t+12>>2]=r,f[r+12>>2]=e,f[r+8>>2]=t))}if(r=0,!((e=f[262245])>>>0<=i>>>0))break e}return r}return t=e-i|0,f[262245]=t,n=(e=f[262247])+i|0,f[262247]=n,f[n+4>>2]=1|t,f[e+4>>2]=3|i,e+8|0}(e))|!(3&g[t+-4|0])||function(e,t){if(t)for(;h[0|e]=0,e=e+1|0,t=t+-1|0;);}(t,e),t}(y(e|=0,t|=0))}function c(){}function u(e){return e?31-_(e+-1^e)|0:32}function d(e){var t;return(-1>>>(t=31&e)&-2)<<t|(-1<<(e=0-e&31)&-2)>>>e}function p(t){t|=0;var n=0|r.byteLength/65536,i=n+t|0;if(n<i&&i<65536){var a=new ArrayBuffer(y(i,65536)),o=new e.Int8Array(a);o.set(h),h=o,h=new e.Int8Array(a),new e.Int16Array(a),f=new e.Int32Array(a),g=new e.Uint8Array(a),v=new e.Uint16Array(a),m=new e.Uint32Array(a),new e.Float32Array(a),new e.Float64Array(a),r=a}return n}var h=new e.Int8Array(r),f=(new e.Int16Array(r),new e.Int32Array(r)),g=new e.Uint8Array(r),v=new e.Uint16Array(r),m=new e.Uint32Array(r),y=(new e.Float32Array(r),new e.Float64Array(r),e.Math.imul),_=(e.Math.fround,e.Math.abs,e.Math.clz32),b=(e.Math.min,e.Math.max,e.Math.floor,e.Math.ceil,e.Math.sqrt,e.NaN,e.Infinity,1048576);return{memory:Object.create(Object.prototype,{grow:{value:p},buffer:{get:function(){return r}}}),rust_calloc:l,rust_free:function(e){n(e|=0)},llparser_create:function(e,t,r){return 0|function(e,t,r){var n,i,a;return b=n=b-32|0,f[n+28>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,e=n,t=f[n+28>>2]?f[n+28>>2]:256,f[e+28>>2]=t,e=n,t=f[n+24>>2]?f[n+24>>2]:256,f[e+24>>2]=t,e=n,t=f[n+20>>2]?f[n+20>>2]:256,f[e+20>>2]=t,i=n,a=l(((((((y(f[n+24>>2],140)+52|0)+y(f[n+20>>2],44)|0)+(f[n+24>>2]<<9)|0)+(f[n+24>>2]<<9)|0)+y(f[n+20>>2],f[n+24>>2]<<3)|0)+(f[n+28>>2]<<1)|0)+(f[n+28>>2]<<3)|0,1),f[i+16>>2]=a,f[f[n+16>>2]+12>>2]=f[n+28>>2],f[f[n+16>>2]+16>>2]=f[n+24>>2],f[f[n+16>>2]+20>>2]=f[n+20>>2],f[f[n+16>>2]+4>>2]=0,f[f[n+16>>2]>>2]=0,f[f[n+16>>2]+8>>2]=0,f[n+12>>2]=f[n+16>>2]+52,f[f[n+16>>2]+24>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+y(f[n+24>>2],140),f[f[n+16>>2]+28>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+y(f[n+20>>2],44),f[f[n+16>>2]+32>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+36>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+24>>2]<<9),f[f[n+16>>2]+40>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+y(f[n+20>>2],f[n+24>>2]<<3),f[f[n+16>>2]+44>>2]=f[n+12>>2],f[n+12>>2]=f[n+12>>2]+(f[n+28>>2]<<1),f[f[n+16>>2]+48>>2]=f[n+12>>2],b=n+32|0,f[n+16>>2]}(e|=0,t|=0,r|=0)},llparser_destroy:function(e){!function(e){var t;b=t=b-16|0,f[t+12>>2]=e,n(f[t+12>>2]),b=t+16|0}(e|=0)},llparser_create_descriptor:function(e,t){return 0|function(e,t){var r,n;return f[12+(r=b-16|0)>>2]=e,f[r+8>>2]=t,t=f[f[r+12>>2]+24>>2],n=f[r+12>>2],e=f[n+4>>2],f[n+4>>2]=e+1,f[r+4>>2]=t+y(e,140),f[f[r+4>>2]+4>>2]=f[r+8>>2]?1:0,f[r+4>>2]}(e|=0,t|=0)},llparser_descriptor_set_all:function(e){var t;e|=0,f[12+(t=b-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-1,h[f[t+12>>2]+135|0]=1},llparser_descriptor_set_nil:function(e){var t;e|=0,f[12+(t=b-16|0)>>2]=e,f[f[t+12>>2]+4>>2]=-2,h[f[t+12>>2]+8|0]=1},llparser_descriptor_add_char:function(e,t){!function(e,t){var r;f[12+(r=b-16|0)>>2]=e,f[r+8>>2]=t,h[f[r+8>>2]+(f[r+12>>2]+8|0)|0]=1}(e|=0,t|=0)},llparser_descriptor_add_range:function(e,t,r){!function(e,t,r){var n;for(f[12+(n=b-16|0)>>2]=e,f[n+8>>2]=t,f[n+4>>2]=r,f[n>>2]=f[n+8>>2];!(f[n>>2]>f[n+4>>2]);)h[f[n>>2]+(f[n+12>>2]+8|0)|0]=1,f[n>>2]=f[n>>2]+1}(e|=0,t|=0,r|=0)},llparser_descriptor_revert:function(e){!function(e){var t;for(f[12+(t=b-16|0)>>2]=e,f[t+8>>2]=1;!(f[t+8>>2]>=127);)h[f[t+8>>2]+(f[t+12>>2]+8|0)|0]=1&(0!=g[f[t+8>>2]+(f[t+12>>2]+8|0)|0]^-1),f[t+8>>2]=f[t+8>>2]+1}(e|=0)},llparser_add_rule:function(e,t,r,n,i,a,o,s,l,c,u,d){return 0|function(e,t,r,n,i,a,o,s,l,c,u,d){var p;return b=p=b+-64|0,f[p+60>>2]=e,f[p+56>>2]=t,f[p+52>>2]=r,f[p+48>>2]=n,f[p+44>>2]=i,f[p+40>>2]=a,f[p+36>>2]=o,f[p+32>>2]=s,f[p+28>>2]=l,f[p+24>>2]=c,f[p+20>>2]=u,f[p+16>>2]=d,t=f[f[p+60>>2]+28>>2],r=f[p+60>>2],e=f[r>>2],f[r>>2]=e+1,f[p+12>>2]=t+y(e,44),f[f[p+12>>2]>>2]=f[p+52>>2],f[f[p+12>>2]+4>>2]=f[p+48>>2],f[p+48>>2]>0&&(f[f[p+12>>2]+8>>2]=f[p+44>>2]),f[p+48>>2]>1&&(f[f[p+12>>2]+12>>2]=f[p+40>>2]),f[p+48>>2]>2&&(f[f[p+12>>2]+16>>2]=f[p+36>>2]),f[p+48>>2]>3&&(f[f[p+12>>2]+20>>2]=f[p+32>>2]),f[p+48>>2]>4&&(f[f[p+12>>2]+24>>2]=f[p+28>>2]),f[p+48>>2]>5&&(f[f[p+12>>2]+28>>2]=f[p+24>>2]),f[p+48>>2]>6&&(f[f[p+12>>2]+32>>2]=f[p+20>>2]),f[p+48>>2]>7&&(f[f[p+12>>2]+36>>2]=f[p+16>>2]),f[f[p+12>>2]+40>>2]=f[p+56>>2],f[p+48>>2]>0&&function(e,t,r){var n;f[28+(n=b-32|0)>>2]=e,f[n+24>>2]=t,f[n+20>>2]=r,f[n+16>>2]=(f[n+20>>2]-f[f[n+28>>2]+24>>2]|0)/140,1==f[f[n+20>>2]+4>>2]&&(t=f[f[n+28>>2]+40>>2],r=f[n+28>>2],e=f[r+8>>2],f[r+8>>2]=e+1,f[n+12>>2]=t+(e<<3),f[f[n+12>>2]>>2]=f[n+24>>2],f[f[n+12>>2]+4>>2]=f[f[n+20>>2]+136>>2],f[f[n+20>>2]+136>>2]=f[n+12>>2])}(f[p+60>>2],f[p+12>>2],f[p+52>>2]),b=p- -64|0,f[p+12>>2]}(e|=0,t|=0,r|=0,n|=0,i|=0,a|=0,o|=0,s|=0,l|=0,c|=0,u|=0,d|=0)},llparser_prepare:function(e){!function(e){var t;for(b=t=b-32|0,f[t+28>>2]=e,f[t+24>>2]=0;!(f[t+24>>2]>=f[f[t+28>>2]+4>>2]);)f[t+20>>2]=f[f[t+28>>2]+24>>2]+y(f[t+24>>2],140),1==f[f[t+20>>2]+4>>2]&&i(f[t+28>>2],f[t+20>>2],f[t+20>>2],f[f[t+28>>2]+32>>2]+(f[t+24>>2]<<9)|0,0),f[t+24>>2]=f[t+24>>2]+1;for(f[t+16>>2]=0;!(f[t+16>>2]>=f[f[t+28>>2]+4>>2]);)f[t+12>>2]=f[f[t+28>>2]+24>>2]+y(f[t+16>>2],140),1==f[f[t+12>>2]+4>>2]&&(f[f[t+12>>2]>>2]=0,a(f[t+28>>2],f[t+12>>2],f[t+12>>2],f[f[t+28>>2]+36>>2]+(f[t+16>>2]<<9)|0)),f[t+16>>2]=f[t+16>>2]+1;b=t+32|0}(e|=0)},llparser_parse:function(e,t){return 0|function(e,t){var r,n,i;return b=r=b-32|0,f[r+24>>2]=e,f[r+20>>2]=t,f[r+16>>2]=0,f[r+12>>2]=0,n=r,i=function e(t,r,n,i,a,o,s){var l,c=0,u=0;b=l=b-96|0,f[l+88>>2]=t,f[l+84>>2]=r,f[l+80>>2]=n,f[l+76>>2]=i,f[l+72>>2]=a,f[l+68>>2]=o,f[l+64>>2]=s,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1);e:if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0))f[l+92>>2]=-1;else if(1==f[f[l+84>>2]+4>>2])if(f[l+56>>2]=f[f[l+76>>2]>>2],f[l+52>>2]=f[f[l+72>>2]>>2],f[l+48>>2]=0,f[l+44>>2]=0,f[l+40>>2]=f[f[l+88>>2]+32>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+36>>2]=0,!f[f[l+40>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+40>>2]+508>>2]?f[f[l+40>>2]>>2]&&(f[l+36>>2]=f[f[l+40>>2]>>2]):f[l+36>>2]=f[f[l+40>>2]+508>>2]:f[l+36>>2]=f[f[l+40>>2]+(f[l+60>>2]<<2)>>2],f[l+36>>2]){for(f[l+68>>2]||f[f[l+36>>2]+40>>2]||(f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2),f[l+32>>2]=0;f[l+32>>2]<f[f[l+36>>2]+4>>2];){if(f[l+28>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+36>>2]+40>>2]|f[f[l+36>>2]+40>>2]==(f[l+32>>2]+65536|0)||(f[l+28>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+36>>2]+8|0)+(f[l+32>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+28>>2],f[l+64>>2]),f[c+24>>2]=u,f[l+24>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+36>>2]+40>>2]!=(f[l+32>>2]+65536|0)||(f[l+44>>2]=f[l+24>>2]),f[l+32>>2]=f[l+32>>2]+1}for(f[l+68>>2]||(f[f[l+36>>2]+40>>2]?1==f[f[l+36>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+36>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+36>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1));;){if(f[f[l+72>>2]>>2]>(f[l+64>>2]-4|0)){f[l+92>>2]=-1;break e}if(f[l+20>>2]=f[f[l+88>>2]+36>>2]+((f[l+84>>2]-f[f[l+88>>2]+24>>2]|0)/140<<9),f[l+16>>2]=0,f[l+60>>2]=v[f[l+80>>2]+(f[f[l+76>>2]>>2]<<1)>>1],m[l+60>>2]>=128&&(f[l+60>>2]=1),!f[f[l+20>>2]+(f[l+60>>2]<<2)>>2]|m[l+60>>2]<=0|m[l+60>>2]>=127?!f[l+60>>2]|!f[f[l+20>>2]+508>>2]||(f[l+16>>2]=f[f[l+20>>2]+508>>2]):f[l+16>>2]=f[f[l+20>>2]+(f[l+60>>2]<<2)>>2],!f[l+16>>2])break;for(f[l+68>>2]||(f[f[l+16>>2]+40>>2]?65536!=f[f[l+16>>2]+40>>2]&&(f[f[l+72>>2]>>2]=f[l+52>>2]):(f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]=(0-f[f[f[l+88>>2]+48>>2]+(f[l+44>>2]<<2)>>2]|0)-1,f[l+48>>2]=f[f[l+72>>2]>>2],t=f[l+72>>2],f[t>>2]=f[t>>2]+2)),f[l+12>>2]=1;f[l+12>>2]<f[f[l+16>>2]+4>>2];){if(f[l+8>>2]=f[l+68>>2],f[l+68>>2]||!f[f[l+16>>2]+40>>2]|f[f[l+16>>2]+40>>2]==(f[l+12>>2]+65536|0)||(f[l+8>>2]=1),c=l,u=e(f[l+88>>2],f[(f[l+16>>2]+8|0)+(f[l+12>>2]<<2)>>2],f[l+80>>2],f[l+76>>2],f[l+72>>2],f[l+8>>2],f[l+64>>2]),f[c+4>>2]=u,f[l+4>>2]<0){f[l+92>>2]=-1;break e}f[l+68>>2]|f[f[l+16>>2]+40>>2]!=(f[l+12>>2]+65536|0)||(f[l+44>>2]=f[l+4>>2]),f[l+12>>2]=f[l+12>>2]+1}f[l+68>>2]||(f[f[l+16>>2]+40>>2]?1==f[f[l+16>>2]+40>>2]&&(r=f[l+56>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r,f[l+44>>2]=f[f[l+72>>2]>>2],r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r):(f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]<<2)>>2]=0-f[l+16>>2],f[f[f[l+88>>2]+48>>2]+(f[l+48>>2]+1<<2)>>2]=f[f[l+16>>2]+4>>2],f[l+44>>2]=f[l+48>>2]+1))}f[l+92>>2]=f[l+44>>2]}else f[l+92>>2]=-1;else{if(f[l+60>>2]&&(-1==f[f[l+84>>2]+4>>2]&&(t=f[l+76>>2],f[t>>2]=f[t>>2]+1),!f[f[l+84>>2]+4>>2])){if(!g[f[l+60>>2]+(f[l+84>>2]+8|0)|0]){f[l+92>>2]=-1;break e}t=f[l+76>>2],f[t>>2]=f[t>>2]+1}f[l+68>>2]||(r=f[f[l+76>>2]>>2],n=f[f[l+84>>2]+4>>2],i=f[f[l+88>>2]+48>>2],a=f[l+72>>2],t=f[a>>2],f[a>>2]=t+1,f[i+(t<<2)>>2]=r-(-2==(0|n)?0:1),r=f[f[l+76>>2]>>2],n=f[f[l+88>>2]+48>>2],i=f[l+72>>2],t=f[i>>2],f[i>>2]=t+1,f[n+(t<<2)>>2]=r),f[l+92>>2]=f[f[l+72>>2]>>2]-1}return b=l+96|0,f[l+92>>2]}(f[r+24>>2],f[r+20>>2],f[f[r+24>>2]+44>>2],r+12|0,r+16|0,0,f[f[r+24>>2]+12>>2]<<1),f[n+8>>2]=i,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=-1,e=f[f[r+24>>2]+48>>2],t=f[r+16>>2],f[r+16>>2]=t+1,f[e+(t<<2)>>2]=0,v[f[f[r+24>>2]+44>>2]+(f[r+12>>2]<<1)>>1]|f[r+8>>2]<0?f[r+28>>2]=f[r+12>>2]+1:f[r+28>>2]=0,b=r+32|0,f[r+28>>2]}(e|=0,t|=0)},llparser_get_input_buffer:function(e){var t;return e|=0,f[12+(t=b-16|0)>>2]=e,f[f[t+12>>2]+44>>2]},llparser_get_result:function(e){var t;return e|=0,f[12+(t=b-16|0)>>2]=e,f[f[t+12>>2]+48>>2]},wasm_main:c,__wbindgen_start:c}}({Math:Math,Int8Array:Int8Array,Uint8Array:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},0,n),a=i.memory,o=i.rust_calloc,s=i.rust_free,l=i.llparser_create,c=i.llparser_destroy,u=i.llparser_create_descriptor,d=i.llparser_descriptor_set_all,p=i.llparser_descriptor_set_nil,h=i.llparser_descriptor_add_char,f=i.llparser_descriptor_add_range,g=i.llparser_descriptor_revert,v=i.llparser_add_rule,m=i.llparser_prepare,y=i.llparser_parse,_=i.llparser_get_input_buffer,b=i.llparser_get_result,w=i.wasm_main,S=i.__wbindgen_start}])},function(e,t,r){var n=r(4),i=function(e){this.empty=!0,this._type=e,this._arr=[],this._index=0};i.create=function(e){return new i(e)},i.prototype.add=function(e){var t=this._index++;return this._arr.push({id:t,func:e}),this.empty=!1,t},i.prototype.remove=function(e){var t=this._arr,r=0;if("function"==typeof e)for(r=0;r<t.length;r++){var n=t[r].func;if(n===e)return t.splice(r,1),this.empty=!t.length,n}else for(r=0;r<t.length;r++)if(t[r].id===e){var i=t[r].func;return t.splice(r,1),this.empty=!t.length,i}return null},i.prototype.call=function(e,t,r){for(var n=this._arr,i=!1,a=0;a<n.length;a++){!1===o(this._type,n[a].func,e,t,r)&&(i=!0)}if(i)return!1};var a=function(e,t){if(!t.type||!1!==s.call(null,[e,t])){if(n.throwGlobalError)throw e;console.error(e.stack)}},o=i.safeCallback=function(e,t,r,n,i){try{return t.apply(r,n)}catch(s){var o="[Exparser] [Error] [Component] "+(e||"Error Listener")+" Error @ ";r&&r.is&&(o+=r.is),o+="#"+(t.name||"(anonymous)"),i&&i.triggerLifeTime("error",[s]),a(s,{message:o,type:e,element:r,method:t,args:n})}},s=i.create();i.addGlobalErrorListener=function(e){return s.add(e)},i.removeGlobalErrorListener=function(e){return s.remove(e)};var l=null;i.addGlobalWarningListener=function(e){return(l=i.create()).add(e)},i.removeGlobalWarningListener=function(e){if(l){var t=l.remove(e);return l.empty&&(l=null),t}return null},i.hasGlobalWarningListeners=function(){return!!l},i.triggerWarning=function(e){var t="[Exparser] [Warning] [Component] "+e;l.call(null,[t],null)},e.exports=i},function(e,t){var r={lazyRegistration:!0,publicProperties:!1,availability:null,domain:"",writeOnly:!1,allowInWriteOnly:!1,classPrefix:null,addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,idPrefixGenerator:null,separateInnerData:!0,innerDataExclude:null,listenerChangeLifeTimes:!1,randomizeTagName:!1,virtualHost:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,documentBackend:"undefined"!=typeof window&&"undefined"!=typeof document?"dom":"none",hasDOMBackend:!("undefined"==typeof window||"undefined"==typeof document)};e.exports=r},function(e,t){var r=Object.prototype.hasOwnProperty,n=function(e,t){var i=typeof e;if("object"===i&&null!==e){var a=t?t.get(e):void 0;if(void 0!==a)return a;if(e instanceof Array){a=[],t&&t.set(e,a);for(var o=0;o<e.length;o++)a[o]=n(e[o],t)}else for(var s in a={},t&&t.set(e,a),e)r.call(e,s)&&(a[s]=n(e[s],t));return a}if("symbol"!==i)return e};t.deepCopy=function(e,t){var r=t&&"undefined"!=typeof WeakMap?new WeakMap:null;return n(e,r)}},function(e,t,r){var n=r(3),i=(Object.prototype.hasOwnProperty,function(){});i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}});var a=null;i._setElementSystem=function(e){a=e,i._setElementSystem=null};var o=null;i._setComponent=function(e){o=e,i._setComponent=null};var s=Date.now();i.setInitTimeStamp=function(e){return s=void 0===e?Date.now():e},i.getInitTimeStamp=function(e){return s},i.create=function(e,t,r){var n=(r=r||{}).originalEvent,a=r.extraFields||{},o=Date.now()-s,l=new i;for(var c in l.currentTarget=null,l.type=e,l.timeStamp=o,l.mark=null,l.detail=t,l.bubbles=!!r.bubbles,l.composed=!!r.composed,l.__originalEvent=n,l.__hasCapture=!!r.capturePhase,l.__stopped=!1,l.__dispatched=!1,a)l[c]=a[c];return l},i.prototype.preventDefault=function(){this.__originalEvent&&!this.__originalEvent.__stopPreventDefault&&this.__originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.__stopped=!0},i.prototype.isStopped=function(){return!!this.__stopped},i.prototype.markMutated=function(){this.__mutatedMarked=!0},i.prototype.mutatedMarked=function(){return!!this.__mutatedMarked};var l=function(e,t,r,n){for(var i=e,o=e instanceof a?e.collectMarks():{},s=[],l=[],c=e;c;){if(i!==c&&(s.push(e),e=c,l.push(o),o=e instanceof a?e.collectMarks():{}),i=c.parentNode,!1===n(c,e,o))return;if(c.__wxHost){if(r)break;e=s.pop()||c.__wxHost,o=l.pop()||(e instanceof a?e.collectMarks():{}),i=c=c.__wxHost}else{var u=!0;c instanceof a&&(u=!1),c=u||r?c.parentNode:c.__wxSlotParent}}};i.dispatchEvent=function(e,t){if(!t.__dispatched){t.__dispatched=!0,e.__wxElement&&e.__wxHost!==e.__wxElement&&((e=e.__wxElement).shadowRoot instanceof a&&(e=e.shadowRoot)),t.target=e instanceof a?e.__methodCaller:e;var r=function(e,r,n){if(!(r&&r.length&&t.mutatedMarked())){var i=t.currentTarget=n instanceof a?n.__methodCaller:n,s=e.call(i,[t],n instanceof o?n:void 0);r&&r.length&&t.markMutated(),!1===s&&(t.__originalEvent&&!t.__originalEvent.__stopPreventDefault&&t.__originalEvent.preventDefault(),t.__stopped=!0)}},n=t.type,i=!t.composed;if(t.__hasCapture){var s=[];l(e,0,i,(function(e,t,r){return e.__wxCaptureEvents&&e.__wxCaptureEvents[n]&&s.push([e,t,r]),!0}));for(var c=s.length-1;c>=0;c--){var u=s[c],d=u[0],p=u[1];t.target=p instanceof a?p.__methodCaller:p,t.mark=u[2];var h=d.__wxCaptureMutated&&d.__wxCaptureMutated[n];if(r(d.__wxCaptureEvents[n],h,d),t.__stopped)break}}if(t.target=e instanceof a?e.__methodCaller:e,!t.__stopped){var f=!t.bubbles;l(e,0,i,(function(e,i,o){t.target=i instanceof a?i.__methodCaller:i,t.mark=o;var s=e.__wxMutated&&e.__wxMutated[n];return e.__wxEvents&&e.__wxEvents[n]&&r(e.__wxEvents[n],s,e),!f&&!t.__stopped}))}}},i.triggerEvent=function(e,t,r,n){var a=i.create(t,r,n);i.dispatchEvent(e,a)},i.addListenerToElement=function(e,t,r,i){var a=i&&i.mutated;if(a){var s=r;r=function(e){if(!e.mutatedMarked()){var t=Array.prototype.slice.call(arguments);return s.apply(this,t)}}}var l=void 0;return i&&(i.useCapture||i.capture)?(e.__wxCaptureEvents||(e.__wxCaptureEvents=Object.create(null)),e.__wxCaptureEvents[t]||(e.__wxCaptureEvents[t]=n.create("Event Listener")),l=e.__wxCaptureEvents[t].add(r),a&&(e.__wxCaptureMutated||(e.__wxCaptureMutated=Object.create(null)),e.__wxCaptureMutated[t]||(e.__wxCaptureMutated[t]=[]),e.__wxCaptureMutated[t].push(l))):(e.__wxEvents||(e.__wxEvents=Object.create(null)),e.__wxEvents[t]||(e.__wxEvents[t]=n.create("Event Listener")),l=e.__wxEvents[t].add(r),a&&(e.__wxMutated||(e.__wxMutated=Object.create(null)),e.__wxMutated[t]||(e.__wxMutated[t]=[]),e.__wxMutated[t].push(l))),e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!0,t,r,i]),l},i.removeListenerFromElement=function(e,t,r,n){var i=null;if(n&&(n.useCapture||n.capture))e.__wxCaptureEvents&&e.__wxCaptureEvents[t]&&(i=e.__wxCaptureEvents[t].remove(r)),e.__wxCaptureMutated&&e.__wxCaptureMutated[t]&&-1!==(a=e.__wxCaptureMutated[t].indexOf(r))&&e.__wxCaptureMutated[t].splice(a,1);else if(e.__wxEvents&&e.__wxEvents[t]&&(i=e.__wxEvents[t].remove(r)),e.__wxMutated&&e.__wxMutated[t]){var a;-1!==(a=e.__wxMutated[t].indexOf(r))&&e.__wxMutated[t].splice(a,1)}i&&e instanceof o&&e.__componentOptions.listenerChangeLifeTimes&&e.triggerLifeTime("listenerChanged",[!1,t,i,n])},e.exports=i},function(e,t,r){var n=r(3),i=function(e){for(var t=e.str;e.cur<t.length;){var r=t[e.cur];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\f"!==r)break;e.cur+=1}return e.cur<t.length},a=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if(!(n>="0"&&n<="9"))break;r+=n,e.cur+=1}if(!r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));return parseInt(r,10)},o=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if("\\"===n)if(e.cur+1===t.length);else{r+=t[e.cur+1],e.cur+=1}else if(/^[_a-zA-Z]$/.test(n))r+=n;else{if(!(n>="0"&&n<="9"))break;if(""===r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (field name cannot start with digits)"));r+=n}e.cur+=1}return r},s=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if("\\"===n)if(e.cur+1===t.length)r+="\\",e.cur+=1;else{var i=t[e.cur+1];"."===i||"["===i||"]"===i||"\\"===i?(r+=i,e.cur+=2):(r+="\\",e.cur+=1)}else{if("."===n||"["===n)break;r+=n,e.cur+=1}}return r},l=function(e){var t=e.str;if(i(e),"*"===t[e.cur]&&"*"===t[e.cur+1])return e.cur+=2,["**"];var r=o(e);if(!r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (first field name illegal)"));for(var n=[r];e.cur<t.length&&i(e);){var s=t[e.cur];if("."===s){if(e.cur+=1,i(e),"*"===t[e.cur]&&"*"===t[e.cur+1]){n.push("**"),e.cur+=2;break}var l=o(e);if(!l)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (field name illegal)"));n.push(l)}else{if("["!==s)break;e.cur+=1,i(e);var c=a(e);if(i(e),"]"!==t[e.cur])throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));e.cur+=1,n.push(c)}}return n};t.parseSinglePath=function(e){var t=function(e){for(var t=e.str,r=[];e.cur<t.length;){var n=t[e.cur];if("."===n){e.cur+=1;var i=s(e);i&&r.push(i)}else if("["===n){e.cur+=1;var o=a(e);if("]"!==t[e.cur]&&e.cur<t.length)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));e.cur+=1,r.push(o)}else{var l=s(e);l&&r.push(l)}}return r}({str:e,cur:0});return t},t.parseMultiPaths=function(e){try{var t={str:e,cur:0},r=function(e){var t=[];for(t.push(l(e)),i(e);","===e.str[e.cur];)e.cur+=1,t.push(l(e)),i(e);return t}(t);if(t.cur!==e.length)throw new Error('data path descriptor "'.concat(e,'" is illegal at char ').concat(t.cur));return r}catch(e){return n.triggerWarning(e.message),[]}}},function(e,t,r){var n=r(3),i=r(4),a=r(7),o=["created","ready","cacheAttached","attached","moved","detached","saved","restored","error","listenerChanged","performanceData"],s=[String,Number,Boolean,Object,Array,null],l=function(){},c=a.parseMultiPaths,u=function(){};u.matchTypeWithValue=function(e,t){if(e===String){if("string"!=typeof t)return!1}else if(e===Number){if(!Number.isFinite(t))return!1}else if(e===Boolean){if("boolean"!=typeof t)return!1}else if(e===Object){if(null===t||t.constructor!==Object)return!1}else if(e===Array){if(null===t||t.constructor!==Array)return!1}else if(void 0===t)return!1;return!0};var d=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t},p=function(e){var t={};for(var r in e)t[r]=e[r];return t},h=function(e,t){for(var r in t)hasOwnProperty.call(e,r)?"object"!=typeof e[r]||"object"!=typeof t[r]||null===t[r]||t[r]instanceof Array?e[r]=t[r]:(e[r]instanceof Array?e[r]=d(e[r]):e[r]=p(e[r]),h(e[r],t[r])):e[r]=t[r]};u.create=function(e){var t=new u;return t.is=e.is||"",t.using=e.using||{},t.generics=e.generics||{},t.placeholder=e.placeholder||{},t.template=e.template,t.externalClasses=e.externalClasses||[],t.data="object"==typeof e.data?{}:null,t.properties=Object.create(null),t.methods=Object.create(null),t.listeners=Object.create(null),t.relations=Object.create(null),t.ancestors=[],t.initiator=e.initiator,t.lifetimes=Object.create(null),t.pageLifetimes=Object.create(null),t.observers=[],t.options={publicProperties:!!(e.options&&void 0!==e.options.publicProperties?e.options.publicProperties:i.publicProperties)},t.definitionFilter=e.definitionFilter,t._unprepared=e,(e.options&&void 0!==e.options.lazyRegistration?e.options.lazyRegistration:i.lazyRegistration)||u.prepare(t),e.is&&(u._list[e.is]=t),t},u.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.ancestors,i="",a=0;for(a=0;a<(t.behaviors||[]).length;a++){var d=t.behaviors[a],p=d;for(i in"string"==typeof p&&(p=u._list[d],n.hasGlobalWarningListeners()&&(p instanceof u||n.triggerWarning('behavior "'+d+'" is not found (when preparing "'+e.is+'").'))),p._unprepared&&u.prepare(p),"object"==typeof p.data&&(null===e.data?e.data=p.data:h(e.data,p.data)),p.generics){var f=p.generics[i];"object"!=typeof f&&(f={}),e.generics[i]={default:f.default}}for(i in p.properties)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing "'+e.is+'").'),e.properties[i]=p.properties[i];for(i in p.relations)e.relations[i]=p.relations[i];for(i in p.methods)n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing "'+e.is+'").'),e.methods[i]=p.methods[i];for(var g=0;g<p.ancestors.length;g++)r.indexOf(p.ancestors[g])<0&&r.push(p.ancestors[g])}for(i in"object"==typeof t.data&&(null===e.data?e.data=t.data:h(e.data,t.data)),t.properties){n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&void 0!==e.properties[i]&&n.triggerWarning('property "'+i+'" from different behaviors is overriding (when preparing "'+e.is+'").');var v=t.properties[i];s.indexOf(v)>=0?v={type:v}:s.indexOf(v.type)<0&&v.optionalTypes&&v.optionalTypes.length>0&&(v.type=v.optionalTypes[0]),n.hasGlobalWarningListeners()&&s.indexOf(v.type)<0&&n.triggerWarning('the type of property "'+i+'" is illegal (when preparing "'+e.is+'").'),void 0===v.value&&(v.type===String?v.value="":v.type===Number?v.value=0:v.type===Boolean?v.value=!1:v.type===Array?v.value=[]:v.value=null),e.properties[i]={type:v.type,optionalTypes:v.optionalTypes,value:v.value,filter:v.filter,observer:v.observer,public:!!(void 0===v.public?e.options.publicProperties:v.public),availability:v.availability,observeAssignments:!!v.observeAssignments,reflectIdPrefix:!!v.reflectIdPrefix}}if(t.lifetimes&&"object"==typeof t.lifetimes)for(i in t.lifetimes)e.lifetimes[i]=t.lifetimes[i];for(a=0;a<o.length;a++)void 0===e.lifetimes[o[a]]&&(e.lifetimes[o[a]]=t[o[a]]);for(i in t.listeners)e.listeners[i]=t.listeners[i];var m=t.observers;if(m instanceof Array)for(a=0;a<m.length;a++){var y=m[a];e.observers.push({paths:c(y.fields||"**"),observer:y.observer})}else for(i in m)e.observers.push({paths:c(i),observer:m[i]});if(t.pageLifetimes&&"object"==typeof t.pageLifetimes)for(i in t.pageLifetimes)e.pageLifetimes[i]=t.pageLifetimes[i];for(i in t.relations){var _=t.relations[i];e.relations[i]={target:_.target||i,type:_.type,linked:_.linked||l,linkChanged:_.linkChanged||l,unlinked:_.unlinked||l,linkFailed:_.linkFailed||l}}for(i in t.methods)"function"==typeof t.methods[i]&&(n.hasGlobalWarningListeners()&&"_"===i.charAt(0)&&e.methods[i]&&n.triggerWarning('method "'+i+'" from different behaviors is overriding (when preparing "'+e.is+'").'),e.methods[i]=t.methods[i]);r.push(e)}},u._list=Object.create(null),u.prototype.hasBehavior=function(e){this._unprepared&&u.prepare(this);for(var t=0;t<this.ancestors.length;t++)if(e instanceof u){if(this.ancestors[t]===e)return!0}else if(this.ancestors[t]===u._list[e])return!0;return!1},u.prototype._getAllListeners=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var n=this.ancestors[r];for(var i in n.listeners)Object.prototype.hasOwnProperty.call(e,i)?e[i].push(n.listeners[i]):e[i]=[n.listeners[i]]}return e},u.prototype._addObserversToDataProxy=function(e){for(var t=this.ancestors,r=0;r<t.length;r++)for(var n=this.ancestors[r].observers,i=0;i<n.length;i++){var a=n[i];e.addObserver(a.observer,a.paths,this)}},u.prototype._getAllLifeTimeFuncs=function(){var e={},t=this.ancestors;o.forEach((function(t){e[t]=n.create("Lifetime Method")}));for(var r=0;r<t.length;r++){var i=t[r];for(var a in i.lifetimes)i.lifetimes[a]&&(e[a]||(e[a]=n.create("Lifetime Method")),e[a].add(i.lifetimes[a]))}return e},u.prototype._getAllPageLifeTimeFuncs=function(){for(var e={},t=this.ancestors,r=0;r<t.length;r++){var i=t[r];for(var a in i.pageLifetimes)i.pageLifetimes[a]&&(e[a]||(e[a]=n.create("Page Lifetime Method")),e[a].add(i.pageLifetimes[a]))}return e},u.callDefinitionFilter=function(e){var t=e.definitionFilter,r=[];return e.behaviors instanceof Array&&e.behaviors.forEach((function(t){(t="string"==typeof t?u._list[t]:t)&&t.definitionFilter&&(r.push(t.definitionFilter),t.definitionFilter.call(null,e))})),"function"==typeof t?function(e){t(e,r)}:null},e.exports=u},function(e,t,r){var n=r(3),i=r(6),a=r(10),o=r(11),s=r(12),l=r(14),c=r(4),u=r(13),d=function(e){p(this,e||null)};d.prototype=Object.create(Object.prototype,{constructor:{value:d,writable:!0,configurable:!0},id:{get:function(){return this.__id},set:function(e){var t=String(e);if(this.__id!==t){if(this.__id=t,this.ownerShadowRoot){var r=this.ownerShadowRoot.__wxHost;r.__idCacheDirty=!0,this.__domElement&&r.__componentOptions.writeIdToDOM&&(r.__idPrefix?this.__domElement.id=r.__idPrefix+"--"+t:this.__domElement.id=t)}c.writeExtraInfoToAttr&&this.__domElement&&this.__domElement.setAttribute("exparser:info-attr-id",t),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"id"})}},configurable:!0},slot:{get:function(){return this.__slot},set:function(e){if(e=String(e),this.__slot!==e){if(this.__inheritSlots)return void(n.hasGlobalWarningListeners()&&n.triggerWarning('slots-inherited nodes do not support "slot" attribute (in component "'+this.is+'").'));this.__slot=e,w(this),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"slot"})}},configurable:!0},attributes:{get:function(){var e=[];if(!this.__attributes)return e;for(var t in this.__attributes)e.push({name:t,value:this.__attributes[t]});return e},set:function(){},configurable:!0},class:{get:function(){return this.classList.getClassNames()},set:function(e){this.classList&&this.classList.setClassNames(e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"class"})},configurable:!0},style:{get:function(){return this.__domElement?this.__domElement.style:null},set:function(e){return P.call(this,e)},configurable:!0}}),i._setElementSystem(d),o._setElementSystem(d);var p=d.initialize=function(e,t,r){e.__id="",e.__slot="",e.__virtual=!1,e.__inheritSlots=!1,e.__attributes=null,e.__marks=null,e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=r,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=t,e.$$=t,t&&(t.__wxElement=e)};d._clone=function(e,t,r,n){if(e.__id=t.__id,e.__slot=t.__slot,e.__virtual=t.__virtual,e.__inheritSlots=t.__inheritSlots,e.__marks=t.__marks?{}:null,t.__marks)for(var i in t.__marks)e.__marks[i]=t.__marks[i];for(var a in e.__attributes=Object.create(null),t.__attributes)e.__attributes[a]=t.__attributes[a];e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=n,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,e.__styleSegments=[],e.__methodCaller=e,e.__relationHandler=null,e.__backendExtracted=u.backendExtractedDefault,e.__domElement=r,e.$$=r,r&&(r.__wxElement=e)};var h=function(e){if(!e.parentNode||e.parentNode.__attached){var t=function(e){if(e instanceof d){e.__attached=!0,e.__lifeTimeFuncs&&e.__lifeTimeFuncs.attached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("attached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"attached"}),e.shadowRoot instanceof d&&t(e.shadowRoot);for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n])}};t(e)}},f=function(e){if(e.__attached){var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__attached=!1,e.__lifeTimeFuncs&&e.__lifeTimeFuncs.detached.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("detached"),e.__attachedObservers&&!e.__attachedObservers.empty&&a._callSingleObserver(e,"__attachedObservers",{type:"attachStatus",target:e,status:"detached"})}};t(e)}},g=function(e){if(!e.__attached)return h(e);var t=function(e){if(e instanceof d){for(var r=e.childNodes,n=0;n<r.length;n++)t(r[n]);e.shadowRoot instanceof d&&t(e.shadowRoot),e.__lifeTimeFuncs&&e.__lifeTimeFuncs.moved.call(e.__methodCaller,[],e),e.__relationHandler&&e.__relationHandler("moved")}};t(e)},v=function(e,t,r){if(e.__childObservers&&!e.__childObservers.empty||e.__subtreeObserversCount){var n,i=[r];n="add"===t?{type:"childList",target:e,addedNodes:i}:"remove"===t?{type:"childList",target:e,removedNodes:i}:{type:"childList",target:e,addedNodes:i,removedNodes:i},a._callObservers(e,"__childObservers",n)}},m=function(e,t){if(e instanceof d&&(!t.__wxHost.__idCacheDirty||!t.__slotCacheDirty)){var r=function(e){e.__id&&(t.__wxHost.__idCacheDirty=!0),void 0!==e.__slotName&&(t.__slotCacheDirty=!0);for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof d&&r(a)}};r(e)}};d._updateIdMap=function(e){var t=e.shadowRoot;if(e.__idCacheDirty){e.__idCacheDirty=!1;var r=e.__idCache=Object.create(null),n=function(e){e.__id&&(r[e.__id]||(r[e.__id]=e));for(var t=e.childNodes,i=0;i<t.length;i++)t[i]instanceof d&&n(t[i])};n(t)}};var y=function(e){if(e.__hostAssociated&&e.__slotCacheDirty){e.__slotCacheDirty=!1;var t,r=e.__wxHost,i=Object.create(null);t=void 0!==r.__singleSlot?{"":r.__singleSlot}:r.__slots;var a=function(e){void 0!==e.__slotName&&(i[e.__slotName]?n.hasGlobalWarningListeners()&&n.triggerWarning('More than one slot named "'+e.__slotName+'" are found inside a single component instance (in component "'+r.is+'"). The first one was accepted.'):i[e.__slotName]=e);for(var t=e.childNodes,o=0;o<t.length;o++)t[o]instanceof d&&a(t[o])};a(e),void 0!==r.__singleSlot?r.__singleSlot!==i[""]&&(i[""]&&(i[""].__wxSlotChildren=r.childNodes),_(r,i,t,!0),r.__singleSlot&&(r.__singleSlot.__wxSlotChildren=[]),r.__singleSlot=i[""]||null):(_(r,i,t,!1),r.__slots=i)}},_=function(e,t,r,n){var i=e.childNodes,a=0;if(n){var o=t[""];if(o)for(;a<i.length;a++)S(o,i[a],null,!1,!1,!1,-1);else if(o=r[""])for(;a<i.length;a++)S(o,null,i[a],!0,!1,!1,a)}else{var s=function(e){for(var n=0;n<e.length;n++){var i=e[n],a=i.__slot||"",o=t[a],l=r[a];o!==l&&(o?S(o,i,null,!1,!0,!0):S(l,null,i,!0,!0,!0)),i.__inheritSlots&&s(i.childNodes)}};s(i)}},b=function(e,t,r,n){for(var i=function(e,t,n){var a=e.childNodes,o=0;for(t&&(o=a.indexOf(t)+(n?0:1));o<a.length;o++){var s=a[o];if(s.__slot===r)return s;if(s.__inheritSlots){var l=i(s,null,!1);if(l)return l}}return null};t!==e;t=t.parentNode){var a=i(t.parentNode,t,n);if(a)return a;n=!1}return null},w=function(e){for(var t=e.parentNode;t&&t.__inheritSlots;)t=t.parentNode;if(t&&void 0===t.__singleSlot){var r=e.__slot||"",n=t.__slots[r];if(n){var i=b(t,e,r,!1);S(n,e,i,!1,!0,!0)}else(n=e.__wxSlotParent)&&S(n,null,e,!0,!0,!0)}},S=function(e,t,r,n,i,a,o){if(n&&(r.__wxSlotParent=null),i&&(o=e.__wxSlotChildren.indexOf(r)),t){var s=t.__wxSlotParent;if(t.__wxSlotParent=e,s&&a){var l=s.__wxSlotChildren.indexOf(t);s.__wxSlotChildren.splice(l,1),s===e&&l<o&&o--}}var u=!1;(t&&t.__backendExtracted||r&&r.__backendExtracted)&&(u=!0),u||function(e,t,r,n,i){var a=e;if(a instanceof d){for(;a.__virtual;){var o=a.__wxSlotParent;if(!o){a=null;break}if(t&&!r){var s=o.__wxSlotChildren.indexOf(a);r=o.__wxSlotChildren[s+1]}a=o}a instanceof d&&(a=a.__domElement)}if(a){var l=n,c=null,u=null;if(t)if(t.__virtual){var p=document.createDocumentFragment(),h=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?h(r):p.appendChild(r.__domElement)}};h(t),c=p}else c=t.__domElement;if(r)if(r.__virtual){var f=e,g=0;if(n){var v=function(e){for(var t=0;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];r.__virtual?v(r):a.removeChild(r.__domElement)}};v(r),l=!1,g=i+1}else f=r.__wxSlotParent,g=r===t?i:f.__wxSlotChildren.indexOf(r);if(t){var m=function(e,t){for(;t<e.__wxSlotChildren.length;t++){var r=e.__wxSlotChildren[t];if(!r.__virtual)return r;var n=m(r,0);if(n)return n}};r=null;for(var y=f;!(r=m(y,g))&&y.__virtual;y=y.__wxSlotParent)g=y.__wxSlotParent.__wxSlotChildren.indexOf(y)+1;r&&(u=r.__domElement)}}else u=r.__domElement;l?c?a.replaceChild(c,u):a.removeChild(u):c&&(u?a.insertBefore(c,u):a.appendChild(c))}else if(t&&t.__wxSlotParent){var _=function(e){if(e.__virtual)for(var t=0;t<e.__wxSlotChildren.length;t++)_(e.__wxSlotChildren[t]);else{var r=e.__domElement;r&&r.parentNode&&r.parentNode.removeChild(r)}};_(t)}}(e,t,r,n,o),c.writeExtraInfoToAttr&&(n&&r instanceof d&&r.__domElement&&r.__domElement.removeAttribute("exparser:info-in-slot-of"),t instanceof d&&t.__domElement&&(void 0!==e.__slotName&&e.ownerShadowRoot?t.__domElement.setAttribute("exparser:info-in-slot-of",e.ownerShadowRoot.__wxHost.__componentInstanceId):t.__domElement.removeAttribute("exparser:info-in-slot-of"))),i&&(-1===o&&(o=e.__wxSlotChildren.length),t?e.__wxSlotChildren.splice(o,n?1:0,t):e.__wxSlotChildren.splice(o,n?1:0))},C=function(e,t){for(var r=e.childNodes,n=0;n<r.length;n++){var i=r[n];t(e,i),i.__inheritSlots&&C(i,t)}},I=d.insertChildToElement=function(e,t,r,n){if(void 0!==e.__slotName)return!1;var i=r>=0?e.childNodes[r]:null;n&&t===i&&(n=!1);var o=null,s=e,l=e;if(t){o=t.parentNode,t.parentNode=e;var c=e.__subtreeObserversCount;if(o){var u=o.childNodes.indexOf(t);o.childNodes.splice(u,1),o===e&&u<r&&r--,c-=o.__subtreeObserversCount}c&&a._updateSubtreeCaches(t,c)}for(var d=e;d&&d.__inheritSlots;)d=d.parentNode;for(var p=!d||!d.__slots,_=!p||e.__inheritSlots,w=o;w&&w.__inheritSlots;)w=w.parentNode;var I=!w||!w.__slots,A=!I||o&&o.__inheritSlots;if(p)void 0!==e.__singleSlot&&(s=l=e.__singleSlot),s?S(s,t,i,n,_,A,r):t&&t.__wxSlotParent&&S(t.__wxSlotParent,null,t,!0,A,!1),t&&!I&&t.__inheritSlots&&C(t,(function(e,t){S(e,t,null,!1,!0,!0,-1)}));else{var k="";if(t&&(k=t.__slot||"",s=d.__slots[k]||null),i&&(l=d.__slots[i.__slot||""]||null),i&&l&&n&&S(l,null,i,n,!0,!1),t)if(s){var E=i?b(d,i,k,!n):b(d,e,k,!1);S(s,t,E,!1,!0,A)}else t.__wxSlotParent&&S(t.__wxSlotParent,null,t,!0,A,!1);i&&n&&i.__inheritSlots&&C(i,(function(e,t){S(e,t,null,!1,!0,!0,-1)})),t&&t.__inheritSlots&&C(t,(function(t,r){var a=r.__slot||"",o=d.__slots[a]||null;if(o){var s=i?b(d,i,a,!n):b(d,e,a,!1);S(o,r,s,!1,!0,!0)}else r.__wxSlotParent&&S(r.__wxSlotParent,null,r,!0,!0,!1)}))}return n&&(e.__subtreeObserversCount&&a._updateSubtreeCaches(i,-e.__subtreeObserversCount),i.parentNode=null),-1===r&&(r=e.childNodes.length),t?e.childNodes.splice(r,n?1:0,t):e.childNodes.splice(r,n?1:0),e.ownerShadowRoot&&(n&&m(i,e.ownerShadowRoot),t&&m(t,e.ownerShadowRoot),y(e.ownerShadowRoot)),n&&(f(i),v(e,"remove",i)),t&&(o?g(t):h(t),o===e?v(e,"move",t):(o&&v(o,"remove",t),v(e,"add",t))),!0},A=function(e,t,r,n){if(t&&e.ownerShadowRoot!==t.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");var i=n?r:t,a=-1;return r&&(a=e.childNodes.indexOf(r))<0?null:I(e,t,a,n)?i:null};d._attachShadowRoot=function(e){var t=e.__wxHost;t.__wxSlotChildren=[e],S(t,e,null,!1,!1,0),e.__hostAssociated=!0,y(e)},d.appendChild=function(e,t){return A(e,t,null,!1)},d.insertBefore=function(e,t,r){return A(e,t,r,!1)},d.removeChild=function(e,t){return A(e,null,t,!0)},d.replaceChild=function(e,t,r){return A(e,t,r,!0)},d.prototype.appendChild=function(e){return A(this,e,null,!1)},d.prototype.insertBefore=function(e,t){return A(this,e,t,!1)},d.prototype.removeChild=function(e){return A(this,null,e,!0)},d.prototype.replaceChild=function(e,t){return A(this,e,t,!0)};var k=function(e){var t=!0,r=!0;if(e instanceof d?(e.__backendExtracted=!0,e.$$=e.__domElement=null,r=!1):e instanceof s&&(e.__backendExtracted=!0,e.$$=e.__domElement=null,t=!1,r=!1),t&&e.__wxSlotChildren)for(var n=0;n<e.__wxSlotChildren.length;n++){var i=e.__wxSlotChildren[n];k(i)}else if(r&&e.childNodes)for(var a=0;a<e.childNodes.length;a++)k(e.childNodes[a])};d.extractBackend=function(e){if(e.__backendExtracted)return null;var t=e.__domElement;return k(e),t};var E=function(e,t){if(!t){var r=l.toElement(e.__domElement);return e.$$=e.__domElement=r,r}if(e.__domElement.tagName.toUpperCase()===t.tagName)e.$$=e.__domElement=t;else{var n=l.toElement(e.__domElement);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null},T=function(e,t,r){var n=e instanceof d&&e.__virtual,i=t?t.childNodes[r]:void 0,a=!0,o=!0,l=null;if(e instanceof d)e.__backendExtracted=!1,n||(l=E(e,i)),o=!1;else if(e instanceof s)e.__backendExtracted=!1,l=function(e,t){if(!t){var r=document.createTextNode(e.textContent);return e.$$=e.__domElement=r,r}if(void 0!==t.textContent)t.textContent=e.textContent,e.$$=e.__domElement=t;else{var n=document.createTextNode(e.textContent);e.$$=e.__domElement=n,t.parentNode.replaceChild(n,t)}return null}(e,i),a=!1,o=!1;else{var c=document.createDocumentFragment();if(c.__wxSlotChildren=e.__wxSlotChildren,i&&i.childNodes)for(;i.childNodes.length;)c.appendChild(i.childNodes[0]);l=function(e,t){if(!t)return e;for(;e.childNodes&&t.childNodes&&t.childNodes.length;)e.appendChild(t.childNodes[0]);return t.parentNode.replaceChild(e,t),null}(e,i),e=c}l?(t.appendChild(l),i=l):i=t?t.childNodes[r]:void 0;var u=0;if(a&&e.__wxSlotChildren)for(var p=0;p<e.__wxSlotChildren.length;p++){var h=e.__wxSlotChildren[p];if(n)r=T(h,t,r);else if(h.asShadowRoot){for(var f=0;f<h.asShadowRoot.childNodes.length;f++)u=T(h.asShadowRoot.childNodes[f],i,u);e.shadowRoot=i,i.__wxHost=e,e.__wxSlotChildren[0]=i,i.__wxSlotParent=e,e.__singleSlot===h&&(e.__singleSlot=i)}else u=T(h,i,u)}else if(o&&e.childNodes)for(var g=0;g<e.childNodes.length;g++)u=T(e.childNodes[g],i,u);if(n)return r;for(;i.childNodes.length>u;)i.removeChild(i.childNodes[u]);return r+1};d.injectBackend=function(e,t){if(e.__backendExtracted){var r=document.createDocumentFragment();r.appendChild(t),T(e,r,0)}},d.prototype.triggerEvent=function(e,t,r){i.triggerEvent(this,e,t,r)},d.prototype.dispatchEvent=function(e){i.dispatchEvent(this,e)},d.prototype.addListener=function(e,t,r){i.addListenerToElement(this,e,t,r)},d.prototype.removeListener=function(e,t,r){i.removeListenerFromElement(this,e,t,r)},d.setMethodCaller=function(e,t){e.__methodCaller=t},d.getMethodCaller=function(e){return e.__methodCaller},d.prototype.getAttribute=function(e){if(!this.__attributes)return null;var t=this.__attributes[e];return void 0===t?null:t},d.prototype.setAttribute=function(e,t){this.__attributes||(this.__attributes=Object.create(null)),t=String(t),this.__attributes[e]=t,this.__domElement&&this.__domElement.setAttribute(e,t)},d.prototype.removeAttribute=function(e){this.__attributes&&(delete this.__attributes[e],this.__domElement&&this.__domElement.removeAttribute(e))},d.prototype.setMark=function(e,t){this.__marks||(this.__marks={}),this.__marks[e]=t},d.prototype.collectMarks=function(){for(var e={},t=this;t;t=t.parentNode)if(t.__marks)for(var r in t.__marks)hasOwnProperty.call(e,r)||(e[r]=t.__marks[r]);return e};var P=d.prototype.setNodeStyle=function(e,t){this.__styleSegments[t||0]=e;var r=this.__styleSegments.join(";");if(this.__domElement&&this.ownerShadowRoot&&this.ownerShadowRoot.__childrenPropsFilter){var n=this.ownerShadowRoot.__childrenPropsFilter.style;if("function"==typeof n)return void this.__domElement.setAttribute("style",n.call(this,r))}this.__domElement&&this.__domElement.setAttribute("style",r),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&a._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"style"})};d.replaceDocumentElement=function(e,t){e.__attached||(t.parentNode.replaceChild(e.__domElement,t),h(e))},d.pretendAttached=function(e){e.__attached||h(e)},d.pretendDetached=function(e){e.__attached&&f(e)},d.isAttached=function(e){return e.__attached},d.setSlotName=function(e,t){if(t=null==t?"":String(t),void 0===e.__slotName){if(0!==e.childNodes.length||0!==e.__wxSlotChildren.length)return;e.__wxSlotChildren=[]}e.__slotName=t,e.ownerShadowRoot&&(e.ownerShadowRoot.__slotCacheDirty=!0,y(e.ownerShadowRoot))},d.setInheritSlots=function(e){e.__singleSlot||e.__slots||e.__wxSlotChildren.length||(e.__wxSlotChildren=[],e.__inheritSlots=!0)},d.getInheritSlots=function(e){return e.__inheritSlots};var x=function(e,t){var r=e.match(/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!r)return null;var n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t||""}:null},O=d.parseSelector=function(e){for(var t=String(e||"").split(","),r=[],n=!1,i=0;i<t.length;i++){for(var a=t[i].split(/( |\t|>+)/g),o=[],s="",l=0;l<a.length;l++){var c=a[l];if(c&&" "!==c&&"\t"!==c)if(">"!==c[0]){var u=x(c,s);if(s="",!u)break;o.push(u)}else{if(""!==s)break;s=c,">>>"===c&&(n=!0)}}l===a.length&&o.length&&r.push(o)}return r.length?{crossShadow:n,union:r}:null},R=function(e,t,r,n,i){if(t===e)return!1;var a=r[n],o=!0;a.id&&a.id!==t.__id&&(o=!1);for(var s=a.classes,l=0;o&&l<s.length;l++)t.classList.contains(s[l])||(o=!1);if(!o&&">"===i)return!1;var c=t;if(o&&0===n){if(null===e)return!0;for(c=c.parentNode;c;c=c.parentNode)if(c===e)return!0;if(">>>"!==i)return!1;c=t,o=!1}var u=o?a.relation:i;do{c.parentNode?c=c.parentNode:">>>"===u?c=c.__wxHost:">>>"===i?(o=!1,c=c.__wxHost):c=null,c===e&&(c=null)}while(c&&!d.isSelectable(c));if(!c)return!1;if(o){if(R(e,c,r,n-1,u))return!0;if(">>>"!==i)return!1}return R(e,c,r,n,i)},M=function(e,t,r){if(!d.isSelectable(r))return!1;for(var n=e.union,i=0;i<n.length;i++){var a=n[i];if(R(t,r,a,a.length-1,">"))return!0}return!1},D=function(e,t,r,n,i){if(M(t,r,n)&&(e.push(n),i))return!0;if(n.shadowRoot&&t.crossShadow&&((n.ownerShadowRoot?n.ownerShadowRoot.__wxHost.__componentOptions.domain:c.domain)===n.__componentOptions.domain&&D(e,t,r,n.shadowRoot,i)&&i))return!0;for(var a=n.childNodes,o=0;o<a.length;o++)if(a[o]instanceof d&&D(e,t,r,a[o],i)&&i)return!0;return!1};d.prototype.querySelector=function(e){var t="object"==typeof e?e:O(e);if(!t)return null;var r=[];return D(r,t,this,this,!0),r[0]||null},d.prototype.querySelectorAll=function(e){var t="object"==typeof e?e:O(e),r=[];return t?(D(r,t,this,this,!1),r):[]},d.matchSelector=function(e,t){var r="object"==typeof e?e:O(e);return!!r&&M(r,null,t)},d.prototype.matchSelector=function(e,t){var r="object"==typeof e?e:O(e);return!!r&&M(r,this,t)},d.isSelectable=function(e){return!!e.classList},e.exports=d},function(e,t,r){var n=r(3),i=function(){};i.prototype=Object.create(Object.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),i.create=function(e){var t=new i;return t._cb=e,t._noSubtreeCb=function(t){t.target===this&&e.call(this,t)},t._binded=[],t},i.prototype.observe=function(e,t){var r=0,i=(t=t||{}).subtree?this._cb:this._noSubtreeCb;t.properties&&(e.__propObservers||(e.__propObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__propObservers,id:e.__propObservers.add(i),subtree:t.subtree?e:null}),r++),t.childList&&(e.__childObservers||(e.__childObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__childObservers,id:e.__childObservers.add(i),subtree:t.subtree?e:null}),r++),t.characterData&&(e.__textObservers||(e.__textObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__textObservers,id:e.__textObservers.add(i),subtree:t.subtree?e:null}),r++),t.subtree&&a(e,r),t.attachStatus&&(e.__attachedObservers||(e.__attachedObservers=n.create("Observer Callback")),this._binded.push({funcArr:e.__attachedObservers,id:e.__attachedObservers.add(i),subtree:null}))},i.prototype.disconnect=function(){for(var e=this._binded,t=0;t<e.length;t++){var r=e[t];r.funcArr.remove(r.id),r.subtree&&a(r.subtree,-1)}this._binded=[]};var a=i._updateSubtreeCaches=function(e,t){e.__subtreeObserversCount+=t;var r=e.childNodes;if(r)for(var n=0;n<r.length;n++)a(r[n],t)};i._callObservers=function(e,t,r){do{e[t]&&e[t].call(e,[r]),e=e.parentNode}while(e&&e.__subtreeObserversCount)},i._callSingleObserver=function(e,t,r){e[t]&&e[t].call(e,[r])},e.exports=i},function(e,t,r){var n=r(10),i=function(){},a=/(~|\^+)?-?[_0-9a-z][-_0-9a-z]*/gi,o=null;i._setElementSystem=function(e){o=e,i._setElementSystem=null};var s=Object.prototype.hasOwnProperty;i.create=function(e,t){var r=new i;for(var n in r._prefix="",r._addOriginalClass=!1,r._alias=t,r._resolvedAlias={},t)r._resolvedAlias[n]="";return r._rawNames=[],r._elem=e,r._owner=null,r};var l=function(e){var t="",r=e._rawNames,n=e._prefix,i=e._owner?e._owner._resolvedAlias:null,a=e._addOriginalClass;n&&(n+="--");for(var o=0;o<r.length;o++){var l=r[o];if(o&&(t+=" "),i&&s.call(i,l))t+=i[l];else if("~"===l[0])t+=l.slice(1);else if("^"===l[0]){l=l.slice(1);for(var c=e._owner||null;"^"===l[0];)l=l.slice(1),c=c?c._owner:null;var u=c?c._prefix:"";u&&(u+="--"),t+=u+l}else a&&(t+=l+" "),t+=n+l}return t},c=function(e){var t=e._elem.__domElement;if(t){var r=l(e);r?t.setAttribute("class",r):t.removeAttribute("class")}},u=function(e){var t=e.classList;t instanceof i&&(t._alias&&d(t),c(t));for(var r=e.childNodes,n=0;n<r.length;n++)r[n]instanceof o&&u(r[n])},d=function(e){var t=e._owner;if(!t)return!1;var r=!1;for(var n in e._alias){var i=e._alias[n],a=[];if(i)for(var l=0;l<i.length;l++){var c=i[l];if(s.call(t._alias,c)){var d=t._resolvedAlias[c];a.push(d)}else{var p=e._prefix&&c?e._prefix+"--"+c:c;a.push(p)}}var h=a.join(" ");e._resolvedAlias[n]!==h&&(r=!0,e._resolvedAlias[n]=h)}r&&e._elem.shadowRoot instanceof o&&u(e._elem.shadowRoot)};i.prototype.toggle=function(e,t){var r=this._rawNames.indexOf(e);void 0===t&&(t=r<0);var i=!1;if(t?r<0&&(this._rawNames.push(e),c(this),i=!0):r>=0&&(this._rawNames.splice(r,1),c(this),i=!0),i){var a=this._elem;(a.__propObservers&&!a.__propObservers.empty||a.__subtreeObserversCount)&&n._callObservers(a,"__propObservers",{type:"properties",target:a,propertyName:"class"})}},i.prototype.contains=function(e){for(var t=this._rawNames,r=0;r<t.length;r++){var n=t[r];if("~"===n[0]){if(n.slice(1)===e)return!0}else if("^"===n[0]){for(var i=1;"^"===n[i];)i++;if(n.slice(i)===e)return!0}else if(n===e)return!0}return!1},i.prototype._setOwnerOptions=function(e,t,r){var n=this._prefix;this._prefix=t,n!==t&&(this._addOriginalClass=r,this._owner=e,this._alias&&d(this),c(this))},i.prototype._setAlias=function(e,t){var r=this._owner,n=String(t).match(a);this._alias[e]=n;var i=[];if(n)for(var o=0;o<n.length;o++){var l=n[o];r&&s.call(r._alias,l)?i.push(r._resolvedAlias[l]):i.push(this._prefix?this._prefix+"--"+l:l)}this._resolvedAlias[e]=i.join(" "),u(this._elem.shadowRoot)},i.prototype.setClassNames=function(e){e=null==e?"":String(e),this._rawNames=e.match(a)||[],c(this)},i.prototype.getClassNames=function(){return l(this)},i.prototype.getPrefix=function(){return this._prefix},i.prototype.getAddOriginalClass=function(){return this._addOriginalClass},i.prototype.getRawNames=function(){return this._rawNames},e.exports=i},function(e,t,r){var n=r(10),i=r(4),a=r(13),o=function(){};o.prototype=Object.create(Object.prototype,{constructor:{value:o,writable:!0,configurable:!0}});var s=o._advancedCreate=function(e,t){var r=new o;r.__slot="";var n=null;return a.backendExtractedDefault||"dom"!==i.documentBackend?r.__textContent=e:(n=document.createTextNode(e||"")).__wxElement=r,r.$$=r.__domElement=n,r.__backendExtracted=a.backendExtractedDefault,r.__subtreeObserversCount=0,r.parentNode=null,r.ownerShadowRoot=t,r};o.create=function(e){return s(e,null)},Object.defineProperty(o.prototype,"textContent",{get:function(){return this.__domElement?this.__domElement.textContent:this.__textContent},set:function(e){this.__domElement?this.__domElement.textContent=e:this.__textContent=String(e),(this.__textObservers&&!this.__textObservers.empty||this.__subtreeObserversCount)&&n._callObservers(this,"__textObservers",{type:"characterData",target:this})}}),e.exports=o},function(e,t){t.backendExtractedDefault=!1,t.enableBackendExtractedDefault=function(){t.backendExtractedDefault=!0},t.disableBackendExtractedDefault=function(){t.backendExtractedDefault=!1}},function(e,t){var r=function(e){this.tagName=e,this.id="",this.attrs={}};r.toElement=function(e){var t=document.createElement(e.tagName);for(var r in e.id&&(t.id=e.id),e.attrs)t.setAttribute(r,e.attrs[r]);return t},r.fromElement=function(e){var t=new r(e.tagName);t.id=e.id;for(var n=e.attributes,i=0;i<n.length;i++)t.attrs[n[i].name]=n[i].value;return t},r.prototype.cloneNode=function(){var e=new r;for(var t in e.id=this.id,this.attrs)e.attrs[t]=this.attrs[t];return e},r.prototype.removeAttribute=function(e,t){delete this.attrs[e]},r.prototype.setAttribute=function(e,t){this.attrs[e]=t},r.prototype.getAttribute=function(e){return this.attrs[e]},e.exports=r},function(e,t,r){var n=r(3),i=r(5),a=r(16),o=r(6),s=r(8),l=r(9),c=r(17),u=r(10),d=r(11),p=r(14),h=r(4),f=r(13),g=r(7),v=o.addListenerToElement,m=g.parseSinglePath,y=i.deepCopy,_=function(){};_.prototype=Object.create(l.prototype,{constructor:{value:_,writable:!0,configurable:!0},data:{get:function(){return this.__dataProxy._data},set:function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace([r],e[r]);t.doUpdates()},configurable:!0},$:{get:function(){return l._updateIdMap(this),this.__idCache},set:function(){}}});var b=function(){};b.prototype=Object.create(Object.prototype),o._setComponent(_);var w=null;_._setDefaultTemplateEngine=function(e){w=e,_._setDefaultTemplateEngine=null};var S=function(e,t,r,i,a){if(r)for(var o=0;o<r.length;o++)if(s.matchTypeWithValue(r[o],e))return e;return t===String?null==e?(n.hasGlobalWarningListeners()&&n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <String> but get null value. Use empty string instead.'),""):(n.hasGlobalWarningListeners()&&"object"==typeof e&&n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <String> but got object-typed value. Force converted.'),String(e)):t===Number?isFinite(e)?Number(e):(n.hasGlobalWarningListeners()&&("number"==typeof e?n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <Number> but got NaN or Infinity. Used 0 instead.'):n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <Number> but got non-number value. Used 0 instead.')),0):t===Boolean?!!e:t===Array?e instanceof Array?e:(n.hasGlobalWarningListeners()&&n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead.'),[]):t===Object?"object"==typeof e?e:(n.hasGlobalWarningListeners()&&n.triggerWarning('property "'+a+'" of "'+(i.is||"")+'" received type-uncompatible value: expected <Object> but got non-object value. Used null instead.'),null):void 0===e?null:e};a.setPropUpdater((function(e,t,r,i){var a=e[0],o=this.__propData[a];r=S(r,t.type,t.optionalTypes,this,a);var s=!t.availability||function(e,t,r,i){var a=[e.ownerShadowRoot?e.ownerShadowRoot.__wxHost.__componentOptions.domain:void 0,i?void 0:r];return!!n.safeCallback("Availablity Controller",t,e.__methodCaller,a,e)}(this,t.availability,r,i);if(!s)return n.hasGlobalWarningListeners()&&n.triggerWarning('the new value for property "'+a+'" in component "'+(this.is||"")+'" is currently not available. The value is not changed.'),o;if(t.filter){var l=n.safeCallback("Property Filter",t.filter,this.__methodCaller,i?[]:[r,o,e],this);void 0!==l&&(r=l)}return this.__domElement&&this.__componentOptions.reflectToAttributes&&this.__propPublic[a]&&function(e,t,r,n){if(n&&e.ownerShadowRoot){var i=e.ownerShadowRoot.__wxHost.__idPrefix;i&&(r=i+"--"+r)}var a=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})),o=typeof r;"boolean"===o?r?e.__domElement.setAttribute(a,""):e.__domElement.removeAttribute(a):"object"===o?e.__domElement.setAttribute(a,JSON.stringify(r)):e.__domElement.setAttribute(a,r)}(this,a,r,t.reflectIdPrefix),r})),a.setPropObserver((function(e,t,r,i,a,o){if(i.observeAssignments||e!==t){var s=r[0];this.__propertyChangeListeners&&this.__propertyChangeListeners[s]&&!o&&n.safeCallback("Property Observer",this.__propertyChangeListeners[s],this.__methodCaller,[e],this),i.observer&&n.safeCallback("Property Observer",i.observer,this.__methodCaller,a?[]:[e,t,r],this),i.public&&(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&u._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:s})}}));var C=function(e,t,r){t.__relationLinks||(t.__relationLinks={});for(var n=t.__relationLinks[r]=[],i=0;i<e.length;i++)n.push(null)},I=function(e,t,r,i,a){for(var o=_.prototype.hasBehavior,c="parent"===i,u="shadowHost"===i,d=0;d<e.length;d++){var p,h=e[d];if(p="object"!=typeof h.target?s._list[h.target]:h.target){var f=t[d],g=null;if(!a)for(var v=u?r.ownerShadowRoot&&r.ownerShadowRoot.__wxHost:r.parentNode;v;v=u?v.ownerShadowRoot&&v.ownerShadowRoot.__wxHost:v.parentNode)if(l.isSelectable(v)){if(o.call(v,p)){var m;m=c?v.__relationMap.child:u?v.__relationMap.shadowContent:v.__relationMap.descendant;for(var y=0;y<m.length;y++){var b,w=m[y];if((b="object"!=typeof w.target?s._list[w.target]:w.target)&&o.call(r,b)){g={parent:v,relation:w};break}}}if(c||g)break}t[d]=g,!f||g&&f.parent===g.parent||(n.safeCallback("Relation Unlinked Callback",f.relation.unlinked,f.parent.__methodCaller,[r.__methodCaller],f.parent),n.safeCallback("Relation Unlinked Callback",h.unlinked,r.__methodCaller,[f.parent.__methodCaller],r)),!g||f&&f.parent===g.parent||(n.safeCallback("Relation Linked Callback",g.relation.linked,g.parent.__methodCaller,[r.__methodCaller],g.parent),n.safeCallback("Relation Linked Callback",h.linked,r.__methodCaller,[g.parent.__methodCaller],r)),f&&g&&f.parent===g.parent&&(n.safeCallback("Relation Link Changed Callback",g.relation.linkChanged,g.parent.__methodCaller,[r.__methodCaller],g.parent),n.safeCallback("Relation Link Changed Callback",h.linkChanged,r.__methodCaller,[g.parent.__methodCaller],r)),a||g||n.safeCallback("Relation Link Failed Callback",h.linkFailed,r.__methodCaller,[],r)}}},A=function(e,t,r){if(e instanceof l){var n=0,i=null;if(e instanceof _){for(e.__pageLifeTimeFuncs[t]&&e.__pageLifeTimeFuncs[t].call(e.__methodCaller,r||[]),i=e.childNodes,n=0;n<i.length;n++)A(i[n],t,r);e=e.shadowRoot}for(i=e.childNodes,n=0;n<i.length;n++)A(i[n],t,r)}};_._list={},_.register=function(e){var t=e.options||{},r=s.create(e),n=void 0!==t.classPrefix?t.classPrefix:h.classPrefix;null!=n||(n=r.is||"");var i=new b;return i._unprepared=r,i.is=e.is||"",i.behavior=r,i.protoFunc=null,i.props=null,i.template=null,i.innerEvents=null,i.generics=r.generics,i.placeholder=r.placeholder,i.initiator=r.initiator||null,i.options={availability:t.availability||h.availability,domain:t.domain||h.domain,writeOnly:!!(void 0!==t.writeOnly?t.writeOnly:h.writeOnly),allowInWriteOnly:!!(void 0!==t.allowInWriteOnly?t.allowInWriteOnly:h.allowInWriteOnly),classPrefix:n,addGlobalClass:!!(void 0!==t.addGlobalClass?t.addGlobalClass:h.addGlobalClass),templateEngine:t.templateEngine||h.templateEngine||w,renderingMode:t.renderingMode||h.renderingMode,multipleSlots:!!(void 0!==t.multipleSlots?t.multipleSlots:h.multipleSlots),reflectToAttributes:!!(void 0!==t.reflectToAttributes?t.reflectToAttributes:h.reflectToAttributes),writeFieldsToNode:!!(void 0!==t.writeFieldsToNode?t.writeFieldsToNode:h.writeFieldsToNode),writeIdToDOM:!!(void 0!==t.writeIdToDOM?t.writeIdToDOM:h.writeIdToDOM),idPrefixGenerator:t.idPrefixGenerator||h.idPrefixGenerator,separateInnerData:!!(void 0!==t.separateInnerData?t.separateInnerData:h.separateInnerData),innerDataExclude:t.innerDataExclude||h.innerDataExclude,listenerChangeLifeTimes:!!(void 0!==t.listenerChangeLifeTimes?t.listenerChangeLifeTimes:h.listenerChangeLifeTimes),randomizeTagName:!!(void 0!==t.randomizeTagName?t.randomizeTagName:h.randomizeTagName),virtualHost:!!(void 0!==t.virtualHost?t.virtualHost:h.virtualHost)},r._unprepared||_.prepare(i),void 0!==e.is&&(_._list[r.is]=i),i},_.isPrepared=function(e){return!e._unprepared},_.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var r=e.options,i={};t._unprepared&&s.prepare(t),r.writeOnly&&(i.data={value:null});var o=e.props={};Object.keys(t.properties).forEach((function(e){var n=t.properties[e];o[e]={type:n.type,optionalTypes:n.optionalTypes,value:n.value,filter:"function"==typeof n.filter?n.filter:null==n.filter?null:t.methods[n.filter],observer:"function"==typeof n.observer?n.observer:null==n.observer?null:t.methods[n.observer],public:n.public,availability:n.availability,observeAssignments:n.observeAssignments,reflectIdPrefix:n.reflectIdPrefix},r.writeFieldsToNode&&(i[e]={enumerable:!0,get:function(){return this.__propData[e]},set:function(t){var r=this.__dataProxy;r.scheduleReplace([e],t),r.doUpdates()}})}));var l=function(){};e.protoFunc=l;var c=l.prototype=Object.create(_.prototype,i);if(c.is=e.is,c.__componentOptions=r,c.__using=t.using,e.dataGroupObserverTree=a._createObserverTree(o),t._addObserversToDataProxy(e.dataGroupObserverTree),c.__behavior=t,r.writeFieldsToNode)for(var u in t.methods)c[u]=t.methods[u];c.__lifeTimeFuncs=t._getAllLifeTimeFuncs(),c.__pageLifeTimeFuncs=t._getAllPageLifeTimeFuncs();var d=t.relations,p=c.__relationMap={};for(var h in d){var f=d[h],g=f.type;p[g]?p[g].push(f):p[g]=[f]}var v=[];p.parent&&v.push((function(e){I(this.__relationMap.parent,this.__relationLinks.parent,this,"parent","detached"===e)})),p.ancestor&&v.push((function(e){I(this.__relationMap.ancestor,this.__relationLinks.ancestor,this,"ancestor","detached"===e)})),p.shadowHost&&v.push((function(e){I(this.__relationMap.shadowHost,this.__relationLinks.shadowHost,this,"shadowHost","detached"===e)})),e.relationHandler=function(e){for(var t=0;t<v.length;t++)v[t].call(this,e)};var m={},y={},b=t.data,w="";for(w in b)y[w]=b[w];for(w in o){var S=o[w];n.hasGlobalWarningListeners()&&void 0!==y[w]&&n.triggerWarning('data field "'+w+'" is overwritten by property with the same name (when preparing "'+t.is+'").'),y[w]=S.value,m[w]=S.public}var C=y,A=r.separateInnerData,k=r.innerDataExclude;if(k){for(var E in C={},y)k.test(E)||(C[E]=y[E]);A||(y=C)}var T=r.templateEngine;e.template=T.create(t,y,C,r),c.__propPublic=m;var P=t._getAllListeners(),x=e.innerEvents=[];for(var O in P){for(var R=P[O],M=O.indexOf("."),D=O.slice(M+1),N=M<1?"":O.slice(0,M),L=[],B=0;B<R.length;B++){var $=R[B];"function"!=typeof $&&($=null==$?null:t.methods[$]),L.push($)}x.push({id:N,name:D,funcs:L})}}};var k=1,E=Object.prototype.hasOwnProperty,T=function(e,t){return function(r){return e.call(t.__methodCaller,r,t)}},P=function(e,t,r){var i={};for(var a in e){var o=e[a],s=t[a];"object"!=typeof s&&E.call(_._list,s)&&(s=_._list[s]),"object"!=typeof s&&null!=o.default&&(s=_._list[o.default]),n.hasGlobalWarningListeners()&&(s||n.triggerWarning('generic "'+a+'" is not instantiated. The default component is used instead.')),s&&(i[a]=s)}if(n.hasGlobalWarningListeners())for(var l in t)void 0===e[l]&&n.triggerWarning('generic "'+l+'" is not defined. It will be ignored.');return i},x=_._advancedCreate=function(e,t,r,i,o,s){var c=t;c._unprepared&&_.prepare(c);var u=c.options,g=!u.availability||function(e,t,r){var i=[t?t.__wxHost.__componentOptions.domain:void 0];return!!n.safeCallback("Availablity Controller",r,e,i)}(c,r,u.availability);g||(n.hasGlobalWarningListeners()&&n.triggerWarning('the component "'+(c.is||"")+'" is currently not available. The default component is used instead.'),c=_._list[""]);var m=new(0,c.protoFunc);u.idPrefixGenerator&&(m.__idPrefix=String(u.idPrefixGenerator.call(m))),m.__placeholder=function(e,t){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}(o,c.placeholder);var b=c.generics;m.__generics=b?P(b,i||{}):{};var w=null,S=h.documentBackend;if(u.virtualHost){w=null;"dom"===h.documentBackend&&(w=void 0),l.initialize(m,w,r),m.__virtual=!0}else"dom"===S?(w=f.backendExtractedDefault?new p(e):document.createElement(e),l.initialize(m,w,r)):l.initialize(m,null,r);var I=0,A=m.__externalClassAlias={};if(c.behavior.externalClasses){var E=c.behavior.externalClasses;for(I=0;I<E.length;I++)A[E[I]]=null}if(m.classList=d.create(m,A),r){var x=r.__wxHost;m.classList._setOwnerOptions(x.classList,x.__componentOptions.classPrefix,x.__componentOptions.addGlobalClass),h.writeExtraInfoToAttr&&w&&w.setAttribute("exparser:info-class-prefix",x.__componentOptions.classPrefix&&x.__componentOptions.classPrefix+"--")}h.writeExtraInfoToAttr&&w&&(m.__componentInstanceId=k++,w.setAttribute("exparser:info-component-id",m.__componentInstanceId));var O=m.__templateInstance=c.template.createInstance(m,s);m.__propData=O.data;var R=u.separateInnerData;m.__innerData=R?y(m.__propData):null;var M=u.innerDataExclude;if(R&&M){var D={};for(var N in m.__innerData)M.test(N)||(D[N]=m.__innerData[N]);m.__innerData=D}m.__dataProxy=a._advancedCreate(m,m.__propData,m.__innerData,M,c.dataGroupObserverTree,(function(e,t,r,n){m.__templateInstance.updateValues(m,R?m.__innerData:m.__propData,e,t,r,n)})),O.beforeMergeValues&&m.__dataProxy.setBeforeMergeCb((function(e,t,r){m.__templateInstance.beforeMergeValues(e,t,r)})),O.beforeUpdateValues&&m.__dataProxy.setBeforeUpdateCb((function(e){m.__templateInstance.beforeUpdateValues(m,R?m.__innerData:m.__propData,e)})),u.writeOnly&&m.__dataProxy.setHidingValue(!0),m.__idCacheDirty=!1,m.__idCache=O.idMap,null===O.slots[""]&&(O.slots[""]=w),c.options.multipleSlots?m.__slots=O.slots:(m.__singleSlot=O.slots[""]||null,m.__singleSlot&&(m.__singleSlot.__wxSlotChildren=m.childNodes)),O.shadowRoot instanceof l?(m.shadowRoot=O.shadowRoot,l._attachShadowRoot(O.shadowRoot)):w instanceof p?(m.shadowRoot=w,w.__wxHost=m,m.__domElement.asShadowRoot=O.shadowRoot,m.__wxSlotChildren=[w],w.__wxSlotParent=m):(m.shadowRoot=w,w.__wxHost=m,m.__domElement.appendChild(O.shadowRoot),m.__wxSlotChildren=[w],w.__wxSlotParent=m);for(var L=O.listeners,B=0;B<L.length;B++){var $=L[B];v($.target,$.name,T($.func,m))}var F=c.innerEvents;for(I=0;I<F.length;I++){var j=F[I],W=j.id?"this"===j.id?m:m.__idCache[j.id]:m.shadowRoot;if(W)for(var U=j.name,V=j.funcs,q=0;q<V.length;q++)v(W,U,T(V[q],m))}var z=m.__relationMap;return z.parent&&(C(z.parent,m,"parent"),m.__relationHandler=c.relationHandler),z.ancestor&&(C(z.ancestor,m,"ancestor"),m.__relationHandler=c.relationHandler),z.shadowHost&&(C(z.shadowHost,m,"shadowHost"),m.__relationHandler=c.relationHandler),m.__propertyChangeListeners=null,c.initiator&&n.safeCallback("Component Initiator",c.initiator,m.__methodCaller,[],m),m.__lifeTimeFuncs.created.call(m.__methodCaller,[],m),m};_.createWithGenerics=function(e,t,r,i){return"object"==typeof e?x(e.is,e,null,r,null,i):e?e.indexOf("-")<0&&!t?c.create(e):(n.hasGlobalWarningListeners()&&(t||E.call(_._list,e)||"virtual"===e||n.triggerWarning('component "'+e+'" is not found. The default component is used instead.')),x(e.toLowerCase(),t||E.call(_._list,e)&&_._list[e]||_._list[""],null,r,null,i)):x("virtual",_._list[""],null,r,null,i)},_.create=function(e,t,r){return _.createWithGenerics(e,t,null,r)},_.listProperties=function(e){var t=[];for(var r in e.__propPublic)void 0!==e.__propPublic[r]&&t.push(r);return t},_.listPublicProperties=function(e){var t=[];for(var r in e.__propPublic)!0===e.__propPublic[r]&&t.push(r);return t},_.hasProperty=function(e,t){return void 0!==e.__propPublic[t]},_.hasPublicProperty=function(e,t){return!0===e.__propPublic[t]},_.getMethodsFromDef=function(e){return e.behavior._unprepared&&s.prepare(e.behavior),e.behavior.methods},_.getMethod=function(e,t){return e.__behavior.methods[t]},_.getComponentOptions=function(e){return e.__componentOptions},_.prototype.triggerLifeTime=function(e,t){this.__lifeTimeFuncs[e].call(this.__methodCaller,t||[])},_.prototype.triggerPageLifeTime=function(e,t){A(this,e,t)},_.prototype.hasBehavior=function(e){return"object"!=typeof e&&Object.prototype.hasOwnProperty.call(this.__using,e)&&(e=this.__using[e]),!!this.__behavior&&this.__behavior.hasBehavior(e)},_.prototype.getRootBehavior=function(){return this.__behavior},_.prototype.getPlaceholder=function(e){return this.__placeholder[e]},_.prototype.getRelationNodes=function(e){var t=this.__behavior.relations[e];if(!t)return null;if("parent"===t.type||"ancestor"===t.type||"shadowHost"===t.type){for(var r=this.__relationMap[t.type],n=0;n<r.length&&r[n]!==t;n++);return this.__relationLinks[t.type][n]?[this.__relationLinks[t.type][n].parent]:[]}return function(e,t){var r=[],n=t.type,i="child"===n,a="shadowContent"===n,o=function(n){for(var s=n.childNodes,c=0;c<s.length;c++){var u=s[c];if(u instanceof l)if(l.isSelectable(u)){var d;if(u.__relationLinks)if(d=i?u.__relationLinks.parent:a?u.__relationLinks.shadowHost:u.__relationLinks.ancestor)for(var p=0;p<d.length;p++){var h=d[p];if(h&&h.parent===e&&h.relation===t){r.push(u);break}}a&&u instanceof _&&o(u.shadowRoot),i||o(u)}else o(u)}};return o(a?e.shadowRoot:e),r}(this,t)},_.prototype.hasExternalClass=function(e){return E.call(this.__externalClassAlias,e)},_.prototype.setExternalClass=function(e,t){this.classList._setAlias(e,t)},_.prototype.setPropertyChangeListener=function(e,t){this.__propertyChangeListeners||(this.__propertyChangeListeners={}),this.__propertyChangeListeners[e]=t},_.prototype.replaceDataOnPath=function(e,t){this.__dataProxy.scheduleReplace(e,t)},_.prototype.isInnerDataExcluded=function(e){var t=this.__componentOptions.innerDataExclude;return!!t&&t.test(e)},_.getInnerData=function(e){return e.__innerData},_.getDataProxy=function(e){return e.__dataProxy},_.replaceWholeData=function(e,t,r){e.__propData=t,e.__dataProxy.replaceWholeData(t,r)},_.prototype.applyDataUpdates=function(){this.__dataProxy.doUpdates()},_.prototype.setData=function(e){var t=this.__dataProxy;for(var r in e)t.scheduleReplace(m(r),e[r]);t.doUpdates()},e.exports=_},function(e,t,r){var n=r(3),i=r(5),a=null,o=null,s=Object.prototype.hasOwnProperty,l=i.deepCopy,c=function(e,t,r,n,i,a){this._data=t,this._innerData=r,this._innerDataExclude=n,this._comp=e,this._updateCb=a,this._beforeMergeCb=null,this._beforeUpdateCb=null,this._hidingValue=!1,this._changes=[],this._doingUpdates=null,this._propFields=i._propFields,this._observers=i._observers,this._observerTree=i._observerTree,this._relatedObserverTreeObj=i,this._observerStatus=[]};c._advancedCreate=function(e,t,r,n,i,a){return new c(e,t,r,n,i,a)};var u=function(e){this._propFields=e,this._observerIdInc=0,this._observers=[],this._observerTree={}};c._createObserverTree=function(e){return new u(e)},c.create=function(e,t,r){var n=new u({});return new c({__methodCaller:e},t,null,null,n,r)},c.setPropUpdater=function(e){a=e},c.setPropObserver=function(e){o=e},c.prototype.replaceWholeData=function(e,t){this._data=e},c.prototype.setHidingValue=function(e){this._hidingValue=!!e},c.prototype.setBeforeMergeCb=function(e){this._beforeMergeCb=e},c.prototype.setBeforeUpdateCb=function(e){this._beforeUpdateCb=e};var d=function(e,t,r,i){for(var a=e,o=0;o<t.length;o++){var s=t[o];if("**"===s)return n.hasGlobalWarningListeners()&&o!==t.length-1&&n.triggerWarning('"**" can only be used at the end of a path descriptor (in "'+i.is+'").'),a["**"]||(a["**"]=[]),void a["**"].push(r);a[s]||(a[s]={}),a=a[s]}a["~"]||(a["~"]=[]),a["~"].push(r)},p=function(e,t,r,n){for(var i=0;i<t.length;i++)d(e,t[i],r,n)},h=function(e,t,r){for(var n=e,i=0,a="";i<t.length&&"**"!==(a=t[i]);i++){if(!n)return;n=n[a]}var o="**"===a?n["**"]:n["~"];if(o)for(i=0;i<o.length;i++)if(o[i]===r){o.splice(i,1);break}},f=function(e,t,r){for(var n=0;n<t.length;n++)h(e,t[n],r)};u.prototype.addObserver=function(e,t,r){var n=this._observerIdInc++;return this._observers[n]={pathObj:t,func:e},p(this._observerTree,t,n,r),n},u.prototype.removeObserver=function(e){var t=this._observers[e];f(this._observerTree,t.pathObj,e),this._observers[e]=null},u.prototype.moveObserver=function(e,t){var r=this._observers[e];f(this._observerTree,r.pathObj,e),r.pathObj=t,p(this._observerTree,t,e)},c.prototype.getObserverTree=function(){return this._relatedObserverTreeObj};var g=function(e,t,r){for(var i=[],a=r.pathObj,o=0;o<a.length;o++){for(var s=a[o],l=t,c=0;c<s.length;c++){var u=s[c];if("**"===u)break;if("object"!=typeof l){l=void 0;break}l=l[u]}i[o]=l}n.safeCallback("Data Observer",r.func,e.__methodCaller,i,e)},v=function(e,t){var r=null,n=0;for(var i in e)if("~"!==i)if("**"!==i)v(e[i],t);else for(r=e["**"],n=0;n<r.length;n++)t[r[n]]=!0;else for(r=e["~"],n=0;n<r.length;n++)t[r[n]]=!0},m=function(e,t,r){for(var n=e,i=0;i<r.length;i++){if(n["**"])for(var a=n["**"],o=0;o<a.length;o++){t[a[o]]=!0}var l=r[i];if("number"==typeof l){if(!s.call(n,l)){n=null;break}}else if(!/^[_a-zA-Z]/.test(l)||!s.call(n,l)){n=null;break}n=n[l]}n&&v(n,t)},y=function(e,t,r,n,i){for(var a=0;a<e.length;a++){var o=e[a],s=t[a];s&&s&&(t[a]=!1,g(r,i?void 0:n,o))}};c.prototype.scheduleReplace=function(e,t,r){this._changes.push([e,t,r])},c.prototype.setChanges=function(e){this._changes=e},c.prototype.getChanges=function(){return this._changes},c.prototype.doUpdates=function(e,t){var r=this._propFields,n=this._comp,i=this._hidingValue,c=this._innerDataExclude,u=!!this._doingUpdates,d=this._relatedObserverTreeObj._observerIdInc,p=null,h=null,f=null;d?(u||(this._doingUpdates={changedPaths:[],changedValues:[],combinedChanges:[],changesTotal:0}),p=this._doingUpdates.changedPaths,h=this._doingUpdates.changedValues,f=this._doingUpdates.combinedChanges):(p=[],h=[],f=[]);var g=this._changes;this._changes=[];var v=[];this._beforeMergeCb&&this._beforeMergeCb(g,v,e);for(var _=0;_<g.length;_++){var b=g[_],w=b[0],S=b[1],C=S,I=void 0,A=w[0],k=!!c&&c.test(A),E=r[A];if(E&&1===w.length)I=this._data[A],S=a.call(this._comp,w,E,S,this._hidingValue),k||(this._innerData?(C=l(S),v[_]||(this._innerData[A]=C)):C=S,b[1]=C),k&&!this._innerData||(this._data[A]=S);else{var T=this._data,P=A,x=null,O=1;if(!k||this._innerData){for(;O<w.length;O++)"number"==typeof(x=w[O])&&isFinite(x)?s.call(T,P)&&T[P]instanceof Array||(T[P]=[]):(!s.call(T,P)||null===T[P]||"object"!=typeof T[P]||T[P]instanceof Array)&&(T[P]={}),T=T[P],P=x;T[P]=S}if(this._innerData&&(T=this._innerData,P=A,!k)){for(O=1;O<w.length;O++)"number"==typeof(x=w[O])&&isFinite(x)?s.call(T,P)&&T[P]instanceof Array||(T[P]=[]):(!s.call(T,P)||null===T[P]||"object"!=typeof T[P]||T[P]instanceof Array)&&(T[P]={}),T=T[P],P=x;C=l(S),v[_]||(T[P]=C),b[1]=C}}m(this._observerTree,this._observerStatus,w),k||(p.push(w),h.push([C,I,S]),f.push(b)),d&&(this._doingUpdates.changesTotal+=1)}if(!u){if(this._beforeUpdateCb&&this._beforeUpdateCb(e),d){var R=0;do{R=this._doingUpdates.changesTotal,y(this._observers,this._observerStatus,n,this._data,i)}while(R!==this._doingUpdates.changesTotal);this._doingUpdates=null}this._updateCb(p,h,f,e);for(var M=0;M<h.length;M++){var D=h[M];if(D){var N=p[M],L=r[N[0]];L&&o.call(n,D[2],D[1],N,L,i,t)}}}},e.exports=c},function(e,t,r){var n=r(9),i=r(11),a=r(14),o=r(4),s=r(13),l=function(){};l.prototype=Object.create(n.prototype,{constructor:{value:l,writable:!0,configurable:!0}});var c=l._advancedCreate=function(e,t){var r=new l;r.is=e.toLowerCase();var c=null;if("dom"===o.documentBackend&&(c=s.backendExtractedDefault?new a(e):document.createElement(e)),n.initialize(r,c,t),r.classList=i.create(r,null),t){var u=t.__wxHost;r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.create=function(e){return c(e,null)};var u=l._advancedClone=function(e,t){var r=new l;r.is=e.is;var c=null;if(e.__domElement&&(c=e.__domElement instanceof a?s.backendExtractedDefault?e.__domElement.cloneNode():a.toElement(e.__domElement):s.backendExtractedDefault?a.fromElement(e.__domElement):document.importNode?document.importNode(e.__domElement,!1):e.__domElement.cloneNode(!1)),n._clone(r,e,c,t),r.classList=i.create(r,null),t){var u=t.__wxHost;r.classList._setOwnerOptions(u.classList,u.__componentOptions.classPrefix,u.__componentOptions.addGlobalClass),o.writeExtraInfoToAttr&&c&&c.setAttribute("exparser:info-class-prefix",u.__componentOptions.classPrefix&&u.__componentOptions.classPrefix+"--")}return r};l.cloneNode=function(e){return u(e,null)},e.exports=l},function(e,t,r){var n=r(9),i=r(4),a=function(e,t){o(this,e,t)};a.prototype=Object.create(n.prototype);var o=a.initialize=function(e,t,r){e.is=t||"";var a=null;"dom"===i.documentBackend&&(a=void 0),n.initialize(e,a,r),e.__virtual=!0};a._advancedCreate=function(e,t){return new a(e,t)},a.create=function(e){return new a(e,null)},e.exports=a},function(e,t,r){var n=r(9),i=r(15),a=r(18),o=r(17),s=r(12),l=Object.prototype.hasOwnProperty,c=function(e){a.initialize(this,"shadow",this),this.__hostAssociated=!1,this.__wxHost=e,this.__childrenPropsFilter=null,this.__slotCacheDirty=!1};c.prototype=Object.create(a.prototype),c.create=function(e){var t=new c(e);if(e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(t.__childrenPropsFilter)for(var r in e.ownerShadowRoot.__childrenPropsFilter)t.__childrenPropsFilter[r]||(t.__childrenPropsFilter[r]=e.ownerShadowRoot.__childrenPropsFilter[r]);else t.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;return t};c.prototype.createTextNode=function(e){return s._advancedCreate(e,this)},c.prototype.createNativeNode=function(e){return o._advancedCreate(e,this)},c.prototype.cloneNativeNode=function(e){return o._advancedClone(e,this)},c.prototype.createVirtualNode=function(e){return a._advancedCreate(e,this)},c.prototype.getCompDefByTagName=function(e){var t=this.__wxHost;return l.call(t.__using,e)?t.__using[e]:l.call(t.__generics,e)?t.__generics[e]:e},c.prototype.createComponent=function(e,t,r,n){var a=null;a=void 0===t?e:t;var o=this.__wxHost;"object"!=typeof a&&("object"!=typeof(a=this.getCompDefByTagName(a))&&(a=i._list[a]||i._list[""]));var s=function(e,t){var r={};for(var n in e){var a=e[n];"object"!=typeof a&&l.call(t.__placeholder,a)&&(a=t.__placeholder[a],l.call(t.__using,a)?a=t.__using[a]:l.call(t.__generics,a)&&(a=t.__generics[a]||i._list[""]),r[n]=a)}return r}(r,o);return r&&(r=function(e,t){var r={};for(var n in e){var a=e[n];"object"!=typeof a&&(l.call(t.__using,a)?a=t.__using[a]:l.call(t.__generics,a)&&(a=t.__generics[a]||i._list[""]),r[n]=a)}return r}(r,o)),"object"==typeof e&&(e=a.is),o.__componentOptions.randomizeTagName&&(e=function(){for(var e=Date.now(),t="exparser-",r=0;r<8;r++){var n=(e+Math.floor(26*Math.random()))%26;e=Math.floor(e/26),t+="abcdefghijklmnopqrstuvwxyz"[n]}return t}()),o.__componentOptions.writeOnly&&!a.options.allowInWriteOnly&&(a=i._list[""]),i._advancedCreate(e,a,this,r,s,n)},c.prototype.tagNameUsed=function(e){var t=this.__wxHost;return!!(l.call(t.__using,e)||l.call(t.__placeholder,e)||l.call(t.__generics,e)||l.call(t.__placeholder,e))},c.prototype.getHostNode=function(){return this.__wxHost},c.prototype.getElementById=function(e){return n._updateIdMap(this.__wxHost),this.__wxHost.__idCache[e]},e.exports=c},function(e,t,r){var n=r(9),i=r(12),a=function(){};a.create=function(e,t,r){var o=new a;if(!(e instanceof n||e instanceof i))throw new Error("ElementIterator can only be used for exparser.Element or exparser.TextNode");o._elem=e,o._elemTypeLimit=r||n;var s=t.split("-");if("shadow"===s[0])o._composed=!1;else{if("composed"!==s[0])throw new Error("Unrecognized iterator type: "+t);o._composed=!0}if("ancestors"===s[1])o._relation="ancestors",o._order=0;else{if("descendants"!==s[1])throw new Error("Unrecognized iterator type: "+t);if(o._relation="descendants","root"!==s[2])throw new Error("Unrecognized iterator type: "+t);if("first"===s[3])o._order=-1;else{if("last"!==s[3])throw new Error("Unrecognized iterator type: "+t);o._order=1}}return o};var o=function(e,t,r,n,i){if(n<0&&e instanceof t&&!1===i(e))return!1;var a=r&&e.__wxSlotChildren||e.childNodes;if(a)for(var s=0;s<a.length;s++)if(!1===o(a[s],t,r,n,i))return!1;return!(n>0&&e instanceof t&&!1===i(e))};a.prototype.forEach=function(e){return"ancestors"===this._relation?function(e,t,r,n){for(;e;e=r&&(e.__wxSlotParent||e.__wxHost)||e.parentNode)if(e instanceof t&&!1===n(e))return!1;return!0}(this._elem,this._elemTypeLimit,this._composed,e):o(this._elem,this._elemTypeLimit,this._composed,this._order,e)},e.exports=a},function(e,t,r){var n=r(4),i=r(3),a=r(9),o=r(17),s=r(12),l=r(19),c=r(15),u=r(22),d=r(23),p=function(){};p.prototype=Object.create(Object.prototype,{constructor:{value:p,writable:!0,configurable:!0}});var h=function(){};h.prototype=Object.create(Object.prototype,{constructor:{value:h,writable:!0,configurable:!0}});var f=null;p.precompiler=f,p.htmlParser=null;var g=function(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))},v=Object.prototype.hasOwnProperty,m=function(e,t){if(null!==e&&"object"==typeof e&&v.call(e,t))return e[t]},y=function(e,t,r,n){if(v.call(t,r)){var a=t[r];if("function"==typeof a)return i.safeCallback("Template Method",a,e,n)}},_=function(e,t){return[{t:1,n:"slot",a:[],c:[],p:null}]},b={t:1,n:'"slot"',v:!0,sn:"",a:[],c:[],p:null},w=function(e,t,r){e.classList.toggle(t,!!r)},S=function(e,t,r){e[t]=r},C=function(e,t,r){var n=e.__dataProxy;n.scheduleReplace([t],r),n.doUpdates()},I=function(e,t,r){e.class=r},A=function(e,t,r){e.setAttribute("style",r)},k=function(e,t,r){e.setAttribute("class",r)},E=function(e,t,r){e.textContent=r},T=function(e,t,r){e.dataset||(e.dataset={}),e.dataset[t]=r},P={$:function(e,t,r){!0===r?e.setAttribute(t,""):!1===r||null==r?e.removeAttribute(t):e.setAttribute(t,r)},":":S,c:w,s:function(e,t,r){var n=e.style;n&&(n[t]=r)},d:T},x=function(e,t,r){return[{t:1,n:"slot",v:!0,sn:"",a:[],c:[]}]};p.create=function(e,t,r,n){var a=void 0===e.template?x:e.template,o=a;"function"!=typeof a&&("undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node?o=p.precompileAndGetCreator(a):(i.hasGlobalWarningListeners()&&i.triggerWarning("Non-precompiled template is not usable in this environment. Empty template is used instead."),o=_));var s=Object.create(p.prototype);return s._initValuesJSON=JSON.stringify(r),s._dataJSON=t!==r?JSON.stringify(t):null,s._tagTreeRoot=O(o,r,e.methods,n),s._renderingMode=n.renderingMode,s};var O=function(e,t,r,i){var a="native"===i.renderingMode,s=a,l=!1,c=Object.create(null);a&&!n.hasDOMBackend&&(e=_);var u={},p=e(m,y,r),h=function(e){for(var r=0;r<e.length;r++){var n=e[r];if(3!==n.t){var i=n.n,c=!(a||"string"==typeof i&&i.indexOf("-")<0);"slot"===i&&""===n.sn&&(l=!0),n.n=i;var p=n.st;p&&p.e&&(p.o=A,s&&(p.v=p.e(t,u,null)));var f=n.cl;f&&f.e&&(f.o=a?k:I,s&&(f.v=f.e(t,u,null)));var v=null;c||(n.p=v=a?document.createElement(n.n):o.create(n.n),p&&void 0!==p.v&&v.setAttribute("style",p.v),a&&f&&void 0!==f.v&&v.setAttribute("class",f.v));for(var m=n.a,y=0;y<m.length;y++){var _=m[y];if(_.d)a||d[_.n].register(_.n,_,n);else{a||("bind"===_.n.slice(0,4)?(_.evCatch=!1,_.ev=g(_.n.slice(4)),":"===_.ev[0]&&(_.ev=_.ev.slice(1))):"catch"===_.n.slice(0,5)&&(_.evCatch=!0,_.ev=g(_.n.slice(5)),":"===_.ev[0]&&(_.ev=_.ev.slice(1))));var b=_.o;if(c)b?_.o="&"===b?P[":"]:P[b]:(_.o=P[":"],_.n=g(_.n)),_.o===S&&(_.o=C),s&&_.e&&(_.v=_.e(t,u,null));else if(!_.ev){var T=P;_.o=b?"&"===b?T[":"]:T[b]:T.$,s?(_.e&&(_.v=_.e(t,u,null)),(_.o!==w||a)&&_.o(v,_.n,_.v)):_.e||_.o(v,_.n,_.v)}}}h(n.c),a&&(1!==n.c.length||void 0===n.c[0].sn||n.c[0].compressed||(n.sn=n.c[0].sn,n.compressed=!0,n.c.pop()))}else n.e&&(n.o=E,n.c=s?n.e(t,u,null):"")}};return h(p,c,!0),a&&(l||p.push(b),1!==p.length||""!==p[0].sn||p[0].compressed||p.pop()),p},R=function(e,t){return function(r){if(this[e](r),t)return!1}},M=function(e,t,r,n,i,o,s,l){for(var p=null,h=0,f=null,g=0;g<e.length;g++){var v=s,m=e[g];if(3===m.t)p=m.e?t.createTextNode(m.e(n,i,null)):t.createTextNode(m.c),m.e&&u.addBindings(o,v,m.b,p,m),a.appendChild(r,p);else{var y=m.cl,_=m.st,b=m.a,I=!1;for(h=0;h<b.length;h++)if((f=b[h]).d){var A=d[f.n].create(f.n,f,m,n,i,o,v,l,t,M,r);if(d[f.n].requireBlock){p=A,a.appendChild(r,p),I=!0;break}}if(I)continue;if(m.v)p=t.createVirtualNode(m.n);else if(m.p){for(p=t.cloneNativeNode(m.p),h=0;h<b.length;h++)(f=b[h]).d||(f.ev?l(p,f.ev,f.v,f.evCatch):f.o===S?p.__domElement&&(f.o(p.__domElement,f.n,f.e(n,i,null)),u.addBindings(o,v,f.b,p.__domElement,f)):(f.e&&f.o(p,f.n,f.e(n,i,null)),(f.e||f.o===w||f.o===T)&&u.addBindings(o,v,f.b,p,f)));_&&_.e&&(p.setAttribute("style",_.e(n,i,null)),u.addBindings(o,v,_.b,p,_))}else{if(m.cpf){var k={},E=t.__wxHost;for(var P in m.cpf)!function(e){var t=m.cpf[e];k[e]=E.__behavior.methods[t]}(P);t.__childrenPropsFilter=k}for(p=t.createComponent(m.n,void 0,m.g,void 0),h=0;h<b.length;h++)if(!(f=b[h]).d){var x=f.v;f.o===C&&c.hasPublicProperty(p,f.n)?(f.e&&(x=f.e(n,i,null),u.addBindings(o,v,f.b,p,f)),f.e?C(p,f.n,x):p.__behavior.properties[f.n].type===Boolean?C(p,f.n,!0):C(p,f.n,x)):f.ev?l(p,f.ev,x,f.evCatch):f.o!==C&&(f.e&&(x=f.e(n,i,null),u.addBindings(o,v,f.b,p,f)),f.o(p,f.n,x))}_&&(_.e?(p.__domElement.setAttribute("style",_.e(n,i,null)),u.addBindings(o,v,_.b,p.__domElement,_)):p.__domElement.setAttribute("style",_.v))}m.id&&(p.id=m.id),y&&(y.e?p.class=y.e(n,i,null):p.class=y.v,y.o&&u.addBindings(o,v,y.b,p,y)),m.sl&&(p.slot=m.sl),void 0!==m.sn&&a.setSlotName(p,m.sn),a.appendChild(r,p),M(m.c,t,p,n,i,o,v,l)}}},D=function(e,t,r){for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof s||(a.__id&&(t[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),D(a,t,r))}},N=function(e,t,r,n,i,a){for(var o=null,s=0,l=null,c=0;c<e.length;c++){var d=e[c];if(void 0===d.n)o=document.createTextNode(d.c),d.e&&u.addBindings(i,a,d.b,o,d),t.appendChild(o);else{var p=d.cl,h=d.st,f=d.a;for(o=d.v?document.createElement("virtual"):document.importNode?document.importNode(d.p,!1):d.p.cloneNode(!1),s=0;s<f.length;s++)(l=f[s]).e&&u.addBindings(i,a,l.b,o,l);t.appendChild(o),d.id&&(r[d.id]=o),p&&p.e&&u.addBindings(i,a,p.b,o,p),h&&h.e&&u.addBindings(i,a,h.b,o,h),void 0!==d.sn&&(n[d.sn]=o),N(d.c,o,r,n,i,a)}}};p.prototype.createInstance=function(e){var t=Object.create(h.prototype),r=JSON.parse(this._initValuesJSON),i=null===this._dataJSON?r:JSON.parse(this._dataJSON),a=Object.create(null),o=Object.create(null),s=[],c=u.create("",null,null,null,null,[],(function(e,t){})),d=null;if("native"===this._renderingMode)"dom"===n.documentBackend&&(d=document.createDocumentFragment()),N(this._tagTreeRoot,d,a,o,c,{}),o[""]||(o[""]=null);else{if(d=l.create(e),e.ownerShadowRoot&&e.ownerShadowRoot.__childrenPropsFilter)if(d.__childrenPropsFilter)for(var p in e.ownerShadowRoot.__childrenPropsFilter)d.__childrenPropsFilter[p]||(d.__childrenPropsFilter[p]=e.ownerShadowRoot.__childrenPropsFilter[p]);else d.__childrenPropsFilter=e.ownerShadowRoot.__childrenPropsFilter;M(this._tagTreeRoot,d,d,r,{},c,{},(function(e,t,r,n){d.__wxHost?e.addListener(t,R(r,n).bind(d.__wxHost)):s.push({target:e,name:t,func:R(r,n)})})),D(d,a,o)}return t.data=i,t.shadowRoot=d,t.idMap=a,t.slots=o,t.listeners=s,t._topScope=c,t},h.prototype.updateValues=function(e,t,r){for(var n=a.getMethodCaller(e),i=0;i<r.length;i++){var o=r[i];u.updateBinding(this._topScope,o,t,{},n)}},e.exports=p},function(e,t){var r={create:function(e,t,r,i,a,o,s){for(var l={inc:1,name:e,exp:i,lp:a,scopes:{},targets:{},children:null,lu:s,__scopeBinded:[]},c=0;c<o.length;c++){var u=o[c];null===u[0]?n(t,u,null,l):n(r[u[0]],u,null,l)}return l},proxyTopScope:function(e){var t={inc:1,linked:e,scopes:{},targets:{},children:null,__scopeBinded:[]};return n(e,[null],null,t),t},proxySubScopes:function(e){var t={};for(var r in e)t[r]={inc:1,linked:e[r],scopes:{},targets:{},children:null,__scopeBinded:[]},n(e[r],[null],null,t[r]);return t}},n=r.addBinding=function(e,t,r,n){for(var i=e,a=1;a<t.length;a++){var o=t[a];i.children||(i.children=Object.create(null));var s=i.children;s[o]||(s[o]={scopes:{},targets:{},children:null}),i=s[o]}var l=e.inc++;return r?i.targets[l]=[r,n]:(i.scopes[l]=n,n.__scopeBinded.push([i,l])),l};r.addBindings=function(e,t,r,i,a){for(var o=0;o<r.length;o++){var s=r[o];s[0]?n(t[s[0]],s,i,a):n(e,s,i,a)}},r.updateLvaluePath=function(e,t){e.lp=t},r.removeBindingsForScope=function(e){for(var t=e.__scopeBinded,r=0;r<t.length;r++){var n=t[r];delete n[0].scopes[n[1]]}};var i=function(e,t,r,n,i){if(e.linked)a(e,t,r,n,i);else{var o=n[e.name];n[e.name]=e.exp(r,n,i),a(e,t,r,n,i),n[e.name]=o}},a=r.updateBinding=function(e,t,r,n,a){for(var o=e,s=0,l=0;l<t.length;l++){for(s in o.scopes)i(o.scopes[s],t,r,n,a);var c=t[l];if(!o.children)return;var u=o.children;if(!u[c])return;o=u[c]}var d=function(e){for(s in e.targets){var t=e.targets[s],o=t[1];o.o(t[0],o.n,o.e(r,n,a))}for(s in e.scopes)i(e.scopes[s],[],r,n,a);for(s in e.children)d(e.children[s])};d(o)};e.exports=r},function(e,t,r){e.exports={if:r(24),elif:r(24),else:r(24),for:r(26),key:r(27),"for-index":r(28),"for-item":r(29),alias:r(30)}},function(e,t,r){var n=r(22),i=r(25).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u,d){var p=c.createVirtualNode("wx:"+e);p.__wxIfCondValue=!0,p.__wxIfNextNode=null,p.__wxIfHasTrueCond=!0;var h=null;"if"!==e&&("wx:if"!==(h=d.childNodes[d.childNodes.length-1]).is&&"wx:elif"!==h.is?h=null:h.__wxIfNextNode=p),r.id&&(p.id=r.id);var f=p.__wxIfUpdateNode=function(){var e=p.__wxIfCondValue;if(h&&h.__wxIfHasTrueCond&&(e=!1),e&&!p.childNodes.length){var t=n.proxyTopScope(o),d=n.proxySubScopes(s);p.__wxTopScope=t,p.__wxSubScopes=d,u(r.c,c,p,i,a,t,d,l)}else if(!e&&p.childNodes.length){for(var f in n.removeBindingsForScope(p.__wxTopScope),p.__wxSubScopes)n.removeBindingsForScope(p.__wxSubScopes[f]);for(;p.childNodes.length;)p.removeChild(p.childNodes[0])}p.__wxIfNextNode&&p.__wxIfNextNode.__wxIfUpdateNode()},g=function(e){p.__wxIfCondValue=!!e,p.__wxIfHasTrueCond=p.__wxIfCondValue||h&&h.__wxIfHasTrueCond,f()};return"else"===e?g(!0):(n.addBindings(o,s,t.b,p,{e:t.d,o:function(e,t,r){g(r)}}),g(t.d(i,a,null))),p}}},function(e,t){t.TAG_TYPES={TAG_START:1,TAG_END:-1,TEXT:3,COMMENT:8},t.RUNTIME_NAMES={MEMBER:"m",CALL:"f",METHODS:"e",CALLER:"c",TOP_SCOPE:"t",SUB_SCOPE:"s"};var r=t.STRING_UNESCAPE_MAP={n:"\n",r:"\r",b:"\b",f:"\f",t:"\t",v:"\v",'"':'"',"'":"'","\\":"\\","\r":"\r","\n":"\n"},n=t.STRING_ESCAPE_MAP={},i="";for(var a in r)n[r[a]]=a,i+=r[a];t.STRING_ESCAPE_REGEXP=new RegExp("["+i+"]","g")},function(e,t,r){var n=(r(18),r(22)),i=r(25).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,addDefaultAttrs:[{n:"wx:for-index",v:"index"},{n:"wx:for-item",v:"item"}],register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=r._wxForIndex||"index",p=r._wxForItem||"item",h=r._wxKey,f=c.createVirtualNode("wx:for:list");r.id&&(f.id=r.id),n.create("",o,s,(function(e,r,n){var i=t.d(e,r,null);return _(i,e,r,n),i}),t.l,t.b);var g=function(e,t,i,a,h){var g=c.createVirtualNode("wx:for:item"),v=n.proxyTopScope(o),m=n.proxySubScopes(s);g.__wxTopScope=v,g.__wxSubScopes=m,g.__wxForToRemove=!1,g.__wxForKeyStr="";var y=n.create(d,v,m,null,null,[]),_=n.create(p,v,m,null,[i],[]);return m[d]=y,m[p]=_,t[d]=i,t[p]=a,u(r.c,c,g,e,t,v,m,l),void 0===h?f.appendChild(g):f.insertBefore(g,h),g},v=function(e,t,r,a,o,s){var l=e.__wxSubScopes[p];n.updateLvaluePath(l,[a]),o&&(s?f.insertBefore(e,s):f.appendChild(e));var c=e.__wxSubScopes[d];r[d]=a,n.updateBinding(c,[],i,r,t)},m=function(e,t,r,i,a,o){i[p]=a,n.updateBinding(e.__wxSubScopes[p],t,r,i,o)},y=function(e){for(var t in n.removeBindingsForScope(e.__wxTopScope),f.__wxSubScopes)n.removeBindingsForScope(e.__wxSubScopes[t]);f.removeChild(e)},_=function(e,t,r,n){var i="",a=e;"object"==typeof e&&null!==e||(a=[]);var o={};for(i in r)o[i]=r[i];var s=0;if(h){var l=[],c=e instanceof Array,u=[];if(!c){var d=a;for(i in a=[],d)a.push(d[i]),u.push(i)}for(s=0;s<a.length;s++)l.push(String(a[s][h]));if(0===a.length)for(;f.childNodes.length;)y(f.childNodes[0]);else{var p=Object.create(null),_=Object.create(null),b=f.childNodes,w=null,S="";for(s=0;s<b.length;s++)p[S=(w=b[s]).__wxForKeyStr]>=0?(y(w),s--):(p[S]=s,_[S]=w,w.__wxForToRemove=!0);var C=-1,I=0,A=1,k=[];for((I=p[a[0][h]])>=0||(I=-1),b[I]&&(b[I].__wxForToRemove=!1),s=1;s<a.length;s++)(A=p[a[s][h]])>=0&&(C<I&&(I<A||C>A)&&(k.push(b[I]),C=I),b[I=A]&&(b[I].__wxForToRemove=!1));for(C<I&&k.push(b[I]),s=0;s<b.length;s++)(w=b[s]).__wxForToRemove&&(y(w),s--);var E=k.shift(),T=0;for(s=0;s<a.length;s++){var P=a[s],x=_[P[h]];if(_[P[h]]=null,x){var O=!0;if(x===E){for(;b[T]!==E;)T++;T++,E=k.shift(),O=!1}v(w=x,n,o,c?s:u[s],O,b[T]),O&&b[T]===w&&T++,m(w,[],t,o,a[s],n)}else w=g(t,o,c?s:u[s],a[s],b[T]),T++,w.__wxForKeyStr=String(P[h])}}}else{for(;f.childNodes.length;)y(f.childNodes[0]);if(e instanceof Array)for(s=0;s<a.length;s++)g(t,o,s,a[s]);else for(i in a)g(t,o,i,a[i])}};return _(t.d(i,a,null),i,a,null),f}}},function(e,t){e.exports={attachedToBlock:!0,register:function(e,t,r){r._wxKey=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForIndex=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,r){r._wxForItem=t.d},create:function(){}}},function(e,t,r){var n=r(22),i=r(25).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,r){},create:function(e,t,r,i,a,o,s,l,c,u){var d=t.s[0],p=n.create(d,o,s,t.d,t.l,t.b),h={},f="";for(f in s)h[f]=s[f];h[d]=p;var g={};for(f in a)g[f]=a[f];g[d]=t.d(i,a,null);var v=c.createVirtualNode("wx:alias");return r.id&&(v.id=r.id),u(r.c,c,v,i,g,o,h,l),v}}}]),R,M,D,N,L;w.setExparser(O),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{BackendMode:()=>p,Behavior:()=>xe,BehaviorBuilder:()=>Pe,ClassList:()=>I,Component:()=>we,ComponentDefinition:()=>_e,ComponentSpace:()=>De,DataGroup:()=>z,DeepCopyKind:()=>Ze,Element:()=>se,ElementIterator:()=>Rt,ElementIteratorType:()=>kt,Event:()=>Y,EventBubbleStatus:()=>$,FuncArr:()=>ct,MutationObserver:()=>wt,NativeNode:()=>It,NormalizedPropertyType:()=>he,Observer:()=>wt,ParsedSelector:()=>te,RelationType:()=>ie,ShadowRoot:()=>Tt,StyleScopeManager:()=>C,StyleSegmentIndex:()=>Z,TextNode:()=>St,TraitBehavior:()=>de,VirtualNode:()=>ue,addGlobalErrorListener:()=>vt,addGlobalWarningListener:()=>yt,backend:()=>r,composedBackend:()=>n,createElement:()=>Lt,dataPath:()=>o,dataUtils:()=>s,domlikeBackend:()=>i,dumpElement:()=>Ot,dumpElementToString:()=>xt,dumpSingleElementToString:()=>Pt,getDefaultComponentSpace:()=>it,glassEaselTemplate:()=>c,globalOptions:()=>st,mutationObserver:()=>u,registerBehavior:()=>Dt,registerElement:()=>Nt,removeGlobalErrorListener:()=>mt,removeGlobalWarningListener:()=>_t,safeCallback:()=>gt,setRevertEventDefaultPrevented:()=>oe,template:()=>c,templateEngine:()=>d,triggerEvent:()=>Bt,triggerExternalEvent:()=>$t,triggerRender:()=>Mt,typeUtils:()=>l});var r={};e.r(r),e.d(r,{BackendMode:()=>p,EmptyBackendContext:()=>g,EmptyBackendElement:()=>v,EmptyBackendShadowRootContext:()=>m});var n={};e.r(n),e.d(n,{EmptyComposedBackendContext:()=>y,EmptyComposedBackendElement:()=>_});var i={};e.r(i),e.d(i,{CurrentWindowBackendContext:()=>w});var o={};e.r(o),e.d(o,{parseMultiPaths:()=>O,parseSinglePath:()=>x});var s={};e.r(s),e.d(s,{deepCopy:()=>N,simpleDeepCopy:()=>D});var l={};e.r(l),e.d(l,{METHOD_TAG:()=>le});var c={};e.r(c),e.d(c,{DEFAULT_PROC_GEN_GROUP:()=>Ye,GlassEaselTemplateEngine:()=>et,setGlobalEventObjectFilter:()=>Ue});var u={};e.r(u),e.d(u,{MutationObserver:()=>wt,MutationObserverTarget:()=>bt});var d={};e.r(d);var p,h;!function(e){e[e.Shadow=1]="Shadow",e[e.Composed=2]="Composed",e[e.Domlike=3]="Domlike"}(p||(p={})),function(e){e[e.Fragment=0]="Fragment",e[e.Element=1]="Element",e[e.TextNode=2]="TextNode",e[e.Component=3]="Component",e[e.VirtualNode=4]="VirtualNode"}(h||(h={}));var f,g=function(){function e(){this.mode=1,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$rootNode=new v(3)}return e.prototype.destroy=function(){},e.prototype.getWindowWidth=function(){return 1},e.prototype.getWindowHeight=function(){return 1},e.prototype.getDevicePixelRatio=function(){return 1},e.prototype.getTheme=function(){return"light"},e.prototype.registerStyleSheetContent=function(e,t){},e.prototype.appendStyleSheetPath=function(e,t){var r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r},e.prototype.disableStyleSheet=function(e){},e.prototype.render=function(e){var t=this;if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{var r=this._$renderCallbacks=[e];setTimeout((function(){t._$renderCallbacks=null,r.forEach((function(e){gt("Render Callback",e,t,[null])}))}),16)}},e.prototype.getRootNode=function(){return this._$rootNode},e.prototype.createFragment=function(){return new v(0)},e.prototype.onEvent=function(e){},e.prototype.createMediaQueryObserver=function(e,t){return{disconnect:function(){}}},e}(),v=function(){function e(e){this.__wxElement=void 0,this._$shadowRoot=3===e?new m:null}return e.prototype.release=function(){},e.prototype.associateValue=function(e){},e.prototype.getShadowRoot=function(){return this._$shadowRoot||void 0},e.prototype.appendChild=function(e){},e.prototype.removeChild=function(e,t){},e.prototype.insertBefore=function(e,t,r){},e.prototype.replaceChild=function(e,t,r){},e.prototype.spliceBefore=function(e,t,r){},e.prototype.spliceAppend=function(e){},e.prototype.spliceRemove=function(e,t){},e.prototype.setId=function(e){},e.prototype.setSlotName=function(e){},e.prototype.setSlot=function(e,t){},e.prototype.setInheritSlots=function(){},e.prototype.setStyleScope=function(e){},e.prototype.setStyle=function(e){},e.prototype.addClass=function(e,t){},e.prototype.removeClass=function(e,t){},e.prototype.clearClasses=function(){},e.prototype.setAttribute=function(e,t){},e.prototype.removeAttribute=function(e){},e.prototype.setText=function(e){},e.prototype.getBoundingClientRect=function(e){setTimeout((function(){e({left:0,top:0,width:0,height:0})}),0)},e.prototype.getScrollOffset=function(e){setTimeout((function(){e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)},e.prototype.setEventDefaultPrevented=function(e,t){},e.prototype.setModelBindingStat=function(e,t){},e.prototype.createIntersectionObserver=function(e,t,r,n){return{disconnect:function(){}}},e}(),m=function(){function e(){this._$rootNode=new v(4)}return e.prototype.getRootNode=function(){return this._$rootNode},e.prototype.createElement=function(e,t){return new v(1)},e.prototype.createTextNode=function(e){return new v(2)},e.prototype.createComponent=function(e,t){return new v(3)},e.prototype.createVirtualNode=function(){return new v(4)},e}(),y=function(){function e(){this.mode=2,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$rootNode=new _}return e.prototype.destroy=function(){},e.prototype.getWindowWidth=function(){return 1},e.prototype.getWindowHeight=function(){return 1},e.prototype.getDevicePixelRatio=function(){return 1},e.prototype.getTheme=function(){return"light"},e.prototype.registerStyleSheetContent=function(e,t){},e.prototype.appendStyleSheetPath=function(e,t){var r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r},e.prototype.disableStyleSheet=function(e){},e.prototype.render=function(e){var t=this;if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{var r=this._$renderCallbacks=[e];setTimeout((function(){t._$renderCallbacks=null,r.forEach((function(e){gt("Render Callback",e,t,[null])}))}),16)}},e.prototype.getRootNode=function(){return this._$rootNode},e.prototype.createElement=function(e,t){return new _},e.prototype.createTextNode=function(e){return new _},e.prototype.createFragment=function(){return new _},e.prototype.onEvent=function(e){},e.prototype.createMediaQueryObserver=function(e,t){return{disconnect:function(){}}},e}(),_=function(){function e(){this.__wxElement=void 0}return e.prototype.release=function(){},e.prototype.associateValue=function(e){},e.prototype.appendChild=function(e){},e.prototype.removeChild=function(e,t){},e.prototype.insertBefore=function(e,t,r){},e.prototype.replaceChild=function(e,t,r){},e.prototype.spliceBefore=function(e,t,r){},e.prototype.spliceAppend=function(e){},e.prototype.spliceRemove=function(e,t){},e.prototype.setId=function(e){},e.prototype.setStyleScope=function(e){},e.prototype.setStyle=function(e){},e.prototype.addClass=function(e,t){},e.prototype.removeClass=function(e,t){},e.prototype.clearClasses=function(){},e.prototype.setAttribute=function(e,t){},e.prototype.removeAttribute=function(e){},e.prototype.setText=function(e){},e.prototype.getBoundingClientRect=function(e){setTimeout((function(){e({left:0,top:0,width:0,height:0})}),0)},e.prototype.getScrollOffset=function(e){setTimeout((function(){e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)},e.prototype.setEventDefaultPrevented=function(e,t){},e.prototype.setModelBindingStat=function(e,t){},e.prototype.createIntersectionObserver=function(e,t,r,n){return{disconnect:function(){}}},e}(),b=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseover","mouseup","click"],w=function(){function e(){this.mode=3,this.document=document,this._$styleSheets=[],this._$styleSheetRegistry=Object.create(null),this._$delegatedEventListeners=Object.create(null),this._$elementEventListeners=new WeakMap,this._$triggedEvents=new WeakSet}return e.prototype.destroy=function(){},e.prototype.getWindowWidth=function(){return document.documentElement.clientWidth},e.prototype.getWindowHeight=function(){return document.documentElement.clientHeight},e.prototype.getDevicePixelRatio=function(){return window.devicePixelRatio},e.prototype.getTheme=function(){return"light"},e.prototype.registerStyleSheetContent=function(e,t){this._$styleSheetRegistry[e]=String(t)},e.prototype.appendStyleSheetPath=function(e,t){var r=this._$styleSheetRegistry[e];if(void 0===r)throw new Error('No style sheet registry "'.concat(e,'"'));var n=document.createElement("style");n.innerText=r,void 0!==t&&n.setAttribute("wx-style-scope",String(t)),document.head.appendChild(n);var i=this._$styleSheets.length;return this._$styleSheets.push(n),i},e.prototype.disableStyleSheet=function(e){var t=this._$styleSheets[e];t&&document.head.removeChild(t)},e.prototype.render=function(e){var t=this;window.requestAnimationFrame((function(){gt("Render Callback",e,t,[null])}))},e.prototype.getRootNode=function(){return document.body},e.prototype.onEvent=function(e){this._$eventListener||this._$initEvent(),this._$eventListener=e},e.prototype._$getEventDetail=function(e){for(var t={},r=e;Object.getPrototypeOf(r)!==Event.prototype;){for(var n=Object.keys(r),i=0;i<n.length;i+=1){var a=n[i];"function"!=typeof e[a]&&(t[a]=e[a])}r=Object.getPrototypeOf(r)}return t},e.prototype._$trigger=function(e,t,r,n,i){if(this._$eventListener){var a=e.target;1===this._$eventListener(a,t,r,{originalEvent:e,bubbles:n,composed:i})&&e.preventDefault()}},e.prototype._$initEvent=function(){var e=this,t=Object.create(null),r=!1,n=function(e,r){t[r.identifier]={x:r.clientX,y:r.clientY}},i=function(r,n){var i=n.identifier;if(t[i]){var a=t[i];(Math.abs(a.x-n.clientX)>10||Math.abs(a.y-n.clientY)>10)&&(delete t[i],e._$trigger(r,"canceltap",a,!0,!0))}},a=function(r,n){var i=n.identifier;if(t[i]){var a=t[i];delete t[i],Math.abs(a.x-n.clientX)>10||Math.abs(a.y-n.clientY)>10?e._$trigger(r,"canceltap",a,!0,!0):e._$trigger(r,"tap",a,!0,!0)}},o=function(r,n){var i=n.identifier;if(t[i]){var a=t[i];delete t[i],e._$trigger(r,"canceltap",a,!0,!0)}};document.body.addEventListener("touchstart",(function(t){e._$trigger(t,"touchstart",e._$getEventDetail(t),t.bubbles,t.composed),r=!0;for(var i=t.changedTouches,a=0;a<i.length;a+=1)n(0,i[a])}),{capture:!0}),document.body.addEventListener("touchmove",(function(t){e._$trigger(t,"touchmove",e._$getEventDetail(t),t.bubbles,t.composed);for(var r=t.changedTouches,n=0;n<r.length;n+=1)i(t,r[n])}),{capture:!0}),document.body.addEventListener("touchend",(function(t){e._$trigger(t,"touchend",e._$getEventDetail(t),t.bubbles,t.composed);for(var r=t.changedTouches,n=0;n<r.length;n+=1)a(t,r[n])}),{capture:!0}),document.body.addEventListener("touchcancel",(function(t){e._$trigger(t,"touchcancel",e._$getEventDetail(t),t.bubbles,t.composed);for(var r=t.changedTouches,n=0;n<r.length;n+=1)o(t,r[n])}),{capture:!0}),document.body.addEventListener("mousedown",(function(t){e._$trigger(t,"mousedown",e._$getEventDetail(t),t.bubbles,t.composed),r||n(0,{identifier:-1,clientX:t.clientX,clientY:t.clientY})}),{capture:!0}),document.body.addEventListener("mousemove",(function(t){e._$trigger(t,"mousemove",e._$getEventDetail(t),t.bubbles,t.composed),r||i(t,{identifier:-1,clientX:t.clientX,clientY:t.clientY})}),{capture:!0}),document.body.addEventListener("mouseup",(function(t){e._$trigger(t,"mouseup",e._$getEventDetail(t),t.bubbles,t.composed),r||a(t,{identifier:-1,clientX:t.clientX,clientY:t.clientY})}),{capture:!0});var s=this._$delegatedEventListeners;s.touchstart=!0,s.touchmove=!0,s.touchend=!0,s.mousedown=!0,s.mousemove=!0,s.mouseup=!0},e.prototype.setElementEventDefaultPrevented=function(e,t,r){var n=this;if(e){if(b.includes(t)){if(this._$delegatedEventListeners[t])return;return this._$delegatedEventListeners[t]=!0,void document.body.addEventListener(t,(function(e){n._$trigger(e,t,n._$getEventDetail(e),e.bubbles,e.composed)}),{capture:!0})}this._$elementEventListeners.has(e)||this._$elementEventListeners.set(e,Object.create(null));var i=this._$elementEventListeners.get(e);i[t]||(i[t]=!0,e.addEventListener(t,(function(e){n._$triggedEvents.has(e)||(n._$triggedEvents.add(e),n._$trigger(e,t,n._$getEventDetail(e),e.bubbles,e.composed))})))}},e.prototype.setModelBindingStat=function(e,t,r){var n=function(n,i){if(e._$wxArgs||(e._$wxArgs={modelListeners:Object.create(null)}),void 0===e._$wxArgs.modelListeners[t]){if(!r)return;e._$wxArgs.modelListeners[t]=r,e.addEventListener(n,(function(){var r,n=null===(r=e._$wxArgs)||void 0===r?void 0:r.modelListeners[t];null==n||n(i())}))}e._$wxArgs.modelListeners[t]=r},i=e.tagName,a=!1;if("INPUT"===i){var o=e,s=o.type;"checkbox"===s||"radio"===s?"checked"===t&&(a=!0,n("change",(function(){return o.checked}))):"value"===t&&(a=!0,n("input",(function(){return o.value})))}else if("TEXTAREA"===i){var l=e;"value"===t&&(a=!0,n("input",(function(){return l.value})))}else if("SELECT"===i){var c=e;"value"===t&&(a=!0,n("change",(function(){return c.value})))}a||ut('unsupported model binding on "'.concat(t,'" of "').concat(i.toLowerCase(),'" element.'))},e.prototype.createIntersectionObserver=function(e,t,r,n,i){var a=new IntersectionObserver((function(e){e.forEach((function(e){i({intersectionRatio:e.intersectionRatio,boundingClientRect:e.boundingClientRect,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds,time:e.time})}))}),{root:t,rootMargin:r,threshold:n});return a.observe(e),{disconnect:function(){a.disconnect()}}},e.prototype.createMediaQueryObserver=function(e,t){var r=null,n=function(){var n,i,a=(n=document.documentElement.clientWidth,i=document.documentElement.clientHeight,!(void 0!==e.width&&n!==e.width||void 0!==e.maxWidth&&n>e.maxWidth||void 0!==e.minWidth&&n<e.minWidth||void 0!==e.width&&i!==e.height||void 0!==e.maxHeight&&i>e.maxHeight||void 0!==e.minHeight&&i<e.minHeight||(n>i?"landscape":"portrait")!==e.orientation));r!==a&&(r=a,t({matches:a}))};return setTimeout(n,0),window.addEventListener("resize",n),{disconnect:function(){window.removeEventListener("resize",n)}}},e}(),S=/(~|\^+)?-?[_0-9a-z][-_0-9a-z]*/gi,C=function(){function e(){this._$names=[""]}return e.globalScope=function(){return 0},e.prototype.register=function(e){var t=this._$names.length;return this._$names.push(e),t},e.prototype.queryName=function(e){return this._$names[e]},e}(),I=function(){function e(e,t){var r,n;this._$aliasDirty=!1,this._$rawNames=[],this._$hasResolvedNames=!1,this._$elem=e;var i=null===(r=e.ownerShadowRoot)||void 0===r?void 0:r.getHostNode();if(i){var a=i.getComponentOptions();this._$owner=i.classList,this._$defaultScope=a.styleScope,this._$extraScope=null===a.extraStyleScope?void 0:a.extraStyleScope,this._$rootScope=null!==(n=i.classList._$rootScope)&&void 0!==n?n:this._$defaultScope}else this._$owner=null,this._$defaultScope=C.globalScope(),this._$extraScope=void 0,this._$rootScope=void 0;if(this._$alias=t,t){var o=Object.create(null);Object.keys(t).forEach((function(e){o[e]=null})),this._$resolvedAlias=o}else this._$resolvedAlias=null}return e.prototype._$resolvePrefixes=function(e,t){var r,n=null===(r=this._$owner)||void 0===r?void 0:r._$resolvedAlias;if(n&&void 0!==n[e]){var i=n[e];if(this._$hasResolvedNames=!0,i)for(var a=0;a<i.length;a+=1){var o=i[a];t(o.scopeId,o.className)}}else if("~"===e[0])t(this._$rootScope,e.slice(1));else if("^"===e[0]){for(var s=e.slice(1),l=this._$owner;l&&"^"===s[0];)s=s.slice(1),l=l._$owner;t(l?l._$defaultScope:this._$rootScope,s)}else void 0!==this._$extraScope&&t(this._$extraScope,e),t(this._$defaultScope,e)},e.prototype._$updateResolvedAliases=function(e){var t=this,r=this._$alias[e],n=[];r&&r.forEach((function(e){t._$resolvePrefixes(e,(function(e,t){n.push({scopeId:e,className:t})}))}));var i=!1,a=this._$resolvedAlias[e];if(a)if(a.length!==n.length)i=!0;else for(var o=0;o<a.length;o+=1){var s=a[o],l=n[o];if(s.scopeId!==l.scopeId||s.className!==l.className){i=!0;break}}else n.length>0&&(i=!0);return this._$resolvedAlias[e]=n,i},e.prototype._$hasAlias=function(e){return!(!this._$alias||void 0===this._$alias[e])},e.prototype._$setAlias=function(e,t){if(this._$alias){var r=String(t).match(S)||null;this._$alias[e]=r,this._$updateResolvedAliases(e)&&(this._$aliasDirty=!0)}},e.prototype._$spreadAliasUpdate=function(){if(this._$aliasDirty){this._$aliasDirty=!1;var e=function(t){var r=t.classList;if(r){var n=r._$alias;if(n){var i=!1;if(Object.keys(n).forEach((function(e){r._$updateResolvedAliases(e)&&(i=!0)})),i){var a=t;!1===a._$external&&e(a.shadowRoot)}}r._$hasResolvedNames&&r._$updateResolvedNames()}t.childNodes.forEach((function(t){t instanceof se&&e(t)}))},t=this._$elem;!1===t._$external&&e(t.shadowRoot)}},e.prototype._$updateResolvedNames=function(){var e=this,t=this._$elem.getBackendElement();t&&(this._$hasResolvedNames=!1,t.clearClasses(),this._$rawNames.forEach((function(r){e._$addClassToBackend(r,t)})))},e.prototype._$classListAdd=function(e,t,r){r.addClass(e,t)},e.prototype._$classListRemove=function(e,t,r){r.removeClass(e,t)},e.prototype._$addClassToBackend=function(e,t){var r=this;this._$resolvePrefixes(e,(function(e,n){r._$classListAdd(n,e,t)}))},e.prototype._$removeClassFromBackend=function(e,t){var r=this;this._$resolvePrefixes(e,(function(e,n){r._$classListRemove(n,e,t)}))},e.prototype.toggle=function(e,t){var r=this,n=String(e).match(S)||null;if(n){var i=this._$elem.getBackendElement();n.forEach((function(n){var a=r._$rawNames.indexOf(e),o=!1;if((void 0===t?a<0:!!t)?a<0&&(r._$rawNames.push(n),i&&r._$addClassToBackend(n,i),o=!0):a>=0&&(r._$rawNames.splice(a,1),i&&r._$removeClassFromBackend(n,i),o=!0),o){var s=r._$elem;s._$mutationObserverTarget&&bt.callAttrObservers(s,{type:"properties",target:s,attributeName:"class"})}}))}},e.prototype.contains=function(e){for(var t=0;t<this._$rawNames.length;t+=1){var r=this._$rawNames[t];if("~"===r[0]){if((n=r.slice(1))===e)return!0}else if("^"===r[0]){for(var n=r.slice(1);"^"===n[0];)n=n.slice(1);if(n===e)return!0}else if(r===e)return!0}return!1},e.prototype.setClassNames=function(e){var t;t=null==e?"":String(e),this._$rawNames=t.match(S)||[],this._$updateResolvedNames();var r=this._$elem;r._$mutationObserverTarget&&bt.callAttrObservers(r,{type:"properties",target:r,attributeName:"class"})},e.prototype.getClassNames=function(){return this._$rawNames?this._$rawNames.join(" "):""},e}(),A=function(e){for(var t=e.str;e.cur<t.length;){var r=t[e.cur];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\f"!==r)break;e.cur+=1}return e.cur<t.length},k=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if(!(n>="0"&&n<="9"))break;r+=n,e.cur+=1}if(!r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));return parseInt(r,10)},E=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if("\\"===n)if(e.cur+1===t.length);else r+=t[e.cur+1],e.cur+=1;else if(/^[_a-zA-Z]$/.test(n))r+=n;else{if(!(n>="0"&&n<="9"))break;if(""===r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (field name cannot start with digits)"));r+=n}e.cur+=1}return r},T=function(e){for(var t=e.str,r="";e.cur<t.length;){var n=t[e.cur];if("\\"===n)if(e.cur+1===t.length)r+="\\",e.cur+=1;else{var i=t[e.cur+1];"."===i||"["===i||"]"===i||"\\"===i?(r+=i,e.cur+=2):(r+="\\",e.cur+=1)}else{if("."===n||"["===n)break;r+=n,e.cur+=1}}return r},P=function(e){var t=e.str;if(A(e),"*"===t[e.cur]&&"*"===t[e.cur+1])return e.cur+=2,["**"];var r=E(e);if(!r)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (first field name illegal)"));for(var n=[r];e.cur<t.length&&A(e);){var i=t[e.cur];if("."===i){if(e.cur+=1,A(e),"*"===t[e.cur]&&"*"===t[e.cur+1]){n.push("**"),e.cur+=2;break}var a=E(e);if(!a)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (field name illegal)"));n.push(a)}else{if("["!==i)break;e.cur+=1,A(e);var o=k(e);if(A(e),"]"!==t[e.cur])throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));e.cur+=1,n.push(o)}}return n},x=function(e){try{var t=function(e){for(var t=e.str,r=[];e.cur<t.length;){var n=t[e.cur];if("."===n)e.cur+=1,""!==(a=T(e))&&r.push(a);else if("["===n){e.cur+=1;var i=k(e);if("]"!==t[e.cur]&&e.cur<t.length)throw new Error('data path descriptor "'.concat(t,'" is illegal at char ').concat(e.cur," (illegal index)"));e.cur+=1,r.push(i)}else{var a=T(e);r.push(a)}}return 0===r.length&&r.push(""),r}({str:e,cur:0});return t}catch(e){return ut(e.message),null}},O=function(e){try{if(Array.isArray(e))return e.map((function(e){return P({str:e,cur:0})}));var t={str:e,cur:0},r=function(e){var t=[];for(t.push(P(e)),A(e);","===e.str[e.cur];)e.cur+=1,t.push(P(e)),A(e);return t}(t);if(t.cur!==e.length)throw new Error('data path descriptor "'.concat(e,'" is illegal at char ').concat(t.cur));return r}catch(e){return ut(e.message),[]}},M=function(e,t){if("object"==typeof e&&null!==e){var r=t.get(e);if(void 0!==r)return r;if(Array.isArray(e)){var n=[];t.set(e,n);for(var i=0;i<e.length;i+=1)n[i]=M(e[i],t);return n}var a={};t.set(e,a);var o=Object.keys(e);for(i=0;i<o.length;i+=1){var s=o[i];a[s]=M(e[s],t)}return a}return"symbol"==typeof e?Symbol(e.description):e},D=function(e){if("object"==typeof e&&null!==e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r+=1)t[r]=D(e[r]);return t}var n={},i=Object.keys(e);for(r=0;r<i.length;r+=1){var a=i[r];n[a]=D(e[a])}return n}return"symbol"==typeof e?Symbol(e.description):e},N=function(e,t){return t?M(e,new WeakMap):D(e)},L=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},B=Object.prototype.hasOwnProperty;!function(e){e[e.None=0]="None",e[e.Simple=1]="Simple",e[e.SimpleWithRecursion=2]="SimpleWithRecursion"}(f||(f={}));var $,F=function(){function e(e){this.observerTree={sub:{}},this.observers=[],this.propFields=e}return e.prototype.cloneSub=function(){var t=new e(this.propFields);return this.observers.length>0&&(t.observerTree=D(this.observerTree),t.observers=this.observers.slice()),t},e.prototype.addObserver=function(e,t){var r=this.observers.length;this.observers.push({path:t,f:e});for(var n=0;n<t.length;n+=1){for(var i=t[n],a=this.observerTree,o=!1,s=0;s<i.length;s+=1){var l=i[s];if("**"===l){o=!0;break}a.sub[l]||(a.sub[l]={sub:{}}),a=a.sub[l]}o?a.wildcard?a.wildcard.push(r):a.wildcard=[r]:a.listener?a.listener.push(r):a.listener=[r]}},e}(),j=function(e,t,r,n){for(var i=new Array(r.length),a=0;a<r.length;a+=1){for(var o=r[a],s=t,l=0;l<o.length;l+=1){var c=o[l];if("**"===c)break;if("object"!=typeof s||null===s){s=void 0;break}s=s[c]}i[a]=s}gt("Data Observer",n,e.getMethodCaller(),i,e||void 0)},W=function(e,t){if(e.listener)for(var r=0;r<e.listener.length;r+=1){t[e.listener[r]]=!0}if(e.wildcard)for(r=0;r<e.wildcard.length;r+=1){t[e.wildcard[r]]=!0}var n=Object.keys(e.sub);for(r=0;r<n.length;r+=1){var i=n[r];W(e.sub[i],t)}},U=function(e,t,r){for(var n=e,i=!0,a=0;a<r.length;a+=1){var o=r[a];if(n.wildcard)for(var s=n.wildcard,l=0;l<s.length;l+=1){t[s[l]]=!0}if(!B.call(n.sub,o)){i=!1;break}n=n.sub[o]}i&&W(n,t)},V=function(e,t,r,n){for(var i=0;i<e.length;i+=1){var a=e[i],o=a.path,s=a.f;t[i]&&(t[i]=!1,r&&j(r,n,o,s))}},q=function(e){return e===Ze.Simple?1:e===Ze.SimpleWithRecursion?2:0},z=function(){function e(e,t,r,n,i,a,o){this._$modelBindingListener=null,this._$pendingChanges=[],this._$doingUpdates=null,this._$comp=e,this.data=t,this._$pureDataPattern=r,this._$dataDeepCopy=n,this._$propertyPassingDeepCopy=i,this._$reflectToAttributes=a&&!!e,this._$propFields=o.propFields,this._$observerTree=o.observerTree,this._$observers=o.observers,this._$observerStatus=new Array(o.observers.length),this.innerData=this._$generateInnerData(t)}return e.prototype._$generateInnerData=function(e){var t=this._$pureDataPattern,r=this._$dataDeepCopy;if(t||0!==r){for(var n={},i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a],s=e[o];t&&t.test(o)||(n[o]=0===r?s:2===r?N(s,!0):D(s))}return n}return null},e.create=function(t){return new e(null,t,null,0,0,!1,new F({}))},e.prototype.setUpdateListener=function(e){this._$updateListener=e},e.prototype.replaceWholeData=function(e){this.data=e,this.innerData=this._$generateInnerData(e)},e.prototype.replaceDataOnPath=function(e,t){this._$pendingChanges.push([e,t,void 0,void 0])},e.prototype.spliceArrayDataOnPath=function(e,t,r,n){Array.isArray(n)?this._$pendingChanges.push([e,n,null!=t?t:-1,r||0]):ut('The splice insertion must be a string (on path "'.concat(e.join("."),'"). The change is ignored.'))},e.prototype.replaceProperty=function(e,t){var r=t,n=this._$propFields[e];return!!n&&(0!==this._$propertyPassingDeepCopy&&(r=2===this._$propertyPassingDeepCopy?N(t,!0):D(t)),!(n.comparer&&!n.comparer(r,this.data[e]))&&(this._$pendingChanges.push([[e],r,void 0,void 0]),!0))},e.prototype.setChanges=function(e){this._$pendingChanges=e},e.prototype.getChanges=function(){return this._$pendingChanges},e.prototype.setModelBindingListener=function(e,t){this._$modelBindingListener?this._$modelBindingListener[e]=t:(this._$modelBindingListener=Object.create(null))[e]=t},e.prototype.applyDataUpdates=function(e){var t,r,n;void 0===e&&(e=!1);var i,a,o=this._$propFields,s=this._$comp,l=this._$pureDataPattern,c=this._$dataDeepCopy,u=!!this._$doingUpdates;this._$observers.length>0?this._$doingUpdates?(i=this._$doingUpdates.combined,a=this._$doingUpdates.prop):(this._$doingUpdates={prop:[],combined:[],count:0},i=this._$doingUpdates.combined,a=this._$doingUpdates.prop):(i=[],a=[]);var d=this._$pendingChanges;this._$pendingChanges=[];for(var p=0;p<d.length;p+=1){var h=d[p],f=h[0],g=h[1],v=h[2],m=h[3],y=void 0!==m,_=String(f[0]),b=!!l&&l.test(_);if((G=o[_])&&1===f.length){var w=this.data[_],S=void 0,C=void 0;if(y){if(Array.isArray(w)){var I=h;S=v>=0&&v<w.length?v:w.length,I[2]=S,w.splice.apply(w,L([S,m],g,!1))}else ut('An array splice change cannot be applied to a non-array value (on path "'.concat(f.join("."),'"). The change is ignored.'));C=w}else C=ke(g,_,G);if(!b&&this.innerData){var A=void 0;if(0===c)h[1]=A=C;else if(void 0!==S){A=this.innerData[_];var k=void 0;h[1]=k=2===c?N(g,!0):D(g),(t=A).splice.apply(t,L([S,m],k,!1))}else h[1]=A=2===c?N(C,!0):D(C);this.innerData[_]=A}if(this.data[_]=C,this._$reflectToAttributes){var E=s.getBackendElement();if(E){var T=C;if(G.reflectIdPrefix){var P=s.ownerShadowRoot;if(P){var x=P.getHostNode()._$idPrefix;x&&(T="".concat(x,"--").concat(C))}}var O=_.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),R=typeof T;"boolean"===R?C?E.setAttribute(O,""):E.removeAttribute(O):"object"===R?E.setAttribute(O,JSON.stringify(T)):E.setAttribute(O,T)}}b||w===C||a.push({propName:_,prop:G,oldValue:w,newValue:C,skipModelListener:e})}else{for(var M=this.data,$=_,F=1;F<f.length;F+=1){var j=f[F];Number.isFinite(j)?B.call(M,$)&&Array.isArray(M[$])||(M[$]=[]):B.call(M,$)&&null!==M[$]&&"object"==typeof M[$]&&!Array.isArray(M[$])||(M[$]={}),M=M[$],$=j}S=void 0;if(y){w=M[$];if(Array.isArray(w)){I=h;S=v>=0&&v<w.length?v:w.length,I[2]=S,w.splice.apply(w,L([S,m],g,!1))}else ut('An array splice change cannot be applied to a non-array value (on path "'.concat(f.join("."),'"). The change is ignored.'))}else M[$]=g;if(!b&&this.innerData){M=this.innerData,$=_;for(var W=1;W<f.length;W+=1){j=f[W];Number.isFinite(j)?B.call(M,$)&&Array.isArray(M[$])||(M[$]=[]):B.call(M,$)&&null!==M[$]&&"object"==typeof M[$]&&!Array.isArray(M[$])||(M[$]={}),M=M[$],$=j}A=void 0;if(0===c)h[1]=A=g;else if(void 0!==S){A=M[$];k=void 0;h[1]=k=2===c?N(g,!0):D(g),(r=A).splice.apply(r,L([S,m],k,!1))}else h[1]=A=2===c?N(g,!0):D(g);M[$]=A}!b&&G&&a.push({propName:_,prop:G,oldValue:void 0,newValue:g,skipModelListener:e||!1})}U(this._$observerTree,this._$observerStatus,f),b||i.push(h),this._$doingUpdates&&(this._$doingUpdates.count+=1)}if(!u){if(this._$doingUpdates){var q=void 0;do{q=this._$doingUpdates.count,V(this._$observers,this._$observerStatus,s,this.data)}while(q!==this._$doingUpdates.count);this._$doingUpdates=null}if(null===(n=this._$updateListener)||void 0===n||n.call(this,this.innerData||this.data,i),s)for(p=0;p<a.length;p+=1){var z=a[p],G=(_=z.propName,z.prop),H=z.oldValue,K=z.newValue;if(!z.skipModelListener&&this._$modelBindingListener){var Q=this._$modelBindingListener[_];Q&&Q(K)}G.observer&&gt("Property Observer",G.observer,s.getMethodCaller(),[K,H],s),s._$mutationObserverTarget&&bt.callAttrObservers(s,{type:"properties",target:s,propertyName:_})}}},e}();!function(e){e[e.Normal=0]="Normal",e[e.NoDefault=1]="NoDefault"}($||($={}));var G,H,K=Date.now(),Q=K;!function(e){e[e.None=0]="None",e[e.Mut=1]="Mut",e[e.Final=2]="Final"}(G||(G={})),function(e){e[e.NotChanged=0]="NotChanged",e[e.Failed=1]="Failed",e[e.Init=2]="Init",e[e.Added=3]="Added",e[e.Removed=4]="Removed"}(H||(H={}));var J,X=function(){function e(){this.listeners=Object.create(null),this.captureListeners=null}return e.prototype.addListener=function(e,t,r){void 0===r&&(r={});var n,i,a,o=r.final?2:r.mutated?1:0;return r.capture||r.useCapture?this.captureListeners?n=this.captureListeners:(n=Object.create(null),this.captureListeners=n):n=this.listeners,n[e]?(a=!0,i=n[e]):(a=!1,i=n[e]={mutCount:0,finalCount:0,funcArr:new ft}),i.funcArr.add(t,o),2===o?i.finalCount+=1:1===o&&(i.mutCount+=1),a?2===o&&1===i.finalCount?3:0:2===o?3:2},e.prototype.removeListener=function(e,t,r){void 0===r&&(r={});var n=r.capture||r.useCapture?this.captureListeners:this.listeners;if(!n)return 1;var i=n[e];if(!i)return 1;var a=i.funcArr.remove(t);return null===a?1:(2===a?i.finalCount-=1:1===a&&(i.mutCount-=1),2===a&&0===i.finalCount?4:0)},e}(),Y=function(){function e(e,t,r){void 0===r&&(r={});var n=function(){var e=Date.now();return e<Q&&(K+=e-Q),Q=e,e-K}();this.type=e,this.timeStamp=n,this.detail=t,this.bubbles=r.bubbles||!1,this.composed=r.composed||!1,this._$capturePhase=r.capturePhase||!1,this._$eventBubblingControl={stopped:!1,mutated:!1,noDefault:!1},this._$originalEvent=r.originalEvent,this._$dispatched=!1,r.extraFields&&Object.assign(this,r.extraFields)}return e.prototype.getEventBubbleStatus=function(){return this._$eventBubblingControl.noDefault?1:0},e.prototype.wrapShadowedEvent=function(e,t,r){var n=Object.create(this);return n.target=e,n.mark=t,n.currentTarget=r,n},e.prototype.getOriginalEvent=function(){return this._$originalEvent},e.prototype.preventDefault=function(){this._$eventBubblingControl.noDefault=!0},e.prototype.defaultPrevented=function(){return this._$eventBubblingControl.noDefault},e.prototype.stopPropagation=function(){this._$eventBubblingControl.stopped=!0},e.prototype.propagationStopped=function(){return this._$eventBubblingControl.stopped},e.prototype.markMutated=function(){this._$eventBubblingControl.mutated=!0},e.prototype.mutatedMarked=function(){return this._$eventBubblingControl.mutated},e.prototype.dispatch=function(e,t){var r=this;if(this._$dispatched)throw new Error("Event cannot be dispatched twice");this._$dispatched=!0;var n=this.type,i=this.composed,a=this.bubbles,o=t&&!i,s=this._$eventBubblingControl,l=function(e,t,i,a){var o=i._$eventTarget;if(o){var s=a?o.captureListeners:o.listeners;if(s){var l=s[n];if(l){var c=r.mutatedMarked(),u=i instanceof we,d=u?i.getMethodCaller():i,p=r.wrapShadowedEvent(e,t,d);r._hasListeners=!0,!1===l.funcArr.call(d,[p],(function(e){return!c||1!==e}),u?i:void 0)||l.finalCount>0?(p.stopPropagation(),p.preventDefault()):l.mutCount>0&&p.markMutated()}}}},c=function(e,t){for(var r=function(e){for(var n=e,a=e instanceof we?e.getMethodCaller():e,o=e.collectMarks();;){if(!1===t(n,a,o))return null;var s=void 0;if(i){if(n instanceof Tt)return n.getHostNode();for(s=n.parentNode;null==s?void 0:s._$inheritSlots;)s=s.parentNode;if(s instanceof we&&!s._$external){var l=s.shadowRoot.getContainingSlot(n);if(!l)return null;s=r(l)}}else s=n.parentNode;if(!s)return null;n=s}},n=e;;){var a=r(n);if(!a)break;n=a}};if(this._$capturePhase&&!s.stopped&&!o){var u=[];c(e,(function(e,t,r){u.push([e,t,r])}));for(var d=u.length-1;d>=0;d-=1){var p=u[d],h=p[0],f=p[1],g=p[2];if(h._$eventTarget&&(l(f,g,h,!0),s.stopped))break}}if(!s.stopped&&t&&e instanceof we&&e._$external&&e.shadowRoot.handleEvent(t,this),!s.stopped&&!o){var v=!0;c(e,(function(e,t,n){if(!v&&e instanceof we&&e._$external){var i=e.shadowRoot;i.handleEvent(i.slot,r)}return v=!1,e._$eventTarget&&l(t,n,e,!1),a&&!s.stopped}))}},e.dispatchEvent=function(e,t){return t.dispatch(e)},e.dispatchExternalEvent=function(e,t,r){return r.dispatch(e,t)},e.triggerEvent=function(t,r,n,i){var a=new e(r,n,i);e.dispatchEvent(t,a)},e.triggerExternalEvent=function(t,r,n,i,a){var o=new e(n,i,a);e.dispatchExternalEvent(t,r,o)},e}();!function(e){e[e.Child=0]="Child",e[e.Descendant=1]="Descendant",e[e.CrossShadowDescendant=2]="CrossShadowDescendant"}(J||(J={}));var Z,ee=function(e){var t;return null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode().getRootBehavior().ownerSpace},te=function(){function e(t){this.unions=[];for(var r=String(t||"").split(","),n=0;n<r.length;n+=1){for(var i=r[n].split(/( |\t|>+)/g),a=[],o=1,s=0;s<i.length;s+=1){var l=i[s];if(l&&" "!==l&&"\t"!==l&&">>"!==l)if(">"!==l[0]){var c=e._$parseSegment(l,o);if(o=1,!c)break;a.push(c)}else{if(1!==o)break;o=3===l.length?2:0}}s===i.length&&(a.length&&this.unions.push(a))}}return e._$parseSegment=function(e,t){var r=/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/.exec(e);if(!r)return null;var n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t}:null},e.prototype.isEmpty=function(){return 0===this.unions.length},e._$testSelectorSegment=function(t,r,n,i,a,o){var s;if(n===t)return!1;var l=i[a],c=!0;(ee(n)!==r||l.id&&l.id!==n.id)&&(c=!1);for(var u=l.classes,d=0;c&&d<u.length;d+=1)(null===(s=n.classList)||void 0===s?void 0:s.contains(u[d]))||(c=!1);if(!c&&0===o)return!1;var p=n;if(c&&0===a){if(null===t)return!0;for(p=p.parentNode;p;p=p.parentNode)if(p===t)return!0;if(2!==o)return!1;p=n,c=!1}var h=c?l.relation:o;do{p.parentNode?p=p.parentNode:2===h?p=p instanceof Tt?p.getHostNode():null:2===o?(c=!1,p=p instanceof Tt?p.getHostNode():null):p=null,p===t&&(p=null)}while(p instanceof ue);if(!p)return!1;if(c){if(e._$testSelectorSegment(t,r,p,i,a-1,h))return!0;if(2!==o)return!1}return e._$testSelectorSegment(t,r,p,i,a,o)},e.prototype.testSelector=function(t,r){if(r instanceof ue)return!1;var n,i=this.unions;if(void 0===(n=null!==t&&ee(t)||ee(r)))return!1;for(var a=0;a<i.length;a+=1){var o=i[a];if(e._$testSelectorSegment(t,n,r,o,o.length-1,0))return!0}return!1},e.prototype.query=function(e,t){var r=this,n=[],i=function(e,t,a){if(r.testSelector(e,t)){if(a)return t;n.push(t)}if(t instanceof we){var o=t.getShadowRoot();if(o){var s=i(e,o,a);if(s&&a)return s}}for(var l=t.childNodes,c=0;c<l.length;c+=1){var u=l[c];if(u instanceof se){var d=i(e,u,a);if(d&&a)return d}}return null},a=i(e,e,t);return t?a:n},e}(),re=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e[e.MAIN=0]="MAIN",e[e.TEMPLATE_EXTRA=1]="TEMPLATE_EXTRA",e[e.ANIMATION_EXTRA=2]="ANIMATION_EXTRA",e[e.TEMP_EXTRA=3]="TEMP_EXTRA"}(Z||(Z={}));var ne,ie,ae=!1,oe=function(e){ae=e},se=function(){function e(){throw new Error("Element cannot be constructed directly")}return e.prototype._$initialize=function(e,t,r,n){this._$backendElement=t,t&&(t.__wxElement=this),this._$destroyOnDetach=!1,this._$nodeTreeContext=n||r._$nodeTreeContext,this._$nodeId="",this._$nodeAttributes=null,this._$nodeSlot="",this._$slotName=null,this._$slotValues=null,this._$nodeSlotElement=null,this._$subtreeSlotCount=0,this._$inheritSlots=!1,this._$placeholderHandler=void 0,this._$virtual=e,this.dataset={},this._$marks=null,this._$attached=!1,this.classList=null,this._$styleSegments=[],this.parentNode=null,this.childNodes=[],this.ownerShadowRoot=r,this._$mutationObserverTarget=null,this._$eventTarget=new X,this._$extraClasses=null,this._$originalClasses=""},Object.defineProperty(e.prototype,"$$",{get:function(){return this._$backendElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._$nodeId},set:function(e){var t,r,n=String(e);if(this._$nodeId!==n){if(this._$nodeId=n,this.ownerShadowRoot){var i=this.ownerShadowRoot.getHostNode();if(this.ownerShadowRoot._$markIdCacheDirty(),!this._$virtual&&i.getComponentOptions().writeIdToDOM){var a=i._$idPrefix,o=a?"".concat(a,"--").concat(n):n;null===(t=this._$backendElement)||void 0===t||t.setId(o)}}st.writeExtraInfoToAttr&&(null===(r=this._$backendElement)||void 0===r||r.setAttribute("exparser:info-attr-id",n)),this._$mutationObserverTarget&&bt.callAttrObservers(this,{type:"properties",target:this,attributeName:"id"})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slot",{get:function(){return this._$nodeSlot},set:function(t){var r=String(t),n=this._$nodeSlot;if(n!==r)if(this._$inheritSlots)ut('slots-inherited nodes do not support "slot" attribute.');else{this._$nodeSlot=r;var i=this.parentNode;if(i){for(var a=i;null==a?void 0:a._$inheritSlots;)a=a.parentNode;if(a instanceof we&&!a._$external){var o=a.shadowRoot;if(o.isDynamicSlots())return void ut("nodes inside dynamic slots should change binding slots through Element#setSlotElement.");var s=o.getSlotElementFromName(n),l=o.getSlotElementFromName(r);e.insertChildReassignComposed(i,this,s,l,i.childNodes.indexOf(this)+1)}}this._$mutationObserverTarget&&bt.callAttrObservers(this,{type:"properties",target:this,attributeName:"slot"})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var e=[];return this._$nodeAttributes&&Object.entries(this._$nodeAttributes).forEach((function(t){var r=t[0],n=t[1];e.push({name:r,value:n})})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"class",{get:function(){return this.classList?this.classList.getClassNames():""},set:function(e){if(this.classList){if(null===this._$extraClasses)return void this.classList.setClassNames(e);this._$originalClasses=e;var t=[this._$originalClasses];Object.entries(this._$extraClasses).forEach((function(e){var r=e[0];e[1]&&t.push(r)})),this.classList.setClassNames(t.join(" "))}},enumerable:!1,configurable:!0}),e.prototype.setExtraClass=function(e,t){null===this._$extraClasses&&(this._$extraClasses={},this._$originalClasses=this.class),this._$extraClasses[e]=Boolean(t),this.class=this._$originalClasses},Object.defineProperty(e.prototype,"style",{get:function(){return this._$styleSegments[0]||""},set:function(e){this.setNodeStyle(e,0)},enumerable:!1,configurable:!0}),e.prototype.asTextNode=function(){return null},e.prototype.asElement=function(){return this},e.prototype.asNativeNode=function(){return this instanceof It?this:null},e.prototype.asVirtualNode=function(){return this instanceof ue?this:null},e.prototype.asInstanceOf=function(e){return this instanceof we?this.asInstanceOf(e):null},e.prototype.getBackendContext=function(){return this._$nodeTreeContext},e.prototype.getBackendMode=function(){return this._$nodeTreeContext.mode},e.prototype.getBackendElement=function(){return this._$backendElement},e.prototype.destroyBackendElement=function(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null)},e.prototype.destroyBackendElementOnDetach=function(){this._$destroyOnDetach=!0},e.prototype.isVirtual=function(){return this._$virtual},e.prototype.setNodeStyle=function(e,t){if(void 0===t&&(t=0),this._$styleSegments[t]!==e){this._$styleSegments[t]=e;var r=this._$styleSegments.join(";");this._$backendElement&&this._$backendElement.setStyle(r),this._$mutationObserverTarget&&bt.callAttrObservers(this,{type:"properties",target:this,attributeName:"style"})}},e.checkAndCallAttached=function(t){!function t(r){var n;if(r instanceof e&&!r._$attached){if(r._$attached=!0,r instanceof we){null===(n=r._$lifetimeFuncs.attached)||void 0===n||n.call(r.getMethodCaller(),[]),r._$relation&&(r._$relation.triggerLinkEvent(2,!1),r._$relation.triggerLinkEvent(4,!1),r._$relation.triggerLinkEvent(0,!1)),r._$mutationObserverTarget&&bt.callAttachObservers(r,{type:"attachStatus",target:r,status:"attached"});var i=r.getShadowRoot();i&&t(i)}r.childNodes.forEach(t)}}(t)},e.checkAndCallDetached=function(t){!function t(r){var n;if(r instanceof e&&r._$attached)if(r.childNodes.forEach(t),r instanceof we){var i=r._$placeholderHandler;i&&i();var a=r.getShadowRoot();a&&t(a),r._$attached=!1,null===(n=r._$lifetimeFuncs.detached)||void 0===n||n.call(r.getMethodCaller(),[]),r._$relation&&(r._$relation.triggerLinkEvent(2,!0),r._$relation.triggerLinkEvent(4,!0),r._$relation.triggerLinkEvent(0,!0)),r._$mutationObserverTarget&&bt.callAttachObservers(r,{type:"attachStatus",target:r,status:"detached"})}else r._$attached=!1;r._$destroyOnDetach&&r.destroyBackendElement()}(t)},e.checkAndCallMoved=function(t){!function t(r){var n;if(r instanceof e&&r._$attached&&(r.childNodes.forEach(t),r instanceof we)){var i=r.getShadowRoot();i&&t(i),null===(n=r._$lifetimeFuncs.moved)||void 0===n||n.call(r.getMethodCaller(),[]),r._$relation&&(r._$relation.triggerLinkEvent(2,!1),r._$relation.triggerLinkEvent(4,!1),r._$relation.triggerLinkEvent(0,!1))}}(t)},e.checkChildObservers=function(e,t,r){var n,i=e._$mutationObserverTarget;if(i&&(!(null===(n=i.childObservers)||void 0===n?void 0:n.empty)||i.hasSubtreeListeners())){var a=[r],o=void 0;o="add"===t?{type:"childList",target:e,addedNodes:a}:"remove"===t?{type:"childList",target:e,removedNodes:a}:{type:"childList",target:e,addedNodes:a,removedNodes:a},bt.callChildObservers(e,o)}},e.hasSubtreeMutationObservers=function(e){var t;return(null===(t=e._$mutationObserverTarget)||void 0===t?void 0:t.hasSubtreeListeners())||!1},e.updateSlotCount=function(e,t){for(var r=e;;){r._$subtreeSlotCount+=t;var n=r.parentNode;if(!n){r instanceof Tt&&r._$markSlotCacheDirty();break}r=n}},e._$insertChildReassignSlot=function(t,r,n,i){var a=t.getHostNode(),o=a.childNodes.length;t.forEachNodeInSpecifiedSlot(r,(function(t,r){t instanceof e&&t._$inheritSlots||e.insertChildReassignComposed(a,t,n,i,o)}))},e.insertChildReassignComposed=function(t,r,n,i,a){if(n){var o=e.findNearestNonVirtual(n);if(o){var s=e.countNonVirtual(r);if(s){var l=s[0],c=s[1];o.spliceRemove(l._$backendElement,c)}}}i&&e.insertChildComposed(t,r,void 0,!1,a)},e.findNearestNonVirtual=function(e){for(var t=e;;){if(!t._$virtual)return t._$backendElement;if(t instanceof Tt)t=t.getHostNode();else{var r=t.parentNode;if(!r)return null;if(r instanceof we&&!r._$external){var n=r.shadowRoot.getContainingSlot(t);if(!n)return null;t=n}else t=r}}},e.countNonVirtual=function(t){var r=null,n=0,i=function(t){t instanceof e&&t._$virtual?t.forEachComposedChild(i):(0===n&&(r=t),n+=1)};return i(t),r?[r,n]:null},e.insertChildComposed=function(t,r,n,i,a){for(var o,s,l,c=!1,u=t;null==u?void 0:u._$inheritSlots;)c=!0,u=u.parentNode;if(u){var d,p=u,h=p._$nodeTreeContext,f=!1;if(p instanceof we)if(p._$external){var g=p.shadowRoot.slot;d=g}else{c=!0,void 0!==(g=p.shadowRoot.getSingleSlotElement())?d=g?e.findNearestNonVirtual(g):void 0:(p.shadowRoot.isDynamicSlots()&&(f=!0),d=void 0)}else p._$virtual&&(c=!0),d=e.findNearestNonVirtual(p);var v=function(t,r,n,i){var a=function(t){return t instanceof e&&t._$inheritSlots?t.childNodes.every(a):i(t)},o=function(t){if(d){if(t instanceof e&&t._$inheritSlots)return t.childNodes.every(a)}else if(f){if(r!==t._$nodeSlotElement)return!0;if(t instanceof e&&t._$inheritSlots)return t.childNodes.every(a)}else{if(t instanceof e&&t._$inheritSlots)return t.childNodes.every(o);if(n!==(t instanceof e?t._$nodeSlot:""))return!0}return i(t)};o(t)},m=function(t,r,n,i){var a,o=t.childNodes;if(r>=0)for(var s=function(t){var r=null,a=function(t){return t instanceof e&&t._$virtual?t.forEachComposedChild(a):null===(r=t)};if(v(o[t],n,i,a),r)return{value:r}},l=r;l<o.length;l+=1){var c=s(l);if("object"==typeof c)return c.value}if(t instanceof Tt)a=t.getHostNode();else if(t instanceof we&&!t._$external){var u=null===n?t.shadowRoot.getSlotElementFromName(i):n;if(!u)return null;a=u}else a=t;if(!a._$virtual)return null;var d=a.parentNode;if(d){l=d.childNodes.lastIndexOf(a);var p=void 0,h=void 0;if(a._$inheritSlots)p=n,h=i;else if(d instanceof we&&!d._$external){void 0!==d.shadowRoot.getSingleSlotElement()?(p=null,h=""):(p=d.shadowRoot.getContainingSlot(a),h=a._$slotName||"")}else p=null,h="";var f=m(d,l+1,p,h);if(f)return f}return null},y=null,_=function(o,s){var l;if(void 0===s)l=d;else{var u=p;if(u._$external)l=u.shadowRoot.slot;else l=o?e.findNearestNonVirtual(o):null}if(l){var f=s||"",g=0,_=null,b=null;if(r){var w=y||h.createFragment();y=b;var S=function(t){return t instanceof e&&t._$virtual?t.forEachComposedChild(S):(w.appendChild(t._$backendElement),b=w),!0};v(r,o,f,S)}if((n||c)&&(i&&n?(v(n,o,f,(function(t){if(t instanceof e){var r=e.countNonVirtual(t);r&&(_||(_=r[0]),g+=r[1])}else _||(_=t),g+=1;return!0})),0===g&&b&&(_=m(t,a+1,o,f))):b&&(_=m(t,a,o,f))),b)if(_)l.spliceBefore(_._$backendElement,g,b);else l.spliceAppend(b);else if(g>0){l.spliceRemove(_._$backendElement,g)}}};if(void 0!==d)if(null===d);else if(c||r instanceof e&&r._$virtual||n instanceof e&&n._$virtual)_(null);else if(i)if(r){var b=h.createFragment();b.appendChild(r._$backendElement),d.spliceBefore(n._$backendElement,1,b)}else d.removeChild(n._$backendElement);else n?d.insertBefore(r._$backendElement,n._$backendElement):d.appendChild(r._$backendElement);else{var w=[],S=function(t){var r;if(t._$nodeSlotElement)r=t._$nodeSlotElement;else if(t instanceof e){if(t._$inheritSlots)return void t.childNodes.forEach(S);r=t._$nodeSlot}else r="";w.indexOf(r)<0&&w.push(r)};i&&n&&S(n),r&&S(r);for(var C=0;C<w.length;C+=1){var I=w[C];if("string"==typeof I)_(p.shadowRoot.getSlotElementFromName(I),I);else _(I,"")}}y&&y.release(),st.writeExtraInfoToAttr&&(i&&n instanceof e&&(null===(o=n._$backendElement)||void 0===o||o.removeAttribute("exparser:info-in-slot-of")),r instanceof e&&(t instanceof we?null===(s=r._$backendElement)||void 0===s||s.setAttribute("exparser:info-in-slot-of",t._$componentInstanceId):null===(l=r._$backendElement)||void 0===l||l.removeAttribute("exparser:info-in-slot-of")))}},e.insertChildSingleOperation=function(t,r,n,i){var a,o,s,l,c;if(r&&t.ownerShadowRoot!==r.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");var u,d=n,p=d>=0?t.childNodes[d]:void 0;if((u=!!i&&(!!p&&r!==p))||r){var h,f=!1,g=0;if(r){if(h=r.parentNode){var v=h.childNodes.indexOf(r);h.childNodes.splice(v,1),h===t&&v<d&&(d-=1),e.insertChildComposed(t,null,r,!0,v)}r.parentNode=t,r instanceof e&&(h!==t?(h&&(null===(a=h._$mutationObserverTarget)||void 0===a||a.detachChild(r),r._$subtreeSlotCount>0&&e.updateSlotCount(h,-r._$subtreeSlotCount)),null===(o=t._$mutationObserverTarget)||void 0===o||o.attachChild(r),r._$subtreeSlotCount>0&&(f=!0,g+=r._$subtreeSlotCount)):r._$subtreeSlotCount>0&&(f=!0))}else h=null;e.insertChildComposed(t,r,p,u,d),u&&p instanceof e&&(null===(s=t._$mutationObserverTarget)||void 0===s||s.detachChild(p),p.parentNode=null,p._$subtreeSlotCount>0&&(f=!0,g-=p._$subtreeSlotCount)),r?d<0?t.childNodes.push(r):u?t.childNodes[d]=r:t.childNodes.splice(d,0,r):u&&t.childNodes.splice(d,1),null===(l=t.ownerShadowRoot)||void 0===l||l._$markIdCacheDirty(),f&&(e.updateSlotCount(t,g),null===(c=t.ownerShadowRoot)||void 0===c||c._$checkSlotChanges()),u&&(e.checkAndCallDetached(p),e.checkChildObservers(t,"remove",p)),r&&((null==h?void 0:h._$attached)?t._$attached?e.checkAndCallMoved(r):e.checkAndCallDetached(r):t._$attached&&e.checkAndCallAttached(r),h===t?e.checkChildObservers(t,"move",r):(h&&e.checkChildObservers(h,"remove",r),e.checkChildObservers(t,"add",r)))}},e.insertChildBatchRemoval=function(t,r,n){t.childNodes[r];for(var i,a,o,s=!1,l=0,c=0;c<n;c+=1)e.insertChildComposed(t,null,t.childNodes[r+c],!0,r+c);for(c=0;c<n;c+=1){var u=t.childNodes[r+c];u.parentNode=null,u instanceof e&&(null===(i=t._$mutationObserverTarget)||void 0===i||i.detachChild(u),u._$subtreeSlotCount>0&&(s=!0,l-=u._$subtreeSlotCount))}var d=t.childNodes.splice(r,n);null===(a=t.ownerShadowRoot)||void 0===a||a._$markIdCacheDirty(),s&&(e.updateSlotCount(t,l),null===(o=t.ownerShadowRoot)||void 0===o||o._$checkSlotChanges());for(c=0;c<n;c+=1){var p=d[c];e.checkAndCallDetached(p),e.checkChildObservers(t,"remove",p)}},e.insertChildBatchInsertion=function(t,r,n){var i,a,o,s,l,c=n>=0?t.childNodes[n]:void 0,u=!1,d=0;for(var p=0;p<r.length;p+=1){var h=r[p];if(t.ownerShadowRoot!==h.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(h.parentNode)throw new Error("Cannot batch-insert the node which already has a parent.");h.parentNode=t,h instanceof e&&(null===(o=t._$mutationObserverTarget)||void 0===o||o.attachChild(h),h._$subtreeSlotCount>0&&(u=!0,d+=h._$subtreeSlotCount))}for(p=0;p<r.length;p+=1){h=r[p];e.insertChildComposed(t,h,c,!1,n>=0?n:t.childNodes.length)}c?(i=t.childNodes).splice.apply(i,re([n,0],r,!1)):(a=t.childNodes).push.apply(a,r),null===(s=t.ownerShadowRoot)||void 0===s||s._$markIdCacheDirty(),u&&(e.updateSlotCount(t,d),null===(l=t.ownerShadowRoot)||void 0===l||l._$checkSlotChanges());for(p=0;p<r.length;p+=1){h=r[p];t._$attached&&e.checkAndCallAttached(h),e.checkChildObservers(t,"add",h)}},e.insertChildPlaceholderReplace=function(t,r,n){var i,a,o,s,l,c;if(n&&t.ownerShadowRoot!==n.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(n.parentNode)throw new Error("Cannot replace with the node which already has a parent.");var u=t.childNodes[r];if(!(u instanceof e))throw new Error("Cannot replace on text nodes.");if(u!==n){null;var d=u.childNodes;0;for(var p=0;p<d.length;p+=1){var h=d[p];e.insertChildComposed(u,null,h,!0,p),h.parentNode=n,h instanceof e&&(null===(a=u._$mutationObserverTarget)||void 0===a||a.detachChild(h),null===(o=t._$mutationObserverTarget)||void 0===o||o.attachChild(h))}e.insertChildComposed(t,n,u,!0,r);for(p=0;p<d.length;p+=1){h=d[p];e.insertChildComposed(n,h,void 0,!1,p)}if(null===(s=t._$mutationObserverTarget)||void 0===s||s.detachChild(u),u.parentNode=null,n.parentNode=t,null===(l=t._$mutationObserverTarget)||void 0===l||l.attachChild(n),t.childNodes[r]=n,(i=n.childNodes).push.apply(i,u.childNodes),u.childNodes=[],null===(c=t.ownerShadowRoot)||void 0===c||c._$markIdCacheDirty(),t._$attached){e.checkAndCallDetached(u),e.checkChildObservers(t,"remove",u),e.checkAndCallAttached(n),e.checkChildObservers(t,"add",n);for(p=0;p<d.length;p+=1){h=d[p];e.checkAndCallMoved(h),e.checkChildObservers(t,"move",h)}}}},e.prototype.appendChild=function(t){e.insertChildSingleOperation(this,t,this.childNodes.length,!1)},e.prototype.insertChildAt=function(t,r){e.insertChildSingleOperation(this,t,r,!1)},e.prototype.insertBefore=function(t,r){var n=this.childNodes.indexOf(r);e.insertChildSingleOperation(this,t,n,!1)},e.prototype.removeChildAt=function(t){e.insertChildSingleOperation(this,null,t,!0)},e.prototype.removeChild=function(t){var r=this.childNodes.indexOf(t);e.insertChildSingleOperation(this,null,r,!0)},e.prototype.replaceChildAt=function(t,r){e.insertChildSingleOperation(this,t,r,!0)},e.prototype.replaceChild=function(t,r){var n=this.childNodes.indexOf(r);e.insertChildSingleOperation(this,t,n,!0)},e.prototype.insertChildren=function(t,r){e.insertChildBatchInsertion(this,t,r)},e.prototype.removeChildren=function(t,r){e.insertChildBatchRemoval(this,t,r)},e.prototype.selfReplaceWith=function(t){var r=this.parentNode;r&&e.insertChildPlaceholderReplace(r,r.childNodes.indexOf(this),t)},e._$generateIdMap=function(t){var r=Object.create(null);return function t(n){if(n instanceof e){var i=n._$nodeId;i&&(r[i]||(r[i]=n)),n.childNodes.forEach(t)}}(t),r},e.prototype.triggerEvent=function(e,t,r){Y.triggerEvent(this,e,t,r)},e.prototype.dispatchEvent=function(e){Y.dispatchEvent(this,e)},e.prototype._$updateEventDefaultPrevented=function(e,t){this._$backendElement&&this._$backendElement.setEventDefaultPrevented(e,ae?!t:t)},e.prototype.addListener=function(e,t,r){var n=this._$eventTarget.addListener(e,t,r);2===n?this._$updateEventDefaultPrevented(e,!1):3===n&&this._$updateEventDefaultPrevented(e,!0),this instanceof we&&this._$definition._$options.listenerChangeLifetimes&&this.triggerLifetime("listenerChange",[!0,e,t,r])},e.prototype.removeListener=function(e,t,r){var n=this._$eventTarget.removeListener(e,t,r);1!==n&&(0!==n&&this._$updateEventDefaultPrevented(e,!1),this instanceof we&&this._$definition._$options.listenerChangeLifetimes&&this.triggerLifetime("listenerChange",[!1,e,t,r]))},e.prototype.getAttribute=function(e){return this._$nodeAttributes?this._$nodeAttributes[e]:null},e.prototype.updateAttribute=function(e,t){void 0===t?this.removeAttribute(e):this.setAttribute(e,t)},e.prototype.setAttribute=function(e,t){var r;this._$nodeAttributes?r=this._$nodeAttributes:(r=Object.create(null),this._$nodeAttributes=r),r[e]=t,this._$backendElement&&this._$backendElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this._$nodeAttributes&&delete this._$nodeAttributes[e],this._$backendElement&&this._$backendElement.removeAttribute(e)},e.prototype.setMark=function(e,t){if(this._$marks)this._$marks[e]=t;else{var r={};r[e]=t,this._$marks=r}},e.prototype.collectMarks=function(){var e,t={},r=function(){var r=e._$marks;r&&Object.keys(r).forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)||(t[e]=r[e])}))};for(e=this;e;e=e.parentNode)r();return t},e.replaceDocumentElement=function(t,r,n){if(t._$attached)throw new Error("An attached element cannot be attached again");t._$backendElement&&r.replaceChild(t._$backendElement,n),e.checkAndCallAttached(t)},e.pretendAttached=function(t){t._$attached||e.checkAndCallAttached(t)},e.pretendDetached=function(t){t._$attached&&e.checkAndCallDetached(t)},e.isAttached=function(e){return e._$attached},e.setSlotName=function(t,r){if(t._$inheritSlots)throw new Error("Slot-inherit mode is not usable in slot element");if(t._$inheritSlots)throw new Error("Component cannot be used as slot element");var n=r?String(r):"";if(t._$slotName!==n){var i=null===t._$slotName;t._$slotName=n;var a=t.ownerShadowRoot;a&&(i&&a.isDynamicSlots()&&(t._$slotValues=Object.create(null)),e.updateSlotCount(t,i?1:0),a._$checkSlotChanges())}},e.getSlotName=function(e){var t=e._$slotName;return null===t?void 0:t},e.setInheritSlots=function(e){if(null!==e._$slotName||0!==e.childNodes.length)throw new Error("Slot-inherit mode cannot be set when the element has any child node");e._$inheritSlots=!0},e.getInheritSlots=function(e){return e._$inheritSlots},e.setSlotElement=function(t,r){var n=t._$nodeSlotElement;if(n!==r){t._$nodeSlotElement=r,t instanceof e&&(t._$nodeSlot=r._$slotName||"");for(var i=t.parentNode,a=i;null==a?void 0:a._$inheritSlots;)a=a.parentNode;a instanceof we&&!a._$external&&e.insertChildReassignComposed(i,t,n,r,i.childNodes.indexOf(t)+1)}},e.getSlotElement=function(e){if(e._$nodeSlotElement)return e._$nodeSlotElement;for(var t=e.parentNode;null==t?void 0:t._$inheritSlots;)t=t.parentNode;return t instanceof we&&!t._$external?t.shadowRoot.getContainingSlot(e):void 0},e.prototype.getComposedParent=function(){if(this instanceof Tt)return this.getHostNode();for(var e=this.parentNode;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e instanceof we&&!e._$external?e.shadowRoot.getContainingSlot(this):e},e.prototype.getComposedChildren=function(){var e=[];return this.forEachComposedChild((function(t){e.push(t)})),e},e.prototype.forEachComposedChild=function(t){if(this._$inheritSlots)return!0;if(this instanceof we&&!this._$external)return!1!==t(this.shadowRoot);if(null!==this._$slotName){var r=!0;return this.ownerShadowRoot&&this.ownerShadowRoot.forEachNodeInSpecifiedSlot(this,(function(e){return!1===t(e)&&(r=!1),r})),r}var n=function(r){for(var i=0;i<r.length;i+=1){var a=r[i];if(!1===t(a))return!1;if(a instanceof e&&a._$inheritSlots&&!n(a.childNodes))return!1}return!0};return!!n(this.childNodes)},e.parseSelector=function(e){return new te(e)},e.prototype.querySelector=function(e){return(e instanceof te?e:new te(e)).query(this,!0)},e.prototype.querySelectorAll=function(e){return(e instanceof te?e:new te(e)).query(this,!1)},e.matchSelector=function(e,t){return(e instanceof te?e:new te(e)).testSelector(null,t)},e.prototype.matchSelector=function(e,t){return(e instanceof te?e:new te(e)).testSelector(this,t)},e.prototype.getBoundingClientRect=function(e){var t=this._$backendElement;t?t.getBoundingClientRect(e):setTimeout((function(){e({left:0,top:0,width:0,height:0})}),0)},e.prototype.getScrollOffset=function(e){var t=this._$backendElement;t?t.getScrollOffset(e):setTimeout((function(){e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)},e.prototype.createIntersectionObserver=function(e,t,r,n){var i=this._$backendElement;return i?e&&!e._$backendElement?null:i.createIntersectionObserver((null==e?void 0:e._$backendElement)||null,t,r,n):null},e}(),le=Symbol("method"),ce=(ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ne(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ue=function(e){function t(){throw new Error("Element cannot be constructed directly")}return ce(t,e),t.prototype._$initializeVirtual=function(e,t,r){this.is=String(e);t&&this._$initialize(!0,null,t)},t.create=function(e,r){var n=Object.create(t.prototype);return n._$initializeVirtual(e,r,r._$nodeTreeContext),n},t}(se),de=function(){function e(e,t){this.ownerSpace=e,this._$trans=t}return e.prototype._$implement=function(e){var t;return(null===(t=this._$trans)||void 0===t?void 0:t.call(this,e))||e},e}(),pe=function(){function e(){this._$traits=new WeakMap}return e.prototype.implement=function(e,t){var r=e._$implement(t);this._$traits.set(e,r)},e.prototype.get=function(e){return this._$traits.get(e)},e}();!function(e){e[e.Ancestor=0]="Ancestor",e[e.Descendant=1]="Descendant",e[e.ParentNonVirtualNode=2]="ParentNonVirtualNode",e[e.ChildNonVirtualNode=3]="ChildNonVirtualNode",e[e.ParentComponent=4]="ParentComponent",e[e.ChildComponent=5]="ChildComponent"}(ie||(ie={}));var he,fe=function(){function e(e,t){this._$comp=e;var r=new Array(6);if(t)for(var n=0;n<6;n+=1){var i=t.definitions[n];if(i){for(var a=new Array(i.length),o=0;o<i.length;o+=1)a[o]=null;r[n]=a}}this._$group=t,this._$sharedGroup=!0,this._$links=r}return e.prototype.add=function(e){if(this._$sharedGroup){this._$sharedGroup=!1;var t=this._$group;this._$group=t?{definitions:t.definitions.slice(),keyMap:Object.assign(Object.create(null),t.keyMap)}:{definitions:new Array(6),keyMap:Object.create(null)}}var r=Symbol(""),n=this._$group.definitions,i=this._$group.keyMap,a=e.type;n[a]?(i[r]=[a,n[a].length],n[a].push(e)):(i[r]=[a,0],n[a]=[e]);var o=this._$links;return void 0===o[a]?o[a]=[null]:o[a].push(null),r},e.prototype.triggerLinkEvent=function(e,t){var r,n,i=this._$comp,a=this._$links,o=null===(r=this._$group)||void 0===r?void 0:r.definitions[e];if(o)for(var s=0;s<o.length;s+=1){var l=a[e],c=l[s],u=null,d=o[s],p=void 0;if(d.target instanceof xe||d.target instanceof de)p=d.target;else p=(b=i.getRootBehavior().ownerSpace)&&b._$getBehavior(d.target,d.domain)||null;if(p){var h=p;if(!t)for(var f=i;;){var g=f.parentNode;if(!g)break;if(!((f=g)instanceof ue)){if(f instanceof we){if(f.hasBehavior(h)){var v=f._$relation;if(v){var m=void 0;m=4===e?5:0===e?1:3;var y=null===(n=v._$group)||void 0===n?void 0:n.definitions[m];if(y){for(var _=0;_<y.length;_+=1){var b,w=y[_],S=void 0;if(w.target instanceof xe||w.target instanceof de)S=w.target;else S=(b=f.getRootBehavior().ownerSpace)&&b._$getBehavior(w.target,w.domain)||null;if(S&&this._$comp.hasBehavior(S)){u={target:f,def:w};break}}if(u)break}}}if(4===e)break}if(2===e)break}}}if(l[s]=u,c){var C=c.target,I=c.def;u&&c.target===u.target&&c.def===u.def?(I.linkChanged&&gt("Relation Link Changed Callback",I.linkChanged,C.getMethodCaller(),[i.getMethodCaller()],C),d.linkChanged&&gt("Relation Link Changed Callback",d.linkChanged,i.getMethodCaller(),[C.getMethodCaller()],i)):(I.unlinked&&gt("Relation Unlinked Callback",I.unlinked,C.getMethodCaller(),[i.getMethodCaller()],C),d.unlinked&&gt("Relation Unlinked Callback",d.unlinked,i.getMethodCaller(),[C.getMethodCaller()],i))}if(u){var A=u.target,k=u.def;c&&c.target===u.target&&c.def===u.def||(k.linked&&gt("Relation Linked Callback",k.linked,A.getMethodCaller(),[i.getMethodCaller()],A),d.linked&&gt("Relation Linked Callback",d.linked,i.getMethodCaller(),[A.getMethodCaller()],i))}t||u||!d.linkFailed||gt("Relation Link Failed Callback",d.linkFailed,i.getMethodCaller(),[],i)}},e.prototype.getLinkedTargets=function(e){var t,r,n,i,a=null===(t=this._$group)||void 0===t?void 0:t.keyMap[e];if(!a)return ut('no relation "'.concat(String(e),'" found.')),[];var o=a[0],s=a[1];if(4===o||2===o||0===o){var l=null===(r=this._$links[o])||void 0===r?void 0:r[s];return l?[l.target]:[]}var c=[],u=this._$comp,d=null===(i=null===(n=this._$group)||void 0===n?void 0:n.definitions[o])||void 0===i?void 0:i[s],p=function(e){for(var t=e.childNodes,r=0;r<t.length;r+=1){var n=t[r];if(n instanceof se)if(n instanceof ue)p(n);else if(n instanceof we){if(n._$relation){var i=void 0;if(i=5===o?n._$relation._$links[4]:1===o?n._$relation._$links[0]:n._$relation._$links[2])for(var a=0;a<i.length;a+=1){var s=i[a];if(s&&s.target===u&&s.def===d){c.push(n);break}}}1===o&&p(n)}else 5!==o&&1!==o||p(n)}};return p(this._$comp),c},e}(),ge=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ve=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},me=function(e,t,r,n){var i=t.ownerSpace,a=null==r?void 0:r._$behavior._$using,o=null==r?void 0:r._$genericImpls;e._$detail||e.prepare();var s,l=e.behavior,c=l._$generics;if(c){var u=l._$genericDefaults;s=Object.create(null);for(var d=0;d<c.length;d+=1){var p=c[d];if(n&&Object.prototype.hasOwnProperty.call(n,p)){var h=n[p];if("string"==typeof h)if(null==a?void 0:a[h])s[p]=a[h];else if(o&&o[h])s[p]=o[h];else{var f=i.getGlobalUsingComponent(h);if("string"==typeof f)s[p]=f;else if(f)s[p]={final:f,source:t,placeholder:null,waiting:null};else{if(ut('Generic "'.concat(p,'" value "').concat(h,'" is not valid (on component "').concat(e.is,'").')),!(g=i.getDefaultComponent()))throw new Error('Cannot find default component for generic "'.concat(p,'" (on component "').concat(e.is,'")'));s[p]={final:g,source:t,placeholder:null,waiting:null}}}else s[p]=h}else{var g;if(!(g=u[p]||i.getDefaultComponent()))throw new Error('Cannot find default component for generic "'.concat(p,'" (on component "').concat(e.is,'")'));s[p]="string"==typeof g?g:{final:g,source:t,placeholder:null,waiting:null}}}}else s=null;return s},ye=function(e,t,r,n){var i,a=r._$using[e]||n&&n[e],o=null;if(a&&("string"==typeof a?o=a:null===a.placeholder?o=a.final:ut('Placeholder on generic implementation is not valid (on component "'.concat(r.is,'")'))),o)return o;var s=null!==(i=t.getGlobalUsingComponent(e))&&void 0!==i?i:t.getDefaultComponent();if(!s)throw new Error('Cannot find default component for placeholder target "'.concat(e,'" (on component "').concat(r.is,'")'));return s},_e=function(){function e(e){this.behavior=e,this.is=this.behavior.is,this._$detail=null,this._$options=lt(e._$options,e.ownerSpace.getComponentOptions());var t=this._$options.templateEngine;this._$templateEngine=t}return e.prototype.general=function(){return this},e.prototype.getComponentOptions=function(){return this._$options},e.prototype.getComponentDependencies=function(){return this.behavior.getComponentDependencies()},e.prototype.isPrepared=function(){return!!this._$detail},e.prototype.prepare=function(){if(!this._$detail){this.behavior.prepare();var e=this.behavior,t=this._$options,r={};if(t.writeFieldsToNode){for(var n=Object.keys(e._$propertyMap),i=function(e){var t=n[e];r[t]={enumerable:!0,get:function(){return this._$dataGroup.data[t]},set:function(e){var r=this._$dataGroup;r.replaceDataOnPath([t],e),r.applyDataUpdates()}}},a=0;a<n.length;a+=1)i(a);var o=Object.keys(e._$methodMap);for(a=0;a<o.length;a+=1){var s=o[a];r[s]={enumerable:!0,value:e._$methodMap[s]}}}var l=function(){};r.constructor={value:l,writable:!0};var c=l.prototype=Object.create(we.prototype,r);c._$behavior=e,c._$definition=this,c._$methodMap=e._$methodMap;var u=e._$generateObserverTree();c._$lifetimeFuncs=e._$getAllLifetimeFuncs(),c._$pageLifetimeFuncs=e._$getAllPageLifetimeFuncs();var d=function(e){if(void 0===e)return null;for(var t={definitions:new Array(6),keyMap:Object.create(null)},r=t.definitions,n=t.keyMap,i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a],s=e[o],l=s.type;r[l]?(n[o]=[l,r[l].length],r[l].push(s)):(n[o]=[l,0],r[l]=[s])}return t}(e._$relationMap),p=q(t.dataDeepCopy),h=q(t.propertyPassingDeepCopy),f=this._$templateEngine.create(e,t);this._$detail={proto:c,template:f,dataGroupObserverTree:u,dataDeepCopy:p,propertyPassingDeepCopy:h,relationDefinitionGroup:d}}},e}(),be=1,we=function(e){function t(){throw new Error("Element cannot be constructed directly")}return ge(t,e),t.prototype.general=function(){return this},t.prototype.asInstanceOf=function(e){return this._$behavior!==e.behavior?null:this},t.register=function(e,t){return(t||it()).defineComponent(e)},t._$tagMethod=function(e){var t=e;return t[le]=!0,t},t._$isTaggedMethod=function(e){return"function"==typeof e&&!!e[le]},t._$advancedCreate=function(e,r,n,i,a,o,s){var l,c,u,d;r._$detail||r.prepare();var p,h=r._$detail,f=h.proto,g=h.template,v=h.dataDeepCopy,m=h.propertyPassingDeepCopy,y=h.relationDefinitionGroup,_=r._$detail.dataGroupObserverTree,b=r._$options,w=r.behavior,S=n?n._$nodeTreeContext:i||st.backendContext||ot(),C=b.externalComponent,A=b.propertyEarlyInit,k=st.writeExtraInfoToAttr,E=Object.create(f);if(E._$genericImpls=a,E._$placeholderHandler=o,E._$external=C,E.tagName=e,E._$methodCaller=E,b.virtualHost)p=null,E._$initialize(!0,null,n,S);else if(n){p=n._$nodeTreeContext.createElement(b.hostNodeTagName,e),E._$initialize(!1,p,n,S)}else{p=S.createElement(b.hostNodeTagName,e)||null,E._$initialize(!1,p,n,S)}var T={};if(w._$externalClasses)for(var P=w._$externalClasses,x=0;x<P.length;x+=1)T[P[x]]=null;if(E.classList=new I(E,T),p){var R=n?n.getHostNode()._$definition._$options.styleScope:b.styleScope;if(R&&p.setStyleScope(R),n&&k){var M=null===(l=n.getHostNode()._$behavior.ownerSpace)||void 0===l?void 0:l.styleScopeManager.queryName(R);M&&p.setAttribute("exparser:info-class-prefix","".concat(M,"--"))}}if(p&&(null===(u=(c=p).associateValue)||void 0===u||u.call(c,E)),k&&p){var N=be;be+=1,E._$componentInstanceId=N,p.setAttribute("exparser:info-component-id",N)}E._$idPrefix=b.idPrefixGenerator?b.idPrefixGenerator.call(E):"";var L,B=w._$staticData,$=w._$data;if(void 0===B)if(1===$.length){L=(F=$[0])()}else{L={};for(x=0;x<$.length;x+=1){var F=$[x];Object.assign(L,F())}}else{L=D(B);for(x=0;x<$.length;x+=1){F=$[x];Object.assign(L,F())}}var j=E._$relation=new fe(E,y);E._$traitGroup=new pe;var W=w._$traitBehaviors;if(void 0!==W)for(x=0;x<W.length;x+=1){var U=W[x],V=U.traitBehavior,q=U.impl;E._$traitGroup.implement(V,q)}if(w._$methodCallerInit){var G=w._$methodCallerInit.call(E);E._$methodCaller=G}var H=!1;if(w._$init.length>0){var K=!0,Q=!0,J=!0,X=!0,Y={self:G=E.getMethodCaller(),data:L,setData:E.setData.bind(E),implement:function(e,t){if(H)throw new Error("Cannot execute init-time functions after initialization");E._$traitGroup.implement(e,t)},relation:function(e){if(H)throw new Error("Cannot execute init-time functions after initialization");var t,r=e.target,n=Te(w.is,"undefined",e);return t=n?j.add(n):Symbol("invalid"),{list:function(){return j.getLinkedTargets(t).map((function(e){return e.getMethodCaller()}))},listAsTrait:r instanceof de?function(){return j.getLinkedTargets(t).map((function(e){return e.traitBehavior(r)}))}:void 0}},observer:function(e,t){if(H)throw new Error("Cannot execute init-time functions after initialization");K&&(K=!1,_=_.cloneSub()),_.addObserver(t,O(e))},lifetime:function(e,t){if(H)throw new Error("Cannot execute init-time functions after initialization");Q&&(Q=!1,E._$lifetimeFuncs=w._$getAllLifetimeFuncs());var r=E._$lifetimeFuncs;r[e]?r[e].add(t):(r[e]=new ct).add(t)},pageLifetime:function(e,t){if(H)throw new Error("Cannot execute init-time functions after initialization");J&&(J=!1,E._$pageLifetimeFuncs=w._$getAllPageLifetimeFuncs());var r=E._$pageLifetimeFuncs;r[e]?r[e].add(t):(r[e]=new ct).add(t)},method:function(e){return t._$tagMethod(e)},listener:function(e){return t._$tagMethod(e)}},Z=w._$init;for(x=0;x<Z.length;x+=1){var ee=Z[x],te=gt("Component Init",ee,G,[Y],void 0);if(te)for(var re=Object.keys(te),ne=0;ne<re.length;ne+=1){var ie=re[ne],ae=te[ie];t._$isTaggedMethod(ae)&&(X&&(X=!1,E._$methodMap=Object.create(E._$methodMap)),E._$methodMap[ie]=ae,b.writeFieldsToNode&&(E[ie]=ae))}}}H=!0;var oe=g.createInstance(E),se=oe.shadowRoot;E.shadowRoot=se;var le=new z(E,L,b.pureDataPattern||null,v,m,b.reflectToAttributes,_);E._$dataGroup=le,A&&void 0!==s&&s(E),oe.initValues(le.innerData||le.data),le.setUpdateListener(oe.updateValues.bind(oe));var ce=w._$listeners;if(void 0!==ce){var ue=function(e){var t=ce[e],r=t.id,n=t.ev,i=t.listener;if("this"===r)E.addListener(n,(function(e){return i.call(E._$methodCaller,e)}));else if(C){o=se;(a=r?o.getIdMap()[r]:o.root)&&o.setListener(a,n,(function(e){return i.call(E._$methodCaller,e)}))}else{var a,o=se;(a=r?o.getElementById(r):o)&&a.addListener(n,(function(e){return i.call(E._$methodCaller,e)}))}};for(x=0;x<ce.length;x+=1)ue(x)}return null===(d=E._$lifetimeFuncs.created)||void 0===d||d.call(E._$methodCaller,[],E),A||void 0===s||s(E),E},t.createWithGenericsAndContext=function(e,r,n,i,a){var o=function(e){var t;return n&&(t=Object.create(null),Object.entries(n).forEach((function(r){var n=r[0],i=r[1];t[n]={final:i,source:e.behavior,placeholder:null,waiting:null}}))),me(e,e.behavior,void 0,t)};if(r)return t._$advancedCreate(String(e),r,null,i,o(r),void 0,a);if(e instanceof _e)return t._$advancedCreate(e.is,e,null,i,o(e),void 0);var s=it().getComponentByUrl(e,"");return t._$advancedCreate(e,s,null,i,o(s),void 0)},t.createWithGenerics=function(e,r,n,i){return t.createWithGenericsAndContext(e,r,n,null,i)},t.createWithContext=function(e,r,n,i){return t.createWithGenericsAndContext(e,r,null,n,i)},t.create=function(e,r,n){return t.createWithGenericsAndContext(e,r,null,null,n)},Object.defineProperty(t.prototype,"is",{get:function(){return this._$definition.is},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this._$dataGroup.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._$dataGroup.data},set:function(e){var t=this._$dataGroup;Object.entries(e).forEach((function(e){var r=e[0],n=e[1];return t.replaceDataOnPath([r],n)})),t.applyDataUpdates()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this._$external?this.shadowRoot.getIdMap():this.shadowRoot._$getIdMap()},enumerable:!1,configurable:!0}),t.prototype.getShadowRoot=function(){return this._$external?null:this.shadowRoot},t.listProperties=function(e){return Object.keys(e._$behavior._$propertyMap)},t.hasProperty=function(e,t){return!!e._$behavior._$propertyMap[t]},t.getMethodsFromDef=function(e){return e.behavior._$methodMap},t.getMethod=function(e,t){if(e._$definition._$options.useMethodCallerListeners){var r=e._$methodCaller[t];return"function"==typeof r?r:void 0}return e._$methodMap[t]},t.prototype.callMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=t.getMethod(this,e);return null==i?void 0:i.call.apply(i,ve([this],r,!1))},t.prototype.getComponentDefinition=function(){return this._$definition},t.prototype.getComponentOptions=function(){return this._$definition._$options},t.prototype.hasBehavior=function(e){return e instanceof de?void 0!==this._$traitGroup.get(e):this._$behavior.hasBehavior(e)},t.prototype.getRootBehavior=function(){return this._$behavior},t.prototype.traitBehavior=function(e){return this._$traitGroup.get(e)},t.prototype.setMethodCaller=function(e){this._$methodCaller=e},t.prototype.getMethodCaller=function(){return this._$methodCaller},t.prototype.triggerLifetime=function(e,t){var r=this._$lifetimeFuncs[e];r&&r.call(this._$methodCaller,t)},t.prototype.triggerLifeTime=function(e,t){return this.triggerLifetime(e,t)},t.prototype.triggerPageLifetime=function(e,r){var n=function(i){if(i instanceof t){if(i._$pageLifetimeFuncs){var a=i._$pageLifetimeFuncs[e];a&&a.call(i._$methodCaller,r)}i._$external||n(i.shadowRoot)}for(var o=i.childNodes,s=0;s<o.length;s+=1){var l=o[s];l instanceof se&&n(l)}};n(this)},t.prototype.triggerPageLifeTime=function(e,t){return this.triggerPageLifetime(e,t)},t.prototype.getRelationNodes=function(e){var t;return(null===(t=this._$relation)||void 0===t?void 0:t.getLinkedTargets(e))||[]},t.prototype.hasExternalClass=function(e){return this.classList._$hasAlias(e)},t.prototype.setExternalClass=function(e,t){var r=this.classList;r._$setAlias(e,t),r._$spreadAliasUpdate()},t.prototype.scheduleExternalClassChange=function(e,t){this.classList._$setAlias(e,t)},t.prototype.applyExternalClassChanges=function(){this.classList._$spreadAliasUpdate()},t.prototype.triggerWorkletChangeLifetime=function(e,t){this.triggerLifetime("workletChange",[e,t])},t.prototype.isInnerDataExcluded=function(e){var t;return(null===(t=this._$definition._$options.pureDataPattern)||void 0===t?void 0:t.test(e))||!1},t.getInnerData=function(e){return e._$dataGroup.innerData},t.getDataProxy=function(e){return e._$dataGroup},t.replaceWholeData=function(e,t){e._$dataGroup.replaceWholeData(t)},t.prototype.replaceDataOnPath=function(e,t){var r=this._$dataGroup;if(void 0===r)throw new Error("Cannot update data before component created");r.replaceDataOnPath(e,t)},t.prototype.spliceArrayDataOnPath=function(e,t,r,n){var i=this._$dataGroup;if(void 0===i)throw new Error("Cannot update data before component created");i.spliceArrayDataOnPath(e,t,r,n)},t.prototype.hasPendingChanges=function(){var e=this._$dataGroup;return void 0!==e&&e.getChanges().length>0},t.prototype.applyDataUpdates=function(){var e=this._$dataGroup;if(void 0===e)throw new Error("Cannot update data before component created");e.applyDataUpdates()},t.prototype.groupUpdates=function(e){var t=this._$dataGroup;if(void 0===t)throw new Error("Cannot update data before component created");var r=e();return t.applyDataUpdates(),r},t.prototype.updateData=function(e){var t=this._$dataGroup;if(void 0===t)throw new Error("Cannot update data before component created");for(var r=Object.keys(e),n=0;n<r.length;n+=1){var i=r[n],a=x(i);a&&t.replaceDataOnPath(a,e[i])}},t.prototype.setData=function(e){var t=this._$dataGroup;if(void 0===t)throw new Error("Cannot update data before component created");for(var r=Object.keys(e),n=0;n<r.length;n+=1){var i=r[n],a=x(i);a&&t.replaceDataOnPath(a,e[i])}t.applyDataUpdates()},t}(se),Se=function(){return Se=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Se.apply(this,arguments)};!function(e){e.Invalid="invalid",e.Any="any",e.String="string",e.Number="number",e.Boolean="boolean",e.Object="object",e.Array="array",e.Function="function"}(he||(he={}));var Ce,Ie=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n+=1){var i=r[n];if(Object.prototype.hasOwnProperty.call(e,i))if("_"===i[0]&&ut('data field "'.concat(i,'" from different behaviors is overriding or merging.')),"object"!=typeof e[i]||"object"!=typeof t[i]||null===t[i]||Array.isArray(t[i]))e[i]=t[i];else{if(Array.isArray(e[i]))e[i]=e[i].slice();else{for(var a=e[i],o={},s=Object.keys(a),l=0;l<s.length;l+=1){var c=s[l];o[c]=a[c]}e[i]=o}Ie(e[i],t[i])}else e[i]=t[i]}},Ae=function(e){return"string"===e||e===String?"string":"number"===e||e===Number?"number":"boolean"===e||e===Boolean?"boolean":"object"===e||e===Object?"object":"array"===e||e===Array?"array":"function"===e||e===a?"function":"any"===e||null==e?"any":"invalid"},ke=function(e,t,r){var n=r.type,i=r.default,a=r.optionalTypes;if(a)for(var o=0;o<a.length;o+=1)if(Ee(a[o],e))return e;return"string"===n?null==e?(ut('property "'.concat(t,'" received type-incompatible value: expected <String> but get null value. Used default value instead.')),void 0===i?"":i()):("object"==typeof e&&ut('property "'.concat(t,'" received type-incompatible value: expected <String> but got object-typed value. Force converted.')),String(e)):"number"===n?isFinite(e)?Number(e):(ut('property "'.concat(t,"number"==typeof e?'" received type-incompatible value: expected <Number> but got NaN or Infinity. Used default value instead.':'" received type-incompatible value: expected <Number> but got non-number value. Used default value instead.')),void 0===i?0:i()):"boolean"===n?!!e:"array"===n?Array.isArray(e)?e:(ut('property "'.concat(t,'" received type-incompatible value: expected <Array> but got non-array value. Used default value instead.')),void 0===i?[]:i()):"object"===n?"object"==typeof e?e:(ut('property "'.concat(t,'" received type-incompatible value: expected <Object> but got non-object value. Used default value instead.')),void 0===i?null:i()):"function"===n?"function"==typeof e?e:(ut('property "'.concat(t,'" received type-incompatible value: expected <Function> but got non-function value. Used default value instead.')),void 0===i?function(){}:i()):void 0===e?void 0===i?null:i():e},Ee=function(e,t){if("string"===e){if("string"!=typeof t)return!1}else if("number"===e){if(!Number.isFinite(t))return!1}else if("boolean"===e){if("boolean"!=typeof t)return!1}else if("object"===e){if("object"!=typeof t||Array.isArray(t))return!1}else if("array"===e){if("object"!=typeof t||!Array.isArray(t))return!1}else if("function"===e){if("function"!=typeof t)return!1}else if(void 0===t)return!1;return!0},Te=function(e,t,r){var n,i,a=function(r){return"function"==typeof r?r:(void 0!==r&&ut('the "'.concat(t,'" relation listener is not a function (when preparing behavior "').concat(e,'").')),null)};if("parent"===r.type)n=4;else if("child"===r.type)n=5;else if("parent-common-node"===r.type)n=2;else if("child-common-node"===r.type)n=3;else if("ancestor"===r.type)n=0;else{if("descendant"!==r.type){var o=r.type;return ut('the "'.concat(t,'" relation has an invalid relation type "').concat(o,'" (when preparing behavior "').concat(e,'").')),null}n=1}var s=null;if(r.target instanceof _e)i=r.target.behavior;else if(r.target instanceof xe||r.target instanceof de)i=r.target;else{var l=Re(r.target||t,e),c=l.domain;i=l.absPath,s=c}return i?{target:i,domain:s,type:n,linked:a(r.linked),linkChanged:a(r.linkChanged),unlinked:a(r.unlinked),linkFailed:a(r.linkFailed)}:(ut('the target of relation "'.concat(t,'" is not a valid behavior or component (when preparing behavior "').concat(e,'").')),null)},Pe=function(){function e(e,t){this._$behaviors=[],this._$traitBehaviors=[],this._$staticData=void 0,this._$data=[],this._$methods=[],this._$lifetimes=[],this._$pageLifetimes=[],this._$init=[],this._$is=e,this._$ownerSpace=t}return e.prototype.methodCallerInit=function(e){return this._$methodCallerInit=e,this},e.prototype.behavior=function(e){return this._$behaviors.push(e),e._$chainingFilter?e._$chainingFilter(this):this},e.prototype.chainingFilter=function(e){return this._$chainingFilter=e,this},e.prototype.options=function(e){var t=this._$options;return this._$options=t?Se(Se({},t),e):e,this},e.prototype.implement=function(e,t){return this._$traitBehaviors.push({traitBehavior:e,impl:t}),this},e.prototype.template=function(e){return this._$template=e,this},e.prototype.usingComponents=function(e){return this._$using?this._$using=Se(Se({},this._$using),e):this._$using=e,this},e.prototype.placeholders=function(e){return this._$placeholders?this._$placeholders=Se(Se({},this._$placeholders),e):this._$placeholders=e,this},e.prototype.generics=function(e){return this._$generics?this._$generics=Se(Se({},this._$generics),e):this._$generics=e,this},e.prototype.externalClasses=function(e){return this._$externalClasses?this._$externalClasses=this._$externalClasses.concat(e):this._$externalClasses=e,this},e.prototype.data=function(e){return this._$data.push(e),this},e.prototype.staticData=function(e){return this._$staticData=e,this},e.prototype.property=function(e,t){return this._$properties||(this._$properties=[]),this._$properties.push({name:e,def:t}),this},e.prototype.methods=function(e){for(var t=Object.keys(e),r=0;r<t.length;r+=1){var n=t[r],i=e[n];this._$methods.push({name:n,func:i})}return this},e.prototype.observer=function(e,t,r){return void 0===r&&(r=!1),this._$observers||(this._$observers=[]),this._$observers.push({dataPaths:O(e),func:t,once:r}),this},e.prototype.lifetime=function(e,t,r){return void 0===r&&(r=!1),this._$lifetimes.push({name:e,func:t,once:r}),this},e.prototype.pageLifetime=function(e,t,r){return void 0===r&&(r=!1),this._$pageLifetimes||(this._$pageLifetimes=[]),this._$pageLifetimes.push({name:e,func:t,once:r}),this},e.prototype.relation=function(e,t){return this._$relations||(this._$relations=[]),this._$relations.push({name:e,rel:t}),this},e.prototype.init=function(e){return this._$init.push(e),this},e.prototype.definition=function(e){var t;e.behaviors&&(t=this._$behaviors).push.apply(t,e.behaviors),e.options&&this.options(e.options),e.template&&this.template(e.template),e.using&&this.usingComponents(e.using),e.placeholders&&this.placeholders(e.placeholders),e.generics&&this.generics(e.generics),e.externalClasses&&this.externalClasses(e.externalClasses);var r=e.data;void 0!==r&&("function"==typeof r?this._$data.push(r):this._$staticData=r);var n=e.properties;if(void 0!==n){this._$properties||(this._$properties=[]);for(var i=Object.keys(n),a=0;a<i.length;a+=1){var o=i[a],s=n[o];this._$properties.push({name:o,def:s})}}var l=e.methods;if(void 0!==l)for(i=Object.keys(l),a=0;a<i.length;a+=1){var c=i[a],u=l[c];this._$methods.push({name:c,func:u})}var d=e.observers;if(void 0!==d)if(this._$observers||(this._$observers=[]),Array.isArray(d))for(a=0;a<d.length;a+=1){var p=d[a],h=p.fields,f=p.observer;this._$observers.push({dataPaths:O(null!=h?h:"**"),func:f,once:!1})}else for(i=Object.keys(d),a=0;a<i.length;a+=1){f=d[h=i[a]];this._$observers.push({dataPaths:O(h),func:f,once:!1})}var g=e.lifetimes;if(void 0===(null==g?void 0:g.created)&&"function"==typeof e.created&&this._$lifetimes.push({name:"created",func:e.created,once:!0}),void 0===(null==g?void 0:g.attached)&&"function"==typeof e.attached&&this._$lifetimes.push({name:"attached",func:e.attached,once:!0}),void 0===(null==g?void 0:g.moved)&&"function"==typeof e.moved&&this._$lifetimes.push({name:"moved",func:e.moved,once:!0}),void 0===(null==g?void 0:g.detached)&&"function"==typeof e.detached&&this._$lifetimes.push({name:"detached",func:e.detached,once:!0}),void 0===(null==g?void 0:g.ready)&&"function"==typeof e.ready&&this._$lifetimes.push({name:"ready",func:e.ready,once:!0}),g)for(i=Object.keys(g),a=0;a<i.length;a+=1){var v=i[a];u=g[v];this._$lifetimes.push({name:v,func:u,once:!0})}var m=e.pageLifetimes;if(m){this._$pageLifetimes||(this._$pageLifetimes=[]);for(i=Object.keys(m),a=0;a<i.length;a+=1){var y=i[a];u=m[y];this._$pageLifetimes.push({name:y,func:u,once:!0})}}this._$listeners=e.listeners;var _=e.relations;if(_){this._$relations||(this._$relations=[]);for(i=Object.keys(_),a=0;a<i.length;a+=1){var b=i[a],w=_[b];this._$relations.push({name:b,rel:w})}}return this},e.prototype.registerBehavior=function(){var e=this._$is,t=new xe(this);return void 0!==e&&this._$ownerSpace._$registerBehavior(e,t),t},e.prototype.registerComponent=function(){var e=this._$is,t=new xe(this),r=new _e(t);return void 0!==e&&this._$ownerSpace._$registerComponent(e,r),r},e}(),xe=function(){function e(e){this._$unprepared=!0,this.is=e._$is||"",this.ownerSpace=e._$ownerSpace,this._$builder=e,this._$flatAncestors=new Set,this._$chainingFilter=e._$chainingFilter,this._$options=e._$options,this._$traitBehaviors=void 0,this._$template=e._$template,this._$using=Object.create(null),this._$generics=void 0,this._$genericDefaults=void 0,this._$externalClasses=e._$externalClasses,this._$staticData=void 0,this._$data=[],this._$propertyMap=Object.create(null),this._$methodMap=Object.create(null),this._$observers=[],this._$lifetimes=[],this._$pageLifetimes=void 0,this._$listeners=void 0,this._$relationMap=void 0,this._$init=[],this._$methodCallerInit=e._$methodCallerInit}return e.create=function(e,t){return new Pe(e.is,t||it()).definition(e).registerBehavior()},e.prototype.general=function(){return this},e.prototype.getComponentDependencies=function(e){var t=new Set,r=function(e){e._$unprepared&&e.prepare();for(var n=Object.keys(e._$using),i=0;i<n.length;i+=1){var a=n[i],o=e._$using[a];if("string"!=typeof o){var s=o.final;s&&!t.has(s)&&(t.add(s),r(s.behavior))}}};if(r(this.general()),e)for(var n=Object.values(e),i=0;i<n.length;i+=1){var a=n[i];"string"!=typeof a&&(t.has(a)||(t.add(a),r(a.behavior)))}return t},e.prepare=function(e){e.prepare()},e.prototype.prepare=function(){var t,r,n,i,o,s,l,c,u,d;if(this._$unprepared){this._$unprepared=!1;var p=this.is,h=this.ownerSpace,f=this._$builder,g=this._$flatAncestors;if(Array.isArray(f._$behaviors))for(var v=0;v<f._$behaviors.length;v+=1){var m=f._$behaviors[v],y=null;if(m instanceof e)y=m;else{var _=String(m);h&&(y=h.getBehaviorByUrl(_,p)),y||ut('behavior "'.concat(_,'" is not found (when preparing behavior "').concat(p,'").'))}if(y){y._$unprepared&&e.prepare(y);var b=y._$traitBehaviors;void 0!==b&&(this._$traitBehaviors||(this._$traitBehaviors=[]),(t=this._$traitBehaviors).push.apply(t,b));var w=y._$staticData;w&&(this._$staticData||(this._$staticData={}),Ie(this._$staticData,w)),Object.assign(this._$methodMap,y._$methodMap),Object.assign(this._$propertyMap,y._$propertyMap),(r=this._$data).push.apply(r,y._$data);for(var S=y._$observers,C=0;C<S.length;C+=1){(T=S[C]).once&&this._$observers.indexOf(T)>=0||this._$observers.push(T)}for(var I=y._$lifetimes,A=0;A<I.length;A+=1){(T=I[A]).once&&this._$lifetimes.indexOf(T)>=0||this._$lifetimes.push(T)}var k=y._$pageLifetimes;if(void 0!==k)if(this._$pageLifetimes)for(var E=0;E<k.length;E+=1){var T;(T=k[E]).once&&this._$pageLifetimes.indexOf(T)>=0||this._$pageLifetimes.push(T)}else this._$pageLifetimes=k.slice();var P=y._$listeners;void 0!==P&&(this._$listeners||(this._$listeners=[]),(n=this._$listeners).push.apply(n,P));var x=y._$relationMap;void 0!==x&&(this._$relationMap||(this._$relationMap=Object.create(null)),Object.assign(this._$relationMap,x)),(i=this._$init).push.apply(i,y._$init),y._$flatAncestors.forEach((function(e){g.add(e)}))}}var O=f._$traitBehaviors;if(void 0!==O&&(this._$traitBehaviors||(this._$traitBehaviors=[]),(o=this._$traitBehaviors).push.apply(o,O)),"object"==typeof f._$using&&null!==f._$using){var R="object"==typeof f._$placeholders&&null!==f._$placeholders,M=Object.keys(f._$using),N=function(e){var t=M[e],r=f._$using[t],n=null;if(R&&(n=null!==(d=f._$placeholders[t])&&void 0!==d?d:null),r instanceof _e)L._$using[t]={final:r,source:L,placeholder:n,waiting:null};else if(h){var i=String(r),a=h.getComponentByUrlWithoutDefault(i,p);if(a)L._$using[t]={final:a,source:L,placeholder:null,waiting:null};else if(null!==n){var o={final:null,source:L,placeholder:n,waiting:null},s=h._$componentWaitingList(i,p);s&&(s.add((function(e){o.final=e,o.placeholder=null,o.waiting=null})),o.waiting=s),L._$using[t]=o}else{var l=h.getGlobalUsingComponent(i);L._$using[t]="string"==typeof l?l:{final:l,source:L,placeholder:null,waiting:null}}}else ut('cannot find component "'.concat(String(r),'" (when preparing behavior "').concat(p,'").'))},L=this;for(v=0;v<M.length;v+=1)N(v)}if("object"==typeof f._$generics&&null!==f._$generics){var B=this._$generics=[],$=Object.create(null);this._$genericDefaults=$;var F=Object.keys(f._$generics);for(v=0;v<F.length;v+=1){var j=F[v],W=f._$generics[j],U=null,V=!0===W||null==W?void 0:W.default;if(void 0!==V)if(V instanceof _e)U=V;else if(h){var q=String(V);U=h.getComponentByUrlWithoutDefault(q,p)||h.getGlobalUsingComponent(q)}else ut('cannot define generic "'.concat(j,'" without a default implementor (when preparing behavior "').concat(p,'").'));B.push(j),$[j]=U}}var z=f._$staticData;z&&(this._$staticData?Ie(this._$staticData,z):this._$staticData=z);var G=f._$methods;for(v=0;v<G.length;v+=1){var H=G[v],K=H.name,Q=H.func;this._$methodMap[K]=Q}var J=f._$properties;if(void 0!==J){var X=[],Y=function(e){var t,r=J[e],n=r.name,i=r.def,o=function(e){return"string"===e||e===String?{type:"string",optionalTypes:null,value:"",default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"number"===e||e===Number?{type:"number",optionalTypes:null,value:0,default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"boolean"===e||e===Boolean?{type:"boolean",optionalTypes:null,value:!1,default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"object"===e||e===Object?{type:"object",optionalTypes:null,value:null,default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"array"===e||e===Array?{type:"array",optionalTypes:null,value:[],default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"function"===e||e===a?{type:"function",optionalTypes:null,value:function(){},default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:"any"===e||null==e?{type:"any",optionalTypes:null,value:null,default:void 0,observer:null,comparer:null,reflectIdPrefix:!1}:null}(i);if(null!==o)t=o;else{var s=i,l=Ae(s.type),c=null;Array.isArray(s.optionalTypes)&&(c=s.optionalTypes.map(Ae)).length>0&&("invalid"!==l&&"any"!==l||(l=c[0])),"invalid"===l&&ut('the type of property "'.concat(n,'" is illegal (when preparing behavior "').concat(p,'").'));var u=s.value;void 0===s.value&&(u="string"===l?"":"number"===l?0:"boolean"!==l&&("array"===l?[]:null));var d=void 0;"function"==typeof s.observer?d=s.observer:s.observer?d=Z._$methodMap[s.observer]||null:(d=null,void 0!==s.observer&&ut('the observer of property "'.concat(n,'" is not a function (when preparing behavior "').concat(p,'").')));var h=void 0;"function"==typeof s.comparer?h=s.comparer:(h=null,void 0!==s.comparer&&ut('the comparer of property "'.concat(n,'" is not a function (when preparing behavior "').concat(p,'").')));var f=!!s.reflectIdPrefix;t={type:l,optionalTypes:c,value:u,default:s.default,observer:d,comparer:h,reflectIdPrefix:f}}Z._$propertyMap[n]=t,X.push({name:n,func:void 0===t.default?function(){return D(t.value)}:t.default})},Z=this;for(v=0;v<J.length;v+=1)Y(v);this._$data.push((function(){for(var e={},t=0;t<X.length;t+=1){var r=X[t],n=r.name,i=r.func;e[n]=i()}return e}))}(s=this._$data).push.apply(s,f._$data);var ee=f._$observers;if(void 0!==ee)for(v=0;v<ee.length;v+=1){var te=ee[v],re=te.dataPaths,ne=(Q=te.func,te.once),ie="function"==typeof Q?Q:this._$methodMap[Q];"function"==typeof ie?this._$observers.push({dataPaths:re,observer:ie,once:ne}):ut('the "'.concat(String(ie),'" observer is not a function (when preparing behavior "').concat(p,'").'))}var ae=f._$lifetimes;(l=this._$lifetimes).push.apply(l,ae);var oe=f._$pageLifetimes;oe&&(this._$pageLifetimes||(this._$pageLifetimes=[]),(c=this._$pageLifetimes).push.apply(c,oe));var se=f._$listeners;if(void 0!==se)if((M=Object.keys(se)).length>0){this._$listeners=[];for(v=0;v<M.length;v+=1){var le=se[j=M[v]],ce="function"==typeof le?le:this._$methodMap[le];if(ce){var ue=j.indexOf("."),de=void 0,pe=void 0;ue>=0?(de=j.slice(0,ue),pe=j.slice(ue+1)):(de="",pe=j),this._$listeners.push({id:de,ev:pe,listener:ce})}else ut('the "'.concat(j,'" listener is not a function or a method name (when preparing behavior "').concat(p,'").'))}}var he=f._$relations;if(void 0!==he){this._$relationMap||(this._$relationMap=Object.create(null));for(v=0;v<he.length;v+=1){var fe=he[v],ge=fe.name,ve=fe.rel;if(null!=ve){var me=Te(p,ge,ve);me&&(this._$relationMap[ge]=me)}}}(u=this._$init).push.apply(u,f._$init),g.add(this)}},e.prototype.getTemplate=function(){return this._$template},e.prototype.hasBehavior=function(t){if(this._$unprepared&&this.prepare(),t instanceof e)return this._$flatAncestors.has(t);if(this.ownerSpace){var r=this.ownerSpace.getBehaviorByUrl(t,this.is);return!!r&&this._$flatAncestors.has(r)}return!1},e.prototype.getMethods=function(){return this._$methodMap},e.prototype._$generateObserverTree=function(){for(var e=new F(this._$propertyMap),t=this._$observers,r=0;r<t.length;r+=1){var n=t[r],i=n.dataPaths,a=n.observer;e.addObserver(a,i)}return e},e.prototype._$getAllLifetimeFuncs=function(){for(var e=Object.create(null),t=this._$lifetimes,r=0;r<t.length;r+=1){var n=t[r],i=n.name,a=n.func;if(e[i])e[i].add(a);else(e[i]=new ct).add(a)}return e},e.prototype._$getAllPageLifetimeFuncs=function(){var e=Object.create(null),t=this._$pageLifetimes;if(!t)return e;for(var r=0;r<t.length;r+=1){var n=t[r],i=n.name,a=n.func;if(e[i])e[i].add(a);else(e[i]=new ct).add(a)}return e},e}(),Oe=function(e,t){var r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");for(var n=[],i=0;i<r.length;i+=1){var a=r[i];""!==a&&"."!==a&&(".."!==a?n.push(a):n.pop())}return n.join("/")},Re=function(e,t){var r=e.indexOf("://");if(r>0){var n=e.indexOf("/",r+3);return n>0?{domain:e.slice(0,n),absPath:Oe(e.slice(n+1),"")}:{domain:e.slice(0,r+3),absPath:Oe(e.slice(r+3),"")}}return{domain:null,absPath:Oe(e,t)}},Me=function(){function e(e,t,r){this._$callbacks=[],this._$ownerSpace=e,this._$isPub=t,this._$alias=r}return e.prototype.add=function(e){this._$callbacks.push(e)},e.prototype.hintUsed=function(e){var t,r;null===(r=(t=this._$ownerSpace)._$componentWaitingListener)||void 0===r||r.call(t,this._$isPub,this._$alias,e)},e.prototype.remove=function(e){var t=this._$callbacks.indexOf(e);this._$callbacks.splice(t,1)},e.prototype.call=function(e){var t=this._$callbacks;this._$callbacks=[];for(var r=0;r<t.length;r+=1){(0,t[r])(e)}},e}(),De=function(){function e(e,t,r){this._$behaviorList=Object.create(null),this._$pubBehaviorList=Object.create(null),this._$list=Object.create(null),this._$pubList=Object.create(null),this._$using=Object.create(null),this._$extendedNativeList=Object.create(null),this._$pubExtendedNativeList=Object.create(null),this._$importedSpaces=Object.create(null),this._$listWaiting=Object.create(null),this._$pubListWaiting=Object.create(null),this._$groupingListWaiting=null,this._$componentWaitingListener=null,t&&(Object.assign(this._$list,t._$pubList),Object.assign(this._$behaviorList,t._$pubBehaviorList),Object.assign(this._$extendedNativeList,t._$pubExtendedNativeList)),this._$defaultComponent=null!=e?e:"",this._$componentOptions=lt({},null==t?void 0:t._$componentOptions),this.styleScopeManager=r||new C}return e.prototype.updateComponentOptions=function(e){this._$componentOptions=lt(e,this._$componentOptions)},e.prototype.getComponentOptions=function(){return this._$componentOptions},e.prototype.updateBaseExtendedNativeList=function(e){Object.assign(this._$extendedNativeList,e._$pubExtendedNativeList)},e.prototype.setGlobalUsingComponent=function(e,t){this._$using[e]=t},e.prototype.importSpace=function(e,t,r){this._$importedSpaces[e]={space:t,privateUse:r}},e.prototype.getComponentByUrl=function(e,t){var r=Re(e,t),n=r.domain,i=r.absPath,a=this.getComponent(i,!0,n);if(!a)throw new Error('There is no component "'.concat(i,'" in the space and no default component can be used'));return a},e.prototype.getComponentByUrlWithoutDefault=function(e,t){var r=Re(e,t),n=r.domain,i=r.absPath;return this.getComponent(i,!1,n)||null},e.prototype.getComponent=function(e,t,r){var n;if(void 0===t&&(t=!0),void 0===r&&(r=null),r){var i=this._$importedSpaces[r];if(i){var a=i.space;n=i.privateUse?a._$list:a._$pubList}}else n=this._$list;if(n){var o=n[e];if(o)return o}if(t)return this._$list[this._$defaultComponent]},e.prototype.getDefaultComponent=function(){return this._$list[this._$defaultComponent]||null},e.prototype.isDefaultComponent=function(e){return this._$list[this._$defaultComponent]===e},e.prototype.getGlobalUsingComponent=function(e){return this._$using[e]||null},e.prototype.getBehaviorByUrl=function(e,t){var r=Re(e,t),n=r.domain,i=r.absPath;return this._$getBehavior(i,n)||null},e.prototype._$getBehavior=function(e,t){var r;if(void 0===t&&(t=null),t){var n=this._$importedSpaces[t];if(n){var i=n.space;r=n.privateUse?i._$behaviorList:i._$pubBehaviorList}}else r=this._$behaviorList;if(r){var a=r[e];if(a)return a}},e.prototype.defineComponent=function(e){var t=e.is;return new Pe(t,this).definition(e).registerComponent()},e.prototype.defineBehavior=function(e){var t=e.is;return new Pe(t,this).definition(e).registerBehavior()},e.prototype.define=function(e){return new Pe(e,this)},e.prototype.defineWithMethodCaller=function(e){return new Pe(e,this)},e.prototype._$registerComponent=function(e,t){this._$list[e]=t,this._$behaviorList[e]=t.behavior;var r=this._$listWaiting[e];r&&(delete this._$listWaiting[e],this._$groupingListWaiting?this._$groupingListWaiting.push({waiting:r,comp:t}):r.call(t))},e.prototype._$registerBehavior=function(e,t){this._$behaviorList[e]=t},e.prototype.registerExtendedNativeNode=function(e,t){this._$extendedNativeList[e]=t},e.prototype.getExtendedNativeNode=function(e){return this._$extendedNativeList[e]},e.prototype.startGroupRegister=function(){this._$groupingListWaiting=[]},e.prototype.endGroupRegister=function(){var e=this._$groupingListWaiting;if(e){this._$groupingListWaiting=null;for(var t=0;t<e.length;t+=1){var r=e[t],n=r.waiting,i=r.comp;n.call(i)}}},e.prototype.groupRegister=function(e){this.startGroupRegister();var t=gt("group register",e,this,[]);return this.endGroupRegister(),t},e.prototype.exportComponent=function(e,t){var r=this._$list[t];if(!r)throw new Error('There is no component "'.concat(t,'" for aliasing'));this._$pubList[e]=r;var n=this._$pubListWaiting[e];n&&(delete this._$pubListWaiting[e],n.call(r))},e.prototype.getExportedComponent=function(e){return this._$pubList[e]},e.prototype.getExportedBehavior=function(e){return this._$pubBehaviorList[e]},e.prototype.exportBehavior=function(e,t){var r=this._$behaviorList[t];if(!r)throw new Error('There is no behavior "'.concat(t,'" for aliasing'));this._$pubBehaviorList[e]=r},e.prototype.exportExtendedNativeNode=function(e){var t=this._$extendedNativeList[e];if(!t)throw new Error('There is no extended native node "'.concat(e,'" for aliasing'));this._$pubExtendedNativeList[e]=t},e.prototype._$componentWaitingList=function(e,t){var r,n,i,a=Re(e,t),o=a.domain,s=a.absPath;if(o){var l=this._$importedSpaces[o];if(!l)return null;if(n=l.space,i=!l.privateUse){if(n._$pubList[s])return null;r=n._$pubListWaiting}else{if(n._$list[s])return null;r=n._$listWaiting}}else{if(n=this,i=!1,this._$list[s])return null;r=this._$listWaiting}var c=r[s];return c||(c=r[s]=new Me(n,i,s))},e.prototype.setComponentWaitingListener=function(e){this._$componentWaitingListener=e},e.prototype.createComponentByUrl=function(e,t,r,n){var i=this,a=t,o=null,s=a.indexOf("#");s>=0&&(a=a.slice(0,s));var l=a.indexOf("?");l>=0&&(o=a.slice(l+1),a=a.slice(0,l));var c=this.getComponentByUrl(a,""),u=null;return r&&(u=Object.create(null),Object.keys(r).forEach((function(e){var t=r[e],n=i.getComponentByUrl(t,"");u[e]=n}))),we.createWithGenericsAndContext(e,c,u,n,(function(e){if(o){var t=!1;o.split("&").forEach((function(r){var n=r.indexOf("=");if(n>=0){var i=decodeURIComponent(r.slice(0,n)),a=decodeURIComponent(r.slice(n+1));e._$dataGroup.replaceProperty(i,a)&&(t=!0)}})),t&&e.applyDataUpdates()}}))},e.prototype.defineTraitBehavior=function(e){return new de(this,e)},e}(),Ne=function(){function e(e,t,r,n){this.keyName=e,this.updateKeys(t);for(var i=this.items,a=this.indexes,o=[],s=0;s<i.length;s+=1){var l=i[s],c=null===a?s:a[s];o.push(n(l,c))}r.insertChildren(o,-1)}return e.prototype.updateKeys=function(e){var t,r;if(Array.isArray(e))t=e,r=null;else if("object"==typeof e&&null!==e){var n=Object.keys(e);t=new Array(n.length),r=new Array(n.length);for(var i=0;i<n.length;i+=1){var a=e[h=n[i]];t[i]=a,r[i]=h}}else if("string"==typeof e){ut("Use string as for-list is generally for testing. Each character is treated as an item."),t=new Array(e.length),r=null;for(i=0;i<e.length;i+=1)t[i]=e[i]}else if("number"==typeof e){ut("Use number as for-list is generally for testing. The number is used as the repeated times of the item."),t=new Array(e),r=null;for(i=0;i<e;i+=1)t[i]=i}else ut("The for-list data is invalid. Use empty array instead."),t=[],r=null;this.items=t,this.indexes=r;var o,s=this.keyName,l=new Array(t.length),c=Object.create(null);if(null!==s){for(i=0;i<t.length;i+=1){a=t[i];var u="*this"===s?a:null==a?void 0:a[s],d=null!=u?String(u):"";l[i]=d,void 0!==c[d]?(o||(o=Object.create(null)),o[d]=[c[d],i],delete c[d]):(null==o?void 0:o[d])?o[d].push(i):c[d]=i}if(o){var p=Object.keys(o);ut('Some keys are not unique while list updates: "'.concat(p.join('", "'),'".'));for(i=0;i<p.length;i+=1)for(var h,f=o[h=p[i]],g=0,v=0;v<f.length;v+=1){for(var m=f[v];void 0!==c["".concat(h,"--").concat(g)];)g+=1;c[n="".concat(h,"--").concat(g)]=m,l[m]=n}}}this.rawKeys=l,this.keyMap=c,this.sharedKeyMap=o},e.prototype.diff=function(e,t,r,n,i){var a=this.rawKeys,o=this.keyMap,s=this.sharedKeyMap,l=this.indexes;this.updateKeys(e);var c,u,d=this.rawKeys,p=this.sharedKeyMap,h=this.items,f=this.indexes,g=this.keyName;if(!0===t)u=!0,c=null===g;else if(void 0===t)u=t,c=!0;else if(null===g)u=!0,c=!0;else{var v=!1;if(Array.isArray(t))v=!0;else for(var m=Object.keys(t),y=0;y<m.length;y+=1){if(!0===(_=t[b=m[y]])||("*this"===g?_:null==_?void 0:_[g])){v=!0;break}}if(v){u=new Array(d.length);for(y=0;y<d.length;y+=1){var _,b=d[y];if(void 0!==(null==s?void 0:s[b])||void 0!==(null==p?void 0:p[b]))u[y]=!0;else void 0===(_=t[y])||(!0===_||("*this"===g?_:null==_?void 0:_[g])?u[y]=!0:u[y]=_)}c=!1}else u=t,c=!1}if(c){var w;w=!!Array.isArray(t)||t;for(y=0;y<a.length&&y<d.length;){var S=h[y],C=null===f?y:f[y],I=null===l?y:l[y];i(S,C,!0===w||void 0===w?w:w[y],C!==I,r.childNodes[y]),y+=1}if(y<a.length)r.removeChildren(y,a.length-y);else if(y<d.length){for(var A=[];y<d.length;y+=1){S=h[y],C=null===f?y:f[y];A.push(n(S,C))}r.insertChildren(A,-1)}}else{var k=[],E=[],T=new Array(d.length),P=new Array(d.length),x=-1,O=-1;for(y=0;y<d.length;y+=1){var R=d[y];if(a[x+1]!==R)if(void 0!==(I=o[R])){for(var M=0,D=k.length;M<D;){var N=Math.floor((M+D)/2);I<k[N]?D=N:M=N+1}k[D]=I,E[D]=y,T[y]=D>0?E[D-1]:-1,P[y]=I,x=I,O=D}else P[y]=-1;else x+=1,k[O+=1]=x,E[O]=y,T[y]=O>0?E[O-1]:-1,P[y]=x}var L=E.length;if(L!==d.length||L!==a.length){for(var B=L>0?E[L-1]:-1,$=L;-1!==B;)k[$-=1]=B,B=T[B];var F,j=k;!function(e){e[e.Stable=0]="Stable",e[e.ForwardMove=1]="ForwardMove",e[e.BackwardMove=2]="BackwardMove"}(F||(F={}));var W=new Array(a.length),U=new Array(d.length),V=j[$];for(y=0;y<P.length;y+=1){var q=P[y];if(y!==j[$])if(-1!==q)W[q]=q>V?2:1,U[y]=r.childNodes[q];else{S=h[y],C=null===f?y:f[y];U[y]=n(S,C)}else V=q,$+=1,W[q]=0}var z=0,G=0,H=0;$=0;do{for(var K=$<j.length?j[$]:U.length,Q=$<j.length?P[K]:W.length;G<Q;)if(void 0===W[G]){var J=G;G+=1;for(var X=1;G<Q&&void 0===W[G];)G+=1,X+=1;r.removeChildren(J+z,X),z-=X}else 2===W[G]&&(z-=1),G+=1;for(;H<K;){var Y=U[H];if(-1===(q=P[H])){J=H;H+=1;for(X=1;H<K&&-1===P[H];)H+=1,X+=1;r.insertChildren(U.slice(J,J+X),Q+z),z+=X}else{r.insertChildAt(Y,Q+z);S=h[H],C=null===f?H:f[H],I=null===l?q:l[q];i(S,C,!0===u||void 0===u?u:u[H],C!==I,Y),2===W[q]&&(z+=1),H+=1}}if($<j.length){S=h[K],C=null===f?K:f[K],I=null===l?Q:l[Q];i(S,C,!0===u||void 0===u?u:u[K],C!==I,r.childNodes[Q+z])}G=Q+1,H=K+1,$+=1}while($<=j.length)}else for(var y=0;y<a.length&&y<d.length;){var S=h[y],C=null===f?y:f[y],I=null===l?y:l[y];i(S,C,!0===u||void 0===u?u:u[y],C!==I,r.childNodes[y]),y+=1}}},e}(),Le=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Be=function(e){return e},$e=function(e){var t=e;return t._$wxTmplArgs=t._$wxTmplArgs||{}},Fe=function(e){return null==e?"":String(e)},je=function(e){return e.replace(/-(.|$)/g,(function(e){return e[1]?e[1].toUpperCase():""}))},We=Be,Ue=function(e){We=e},Ve=function(){function e(e,t,r,n){this.bindingMapDisabled=!1,this.eventObjectFilter=Be,this.changePropFilter=Be,this.eventListenerFilter=Be,this.shadowRoot=e,this.procGen=t,this.disallowNativeNode=r,n&&(this.eventObjectFilter=n)}return e.prototype.create=function(e){var t=this.shadowRoot,r=(0,this.procGen)(this,!0,e,void 0);return this.handleChildrenCreation(r.C,t,void 0,void 0),r.B},e.prototype.update=function(e,t){var r=this.shadowRoot,n=(0,this.procGen)(this,!1,e,t);this.handleChildrenUpdate(n.C,r,void 0,void 0)},e.prototype.bindingMapUpdate=function(e,t,r){if(this.bindingMapDisabled)return!1;var n=r[e];if(!n)return!1;for(var i=null,a=0;a<n.length;a+=1){(0,n[a])(t,(function(e){null!==i&&e!==i&&(i instanceof we&&i.hasPendingChanges()&&we.getDataProxy(i).applyDataUpdates(!0));i=e}),(function(e,t){e.textContent=t}))}var o=i;null!==o&&(o instanceof we&&o.hasPendingChanges()&&we.getDataProxy(o).applyDataUpdates(!0));return!0},e.prototype.handleChildrenCreation=function(e,t,r,n){var i=this;e(!0,(function(e,a){if(r&&""!==n){var o=i.createDynamicPlaceholder(r);t.appendChild(o)}else{var s=i.shadowRoot.createTextNode(e);s.destroyBackendElementOnDetach(),r&&se.setSlotElement(s,r),a&&a(s),t.appendChild(s)}}),(function(e,a,o,s,l,c){if(r&&n!==(l||"")){var u=i.createDynamicPlaceholder(r);t.appendChild(u)}else{var d=i.createCommonElement(e,a,o,s,c);if(r)se.setSlotElement(d,r),$e(d).dynamicSlotNameMatched=!0;else void 0!==l&&(d.slot=l);t.appendChild(d)}}),(function(e,a){var o=i.shadowRoot.createVirtualNode("wx:if");o.destroyBackendElementOnDetach(),se.setInheritSlots(o),r&&se.setSlotElement(o,r),$e(o).key=e,i.handleChildrenCreation(a,o,r,n),t.appendChild(o)}),(function(e,a,o,s,l){var c=i.shadowRoot,u=c.createVirtualNode("wx:for");u.destroyBackendElementOnDetach(),se.setInheritSlots(u),r&&se.setSlotElement(u,r),$e(u).keyList=new Ne(a,e,u,(function(e,t){var a=c.createVirtualNode("wx:for-item");return a.destroyBackendElementOnDetach(),se.setInheritSlots(a),r&&se.setSlotElement(u,r),i.handleChildrenCreation((function(r,n,i,a,o,c,u){l(!0,e,t,void 0,void 0,s?Le(Le([],s,!0),[t],!1):null,n,i,a,o,c,u)}),a,r,n),a})),t.appendChild(u)}),(function(e,n){var a=i.shadowRoot.createVirtualNode("slot");a.destroyBackendElementOnDetach(),se.setSlotName(a,Fe(e)),r&&se.setSlotElement(a,r),n&&n(a),t.appendChild(a)}),(function(e,a){if(void 0!==a)if(r)if(n===a){(o=i.shadowRoot.createVirtualNode("virtual")).destroyBackendElementOnDetach(),se.setSlotElement(o,r),$e(o).dynamicSlotNameMatched=!0,i.handleChildrenCreation(e,o,void 0,void 0),t.appendChild(o)}else{var o=i.createDynamicPlaceholder(r);t.appendChild(o)}else(o=i.shadowRoot.createVirtualNode("virtual")).destroyBackendElementOnDetach(),o.slot=a,i.handleChildrenCreation(e,o,void 0,void 0),t.appendChild(o);else(o=i.shadowRoot.createVirtualNode("virtual")).destroyBackendElementOnDetach(),se.setInheritSlots(o),r&&se.setSlotElement(o,r),i.handleChildrenCreation(e,o,r,n),t.appendChild(o)}),void 0,void 0)},e.prototype.handleChildrenUpdate=function(e,t,r,n){var i=this,a=0,o=r?t.childNodes.filter((function(e){return e._$nodeSlotElement===r})):t.childNodes;e(!1,(function(e){var t=o[a];if((a+=1,r)&&!$e(t).dynamicSlotNameMatched)return;void 0!==e&&(t.textContent=e)}),(function(e,s,l,c,u,d){var p=o[a];if(a+=1,r){var h=$e(p);if(n!==(u||"")){if(h.dynamicSlotNameMatched){f=i.createDynamicPlaceholder(r);t.replaceChild(f,p)}return}if(!h.dynamicSlotNameMatched){var f=i.createCommonElement(e,s,l,c,d);return se.setSlotElement(f,r),$e(f).dynamicSlotNameMatched=!0,void t.replaceChild(f,p)}}l(p,!1);var g=!1;if(p instanceof we){var v=i.dynamicSlotUpdate(p,d,c);if(v&&(g=!0),p.hasPendingChanges())we.getDataProxy(p).applyDataUpdates(!0);null==v||v.applySlotUpdates()}r||void 0!==u&&(p.slot=u),g||i.handleChildrenUpdate(c,p,void 0,void 0)}),(function(e,s){var l=o[a];if(a+=1,$e(l).key===e)i.handleChildrenUpdate(s,l,r,n);else{var c=i.shadowRoot.createVirtualNode("wx:if");c.destroyBackendElementOnDetach(),se.setInheritSlots(c),r&&se.setSlotElement(c,r),$e(c).key=e,i.handleChildrenCreation(s,c,r,n),r?t.replaceChild(c,l):t.replaceChildAt(c,a-1)}}),(function(e,t,s,l,c){var u=o[a];a+=1,$e(u).keyList.diff(e,s,u,(function(e,t){var a=i.shadowRoot.createVirtualNode("wx:for-item");return a.destroyBackendElementOnDetach(),se.setInheritSlots(a),r&&se.setSlotElement(u,r),i.handleChildrenCreation((function(r,n,i,a,o,s,u){c(!0,e,t,void 0,void 0,l?Le(Le([],l,!0),[t],!1):null,n,i,a,o,s,u)}),a,r,n),a}),(function(e,t,a,o,s){i.handleChildrenUpdate((function(r,n,i,s,u,d,p){c(!1,e,t,a,!!o||void 0,l?Le(Le([],l,!0),[t],!1):null,n,i,s,u,d,p)}),s,r,n)}))}),(function(e,t){var r=o[a];a+=1,void 0!==e&&se.setSlotName(r,Fe(e)),t&&t(r),i.shadowRoot.applySlotValueUpdates(r)}),(function(e,s){var l=o[a];if(a+=1,void 0!==s)if(r){var c=$e(l);if(n===s)if(c.dynamicSlotNameMatched)i.handleChildrenUpdate(e,l,void 0,void 0);else(u=i.shadowRoot.createVirtualNode("virtual")).destroyBackendElementOnDetach(),se.setSlotElement(u,r),$e(u).dynamicSlotNameMatched=!0,i.handleChildrenCreation(e,u,void 0,void 0),t.replaceChild(u,l);else if(c.dynamicSlotNameMatched){var u=i.createDynamicPlaceholder(r);t.replaceChild(u,l)}}else l.slot=s,i.handleChildrenUpdate(e,l,void 0,void 0);else i.handleChildrenUpdate(e,l,r,n)}),void 0,void 0)},e.prototype.dynamicSlotUpdate=function(e,t,r){var n=this,i=e.getShadowRoot();return(null==i?void 0:i.isDynamicSlots())?(i.setDynamicSlotHandler(t||[],(function(t,i,a){n.handleChildrenCreation((function(e,t,n,i,o,s,l){r(!0,t,n,i,o,s,l,a,void 0)}),e,t,i)}),(function(t){for(var r=[],n=0;n<e.childNodes.length;n+=1){var a=e.childNodes[n];i.getContainingSlot(a)===t&&r.push(n)}for(n=0;n<r.length;n+=1){var o=r[n];e.removeChildAt(o-n)}}),(function(t,i,a){var o=t._$slotName||"";n.handleChildrenUpdate((function(e,t,n,o,s,l,c){r(!1,t,n,o,s,l,c,i,a)}),e,t,o)})),i):null},e.prototype.createDynamicPlaceholder=function(e){var t=this.shadowRoot.createVirtualNode("virtual");return t.destroyBackendElementOnDetach(),se.setSlotElement(t,e),$e(t).dynamicSlotNameMatched=!1,t},e.prototype.createCommonElement=function(e,t,r,n,i){var a,o=this,s=this.shadowRoot.checkComponentPlaceholder(e),l=!1,c=function(e){var t=e instanceof we?o.dynamicSlotUpdate(e,i,n):null;if(t&&(l=!0),r(e,!0),e instanceof we){if(e.hasPendingChanges())we.getDataProxy(e).applyDataUpdates(!0);null==t||t.applySlotUpdates()}};if(this.disallowNativeNode||"boolean"==typeof s){var u=void 0;s&&(u=function(){var r,n=o.shadowRoot.createComponent(e,e,t,void 0,c);n.destroyBackendElementOnDetach();var i=n.getShadowRoot(),s=a instanceof we?a.getShadowRoot():null;if(null==i?void 0:i.isDynamicSlots()){if(!(null==s?void 0:s.isDynamicSlots()))throw new Error('The "dynamicSlots" option of the component and its placeholder should be the same.');s.useDynamicSlotHandlerFrom(i),null===(r=a.parentNode)||void 0===r||r.replaceChild(n,a)}else{if(null==s?void 0:s.isDynamicSlots())throw new Error('The "dynamicSlots" option of the component and its placeholder should be the same.');a.selfReplaceWith(n)}}),(a=this.shadowRoot.createComponent(e,e,t,u,c)).destroyBackendElementOnDetach()}else(a=this.shadowRoot.createComponentOrNativeNode(null!=s?s:e,t,c)).destroyBackendElementOnDetach();return l?this.bindingMapDisabled=!0:this.handleChildrenCreation(n,a,void 0,void 0),a},e.prototype.s=function(e,t){e.slot=t},e.prototype.l=function(e,t,r){this.shadowRoot.replaceSlotValue(e,t,r)},e.prototype.i=function(e,t){e.id=t},e.prototype.c=function(e,t){e instanceof we?(e.hasExternalClass("class")&&e.setExternalClass("class",Fe(t)),e.class=Fe(t)):e.class=Fe(t)},e.prototype.y=function(e,t){e.setNodeStyle(Fe(t),0)},e.prototype.d=function(e,t,r){e.dataset[t]=r},e.prototype.m=function(e,t,r){e.setMark(t,r)},e.prototype.v=function(e,t,r,n,i,a,o){var s=this,l="function"==typeof r&&"function"==typeof this.eventListenerFilter?this.eventListenerFilter(r):Fe(r),c=function(t){var r,n=e.ownerShadowRoot.getHostNode(),i=n.getMethodCaller(),a="function"==typeof l?l:we.getMethod(n,l);if("function"==typeof a){var o="function"==typeof s.eventObjectFilter?s.eventObjectFilter(t):We(t);r=a.call(i,o)}return r},u={final:n,mutated:i,capture:a,extraFields:{handler:l}};if(o){var d=$e(e);d.dynEvListeners||(d.dynEvListeners={});var p=d.dynEvListeners;p[t]&&e.removeListener(t,p[t],u),p[t]=c}l&&e.addListener(t,c,u)},e.prototype.r=function(t,r,n,i){var a;if(t instanceof we){var o=we.getDataProxy(t),s=je(r);if(o.replaceProperty(s,n)){i&&o.setModelBindingListener(s,(function(e){var r=t.ownerShadowRoot.getHostNode(),n=we.getDataProxy(r);n.replaceDataOnPath(i,e),n.applyDataUpdates(!1)}));var l=$e(t);if(null===(a=l.changeProp)||void 0===a?void 0:a[r]){var c=l.changeProp[r],u=c.oldValue;if(u!==n){c.oldValue=n;var d=t.ownerShadowRoot.getHostNode();c.listener.call(d.getMethodCaller(),n,u,d,t)}}}else t.hasExternalClass(r)?t.setExternalClass(r,Fe(n)):s.startsWith("bind")?e.prototype.v.call(void 0!==this?this:e.prototype,t,s.slice(4),Fe(n),!1,!1,!1,!0):s.startsWith("captureBind")?e.prototype.v.call(void 0!==this?this:e.prototype,t,s.slice(11),Fe(n),!1,!1,!0,!0):s.startsWith("catch")?e.prototype.v.call(void 0!==this?this:e.prototype,t,s.slice(5),Fe(n),!0,!1,!1,!0):s.startsWith("captureCatch")?e.prototype.v.call(void 0!==this?this:e.prototype,t,s.slice(12),Fe(n),!0,!1,!0,!0):s.startsWith("on")&&e.prototype.v.call(void 0!==this?this:e.prototype,t,s.slice(2),Fe(n),!1,!1,!1,!0)}else if(t instanceof It){var p=je(r);p.startsWith("bind")?e.prototype.v(t,p.slice(4),Fe(n),!1,!1,!1,!0):p.startsWith("captureBind")?e.prototype.v(t,p.slice(11),Fe(n),!1,!1,!0,!0):p.startsWith("catch")?e.prototype.v(t,p.slice(5),Fe(n),!0,!1,!1,!0):p.startsWith("captureCatch")?e.prototype.v(t,p.slice(12),Fe(n),!0,!1,!0,!0):p.startsWith("on")?e.prototype.v(t,p.slice(2),Fe(n),!1,!1,!1,!0):t.callAttributeFilter(p,n,(function(e){t.updateAttribute(p,e),i&&t.setModelBindingListener(r,(function(e){var r=t.ownerShadowRoot.getHostNode(),n=we.getDataProxy(r);n.replaceDataOnPath(i,e),n.applyDataUpdates(!1)}))}))}},e.prototype.wl=function(e,t,r){e instanceof we&&e.triggerWorkletChangeLifetime(t,r)},e.prototype.p=function(e,t,r){if(e instanceof we&&we.hasProperty(e,t)){var n=$e(e);n.changeProp||(n.changeProp=Object.create(null)),n.changeProp[t]={listener:this.changePropFilter(r),oldValue:e.data[t]}}},e.prototype.setFnFilter=function(e,t){this.changePropFilter=e,this.eventListenerFilter=t},e}(),qe=function(){},ze=function(){function e(e,t){this.shadowRoot=e,this.procGen=t}return e.prototype.create=function(e){var t=this.shadowRoot,r=(0,this.procGen)(this,!0,e,void 0);return this.handleChildrenCreation(r.C,t.shadowRootElement),r.B},e.prototype.bindingMapUpdate=function(e,t,r){var n=r[e];if(void 0!==n)for(var i=0;i<n.length;i+=1){(0,n[i])(t,(function(){}),(function(e,t){e.textContent=t}))}},e.prototype.handleChildrenCreation=function(e,t){var r=this,n=!0,i=!1,a=function(){n=!1,i=!1;var e=document.createElement("virtual");t.appendChild(e),r.shadowRoot.slot=e};e(!0,(function(e,r){i?a():n=!1;var o=document.createTextNode(e||"");r&&r(o),t.appendChild(o)}),(function(e,o,s,l){i?a():n=!1;var c=document.createElement(e);s(c,!0),r.handleChildrenCreation(l,c),t.appendChild(c)}),qe,qe,(function(){n?(i=!0,r.shadowRoot.slot=t):a()}),(function(e){i?a():n=!1;var o=document.createElement("virtual");r.handleChildrenCreation(e,o),t.appendChild(o)}))},e.prototype.s=function(){},e.prototype.i=function(e,t){this.shadowRoot.idMap[t]=e},e.prototype.c=function(e,t){e.setAttribute("class",t)},e.prototype.y=function(e,t){e.setAttribute("style",t)},e.prototype.d=function(e,t,r){e.dataset[t]=Fe(r)},e.prototype.m=function(){},e.prototype.v=function(e,t,r,n){var i=this;this.shadowRoot.setListener(e,t,(function(e){var t=i.shadowRoot.template.methods[r],a=null==t?void 0:t(e);return!n&&a}))},e.prototype.r=function(e,t,r){"boolean"==typeof r?r?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,Fe(r))},e.prototype.p=function(){},e.prototype.setFnFilter=function(){},e}(),Ge=function(){return{C:function(e,t,r,n,i,a){a("")},B:Object.create(null)}},He=function(){return Ge},Ke=function(){function e(e){if("object"!=typeof e._$template&&void 0!==e._$template)throw new Error("Component template of ".concat(e.is,' must be a valid compiled template (or "null" for default template).'));var t=e._$template||{content:He};this.genObjectGroupEnv={list:t.groupList||Object.create(null),group:t.content},this.updateMode="",this.methods=e._$methodMap}return e.prototype.createInstance=function(e){return new Qe(this,e)},e}(),Qe=function(){function e(e,t){if(3!==t.getBackendMode())throw new Error("Component template of ".concat(t.is," cannot be initialized since external rendering is only supported in Domlike backend currently."));var r=t.getBackendElement();if(!r)throw new Error("Component template of ".concat(t.is," cannot be initialized as external components since no suitable backend element found."));this.comp=t,this.shadowRoot=this,this.shadowRootElement=r,this.root=r,this.slot=r,this.template=e;var n=e.genObjectGroupEnv.group("")||He();this.procGenWrapper=new ze(this,n),this.idMap=Object.create(null),this.listeners=[]}return e.prototype.initValues=function(e){if(this.bindingMapGen=this.procGenWrapper.create(e),!this.bindingMapGen)throw new Error("The component template does not support binding-map-update, so it cannot be used as external components.");var t=this.shadowRootElement;if(this.slot===t&&t.childNodes.length>0){var r=document.createElement("virtual");t.appendChild(r),this.slot=r}},e.prototype.getIdMap=function(){return this.idMap},e.prototype.updateValues=function(e,t){for(var r=this.bindingMapGen,n=0;n<t.length;n+=1){var i=t[n][0];this.procGenWrapper.bindingMapUpdate(i[0],e,r)}},e.prototype.setListener=function(e,t,r){var n,i=e;i._$wxTmplEv?i._$wxTmplEv[t]=r:i._$wxTmplEv=((n={})[t]=r,n)},e.prototype.handleEvent=function(e,t){for(var r,n=e,i=n,a=this.shadowRootElement,o=t.type,s=t.bubbles;;){var l=t.wrapShadowedEvent(n,null,i),c=null===(r=i._$wxTmplEv)||void 0===r?void 0:r[o];if(c)!1===c.call(i,l)&&(t.preventDefault(),t.stopPropagation());if(!s||t.propagationStopped())break;if(i===a)break;var u=i.parentNode;if(!u)break;i=u}},e}(),Je=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Xe=function(){return{C:function(e,t,r,n,i,a){a("")},B:Object.create(null)}},Ye=function(){return Xe};!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.Forced=2]="Forced"}(Ce||(Ce={}));var Ze,et=function(){function e(){}return e.prototype.create=function(e,t){return t.externalComponent?new Ke(e):new tt(e)},e}(),tt=function(){function e(e){if("object"!=typeof e._$template&&void 0!==e._$template)throw new Error("Component template of ".concat(e.is,' must be a valid compiled template (or "null" for default template).'));var t=e._$template||{content:Ye};this.genObjectGroupEnv={list:t.groupList||Object.create(null),group:t.content},this.updateMode=t.updateMode||"",this.disallowNativeNode=t.disallowNativeNode||!1,this.eventObjectFilter=t.eventObjectFilter}return e.prototype.createInstance=function(e){return new rt(this,e)},e}(),rt=function(){function e(e,t){this.template=e;var r=e.genObjectGroupEnv.group("")||Ye("");"bindingMap"===e.updateMode?this.forceBindingMapUpdate=2:"virtualTree"===e.updateMode?this.forceBindingMapUpdate=0:this.forceBindingMapUpdate=1,this.comp=t,this.shadowRoot=Tt.createShadowRoot(t),this.shadowRoot.destroyBackendElementOnDetach(),this.procGenWrapper=new Ve(this.shadowRoot,r,e.disallowNativeNode,e.eventObjectFilter)}return e.prototype.initValues=function(e){return this.bindingMapGen=this.procGenWrapper.create(e),this.shadowRoot},e.prototype.updateValues=function(e,t){if(2!==this.forceBindingMapUpdate){if(!(1===this.forceBindingMapUpdate&&t.length<=1&&this.bindingMapGen&&this.tryBindingMapUpdate(e,t[0]))){var r=Object.create(null);for(S=0;S<t.length;S+=1)for(var n=t[S],i=n[0],a=n[1],o=n[2],s=n[3],l=r,c=0;c<i.length;c+=1){var u=i[c],d=l[u];if(!0===d)break;if(c===i.length-1){if(void 0===s)l[u]=!0;else{var p=o;if(void 0===d)l[u]=new Array(p);else if(!Array.isArray(d)){for(var h=new Array(p),f=Object.keys(d),g=0;g<f.length;g+=1){var v=f[g],m=d[v],y=Number(v);h.length<y&&(h.length=y),h[v]=m}l[u]=h}var _=l[u];_.length<p&&(_.length=p);var b=new Array(a.length);b.fill(!0),_.splice.apply(_,Je([o,s],b,!1))}break}if(void 0===d){var w=Object.create(null);l[u]=w,l=w}else l=d}this.procGenWrapper.update(e,r)}}else for(var S=0;S<t.length;S+=1)this.tryBindingMapUpdate(e,t[S])},e.prototype.tryBindingMapUpdate=function(e,t){if(!t)return!0;var r=this.bindingMapGen;if(!r)return!1;var n=t[0];return 1===n.length&&this.procGenWrapper.bindingMapUpdate(n[0],e,r)},e}();!function(e){e.None="none",e.Simple="simple",e.SimpleWithRecursion="simple-recursion"}(Ze||(Ze={}));var nt=null,it=function(){if(nt)return nt;var e=new De;return nt=e,e},at=null,ot=function(){return at||(e=new y,at=e,e);var e},st={defaultComponentSpace:null,externalComponent:!1,templateEngine:new et,styleScope:C.globalScope(),extraStyleScope:null,hostNodeTagName:"wx-x",multipleSlots:!1,dynamicSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,useMethodCallerListeners:!1,idPrefixGenerator:null,pureDataPattern:null,dataDeepCopy:Ze.Simple,propertyPassingDeepCopy:Ze.Simple,listenerChangeLifetimes:!1,virtualHost:!1,propertyEarlyInit:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,backendContext:null},lt=function(e,t){var r=void 0===t?st:t;if(void 0===e&&r!==st)return r;var n=null!=e?e:{};return{externalComponent:void 0!==n.externalComponent?n.externalComponent:r.externalComponent,templateEngine:void 0!==n.templateEngine?n.templateEngine:r.templateEngine,styleScope:void 0!==n.styleScope?n.styleScope:r.styleScope,hostNodeTagName:void 0!==n.hostNodeTagName?n.hostNodeTagName:r.hostNodeTagName,extraStyleScope:void 0!==n.extraStyleScope?n.extraStyleScope:r.extraStyleScope,multipleSlots:void 0!==n.multipleSlots?n.multipleSlots:r.multipleSlots,dynamicSlots:void 0!==n.dynamicSlots?n.dynamicSlots:r.dynamicSlots,reflectToAttributes:void 0!==n.reflectToAttributes?n.reflectToAttributes:r.reflectToAttributes,writeFieldsToNode:void 0!==n.writeFieldsToNode?n.writeFieldsToNode:r.writeFieldsToNode,writeIdToDOM:void 0!==n.writeIdToDOM?n.writeIdToDOM:r.writeIdToDOM,useMethodCallerListeners:void 0!==n.useMethodCallerListeners?n.useMethodCallerListeners:r.useMethodCallerListeners,idPrefixGenerator:void 0!==n.idPrefixGenerator?n.idPrefixGenerator:r.idPrefixGenerator,pureDataPattern:void 0!==n.pureDataPattern?n.pureDataPattern:r.pureDataPattern,dataDeepCopy:void 0!==n.dataDeepCopy?n.dataDeepCopy:r.dataDeepCopy,propertyPassingDeepCopy:void 0!==n.propertyPassingDeepCopy?n.propertyPassingDeepCopy:r.propertyPassingDeepCopy,listenerChangeLifetimes:void 0!==n.listenerChangeLifetimes?n.listenerChangeLifetimes:r.listenerChangeLifetimes,virtualHost:void 0!==n.virtualHost?n.virtualHost:r.virtualHost,propertyEarlyInit:void 0!==n.propertyEarlyInit?n.propertyEarlyInit:r.propertyEarlyInit}};var ct=function(){function e(){this.empty=!0,this._$type="",this._$arr=null,this._$avoidErrorHandler=!1}return e.prototype.add=function(e){this._$arr?this._$arr=this._$arr.concat(e):this._$arr=[e],this.empty=!1},e.prototype.remove=function(e){var t=null;if(this._$arr){for(var r=[],n=this._$arr,i=0;i<n.length;i+=1){if(n[i]===e){r.push.apply(r,n.slice(i+1)),t=e;break}r.push(n[i])}this._$arr=r,this.empty=0===this._$arr.length}return t},e.prototype.call=function(e,t,r){var n=this._$arr,i=!0;if(n)for(var a=0;a<n.length;a+=1){!1===gt(this._$type,n[a],e,t,r,this._$avoidErrorHandler)&&(i=!1)}return i},e.safeCallback=function(e,t,r,n,i,a){void 0===a&&(a=!1);try{return t.apply(r,n)}catch(s){var o="[Error] [Component] ".concat(e||"Error Listener"," Error @ ");return r instanceof we&&(o+=r.is),o+="#".concat(t.name||"(anonymous)"),i&&i.triggerLifetime("error",[s]),void function(e,t,r){if(r||!1!==dt.call(e,[e,t])){if(st.throwGlobalError)throw e;console.error(e instanceof Error?"".concat(e.message,"\n").concat(e.stack||""):String(e))}}(s,{message:o,type:e,element:r,method:t,args:n},a)}},e.addGlobalErrorListener=function(e){dt.add(e)},e.removeGlobalErrorListener=function(e){dt.remove(e)},e.addGlobalWarningListener=function(e){ht.add(e)},e.removeGlobalWarningListener=function(e){ht.remove(e)},e}();function ut(e){var t="[Warning] [Component] ".concat(e);ht.call(t,[t])&&console.warn(t)}var dt=new ct;dt._$avoidErrorHandler=!0;var pt,ht=new ct,ft=function(){function e(){this.empty=!0,this._$type="",this._$arr=null}return e.prototype.add=function(e,t){var r={f:e,data:t};this._$arr?this._$arr=this._$arr.concat(r):this._$arr=[r],this.empty=!1},e.prototype.remove=function(e){var t=null;if(this._$arr){for(var r=[],n=this._$arr,i=0;i<n.length;i+=1){var a=n[i];if(a.f===e){r.push.apply(r,n.slice(i+1)),t=a.data;break}r.push(a)}this._$arr=r,this.empty=0===this._$arr.length}return t},e.prototype.call=function(e,t,r,n){var i=this._$arr,a=!0;if(i)for(var o=0;o<i.length;o+=1){var s=i[o],l=s.f;if(r(s.data))!1===ct.safeCallback(this._$type,l,e,t,n)&&(a=!1)}return a},e}(),gt=ct.safeCallback,vt=ct.addGlobalErrorListener,mt=ct.removeGlobalErrorListener,yt=ct.addGlobalWarningListener,_t=ct.removeGlobalWarningListener,bt=function(){function e(e){this._$subtreeObserversCount=0,this.attrObservers=null,this.textObservers=null,this.childObservers=null,this.attachObservers=null,this._$boundElement=e}return e.prototype.attachChild=function(t){t._$mutationObserverTarget||(t._$mutationObserverTarget=new e(t)),this._$subtreeObserversCount>0&&t._$mutationObserverTarget.updateSubtreeCount(this._$subtreeObserversCount)},e.prototype.detachChild=function(e){e._$mutationObserverTarget&&e._$mutationObserverTarget.updateSubtreeCount(-this._$subtreeObserversCount)},e.prototype.updateSubtreeCount=function(t){this._$subtreeObserversCount+=t,this._$boundElement.childNodes.forEach((function(r){r instanceof se&&(r._$mutationObserverTarget||(r._$mutationObserverTarget=new e(r)),r._$mutationObserverTarget.updateSubtreeCount(t))}))},e.prototype.hasSubtreeListeners=function(){return this._$subtreeObserversCount>0},e.callAttrObservers=function(e,t){var r,n=e;do{var i=n._$mutationObserverTarget;null===(r=null==i?void 0:i.attrObservers)||void 0===r||r.call(n,[t]);var a=n.parentNode;if(!a)break;if(!(n=a)._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)},e.callTextObservers=function(e,t){for(var r,n=e.parentNode;n;){var i=n._$mutationObserverTarget;if(!i||0===i._$subtreeObserversCount)break;null===(r=i.textObservers)||void 0===r||r.call(n,[t]),n=n.parentNode}},e.callChildObservers=function(e,t){var r,n=e;do{var i=n._$mutationObserverTarget;null===(r=null==i?void 0:i.childObservers)||void 0===r||r.call(n,[t]);var a=n.parentNode;if(!a)break;if(!(n=a)._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)},e.callAttachObservers=function(e,t){var r,n=e._$mutationObserverTarget;null===(r=null==n?void 0:n.attachObservers)||void 0===r||r.call(e,[t])},e}(),wt=function(){function e(e){this._$subtreeListenersCount=0,this._$boundFuncArrs=[],this._$boundTarget=null,this._$listener=e,this._$normalizedListener=null}return e.create=function(t){return new e(t)},e.prototype.observe=function(e,t){void 0===t&&(t={properties:!1,childList:!1,characterData:!1,subtree:!1,attachStatus:!1});var r,n=this._$listener;if(!n)throw new Error("A MutationObserver can only observe once");e._$mutationObserverTarget?r=e._$mutationObserverTarget:(r=new bt(e),e._$mutationObserverTarget=r),this._$listener=null;var i=t.subtree?n:function(e){e.target===this&&n.call(this,e)};this._$normalizedListener=i,this._$boundTarget=r,t.properties&&(r.attrObservers||(r.attrObservers=new ct),r.attrObservers.add(i),this._$boundFuncArrs.push(r.attrObservers),this._$subtreeListenersCount+=1),t.childList&&(r.childObservers||(r.childObservers=new ct),r.childObservers.add(i),this._$boundFuncArrs.push(r.childObservers),this._$subtreeListenersCount+=1),t.characterData&&(r.textObservers||(r.textObservers=new ct),r.textObservers.add(i),this._$boundFuncArrs.push(r.textObservers),this._$subtreeListenersCount+=1),t.subtree&&r.updateSubtreeCount(this._$subtreeListenersCount),t.attachStatus&&(r.attachObservers||(r.attachObservers=new ct),r.attachObservers.add(i),this._$boundFuncArrs.push(r.attachObservers))},e.prototype.disconnect=function(){var e;null===(e=this._$boundTarget)||void 0===e||e.updateSubtreeCount(-this._$subtreeListenersCount);var t=this._$boundFuncArrs;this._$boundFuncArrs=[];var r=this._$normalizedListener;r&&t.forEach((function(e){e.remove(r)}))},e}(),St=function(){function e(e,t){var r;this._$destroyOnDetach=!1,this._$text=String(e),r=t._$nodeTreeContext.createTextNode(e),this._$backendElement=r,r&&(r.__wxElement=this),this.ownerShadowRoot=t,this.parentNode=null,this._$nodeSlotElement=null}return e.create=function(t,r){return new e(t,r)},e.prototype.asTextNode=function(){return this},e.prototype.asElement=function(){return null},e.prototype.asNativeNode=function(){return null},e.prototype.asVirtualNode=function(){return null},e.prototype.asInstanceOf=function(){return null},e.prototype.destroyBackendElement=function(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null)},e.prototype.destroyBackendElementOnDetach=function(){this._$destroyOnDetach=!0},e.prototype.getBackendElement=function(){return this._$backendElement},e.prototype.getComposedParent=function(){for(var e=this.parentNode;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e instanceof we&&!e._$external?e.shadowRoot.getContainingSlot(this):e},Object.defineProperty(e.prototype,"$$",{get:function(){return this._$backendElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this._$text},set:function(e){this._$text=String(e),this._$backendElement&&this._$backendElement.setText(this._$text),bt.callTextObservers(this,{type:"characterData",target:this})},enumerable:!1,configurable:!0}),e}(),Ct=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It=function(e){function t(){throw new Error("Element cannot be constructed directly")}return Ct(t,e),t.create=function(e,r,n,i,a){var o,s,l,c,u=Object.create(t.prototype);if(u.is=e,u._$placeholderHandler=a,u._$attributeFilters={},c=r._$nodeTreeContext.createElement(e,null!=n?n:e),u._$initialize(!1,c,r),u.classList=new I(u,null),r&&c){var d=r.getHostNode()._$definition._$options.styleScope;if(d&&c.setStyleScope(d),st.writeExtraInfoToAttr){var p=null===(o=r.getHostNode()._$behavior.ownerSpace)||void 0===o?void 0:o.styleScopeManager.queryName(d);p&&c.setAttribute("exparser:info-class-prefix","".concat(p,"--"))}}return c&&(null===(l=(s=c).associateValue)||void 0===l||l.call(s,u)),void 0!==i&&(void 0!==i.attributeFilters&&(u._$attributeFilters=i.attributeFilters),void 0!==i.eventListeners&&Object.keys(i.eventListeners).forEach((function(e){if("function"==typeof i.eventListeners[e].handler){var t=i.eventListeners[e].handler;u.addListener(e,(function(e){return t(u,e)}),{capture:i.eventListeners[e].capture})}}))),"object"==typeof(null==i?void 0:i.lifetimes)&&"function"==typeof(null==i?void 0:i.lifetimes.created)&&(null==i||i.lifetimes.created.call(u,u)),u},t.prototype.callAttributeFilter=function(e,t,r){"function"==typeof this._$attributeFilters[e]?this._$attributeFilters[e](this,e,t,r):r(t)},t.prototype.setModelBindingListener=function(e,t){var r,n,i=this;if(this._$modelBindingListeners||(this._$modelBindingListeners=Object.create(null)),!this._$modelBindingListeners[e]){var a=this.getBackendElement();if(a){null===(n=(r=a).setModelBindingStat)||void 0===n||n.call(r,e,(function(t){var r,n=null===(r=i._$modelBindingListeners)||void 0===r?void 0:r[e];n&&n.call(i,t)}))}}this._$modelBindingListeners[e]=t},t}(se),At=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){e[e.Single=0]="Single",e[e.Multiple=1]="Multiple",e[e.Dynamic=2]="Dynamic"}(pt||(pt={}));var kt,Et=function(e,t,r){var n=t.waiting;if(n)return n.add(e),n.hintUsed(r),function(){n.remove(e)}},Tt=function(e){function t(){throw new Error("Element cannot be constructed directly")}return At(t,e),t.createShadowRoot=function(e){var r,n=Object.create(t.prototype);n._$initializeVirtual("shadow",null,e._$nodeTreeContext),n._$idMap=null;var i=0;e._$definition._$options.multipleSlots?i=1:e._$definition._$options.dynamicSlots&&(i=2),n._$slotCacheDirty=!1,n._$appliedSlotCacheDirty=!1,0===i?(n._$singleSlot=null,n._$appliedSingleSlot=null):1===i?n._$slots=n._$appliedSlots=Object.create(null):2===i&&(n._$dynamicSlotSet=new Set,n._$appliedDynamicSlots=void 0,n._$requiredSlotValueNames=[],n._$propertyPassingDeepCopy=q(e.getComponentOptions().propertyPassingDeepCopy),n._$insertDynamicSlotHandler=void 0,n._$removeDynamicSlotHandler=void 0,n._$updateDynamicSlotHandler=void 0);n._$backendShadowRoot=null;var a=(null===(r=n._$backendShadowRoot)||void 0===r?void 0:r.getRootNode())||null;return n._$initialize(!0,a,n,e._$nodeTreeContext),n._$host=e,e.shadowRoot=n,n},t.prototype.getHostNode=function(){return this._$host},t.prototype.createTextNode=function(e){return void 0===e&&(e=""),new St(e,this)},t.prototype.createNativeNode=function(e){return It.create(e,this)},t.prototype.createVirtualNode=function(e){return void 0===e&&(e="virtual"),ue.create(e,this)},t.prototype.createNativeNodeWithInit=function(e,t,r,n){var i=this._$host._$behavior.ownerSpace.getExtendedNativeNode(e),a=It.create(e,this,t,i,r);return null==n||n(a),a},t.prototype.createComponent=function(e,t,r,n,i){var a,o=this._$host,s=o._$behavior,l=o._$genericImpls,c=s.ownerSpace,u=void 0===t?e:t,d=s._$using[u];if("string"==typeof d)return this.createNativeNodeWithInit(d,e,void 0,i);if(d){var p=void 0;d.final?p=d.final:null!==d.placeholder&&(p=ye(d.placeholder,c,d.source,l));var h=n?Et(n,d,o):void 0;if("string"==typeof p)return this.createNativeNodeWithInit(p,e,h,i);if(p)return we._$advancedCreate(e,p,this,null,me(p,s,o,r),h,i)}var f=l&&l[u];if("string"==typeof f)return this.createNativeNodeWithInit(f,e,void 0,i);if(f){var g=void 0;f.final?g=f.final:null!==f.placeholder&&(g=ye(f.placeholder,c,f.source,l));h=n?Et(n,f,o):void 0;if("string"==typeof g)return this.createNativeNodeWithInit(g,e,h,i);if(g)return we._$advancedCreate(e,g,this,null,me(g,s,o,r),h,i)}var v=null!==(a=c.getGlobalUsingComponent(u))&&void 0!==a?a:c.getDefaultComponent();if(!v)throw new Error('Cannot find component "'.concat(u,'"'));return"string"==typeof v?this.createNativeNodeWithInit(v,e,void 0,i):we._$advancedCreate(e,v,this,null,me(v,s,o,r),void 0,i)},t.prototype.createComponentOrNativeNode=function(e,t,r){var n=this._$host,i=n._$behavior,a=i.ownerSpace.getGlobalUsingComponent(e);if("string"==typeof a)return this.createNativeNodeWithInit(a,e,void 0,r);if(a)return we._$advancedCreate(e,a,this,null,me(a,i,n,t),void 0,r);throw new Error("unknown tag name: ".concat(e))},t.prototype.checkComponentPlaceholder=function(e){var t,r,n=this._$host._$behavior._$using[e];if(void 0!==n)r=n;else{var i=null===(t=this._$host._$genericImpls)||void 0===t?void 0:t[e];if(!i)return;r=i}return"string"!=typeof r&&(!r.final&&null!==r.placeholder)},t.prototype.getElementById=function(e){return this._$getIdMap()[e]},t.prototype._$markIdCacheDirty=function(){this._$idMap=null},t.prototype._$getIdMap=function(){if(this._$idMap)return this._$idMap;var e=se._$generateIdMap(this);return this._$idMap=e,e},t.prototype.getSingleSlotElement=function(){return this._$singleSlot},t.prototype.getSlotElementFromName=function(e){if(void 0!==this._$singleSlot)return this._$singleSlot;if(this._$slots)return this._$slots[e]||null;if(this._$dynamicSlotSet){for(var t=[],r=this._$dynamicSlotSet.values(),n=r.next();!n.done;n=r.next()){var i=n.value;(i._$slotName||"")===e&&t.push(i)}return t}return null},t.prototype.getContainingSlot=function(e){var t,r;if(void 0!==this._$singleSlot)return this._$singleSlot;if(this._$dynamicSlotSet){if(!e)return null;for(var n=e;null===(t=n.parentNode)||void 0===t?void 0:t._$inheritSlots;)n=n.parentNode;var i=n._$nodeSlotElement;if((null==i?void 0:i.ownerShadowRoot)===this)return i}return this._$slots?(r=e instanceof se?e._$nodeSlot:"",this._$slots[r]||null):null},t.prototype.getSlotContentArray=function(e){if(null===e._$slotName)return null;var t=[];return this.forEachNodeInSpecifiedSlot(e,(function(e){t.push(e)})),t},t.prototype.forEachSlot=function(e){if(this._$singleSlot)e(this._$singleSlot);else if(this._$slots)for(var t=Object.values(this._$slots),r=0;r<t.length&&!1!==e(t[r]);r+=1);else if(this._$dynamicSlotSet)for(var n=this._$dynamicSlotSet.values(),i=n.next();!i.done&&!1!==e(i.value);i=n.next());},t.prototype.forEachNodeInSlot=function(e){var t=this;if(this._$singleSlot){var r=this._$singleSlot,n=function(t){return!1!==e(t,r)&&!(t instanceof se&&t._$inheritSlots&&!1===t.childNodes.every(n))};this._$host.childNodes.every(n)}else if(this._$dynamicSlotSet){var i=function(r){return!1!==e(r,t.getContainingSlot(r)||void 0)&&!(r instanceof se&&r._$inheritSlots&&!1===r.childNodes.every((function(e){return i(e)})))};this._$host.childNodes.every(i)}else if(this._$slots){var a=this._$slots,o=function(t){if(t instanceof se){if(!1===e(t,a[t._$nodeSlot]))return!1;if(t._$inheritSlots&&!1===t.childNodes.every(o))return!1}else if(!1===e(t,a[""]))return!1;return!0};this._$host.childNodes.every(o)}},t.prototype.forEachNodeInSpecifiedSlot=function(e,t){var r=this;if(this._$singleSlot){if(""!==e&&this._$singleSlot!==e)return;var n=function(e,r){t(e,r),e instanceof se&&e._$inheritSlots&&e.childNodes.forEach(n)};this._$host.childNodes.forEach(n)}else if(this._$dynamicSlotSet){if("string"==typeof e)return;var i=function(e,r){t(e,r),e instanceof se&&e._$inheritSlots&&e.childNodes.forEach(i)};this._$host.childNodes.forEach((function(n,a){r.getContainingSlot(n)===e&&(t(n,a),n instanceof se&&n._$inheritSlots&&n.childNodes.forEach(i))}))}else if(this._$slots){if("string"!=typeof e&&this._$slots[e._$slotName]!==e)return;var a="string"==typeof e?e:e._$slotName,o=function(e,r){e instanceof se?(e._$nodeSlot===a&&t(e,r),e._$inheritSlots&&e.childNodes.forEach(o)):""===a&&t(e,r)};this._$host.childNodes.forEach(o)}},t.prototype._$markSlotCacheDirty=function(){this._$slotCacheDirty=!0,this._$appliedSlotCacheDirty=!0},t.prototype._$checkSlotChanges=function(){if(this._$appliedSlotCacheDirty)if(this._$appliedSlotCacheDirty=!1,this._$slotCacheDirty&&this._$updateSlotCache(),this._$dynamicSlotSet){var e=this._$appliedDynamicSlots;if(!e)return;for(var t=this._$dynamicSlotSet,r=this._$insertDynamicSlotHandler,n=this._$removeDynamicSlotHandler,i=e.keys(),a=i.next();!a.done;a=i.next()){var o=a.value;t.has(o)||(null==n||n(o),e.delete(o))}for(var s=t.values(),l=s.next();!l.done;l=s.next()){var c=(o=l.value)._$slotName||"",u=e.get(o);void 0!==u?u.slotName!==c&&(null==n||n(o),null==r||r(o,c,o._$slotValues),e.set(o,{slotName:c,updatePathTree:void 0})):(null==r||r(o,c,o._$slotValues),e.set(o,{slotName:c,updatePathTree:void 0}))}}else if(void 0===this._$singleSlot){var d=this._$appliedSlots,p=this._$slots;this._$appliedSlots=p;for(var h=Object.keys(d),f=0;f<h.length;f+=1){(m=d[v=h[f]])!==(y=p[v])&&se._$insertChildReassignSlot(this,v,m,y||null)}var g=Object.keys(p);for(f=0;f<g.length;f+=1){var v,m=d[v=g[f]],y=p[v];void 0===m&&se._$insertChildReassignSlot(this,v,null,y||null)}}else{var _=this._$appliedSingleSlot;_!==this._$singleSlot&&(this._$appliedSingleSlot=this._$singleSlot,se._$insertChildReassignSlot(this,"",_,this._$singleSlot))}},t.prototype._$updateSlotCache=function(){if(this._$slotCacheDirty=!1,void 0!==this._$singleSlot){var e,t=function(r){if(r instanceof se){if(null!==r._$slotName)return e=r,!1;if(!1===r.childNodes.every(t))return!1}return!0};return this.childNodes.every(t),void(this._$singleSlot=e||null)}if(this._$dynamicSlotSet){var r=new Set,n=function(e){e instanceof se&&(null!==e._$slotName&&r.add(e),e.childNodes.forEach(n))};return this.childNodes.forEach(n),void(this._$dynamicSlotSet=r)}var i=Object.create(null),a=function(e){e instanceof se&&(null!==e._$slotName&&(i[e._$slotName]||(i[e._$slotName]=e)),e.childNodes.forEach(a))};this.childNodes.forEach(a),this._$slots=i},t.prototype.isMultipleSlots=function(){return void 0!==this._$slots},t.prototype.isDynamicSlots=function(){return void 0!==this._$dynamicSlotSet},t.prototype.setDynamicSlotHandler=function(e,t,r,n){if(this._$requiredSlotValueNames=e,this._$insertDynamicSlotHandler=t,this._$removeDynamicSlotHandler=r,this._$updateDynamicSlotHandler=n,this._$appliedDynamicSlots)for(var i=this._$appliedDynamicSlots.values(),a=i.next();!a.done;a=i.next()){var o=a.value;o.updatePathTree||(o.updatePathTree=Object.create(null))}},t.prototype.useDynamicSlotHandlerFrom=function(e){e._$insertDynamicSlotHandler&&this.setDynamicSlotHandler(e._$requiredSlotValueNames.slice(),e._$insertDynamicSlotHandler,e._$removeDynamicSlotHandler,e._$updateDynamicSlotHandler)},t.prototype.replaceSlotValue=function(e,t,r){var n,i=e._$slotValues;if(i){var a=i[t],o=r;if(0!==this._$propertyPassingDeepCopy&&(o=2===this._$propertyPassingDeepCopy?N(r,!0):D(r)),a!==o&&(i[t]=o,this._$requiredSlotValueNames.indexOf(t)>=0)){var s=null===(n=this._$appliedDynamicSlots)||void 0===n?void 0:n.get(e);s&&(s.updatePathTree||(s.updatePathTree=Object.create(null)),s.updatePathTree[t]=!0)}}},t.prototype.applySlotValueUpdates=function(e){var t,r,n=null===(t=this._$appliedDynamicSlots)||void 0===t?void 0:t.get(e),i=null==n?void 0:n.updatePathTree;i&&(n.updatePathTree=void 0,null===(r=this._$updateDynamicSlotHandler)||void 0===r||r.call(this,e,e._$slotValues,i))},t.prototype.applySlotUpdates=function(){var e;if(this._$appliedDynamicSlots)for(var t=this._$appliedDynamicSlots.entries(),r=t.next();!r.done;r=t.next()){var n=r.value,i=n[0],a=n[1],o=null==a?void 0:a.updatePathTree;o&&(a.updatePathTree=void 0,null===(e=this._$updateDynamicSlotHandler)||void 0===e||e.call(this,i,i._$slotValues,o))}else this._$appliedDynamicSlots=new Map,this._$appliedSlotCacheDirty=!0,this._$checkSlotChanges()},t}(ue),Pt=function(e){if(e instanceof se){var t=void 0;return t=e instanceof ue?"(virtual):".concat(e.is):e instanceof we?"".concat(e.tagName,":").concat(e.is):e instanceof It?e.is:"(unknown)","<".concat(t).concat(function(e){var t="";if(e instanceof se){null!==e._$slotName&&(t+=' (slot) name="'.concat(e._$slotName,'"')),e.id&&(t+=' id="'.concat(e.id,'"')),e.slot&&(t+=' slot="'.concat(e.slot,'"'));var r=e.class;r&&(t+=' class="'.concat(r,'"')),e.style&&(t+=' style="'.concat(e.style,'"'))}return e instanceof ue||(e instanceof we?we.listProperties(e).forEach((function(r){t+=" ".concat(r,'="').concat(String(e.data[r]),'"')})):e.attributes.forEach((function(e){t+=" ".concat(e.name,'="').concat(String(e.value),'"')}))),t}(e),">")}return e instanceof St?e.textContent.trim():null===e?"<(null)>":void 0===e?"<(undefined)>":"<(unknown)>"},xt=function(e,t,r){void 0===r&&(r=0);for(var n="",i=r;i;i-=1)n+="  ";var a=n+Pt(e),o=!1;return e instanceof se&&(e instanceof we&&(o=e.getComponentOptions().externalComponent),t?o?(a+="\n".concat(n,"  <(external)>"),e.childNodes.forEach((function(e){a+="\n".concat(xt(e,t,r+2))}))):e.forEachComposedChild((function(e){a+="\n".concat(xt(e,t,r+1))})):e.childNodes.forEach((function(e){a+="\n".concat(xt(e,t,r+1))}))),a},Ot=function(e,t){console.log(xt(e,t))};!function(e){e.ShadowAncestors="shadow-ancestors",e.ComposedAncestors="composed-ancestors",e.ShadowDescendantsRootFirst="shadow-descendants-root-first",e.ShadowDescendantsRootLast="shadow-descendants-root-last",e.ComposedDescendantsRootFirst="composed-descendants-root-first",e.ComposedDescendantsRootLast="composed-descendants-root-last"}(kt||(kt={}));var Rt=function(){function e(e,t,r){if(void 0===r&&(r=se),!(e instanceof se||e instanceof St))throw new Error("Element iterators can only be used in elements or text nodes");if(this._$node=e,this._$nodeTypeLimit=r||se,"shadow-ancestors"===t||"shadow-descendants-root-first"===t||"shadow-descendants-root-last"===t)this._$composed=!1;else{if("composed-ancestors"!==t&&"composed-descendants-root-first"!==t&&"composed-descendants-root-last"!==t)throw new Error('Unrecognized iterator type "'.concat(String(t),'"'));this._$composed=!0}this._$isAncestor="shadow-ancestors"===t||"composed-ancestors"===t,this._$rootFirst="shadow-descendants-root-first"===t||"composed-descendants-root-first"===t}return e.create=function(t,r,n){return new e(t,r,n)},e.prototype.forEach=function(e){var t=this._$nodeTypeLimit,r=this._$composed;if(this._$isAncestor)for(var n=this._$node;;){if(n instanceof t&&!1===e(n))return;var i=void 0;if(!(i=r?n.getComposedParent():n.parentNode))break;n=i}else{var a=this._$rootFirst,o=function(n){if(a&&n instanceof t&&!1===e(n))return!1;if(n instanceof se){var i=!1,s=function(e){return!1!==o(e)||(i=!0,!1)};if(r?n.forEachComposedChild(s):n.childNodes.forEach(s),i)return!1}return!(!a&&n instanceof t&&!1===e(n))};o(this._$node)}},e}(),Mt=function(e,t){!function(e,t){e.render((function(){"function"==typeof t&&gt("render",t,e,[null])}))}(e.getBackendContext(),t||null)},Dt=function(e){return it().defineBehavior(e)},Nt=function(e){return it().defineComponent(e)};function Lt(e,t){return we.create(e,t||null)}var Bt=Y.triggerEvent,$t=Y.triggerExternalEvent;R=t})(),(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{beginTapMark:()=>Ae,checkTapMark:()=>Ee,endTapMark:()=>Ie,getBehaviorByAdapter:()=>ge,getCallerMap:()=>de,getComponentTypeMap:()=>ye,getEnv:()=>ot,getGlassEasel:()=>st,getSubContextAdapter:()=>Q,getTraitBehaviorMap:()=>be,onSkylineEngineReady:()=>q,setExitState:()=>pe,setPageFreeDataCopier:()=>X,setSkylineEngine:()=>U,setSubContextAdapter:()=>K,setWebviewEngine:()=>z,wrapTapMark:()=>ke});var n,i=c.objectSpread2,a=e.n(i),o=new h.EventEmitter,s=(e,t)=>"/"===e?t:null===e?"wx://"+t:`plugin-private://${e}/${t}`,l=e=>{var t=e.indexOf("://");if(-1===t)return{codeSpaceID:"/",path:e,proto:null};var r=e.slice(0,t+3);switch(r){case"plugin-private://":return{codeSpaceID:e.slice(17,35),path:e.slice(36),proto:r};case"plugin://":return{codeSpaceID:e.slice(9,27),path:e.slice(28),proto:r};case"wx://":return{codeSpaceID:null,path:e.slice(6),proto:r};default:throw new Error(`Framework inner error: unknown protocol "${r}"`)}},u=(e,t)=>{var r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");for(var n=[],i=0;i<r.length;i+=1){var a=r[i];""!==a&&"."!==a&&(".."!==a?n.push(a):n.pop())}return n.join("/")},d=(e,t)=>{var r=l(e);return"/"===r.codeSpaceID&&(r.path=u(r.path,t)),r},f=(n=0,{emit(e){o.emit(n,e)},on(e){o.on(n,e)}}),g=e=>{f.emit(e)},y=0,_=1,S=2,C=3,I=4,A=5,k=6,E=7,P=e=>{try{return encodeURIComponent(null!=e?e:"")}catch(e){return""}},O=()=>{var e=Array.from({length:8},(()=>null)),t=0,n=!1,i=(r,i)=>{n||(null===e[r]&&t++,e[r]=i,t===e.length&&(n=!0,(()=>{if(void 0!==T){var t=e.map(P).join(",");T.reportKeyValue({key:"LazyCodeLoading",value:t,immediately:!0})}})()))};return i(y,r.version),i(S,!1),i(A,0),i(E,0),i},D=5e3,N=e=>{var t=setTimeout(e.onTimeout,D),r=Date.now();Promise.all(e.subPackages.map((e=>new Promise((t=>{((e,t)=>{var r=Date.now();w.loadSubpackage({name:e,success(){var n=Date.now();v.info(`[CodeMgr] loadSubPackage ${e} success, cost ${n-r}`),t({cost:n-r,res:"ok",pkg:e})},fail(){var n=Date.now();v.info(`[CodeMgr] loadSubPackage ${e} fail, cost ${n-r}`),t({cost:n-r,res:"fail",pkg:e})}})})(e,t)}))))).then((n=>{clearTimeout(t);var i=Date.now()-r,a=[];n.forEach((t=>{var{res:r,pkg:n}=t;"fail"===r?e.onError(n):a.push(n)})),e.onFinished({loadedSubPackages:a,totalCost:i})}))},L=0,B=1,$=2,F=3,j=new h.EventEmitter,W=e=>{var t,r=!1;return[n=>{t=n,r=!0,j.emit(e,n)},()=>t,n=>{r?n(t):j.once(e,n)}]},[U,V,q]=W(L),[z,G,H]=W(B),[K,Q,J]=W($),[X,Y]=W(F),Z={main:"app-service.js",sub:"app-service.js",lazyCommon:"common.app.js",lazyApp:"appservice.app.js",plugin:"appservice.js"},ee=(e,t)=>{v.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(e=>{var t,r;if(b.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t})(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}v.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(p.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,v.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))}))}},te=Object.prototype.hasOwnProperty;class re{constructor(e){this.codeManager=void 0,this.components=new Set,this.waitingPages={},this.injectTimeout=null,this.codeManager=e}registerPage(e,t){this.waitingPages[e]={components:new Set,page:t}}unRegisterPage(e){delete this.waitingPages[e]}arrange(e,t){this.components.add(e),this.waitingPages[t].components.add(e),null===this.injectTimeout&&(this.injectTimeout=setTimeout(this.doInject.bind(this),16))}doInject(){this.injectTimeout=null;var e=Array.from(this.components);this.components.clear();var t=[];Object.values(this.waitingPages).forEach((e=>{t.push({page:e.page,rootComps:Array.from(e.components)}),e.components.clear()})),this.codeManager.ensureComponents(e,t)}}class ne{constructor(e){this.env=void 0,this.loadedSubPackage=new Set,this.injectedSubPackage=new Set,this.extendedLibList=new Set,this.isLazyLoad=!1,this.allSubPackageRoots=[],this.allPlugins={},this.subPackagePlugins={},this.isFirstPage=!0,this.injector=void 0,this.assembleProtocol=s,this.normalizePath=u,this.normalizeUrl=d,this.env=e,this.injector=new re(this),p.onReady((()=>{this.initConfig(p)}))}info(e){v.info(`[CodeMgr] ${e}`)}initConfig(e){"develop"!==e.envVersion&&"trial"!==e.envVersion||(this.extendedLibList.add("wx0354ba48aadc0ab2"),this.extendedLibList.add("wxfa43a4a7041a84de")),this.isLazyLoad=!0===e.isLazyLoad,Array.isArray(e.subPackages)&&(this.allSubPackageRoots=e.subPackages.map((e=>{var t=e.root||"";return"/"===t.slice(-1)?t:t+"/"})),this.allSubPackageRoots.sort(((e,t)=>-(e.length-t.length)))),this.initSubPackagePlugin(e)}loadJsFiles(e,t){var r=x.getAppContext();if(0===e.length)return 0;this.info(`loadJsFiles (${e.length} files)`);var n=Date.now();r.loadJsFiles(e,null,{reportKey:void 0,isPageInitialScript:t,waitResult:!1});var i=Date.now();return this.info(`loadJsFiles done, cost: ${i-n}ms`),i-n}getEntryFiles(e){var t=p.separatedPlugins||[];this.info(`isLazyLoad: ${this.isLazyLoad}`),this.info(`moduleNames: ${e.join(",")}`),this.info(`separatedPlugins: ${JSON.stringify(t)}`);var r=[];return t.forEach((t=>{var n=this.getPluginSubPackage(t.plugin_id);if(e.includes(n)){var i,a,o=n+t.prefix_path;o.endsWith("/")||(o+="/"),!t.prefix_path&&(o+=`__extended__/${t.plugin_id}/`,this.extendedLibList.add(t.plugin_id)),this.isLazyLoad&&(i=o+Z.lazyCommon,a=!1,v.info(`[CodeMgr] accessSync path: ${i}`),b.invoke("accessSync",{path:i},(e=>{a=e.errMsg.includes(":fail")})),!a)?(r.push(o+Z.lazyCommon,o+Z.lazyApp),t.prefix_path||ee(n,o+"plugin.json")):r.push(o+Z.plugin)}})),e.forEach((e=>{this.isLazyLoad?r.push(e+Z.lazyCommon,e+Z.lazyApp):"__APP__"===e?r.push(e+Z.main):r.push(e+Z.sub)})),this.info(`entryFiles: ${JSON.stringify(r)}`),r.map((e=>"/"===e[0]?e:"/"+e))}recurseUsingComponents(e){var t=this,r=new Set,n=new Set,i=new Set,a=[],o=(e,t,r,n,i)=>{var{codeSpaceID:s,path:l,proto:c}=d(t,null===i?"":i),u=s!==at?s:e,p=this.env.getCodeSpace(u);if(p){var h="plugin://"===c?p.componentAliasToPath[l]:l;p.componentRegistered(h)?a.push([u,h,!1]):r?null!==n&&o(e,n,!1,null,i):a.push([u,h,!0])}else this.info(`Error: unknown domain ${u} during recurseUsingComponents`)};e.forEach((e=>{o(at,e,!1,null,null)}));for(var l=0,c=function(){var[e,c,u]=a[l++],d=t.env.getCodeSpace(e),p=t.convertAliasToRoute(s(e,c));if(r.has(p))return"continue";r.add(p),i.add(p),n.add(d.getComponentChunk(c));var h=d.getComponentStaticConfig(c);if(void 0===h)return"continue";var f=h.usingComponents||{},g=h.componentGenerics||{},v=h.componentPlaceholder||{};for(var m of Object.keys(f)){var y=te.call(v,m),_=null;y&&te.call(f,v[m])&&(_=f[v[m]]),o(e,f[m],u&&y,_,c)}for(var b of Object.keys(g)){var w=g[b];"boolean"!=typeof w&&"string"==typeof w.default&&o(e,w.default,!1,null,c)}d.getTemplateDependencies(c).forEach((t=>{o(e,t,!1,null,c)}))};l<a.length;)c();var u=Array.from(n),p=Array.from(i);return this.info(`recurseUsingComponents(${e.join(",")}) => [${u.length} chunks]`),{codeChunks:u,comps:p}}batchInjectComponentChunks(e,t){var r=e.map((e=>this.convertAliasToRoute(e))).filter((e=>!e.includes("://")));this.info(`injectComponentChunks: [${r.length} chunks]`);var n=[];r.forEach((e=>{n.push(`${e}.common.js`,`${e}.appservice.js`)}));return this.loadJsFiles(n,t)}injectComponentsRecursively(e,t,r,n){var i,a,o=()=>{var{codeChunks:t}=this.recurseUsingComponents(e);try{this.env.startGroupRegister();var n=this.batchInjectComponentChunks(t,r);r&&setTimeout((()=>{this.doLazyLoadReport(t.length,n)}),1e3)}finally{this.env.endGroupRegister()}};for(var{rootComps:s,page:l}of t){var{comps:c}=this.recurseUsingComponents(s);l.appendStyleSheets(c)}if(n){var u=(i=[],a=0,{generateCallback(){a++;var e=!1;return()=>{if(!e&&(e=!0,0==--a&&i.length>0)){var t=i;i=[],t.forEach((e=>e()))}}},all(e){0===a?e():i.push(e)}});t.forEach((e=>{e.page.blockForStyleSheet(u.generateCallback())})),u.all(o)}else o()}ensureComponents(e,t){var r,n=e.map((e=>this.matchSubPackageName(e)));r=n,(n=Array.from(new Set(r))).some((e=>!this.isInIndependentSubPackage(e)))&&!n.includes("__APP__")&&n.unshift("__APP__"),n=n.filter((e=>!this.loadedSubPackage.has(e))),this.batchLoadSubPackages(n,(r=>{this.batchInjectSubPackages(r),this.injectComponentsRecursively(e,t,!1,!0)}))}batchLoadSubPackages(e,t){this.info("loadSubPackages begin: "+e.join(", ")),N({subPackages:e,onTimeout:()=>{g({type:"subpackage",errMsg:"loadSubpackage: timeout",subpackage:e})},onError:e=>{g({type:"subpackage",subpackage:[e],errMsg:"loadSubpackage: fail"})},onFinished:r=>{this.setSubPackageLoaded(r.loadedSubPackages),this.info(`loadSubPackages end: ${e.join(", ")}, cost: ${r.totalCost}`),t(r.loadedSubPackages)}})}setSubPackageLoaded(e){this.info("setSubPackageLoaded: "+e.join(", ")),e.forEach((e=>{this.loadedSubPackage.add(e)}))}batchInjectSubPackages(e){this.info("injectSubPackages: "+e.join(", "));var t=e.filter((e=>!this.injectedSubPackage.has(e))).map((e=>"__APP__"===e||"/"===e.slice(-1)?e:e+"/")),r=this.getEntryFiles(t);this.loadJsFiles(r,!1),this.setSubPackageInjected(t),this.prepareSubPackagesStyle(e)}setSubPackageInjected(e){this.info("setSubPackageInjected: "+e.join(", ")),e.forEach((e=>{this.injectedSubPackage.add(e)}))}setInitialSubPackage(e){var t=[this.matchSubPackageName(e)];this.isInIndependentSubPackage(e)||t.includes("__APP__")||t.push("__APP__"),this.prepareSubPackagesStyle(t),this.setSubPackageLoaded(t),this.setSubPackageInjected(t)}doLazyLoadReport(e,t){var r=O(),n=this.isFirstPage;this.isFirstPage=!1;var i=this.env.totalStaticConfigCount();r(_,n),r(C,i),r(I,e),r(k,t)}convertRouteToAlias(e){if(e.startsWith("__wx__"))return"wx://"+e.slice(6);var t=e.indexOf("__plugin__");return-1===t?e:"plugin-private://"+e.slice(t+11)}getPluginRoutePrefix(e){var t=this.getPluginSubPackage(e);return`${"__APP__"===t?"":t}__plugin__/${e}/`}convertAliasToRoute(e){var{codeSpaceID:t,path:r,proto:n}=l(e);if(null===t)return"__wx__/"+r;if("/"===t)return r;var i=this.getPluginRoutePrefix(t);if("plugin-private://"===n)return i+r;var a=this.env.getCodeSpace(t);if(void 0===a)throw new Error(`Framework inner error: unknown plugin ${t}`);return i+a.componentAliasToPath[r]}addSubPackagePlugin(e,t){var r=(e=>("__APP__"===e||("/"!==e[0]&&(e="/"+e),"/"!==e[e.length-1]&&(e+="/")),e))(e);"string"!=typeof t.subpackage&&(t.subpackage=r),this.allPlugins[t.provider]=t,void 0===this.subPackagePlugins[r]?this.subPackagePlugins[r]=[t]:this.subPackagePlugins[r].push(t)}initSubPackagePlugin(e){var t=new Set,r={};Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n];"string"==typeof i.subpackage?this.addSubPackagePlugin(i.subpackage,a()({},i)):(t.add(i.provider),r[i.provider]=i)})),(e.subpackages||[]).forEach((e=>{Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n],a=i.provider;t.has(a)&&(t.delete(a),delete r[a],this.addSubPackagePlugin(e.root,i))}))})),Array.from(t).forEach((e=>{this.addSubPackagePlugin("__APP__",r[e])}))}getPluginPageGenerics(e){var t,{codeSpaceID:r,path:n}=l(e);if(null===r||"/"===r)return{};var i=this.allPlugins[r],a=this.env.getCodeSpace(r);if(void 0===i||void 0===a)throw new Error(`Framework inner error: unknown plugin ${r}`);var o=a.componentPathToAlias[n],s={},c=(null==i||null===(t=i.genericsImplementation)||void 0===t?void 0:t[o])||{};return Object.keys(c).forEach((e=>{s[e]=u(c[e],i.subpackage||"")})),s}getPluginSubPackage(e){if(void 0===this.allPlugins[e])throw new Error(`Framework inner error: unknown plugin ${e}`);return this.allPlugins[e].subpackage}matchSubPackageName(e){var{codeSpaceID:t}=l(e);if(null===t||"/"===t){for(var r=0;r<this.allSubPackageRoots.length;++r)if(e.startsWith(this.allSubPackageRoots[r]))return this.allSubPackageRoots[r];return"__APP__"}return this.getPluginSubPackage(t)}isInIndependentSubPackage(e){if(!Array.isArray(p.subPackages))return!1;var t=this.matchSubPackageName(e),r=p.subPackages.find((e=>e.root===t));return!!r&&r.independent}prepareSubPackagesStyle(e){var t=G(),{styleSheetRuntime:r}=t;r.batchUpdate((()=>{e.forEach((e=>{var t,n="__APP__"===e?"":e;r.setIndex(n+"app.fpiib"),null===(t=this.subPackagePlugins[e])||void 0===t||t.forEach((e=>{var t=this.getPluginRoutePrefix(e.provider);r.addIndexGroup(t),r.setIndex(t+"app.fpiib")}))}))}))}}var ie={writeFieldsToNode:!1,writeIdToDOM:!0,useMethodCallerListeners:!0},ae={dataDeepCopy:R.DeepCopyKind.None,listenerChangeLifetimes:!0,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!0};"devtools"===p.platform&&(ie.writeExtraInfoToAttr=!0,ae.writeExtraInfoToAttr=!0);var oe=()=>Math.floor(4294967296*(1+Math.random())).toString(16).slice(1),se=e=>null!==e,le=()=>{};class ce extends Map{constructor(...e){super(...e),this.revMap=new Map}set(e,t){return super.set(e,t),this.revMap.set(t,e),this}delete(e){var t=super.get(e),r=super.delete(e),n=this.revMap.delete(t);return r&&n}getRev(e){return this.revMap.get(e)}hasRev(e){return this.revMap.has(e)}}var ue=new WeakMap,de=e=>ue.get(e),pe=(e,t)=>{ue.get(e).exitState=t},he=new WeakMap,fe=new WeakMap,ge=e=>he.get(e),ve=e=>fe.get(e),me=new WeakMap,ye=e=>me.get(e),_e=new WeakMap,be=e=>_e.get(e),we=0,Se=[],Ce=(...e)=>{Se.push(e)};h.onLoad((()=>{Ce=setTimeout,Se.forEach((e=>{setTimeout(...e)}))}));var Ie=function(e){we===e&&(we=0)},Ae=function(){return we=Date.now()+Math.random()},ke=function(e){var t,r=Ae();try{t=e(r)}catch(e){throw Ce((()=>{Ie(r)}),0),e}return Ce((()=>{Ie(r)}),0),t},Ee=function(){return!!we},Te=(e,t)=>{var r=e instanceof R.Element?e:de(e).component;return t&&e instanceof R.VirtualNode&&(r.id||Object.getOwnPropertyNames(r.dataset).length||(r=t instanceof R.Element?t:de(t).component)),{id:r.id,dataset:r.dataset}},Pe=e=>{if(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push({identifier:n.identifier,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,force:n.force||0})}return t}},xe=e=>({type:e.type,timeStamp:e.timeStamp,target:Te(e.target,e.currentTarget),currentTarget:Te(e.currentTarget,null),mark:e.mark,detail:e.detail,touches:Pe(e.touches),changedTouches:Pe(e.changedTouches),mut:e.mutatedMarked(),_requireActive:e._requireActive,_relatedInfo:e._relatedInfo,_userTap:Ee()});R.template.setGlobalEventObjectFilter((e=>(Re(),xe(e))));var Oe,Re=()=>{Re=le,setTimeout((()=>{T.reportKeyValue({key:"DeprecatedAPI",value:"GlassEaselGlobalEventObjectFilter"})}),1e3)},Me={},De="not-found",Ne=new class{constructor(){this.constructors=void 0}setConstructors(e){this.constructors=e}translateConstructor(e){switch(e){case this.constructors.String:return R.NormalizedPropertyType.String;case this.constructors.Number:return R.NormalizedPropertyType.Number;case this.constructors.Boolean:return R.NormalizedPropertyType.Boolean;case this.constructors.Object:return R.NormalizedPropertyType.Object;case this.constructors.Array:return R.NormalizedPropertyType.Array;case this.constructors.Function:return R.NormalizedPropertyType.Function;case null:case void 0:return R.NormalizedPropertyType.Any;default:return null}}translatePropertyDef(e){var t=this.translateConstructor(e);if(null!==t)return t;if(Object.prototype.hasOwnProperty.call(e,"type")){var r=a()({},e),n=this.translateConstructor(e.type);if(null!==n)return r.type=n,r}return e}translateComponentDef(e,t){if(void 0===e.properties)return t();var r={};Object.keys(e.properties).forEach((t=>{r[t]=this.translatePropertyDef(e.properties[t])}));var n=e.properties;e.properties=r;var i=t();return e.properties=n,i}};J((e=>{Oe=e,Ne.setConstructors(Oe.constructors)}));var Le=function(e){return e.Isolated="isolated",e.ApplyShared="apply-shared",e.Shared="shared",e.PageIsolated="page-isolated",e.PageApplyShared="page-apply-shared",e.PageShared="page-shared",e}({}),Be={X:e=>null==e?Object.create(null):e,Y:e=>null==e?"":String(e),Z:(e,t)=>!0===e||(e?e[t]:void 0),D:()=>{},Q:{A:e=>e,B:e=>e},gdc:e=>e},$e=new WeakSet;class Fe{constructor(e,t,r,n,i,a){this._$env=void 0,this.id=void 0,this._$isMainSpace=void 0,this.isLibSpace=void 0,this.space=void 0,this.styleScopeManager=void 0,this.staticConfigMap=Object.create(null),this.styleScopeNameMap=Object.create(null),this.styleScopeMap=Object.create(null),this.extraStyleScopeMap=Object.create(null),this.compiledTemplateMap=Object.create(null),this.compiledScripts=Object.create(null),this.waitingAliasMap=Object.create(null),this.polyfill=void 0,this.polyfillInitiator=void 0,this._$sharedStyleScope=void 0,this.libStyleScope=null,this.styleIsolationMap=Object.create(null),this._$templateDependencies={},this._$codeChunk={},this._$codeChunkEnabled=!1,this.runtimeGlobals=Be,this.componentPathToAlias={},this.componentAliasToPath={},this.id=e,this._$env=t,this._$isMainSpace=r,this.isLibSpace=n,this.space=new R.ComponentSpace(De,null==a?void 0:a.space,null==a?void 0:a.space.styleScopeManager),this.styleScopeManager=this.space.styleScopeManager,this._$sharedStyleScope=this.styleScopeManager.register(""),this.polyfillInitiator=i,this.space.setComponentWaitingListener(((e,t,r)=>{var n,i,a=e&&null!==(n=null===(i=this.space.getExportedComponent(t))||void 0===i?void 0:i.is)&&void 0!==n?n:t,o=r.getBackendContext().id;this._$env.codeManager.injector.arrange(a,o)})),this.isLibSpace?this.space.defineComponent({is:De}):this.componentEnv(De,(e=>{e.Component({})}))}log(e){v.info(`[GlassEaselAdapter] ${e}, codeSpaceId=${this.id}`)}initPolyfill(e){this.polyfill=new e(...this.polyfillInitiator())}hasPolyfill(){return void 0!==this.polyfill}isMainSpace(){return this._$isMainSpace}getComponentSpace(){return this.space}importPluginSpace(e,t){this.log(`importPluginSpace: ${e} ${t}`);var r=this._$env.getCodeSpace(e);if(!r)throw new Error(`There is no space "${e}" in the environment`);this.space.importSpace(`plugin://${t}`,r.space,!1),this.space.importSpace(`plugin://${e}`,r.space,!1),this.space.importSpace(`plugin-private://${e}`,r.space,!0)}importLibSpace(e){this.log("importLibSpace"),this.space.importSpace("wx://",e.space,!1),this.libStyleScope=e.libStyleScope}getStyleScopeName(e){return this.styleScopeNameMap[e]}setStyleScope(e,t){this.styleScopeNameMap[e]=t}getStyleScope(e){return this.styleScopeMap[e]}getExtraStyleScope(e){return this.extraStyleScopeMap[e]}getStyleIsolation(e){return this.styleIsolationMap[e]}setGlobalUsingComponent(e,t){this.space.setGlobalUsingComponent(e,t)}updateGlobalUsingComponent(e){e.forEach(((e,t)=>{this.space.setGlobalUsingComponent(t,e)}))}exportComponents(e){var t=this.getComponentSpace();Object.keys(e).forEach((r=>{t.exportComponent(r,e[r]),this.componentPathToAlias[e[r]]=r,this.componentAliasToPath[r]=e[r]}))}componentRegistered(e){return"string"==typeof e&&null!==this.space.getComponentByUrlWithoutDefault(e,"")}setRuntimeGlobals(e){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);this.runtimeGlobals=e(),this.polyfill.setRuntimeGlobals(e)}batchAddCompiledScripts(e){e(this.compiledScripts,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc)}batchAddCompiledTemplate(e){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);var t=e(this.compiledTemplateMap,this.compiledScripts,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc,this.runtimeGlobals.X,this.runtimeGlobals.Y,this.runtimeGlobals.Z);Object.keys(t).forEach((e=>{this.compiledTemplateMap[e]=t[e],this.polyfill.addCompiledTemplate(e,{groupList:this.compiledTemplateMap,content:t[e]})}))}getCompiledTemplate(e){var t=this.compiledTemplateMap[e];return void 0===t&&(t=R.template.DEFAULT_PROC_GEN_GROUP),{groupList:this.compiledTemplateMap,content:t,disallowNativeNode:!this.isLibSpace,eventObjectFilter:this.isLibSpace?void 0:xe}}addComponentStaticConfig(e,t){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);this.staticConfigMap[e]=t,this.polyfill.addComponentStaticConfig(e,t),this.calculateStyleScope(e)}getComponentStaticConfig(e){return this.staticConfigMap[e]}addTemplateDependencies(e,t){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);Array.isArray(this._$templateDependencies[e])||(this._$templateDependencies[e]=[]),this._$templateDependencies[e].push(...t),this.polyfill.addTemplateDependencies(e,t)}getTemplateDependencies(e){return this._$templateDependencies[e]||[]}createWxsStateObject(){var e=Object.create(null);return $e.add(e),e}isWxsStateObject(e){return $e.has(e)}enableCodeChunk(){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);this._$codeChunkEnabled=!0,this.polyfill.enableCodeChunk(),m.info("LazyCodeLoading: requiredComponentChunks")}initializeCodeChunk(e,t){if(!this.polyfill)throw new Error(`Framework inner error: Polyfill not ready for codeSpace ${this.id}`);t.forEach((t=>{this._$codeChunk[t]=this._$codeChunk[t]||e||""})),this.polyfill.initializeCodeChunk(e,t)}getComponentChunk(e){return this._$codeChunkEnabled&&"string"==typeof this._$codeChunk[e]?this._$codeChunk[e]:e}staticConfigCount(){return Object.keys(this.staticConfigMap).length}calculateStyleScope(e){var t=this.staticConfigMap[e],r=null==t?void 0:t.addGlobalClass,n=null==t?void 0:t.styleIsolation;void 0===n&&(n=null!=t&&t.component?r?Le.ApplyShared:Le.Isolated:Le.Shared),this.styleIsolationMap[e]=n,n===Le.ApplyShared||n===Le.PageApplyShared?(this.styleScopeMap[e]=this.styleScopeManager.register(this.getStyleScopeName(e)||`__${oe()}`),this.extraStyleScopeMap[e]=this._$sharedStyleScope):n!==Le.Shared&&n!==Le.PageShared||!this._$isMainSpace?this.styleScopeMap[e]=this.styleScopeManager.register(this.getStyleScopeName(e)||`__${oe()}`):this.styleScopeMap[e]=this._$sharedStyleScope}globalComponentEnv(e,t,r){return this.componentEnv(t,(({Page:t,Component:n,Behavior:i})=>{var a=e.Page,o=e.Component,s=e.Behavior;e.Page=t,e.Component=n,e.Behavior=i;var l=r();return e.Page=a,e.Component=o,e.Behavior=s,l}))}componentEnv(e,t){var r=this;function n(t){return void 0!==t?r.behavior(e,!0).definition(t).register():r.behavior()}return n.trait=r.traitBehavior.bind(r),t({Page:function(t){return r.component(e,!0).pageDefinition(t).register()},Component:function(t){return void 0!==t?Ne.translateComponentDef(t,(()=>r.component(e,!0).definition(t).register())):r.component(e)},Behavior:n})}component(e,t=!1){return He.create(this,e,this.waitingAliasMap[e],t)}behavior(e,t=!1){if(void 0===e)return Ge.create(this);var r=this._$env.codeManager.normalizePath(e,"");return Ge.create(this,r,t)}traitBehavior(e){var t,r,n=void 0===e?this.space.defineTraitBehavior():this.space.defineTraitBehavior(e),i=new Oe.TraitBehavior;return t=i,r=n,_e.set(t,r),i}}var je=new WeakMap,We=new WeakMap,Ue=e=>We.get(e),Ve=(e,t)=>{var r=t(We.get(e));return We.set(e,r),r},qe=e=>je.get(e);class ze{constructor(){this._$parents=[],this._$disableDefinitionFilters=!1}implement(e,t){return Ue(this).implement(be(e),t),this}externalClasses(e){return Ue(this).externalClasses(e),this}data(e){return Ue(this).data(e),this}property(e,t){return Ue(this).property(e,Ne.translatePropertyDef(t)),this}methods(e){return Ue(this).methods(e),this}observer(e,t,r=!1){return Ue(this).observer(e,t,r),this}lifetime(e,t,r=!1){return Ue(this).lifetime(e,t,r),this}pageLifetime(e,t,r=!1){return Ue(this).pageLifetime(e,t,r),this}relation(e,t){var r=t.target instanceof Oe.Behavior?ge(t.target):t.target instanceof Oe.ComponentType?ye(t.target):t.target;return Ue(this).relation(e,{target:r,type:t.type,linked:t.linked,linkChanged:t.linkChanged,unlinked:t.unlinked,linkFailed:t.linkFailed}),this}init(e){return Ue(this).init((function({data:t,setData:r,implement:n,relation:i,observer:a,lifetime:o,pageLifetime:s,method:l}){var c=this,u=de(c).component;e.call(c,{self:c,data:t,setData:(e,t)=>{r(e),t&&R.triggerRender(u,(()=>{t()}))},implement:(e,t)=>{n(be(e),t)},relation:e=>{if(e.target instanceof Oe.TraitBehavior)return i({target:be(e.target),type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed});var t=e.target instanceof Oe.Behavior?ge(e.target):e.target instanceof Oe.ComponentType?ye(e.target):e.target;return i({target:t,type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed})},observer:a,lifetime:o,pageLifetime:s,method:l})})),this}definition(e){var t=qe(this),r=Ue(this),n=(Array.isArray(e.behaviors)?e.behaviors:[]).map((e=>{if("string"!=typeof e)return e;var n=r._$is||"",i=t.getComponentSpace().getBehaviorByUrl(e,n);if(null===i)return e;var a=ve(i);return void 0!==a?a:e})).filter(se);this._$disableDefinitionFilters||n.forEach((t=>{var r;t instanceof Oe.Behavior&&(null===(r=t._$bindedDefinitionFilter)||void 0===r||r.call(t,e))}));var{properties:i,data:a,observers:o,methods:s,created:l,attached:c,ready:u,moved:d,detached:p,lifetimes:h,pageLifetimes:f,relations:g,externalClasses:v}=e;if(n.forEach((e=>{e instanceof Oe.Behavior?(this._$parents.push(e),r.behavior(ge(e))):r.definition({behaviors:[e]})})),void 0!==a&&("function"==typeof a?r.data(a):r.staticData(a)),void 0!==i)for(var m=Object.keys(i),y=0;y<m.length;y+=1){var _=m[y];r.property(_,Ne.translatePropertyDef(i[_]))}if(void 0!==o)if(Array.isArray(o))for(var b=0;b<o.length;b+=1){var{fields:w,observer:S}=o[b];r.observer(w||"**",S)}else for(var C=Object.keys(o),I=0;I<C.length;I+=1){var A=C[I],k=o[A];r.observer(A,k)}if(s&&r.methods(s),l&&void 0===(null==h?void 0:h.created)&&r.lifetime("created",l,!0),c&&void 0===(null==h?void 0:h.attached)&&r.lifetime("attached",c,!0),u&&void 0===(null==h?void 0:h.ready)&&r.lifetime("ready",u,!0),d&&void 0===(null==h?void 0:h.moved)&&r.lifetime("moved",d,!0),p&&void 0===(null==h?void 0:h.detached)&&r.lifetime("detached",p,!0),h)for(var E=Object.keys(h),T=0;T<E.length;T+=1){var P=E[T],x=h[P];r.lifetime(P,x,!0)}if(f)for(var O=Object.keys(f),R=0;R<O.length;R+=1){var M=O[R],D=f[M];r.pageLifetime(M,D,!0)}if(g)for(var N=Object.keys(g),L=0;L<N.length;L+=1){var B=N[L],$=g[B];r.relation(B,$)}return v&&r.externalClasses(v),this}}class Ge extends ze{constructor(...e){super(...e),this._$definitionFilter=void 0}static create(e,t,r=!1){var n=new Ge;n._$disableDefinitionFilters=r,je.set(n,e);var i=e.getComponentSpace().defineWithMethodCaller(t);return We.set(n,i),n}chainingFilter(e){return Ue(this).chainingFilter(e),this}behavior(e){if("string"==typeof e){var t=Ue(this)._$is||"",r=qe(this).getComponentSpace().getBehaviorByUrl(e,t);if(null!==r){var n=ve(r);void 0!==n&&(e=n)}}return e instanceof Oe.Behavior?(this._$parents.push(e),Ve(this,(t=>t.behavior(ge(e))))):Ve(this,(t=>t.definition({behaviors:[e]}))),this}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.definitionFilter&&(this._$definitionFilter=e.definitionFilter),this}register(){var e=Ue(this).registerBehavior(),t=new Oe.Behavior(this._$parents,this._$definitionFilter);return((e,t)=>{he.set(t,e),fe.set(e,t)})(e,t),t}}class He extends ze{constructor(...e){super(...e),this._$is=void 0,this._$alias=void 0,this._$options=void 0,this._$export=void 0,this._$proto=void 0}static create(e,t,r,n=!1){var i=new He;je.set(i,e);var a=e.getComponentSpace().defineWithMethodCaller(t);return We.set(i,a),i._$is=t,i._$alias=r,i._$disableDefinitionFilters=n,a.methodCallerInit((function(){var e=this,r=i._$proto;if(void 0===r){var n=e.getComponentDefinition().behavior.getMethods();r=i._$proto=new Oe.ComponentProto(n)}var a=r.derive();a._$export=i._$export;var o=e.getBackendContext(),s=w.createRouter(t,o.id);return((e,t)=>{void 0===Me[e.id]?(Me[e.id]=[t],e.render((()=>{var t=Me[e.id];delete Me[e.id],t.forEach((e=>{e()}))}))):Me[e.id].push(t)})(o,(()=>{e.triggerLifetime("ready",[])})),((e,t)=>{ue.set(e,t)})(a,{component:e,pageRouter:s}),a})),i}options(e){return this._$options=e,this}behavior(e){this._$parents.push(e);var t=ge(e);return Ve(this,(e=>e.behavior(t))),this}export(e){return this._$export=e,this}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.options&&this.options(e.options),this}pageDefinition(e){for(var t=Object.create(null),r={},n={},i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a];"data"===o||"options"===o||"behaviors"===o?n[o]=e[o]:"function"==typeof e[o]?r[o]=e[o]:t[o]=e[o]}return n.methods=r,this.definition(n),Ue(this).init((function(){Y()(this,t),Object.keys(r).forEach((e=>{this[e]=r[e].bind(this)}))})),this}checkDeprecatedStyleIsolationOptions(){var e,t,r,n,i,a=this._$is,o=qe(this).getComponentStaticConfig(a);if(void 0===(null===(e=this._$options)||void 0===e?void 0:e.styleIsolation)||(null===(t=this._$options)||void 0===t?void 0:t.styleIsolation)===(null==o?void 0:o.styleIsolation)){if(void 0!==(null===(r=this._$options)||void 0===r?void 0:r.addGlobalClass)&&(null===(n=this._$options)||void 0===n?void 0:n.addGlobalClass)!==(null==o?void 0:o.addGlobalClass)){var s,l,c,u=null===(s=this._$options)||void 0===s?void 0:s.addGlobalClass,d=null!==(l=null===(c=this._$options)||void 0===c?void 0:c.styleIsolation)&&void 0!==l?l:null==o?void 0:o.styleIsolation;void 0===d&&(d=null!=o&&o.component?u?Le.ApplyShared:Le.Isolated:Le.Shared),console.warn(`Dynamic \`addGlobalClass\` option in component definition of "${a}" have been deprecated, and will NOT take effect in glass-easel. Consider migrating this option to component static config (${a}.json) by adding \`{ "styleIsolation": "${d}" \`}`)}}else console.warn(`Dynamic \`styleIsolation\` option in component definition of "${a}" have been deprecated, and will NOT take effect in glass-easel. Consider migrating this option to component static config (${a}.json) by adding \`{ "styleIsolation": "${null===(i=this._$options)||void 0===i?void 0:i.styleIsolation}" }\`.`)}register(){var e,t,r,n,i,a,o,s,l=this._$is,c=qe(this),u=c.getComponentStaticConfig(l),d=null==u?void 0:u.pureDataPattern,p=d?new RegExp(d):null===(e=this._$options)||void 0===e?void 0:e.pureDataPattern;this.checkDeprecatedStyleIsolationOptions();var h=Ue(this);h.options({idPrefixGenerator(){return null===this.ownerShadowRoot?"":oe()},multipleSlots:null===(t=this._$options)||void 0===t?void 0:t.multipleSlots,dynamicSlots:null===(r=this._$options)||void 0===r?void 0:r.dynamicSlots,pureDataPattern:p,virtualHost:null===(n=this._$options)||void 0===n?void 0:n.virtualHost,styleScope:c.getStyleScope(l),extraStyleScope:c.getExtraStyleScope(l),dataDeepCopy:null===(i=this._$options)||void 0===i?void 0:i.dataDeepCopy,propertyPassingDeepCopy:null===(a=this._$options)||void 0===a?void 0:a.propertyPassingDeepCopy,propertyEarlyInit:null===(o=this._$options)||void 0===o?void 0:o.propertyEarlyInit});var f=null==u?void 0:u.usingComponents,g=null==u?void 0:u.componentGenerics,v=null==u?void 0:u.componentPlaceholder;f&&h.usingComponents(f),g&&h.generics(g),v&&h.placeholders(v);var m=c.getCompiledTemplate(l);h.template(m);var y=h.registerComponent();null===(s=this._$alias)||void 0===s||s.forEach((e=>{c.getComponentSpace().exportComponent(e,this._$is)}));var _=new Oe.ComponentType;return((e,t)=>{me.set(e,t)})(_,y),_}}var Ke={skyline:4294967297,scl:4294967298},Qe=0,Je=1,Xe=2,Ye=3;class Ze{constructor(){this.env=ot(),this.tabBars=void 0,this.log("initTabBarManager"),this.tabBars=new Map}createTabBar(e){var t=Ke[e];if(!this.tabBars.has(t)){var r=new rt(e);this.tabBars.set(t,r),this.env.codeManager.injector.registerPage(t,r)}return t}getTabBar(e){return this.tabBars.get(e)}log(e){v.info(`[GlassEaselAdapter] TabBarManager ${e}`)}initTabBar(e){var t=this.getTabBar(e);this.log(`initTabBar, tabBarId: ${e}`),t&&t.state<Je&&t.init()}attachTabBar(e){var t=this.getTabBar(e);this.log(`attachTabBar, tabBarId: ${e}`),t&&t.state<Xe&&t.attach()}destroyTabBar(e){var t=this.getTabBar(e);this.log(`destroyTabBar, tabBarId: ${e}`),t&&t.destroy((()=>{this.tabBars.delete(e),this.env.codeManager.injector.unRegisterPage(e)}))}destroyAllTabBar(){this.tabBars.forEach(((e,t)=>{this.destroyTabBar(t)}))}getTabBarByPageId(e){var t=this.env.pages.get(e);if(null!=t&&t.tabBarId)return this.getTabBar(t.tabBarId)}}class et{findNodeById(e){return this.nodesMap.get(e)}getRootNodeId(){return this.nodesMap.getRev(this.root)}assignNodeWithId(e,t){return this.nodesMap.set(e,t)}removeNodeById(e){return this.nodesMap.delete(e)}getRootCompName(){return this.rootCompAlias}constructor(e){this.env=ot(),this.id=void 0,this.rootTagName=void 0,this.rootCompAlias=void 0,this.styleSheetManager=void 0,this.renderBackend=void 0,this.root=void 0,this.tracer=void 0,this.attachedCb=[],this.nodesMap=new ce,this.id=e}_init(e){q((t=>{H((r=>{this.log("init"),r.prepareWeUIV2(),this.tracer=r.createTracer(this.id),this.styleSheetManager=r.getStyleSheetManager(this.id);var n=t.getRuntime();e(n,(e=>{if((e=>{var t;if("function"==typeof R.setRevertEventDefaultPrevented){var r=V(),n=(null===(t=e.features)||void 0===t?void 0:t.eventDefaultPrevented)!==r.FeaturesEventDefaultPrevented.Corrected;v.info(`[GlassEaselAdapter] setRevertEventDefaultPrevented=${n}`),R.setRevertEventDefaultPrevented(n)}})(t.RuntimeCore.nativeGlobal),this.renderBackend=function(e){if("function"!=typeof e.createTextNode)throw new Error("Current version of skyline does not supports glass-easel compatible backend protocol");return"function"!=typeof e.render&&(e.render=function(e){setTimeout((()=>{e()}),16)}),e}(e),this.renderBackend.mode=R.BackendMode.Composed,this.renderBackend.frameworkType=2,!r.styleSheetRuntime.isBackendRuntimeReady()){var n=t.RuntimeCore.nativeGlobal.runtime;r.styleSheetRuntime.registerBackendRuntime(n)}this.styleSheetManager.registerBackendContext(e)}))}))}))}injectCode(e){this.tracer.traceBeginEvent("Framework","injectCode"),this.rootCompAlias=this.env.getCodeManager().convertRouteToAlias(e),this.log(`injectCode, rootCompAlias=${this.rootCompAlias}`),this.env.codeManager.setInitialSubPackage(this.rootCompAlias),this.env.codeManager.injectComponentsRecursively([this.rootCompAlias],[{rootComps:[this.rootCompAlias],page:this}],!0,!1),this.tracer.traceEndEvent()}doInitCreation(){var e=this.env.codeManager.getPluginPageGenerics(this.rootCompAlias);return this.log(`creating root component, rootCompAlias=${this.rootCompAlias}`),w.traceBeginEvent("Framework","createRootComponent"),this.root=this.env.getCodeSpace(at).getComponentSpace().createComponentByUrl(this.rootTagName,this.rootCompAlias,e||null,this.renderBackend),w.traceEndEvent(),V().getRuntime().insertToInspecteeRoots(this.root),this.root}onAttached(e){this.root&&R.Element.isAttached(this.root)?e.call(this):this.attachedCb.push(e)}_attach(){w.traceBeginEvent("Framework","componentLifetimes # attached"),R.Component.pretendAttached(this.root),w.traceEndEvent(),setTimeout((()=>{this.attachedCb.forEach((e=>{e.call(this)}))}),16)}appendStyleSheets(e){w.traceBeginEvent("Framework","appendStyleSheet");var t=this.env.getCodeSpace(at),r=this.env.codeManager;this.styleSheetManager.batchUpdate((()=>{this.styleSheetManager.setStyleSheet("__EMPTY__",t.libStyleScope,3),e.forEach((e=>{var n=r.convertRouteToAlias(e),{codeSpaceID:i,path:a}=r.normalizeUrl(n,""),o=this.env.getCodeSpace(i),s=0;if(n===this.rootCompAlias)switch(s=1,o.getStyleIsolation(a)){case Le.Isolated:case Le.ApplyShared:case Le.Shared:this.styleSheetManager.setStyleSheet("app",t._$sharedStyleScope,2)}this.styleSheetManager.setStyleSheet(e,o.getStyleScope(a),s)}))})),w.traceEndEvent()}blockForStyleSheet(e){"function"==typeof e&&(this.renderBackend.recalcStyle(),e())}destroy(e){this.onAttached((()=>{this.log("removeView"),R.Element.pretendDetached(this.root),this.root.destroyBackendElement(),null==e||e.call(this)}))}}class tt extends et{constructor(...e){super(...e),this.rootTagName="page",this.tabBarId=void 0,this.ignoreWebviewPreload=!1}log(e){v.info(`[GlassEaselAdapter] Page ${e}, pageId=${this.id}`)}init(e,t){super._init(((r,n)=>{r.addPageInfo(this.id,e),r.onPageReady(this.id,(e=>{var r,i;this.tabBarId&&(null===(r=this.env.tabBarManager)||void 0===r||r.initTabBar(this.tabBarId),null===(i=this.env.tabBarManager)||void 0===i||i.attachTabBar(this.tabBarId));n(e),t()}))}))}setTabBarId(e){this.tabBarId=e}processInitData(e){this.tracer.traceBeginEvent("Framework","onAppDataChange");var t=G().processAppInitData(e);this.ignoreWebviewPreload=t.ignoreWebviewPreload,this.tracer.traceEndEvent()}addView(e){return this.injectCode(e),this.tracer.traceBeginEvent("Framework","initRender"),this.doInitCreation(),this.tracer.traceEndEvent(),this.root}attachView(e){this.log("attach");var t=V().getRuntime(),r=G(),n=!1,i={};Object.keys(e).forEach((t=>{R.Component.hasProperty(this.root,t)&&(i[t]=e[t],n=!0)})),n&&this.root.setData(i);var a=this.root.$$;t.attach(a,this.id),super._attach(),this.blockForStyleSheet(),this.renderBackend.startRender((()=>{v.info("[attachView] skyline startRender callback"),w.traceBeginEvent("Framework","sendReadyEvent"),this.tracer.traceBeginEvent("Framework","sendReadyEvent"),r.publishPageEvent(this.id),this.tracer.traceEndEvent(),r.onRenderDone(),w.traceEndEvent()})),this.tracer.traceBeginEvent("Framework","initReady",{ignoreWebviewPreload:this.ignoreWebviewPreload}),r.callInitReady(this.ignoreWebviewPreload,this.id),this.tracer.traceEndEvent()}destroy(e){super.destroy((()=>{w.workletSDK.removeRouteContext(this.id),e()}))}}class rt extends et{log(e){v.info(`[GlassEaselAdapter] TabBar ${e}, tabBarId=${this.id}, renderer=${this.renderer}`)}constructor(e){super(Ke[e]),this.rootTagName="tab-bar",this.id=void 0,this.renderer=void 0,this.state=void 0,this.id=Ke[e],this.state=Qe,this.renderer=e}init(){super._init(((e,t)=>{t(e.getTabBarContext()),this.injectCode("custom-tab-bar/index"),this.state=Je,this.doInitCreation()}))}attach(){this.log("attach");var e=V().getRuntime(),t=this.root.$$;e.attachTabBar(t),super._attach(),this.state=Xe,this.renderBackend.startRender((()=>{this.state=Ye}))}destroy(e){super.destroy((()=>{V().getRuntime().removeTabBarContext(),G().removeStyleSheetManager(this.id),e()}))}}class nt{constructor(e){this.codeSpaceMap=void 0,this.globalCodeSpace=void 0,this.libSpace=null,this._$idToCodeSpaceMap=new WeakMap,this._$componentSpaceToCodeSpaceMap=new WeakMap,this._$polyfillConstructor=void 0,this.codeManager=void 0,this.pages=new Map,this.tabBarManager=void 0,this.randomPageIdCallbacks=[],this.builtInComponents=new Map,this.codeSpaceMap=Object.create(null),this.globalCodeSpace=new Fe(null,this,!1,!1,e,void 0),this._$idToCodeSpaceMap.set(this.globalCodeSpace,null),this._$componentSpaceToCodeSpaceMap.set(this.globalCodeSpace.getComponentSpace(),this.globalCodeSpace),this.codeManager=new ne(this)}initTabBarManager(){this.tabBarManager||(this.tabBarManager=new Ze)}destroyTabBarManager(){var e;null===(e=this.tabBarManager)||void 0===e||e.destroyAllTabBar(),this.tabBarManager=void 0}initPolyfill(e){void 0!==this._$polyfillConstructor?v.info("[GlassEaselAdapter] init polyfill more than once, ignoring"):(v.info("[GlassEaselAdapter] init polyfill"),this._$polyfillConstructor=e,this.forEachSpace((e=>{this.setPolyfillForSpace(e)})))}setPolyfillForSpace(e){void 0!==this._$polyfillConstructor&&e.initPolyfill(this._$polyfillConstructor)}getCodeManager(){return this.codeManager}getComponentPath(e){var t=this.getComponentDomainPath(e.getRootBehavior());return this.codeManager.convertAliasToRoute(t)}getGlobalCodeSpace(){return this.globalCodeSpace}importLibSpace(e){e!==this.libSpace&&null!==this.libSpace&&e.importLibSpace(this.libSpace)}createCodeSpace(e,t,r,n){v.info(`[GlassEaselAdapter] createCodeSpace, id=${e}`);var i=new Fe(e,this,t,r,n,this.globalCodeSpace);return this.codeSpaceMap[e]=i,this._$idToCodeSpaceMap.set(i,e),this._$componentSpaceToCodeSpaceMap.set(i.getComponentSpace(),i),i.getComponentSpace().updateComponentOptions(r?ae:ie),i.updateGlobalUsingComponent(this.builtInComponents),this.setPolyfillForSpace(i),r?(this.libSpace=i,i.libStyleScope=i.getComponentSpace().styleScopeManager.register("__wx__"),this.forEachSpace((e=>{this.importLibSpace(e)}))):this.importLibSpace(i),i}getCodeSpace(e){return null===e?this.globalCodeSpace:this.codeSpaceMap[e]}getCodeSpaceId(e){if(!this._$idToCodeSpaceMap.has(e))throw new Error('unknown codeSpace during "getCodeSpaceId"');return this._$idToCodeSpaceMap.get(e)}getComponentSpaceId(e){if(!this._$componentSpaceToCodeSpaceMap.has(e))throw new Error('unknown componentSpace during "getComponentSpaceId"');var t=this._$componentSpaceToCodeSpaceMap.get(e);return this.getCodeSpaceId(t)}forEachSpace(e){e(this.globalCodeSpace),Object.values(this.codeSpaceMap).forEach((t=>e(t)))}getAdapterPage(e){return this.pages.get(e)}newAdapterPage(e){if(this.pages.has(e))return this.pages.get(e);var t=new tt(e);if(this.pages.set(e,t),this.codeManager.injector.registerPage(e,t),this.randomPageIdCallbacks.length>0){var r=this.randomPageIdCallbacks;this.randomPageIdCallbacks=[],r.forEach((t=>{t(e)}))}return t}removeAdapterPage(e){var t=this.pages.get(e);t&&t.destroy((()=>{this.pages.delete(e),this.codeManager.injector.unRegisterPage(e)}))}getRandomPageIdSync(){return 0===this.pages.size?null:this.pages.keys().next().value}getRandomPageId(e){0!==this.pages.size?e(this.pages.keys().next().value):this.randomPageIdCallbacks.push(e)}getAllPageIds(){return Array.from(this.pages.keys())}totalStaticConfigCount(){var e=0;return this.forEachSpace((t=>{e+=t.staticConfigCount()})),e}getComponentDomainPath(e){var t=e.ownerSpace,r=this.getComponentSpaceId(t);return this.codeManager.assembleProtocol(r,e.is)}registerBuiltInComponent(e,t){this.builtInComponents.set(e,t)}updateGlobalUsingComponent(){this.forEachSpace((e=>{e.updateGlobalUsingComponent(this.builtInComponents)}))}updateExtendedNativeList(e){this.forEachSpace((t=>{t.getComponentSpace().updateBaseExtendedNativeList(e.getComponentSpace())}))}startGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().startGroupRegister()}))}endGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().endGroupRegister()}))}}var it,at="/";J((e=>{it=new nt(e.globalPolyfillInitiator)}));var ot=()=>it,st=()=>R;R.addGlobalWarningListener((e=>(console.warn(e),!1))),R.addGlobalErrorListener(((e,{message:t,element:r})=>{var n=r instanceof R.Component?r.getRootBehavior().ownerSpace:null,i=n?ot().getComponentSpaceId(n):null;return console.error(t),T.thirdErrorReport({error:e,source:null!=i?i:""}),!1})),M=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Behavior:()=>r,ComponentProto:()=>W,ComponentType:()=>n,SelectorQuery:()=>C,TraitBehavior:()=>i,constructors:()=>_,globalPolyfillInitiator:()=>U,setMainContextAdapter:()=>u,setSkylineEngine:()=>g});class r{constructor(e,t){if(this._$bindedDefinitionFilter=void 0,void 0!==t){var r=e.map((e=>{var t;return null!==(t=e._$bindedDefinitionFilter)&&void 0!==t?t:null}));this._$bindedDefinitionFilter=e=>{t(e,r)}}}}class n{}class i{}var o=0,s=1,l=new h.EventEmitter,c=e=>{var t,r=!1;return[n=>{t=n,r=!0,l.emit(e,n)},()=>t,n=>{r?n(t):l.once(e,n)}]},[u,d,p]=c(o),f=()=>d().getGlassEasel(),[g,v,m]=c(s),y=(e,t)=>t in e&&"function"==typeof e[t],_={String:String,Number:Number,Boolean:Boolean,Object:Object,Array:Array,Function:a},b=(e,t)=>{var r=!1,n=e.length,i=new Array(n);e.forEach(((e,a)=>{e((e=>{i[a]=e,0===(n-=1)&&r&&t(i)}))})),r=!0,0===n&&setTimeout((()=>{t(i)}),0)};class S{constructor(e,t,r,n){this._$sq=void 0,this._$comp=void 0,this._$sel=void 0,this._$single=void 0,this._$sq=e,this._$comp=t,this._$sel=r,this._$single=n}fields(e,t=(()=>{})){return this._$sq._$push(this._$sel,this._$comp,this._$single,e,t),this._$sq}boundingClientRect(e=(()=>{})){return this._$sq._$push(this._$sel,this._$comp,this._$single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._$sq}scrollOffset(e=(()=>{})){return this._$sq._$push(this._$sel,this._$comp,this._$single,{id:!0,dataset:!0,scrollOffset:!0},e),this._$sq}context(e=(()=>{})){return this._$sq._$push(this._$sel,this._$comp,this._$single,{context:!0},e),this._$sq}node(e=(()=>{})){return this._$sq._$push(this._$sel,this._$comp,this._$single,{node:!0},e),this._$sq}}class C{constructor(e){this._$comp=void 0,this._$queue=void 0,this._$comp=e,this._$queue=[]}in(e){return this._$comp=e,this}select(e){return new S(this,this._$comp,e,!0)}selectAll(e){return new S(this,this._$comp,e,!1)}selectViewport(){return new S(this,this._$comp,null,!0)}_$push(e,t,r,n,i){this._$queue.push({component:t,selector:e,single:r,fields:n,cb:i.bind(t)})}exec(e=(()=>{})){var t=f(),r=this._$queue;b(r.map((e=>r=>{var{component:n,selector:i,single:a,fields:o,cb:s}=e,l=d().getCallerMap(n).component;if(null===i){var c={};b([e=>{var t=l.getBackendContext(),r=t.clientWidth,n=t.clientHeight;if(o.id&&(c.id=""),o.dataset&&(c.dataset={}),o.mark&&(c.mark={}),o.rect&&(c.left=0,c.top=0,c.right=r,c.bottom=n),o.size&&(c.width=r,c.height=n),o.scrollOffset){for(var i=l.general();i.ownerShadowRoot;)i=i.ownerShadowRoot.getHostNode();i.getBoundingClientRect((({left:t,top:r,width:n,height:i})=>{c.scrollLeft=t,c.scrollTop=r,c.scrollWidth=n,c.scrollHeight=i,e(void 0)}))}else e(void 0)}],(()=>{s(c),r(c)}))}else{var u=(e,r)=>{var n={};o.id&&(n.id=e.id),o.dataset&&(n.dataset=e.dataset),o.mark&&(n.mark=e.collectMarks()),b([t=>{o.rect||o.size?e.getBoundingClientRect((e=>{o.rect&&(n.left=e.left,n.top=e.top,n.right=e.left+e.width,n.bottom=e.top+e.height),o.size&&(n.width=e.width,n.height=e.height),t(void 0)})):t(void 0)},t=>{o.scrollOffset?e.getScrollOffset((e=>{n.scrollLeft=e.scrollLeft,n.scrollTop=e.scrollTop,n.scrollWidth=e.scrollWidth,n.scrollHeight=e.scrollHeight,t(void 0)})):t(void 0)},t=>{var r={},i=[],a=e;if(!y(a,"getPluginId")||!y(a,"getContextId")||!y(a,"getNodeId"))return t(void 0);var s="wx-"+a.is,l=a.getNodeId(),c=a.getPluginId(),u=a.getContextId();o.context&&(r.contextIs=s,r.contextId=u,r.contextCanvasId=a.canvasId||""),o.node&&(r.nodeIs=s,r.nodeId=u,r.nodeCanvasId=a.canvasId||"",r.nodeCanvasType=a.type||"",r.nodeNodeId=l),w.checkContext(r,a,i,c);var d=()=>{r.node&&(n.node=r.node),r.context&&(n.context=r.context),t(void 0)};i.length?Promise.all(i).then(d):d()}],(()=>{o.properties&&e instanceof t.Component&&o.properties.forEach((r=>{if(t.Component.hasProperty(e,r)){var i=e.getComponentOptions().propertyPassingDeepCopy,a=e.data[r];i===t.DeepCopyKind.None?n[r]=a:i===t.DeepCopyKind.Simple?n[r]=t.dataUtils.simpleDeepCopy(a):i===t.DeepCopyKind.SimpleWithRecursion&&(n[r]=t.dataUtils.deepCopy(a,!0))}})),r(n)}))};if(a){var p=l.getShadowRoot().querySelector(i);p?u(p,(e=>{s(e),r(e)})):setTimeout((()=>{s(null),r(null)}),0)}else{var h=l.getShadowRoot().querySelectorAll(i);b(h.map((e=>t=>{u(e,(e=>{t(e)}))})),(e=>{s(e),r(e)}))}}})),e)}}var I={left:0,top:0,right:0,bottom:0},A=(e,t)=>{var r,n=null!==(r=e[t])&&void 0!==r?r:0,i=typeof n;return"number"!==i?(console.warn(`Expect number for "${t}" in IntersectionObserver#relativeTo, but get "${i}". Used 0 instead.`),0):n};class k{constructor(e,t,r,n){this._$comp=void 0,this._$thresholds=void 0,this._$initialRatio=void 0,this._$observeAll=void 0,this._$selector=null,this._$margins=null,this._$observers=[],this._$comp=e,this._$thresholds=t,this._$initialRatio=r,this._$observeAll=n}relativeTo(e,t){return this._$selector=e,this._$margins=null!=t?t:I,this}relativeToViewport(e){return this._$selector=null,this._$margins=null!=e?e:I,this}observe(e,t){var r=d().getCallerMap(this._$comp).component.getShadowRoot();if(r){var n,i;if(this._$observeAll)n=r.querySelectorAll(e);else{var a=r.querySelector(e);n=null===a?[]:[a]}if(null===this._$selector)i=null;else{var o=r.querySelector(this._$selector);null===o||(i=o)}if(!this._$margins)throw new Error("`relativeTo` or `relativeToViewport` should be called before observe");var s,l=(s=this._$margins,[A(s,"top"),A(s,"right"),A(s,"bottom"),A(s,"left")]);n.forEach((e=>{var r=this._$initialRatio,n=e.createIntersectionObserver(i,l,this._$thresholds,(e=>{var n=e[0];if(null!==r){for(var i=0;i<this._$thresholds.length;i+=1){var a=this._$thresholds[i];if(r!==n.intersectionRatio&&(r-a)*(n.intersectionRatio-a)<=0)break}if(r=null,i<this._$thresholds.length)return}t(n)}));null===n||this._$observers.push(n||{disconnect(){e.createIntersectionObserver(i,l,[0],null)}})}))}}disconnect(){var e=this._$observers;this._$observers=[],e.forEach((e=>e.disconnect()))}}class E{constructor(e){this._$comp=void 0,this._$observer=null,this._$comp=e}observe(e,t){this._$observer&&this._$observer.disconnect();var r=d().getCallerMap(this._$comp).component;this._$observer=r.getBackendContext().createMediaQueryObserver(e,t)}disconnect(){this._$observer&&this._$observer.disconnect(),this._$observer=null}}var T,P,x=1,O=(e,t)=>{var r=x++,n=+Date.now(),i=t(),a=+Date.now(),o=d().getCallerMap(e),{config:s,listener:l}=o.updatePerformanceListener||{},c=o.component;return"function"==typeof l&&setTimeout((()=>{f().safeCallback("Update Performance Listener",l,e,[{isMergedUpdate:!1,dataPaths:null!=s&&s.withDataPaths?[]:void 0,updateProcessId:r,pendingStartTimestamp:n,updateStartTimestamp:n,updateEndTimestamp:a}],c)}),16),i};p((e=>{P=e,T=e.getGlassEasel()}));var R=(e,t)=>{var r=P.getCallerMap(e).component;T.safeCallback("Component instance method",(()=>{throw new Error(`unimplemented: ComponentInstance#${t}`)}),e,[],r,!1)},M=e=>P.getCallerMap(e).component,N=e=>P.getComponentTypeMap(e),L=e=>P.getTraitBehaviorMap(e),B=(e,t,r)=>{var n,i=t.asInstanceOf(N(r));if(null!==i){var a=i.getRootBehavior().ownerSpace,o=i.getMethodCaller(),s=o instanceof j?o:null,l=M(e).getRootBehavior().ownerSpace,c=a!==l?null:s,u=null==s||null===(n=s._$export)||void 0===n?void 0:n.call(s,a!==l?null:e);return void 0===u?c:u}},$=(e,t)=>{if(t instanceof T.Component){var r,n=t.getRootBehavior().ownerSpace,i=t.getMethodCaller(),a=i instanceof j?i:null,o=M(e).getRootBehavior().ownerSpace,s=n!==o?null:a,l=null==a||null===(r=a._$export)||void 0===r?void 0:r.call(a,n!==o?null:e);return void 0===l?s:l}},F=e=>M(e).getBackendContext().id;class j{constructor(){this._$export=void 0}get is(){return M(this).is}set is(e){Object.defineProperty(this,"is",{value:e,writable:!0,enumerable:!0,configurable:!0})}get id(){return M(this).id}set id(e){Object.defineProperty(this,"id",{value:e,writable:!0,enumerable:!0,configurable:!0})}getPageId(){return"pageId:"+F(this)}get router(){return P.getCallerMap(this).pageRouter}set router(e){Object.defineProperty(this,"router",{value:e,writable:!0,enumerable:!0,configurable:!0})}get pageRouter(){var e=(e=>{for(var t=f(),r=e,n=r.getRootBehavior().ownerSpace;;){var i=r.ownerShadowRoot;if(!i)break;if(!(i instanceof t.ShadowRoot))return null;var a=i.getHostNode();if(!a)return null;if(a.getRootBehavior().ownerSpace!==n)return null;r=a}return r})(P.getCallerMap(this).component);return e?P.getCallerMap(e.getMethodCaller()).pageRouter:null}set pageRouter(e){Object.defineProperty(this,"pageRouter",{value:e,writable:!0,enumerable:!0,configurable:!0})}get renderer(){return"skyline"}set renderer(e){Object.defineProperty(this,"renderer",{value:e,writable:!0,enumerable:!0,configurable:!0})}get dataset(){return M(this).dataset}set dataset(e){Object.defineProperty(this,"dataset",{value:e,writable:!0,enumerable:!0,configurable:!0})}get data(){return M(this).data}set data(e){Object.defineProperty(this,"data",{value:e,writable:!0,enumerable:!0,configurable:!0})}get properties(){return M(this).data}set properties(e){Object.defineProperty(this,"properties",{value:e,writable:!0,enumerable:!0,configurable:!0})}groupSetData(e){e()}setData(e,t){var r=M(this);O(this,(()=>{r.setData(e)})),t&&T.triggerRender(r,(()=>{t()}))}updateData(e){M(this).updateData(e)}replaceDataOnPath(e,t){M(this).replaceDataOnPath(e,t)}spliceArrayDataOnPath(e,t,r,n){M(this).spliceArrayDataOnPath(e,t,r,n)}applyDataUpdates(){var e=M(this);O(this,(()=>{e.applyDataUpdates()}))}groupUpdates(e){return M(this).groupUpdates(e)}hasBehavior(e){var t,n=M(this),i=e instanceof r?(t=e,P.getBehaviorByAdapter(t)):L(this.traitBehavior);return n.hasBehavior(i)}traitBehavior(e){var t=M(this),r=L(e);return t.traitBehavior(r)}triggerEvent(e,t,r){return M(this).triggerEvent(e,t,r)}createSelectorQuery(){return new C(this)}applyAnimatedStyle(e,t,r,n){for(var i=M(this),a=F(this),o=v().getRuntime(),s=v().RuntimeCore.nativeGlobal.runtime.registerJsValue(t),l=o.proxyCreateAnimatedStyle(a,s,r),c=i.getShadowRoot().querySelectorAll(e),u=0;u<c.length;u++){var d,p=c[u].$$;null==p||null===(d=p.addAnimatedStyle)||void 0===d||d.call(p,l)}if(n)try{var{mapperId:h}=l;n({styleId:h})}catch(e){}}createIntersectionObserver(e){return new k(this,(null==e?void 0:e.thresholds)||[0],(null==e?void 0:e.initialRatio)||0,(null==e?void 0:e.observeAll)||!1)}createMediaQueryObserver(){return new E(this)}getOpenerEventChannel(){return w._getPageOpenerEventChannel(this)}selectComponent(e,t){var r,n,i=M(this).getShadowRoot().querySelector(e);return null===i?null:t?null!==(r=B(this,i,t))&&void 0!==r?r:null:null!==(n=$(this,i))&&void 0!==n?n:null}selectAllComponents(e,t){var r=M(this).getShadowRoot().querySelectorAll(e),n=[];return r.forEach((e=>{var r=t?B(this,e,t):$(this,e);void 0!==r&&n.push(r)})),n}selectOwnerComponent(e){var t,r,n,i=null===(t=M(this).ownerShadowRoot)||void 0===t?void 0:t.getHostNode();return void 0===i?null:e?null!==(r=B(this,i,e))&&void 0!==r?r:null:null!==(n=$(this,i))&&void 0!==n?n:null}getRelationNodes(e){return M(this).getRelationNodes(e).map((e=>e.getMethodCaller()))}applyAnimation(){R(this,"applyAnimation")}clearAnimation(){R(this,"clearAnimation")}animate(){R(this,"animate")}clearAnimatedStyle(e,t,r){for(var n=M(this).getShadowRoot().querySelectorAll(e),i=Array.isArray(t)?t:[t],a=0;a<n.length;a++){var o,s=n[a].$$;null==s||null===(o=s.clearAnimatedStyle)||void 0===o||o.call(s,i)}null==r||r()}getTabBar(e){var t,r=F(this),n=P.getEnv().tabBarManager,i=null==n||null===(t=n.getTabBarByPageId(r))||void 0===t?void 0:t.root.getMethodCaller();return"function"==typeof e&&void 0!==i&&e(i),void 0===i?null:i}get exitState(){return P.getCallerMap(this).exitState}set exitState(e){Object.defineProperty(this,"exitState",{value:e,writable:!0,enumerable:!0,configurable:!0})}setInitialRenderingCache(){R(this,"setInitialRenderingCache")}setUpdatePerformanceListener(e,t){var r=P.getCallerMap(this);"function"==typeof t?r.updatePerformanceListener={config:e,listener:t}:delete r.updatePerformanceListener}getPassiveEvent(e){w.getPassiveEvent(F(this),e)}setPassiveEvent(e){w.setPassiveEvent(F(this),e)}asInstanceOf(e){return M(this).asInstanceOf(N(e))?this:null}}class W{constructor(e,t){this.proto=void 0,this.proto=Object.create(j.prototype),Object.assign(this.proto,e),this.proto._$export=t}derive(){return Object.create(this.proto)}}var U=()=>[globalThis,""];D=t})(),M.setSubContextAdapter(D),D.setMainContextAdapter(M),M.onSkylineEngineReady((e=>{D.setSkylineEngine(e)})),(()=>{"use strict";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};t.r(r),t.d(r,{Behavior:()=>so,Component:()=>yo,CustomComponent:()=>fo,Page:()=>_o,SCL_TABBAR_VIEW_ID:()=>I,addView:()=>us,attachView:()=>ds,beginTapMark:()=>xn,checkTapMark:()=>Rn,componentAliases:()=>oa,componentExists:()=>ss,componentPathToAlias:()=>sa,convertComponentAliasToRoute:()=>Mi,convertRouteToComponentAlias:()=>Ri,destroyCustomTabBarManager:()=>R,destroyDataThreadTabBar:()=>hs,dispatchViewRoute:()=>Ea,doDataThreadReplacePlaceholder:()=>eo,enableUpdateWxAppCode:()=>Ms,endTapMark:()=>Pn,endViewInfoCallback:()=>ba,getAllPluginSubPackagePrefix:()=>Di,getDomTreeByPageId:()=>Lo,getDomainByPluginId:()=>la,getEntryFile:()=>Hi,getGenericsByPath:()=>qa,getNodeById:()=>Es,getNodeId:()=>Ts,getOwnerPluginAppId:()=>to,getPageId:()=>Rs,getPlaceholderByPath:()=>za,getPluginRoutePrefix:()=>Li,getPluginSubPackagePrefix:()=>Ni,getRendererByPath:()=>Ga,getRootCompName:()=>Os,getRootNode:()=>Ps,getRootNodeId:()=>xs,getSubPackagePlugin:()=>Gi,getUsingByPath:()=>Ua,getWorkletIdByName:()=>Ao,getXrFrameTouchEventBubbleByPath:()=>Ha,hideTabBar:()=>V,initBannedMap:()=>He,initViewThread:()=>Oo,injectWxss:()=>Za,isLazyLoad:()=>Qa,isSubPackageIndependent:()=>Fi,isViewAttached:()=>fs,matchSubPackageName:()=>$i,mergeData:()=>Ls,newPage:()=>No,newTabBar:()=>Mo,onComponentDef:()=>Vo,onLazyLoadError:()=>Ne,onMainPageFrameReady:()=>ka,prepareSubPackagesStyle:()=>Uo,processPluginPageGenerics:()=>ro,publishDomainComponents:()=>ua,removeView:()=>ps,requestViewInfo:()=>_a,restoreView:()=>ia,runComponentDef:()=>Ho,saveView:()=>na,sendTabBarCreationRequest:()=>es,setGlobalUpdatePerformanceListener:()=>Si,setLazyLoadTimeout:()=>Re,setModelValueData:()=>Ka,setPageRootCompPath:()=>cs,setPageType:()=>_e,showTabBar:()=>U,showTabBarByRenderer:()=>q,triggerGenerateFuncReady:()=>Ya,updateWxAppCode:()=>Ds,viewStartRenderSet:()=>Do,wrapTapMark:()=>On,xrFrameTouchEvent:()=>vs});var n=void 0!==O?O:{},i="none";"undefined"!=typeof __useSclExparser__&&__useSclExparser__&&void 0!==l&&(i="scl"),"undefined"!=typeof __skylineEngine__&&(i="skyline"),"undefined"!=typeof xrFrame&&(i="xr-frame"),"scl"===i?n=l.exparser||n||{}:"skyline"===i?n=__skylineEngine__.getRuntime().getExparser()||n||{}:"xr-frame"===i&&(n=xrFrame.getExparser()||n||{});var o,s=()=>n,u=()=>__skylineEngine__.getRuntime(),d=()=>i,f=()=>w,g=s(),m={WX_EVENT:11,REQUEST_SAVE:12,COMPONENT_DEF:21,SAVE_STATE:22,RESTORE_STATE:23,FLOW_INITIAL_RENDERING_CACHE:24,FLOW_CLEAR_INITIAL_RENDERING_CACHE:25,FLOW_SET_SUBPACKAGE_LOADED:26,SET_DATA_CALLBACK:32,FLOW_SET_DATA:33,FLUSH_BLOCKED:43,FLOW_GROUP:41,FLOW_GROUP_END:42,FLOW_DEPTH:2,FLOW_INITIAL_CREATION:3,FLOW_UPDATE:6,FLOW_DATA_OBSERVER:8,FLOW_APPLY_PROPERTY:4,FLOW_MINIPULATE_CHILD:7,FLOW_CREATE_NODE:5,FLOW_REPEAT:9,FLOW_VIEW_INFO:63,REQUEST_TAB:51,COMPONENT_DEF_TAB:52,FLOW_CREATE_TAB:53,DESTROY_TAB:54,FLOW_DESTROY_PAGE:55,SHOW_TAB:56,HIDE_TAB:57,SCL_CONTEXT_READY:58,REQUEST_BROADCAST_VIEW_ID:61,RESPONSE_BROADCAST_VIEW_ID:62,BANNING_MAP:90,CALL_METHOD_FROM_WXS:50,RESPONSE_VIEW_INFO:64,MODEL_VALUE_CHANGE:65,FLOW_SET_NODE_ANIMATION_INFO:100,ANIMATION_TRANSITION_END:101,FLOW_CLEAR_NODE_ANIMATION_INFO:102,CLEAR_ANIMATION_COMPLETE:103,FLOW_SET_NODE_NEXT_ANIMATION_INFO:104,LOAD_COMPONENT_DEF:110,FLOW_WAIT_COMPONENT:112,FLOW_REPLACE_PLACEHOLDER:113,FLOW_PEND_PLACEHOLDER_REPLACEMENT:114,FLOW_COMPONENT_DEF_ADD:120,FLOW_INJECT_SUBPACKAGE:121,FLOW_INJECT_COMPONENT:122,FLOW_HOT_UPDATE:900,FLOW_HOT_UPDATE_CHILD:901,FLOW_HOT_UPDATE_RESET:902,UPDATE_COMPONENT_DEF:903,UPDATE_PERFORMANCE_STAT:800,ENABLE_UPDATE_PERFORMANCE_STAT:801,DISABLE_UPDATE_PERFORMANCE_STAT:802,ENABLE_GLOBAL_UPDATE_PERFORMANCE_STAT:803,REQUEST_WORKLET_METHOD:200,RESPONSE_WORKLET_METHOD:201,FLOW_SET_NODE_ANIMATED_STYLE:202,FLOW_CLEAR_NODE_ANIMATED_STYLE:203,APPLY_NODE_ANIMATED_STYLE_END:204,CLEAR_NODE_ANIMATED_STYLE_END:205,XR_FRAME_CANVAS_CREATED:300,XR_FRAME_CANVAS_READY:301,FLOW_SET_ROOT_PROPERTIES:302,XR_FRAME_COMP_OPTIONS:303},y={};Object.keys(m).forEach((e=>{y[m[e]]=e}));var _=e=>y[e]||`UNKNOWN_EVENT_${e}`,S={ATTR:0,ANIMATION:1,WXS_STYLE:2},C=4294967297,I=4294967298,A="custom-tab-bar/index";class k{constructor(){this.__instances=void 0,this.__instances=new Map}add(e,t,r){this.__instances.set(e,{tm:r,renderType:t})}get(e){var t=this.__instances.get(e);return t||v.warn(`[customTabBarManager] pageId: ${e} TabBar is not exists`),t}remove(e){this.__instances.delete(e)}has(e){return this.__instances.has(e)}getRenderType(e){var t;return(null===(t=this.__instances.get(e))||void 0===t?void 0:t.renderType)||"webview"}}k.MANAGER=void 0;var E=()=>(k.MANAGER||(k.MANAGER=new k),k.MANAGER),R=()=>{k.MANAGER=null},M=e=>{var t,r,n,i,a=(null===(t=p)||void 0===t||null===(r=t.tabBar)||void 0===r?void 0:r.renderer)||"webview";if(Array.isArray(null===(n=p)||void 0===n||null===(i=n.tabBar)||void 0===i?void 0:i.list))for(var o=p.tabBar.list,s=0;s<o.length;s++){var l=o[s];if(l.pagePath===`${e}.html`){"string"==typeof l.renderer&&(a=l.renderer);break}}return v.info(`[CustomTabBar] getCustomTabBarRenderer pagePath: ${e}, renderer: ${a}`),"cover-view"===a?"scl":a||"webview"},D=e=>{var t,r;if(Array.isArray(null===(t=p)||void 0===t||null===(r=t.tabBar)||void 0===r?void 0:r.list))for(var n=p.tabBar.list,i=0;i<n.length;i++){var a=n[i];if(a.pagePath===`${e}.html`)return!a.hide}return!1},B=()=>{var e,t;return!(null===(e=p)||void 0===e||null===(t=e.tabBar)||void 0===t||!t.custom)},$=(e,t,r)=>{var n,i,a=!0,o=null===(n=p)||void 0===n||null===(i=n.tabBar)||void 0===i?void 0:i.list;Array.isArray(o)&&(o.map((e=>null==e?void 0:e.pagePath)).filter((e=>!!e)).indexOf(`${t}.html`)>=0&&(a=!1));v.info(`[checkPageIncludingTabBar] rootCompName=${t}, viewId=${r}, needRemove=${a}`),a&&"skyline"!==be(`${r}`)&&(e.tabDestroyed=!0,V(r))},F=()=>{var e,t,r=d();"skyline"===r?null===(e=window.__TAB_BAR__)||void 0===e||null===(t=e.__domElement)||void 0===t||t.setStyle("pointer-events: none; display: flex;"):"scl"===r&&l.showTabBarContainer()},W=()=>{var e,t,r=d();"skyline"===r?null===(e=window.__TAB_BAR__)||void 0===e||null===(t=e.__domElement)||void 0===t||t.setStyle("pointer-events: none; display: none;"):"scl"===r?l.hideTabBarContainer():"webview"===r&&window.__TAB_BAR__&&window.__TAB_BAR__.parentNode.removeChild(window.__TAB_BAR__)},U=e=>{var t=E().get(e),r=null==t?void 0:t.renderType;ve(m.SHOW_TAB,{},"skyline"===r?C:"scl"===r?I:e)},V=e=>{var t=E().get(e),r=null==t?void 0:t.renderType;"webview"!==r?ve(m.HIDE_TAB,{},"skyline"===r?C:"scl"===r?I:e):ve(m.DESTROY_TAB,[],e)},q=e=>{var t="skyline"===e?C:"scl"===e?I:void 0;void 0!==t&&ve(m.SHOW_TAB,{},t)},z=s(),G=/^[-+a-z]+:\/\//i,H=function(e,t){if(G.test(t))return t;var r=e.match(G),n="";r&&(n=r[0],e=e.slice(n.length)),0===t.indexOf("/")&&(e="");var i=e.split("/");i.pop();for(var a=t.split("/");a.length;){var o=a.shift();""!==o&&"."!==o&&(".."!==o?i.push(o):i.pop())}return n+i.join("/")},K=e=>{var r=("undefined"==typeof window?t.g:window).__wcc_version_info__;if(r)return r[e]},Q=()=>Math.floor(4294967296*(1+Math.random())).toString(16).slice(1),J=e=>Object.keys(e).map((t=>e[t])),X=(e,t,r)=>{e instanceof z.Component&&(t>0&&r(e),t&&e.shadowRoot instanceof z.Element&&X(e.shadowRoot,t,r),t<0&&r(e));for(var n=e.childNodes,i=0;i<n.length;i++)n[i]instanceof z.Element&&X(n[i],t,r)},Y=e=>{if(null==e)return e;var t=typeof e;if("string"===t||"number"===t||"boolean"===t)return e;if(Array.isArray(e)){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=Y(e[n]),void 0===r[n]&&(r[n]=null);return r}if("object"===t){for(var i={},a=Object.keys(e),o=0;o<a.length;++o)i[a[o]]=Y(e[a[o]]),void 0===i[a[o]]&&delete i[a[o]];return i}},Z=e=>{var t={};return e.forEach((e=>{t[e]={ok:!1,callbacks:[]}})),{notify(e){t[e]&&(t[e].ok=!0,t[e].callbacks.forEach((e=>e())),t[e].callbacks=[])},on(e,r){t[e]&&(t[e].ok?r():t[e].callbacks.push(r))},isNotified:e=>t[e]&&t[e].ok}},ee={},te=-1,re=null,ne=!1,ie=()=>ne,ae=[],oe=null,se=null,le=!1,ce={[C]:"skyline",[I]:"scl"},ue={},de={},pe=new Set,he=(e,t)=>{var r="webview"===ce[t]||"scl"===ce[t]?e:"xr-frame"===ce[t]?[...e]:e.map((e=>Y(e))),n=r.shift();if(""===n)return te=t,void(re&&re(t));t=t||0,"webview"===d()&&(t=0),fe(t,n,r)},fe=(e,t,r)=>{var n,i=null;if(ee[e]&&(i=ee[e][t]),!i&&ee.$GLOBAL){if(pe.has(e))return;i=ee.$GLOBAL[t]}if(!(i||"skyline"!==d()||null!==(n=de[e])&&void 0!==n&&n.isReady))return de[e]||(de[e]={queue:[],isReady:!1}),void de[e].queue.push({ev:t,data:r});i?i(r,t,e):v.error(`[VD] recvData no handler for event=${t}, pageId=${e}`)},ge=()=>{se&&(se=clearTimeout(se)),ae.length&&ue[oe].vdSyncBatch(ae,oe&&[oe]),oe=null,ae=[],le=!1},ve=(e,t,r,n)=>(t=[e].concat(t),"webview"!==ce[r]?ue[r]?void ue[r].vdSync(t,r&&[r]):void v.warn(`pageId: ${r}, ev: ${e}. Ignore sendData cause Page is removed. `):(ce[r],!le||n?(ge(),le=!0,void ue[r].vdSync(t,r&&[r])):(oe!==r&&ge(),oe=r,ae.push(t),le=!0,void(se||(se=setTimeout((()=>{se=null,ge()}),15)))))),me=e=>{e.__registered||(e.__registered=!0,e.onVdSync(((e,t)=>{void 0===ce[t]&&_e(t,"webview"),he(e,t)})),e.onVdSyncBatch(((e,t)=>{void 0===ce[t]&&_e(t,"webview");for(var r=0;r<e.length;r++)he(e[r],t)})))},ye=()=>{me(f()._virtualDOMTunnel)};"undefined"!=typeof __clientsubcontext&&__clientsubcontext?x.onInitReady(ye):ye();var _e=(e,t)=>{var r;null!==(r=ue[e])&&void 0!==r&&r.__registered&&ce[e]===t||(ce[e]=t,ue[e]=f()._virtualDOMTunnel)},be=e=>ce[e],we=(e,t,r)=>{if(void 0!==r){if(""===e)return re=t,void(te>=0&&re(te));ee[r=r||0]||(ee[r]={}),ee[r][e]=t}},Se=e=>{delete ee[e]},Ce={},Ie=(e,t)=>{Ce[e]=t},Ae=e=>{Object.keys(Ce).forEach((t=>{we(t,Ce[t],e)})),de[e]&&(de[e].isReady=!0,de[e].queue.forEach((({ev:t,data:r})=>{fe(e,t,r)})),de[e].queue=[])},ke=e=>(t,r={})=>{if(0===t.length)return 0;v.info(`[Lazyload] loadJsFileTo${e}`);var n=Date.now(),i=x.loadJsFiles(t,null,{reportKey:void 0,isPageInitialScript:r.isPageInitialScript}),a=Date.now();return v.info(`[Lazyload] loadJsFileTo${e} done, cost: ${a-n}ms`),{cost:a-n,res:i}},Ee=ke("AppService"),Te=(ke("RenderContext"),new Set,ke("SclContext"),(e,t)=>{v.info("[VD] injectSubPackages: "+e.join(", ")),b.invoke("injectSubPackages",{subPackages:e},t)}),Pe=new Set,xe=(e,t)=>{var r=e.filter((e=>Pe.has(e))),n=e.filter((e=>!Pe.has(e)));if(r.length>0&&v.info(`[loadComponentsInDevTool] ignored loaded: [${r.length} comps]`),0===n.length)return v.info("[loadComponentsInDevTool] no comps to load, return"),0;n.forEach((e=>Pe.add(e)));var i=Date.now();return b.invoke("loadComponents",{comps:n},(()=>{})),Date.now()-i},Oe=5e3,Re=e=>{Oe=e},Me=()=>{},De=e=>{Me(e)},Ne=e=>{Me=e},Le=s();const Be=class{constructor(){this._idNodeMap={}}getAll(){return this._idNodeMap}getNodeById(e){return this._idNodeMap[e]}getNodeId(e){return e.__wxTmplId}allocNodeId(e,t){var r=t||Q();return e.__wxTmplId=r,this._idNodeMap[e.__wxTmplId]=e,r}addNode(){}removeNode(e){if(e.__wxTmplId&&delete this._idNodeMap[e.__wxTmplId],e.childNodes)for(var t=0;t<e.childNodes.length;t++)this.removeNode(e.childNodes[t]);e.shadowRoot instanceof Le.Element&&this.removeNode(e.shadowRoot)}},$e=c.asyncToGenerator;var Fe=t.n($e),je=s(),We={},Ue=1,Ve=(e,t,r)=>{void 0===e.__resizers?(e.__resizers=[],(e=>{var t=Ue++;We[t]=e,je.Observer.create((e=>{"detached"===e.status&&delete We[t]})).observe(e,{attachStatus:!0})})(e),e.__resizers[t]=r):e.__resizers[t]=r},qe=(e,t)=>{void 0!==e.__resizers&&(e.__resizers[t]=void 0)},ze=s(),Ge=null,He=e=>{0!==Object.keys(e).length&&(Ge=e,ks.listViewId().forEach((t=>{ve(m.BANNING_MAP,[e],t)})))},Ke=e=>{e.$$.style.display="none"},Qe=e=>{var t=e=>{e instanceof ze.Component?Ke(e):e instanceof ze.VirtualNode?e.childNodes.forEach((e=>{t(e)})):e instanceof ze.TextNode&&(e.textContent=""),e.__banned=!0};t(e)},Je={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Xe={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Ye=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],Ze={CSS:{},springs:{}};function et(e,t,r){return Math.min(Math.max(e,t),r)}function tt(e,t){return e.indexOf(t)>-1}function rt(e,t){return e.apply(null,t)}var nt={arr:function(e){return Array.isArray(e)},obj:function(e){return tt(Object.prototype.toString.call(e),"Object")},pth:function(e){return nt.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||nt.svg(e)||e.$$},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return nt.hex(e)||nt.rgb(e)||nt.hsl(e)},key:function(e){return!Je.hasOwnProperty(e)&&!Xe.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function it(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function at(e,t){var r=it(e),n=et(nt.und(r[0])?1:r[0],.1,100),i=et(nt.und(r[1])?100:r[1],.1,100),a=et(nt.und(r[2])?10:r[2],.1,100),o=et(nt.und(r[3])?0:r[3],.1,100),s=Math.sqrt(i/n),l=a/(2*Math.sqrt(i*n)),c=l<1?s*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*s-o)/c:-o+s;function p(e){var r=t?t*e/1e3:e;return r=l<1?Math.exp(-r*l*s)*(u*Math.cos(c*r)+d*Math.sin(c*r)):(u+d*r)*Math.exp(-r*s),0===e||1===e?e:1-r}return t?p:function(){var t=Ze.springs[e];if(t)return t;for(var r=1/6,n=0,i=0;;)if(1===p(n+=r)){if(++i>=16)break}else i=0;var a=n*r*1e3;return Ze.springs[e]=a,a}}function ot(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var st,lt,ct=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function r(e,t){return 3*t-6*e}function n(e){return 3*e}function i(e,i,a){return((t(i,a)*e+r(i,a))*e+n(i))*e}function a(e,i,a){return 3*t(i,a)*e*e+2*r(i,a)*e+n(i)}return function(t,r,n,o){if(0<=t&&t<=1&&0<=n&&n<=1){var s=new Float32Array(11);if(t!==r||n!==o)for(var l=0;l<11;++l)s[l]=i(l*e,t,n);return function(e){return t===r&&n===o||0===e||1===e?e:i(c(e),r,o)}}function c(r){for(var o=0,l=1;10!==l&&s[l]<=r;++l)o+=e;--l;var c=o+(r-s[l])/(s[l+1]-s[l])*e,u=a(c,t,n);return u>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var s=a(t,r,n);if(0===s)return t;t-=(i(t,r,n)-e)/s}return t}(r,c,t,n):0===u?c:function(e,t,r,n,a){var o,s,l=0;do{(o=i(s=t+(r-t)/2,n,a)-e)>0?r=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(r,o,o+e,t,n)}}}(),ut=(st={linear:function(){return function(e){return e}}},lt={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=et(e,1,10),n=et(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){lt[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(lt).forEach((function(e){var t=lt[e];st["easeIn"+e]=t,st["easeOut"+e]=function(e,r){return function(n){return 1-t(e,r)(1-n)}},st["easeInOut"+e]=function(e,r){return function(n){return n<.5?t(e,r)(2*n)/2:1-t(e,r)(-2*n+2)/2}}})),st);function dt(e,t){if(nt.fnc(e))return e;var r=e.split("(")[0],n=ut[r],i=it(e);switch(r){case"spring":return at(e,t);case"cubicBezier":return rt(ct,i);case"steps":return rt(ot,i);default:return rt(n,i)}}function pt(e){try{return document.querySelectorAll(e)}catch(e){return}}function ht(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],a=0;a<r;a++)if(a in e){var o=e[a];t.call(n,o,a,e)&&i.push(o)}return i}function ft(e){return e.reduce((function(e,t){return e.concat(nt.arr(t)?ft(t):t)}),[])}function gt(e){return nt.arr(e)?e:(nt.str(e)&&(e=pt(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function vt(e,t){return e.some((function(e){return e===t}))}function mt(e){var t={};for(var r in e)t[r]=e[r];return t}function yt(e,t){var r=mt(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function _t(e,t){var r=mt(e);for(var n in t)r[n]=nt.und(e[n])?t[n]:e[n];return r}function bt(e){return nt.rgb(e)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+r[1]+",1)":t:nt.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"}(e):nt.hsl(e)?function(e){var t,r,n,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==o)t=r=n=s;else{var u=s<.5?s*(1+o):s+o-s*o,d=2*s-u;t=c(d,u,a+1/3),r=c(d,u,a),n=c(d,u,a-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+l+")"}(e):void 0;var t,r}function wt(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function St(e,t){return nt.fnc(e)?e(t.target,t.id,t.total):e}function Ct(e,t){return e.getAttribute(t)}function It(e,t,r){if(e=e.$$||e,vt([r,"deg","rad","turn"],wt(t)))return t;var n=Ze.CSS[t+r];if(!nt.und(n))return n;var i=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+r;var o=100/i.offsetWidth;a.removeChild(i);var s=o*parseFloat(t);return Ze.CSS[t+r]=s,s}function At(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e.$$||e).getPropertyValue(n)||"0";return r?It(e,i,r):i}}function kt(e,t){return nt.dom(e)&&!nt.inp(e)&&(Ct(e,t)||nt.svg(e)&&e[t])?"attribute":nt.dom(e)&&vt(Ye,t)?"transform":nt.dom(e)&&"transform"!==t&&At(e,t)?"css":null!=e[t]?"object":void 0}function Et(e){if(nt.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map;t=n.exec(r);)i.set(t[1],t[2]);return i}}function Tt(e,t,r,n){var i=tt(t,"scale")?1:0+function(e){return tt(e,"translate")||"perspective"===e?"px":tt(e,"rotate")||tt(e,"skew")?"deg":void 0}(t),a=Et(e).get(t)||i;return r&&(r.transforms.list.set(t,a),r.transforms.last=t),n?It(e,a,n):a}function Pt(e,t,r,n){switch(kt(e,t)){case"transform":return Tt(e,t,n,r);case"css":return At(e,t,r);case"attribute":return Ct(e,t);default:return e[t]||0}}function xt(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=wt(e)||0,i=parseFloat(t),a=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+a+n;case"-":return i-a+n;case"*":return i*a+n}}function Ot(e,t){if(nt.col(e))return bt(e);if(/\s/g.test(e))return e;var r=wt(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function Rt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Mt(e){for(var t,r=e.points,n=0,i=0;i<r.numberOfItems;i++){var a=r.getItem(i);i>0&&(n+=Rt(t,a)),t=a}return n}function Dt(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*Ct(e,"r")}(e);case"rect":return function(e){return 2*Ct(e,"width")+2*Ct(e,"height")}(e);case"line":return function(e){return Rt({x:Ct(e,"x1"),y:Ct(e,"y1")},{x:Ct(e,"x2"),y:Ct(e,"y2")})}(e);case"polyline":return Mt(e);case"polygon":return function(e){var t=e.points;return Mt(e)+Rt(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Nt(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;nt.svg(t)&&nt.svg(t.parentNode);)t=t.parentNode;return t}(e),i=n.getBoundingClientRect(),a=Ct(n,"viewBox"),o=i.width,s=i.height,l=r.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:n,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function Lt(e,t){function r(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var n=Nt(e.el,e.svg),i=r(),a=r(-1),o=r(1);switch(e.property){case"x":return(i.x-n.x)*n.w;case"y":return(i.y-n.y)*n.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function Bt(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=Ot(nt.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:nt.str(e)||t?n.split(r):[]}}function $t(e){return ht(e?ft(nt.arr(e)?e.map(gt):gt(e)):[],(function(e,t,r){return r.indexOf(e)===t}))}function Ft(e){var t=$t(e);return t.map((function(e,r){return{target:e,id:r,total:t.length,transforms:{list:Et(e)}}}))}function jt(e,t){var r=mt(t);if(/^spring/.test(r.easing)&&(r.duration=at(r.easing)),nt.arr(e)){var n=e.length;2===n&&!nt.obj(e[0])?e={value:e}:nt.fnc(t.duration)||(r.duration=t.duration/n)}var i=nt.arr(e)?e:[e];return i.map((function(e,r){var n=nt.obj(e)&&!nt.pth(e)?e:{value:e};return nt.und(n.delay)&&(n.delay=r?0:t.delay),nt.und(n.endDelay)&&(n.endDelay=r===i.length-1?t.endDelay:0),n})).map((function(e){return _t(e,r)}))}function Wt(e,t){var r=[],n=t.keyframes;for(var i in n&&(t=_t(function(e){for(var t=ht(ft(e.map((function(e){return Object.keys(e)}))),(function(e){return nt.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),r={},n=function(n){var i=t[n];r[i]=e.map((function(e){var t={};for(var r in e)nt.key(r)?r==i&&(t.value=e[r]):t[r]=e[r];return t}))},i=0;i<t.length;i++)n(i);return r}(n),t)),t)nt.key(i)&&r.push({name:i,tweens:jt(t[i],e)});return r}function Ut(e,t){var r;return e.tweens.map((function(n){var i=function(e,t){var r={};for(var n in e){var i=St(e[n],t);nt.arr(i)&&1===(i=i.map((function(e){return St(e,t)}))).length&&(i=i[0]),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(n,t),a=i.value,o=nt.arr(a)?a[1]:a,s=wt(o),l=Pt(t.target,e.name,s,t),c=r?r.to.original:l,u=nt.arr(a)?a[0]:c,d=wt(u)||wt(l),p=s||d;return nt.und(o)&&(o=c),i.from=Bt(u,p),i.to=Bt(xt(o,u),p),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=dt(i.easing,i.duration),i.isPath=nt.pth(a),i.isColor=nt.col(i.from.original),i.isColor&&(i.round=1),r=i,i}))}var Vt={css:function(e,t,r){if(e.$$)return`${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${P.transformRpx(" "+r)};`;e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var a="";if(n.list.forEach((function(e,t){a+=t+"("+e+") "})),e.$$)return`transform:${P.transformRpx(" "+a)};`;e.style.transform=a}return""}};function qt(e,t){Ft(e).forEach((function(e){for(var r in t){var n=St(t[r],e),i=e.target,a=wt(n),o=Pt(i,r,a,e),s=xt(Ot(n,a||wt(o)),o),l=kt(i,r);Vt[l](i,r,s,e.transforms,!0)}}))}function zt(e,t){return ht(ft(e.map((function(e){return t.map((function(t){return function(e,t){var r=kt(e.target,t.name);if(r){var n=Ut(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!nt.und(e)}))}function Gt(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map((function(e){return n(e)+e.duration}))):t.duration,i.delay=r?Math.min.apply(Math,e.map((function(e){return n(e)+e.delay}))):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map((function(e){return n(e)+e.duration-e.endDelay}))):t.endDelay,i}var Ht=0;var Kt,Qt=[],Jt=function(){function e(){Kt=requestAnimationFrame(t)}function t(t){var r=Qt.length;if(r){for(var n=0;n<r;){var i=Qt[n];if(i.paused){var a=Qt.indexOf(i);a>-1&&(Qt.splice(a,1),r=Qt.length)}else i.tick(t);n++}e()}else Kt=cancelAnimationFrame(Kt)}return e}();function Xt(e){void 0===e&&(e={});var t,r=0,n=0,i=0,a=0,o=null;function s(e){var t=window.Promise&&new Promise((function(e){return o=e}));return e.finished=t,t}var l=function(e){var t=yt(Je,e),r=yt(Xe,e),n=Wt(r,e),i=Ft(e.targets),a=zt(i,n),o=Gt(a,r),s=Ht;return Ht++,_t(t,{id:s,children:[],animatables:i,animations:a,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}(e);s(l);function c(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function u(e){return l.reversed?l.duration-e:e}function d(){r=0,n=u(l.currentTime)*(1/Xt.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function h(e){for(var t=0,r=l.animations,n=r.length,i=[];t<n;){var a=r[t],o=a.animatable,s=a.tweens,c=s.length-1,u=s[c];c&&(u=ht(s,(function(t){return e<t.end}))[0]||u);for(var d=et(e-u.start-u.delay,0,u.duration)/u.duration,p=isNaN(d)?1:u.easing(d),h=u.to.strings,f=u.round,g=[],v=u.to.numbers.length,m=void 0,y=0;y<v;y++){var _=void 0,b=u.to.numbers[y],w=u.from.numbers[y]||0;_=u.isPath?Lt(u.value,p*b):w+p*(b-w),f&&(u.isColor&&y>2||(_=Math.round(_*f)/f)),g.push(_)}var C=h.length;if(C){m=h[0];for(var I=0;I<C;I++){h[I];var A=h[I+1],k=g[I];isNaN(k)||(m+=A?k+A:k+" ")}}else m=g[0];var E=Vt[a.type](o.target,a.property,m,o.transforms);i.push(E),a.currentValue=m,t++}1===l.animatables.length&&l.animatables[0].target.$$&&l.animatables[0].target.setNodeStyle(i.join(" "),S.ANIMATION)}function f(e){l[e]&&!l.passThrough&&l[e](l)}function g(e){var d=l.duration,g=l.delay,v=d-l.endDelay,m=u(e);l.progress=et(m/d*100,0,100),l.reversePlayback=m<l.currentTime,t&&function(e){if(l.reversePlayback)for(var r=a;r--;)p(e,t[r]);else for(var n=0;n<a;n++)p(e,t[n])}(m),!l.began&&l.currentTime>0&&(l.began=!0,f("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,f("loopBegin")),m<=g&&0!==l.currentTime&&h(0),(m>=v&&l.currentTime!==d||!d)&&h(d),m>g&&m<v?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,f("changeBegin")),f("change"),h(m)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,f("changeComplete")),l.currentTime=et(m,0,d),l.began&&f("update"),e>=d&&(n=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(r=i,f("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&c()):(l.paused=!0,l.completed||(l.completed=!0,f("loopComplete"),f("complete"),!l.passThrough&&"Promise"in window&&(o(),s(l)))))}return l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children;for(var r=a=t.length;r--;)l.children[r].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,h(l.reversed?l.duration:0)},l.set=function(e,t){return qt(e,t),l},l.tick=function(e){i=e,r||(r=i),g((i+(n-r))*Xt.speed)},l.seek=function(e){g(u(e))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Qt.push(l),d(),Kt||Jt())},l.reverse=function(){c(),d()},l.restart=function(){l.reset(),l.play()},l.reset(),l.autoplay&&l.play(),l}function Yt(e,t){for(var r=t.length;r--;)vt(e,t[r].animatable.target)&&t.splice(r,1)}Xt.version="3.1.0",Xt.speed=1,Xt.running=Qt,Xt.remove=function(e){for(var t=$t(e),r=Qt.length;r--;){var n=Qt[r],i=n.animations,a=n.children;Yt(t,i);for(var o=a.length;o--;){var s=a[o],l=s.animations;Yt(t,l),l.length||s.children.length||a.splice(o,1)}i.length||a.length||n.pause()}},Xt.get=Pt,Xt.set=qt,Xt.convertPx=It,Xt.path=function(e,t){var r=nt.str(e)?pt(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:Nt(r),totalLength:Dt(r)*(n/100)}}},Xt.setDashoffset=function(e){var t=Dt(e);return e.setAttribute("stroke-dasharray",t),t},Xt.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?dt(t.easing):null,i=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,c="last"===o,u=nt.arr(e),d=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,h=wt(u?e[1]:e)||0,f=t.start||0+(u?d:0),g=[],v=0;return function(e,t,m){if(s&&(o=0),l&&(o=(m-1)/2),c&&(o=m-1),!g.length){for(var y=0;y<m;y++){if(i){var _=l?(i[0]-1)/2:o%i[0],b=l?(i[1]-1)/2:Math.floor(o/i[0]),w=_-y%i[0],S=b-Math.floor(y/i[0]),C=Math.sqrt(w*w+S*S);"x"===a&&(C=-w),"y"===a&&(C=-S),g.push(C)}else g.push(Math.abs(o-y));v=Math.max.apply(Math,g)}n&&(g=g.map((function(e){return n(e/v)*v}))),"reverse"===r&&(g=g.map((function(e){return a?e<0?-1*e:-e:Math.abs(v-e)})))}return f+(u?(p-d)/v:d)*(Math.round(100*g[t])/100)+h}},Xt.timeline=function(e){void 0===e&&(e={});var t=Xt(e);return t.duration=0,t.add=function(r,n){var i=Qt.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&Qt.splice(i,1);for(var s=0;s<a.length;s++)o(a[s]);var l=_t(r,yt(Xe,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=nt.und(n)?c:xt(n,c),o(t),t.seek(l.timelineOffset);var u=Xt(l);o(u),a.push(u);var d=Gt(a,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Xt.easing=dt,Xt.penner=ut,Xt.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Zt=Xt;var er=["height","left","matrix","matrix3d","opacity","right","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","top","translate","translate3d","translateX","translateY","translateZ","width","backgroundColor","bottom","borderRadius"],tr=["easeInElastic","easeOutElastic","easeInOutElastic","easeSpringElastic"],rr=Object.assign,nr=Object.keys,ir=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","delay","duration","offset","easing"],ar=["linear","ease","ease-in","ease-out","ease-in-out","cubic-bezier","steps"],or=(e,t)=>{var r;return e=(null===(r=f())||void 0===r?void 0:r.predefinedColor[e])||e,t?[e,e]:e},sr=(e,t)=>{var r=e.length,n=0;return e.map(((e,i)=>{var a,o={};a="offset"in e?e.offset:1===r?1:i/(r-1);var s=n===a;return nr(e).forEach((t=>{ir.indexOf(t)>-1||("transform"!==t?o[t]=or(e[t],s):rr(o,((e,t)=>{if("none"===(e=e.toLowerCase().trim()))return{};for(var r,n={},i=ir.map((e=>e.toLowerCase())),a={scale3d:"AAA",translate:"Aa",translate3d:"AAA",rotate3d:"AAAA",matrix3d:"AAAAAA",matrix:"AAAAAAAAAAAAAAAA"},o=["rotate3d","matrix","matrix3d"],s=/\s*(\w+)\(([^)]*)\)/g,l=0;r=s.exec(e);){if(r.index!==l)return{};l=r.index+r[0].length;var c=r[1],u=r[2].split(",");if(i.indexOf(c)>-1)n[c.replace(/(x|y|z)$/,(e=>e.toUpperCase()))]=or(u.join(" "),t);else{if(!(nr(a).indexOf(c)>-1))return{};var d=a[c];if(u.length>d.length)return{};for(var p=d.length-1;p>=0;p--){var h=d[p];if("a"!==h||u[p]){if("A"===h&&!u[p])return{};-1===o.indexOf(c)&&(n[c.replace("3d","")+String.fromCharCode(88+p)]=or(u[p].trim(),t))}}}}return n})(e[t],s)))})),s?o.duration=0:(o.duration=(a-n)*t,n=a),o}))},lr=e=>{for(var t=0;t<ar.length&&0!==e.indexOf(ar[t]);t++);if(t===ar.length)return"linear";switch(e){case"ease":return"cubicBezier(0.25, 0.1, 0.25, 1)";case"ease-in":return"cubicBezier(0.42, 0, 1, 1)";case"ease-out":return"cubicBezier(0, 0, 0.58, 1)";case"ease-in-out":return"cubicBezier(0.42, 0, 0.58, 1)";default:return e.replace(/^cubic-bezier/,"cubicBezier")}};class cr{constructor(e,t){this._nativeSupported="function"==typeof HTMLElement.prototype.animate;var r=e.keyframeOptions,n=this.direction=r.direction;if(this.timeline=t,this._nativeSupported){var i=((e,t)=>{var r=t.easing;return delete t.easing,e.map((e=>(e.easing=r,e)))})(e.keyframeSet,r);this._inst=e.element.$$.animate(i,rr(r,{fill:"both"})),this._inst.pause()}else this._inst=Zt({targets:e.element,keyframes:sr(e.keyframeSet,r.duration),autoplay:!1,loop:r.iterations===1/0||r.iterations,easing:lr(r.easing),direction:"normal",delay:"reverse"===n?r.endDelay:r.delay,endDelay:"reverse"===n?r.delay:r.endDelay});t._driven(this)}set currentTime(e){if(!isNaN(e)){var t=this._inst;this._nativeSupported?t.currentTime=e:"reverse"===this.direction?t.seek(t.duration-e):t.seek(e)}}cancel(){this._nativeSupported?this._inst.cancel():this._inst.reset(),this.timeline._destroy(),this._inst=null}}class ur{constructor(e,t){if(t.scrollSource){if(this._scrollNode=window.__DOMTree__.shadowRoot.querySelector(t.scrollSource),this._scrollNode||(this._scrollNode=e&&e.querySelector(t.scrollSource)),!this._scrollNode)throw new Error(`Cannot find scroll source by ${t.scrollSource} selector.`)}else this._scrollNode=window.__DOMTree__;this.orientation=t.orientation||"vertical",this.startScrollOffset=t.startScrollOffset,this.endScrollOffset=t.endScrollOffset,this.timeRange=t.timeRange,this.fill=t.fill||"both",this._scroll=this._scroll.bind(this)}_calcCurrentTime(e,t){var r=this.startScrollOffset,n=this.endScrollOffset,i=this.fill,a=this.timeRange,o=e.scrollTop,s=e.scrollHeight-t.$$.offsetHeight;return"horizontal"===this.orientation&&(o=e.scrollLeft,s=e.scrollWidth-t.$$.offsetWidth),o<r?"none"===i||"forwards"===i?NaN:0:o>=n?n<s&&("none"===i||"backwards"===i)?NaN:a:r>=n?NaN:(o-r)/(n-r)*a}_scroll(){var e=this._calcCurrentTime(this._scrollNode===window.__DOMTree__?window.__DOMTree__.$$:this._scrollNode.getScrollPosition(),this._scrollNode);this._animation.currentTime=e}_driven(e){this._animation=e,this._scrollNode===window.__DOMTree__?document.addEventListener("scroll",this._scroll,{capture:!0,passive:!0}):this._scrollNode.$$.addEventListener("scroll",this._scroll,{capture:!0,passive:!0}),this._scroll()}_destroy(){this._scrollNode===window.__DOMTree__?document.removeEventListener("scroll",this._scroll,{capture:!0,passive:!0}):this._scrollNode.$$.removeEventListener("scroll",this._scroll,{capture:!0,passive:!0})}}var dr=(e,t,r,n,i)=>{var a={element:t,keyframeSet:r.map((e=>{var t={};return Object.entries(e).forEach((([e,r])=>{t[e]=Sr(r)})),t})),keyframeOptions:{delay:n.delay||0,direction:n.direction||"normal",duration:n.duration||0,easing:n.easing||"linear",endDelay:n.endDelay||0,iterations:1}},o=new ur(e,i);t.__scrollAnimations=t.__scrollAnimations||[],t.__scrollAnimations.push(new cr(a,o))},pr=(e,t)=>{for(var r=[],n=0;n<e.length;++n)r.push(Object.assign({},e[n]));r[0].offset=0,r[r.length-1].offset=1;for(var i=function(e){r[e].offset=function(e,t){if("number"==typeof t[e].offset)return t[e].offset;for(var r=e+1;r<t.length;++r)if(t[r].offset)return(t[r].offset-t[e-1].offset)/(r-e+1)+t[e-1].offset;return 0}(e,r),r[e].duration=0===e?0:(r[e].offset-r[e-1].offset)*t,tr.some((t=>r[e].ease&&r[e].ease.startsWith(t)))&&(r[e].type="animeJS")},a=0;a<r.length;++a)i(a);return r},hr=s(),fr={},gr={},vr=0,mr=1,yr=2,_r=function(e){return Object.keys(e).filter((t=>{var r=t.toLocaleLowerCase();return!((r.includes("transform")||r.includes("transition"))&&""===e[t]||""===t.trim()||void 0===e[t]||""===e[t]||!isNaN(parseInt(t,10)))})).map((t=>`${t.replace(/([A-Z]{1})/g,(e=>`-${e.toLowerCase()}`))}:${e[t]}`)).join(";")},br=(e,t)=>{var{nodeId:r,webviewId:n,options:i,selector:a,reqId:o,hasCallback:s,fromWxs:l}=e,c=Es(r,n);if(c){var u=c.shadowRoot,d=t||u.querySelectorAll(a);if(t){var p=()=>{var e=ks.getByNode(t);if(l){var r=e.clearAnimationCbMap[o];"function"==typeof r&&(delete e.clearAnimationCbMap[o],hr.safeCallback("Clear Animation",r,null,[]))}else ve(m.CLEAR_ANIMATION_COMPLETE,{reqId:o},e.viewId)};if((e=>{(e.__scrollAnimations||[]).forEach((e=>{e.cancel()})),e.__scrollAnimations=[]})(d),!i||"function"==typeof i||!d.__styleObj)return d.__animeOptions&&(d.__animeOptions.forEach((e=>"function"==typeof e.reset&&e.reset())),d.__animeOptions=[]),d.setNodeStyle("",S.ANIMATION),qe(d,S.ANIMATION),d.__styleObj=null,d.__animateStatus=vr,d.__animationPendingQueue=[],void p();var h=d.__styleObj.transform.split(" ");for(var f of Object.keys(i))if(i[f])if(d.__styleObj["backgroundColor"===f?"background-color":f])delete d.__styleObj["backgroundColor"===f?"background-color":f];else for(var g=0;g<h.length;++g)h[g].indexOf(f)>=0&&h.splice(g,1);d.__styleObj.transform=h.join(" "),d.__styleObj["-webkit-transform"]=h.join(" "),d.__styleObj.transition="unset",d.__styleObj.transitionProperty="unset",d.__styleObj["-webkit-transition"]="unset",d.__styleObj["-webkit-transition-property"]="unset";var v=e=>{d.setNodeStyle(P.transformRpx(e,!0),S.ANIMATION)};v(_r(d.__styleObj)),Ve(d,S.ANIMATION,v),d.__animateStatus=vr,--gr[o],0===gr[o]&&s&&p()}else{gr[o]=d.length;for(var y=0;y<d.length;++y)br(e,d[y])}}},wr=(e,t)=>{var{nodeId:r,webviewId:n,selector:i}=e,a=Es(r,n);if(a){var o=a.shadowRoot,s=t||o.querySelectorAll(i);if(t)s.__animationPendingQueue&&s.__animationPendingQueue.length>0&&(s.__animateStatus=yr,setTimeout((()=>{Cr(s.__animationPendingQueue.shift(),s,!0)}),32));else for(var l=0;l<s.length;++l)wr(JSON.parse(JSON.stringify(e)),s[l])}},Sr=e=>("string"==typeof e?e=P.transformRpx(e,!0):"object"==typeof e&&"string"==typeof e.value?e.value=P.transformRpx(e.value,!0):Array.isArray(e)&&e.map((e=>{if("string"==typeof e.value)e.value=P.transformRpx(e.value,!0);else if("string"==typeof e)return P.transformRpx(e,!0);return e})),e),Cr=(e,t,r)=>{P.nextTick((()=>{var{nodeId:n,webviewId:i,options:a,selector:o,reqId:s,hasCallback:l,type:c,isLastAnimation:u,fromWxs:d}=e,p=Es(n,i);if(p){var h=p.shadowRoot,f=t||h.querySelectorAll(o);if(t){if(f.__animateStatus===mr||f.__animateStatus===yr&&!r)return f.__animationPendingQueue||(f.__animationPendingQueue=[]),void f.__animationPendingQueue.push(JSON.parse(JSON.stringify(e)));f.__hasCallback=l,f.__reqId=s,f.__args=JSON.stringify(e);var g=["height","left","matrix","matrix3d","opacity","right","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","top","translate","translate3d","translateX","translateY","translateZ","width","backgroundColor","bottom"],v=["opacity","backgroundColor","width","height","left","top","bottom"],y=["rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY","translateX","translateY","translateZ"],_="animeJS"===c,b=(r,n=!0)=>{if(f.__animateStatus===mr){if(--fr[f.__reqId],f.__animationPendingQueue&&f.__animationPendingQueue.length>0&&!f.__hasCallback?(f.__animateStatus=yr,Cr(f.__animationPendingQueue.shift(),f,!0)):f.__animateStatus=vr,"function"==typeof r)f.__styleObj.transition="unset",f.__styleObj.transitionProperty="unset",f.__styleObj["-webkit-transition"]="unset",f.__styleObj["-webkit-transition-property"]="unset",r(_r(f.__styleObj));if(0===fr[f.__reqId]&&f.__hasCallback&&n){var i=ks.getByNode(t);if(d){var a=i.applyAnimationCbMap[f.__reqId];"function"==typeof a&&(delete i.applyAnimationCbMap[f.__reqId],hr.safeCallback("Animation",a,null,[])),wr(e)}else ve(m.ANIMATION_TRANSITION_END,{reqId:f.__reqId,args:f.__args},i.viewId)}}},w=[];for(var C of Object.keys(a))g.indexOf(C)>=0&&(v.indexOf(C)>=0?w.push({type:"style",args:["backgroundColor"===C?"background-color":C,a[C]]}):y.indexOf(C)>=0?w.push({type:C,args:[a[C]]}):w.push({type:C,args:a[C]}));var I={transition:{delay:a.delay||0,duration:a.duration||0,timingFunction:a.ease||"linear"},transformOrigin:a.transformOrigin||"50% 50% 0"},A={option:I,animates:w},{transition:k,transitionProperty:E,transform:T,transformOrigin:x,style:O}=P.animationToStyle(A),R=f.__styleObj?Object.assign({},f.__styleObj,{transition:k,transform:T,transitionProperty:E,transformOrigin:x}):{transition:k,transform:T,transitionProperty:E,transformOrigin:x};for(var M of(R["-webkit-transition"]=R.transition,R["-webkit-transform"]=R.transform,R["-webkit-transition-property"]=R.transitionProperty,R["-webkit-transform-origin"]=R.transformOrigin,Object.keys(O||{})))R[M]=O[M];if(f.__styleObj&&R.transform===f.__styleObj.transform){var D=!0;for(var N of Object.keys(R))v.indexOf(N)>=0&&f.__styleObj[N]!==R[N]&&(D=!1);if(D)return void setTimeout((()=>{f.__animationPendingQueue&&f.__animationPendingQueue.length>0&&Cr(f.__animationPendingQueue.shift(),f,!0)}),I.duration)}if(0===I.transition.duration?(R.transition="unset",R.transitionProperty="unset",R["-webkit-transition"]="unset",R["-webkit-transition-property"]="unset"):f.__animateStatus=mr,f.__styleObj=R,_){a.targets=f,a.ease&&(a.easing=a.ease,delete a.ease),(e=>{Object.keys(e).forEach((t=>{er.includes(t)&&(e[t]=Sr(e[t]))}))})(a),f.__animateStatus=mr,f.__banned&&Ke(f);var L=a.complete;a.complete=(...e)=>{b(void 0,u),"function"==typeof L&&L(...e)};var B=Zt(a);f.__animeOptions||(f.__animeOptions=[]),f.__animeOptions.push(B)}else{var $=_r(R),F=e=>{var t=()=>{f.setNodeStyle(P.transformRpx(e,!0),S.ANIMATION)};t(),Ve(f,S.ANIMATION,t)};0===I.transition.duration?F($):setTimeout((()=>{F($)}),32),f.__banned&&Ke(f),f.__animationListener||(f.addListener("transitionend",(()=>{b(F)})),f.__animationListener=!0),0===I.transition.duration&&(f.__animationPendingQueue&&f.__animationPendingQueue.length>0?(f.__animateStatus=yr,Cr(f.__animationPendingQueue.shift(),f,!0)):f.__animateStatus=vr)}}else{fr[s]=f.length;for(var j=0;j<f.length;++j)Cr(JSON.parse(JSON.stringify(e)),f[j])}}}))},Ir=(e,t,r)=>{var n=e.$$,i={},a=null,o=new Set,s=e=>{o.add(e),e((()=>{o.delete(e),0===o.size&&"function"==typeof a&&a(i)}))};if(t.id&&(i.id=e.id||""),t.dataset&&(i.dataset=e.dataset||{}),t.mark&&(i.mark=e.collectMarks()||{}),(t.rect||t.size)&&(n?s((e=>{((e,t)=>{"webview"===d()?t(e.getBoundingClientRect()):e.getBoundingClientRect((e=>{t(e)}))})(n,(r=>{t.rect&&(i.left=r.left,i.right=r.right,i.top=r.top,i.bottom=r.bottom),t.size&&(i.width=r.width,i.height=r.height),e()}))})):i.left=i.right=i.top=i.bottom=i.width=i.height=0),t.properties&&t.properties.forEach((t=>{var r=t.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));hr.Component.hasPublicProperty(e,r)&&(i[r]=e[r])})),t.scrollOffset)if("function"==typeof e.hasBehavior&&e.hasBehavior("wx-positioning-container")){var l=e.getScrollPosition();i.scrollLeft=l.scrollLeft,i.scrollTop=l.scrollTop,i.scrollWidth=l.scrollWidth,i.scrollHeight=l.scrollHeight}else i.scrollLeft=0,i.scrollTop=0,i.scrollWidth=0,i.scrollHeight=0;if(t.computedStyle&&t.computedStyle.length&&n){var c="webview"!==d()?e.__backendContext:null;s((e=>{((e,t,r)=>{"webview"===d()?r(window.getComputedStyle(t)):"function"==typeof(null==e?void 0:e.getComputedStyle)?e.getComputedStyle(t,(e=>{r(e||{})})):r({})})(c,n,(r=>{for(var n=0,a=t.computedStyle.length;n<a;n++){var o=t.computedStyle[n];o&&void 0!==r[o]&&(i[o]=r[o])}e()}))}))}if(t.context&&(i.contextIs=e.is,i.contextId="function"==typeof e.getContextId&&e.getContextId(),i.contextCanvasId=e.canvasId||"","xr-frame"===d()&&(i.__context=n.__xrElement)),t.node&&(i.nodeIs=e.is,i.nodeId="function"==typeof e.getContextId&&e.getContextId(),i.nodeCanvasId=e.canvasId||"",i.nodeCanvasType=e.type||"",i.nodeNodeId=e.getNodeId()),0!==o.size){if("function"!=typeof r)throw new Error("Framework Error: getNetInfo called asynchronously without a callback");a=r}else{if("function"!=typeof r)return i;r(i)}},Ar=(e,t)=>"webview"===d()?Ir(e,t):new Promise((r=>{Ir(e,t,(e=>{r(e)}))})),kr=function(){var e=Fe()((function*(e,t){var r=[],{pluginId:n,queue:i}=e;return i.forEach((e=>{var i=e.component,a=e.selector,o=e.single,s=e.fields,l=null;if(0===i)l=((e,t)=>{var r={},n=e=>"webview"===d()?document.documentElement[e]||document.body[e]:t.root.getBackendContext()[e];return e.id&&(r.id=""),e.dataset&&(r.dataset={}),e.mark&&(r.mark={}),e.rect&&(r.left=0,r.right=0,r.top=0,r.bottom=0),e.size&&(r.width=n("clientWidth"),r.height=n("clientHeight")),e.scrollOffset&&(r.scrollLeft=n("scrollLeft"),r.scrollTop=n("scrollTop"),r.scrollWidth=n("scrollWidth"),r.scrollHeight=n("scrollHeight")),r})(s,t);else{var c=t.nodeId.getNodeById(i),u=!1;if(c?(hr.Component.getComponentOptions(c).writeOnly&&(u=!0),c=c.shadowRoot):n||(c=window.__DOMTree__?window.__DOMTree__.shadowRoot:null),o){var p=c&&!u?c.querySelector(a):null;p?(p.$$||!s.size&&!s.rect||console.warn('For developer:Node "'+a+'" is virtual. Query selector cannot get size info.'),l=Ar(p,s)):l=null}else{var h=c&&!u?c.querySelectorAll(a):[];l=[];for(var f=0;f<h.length;f++)h[f].$$||!s.size&&!s.rect||console.warn('For developer:Node "'+a+'" is virtual. Query selector cannot get size info.'),l.push(Ar(h[f],s));l=Promise.all(l)}}r.push(l)})),Promise.all(r)}));return function(t,r){return e.apply(this,arguments)}}();function Er(e=0,t=0,r=0,n=0){return{x:e,y:t,left:e,top:t,width:r,height:n,bottom:t+n,right:e+r}}var Tr=Er();function Pr(e){return e===document.documentElement?Er(0,0,e.clientWidth,e.clientHeight):e.getBoundingClientRect()}function xr(e){return e.width*e.height}function Or(e,t){for(var r,n=0,i=e.length;n!==i;)e[r=n+i>>1]<=t?n=r+1:i=r;return n}function Rr(...e){for(var t=e[0].left,r=e[0].right,n=e[0].top,i=e[0].bottom,a=0;a<e.length;a+=1)t=Math.max(t,e[a].left),r=Math.min(r,e[a].right),n=Math.max(n,e[a].top),i=Math.min(i,e[a].bottom);var o=r-t,s=i-n;return o>0&&s>0?Er(t,n,o,s):Tr}var Mr=(e,t)=>{class r{static getInstance(){return this._instance||(this._instance=new r),this._instance}constructor(){this._connected=!1,this._observers=new Set,this.refresh=function(e){var t=null;return()=>{t||(t=requestAnimationFrame((()=>{t=null,e()})))}}(this.refresh.bind(this))}addObserver(e){this._observers.add(e),this._connected||this._connect()}removeObserver(e){this._observers.delete(e),0===this._observers.size&&this._connected&&this._disconnect()}refresh(){this._observers.forEach((e=>{e.refresh()}))}_connect(){this._connected||(e(this.refresh),this._connected=!0)}_disconnect(){this._connected&&(t(this.refresh),this._connected=!1)}}r._instance=null;class n{constructor(e,t,r=-1){this.target=e,this.observer=t,this._prevRatio=r,this._prevTargetRect=Tr,this._prevThreshold=0,this._prevThreshold=Or(t.thresholds,this._prevRatio)}updateIntersection(e){var t,r,n,i=Pr(this.target),a=function(e,t,r){var n=e.isConnected?Rr(t,r):Tr,i=n.width>0&&n.height>0;return{rect:n,ratio:i?xr(n)/xr(r):0,exists:i}}(this.target,e,i),o=a.exists&&(0!==(t=i).height||0!==t.width)?Or(this.observer.thresholds,a.ratio):a.exists?1:0,s=a.ratio!==this._prevRatio,l=(r=i,n=this._prevTargetRect,!(r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom)),c=o!==this._prevThreshold;return this._prevTargetRect=i,this._prevThreshold=o,this._prevRatio=a.ratio,{intersection:a,targetRect:i,ratioChanged:s,thresholdChanged:c,targetRectChanged:l}}}return class{constructor(e,t){if(this._callback=e,this.relatives=void 0,this.thresholds=void 0,this.initialRatio=void 0,this._added=!1,this._observations=new Map,this._controller=r.getInstance(),this._entries=[],this._callbackScheduled=!1,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.relatives=t.relatives,this.thresholds=Object.freeze(function(e=0){return(Array.isArray(e)?e.length?e:[0]:[e]).map((e=>{if(e=Number(e),!window.isFinite(e))throw new TypeError("The provided double value is non-finite.");if(e<0||e>1)throw new RangeError("Threshold values must be between 0 and 1.");return e})).sort()}(t.threshold)),this.initialRatio=t.initialRatio||0}_getRootRect(){return Rr(...this.relatives.map((({node:e,margin:t},r)=>{return n=Pr(e||document.documentElement),i=t,a=n.left-i.left,o=n.top-i.top,Er(a,o,n.right+i.right-a,n.bottom+i.bottom-o);var n,i,a,o})))}disconnect(){this._added&&(this._added=!1,this._observations.clear(),this._controller.removeObserver(this))}observe(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');if(!this._observations.has(e)){var t=new n(e,this,this.initialRatio);this._observations.set(e,t),this._added||(this._controller.addObserver(this),this._added=!0),window.requestAnimationFrame((()=>{this._added&&this._initialRefresh(t)}))}}}unobserve(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');this._observations.has(e)&&(this._observations.delete(e),0===this._observations.size&&this._added&&(this._controller.removeObserver(this),this._added=!1))}}_initialRefresh(e){var t=this._getRootRect(),r=this._entries,n=e.updateIntersection(t);n.thresholdChanged&&(r.push({boundingClientRect:n.targetRect,intersectionRatio:n.intersection.ratio,intersectionRect:n.intersection.rect,isIntersecting:n.intersection.exists,rootBounds:t,target:e.target,time:Date.now()}),this._scheduleCallback())}_scheduleCallback(){this._callbackScheduled||(Promise.resolve().then((()=>{this._callbackScheduled=!1;var e=this._entries;e.length&&(this._callback(e),this._entries=[])})),this._callbackScheduled=!0)}refresh(){var e=this._getRootRect(),t=this._entries;this._observations.forEach((r=>{var n=r.updateIntersection(e);n.thresholdChanged&&t.push({boundingClientRect:n.targetRect,intersectionRatio:n.intersection.ratio,intersectionRect:n.intersection.rect,isIntersecting:n.intersection.exists,rootBounds:e,target:r.target,time:Date.now()})})),this._scheduleCallback()}}},Dr=!1;p.onReady((e=>{var t;Dr=!!Number((null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_webview_native_intersection_observer)||0)}));var Nr,Lr=s(),Br={},$r={},Fr={},jr=function(){var e=Fe()((function*(e){for(var t=p.screenWidth||500,r=p.screenHeight||1e3,n=null,i=function*(){var{node:i,margins:o}=e[a],s=i?yield yield new Promise((e=>{i.$$.getBoundingClientRect((t=>e(t)))})):{left:0,top:0,right:t,bottom:r,width:t,height:r},l={left:s.left-o.left,top:s.top-o.top,right:s.right+o.right,bottom:s.bottom+o.bottom};n=n?((e,t)=>{var r={left:e.left<t.left?t.left:e.left,top:e.top<t.top?t.top:e.top,right:e.right>t.right?t.right:e.right,bottom:e.bottom>t.bottom?t.bottom:e.bottom,width:0,height:0};return r.right>r.left?r.width=r.right-r.left:r.right=r.left=r.bottom=r.top=0,r.bottom>r.top?r.height=r.bottom-r.top:r.right=r.left=r.bottom=r.top=0,r})(n,l):l},a=0;a<e.length;a++)yield*i();return n}));return function(t){return e.apply(this,arguments)}}(),Wr=e=>({left:e.left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}),Ur=({left:e,top:t,right:r,bottom:n})=>`${t}px ${r}px ${n}px ${e}px`,Vr=(e,t)=>{for(var r,n=0,i=e.length;n!==i;)e[r=n+i>>1]<=t?n=r+1:i=r;return n},qr=(e,t,r,n,i)=>{var a=Q();if(!e.length||!t.length)return a;if("webview"===d())Fr[a]=e.length,0===n&&(n=-1),e.forEach(((e,o)=>{var s,l=t.filter((t=>{if(!t.node)return!0;for(var r=t.node.$$,n=e.$$,i=!1;n;){if(n===r){i=!0;break}n=n.parentNode}return i})).length,c=`${a}#${o}`;s=Dr&&l===t.length?1!==t.length?((e,t,r,n,i)=>{var a,o=Mr((n=>{a=t.map((({node:t,margins:i})=>{var o=!0,s=new window.IntersectionObserver((()=>{o?o=!1:(a.forEach((e=>e.takeRecords())),n())}),{root:t?t.$$:null,rootMargin:Ur(i),threshold:1===r.length&&0===r[0]?[0]:Array(101).fill(null).map(((e,t)=>t/100))});return s.observe(e.$$),s}))}),(()=>{a.forEach((e=>e.disconnect())),a=null})),s=new o((e=>{e.forEach((e=>{var t=e.target.__wxElement;i({id:t.id,dataset:t.dataset,time:Date.now(),boundingClientRect:e.boundingClientRect,intersectionRatio:e.intersectionRatio,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds})}))}),{initialRatio:n,threshold:r,relatives:t.map((({node:e,margins:t})=>({node:e?e.$$:null,margin:t})))});return s})(e,t,r,n,i):((e,t,r,n,i)=>{var a=Vr(n),[{node:o,margins:s}]=t,l=new window.IntersectionObserver((e=>{e.forEach((e=>{if(null===a||a!==Vr(r,e.isIntersecting?e.intersectionRatio:-1)){var t=e.target.__wxElement;i({id:t.id,dataset:t.dataset,time:Date.now(),boundingClientRect:e.boundingClientRect,intersectionRatio:e.intersectionRatio,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds})}})),a=null}),{root:o?o.$$:null,rootMargin:Ur(s),threshold:r});return l})(0,t,r,n,i):((e,t,r,n,i)=>{Nr||(Nr=Mr((e=>{document.addEventListener("pageReRender",e),window.addEventListener("scroll",e,{capture:!0,passive:!0})}),(e=>{document.removeEventListener("pageReRender",e),window.removeEventListener("scroll",e,{capture:!0})})));var a=new Nr((e=>{e.forEach((e=>{var t=e.target.__wxElement;i({id:t.id,dataset:t.dataset,time:Date.now(),boundingClientRect:e.boundingClientRect,intersectionRatio:e.intersectionRatio,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds})}))}),{initialRatio:n,threshold:r,relatives:t.map((({node:e,margins:t})=>({node:e?e.$$:null,margin:t})))});return a})(0,t,r,n,i),Br[c]=s;var u=Lr.Observer.create((t=>{"attached"===t.status?s.observe(e.$$):"detached"===t.status&&s.disconnect()}));$r[c]=u,u.observe(e,{attachStatus:!0}),Lr.Element.isAttached(e)&&s.observe(e.$$)}));else if("skyline"===d()){var o=e.length;Fr[a]=o,e.forEach(((e,o)=>{var s,l=a+"#"+o,c={targetNode:e,relatives:t,thresholds:r,currentRatio:n,cb:i},u=__skylineEngine__.RuntimeCore,d=Wr(null===(s=c.relatives[0])||void 0===s?void 0:s.margins),p=[d.top,d.right,d.bottom,d.left],h=new u.intersectionObserver(function(){var e=Fe()((function*(e){var t,{targetNode:r}=c,n=yield jr(c.relatives);i({id:r.id,dataset:r.dataset,time:Date.now(),boundingClientRect:e[0].boundingClientRect,intersectionRatio:e[0].intersectionRatio,intersectionRect:(t=e[0].intersectionRect,{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),relativeRect:n})}));return function(t){return e.apply(this,arguments)}}(),{rootMargin:p,thresholds:c.thresholds});Br[l]=h,h.observe(e.$$)}))}return a},zr=(e,t,r)=>{if("addIntersectionObserver"===e.type){var n=null;if(e.nodeId){var i=t.nodeId.getNodeById(e.nodeId);if(!i)return;n=i.shadowRoot}else e.pluginId||(n=window.__DOMTree__.shadowRoot);if(!n)return;var a=((e,t,r,n,i,a="internal")=>{var o=null;if((n=n||{}).observeAll)o=e.querySelectorAll(t);else{var s=e.querySelector(t);o=s?[s]:[]}o.length||console.warn('For developer:Node "'+t+'" is not found. Intersection observer will not trigger.'),o=o.filter((e=>!!e.$$||(console.warn('For developer:Node "'+t+'" is virtual. Intersection observer will not trigger.'),!1)));var l=[];r.forEach((t=>{var{selector:r,margins:n}=t,i=null==r?null:e.querySelector(r);i||null==r?l.push({node:i,margins:Wr(n||{})}):console.warn('For developer:Node "'+r+'" is not found. The relative node for intersection observer will be ignored.')})),l.length||console.warn("For developer:Intersection observer will be ignored because no relative nodes are found.");var c=n.thresholds&&Array.isArray(n.thresholds)?n.thresholds.filter((e=>0<=e&&e<=1)):[0];return qr(o,l,c.length?c:[0],n.initialRatio||0,i)})(n,e.targetSelector,e.relativeInfo,e.options,(e=>{r({info:e})}),"user");return{observerId:a}}if("removeIntersectionObserver"===e.type)return(e=>{var t=Fr[e];delete Fr[e];for(var r=0;r<t;r++){var n=e+"#"+r,i=Br[n];i&&(i.disconnect(),delete Br[n]);var a=$r[n];a&&(a.disconnect(),delete $r[n])}})(e.observerId),{reqEnd:!0}},Gr=1,Hr={},Kr=(e,t)=>{var r=(e=>{if("object"!=typeof e)return"";var t="";return["minWidth","maxWidth","width","minHeight","maxHeight","height"].forEach((r=>{if(void 0!==e[r]){var n=Number(e[r]);n>=0||(n="");var i=r.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));t&&(t+=" and "),t+=`(${i}: ${n}px)`}})),["orientation"].forEach((r=>{if(void 0!==e[r]){var n=/^[-_a-z0-9]+$/i.test(e[r])?e[r]:"",i=r.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()));t&&(t+=" and "),t+=`(${i}: ${n})`}})),t})(e),n=window.matchMedia(r),i=Gr++,a=e=>{t({matches:e.matches})};return Hr[i]={observer:n,listener:a},n.addListener(a),t({matches:n.matches}),i},Qr=(e,t)=>"addMediaQueryObserver"===e.type?{observerId:Kr(e.mediaQueryCond,(e=>{t({info:e})}))}:"removeMediaQueryObserver"===e.type?((e=>{var{observer:t,listener:r}=Hr[e];t.removeListener(r),delete Hr[e]})(e.observerId),{reqEnd:!0}):void 0;function Jr(e,t){var{hasCallback:r,reqId:n,nodeId:i,pageId:a,selector:o,data:s}=e[0],{renderer:l,styleInfo:c}=s,d=t.nodeId.getNodeById(i),p=void 0,h=(d=d?d.shadowRoot:window.__DOMTree__?window.__DOMTree__.shadowRoot:null)?d.querySelectorAll(o):[];"skyline"===l?p=function(e,t,r,n){var{updaterId:i,userConfig:a}=e,o=u(),s=o.proxyCreateAnimatedStyle(t,i,a),{mapperId:l}=s,c=0;return r.forEach((e=>{e.__virtual?v.warn(`[WABaseLib.Critical] applyAnimatedStyle can not be used on virtual component, selector(${n}`):(e.$$.addAnimatedStyle(s),c++)})),0===c&&(o.proxyStopMapper(t,l),v.warn(`[WABaseLib.Critical] applyAnimatedStyle can not find valid element, selector(${n})`)),l}(c,a,h,o):"webview"===l&&(p=function(e,t,r,n){var{shouldAttach:i,mapperId:a,updateStyle:o}=e,s=0;return r.forEach((e=>{if(e.__virtual)v.warn(`[WABaseLib.Critical] applyAnimatedStyle can not be used on virtual component, selector(${n})`);else{var t=e.$$.__worklet_animatedStyle_mapperIds__||[];i&&(t.push(a),e.$$.__worklet_animatedStyle_mapperIds__=t),t.indexOf(a)>=0&&Object.keys(o||{}).forEach((t=>{e.$$.style[t]=o[t]})),s++}})),0===s&&v.warn(`[WABaseLib.Critical] applyAnimatedStyle can not find valid element, selector(${n})`),a}(c,0,h,o)),r&&ve(m.APPLY_NODE_ANIMATED_STYLE_END,{reqId:n,styleId:p},t.viewId)}var Xr=s();class Yr{constructor(e,t,r){this._treeManager=e,this._arr=t,this._depth=0,this._startCb=r}_consumeHead(){return this._arr.shift()}nextStepType(){return this._arr[0][0]}nextStep(){for(;this._arr[0][0]===m.FLOW_DEPTH;)this._startCb(this._treeManager);if(this._arr[0][0]===m.FLOW_REPEAT){var e=this._arr[0][2];return--this._arr[0][1]||this._consumeHead(),[e]}return this._consumeHead()}nextStepIf(e){for(;this._arr[0][0]===m.FLOW_DEPTH;)this._startCb(this._treeManager);return this._arr[0][0]===e?this._consumeHead():null}expectStart(){var e=this._consumeHead();if(this._depth++,e[0]!==m.FLOW_DEPTH||e[1]!==this._depth)throw new Error(`Framework inner error (expect START descriptor with depth ${this._depth} but get ${_(e[0])})`);return e[2]}expectEnd(){for(;this._arr[0][0]===m.FLOW_DEPTH&&this._arr[0][1]!==this._depth-1;)this._startCb(this._treeManager);var e=this._consumeHead();if(this._depth--,e[0]!==m.FLOW_DEPTH||e[1]!==this._depth)throw new Error(`Framework inner error (expect END descriptor with depth ${this._depth} but get ${_(e[0])})`)}skipToEnd(){for(;this._arr[0];)if(this._arr[0][0]!==m.FLOW_DEPTH)this._consumeHead();else{if(this._arr[0][1]===this._depth-1)break;this._startCb(this._treeManager)}}getQueueLength(){return this._arr.length}getDepth(){return this._depth}}class Zr{constructor(e,t){var r=this;this._viewId=e,this._treeManager=t,this._depth=0,this._curWinSize=0,this._setDataCallbackInc=1,this._pendingSetDataCallbacks=[],this._setDataCallbackMap={},this._received=[],this._cache=[],this._blocked=[],this._isBlocked=!0,this._fetchingViewInfoCallbacks=[];var n=(e,t)=>{if(this._received.push([t].concat(e)),t===m.FLOW_DEPTH&&(this._depth=e[0],0===this._depth)){var r=this._received;this._received=[],this._isBlocked?this._blocked.push(r):(this.iterator=new Yr(this._treeManager,r,Zr._startCb),Zr._startCb(this._treeManager),this.onFinished())}},i=function(){if("FLOW_"!==a.slice(0,5))return"continue";if("FLOW_SET_DATA"===a)we(m[a],(([e])=>{r._pendingSetDataCallbacks.push(e)}),e);else if("FLOW_VIEW_INFO"===a){var t=function(){var e=Fe()((function*([e,t,n]){var i=null;"selectorQuery"===e?i=yield kr(t,r._treeManager):"intersection"===e?i=zr(t,r._treeManager,(e=>{ve(m.RESPONSE_VIEW_INFO,[e,n],r._viewId)})):"matchMedia"===e&&(i=Qr(t,(e=>{ve(m.RESPONSE_VIEW_INFO,[e,n],r._viewId)}))),i&&ve(m.RESPONSE_VIEW_INFO,[i,n],r._viewId)}));return function(t){return e.apply(this,arguments)}}();we(m[a],(e=>{r._received.length||r._isBlocked?r._fetchingViewInfoCallbacks.push(t.bind(r,e)):t(e)}),e)}else we(m[a],"FLOW_SET_NODE_ANIMATION_INFO"===a?e=>{"scrollTimeline"===e[0].type?"webview"===d()?(({nodeId:e,selector:t,options:r,duration:n,timeline:i},a)=>{for(var o=a.nodeId.getNodeById(e),s=(o=o?o.shadowRoot:window.__DOMTree__?window.__DOMTree__.shadowRoot:null)?o.querySelectorAll(t):[],l=0;l<s.length;l++)dr(o,s[l],r,{duration:n},i)})(e[0],r._treeManager):"skyline"===d()&&console.warn("component rendered with skyline does not support timeline animation, 'animate' call will be ignored."):Cr(e[0])}:"FLOW_CLEAR_NODE_ANIMATION_INFO"===a?e=>{br(e[0])}:"FLOW_SET_NODE_ANIMATED_STYLE"===a?e=>{r._received.length||r._isBlocked?r._fetchingViewInfoCallbacks.push(Jr.bind(null,e,r._treeManager)):Jr(e,r._treeManager)}:"FLOW_CLEAR_NODE_ANIMATED_STYLE"===a?e=>{!function(e,t){var{hasCallback:r,reqId:n,nodeId:i,selector:a,renderer:o,styleIds:s}=e[0],l=t.nodeId.getNodeById(i);((l=l?l.shadowRoot:window.__DOMTree__?window.__DOMTree__.shadowRoot:null)?l.querySelectorAll(a):[]).forEach((e=>{if(e.__virtual)v.warn(`[WABaseLib.Critical] clearAnimatedStyle can not be used on virtual component, selector(${a}`);else{var t=Array.isArray(s)?s:[s];if("skyline"===o)"function"==typeof e.$$.clearAnimatedStyle&&e.$$.clearAnimatedStyle(t);else{var r=e.$$.__worklet_animatedStyle_mapperIds__||[];t.forEach((e=>{var t=r.indexOf(e);t>=0&&r.splice(t,1)}))}}})),r&&ve(m.CLEAR_NODE_ANIMATED_STYLE_END,{reqId:n},t.viewId)}(e,r._treeManager)}:"FLOW_SET_NODE_NEXT_ANIMATION_INFO"===a?e=>{wr(e[0])}:n,e)};for(var a of Object.keys(m))i();we(m.SET_DATA_CALLBACK,(([e])=>{this.triggerSetDataCallbacks(e)}),e)}flushBlocked(){for(;this._blocked.length&&!this._isBlocked;)try{var e=this._blocked.shift();this.iterator=new Yr(this._treeManager,e,Zr._startCb),Zr._startCb(this._treeManager),this.onFinished()}catch(e){console.error(e.message),T.errorReport({key:"webviewScriptError",error:e})}}unblock(){this._isBlocked=!1,this.flushBlocked()}block(){this._isBlocked||(this._isBlocked=!0)}sendInIndividualFlow(e){this.start(Date.now()),this.push(e),this.end()}start(){this.flush(),this._depth++,ve(m.FLOW_DEPTH,[this._depth,Date.now()],this._viewId)}dedupe(){var e=this._cache;if(this._curWinSize){if(2===e.length){var t=e[1][2];if(e[0][0]!==t){var r=e.pop(),n=r.shift();ve(n,r,this._viewId)}else e.shift(),e[0][1]++}}else{var i=0;if(e.length>2&&e[0][0]===e[1][0]&&e[0][0]===e[2][0]&&e[0][0]!==m.FLOW_SET_DATA&&e[0][0]!==m.FLOW_VIEW_INFO&&(i=1),i){var a=e[0][0];e.splice(0,3),this.flush(),this._curWinSize=1,e.unshift([m.FLOW_REPEAT,3,a])}else if(e.length>3){var o=e.pop(),s=o.shift();ve(s,o,this._viewId)}}}push(e){this._cache.unshift(e),1!==e.length?this.flush():this.dedupe()}flush(){for(this._curWinSize=0;this._cache.length;){var e=this._cache.pop(),t=e.shift();ve(t,e,this._viewId)}}end(){this.flush(),this._depth--,ve(m.FLOW_DEPTH,this._depth,this._viewId),0===this._depth&&ge()}checkDelayFetchingViewInfo(){if(this._fetchingViewInfoCallbacks.length){var e=this._fetchingViewInfoCallbacks;this._fetchingViewInfoCallbacks=[],e.forEach((e=>e()))}}registerSetDataCallback(e,t,r){var n=this._setDataCallbackInc++;this._setDataCallbackMap[n]=[e,t,r],this.push([m.FLOW_SET_DATA,n])}triggerSetDataCallbacks(e){for(var t=0;t<e.length;t++){var r=e[t];if(this._setDataCallbackMap[r]){var[n,i,a]=this._setDataCallbackMap[r];delete this._setDataCallbackMap[r],Xr.safeCallback("SetData Callback",n,i,[],a)}else v.error("setDataCallback error")}}onFinished(){if(P.triggerPageReRender(),"skyline"===d()){var e=u();this._viewId===C?this._treeManager.__attached?e.getTabBarContext().startRender((()=>{v.info("[Skyline.Critical] tabbar startRender callback, doing nothing.")})):v.error("[OperationFlow] [Skyline.Critical] tabBar startRender ignored, because root element is not attached (may be due to some unexpected error). pageId="+this._viewId):!0!==this._treeManager.__attached?v.error("[OperationFlow] [Skyline.Critical] startRender ignored, because root element is not attached (may be due to some unexpected error). pageId="+this._viewId):(Do.has(this._viewId)||(Do.add(this._viewId),((e,t)=>{var r,n;o&&(null===(r=o)||void 0===r||r.traceBeginEvent(e,t),null===(n=o)||void 0===n||n.traceEndEvent())})("Framework","firstStartRender")),e.getContext(this._viewId).startRender((()=>{v.info("[Skyline.Critical] page startRender callback, doing nothing. pageId="+this._viewId)})))}this._blocked.length||(ve(m.SET_DATA_CALLBACK,[this._pendingSetDataCallbacks],this._viewId,!0),this._pendingSetDataCallbacks=[],this.checkDelayFetchingViewInfo())}static setStartOperation(e){Zr._startCb=e}}const en=Zr;var tn=s(),rn=Object.prototype.hasOwnProperty,nn=tn.dataUtils.deepCopy,an=(e,t,r,n,i)=>{for(var a=i?nn(e):e,o=0;o<t.length;o++){var s=t[o],l=s[0],c=s[1],u=s[2];if(void 0!==c){for(var d=a,p=l[0],h=1;h<l.length;h++)if(null!=(d=d[p])&&d.__wxspec__&&(d=d.__value__),p=l[h],null!=d&&!rn.call(d,p)){d=null;break}null!=d&&rn.call(d,p)&&(r?null!=u&&"object"==typeof c&&c instanceof Array==u instanceof Array?d[p]={__value__:u,__wxspec__:!0}:null!=d[p]&&d[p].__wxspec__||(d[p]={__value__:d[p],__wxspec__:!0}):d[p]=n?nn(c,!1):c)}}return a};const on={restoring:null,idDataMap:null,compIdArr:null,compExtraDataMap:null,compIdArrIndex:0,onReady:()=>{}};var sn=s(),ln={},cn=(e,t)=>{var r=sn.Component.getComponentOptions(e).domain;if("/"!==r&&"//"!==r&&r){var n=r.split("/",1)[0],i=t.viewId;if(ln[i]||(ln[i]={}),!ln[i][n]){ln[i][n]=!0;var a=[n,w.pluginInfos[n].version,t.rootCompName,w.getLaunchOptionsSync().sessionid||w.getLaunchOptionsSync().sessionId||"",0,""].map(encodeURIComponent).join(",");void 0!==T&&(T.reportKeyValue({key:"PluginDisplay",value:a,force:!0}),T.reportIDKey({key:"pluginDisplayInPage",force:!0}))}}},un=0,dn=0,pn=0,hn=(e,t,r,n)=>{var i=r-t,a=r-e,o=Math.ceil(pn/(dn||1)),s=[un,1,i,dn,o,1,a,n].map(encodeURIComponent).join(",");un=0,dn=0,pn=0,void 0!==T&&T.reportKeyValue({key:"SetDataPerf",value:s,force:!0})},fn=0,gn=0,vn=0,mn=0,yn=0,_n=0,bn=()=>{var e=["libVersion","isFirstPage","isWebview","totalComps","loadedComps","lazyedComps","loadTime","lazyLoadTime"],t=new Set(e),r={},n=!1,i=(i,a)=>{n||(r[i]=a,t.has(i)&&t.delete(i),0===t.size&&((()=>{if(void 0!==T){var t=e.map((e=>encodeURIComponent(r[e]))).join(",");T.reportKeyValue({key:"LazyCodeLoading",value:t,immediately:!0})}})(),n=!0))};return i("libVersion",P.version.version),i("isWebview",!1),i("lazyedComps",0),i("lazyLoadTime",0),{set:i}},wn=e=>{var t={};return r=>(t[r]||(t[r]=e(r)),t[r])},Sn=/-[a-z]/g,Cn=/([A-Z])/g,In=wn((e=>e.indexOf("-")<=0?e:e.replace(Sn,(e=>e[1].toUpperCase())))),An=wn((e=>e.replace(Cn,"-$1").toLowerCase())),kn=0,En=[],Tn=(...e)=>{En.push(e)};h.onLoad((()=>{Tn=setTimeout,En.forEach((e=>{setTimeout(...e)}))}));var Pn=function(e){kn===e&&(kn=0)},xn=function(){return kn=Date.now()+Math.random()},On=function(e){var t,r=xn();try{t=e(r)}catch(e){throw Tn((()=>{Pn(r)}),0),e}return Tn((()=>{Pn(r)}),0),t},Rn=function(){return!!kn},Mn=s(),Dn=(Object.prototype.hasOwnProperty,null),Nn=(e,t)=>Dn?Dn(e,"nv_",t?2:void 0):e,Ln=(e,t=!1)=>Dn?Dn(e,void 0,t?2:void 0):e,Bn=(e,t,r)=>t?r?t+e+r:t||"":r||"",$n=(e,t,r)=>{if(t.__wxsStyle||t.__wxsClass){var n={wxsStyle:t.__wxsStyle,wxsClass:t.__wxsClass,index:r,wxsState:Ln(t.__wxsState)};if(t.ownerShadowRoot){var i=ks.getByNode(t).nodeId.getNodeId(t.ownerShadowRoot.__wxHost);e._custom=e._custom||{},(e=e._custom)[i]=e[i]||{},e=e[i]}e[t.is]=e[t.is]||[],e[t.is].push(n)}},Fn=(e,t,r)=>{if(e){var n=null;if(t.ownerShadowRoot&&e._custom){var i=ks.getByNode(t).nodeId.getNodeId(t.ownerShadowRoot.__wxHost);if(!(e=e._custom)[i])return;e=e[i]}e[t.is]&&e[t.is].length&&e[t.is][0]&&e[t.is][0].index===r&&(n=e[t.is].shift()),n&&((e,t)=>{if(e.__wxsStyle=t.wxsStyle,e.__wxsClass=t.wxsClass,e.__wxsState=Nn(t.wxsState),t.wxsStyle){var r=()=>{var t=window.wx.transformRpx(e.__wxsStyle,!0);e.setNodeStyle(t,S.WXS_STYLE)};r(),Ve(e,S.WXS_STYLE,r)}t.wxsClass&&(e.class=Bn(" ",e.class,t.wxsClass))})(t,n)}};var jn=s(),Wn=jn.Component.getComponentOptions,Un=e=>e instanceof jn.Component?ks.get(e.__wxWebviewId__).nodeId.getNodeById(e.__wxExparserNodeId__):e,Vn=(e,t,r)=>{var n=Un(e);return r&&n instanceof jn.VirtualNode&&(n.id||Object.getOwnPropertyNames(n.dataset).length||(n=Un(r))),{id:t?"":n.id,dataset:t?{}:n.dataset}},qn=(e,t,r,n,i,a,o,s)=>{var l=a?"__wxEventCaptureHandleName":"__wxEventHandleName";t[l]||(t[l]=Object.create(null)),void 0===t[l][r]&&t.addListener(r,(function(e){var n=t[l][r],a=e.mutatedMarked();if((!s||!e.mutatedMarked())&&(s&&e.markMutated(),n)){e._hasListeners=!0;var c=t.ownerShadowRoot;if(c){var u=c.getHostNode(),d=jn.Component.getComponentOptions(u).writeOnly;if(!d||e._allowWriteOnly){if(o&&"function"==typeof n)return void console.warn('Cannot use wxs function to handle custom event "'+e.type+'".');var p=jn.Element.getMethodCaller(u);"function"!=typeof p[n]?console.warn('Component "'+u.is+'" does not have a method "'+n+'" to handle event "'+e.type+'".'):p[n]({type:e.type,timeStamp:e.timeStamp,target:Vn(e.target,d,this),currentTarget:Vn(this,d,null),mark:e.mark,detail:e.detail,touches:e.touches,changedTouches:e.changedTouches,mut:a,_requireActive:e._requireActive})}}return!i&&void 0}}),{capture:a}),o?(t[l][r]=n,"skyline"===d()&&t.__eventHandlerChangeListener__&&t.__eventHandlerChangeListener__(r,t[l][r],a)):(t[l][r]=null==n?"":String(n),t.__eventHandlerChangeListener__&&t.__eventHandlerChangeListener__(r,t[l][r],a),"webview"===d()||!t.__domElement||"function"!=typeof t.__domElement.setListenerOption||"skyline"===d()&&"touchstart"!==r||t.__domElement.setListenerOption(r,!i,Boolean(a)))},zn=(e,t,r,n)=>{var i=ks.getByNode(e);e.__component__&&!on.restoring&&e.__isXrFrame__&&(i.operationFlow.start(),i.operationFlow.push([m.FLOW_SET_ROOT_PROPERTIES,jn.dataUtils.deepCopy(t),jn.dataUtils.deepCopy(r),jn.dataUtils.deepCopy(n)])),e.dataset=e.dataset||{};var a=0,o=!1,s=[],l=e instanceof jn.Component,c=l&&"//"===Wn(e).domain,u=jn.Component.getDataProxy(e),p=function(){var i,p=t[h],f=null;if("slot"===e.is&&e instanceof jn.VirtualNode&&"name"===h)return jn.Element.setSlotName(e,p),"continue";if("id"===h)return e.id=null==p?"":p,"continue";if("slot"===h)return e.slot=null==p?"":p,"continue";if("class"===h){if(l)e.class=e.__wxsClass?Bn(" ",null==p?"":p,e.__wxsClass):null==p?"":p,l&&e.hasExternalClass("class")&&e.setExternalClass("class",p);else e.class=p;return"continue"}if("style"===h)if(l&&e.$$){var g=P.transformRpx(p,!0);e.setNodeStyle(g,S.ATTR),g!==p?Ve(e,S.ATTR,(()=>{var t=P.transformRpx(p,!0);e.setNodeStyle(t,S.ATTR),e.__transformedPropValue=t})):qe(e,S.ATTR),e.__banned&&Ke(e)}else e.$$&&e.setNodeStyle(p,S.ATTR);if("skyline"===d()&&h.startsWith("worklet:")&&(h=`worklet:${In(h.slice(8))}`),l&&jn.Component.hasPublicProperty(e,h)){!c&&on.restoring||(u.scheduleReplace([h],p,null!=r?r[h]:null),c?u.doUpdates(void 0,!0):(o=!0,e.isInnerDataExcluded(h)||a++));var m=n&&n["model:"+An(h)];if(m){var y=m.match(/^\{\{(.*?)\}\}$/);if(y){var _=y[1].match(/^\s*([_a-zA-Z$][_a-zA-Z0-9$]+)\s*$/);if(_){var b=_[1];e.__modelValueName=Object.assign(e.__modelValueName||{},{[h]:b}),s.push(h)}else console.warn("For developer:Two-way binding does not support complex data paths currently. This two-way binding is ignored.")}else console.warn(`For developer:"${m}" is not an assignable expression. This two-way binding is ignored.`)}return"continue"}if("style"===h)return"continue";if(h.startsWith("data-")){var w=In(h.slice(5).toLowerCase());if(e.dataset[w]=p,e.setAttribute(h,p),e.__componentOptions&&"//"===e.__componentOptions.domain){var C=jn.Element.getMethodCaller(e),I=C.onPropertyUpdate;"function"==typeof I&&I.call(C,"dataset",w,p)}return"continue"}if("$gdc"===h)return"function"==typeof(i=p)&&(Dn=i),"continue";if((f=h.match(/^\$wxs:(capture-)?(mut-)?(bind|catch):?(.+)$/))&&("function"==typeof p||!p))return qn(0,e,f[4],p,"catch"===f[3],f[1],!0,f[2]),ie(),"continue";if(f=h.match(/^(capture-)?(mut-)?(bind|catch):?(.+)$/))return qn(0,e,f[4],p,"catch"===f[3],f[1],!1,f[2]),ie(),"continue";if("on"===h.slice(0,2))return qn(0,e,h.slice(2),p,!1,!1,!1),"continue";if("animation"===h){if(l&&e.$$&&null!==p&&"object"==typeof p&&p.actions&&p.actions.length>0){var A=0,k=p.actions,E=p.actions.length;function O(){if(A<E){var{transition:t,transitionProperty:r,transform:n,transformOrigin:i,style:a}=P.animationToStyle(k[A]),o=e.__styleObj?Object.assign({},e.__styleObj,{transition:t,transform:n,transitionProperty:r,transformOrigin:i}):{transition:t,transform:n,transitionProperty:r,transformOrigin:i};for(var s of(o["-webkit-transition"]=o.transition,o["-webkit-transform"]=o.transform,o["-webkit-transition-property"]=o.transitionProperty,o["-webkit-transform-origin"]=o.transformOrigin,Object.keys(a||{})))o[s]=a[s];e.__styleObj=o,""!==o.transform&&(e.__transformNoneEnabled=!0);var l=Object.keys(o).filter((t=>!(t.toLowerCase().includes("transition")&&""===o[t]||""===t.trim()||void 0===o[t]||!t.toLowerCase().includes("transform")&&""===o[t]||!isNaN(parseInt(t,10)))&&(t.toLowerCase().includes("transform")&&""===o[t]&&e.__transformNoneEnabled&&(o[t]="none"),!0))).map((e=>`${e.replace(/([A-Z]{1})/g,(e=>`-${e.toLowerCase()}`))}:${o[e]}`)).join(";"),c=()=>{e.setNodeStyle(P.transformRpx(l,!0),S.ANIMATION)};c(),Ve(e,S.ANIMATION,c),e.__banned&&Ke(e)}}e.addListener("transitionend",(()=>{A+=1,O()})),O()}return"continue"}if(f=h.match(/^\$wxs:change:(.+)$/))return e.wxsObserver=e.wxsObserver||{},e.wxsObserver[f[1]]=e.wxsObserver[f[1]]||{},e.wxsObserver[f[1]].observer=p,"continue";if(f=h.match(/^mark:(.+)$/))return e.setMark(f[1],p),"continue";var T=An(h);if(l&&e.hasExternalClass(T))return e.setExternalClass(T,p),"continue";if("webview"!==d()&&e instanceof jn.NativeNode){var x="skyline"===d()?In(h):An(h);if(void 0!==e.__extraAttributeFilters&&"function"==typeof e.__extraAttributeFilters[x])try{e.__extraAttributeFilters[x](e,x,p,(t=>{e.setAttribute(x,t)}))}catch(R){v.error(`[Skyline] attribute filter error, on node <${e.is}>, attr [${x}], msg: ${R.message}`),e.setAttribute(x,p)}else e.setAttribute(x,p)}};for(var h of Object.keys(t||{}))p();o&&u.doUpdates(a,!1);for(var f=function(){var t=s[g];e.__wxPropertyListener__&&e.__wxPropertyListener__[t]||(e.setPropertyChangeListener(t,(r=>{var n=e.ownerShadowRoot.getHostNode();n.setData({[e.__modelValueName[t]]:r})})),e.__wxPropertyListener__=e.__wxPropertyListener__||{},e.__wxPropertyListener__[t]=!0)},g=0;g<s.length;g++)f();e.__component__&&!on.restoring&&(i.operationFlow.push([m.FLOW_APPLY_PROPERTY]),e.__isXrFrame__&&i.operationFlow.end())},Gn=Object.create(null),Hn=!1,Kn={},Qn=function(e,t){Hn&&(Gn[e]=t)},Jn=function(){return Hn},Xn={},Yn={},Zn=e=>{Object.keys(Xn).length>0&&ve(m.XR_FRAME_COMP_OPTIONS,[Xn,Yn],e)};var ei=s(),ti=ei.dataUtils.deepCopy,ri={tag:"shadow",children:[]},ni=(e,r)=>{var n,i=Date.now(),a=e?e(r,null,t.g):ri;return n=Date.now()-i,dn+=1,pn+=n,a.tag="shadow",a},ii=(e,t)=>{if(Jn()){t.operationFlow.start(Date.now()),t.operationFlow.push([m.FLOW_HOT_UPDATE_RESET,t.nodeId.getNodeId(e)]);var r="";e===t.root?r="body":e===t.tabRoot&&(r="tab-bar");var n=e.__vtObj,i=e.ownerShadowRoot?e.ownerShadowRoot.createComponent(n.tag,void 0,n.generics,t):ei.createElement(r,ei.Component._list[e.is],t);t.operationFlow.push([m.FLOW_HOT_UPDATE_RESET]);var a=t.nodeId.getNodeId(e);if(t.nodeId.removeNode(e),t.nodeId.allocNodeId(i,a),e===t.root){ei.Element.pretendDetached(e),t.root=i,ei.Element.getMethodCaller(i).__wxExparserNodeId__=a,ei.Element.pretendAttached(i);var o={},s=!1;Object.keys(t.initialRootData).forEach((e=>{ei.Component.hasProperty(i,e)&&(o[e]=t.initialRootData[e],s=!0)})),s&&t.root.setData(o)}else if(e===t.tabRoot){t.tabRoot=i,ei.Element.getMethodCaller(i).__wxExparserNodeId__=a}else{i.__vtObj=n;var l=n.attr;for(zn(i,l,n.raw,n.rawAttr);e.childNodes.length;)i.appendChild(e.childNodes[0]);e.parentNode.replaceChild(i,e)}t.operationFlow.end()}},ai=(e,t,r,n)=>{var i,a=Xn[i=e]||Xn[Yn[i]]||{},o=null;return a.isXrComp&&"xr-frame"!==be(n.viewId)&&"xr-frame"!==d()?(v.info(`[VirtualTreeCreate] <${t.tag}>[${e}] will be created as xr-frame`),(o=w.xrFrame.createXrFrame(e,r,t.generics,n.viewId)).__isXrFrame__=!0):o=r.createComponent(t.tag,void 0,t.generics,n),cn(o,n),o},oi=(e,t,r,n,i)=>{var a=null;if("shadow"===e.tag&&t)r=a=ei.ShadowRoot.create(t);else if("virtual"===e.tag||"shadow"===e.tag){var o="virtual";1===e.wxXCkey||3===e.wxXCkey?o="wx:if":2!==e.wxXCkey&&4!==e.wxXCkey||(o="wx:for"),a=r.createVirtualNode(o),ei.Element.setInheritSlots(a),a.__treeManager__=n}else if("wx-slot"===e.tag)a=r.createVirtualNode("slot"),ei.Element.setSlotName(a,"");else{if(r.tagNameUsed(e.tag)){var s=r.getHostNode(),l=r.getCompDefByTagName(e.tag);"string"==typeof l.is&&(l=l.is);var c=s.getPlaceholder(e.tag);n.compManager.shouldUsePlaceholder(l)&&!!c?((a=r.createComponent(e.tag,c,e.generics,n)).__placeholder__=!0,n.compManager.arrangePlaceholderReplace(l,(()=>{var e=a.__vtObj,t=ai(l,e,r,n);si(e,t,n,i);var o=[...a.childNodes];a.parentNode&&a.parentNode.insertBefore(t,a),o.forEach((e=>{t.appendChild(e)})),a.parentNode&&a.parentNode.removeChild(a)}))):a=ai(l,e,r,n)}else(a=r.createVirtualNode(e.tag)).__treeManager__=n}si(e,a,n,i);var u=e.children;if(u)for(var d=0;d<u.length;d++){var p=u[d];if(null!=p)if("object"==typeof p){var h=oi(p,null,r,n,i);a.appendChild(h)}else{var f=r.createTextNode(p);a.appendChild(f)}}return a},si=(e,t,r,n)=>{(Jn()||!0===t.__placeholder__)&&(t.__vtObj=e),3!==e.wxXCkey&&4!==e.wxXCkey||(t.__wxDynamicSync__=4===e.wxXCkey?"wx:for":"wx:if");var i=t.__component__,a=t.__placeholder__,o=t.__isXrFrame__;if(i||a||o){var s=r.nodeId.allocNodeId(t,r.nodeId.getNodeId(t));ei.Element.getMethodCaller(t).__wxExparserNodeId__=s,r.operationFlow.push([m.FLOW_CREATE_NODE,s])}var l=n?ti(e.attr):e.attr;zn(t,l,e.raw,e.rawAttr),t.__isXrFrame__},li=e=>{e.operationFlow.push([m.FLOW_MINIPULATE_CHILD])},ci=Object.prototype.hasOwnProperty,ui=e=>"number"==typeof e&&isNaN(e),di=(e,t)=>{for(var r=(e=>{for(var t={},r=0;r<e.length;++r){var n=e[r],i=n&&n.wxKey;i?ci.call(t,i)?n.wxKey=void 0:t[i]=r:ui(i)&&(n.wxKey=void 0)}return t})(e),[n,i]=(e=>{for(var t={},r=[],n=0;n<e.length;++n){var i=e[n],a=i&&i.wxKey;a?ci.call(t,a)?(console.warn(`For developer:Do not set same key "${a}" in wx:key.`),i.wxKey=void 0,r.push(n)):t[a]=n:(ui(a)&&(i.wxKey=void 0),r.push(n))}return[t,r]})(t),a=[],o=[],s=[],l=0,c=0,u=0;u<e.length;++u){var d=e[u].wxKey;if(d)if(ci.call(n,d)){var p=n[d];a.push(t[p])}else o.push(u-c),++c,a.push(null);else if(l<i.length){var h=i[l];a.push(t[h]),++l}else o.push(u-c),++c,a.push(null)}for(var f=a,g=0,v=[],m=0;m<t.length;){for(var y=t[m],_=y&&y.wxKey,b=f[g],w=b&&b.wxKey;null===b;)w=(b=f[++g])&&b.wxKey;g>=f.length?(s.push({oldIndex:r[_],index:m,pos:-1}),++g,++m):w===_?(v.push(g),++g,++m):_?(w?n[w]===m+1?s.push({oldIndex:r[_],index:m,pos:g}):(b=f[++g])&&b.wxKey===_?(v.push(g),++g):(--g,s.push({oldIndex:r[_],index:m,pos:g})):s.push({oldIndex:r[_],index:m,pos:g}),++m):++g}for(var S=0,C=0;C<s.length;C++){var I=s[C].pos;if(-1===I)break;for(;S<v.length&&I>v[S];)S++;S>=v.length?s[C].pos=-1:s[C].pos=v[S]}return{children:a,removes:o,inserts:s}},pi=(e,t,r)=>{if(e!==t&&(!e||r))if(null==t)r.parentNode.removeChild(r);else if("object"==typeof t)if("object"!=typeof e||null===e||e.tag!==t.tag||String(e.wxKey)!==String(t.wxKey)||"virtual"===e.tag&&e.wxVkey!==t.wxVkey){var n=ks.getByNode(r),i=r.parentNode,a=oi(t,null,i.ownerShadowRoot,n,!1);i&&("wx:for"===i.__wxDynamicSync__||"wx:if"===r.__wxDynamicSync__?(n.nodeId.addNode(a),i.replaceChild(a,r),li(n),n.nodeId.removeNode(r)):i.replaceChild(a,r),r.__banned&&Qe(a))}else{if(t.n&&t.n.length){for(var o=t.n,s=t.attr,l={},c=0;c<o.length;c++){var u=o[c];l[u]=s[u]}zn(r,l,t.raw,t.rawAttr)}void 0!==t.wxScopeData&&(r.__wxScopeData__=t.wxScopeData),void 0!==r.__vtObj&&(r.__vtObj=t),hi(e,t,r)}else if("string"==typeof e)t!==e&&(r.textContent=t);else{var d=r.ownerShadowRoot.createTextNode(t);r.parentNode.replaceChild(d,r)}},hi=(e,t,r)=>{var n=!!K("customComponents"),i=e.children,a=t.children,o="virtual"===e.tag&&(2===e.wxXCkey||4===e.wxXCkey||void 0===e.wxXCkey)||!n&&i.length!==a.length,s=null,l=null;if(o){var c=di(i,t.children);a=c.children,s=c.removes,l=c.inserts}for(var u=r.childNodes,d=0;d<i.length;d++){var p=i[d],h=a[d];!h&&o||pi(p,h,u[d])}o&&((e,t,r,n)=>{for(var i=ks.getByNode(r),a=r.childNodes,o=[],s=0;s<t.length;s++){var l=t[s];o.push({node:void 0!==l.oldIndex?a[l.oldIndex]:null,before:l.pos>=0?a[l.pos]:void 0,index:l.index})}for(var c=0;c<e.length;c++){var u=a[e[c]];r.removeChild(u),"wx:for"===a.__wxDynamicSync__&&(li(i),i.nodeId.removeNode(u))}for(var d=0;d<o.length;d++){var{before:p,index:h}=o[d],f=o[d].node;null===f&&(f=oi(n[h],null,r.ownerShadowRoot,i,!1)),"wx:for"===r.__wxDynamicSync__?(i.nodeId.addNode(f),r.insertBefore(f,p),li(i)):r.insertBefore(f,p)}r.__banned&&Qe(r)})(s,l,r,t.children)},fi=s(),gi=null,vi={},mi=1,yi=[],_i=(e,t)=>{if(vi[e]||null!==gi){var r=vi[e]||gi,n=yi[yi.length-1],i=yi[yi.length-2],{isMergedUpdate:a,dataPaths:o,pendingStartTimestamp:s,updateStartTimestamp:l,updateEndTimestamp:c,pageId:u}=t(r);ve(m.UPDATE_PERFORMANCE_STAT,[e,{isMergedUpdate:a,dataPaths:o,updateProcessId:n,parentUpdateProcessId:i,pendingStartTimestamp:s,updateStartTimestamp:l,updateEndTimestamp:c}],u)}},bi=null,wi=null,Si=(e,t)=>{bi=t,wi=e};var Ci=s(),Ii=Ci.dataUtils.deepCopy,Ai=e=>{if("object"!=typeof e||!e)return e;var t=e.slice();return t.shift()(...t)},ki=function(e,t,r){for(var n=e.childNodes,i=0;i<n.length;i++){var a=n[i];a instanceof Ci.TextNode||(a.__id&&(t[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),ki(a,t,r))}};class Ei{createInstance(e,t){var r=new Ti,n=t;if(r._template=this,r._generateFunc=this._generateFunc,r.data=Ii(this._data),r.idMap=Object.create(null),r.slots=Object.create(null),on.restoring){if(on.compIdArrIndex>=on.compIdArr.length)throw new Error("Component count unmatched while page recovering");n.nodeId.allocNodeId(e,on.compIdArr[on.compIdArrIndex++]);var i=on.idDataMap[n.nodeId.getNodeId(e)];r._virtualTree=ni(this._generateFunc,i)}else r._virtualTree=this._virtualTree;return r.shadowRoot=oi(r._virtualTree,e,null,t,!0),ki(r.shadowRoot,r.idMap,r.slots),r.listeners=[],this._isSimpleComponent||(e.__component__=!0),e.__treeManager__=n,r.shadowRoot.__treeManager__=n,n.operationFlow.registerSetDataCallback((()=>{e.triggerLifeTime("ready")})),r._delayedUpdateValues=null,r}updateGenerateFunc(e){this._generateFunc=Ai(e),this._virtualTree=ni(this._generateFunc,this._initValues),ks.list().forEach((t=>{[t.root,t.tabRoot].forEach((r=>{r&&X(r,1,(r=>{r instanceof Ci.Component&&r.__templateInstance._template===this&&(r.__templateInstance._generateFunc=e,r.__templateInstance._resetShadowChildren(r,r.data,t))}))}))}))}}Ei.create=function(e,t,r,n){var i=new Ei;i._initValues=r,i._data=t;var a=e.template;return i._generateFunc=Ai(a.func),i._virtualTree=ni(i._generateFunc,i._initValues),i._isSimpleComponent="simple://"===n.domain.slice(0,9),Qn(a.path,(e=>{a.func=e,i.updateGenerateFunc(e)})),i};class Ti{beforeMergeValues(e,t,r){if("number"!=typeof r)e.forEach(((e,r)=>{void 0!==e[1]?t[r]=!1:(t[r]=!0,console.warn('Setting data field "'+e[0].join(".")+'" to undefined is invalid.'))}));else{for(var n=0;n<r;n++)t[n]=!1;for(var i=r;i<e.length;i++){var a=e[i];void 0!==a[1]?t[i]=!1:(t[i]=!0,console.warn('Setting data field "'+a[0].join(".")+'" to undefined is invalid.'))}}}beforeUpdateValues(e,t,r){}updateValues(e,t,r,n,i,a){if(!on.restoring){var o=null,s="number"!=typeof a;if(o=e.__treeManager__,s){o.operationFlow.start(Date.now());var l=[];i.forEach((e=>{void 0!==e[1]&&l.push(e)})),o.operationFlow.push([m.FLOW_UPDATE,o.nodeId.getNodeId(e),Ii(l)])}else{for(var c=[],u=a;u<i.length;u++){var d=i[u];void 0!==d[1]&&c.push(d)}o.operationFlow.push([m.FLOW_DATA_OBSERVER,Ii(c)])}if(this._delayedUpdateValues)this._delayedUpdateValues.push([Ii(t),r,n,i,a]);else{this._delayedUpdateValues=[];try{this._updateValues(e,t,r,n,i,a);var p=this._delayedUpdateValues;this._delayedUpdateValues=null;for(var h=0;h<p.length;h++){var f=p[h];this._updateValues(e,f[0],f[1],f[2],f[3],f[4])}}catch(e){throw this._delayedUpdateValues=null,e}}s&&o.operationFlow.end()}}_updateValues(e,t,r,n,i,a){var o="number"!=typeof a,s=!K("propValueDeepCopy"),l=an(t,i,!0,!1,s),c=ni(this._generateFunc,l);an(t,i,!1,o,!1);var u=this._virtualTree;this._virtualTree=c,pi(u,c,this.shadowRoot)}_resetShadowChildren(e,t,r){var n=()=>{r.operationFlow.push([m.FLOW_HOT_UPDATE_CHILD])};r.operationFlow.start(Date.now()),r.operationFlow.push([m.FLOW_HOT_UPDATE,r.nodeId.getNodeId(e)]);for(var i=this.shadowRoot,a=(this._virtualTree.children||[]).length,o=0;o<a;o++)i.removeChild(i.childNodes[0]);n();var s=ni(this._generateFunc,t);n(),this._virtualTree=s;for(var l=oi(s,null,e.shadowRoot,r,!0).childNodes,c=l.length,u=0;u<c;u++)i.insertBefore(l[0],i.childNodes[u]);r.operationFlow.end()}}var Pi=s(),xi=null,Oi=()=>{xi={};var e=null;p&&p.plugins?e=p.plugins:"undefined"!=typeof window&&window&&window.__wxConfigAppService__&&window.__wxConfigAppService__.plugins&&(e=window.__wxConfigAppService__.plugins);var t=!1;if(e)for(var r of Object.keys(e)){var n=e[r].provider,i=e[r].subpackage;if(void 0!==i){t=!0;var a=i||"";"__APP__"===a&&(a=""),"/"===a[0]&&(a=a.slice(1)),a&&"/"!==a.slice(-1)&&(a+="/"),xi[n]=a}}if(!t){var o;if(p&&p.subPackages)o=p.subPackages;else{if("undefined"==typeof window||!window||!window.__subPackages)return;o=window.__subPackages}o.length&&o.forEach((e=>{if(e){var t=e.root||"";if(t&&"/"!==t.slice(-1)&&(t+="/"),e.plugins)for(var r of Object.keys(e.plugins)){var n=e.plugins[r]&&e.plugins[r].provider;n&&(xi[n]=t)}}}))}},Ri=e=>{var t=e.match(/(?:^|\/)__(wx|plugin)__\/(.*)$/);return t?"wx"===t[1]?"wx://"+t[2]:"plugin-private://"+t[2]:e},Mi=e=>(xi||Oi(),(Pi.Component._list[e]&&Pi.Component._list[e].is||e).replace(/^plugin-private:\/\/([0-9a-zA-Z]+)\//,((e,t)=>(xi[t]||"")+"__plugin__/"+t+"/")).replace(/^wx:\/\//,"__wx__/")),Di=()=>(xi||Oi(),xi),Ni=e=>xi[e]||"",Li=e=>(xi||Oi(),(xi[e]||"")+"__plugin__/"+e+"/"),Bi=e=>{xi||Oi();var t,r,n,i=e.match(/^plugin:\/\/(.+?)\//);if(i)return Bi(xi[i[1]]||"");if(i=e.match(/^plugin-private:\/\/([0-9a-zA-Z]+)\//))return Bi(xi[i[1]]||"");t=null!==(r=null===(n=p)||void 0===n?void 0:n.subPackages)&&void 0!==r?r:[];for(var a=0;a<t.length;++a){var o=t[a].root||"";if(o&&"/"!==o.slice(-1)&&(o+="/"),e.slice(0,o.length)===o)return t[a]}return null},$i=e=>{var t=Bi(e);if(!t)return"__APP__";var r=t.root||"";return"/"===r.slice(-1)?r:r+"/"},Fi=e=>{var t=Bi(e);return!!t&&t.independent},ji={main:"app-service.js",sub:"app-service.js",lazyCommon:"common.app.js",lazyApp:"appservice.app.js",plugin:"appservice.js"},Wi=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],Ui=e=>("__APP__"===e||("/"!==e[0]&&(e="/"+e),"/"!==e[e.length-1]&&(e+="/")),e),Vi={},qi=(e,t)=>{e=Ui(e),"string"!=typeof t.subpackage&&(t.subpackage=e),void 0===Vi[e]?Vi[e]=[t]:Vi[e].push(t)},zi=Z(["ready"]),Gi=(e,t)=>{zi.on("ready",(()=>{t(Vi[e]||[])}))};p.onReady((()=>{var e=new Set,t={};Object.keys(p.plugins||{}).forEach((r=>{var n=p.plugins[r];"string"==typeof n.subpackage?qi(n.subpackage,n):(e.add(n.provider),t[n.provider]=n)})),(p.subpackages||[]).forEach((r=>{Object.keys(r.plugins||{}).forEach((n=>{var i=r.plugins[n],a=i.provider;e.has(a)&&(e.delete(a),delete t[a],qi(r.root,i))}))})),Array.from(e).forEach((e=>{qi("__APP__",t[e])})),zi.notify("ready")}));var Hi=(e,t)=>{t(`isLazyLoad: ${Qa()}`),t(`moduleName: ${e}`);var r="devtools"===p.platform?[]:(Vi[Ui(e)]||[]).map((e=>{var t=e.provider,r=`__plugin__/${t}`;return{plugin_id:t,prefix_path:Wi.includes(t)?null:r}}));t(`separatedPlugins: ${JSON.stringify(r)}`);var n="__APP__"===e,i=n?"":e;if(Qa()){var a=[];return r.forEach((e=>{var t=(i+e.prefix_path+"/").replace(/\/\/$/,"/");e.prefix_path||(t+=`__extended__/${e.plugin_id}/`),a.push(t+ji.plugin)})),a.push(i+ji.lazyCommon,i+ji.lazyApp),t(`all files to inject: ${JSON.stringify(a)}`),a}var o=r.map((e=>{var t=(i+e.prefix_path+"/").replace(/\/\/$/,"/");return e.prefix_path||(t+=`__extended__/${e.plugin_id}/`),t+ji.plugin}));return n?o.push(i+ji.main):o.push(i+ji.sub),t(`all files to inject: ${JSON.stringify(o)}`),o},Ki=s(),Qi=(e,t,r)=>{if(e instanceof Ki.Component){e!==window.__DOMTree__&&(t.compCount++,e.hasBehavior("wx-base")?(r&&t.rootInternalCompCount++,e.hasBehavior("wx-native")&&t.nativeCompCount++):r&&t.rootCustomCompCount++);var n=e===window.__DOMTree__&&r;e.shadowRoot instanceof Ki.Element&&Qi(e.shadowRoot,t,n)}for(var i=e.childNodes,a=0,o=i.length;a<o;a++){var s=(i[a]instanceof Ki.VirtualNode||e===window.__DOMTree__||e===window.__DOMTree__.shadowRoot)&&r;i[a]instanceof Ki.Element&&Qi(i[a],t,s)}},Ji={id:null,prev:null,data:[]};we(m.SAVE_STATE,(()=>{"function"==typeof P.webViewReadyToTerminate&&P.webViewReadyToTerminate({})})),we(m.RESTORE_STATE,(([e,t,r,n],i,a)=>{if(e&&e.isSplitData){var{id:o,index:s,total:l,data:c}=e.splitInfo;if(1!==s&&(s!==Ji.prev+1||o!==Ji.id))return Ji.id=null,Ji.prev=null,void(Ji.data=[]);if(s!==l)return Ji.id=o,Ji.prev=s,void Ji.data.push(c);Ji.data.push(c);var u=Ji.data.join("");try{u=JSON.parse(u)}catch(e){console.error("Expected parse completed data with split data but got error"),T.errorReport({key:"webviewScriptError",error:new Error("Expected parse completed data with split data but got error")}),u=null}if(Ji.id=null,Ji.prev=null,Ji.data=[],!u)return;e=u[0],t=u[1],r=u[2],n=u[3]}on.restoring=e||{},on.idDataMap=t,on.compIdArr=r,on.compIdArrIndex=0;var d=ks.get(a).compManager;d.restore(n),on.onReady=d.onRestoreInjectDone.bind(d)}));var Xi=e=>{(e=>{var t=document.body.scrollTop||document.documentElement.scrollTop;e.__page__={scrollTop:t}})(e),e.compExtraDataMap={};var t=0;window.__TAB_BAR__&&(X(window.__TAB_BAR__,1,(r=>{r.triggerLifeTime("saved",[e]),$n(e.compExtraDataMap,r,t++)})),e.compExtraDataMap),X(window.__DOMTree__,1,(r=>{r.triggerLifeTime("saved",[e]),$n(e.compExtraDataMap,r,t++)})),e.compExtraDataMap},Yi=e=>{(e=>{var t=e.__page__;if(t){var r=parseInt(t.scrollTop,10);requestAnimationFrame((()=>{document.body.scrollTop=document.documentElement.scrollTop=r}))}})(e);var t=0;window.__TAB_BAR__&&(X(window.__TAB_BAR__,1,(r=>{r.triggerLifeTime("restored",[e]),Fn(e.compExtraDataMap,r,t++)})),e.compExtraDataMap),X(window.__DOMTree__,1,(r=>{r.triggerLifeTime("restored",[e]),Fn(e.compExtraDataMap,r,t++)})),e.compExtraDataMap},Zi=()=>{__webViewSDK__.publish("recycleStatistics",(()=>{var e={compCount:0,customCompCount:0,nativeCompCount:0,rootCustomCompCount:0,rootInternalCompCount:0};try{Qi(window.__DOMTree__,e,!0)}catch(e){}var{compCount:t,customCompCount:r,nativeCompCount:n,rootCustomCompCount:i,rootInternalCompCount:a}=e,o=i+a;return{compCount:t,customCompCount:r,nativeCompCount:n,rootCompCount:o,rootCustomCompCount:i,rootCustomCompRatio:o?Math.floor(100*i/o):0,rootInternalCompCount:a}})());var e={};Xi(e),ve(m.REQUEST_SAVE,e,0,!0)},ea=s(),ta=262144,ra=Date.now(),na=(e,t)=>{var r=ks.get(e);r&&(r.statesData=t,r.tabRoot&&X(r.tabRoot,1,(e=>{e.triggerLifeTime("saved")})),X(r.root,1,(e=>{e.triggerLifeTime("saved")})),ve(m.SAVE_STATE,[],e))},ia=e=>{var t=ks.get(e);if(t){var r=t.nodeId.getAll(),n={},i=[],a=e=>{var a=t.nodeId.getNodeId(e);void 0!==a&&(i.push(a),n[a]=ea.Component.getInnerData(r[a]))};t.tabRoot&&!t.tabDestroyed&&X(t.tabRoot,1,a),X(t.root,1,a);var o=t.compManager.getRestoredData(),s=[t.statesData||{},n,i,o],l=JSON.stringify(s),c=l.length;if(c>ta){for(var u=[],d=0;c>d;)u.push(l.substr(d,ta)),d+=ta;for(var p=++ra,h=0,f=u.length;h<f;h++)ve(m.RESTORE_STATE,[{isSplitData:!0,splitInfo:{id:p,index:h+1,total:f,data:u[h]}}],e)}else ve(m.RESTORE_STATE,s,e);if(t.statesData=void 0,!t.tabDestroyed&&t.tabRoot){ve(m.COMPONENT_DEF_TAB,t.tabUsedDef,e);var g=t.tabRoot;t.operationFlow.start(),t.operationFlow.push([m.FLOW_CREATE_TAB,g.is,t.nodeId.getNodeId(g)]),t.operationFlow.push([m.FLOW_CREATE_TAB]),t.operationFlow.end()}ve(m.COMPONENT_DEF,t.usedDef,e);var v=t.root;t.operationFlow.start(),t.operationFlow.push([m.FLOW_INITIAL_CREATION,v.is,t.nodeId.getNodeId(v),{}]),t.operationFlow.push([m.FLOW_INITIAL_CREATION]),t.operationFlow.end(),t.tabRoot&&X(t.tabRoot,1,(e=>{e.triggerLifeTime("restored")})),X(t.root,1,(e=>{e.triggerLifeTime("restored")}))}},aa=s(),oa={},sa={},la=function(e,t){return e+"/"+t},ca=function(e,t,r,n=!0){var i=t.match(/^plugin-private:\/\/(.*?)\//);if(!i)return!1;var a=i[1];if(n&&la(a,"0")!==e)return!1;var o=r.match(/^plugin:\/\/(.*?)\//);if(!o)return!1;var s=o[1];return(!n||la(s,"0")===e)&&(aa.Component._list[r]?(console.error('"'+r+'" has been used as another component or page. Please do not register multiple components or pages with the same alias.'),!1):(((e,t)=>{Yn[e]=t})(r,t),aa.Component._list[r]=aa.Component._list[t],oa[r]=t,sa[t]=r,!0))},ua=function(e,t){for(var r in t)ca(e,t[r],r)};var da=s(),pa="",ha=0;function fa(e){e&&".html"!==e.slice(5)&&(e+=".html");var t=pa;return __wxConfigWindow__&&__wxConfigWindow__.initialRenderingCache&&(t=String(__wxConfigWindow__.initialRenderingCache)),t}function ga(e,t){var r=Date.now(),n={},i={},a=document.head.querySelectorAll("style")||[],o=[];da.ElementIterator.create(e,"composed-descendants-root-first",da.Component).forEach((e=>{e.hasBehavior("wx-base")||(n["./"+e.is+".wxss"]=!0)})),Object.keys(da.Component._list).forEach((e=>{i["./"+e+".wxss"]=!0}));for(var s=0;s<a.length;s++){var l=a[s],c=l.getAttribute("wxss:path");null!=c&&(!i[c]||n[c]?o.push("<style>"+l.innerHTML+"</style>"):l.innerHTML.length+15)}var u=o.join(""),d=u+e.$$.innerHTML;P.saveInitialRenderingCache({content:d,appserviceData:t});Date.now();u.length}function va(){P.saveInitialRenderingCache({content:""})}function ma(e,t){return"dynamic"!==fa(window.__route__)?(console.error('An initial rendering cache state is ignored, because initialRenderingCache mode is not "dynamic".'),!1):(e?ga(e,t):va(),!0)}var ya=s(),_a=(e,t,r,n)=>{var i=`${Math.random()}-${+new Date}`,a=ks.get(r);if(a)return a.operationFlow.push([m.FLOW_VIEW_INFO,e,t,i]),"function"==typeof n&&(a.viewInfoCbMap[i]=n),i},ba=(e,t)=>{var r=ks.get(e);r&&delete r.viewInfoCbMap[t]},wa=s(),Sa=s(),Ca=function(e,t,r,n,i,a){var o=`${Math.random()}-${+new Date}`,s="function"==typeof i;s&&(t.animatedStyleCbMap[o]=i),t.operationFlow.push([m.FLOW_SET_NODE_ANIMATED_STYLE,{hasCallback:s,reqId:o,nodeId:t.nodeId.getNodeId(e),pageId:r,selector:n,data:a}])},Ia=s(),Aa={},ka=(e,t)=>{void 0===Aa[e]&&(Aa[e]=Z(["ready"])),Aa[e].on("ready",t)},Ea=(e,t)=>{if(P.traceBeginEvent("Framework","dispatchViewRoute"),"webview"!==d()&&!p.isLazyLoad){var r=e.replace(/\.html$/,"").replace(/^\//,"");P.traceBeginEvent("Framework","injectWxss"),Za(r),P.traceEndEvent(),P.traceBeginEvent("Framework","triggerGenerateFuncReady"),Ya(r,t),P.traceEndEvent()}P.traceEndEvent()},Ta=Ia.dataUtils.deepCopy,Pa={lazyRegistration:!0,publicProperties:!0},xa={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",templateEngine:Ei,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,idPrefixGenerator:null,separateInnerData:!0,innerDataExclude:null,randomizeTagName:!1,virtualHost:!1},Oa={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",renderingMode:"full",templateEngine:Ei,multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!0,idPrefixGenerator:null,separateInnerData:!1,innerDataExclude:null,randomizeTagName:!1,virtualHost:!1},Ra="undefined"!=typeof WeakMap?new WeakMap:{},Ma={},Da={},Na={},La={},Ba={},$a={},Fa=1,ja=Object.prototype.hasOwnProperty,Wa="wx-",Ua=(e,t)=>{var r={},n=(t[e+".json"]||{}).usingComponents||{};for(var i of Object.keys(n))r[Wa+i]=H(e,String(n[i]));return r},Va=(e,t)=>{for(var r in t){var n=t[r];n.target=null!=n.target?String(n.target):H(e,String(r))}return t},qa=(e,t)=>{var r={},n=(t[e+".json"]||{}).componentGenerics||{};for(var i of Object.keys(n)){var a=n[i];"object"==typeof a?r[Wa+i]={default:H(e,String(a.default||""))}:null!=a&&(r[Wa+i]={})}return r},za=(e,t)=>{var r=t[e+".json"]||{},n={},i=r.componentPlaceholder||{};return Object.keys(i).forEach((e=>{n[Wa+e]=Wa+String(i[e])})),n},Ga=(e,t)=>(t[e+".json"]||{}).renderer,Ha=(e,t)=>(t[e+".json"]||{}).xrFrameTouchEventBubble,Ka=(e,t,r,n)=>{var i=ks.get(r).nodeId.getNodeById(n,r);i&&t&&Ia.Element.getMethodCaller(i).setData({[t]:e})},Qa=()=>p.isLazyLoad,Ja=e=>{var t="__plugin__/",r=e.indexOf(t);return-1===r?e:"plugin-private://"+e.slice(r+11)},Xa=e=>{if(-1===e.indexOf("plugin://"))return e;var t=e.match(/\w+\//);if(!t)return e;t=t[0].slice(0,t[0].length-1);var r,n,i=(r=t,(n=p.plugins||{})[r]?n[r].provider:null);if(!i)return e;var a=e.replace(t,i);return oa[a]?oa[a]:a},Ya=(e,t)=>{var r=Ja(e);v.info(`[triggerGenerateFuncReady] dispatch generateFuncReady from vd, comp=${r}`);var n=("undefined"!=typeof __wxAppCode__?__wxAppCode__:{})[r+".wxml"];Array.isArray(n)&&(n=n[0][n[1]]),window.__wxAppCodeReadyCallback__?window.__wxAppCodeReadyCallback__(n):window.document.dispatchEvent(new CustomEvent("generateFuncReady",{detail:{generateFunc:n,pageId:t}}))},Za=e=>{var t=d();if("webview"===t){var r=Ja(e);v.info(`[injectWxss] inject page wxss from vd, comp=${r}`);var n=("undefined"!=typeof __wxAppCode__?__wxAppCode__:{})[r+".wxss"];void 0!==n&&"function"==typeof n||(v.warn("codeMap does not contain valid wxss "+(r+".wxss")),n=()=>{}),window.__setCssStartTime__=Date.now(),n(),window.__setCssEndTime__=Date.now()}else v.info(`[injectWxss] current renderer is ${t}, handle root wxss by priority`)},eo=(e,t,r,n)=>{Zn(e.viewId);var i=[[],[],t,oa];io(i,t,Object.create(null),"",e);var a=new Set(e.usedDef[0].map((e=>e.is))),o=new Set(e.usedDef[0].map((e=>e.is))),s=[],l=[];i[0].forEach((e=>{a.has(e.is)||(s.push(e),a.add(e.is))})),i[1].forEach((e=>{o.has(e.is)||(l.push(e),o.add(e.is))})),i[0]=s,i[1]=l,e.usedDef[0].push(...i[0]),e.usedDef[1].push(...i[1]),e.operationFlow.sendInIndividualFlow([m.FLOW_COMPONENT_DEF_ADD,n,i]),e.operationFlow.sendInIndividualFlow([m.FLOW_WAIT_COMPONENT,n]),e.operationFlow.start(Date.now()),e.operationFlow.push([m.FLOW_REPLACE_PLACEHOLDER,n]),r.replacers.forEach((e=>{e()})),e.operationFlow.end()},to=e=>{var t=co(e);return t?lo(t):""},ro=e=>{var t=sa[e];if(!t)return{};var r=t.match(/^plugin:\/\/(wx[0-9a-f]{16})\/(.+)$/);if(!r)return{};var n=r[1],i=r[2],a=J(p.plugins).find((e=>e.provider===n));if(!a)return{};if(!a.genericsImplementation)return{};var o=a.genericsImplementation[i]||{},s={},l=Ni(n);return Object.keys(o).forEach((e=>{s[Wa+e]=H(l,String(o[e]))})),s},no=(e,t,r)=>{if("wx://"!==t.slice(0,5)){var n=Da[t];if(!n)throw new Error('"'+t+'" is not a behavior registered by Behavior()');e[0].unshift(n),r[t]=!0;var i=Ba[n.is];if(i)for(var a=0;a<i.length;a++){var o=i[a];r[o]||no(e,o,r)}}},io=(e,t,r,n,i,a=!1)=>{ja.call(oa,t)&&(t=oa[t]);var o=Ma[t];if(!i.compManager.shouldUsePlaceholder(t)||!a)if(o){var s=$a[t];"wx://"!==t.slice(0,5)&&e[1].unshift(o),r[t]=!0;var l=Na[o.is],c=La[o.is];for(var u of Object.keys(l||{})){var d=l[u];r[d]||io(e,d,r,t,i,!!s[u])}for(var p of Object.keys(c||{})){var h=c[p].default;h&&(r[h]||io(e,h,r,t,i,!!s[p]))}var f=Ba[o.is];if(f)for(var g=0;g<f.length;g++){var v=f[g];r[v]||no(e,v,r)}}else console.error(`Component is not found in path "${t}"${n?` (using by "${n}")`:""}`)},ao=(e,t)=>{var r={};for(var n in e.properties){var i=e.properties[n];if(null===i)r[n]={type:null};else if(i===Number||i===String||i===Boolean||i===Object||i===Array)r[n]={type:i.name};else if(void 0===i.public||i.public){var a=i.type,o=null;a!==Number&&a!==String&&a!==Boolean&&a!==Object&&a!==Array||(o=a.name);var s=void 0;if(i.optionalTypes){s=[];for(var l=0;l<i.optionalTypes.length;l+=1){var c=i.optionalTypes[l];c!==Number&&c!==String&&c!==Boolean&&c!==Object&&c!==Array||s.push(c.name)}}r[n]={type:o,optionalTypes:s,value:i.value}}}var u=e.options.innerDataExclude;return{is:e.is,using:e.using,generics:e.generics,placeholder:e.placeholder,behaviors:e.behaviors,data:e.data,properties:r,externalClasses:e.externalClasses,template:t,options:{domain:e.options.domain,writeOnly:e.options.writeOnly||void 0,multipleSlots:e.options.multipleSlots||void 0,writeIdToDOM:e.options.writeIdToDOM||void 0,styleIsolation:e.options.styleIsolation||void 0,addGlobalClass:e.options.addGlobalClass||void 0,hasObservers:!!e.observers,innerDataExcludeString:u?u.toString():null,virtualHost:e.options.virtualHost||void 0}}},oo=function(e){if(e.behaviors){for(var t=[],r=0;r<e.behaviors.length;r++){var n=String(e.behaviors[r]);if("/"!==n[0]&&"wx://"!==n.slice(0,5))throw new Error("Behaviors should be constructed with Behavior()");t.push(n)}e.behaviors=t,Ba[e.is]=t}else e.behaviors=null},so=function(e){var t="/"+Fa+++"/"+Q(),r={};for(var n in e)r[n]="data"===n?Ta(e[n]):e[n];return r.is=t,oo(r),r.options=Pa,Da[t]=ao(r),r.definitionFilter=Ia.Behavior.callDefinitionFilter(r),Ia.registerBehavior(r),r.is},lo=e=>Ia.Component.getComponentOptions(e).domain.split("/",1)[0],co=e=>Ra.get(e),uo=(e,t,r)=>{var n=Ia.Component.getComponentOptions(t).domain,i=Ia.Component.getMethod(t,"__export__"),a=n===e?Ia.Element.getMethodCaller(t):null;if(i){var o=n===e?r:null,s=i.call(Ia.Element.getMethodCaller(t),o);return void 0===s?a:s}return a},po=(e,t,r)=>{var n=co(e),i=Ia.Component.getComponentOptions(n).domain,a=n.shadowRoot;if(r)return a.querySelectorAll(t).map((t=>uo(i,t,e)));var o=a.querySelector(t);return o?uo(i,o,e):null},ho=(e,t,r)=>{e!==go&&Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})};function fo(){}var go=fo.prototype=Object.create(Object.prototype,{is:{get(){return co(this).is},set(e){ho(this,"is",e)}},id:{get(){var e=co(this);return Ia.Component.getComponentOptions(e).writeOnly?"":e.id},set(e){ho(this,"id",e)}},getPageId:{get:()=>function(){return"pageId:"+co(this).__treeManager__.viewId},set(e){ho(this,"getPageId",e)}},router:{get(){return co(this).__pageRouter__},set(e){ho(this,"router",e)}},pageRouter:{get(){return(e=>{for(var t=co(e),r=Ia.Component.getComponentOptions(t).domain;;){var n=t.ownerShadowRoot;if(!n)break;if(!(n instanceof Ia.ShadowRoot))return null;var i=n.getHostNode();if(!i)return null;if(Ia.Component.getComponentOptions(i).domain!==r)return null;t=i}return t})(this).__pageRouter__},set(e){ho(this,"pageRouter",e)}},renderer:{get(){var e=co(this).__treeManager__;return be(e.viewId)},set(e){ho(this,"renderer",e)}},dataset:{get(){var e=co(this);return Ia.Component.getComponentOptions(e).writeOnly?null:e.dataset},set(e){ho(this,"dataset",e)}},properties:{get(){return this.__data__},set(e){ho(this,"properties",e)}},data:{get(){return this.__data__},set(e){ho(this,"data",e)}},setData:{get:()=>w.useTracedApiEnd((function(e,t){var r=co(this),n=r.__treeManager__;return w.traceBeginAPI("setData",{is:this.is,viewId:n.viewId}),"function"==typeof t&&n.operationFlow.registerSetDataCallback(t,this,r),r.setData(e)})),set(e){ho(this,"setData",e)}},groupSetData:{get:()=>function(e){var t=co(this).__treeManager__;t.operationFlow.start(Date.now()),t.operationFlow.push([m.FLOW_GROUP]);var r=null;try{e.call(this)}catch(e){r=e}if(t.operationFlow.push([m.FLOW_GROUP_END]),t.operationFlow.end(),r)throw r},set(e){ho(this,"setData",e)}},replaceDataOnPath:{get(){return(e,t)=>co(this).replaceDataOnPath(e,t)},set(e){ho(this,"replaceDataOnPath",e)}},mergeDataOnPath:{get(){return(e,t)=>co(this).mergeDataOnPath(e,t)},set(e){ho(this,"mergeDataOnPath",e)}},applyDataUpdates:{get(){return()=>co(this).applyDataUpdates()},set(e){ho(this,"applyDataUpdates",e)}},hasBehavior:{get(){return e=>co(this).hasBehavior(e)},set(e){ho(this,"hasBehavior",e)}},triggerEvent:{get(){return(e,t,r)=>co(this).triggerEvent(e,t,r)},set(e){ho(this,"triggerEvent",e)}},createSelectorQuery:{get(){return()=>w._createSelectorQuery({},lo(co(this))).in(this)},set(e){ho(this,"createSelectorQuery",e)}},createIntersectionObserver:{get(){return e=>w._createIntersectionObserver(this,e,lo(co(this)))},set(e){ho(this,"createIntersectionObserver",e)}},createMediaQueryObserver:{get(){return e=>w._createMediaQueryObserver(this,e,lo(co(this)))},set(e){ho(this,"createMediaQueryObserver",e)}},getOpenerEventChannel:{get(){return()=>w._getPageOpenerEventChannel(this)},set(e){ho(this,"getOpenerEventChannel",e)}},applyAnimation:{get(){return(e,t,r,n,i)=>{var a=co(this);!function(e,t,r,n,i,a,o,s){var l=`${Math.random()}-${+new Date}`;"function"==typeof o&&(t.applyAnimationCbMap[l]=o),t.operationFlow.push([m.FLOW_SET_NODE_ANIMATION_INFO,{hasCallback:"function"==typeof o,reqId:l,nodeId:t.nodeId.getNodeId(e),webviewId:r,selector:n,options:i,type:a?"animeJS":void 0,isLastAnimation:s}])}(a,a.__treeManager__,this.__wxWebviewId__,e,t,r,n,i)}},set(e){ho(this,"applyAnimation",e)}},clearAnimation:{get(){return(e,t,r)=>{var n=co(this);!function(e,t,r,n,i,a){var o=`${Math.random()}-${+new Date}`;"function"==typeof a?t.clearAnimationCbMap[o]=a:"function"==typeof i&&(t.clearAnimationCbMap[o]=i),t.operationFlow.push([m.FLOW_CLEAR_NODE_ANIMATION_INFO,{hasCallback:"function"==typeof t.clearAnimationCbMap[o],reqId:o,nodeId:t.nodeId.getNodeId(e),webviewId:r,selector:n,options:i}])}(n,n.__treeManager__,this.__wxWebviewId__,e,t,r)}},set(e){ho(this,"clearAnimation",e)}},animate:{get(){return(e,t,r,n,i)=>{if("function"==typeof n)i=n;else if(void 0!==n){var a=co(this),o=a.__treeManager__;return void o.operationFlow.push([m.FLOW_SET_NODE_ANIMATION_INFO,{type:"scrollTimeline",nodeId:o.nodeId.getNodeId(a),selector:e,options:t,duration:r,timeline:n}])}for(var s=pr(t,r),l=0;l<s.length;++l){var c="animeJS"===s[l].type;delete s[l].type,l===s.length-1?this.applyAnimation(e,s[l],c,i,!0):this.applyAnimation(e,s[l],c)}}},set(e){ho(this,"animate",e)}},applyAnimatedStyle:{get(){return(e,t,r,n)=>{var i=co(this),a=i.__treeManager__,o=a.viewId,s=this.renderer,{registerJsValue:l,createAnimatedStyleForWeb:c,checkWorkletFunc:u}=w.workletSDK;if(u(t)||console.warn("The updater parameter of applyAnimatedStyle should be a worklet function"),"skyline"===s)Ca(i,a,o,e,n,{renderer:s,styleInfo:{userConfig:r,updaterId:l(t)}});else if("webview"===s){var d=void 0,p=c(t,r,(t=>{Ca(i,a,o,e,void 0,{renderer:s,styleInfo:{shouldAttach:!1,mapperId:d,updateStyle:t}})}));d=p.mapperId,Ca(i,a,o,e,n,{renderer:s,styleInfo:{shouldAttach:!0,mapperId:p.mapperId,updateStyle:p.initialStyle}})}}},set(e){ho(this,"applyAnimatedStyle",e)}},clearAnimatedStyle:{get(){return(e,t,r)=>{var n=co(this),i=n.__treeManager__;!function(e,t,r,n,i,a,o){var s=`${Math.random()}-${+new Date}`,l="function"==typeof o;l&&(t.animatedStyleCbMap[s]=o),t.operationFlow.push([m.FLOW_CLEAR_NODE_ANIMATED_STYLE,{hasCallback:l,reqId:s,nodeId:t.nodeId.getNodeId(e),pageId:r,selector:n,renderer:i,styleIds:a}])}(n,i,i.viewId,e,this.renderer,t,r)}},set(e){ho(this,"clearAnimatedStyle",e)}},selectOwnerComponent:{get(){return e=>{var t=co(this);return Ia.Component.getComponentOptions(t).writeOnly?null:(e=>{var t=co(e),r=Ia.Component.getComponentOptions(t).domain,n=t.ownerShadowRoot;if(!(n instanceof Ia.ShadowRoot))return null;var i=n.getHostNode();return i?uo(r,i,e):null})(this)}},set(e){ho(this,"selectOwnerComponent",e)}},selectComponent:{get(){return e=>{var t=co(this);return Ia.Component.getComponentOptions(t).writeOnly?null:po(this,e,!1)}},set(e){ho(this,"selectComponent",e)}},selectAllComponents:{get(){return e=>{var t=co(this);return Ia.Component.getComponentOptions(t).writeOnly?[]:po(this,e,!0)}},set(e){ho(this,"selectAllComponents",e)}},getRelationNodes:{get(){return e=>((e,t)=>{var r=co(e).getRelationNodes(t);return null===r?null:r.map((e=>Ia.Element.getMethodCaller(e)))})(this,e)},set(e){ho(this,"getRelationNodes",e)}},getTabBar:{get:()=>function(e){var t=co(this).__treeManager__;return"function"==typeof e?t.tabRoot?(e(Ia.Element.getMethodCaller(t.tabRoot)),Ia.Element.getMethodCaller(t.tabRoot)):(rs(t.viewId).then((()=>{!t.tabDestroyed&&t.tabRoot&&e(Ia.Element.getMethodCaller(t.tabRoot))})),null):t.tabDestroyed||!t.tabRoot?null:Ia.Element.getMethodCaller(t.tabRoot)},set(e){ho(this,"getTabBar",e)}},exitState:{get(){return this.__exitState__},set(e){ho(this,"exitState",e)}},setInitialRenderingCache:{get:()=>function(e){var t=co(this).__treeManager__;null===e?Yo(t):Xo(t,e)},set(e){ho(this,"exitState",e)}},setUpdatePerformanceListener:{get:()=>function(e,t){var r=co(this),n=r.__treeManager__,i=n.nodeId.getNodeId(r);"function"==typeof t?(r.__updatePerformanceListener__=t,n.operationFlow.push([m.ENABLE_UPDATE_PERFORMANCE_STAT,i,e])):(r.__updatePerformanceListener__=null,n.operationFlow.push([m.DISABLE_UPDATE_PERFORMANCE_STAT,i]))},set(e){ho(this,"exitState",e)}},getPassiveEvent:{get:()=>function(e){P.getPassiveEvent(this.__wxWebviewId__,e)},set(e){ho(this,"exitState",e)}},setPassiveEvent:{get:()=>function(e){P.setPassiveEvent(this.__wxWebviewId__,e)},set(e){ho(this,"exitState",e)}}}),vo=function(e,t,r){var n=t[r+".json"]||{};void 0!==n.styleIsolation&&(e.options||(e.options={}),e.options.styleIsolation=n.styleIsolation),void 0!==n.pureDataPattern&&(e.options||(e.options={}),e.options.pureDataPattern=new RegExp(n.pureDataPattern))},mo=function(e,t){var r,n;e.using=Na[e.is]=Ua(e.is,t),e.generics=La[e.is]=qa(e.is,t),e.placeholder=$a[e.is]=za(e.is,t),r=e.is,((n={isXrComp:"xr-frame"===Ga(e.is,t),xrFrameTouchEventBubble:Ha(e.is,t)}).isXrComp||n.xrFrameTouchEventBubble)&&(Xn[r]=n),oo(e);var i=e.is+".wxml",a={path:i,func:Kn[i]||t[i]||null};e.template=a,null===e.template.func&&v.warn(`[componentRegistration] Generate function of ${e.is} not found in data thread`),Ma[e.is]=ao(e,i);var o=Ia.registerElement(e),s=Object.create(go,{constructor:{value:fo,writable:!0,configurable:!0}});Ia.Behavior.prepare(o.behavior);var l=o.behavior.methods;for(var c in l)s[c]=l[c];return Qn(e.is+".js",(t=>{t(),(e=>{var t=Ma[e];ks.list().forEach((r=>{ve(m.UPDATE_COMPONENT_DEF,[t],r.viewId),[r.root,r.tabRoot].forEach((t=>{t&&X(t,1,(t=>{if(t instanceof Ia.Component&&t.is===e){var n=t===r.root;n&&r.lifetimeListener&&r.lifetimeListener.call(r.root,"onUnload"),ii(t,r),n&&r.lifetimeListener&&(r.lifetimeListener.call(r.root,"onLoad"),r.lifetimeListener.call(r.root,"onShow"))}}))}))}))})(e.is)})),s},yo=function(e,t,r,n){var i=n||__wxAppCurrentFile__,a=r||__wxAppCode__,o=a[i+"on"];if(!i||!o)return console.error("Component constructors should be called while initialization. A constructor call has been ignored."),"";var s=i.slice(0,-3);if(o.component&&"simple"===o.component.type)return function(e,t,r,n,i){vo(e,i,t);var a={is:t,using:Ua(t,i),properties:e.properties,externalClasses:e.externalClasses,options:xa},o=e.options||{};a.options=xa,a.options.multipleSlots=o.multipleSlots||!1,a.options.writeOnly=!0,a.options.writeIdToDOM=!1,a.options.domain="simple://"+(n||"/"),a.options.styleIsolation=o.styleIsolation||"",a.options.addGlobalClass=o.addGlobalClass||!1,a.options.innerDataExclude=null,a.options.virtualHost=!1,Ma[t]=ao(a,t+".wxml"),a.is}(e,s,0,t,a),s;vo(e,a,s),So(s,e.methods);var l=Ia.Behavior.callDefinitionFilter(e),c={is:s,properties:e.properties,data:Ta(e.data),methods:e.methods,behaviors:e.behaviors,lifetimes:e.lifetimes,pageLifetimes:e.pageLifetimes,created:e.created,attached:e.attached,ready:e.ready,moved:e.moved,detached:e.detached,saved:e.saved,restored:e.restored,relations:e.relations?Va(i,e.relations):void 0,externalClasses:e.externalClasses,observers:e.observers,definitionFilter:l,options:xa,initiator(){this.__customConstructor__=yo,this.__pageRouter__=w.createRouter(s,this.__treeManager__.viewId);var e=Object.create(d);Ra.set(e,this),Ia.Element.setMethodCaller(this,e),Object.defineProperties(e,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},u=e.options||{};c.options=xa,c.options.multipleSlots=u.multipleSlots||!1,c.options.writeOnly=u.writeOnly||!1,c.options.writeIdToDOM=!1,c.options.domain=(u.writeOnly?"wo://":"")+(t||"/"),c.options.styleIsolation=u.styleIsolation||"",c.options.addGlobalClass=u.addGlobalClass||!1,c.options.innerDataExclude=u.pureDataPattern||null,c.options.virtualHost=u.virtualHost||!1;var d=mo(c,a);return c.is},_o=function(e,t,r,n){var i=n||__wxAppCurrentFile__;if(!i)return console.error("Page constructors should be called while initialization. A constructor call has been ignored."),"";var a=r||"undefined"!=typeof __wxAppCode__&&__wxAppCode__||{},o=Object.create(null),s={methods:{}};for(var l in e)"data"===l?s.data=e.data:"function"==typeof e[l]?s.methods[l]=e[l]:"methods"===l?o.methods=e.methods:s[l]=e[l];var c=(e=>{if(!e)return!1;if(e instanceof Array){for(var t=0;t<e.length;t++){var r=String(e[t]);if("wx://"!==r.slice(0,5)&&!Da[r])return console.warn('"behaviors" list contains non-behavior items. The whole list is ignored.'),!1}return!0}return!1})(s.behaviors),u=i.slice(0,-3);for(var d of(vo(s,a,u),c&&Ia.Behavior.callDefinitionFilter(s),Object.keys(s)))"data"!==d&&"methods"!==d&&(o[d]=s[d]);So(u,s.methods);var p={is:u,behaviors:c?s.behaviors:void 0,data:Ta(s.data),methods:s.methods,properties:void 0===e.properties?s.properties:void 0,lifetimes:void 0===e.lifetimes?s.lifetimes:void 0,pageLifetimes:void 0===e.pageLifetimes?s.pageLifetimes:void 0,created:void 0===e.created?s.created:void 0,attached:void 0===e.attached?s.attached:void 0,ready:void 0===e.ready?s.ready:void 0,moved:void 0===e.moved?s.moved:void 0,detached:void 0===e.detached?s.detached:void 0,saved:void 0===e.saved?s.saved:void 0,restored:void 0===e.restored?s.restored:void 0,relations:void 0===e.relations&&s.relations?Va(i,s.relations):void 0,externalClasses:void 0===e.externalClasses?s.externalClasses:void 0,observers:void 0===e.observers?s.observers:void 0,options:xa,initiator(){this.__customConstructor__=_o,this.__pageRouter__=w.createRouter(u,this.__treeManager__.viewId);var e=Object.create(f);Ra.set(e,this),Ia.Element.setMethodCaller(this,e),Object.defineProperties(e,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},h=s.options||{};p.options.multipleSlots=!1,p.options.writeOnly=!1,p.options.writeIdToDOM=!0,p.options.domain=t||"/",p.options.styleIsolation=h.styleIsolation||"shared",p.options.addGlobalClass=!1,p.options.innerDataExclude=h.pureDataPattern||null,p.options.virtualHost=h.virtualHost||!1;var f=mo(p,a);return f.__freeData__=o,p.is},bo="_worklet_factory_",wo={},So=(e,t)=>{wo[e]={},Object.keys(t||{}).forEach((r=>{if(r.startsWith("_")&&r.endsWith(bo)){var n=r.slice(1,-17);wo[e][n]=t[r]}}))},Co=0,Io={},Ao=(e,t,r)=>new Promise((n=>{var i=ks.get(r).nodeId.getNodeId(e);Io[Co]=n,ve(m.REQUEST_WORKLET_METHOD,{methodName:t,nodeId:i,reqId:Co},r),Co++}));Ie(m.RESPONSE_WORKLET_METHOD,(e=>{var t=e[0].reqId,r=Io[t];"function"==typeof r&&(delete Io[t],r(e[0].workletId))}));var ko=!0,Eo=e=>{(e=>{var t=mi++;yi.push(t);try{e(t)}catch(e){throw yi.pop(),e}yi.pop()})((()=>{To(e)}))},To=e=>{un+=1;var t,r,n,i,a,o=Date.now(),s=e.operationFlow.iterator,l=s.expectStart(),c=s.nextStepType();if(c===m.FLOW_INITIAL_CREATION)Po(e,m.FLOW_INITIAL_CREATION),hn(l,o,Date.now(),2);else if(c===m.FLOW_INITIAL_RENDERING_CACHE)Po(e,m.FLOW_INITIAL_RENDERING_CACHE);else if(c===m.FLOW_CREATE_TAB)Po(e,m.FLOW_CREATE_TAB),hn(l,o,Date.now(),3);else if(c===m.FLOW_SET_ROOT_PROPERTIES){var u=s.nextStep();zn(e.root,u[1],u[2],u[3])}else if(c===m.FLOW_DESTROY_PAGE)s.nextStep(),Bo(e);else if(ja.call(Cs,s.nextStepType())){var d=Cs[s.nextStepType()],p=s.nextStep().slice(1);d(e.compManager,p)}else{var h=Date.now(),f=s.nextStep();if(f[0]===m.FLOW_UPDATE){var g=f[1],y=e.nodeId.getNodeById(g),b=f[2];if(y){if(b.length){var w=Ia.Component.getDataProxy(y);w.setChanges(b),w.doUpdates(void 0,!1),_i(g,(t=>({isMergedUpdate:!1,dataPaths:t.withDataPaths?b.map((e=>e[0])):void 0,pendingStartTimestamp:l,updateStartTimestamp:o,updateEndTimestamp:Date.now(),pageId:e.viewId})))}}else v.warn(`[flowUpdate] node ${f[1]} not found`),s.skipToEnd()}else if(f[0]===m.FLOW_GROUP){var S=s.nextStep();if(S[0]!==m.FLOW_GROUP_END)throw new Error(`Framework inner error (expect FLOW_GROUP_END but get ${_(S[0])})`)}else if(f[0]===m.FLOW_REPLACE_PLACEHOLDER){var C=f[1];e.compManager.getAndClearPendingPlaceholderReplacement(C).replacers.forEach((e=>{e()}))}else if(f[0]===m.FLOW_HOT_UPDATE){var I=e.nodeId.getNodeById(f[1]);I?I.__templateInstance._resetShadowChildren(I,I.data,e):s.skipToEnd()}else{if(f[0]!==m.FLOW_HOT_UPDATE_RESET)throw new Error(`Framework inner error (expect an update event but get ${_(f[0])})`);var A=e.nodeId.getNodeById(f[1]);ii(A,e)}((e,t,r,n)=>{T.speedReport({key:e,timeMark:{startTime:t,endTime:r},force:"reRenderTime"!==e,data:n})})("reRenderTime",h,Date.now()),ko&&5===((e,t,r)=>(fn+=un,vn+=r-t,mn+=dn,yn+=pn,_n+=r-e,un=0,dn=0,pn=0,gn+=1))(l,o,Date.now())&&(ko=!1,t=1,r=Math.ceil(vn/(gn||1)),n=Math.ceil(yn/(mn||1)),i=Math.ceil(_n/(gn||1)),a=[fn,gn,r,mn,n,1,i,t].map(encodeURIComponent).join(","),void 0!==T&&T.reportKeyValue({key:"SetDataPerf",value:a,force:!0}))}s.expectEnd()},Po=(e,t)=>{v.info(`[OperationFlow] executing init flow with type ${_(t)}`);var r,n=t===m.FLOW_CREATE_TAB,i=t===m.FLOW_INITIAL_RENDERING_CACHE,a=e.operationFlow.iterator,o=a.nextStep(),s=o[1],c=o[2],h=d(),f=null;if("skyline"===h)r=u().getContext(e.viewId);else if("scl"===h){r={mainRoot:l.getTabBarContainer()}}else"xr-frame"===h&&(r=xrFrame.getOrCreateContext(e.viewId));if(n){if(e.tabNodeId=c,v.info(`[OperationFlow] creating tab bar comp <${s}> ok, pageId=${e.viewId}`),"skyline"===h){var g=u().getTabBarContext();e.tabRoot=f=window.__TAB_BAR__=Ia.Component.createWithContext("tab-bar",Ia.Component._list[s],g,e),"function"==typeof f.__domElement.setStyleScope&&f.__domElement.setStyleScope(Ia.getStyleScopeId(Ia.Component._list[s].options.classPrefix))}else"scl"===h?e.tabRoot=f=window.__TAB_BAR__=Ia.createElement("tab-bar",Ia.Component._list[s]):"xr-frame"===h?v.info(`[OperationFlow] unexpected xr-frame tabb bar, pageId=${e.viewId}`):e.tabRoot=f=window.__TAB_BAR__=Ia.createElement("tab-bar",Ia.Component._list[s]);v.info(`[OperationFlow] create tab bar comp ok, pageId=${e.viewId}`)}else if(i){if(!s)return void ma(null);f=Ia.createElement("initial-rendering-cache",Ia.Component._list[s])}else{var y=o[3]||{};e.rootNodeId=c,v.info(`[OperationFlow] creating root component on view thread, pageId=${e.viewId}`),P.traceBeginEvent("Framework","createRootComponent"),"skyline"===h?(e.root=f=window.__DOMTree__=Ia.Component.createWithGenericsAndContext("wx-page",Ia.Component._list[s],y,r,e),"function"==typeof f.__domElement.setStyleScope&&f.__domElement.setStyleScope(Ia.getStyleScopeId(Ia.Component._list[s].options.classPrefix))):"xr-frame"===d()?e.root=f=window.__DOMTree__=Ia.Component.createWithGenericsAndContext("wx-xr-element",Ia.Component._list[s],y,r,e):e.root=f=window.__DOMTree__=Ia.Component.createWithGenerics("body",Ia.Component._list[s],y,e),P.traceEndEvent(),v.info(`[OperationFlow] create root component on view thread ok, pageId=${e.viewId}`)}if(e.nodeId.allocNodeId(f,c),f.setAttribute("is",s),on.restoring&&!n){var b=on.idDataMap[e.nodeId.getNodeId(f)];Ia.Component.replaceWholeData(f,b,null),Yi(on.restoring),on.restoring=null,on.idDataMap=null}if((o=a.nextStep())[0]!==t)throw new Error(`Framework inner error (expect ${_(t)} end but get ${_(o[0])})`);if(e.nodeId.addNode(f),n)if("skyline"===h){v.info("[OperationFlow] attaching tabBar to skyline");var w=u(),S=w.getTabBarContext();f.__domElement.setStyle("pointer-events: none;"),S.attach(f.__domElement),Ia.Element.pretendAttached(f),w.insertToInspecteeRoots(f),e.__attached=!0,v.info("[OperationFlow] attach tabBar to skyline done")}else if("scl"===h)v.info("[OperationFlow] attaching tabBar to scl"),r.mainRoot.appendChild(f),v.info("[OperationFlow] attaching tabBar to scl");else{var C=Ia.createElement("wx-tab-bar-wrapper",Ia.Component._list["wx://tab-bar-wrapper"]);C.appendChild(f),document.documentElement.insertBefore(C.$$,document.body),Ia.Element.pretendAttached(C),e.tabDestroyed&&C.removeChild(f)}else if(i){var I=document.createElement("wx-initial-rendering-cache-wrapper");if(I.setAttribute("style","height: 0; overflow: hidden"),I.appendChild(f.$$),document.documentElement.insertBefore(I,document.body),(o=a.nextStep())[0]!==m.FLOW_INITIAL_RENDERING_CACHE)throw new Error("Framework inner error (expect initial rendering end but get another)");X(f,1,(e=>{e.triggerLifeTime("cacheAttached")})),ma(f,o[1]),e.nodeId.removeNode(f),document.documentElement.removeChild(I)}else{if("skyline"===h){v.info(`[WABaseLib.Critical] attach root element to skyline, pageId=${e.viewId}`);var A=u(),k=r.createElement("empty","host");k.setStyle(["opacity: 0.999999","border-radius: 0%","filter: blur(0px)","backdrop-filter: blur(0px)"].join("; ")),k.appendChild(f.__domElement),f.__domElement.forceDetached(),r.attach(f.__domElement,k),A.setCustomRouteConfigIfNeeded(e.viewId,k),A.insertToInspecteeRoots(f),e.__attached=!0}else"webview"===d()&&(document.body=f.$$);X(f,1,(e=>{e.triggerLifeTime("cacheAttached")})),"webview"===h&&function(e){ha&&Date.now();var t=fa(window.__route__);if("static"!==t){if("dynamic"!==t){var r=p.envVersion;"develop"!==r&&"trial"!==r||va()}return!1}ga(e)}(f),Ia.Element.pretendAttached(f)}v.info(`[OperationFlow] init flow type ${_(t)} execution ok`)},xo={},Oo=()=>{en.setStartOperation(Eo)},Ro=!1,Mo=(e={})=>{var t=d(),r="skyline"===t?C:I;if(_e(r,t),"reLaunch"!==e.openType&&"autoReLaunch"!==e.openType||($o(r),Ro=!1),!Ro){Ro=!0,v.info(`[VD] newTabBar, tabBarViewId=${r}`),qo[r]=!0,ks.create(r),Ae(r);var n=ks.get(r);if(n.operationFlow.unblock(),"skyline"===t){var i=u().getTabBarContext();__webviewEngine__.getStyleSheetManager(r).registerBackendContext(i)}if("scl"===t)n.compManager.injectComponentsRecursively([A],(()=>{ve(m.SCL_CONTEXT_READY,{},r)}))}},Do=new Set,No=(e,t)=>{if(!ks.get(e)){v.info(`[VD] newPage, pageId=${e}`),_e(e,d());var r=ks.create(e).compManager;if(qo[e]=!1,zo[e]=[],Go[e]=[],Ae(e),ka(e,(()=>{if(v.info(`[WebviewInjectFirstPage] onMainPageFrameReady, isLazyLoad=${Qa()}, pageId=${e}, isFirstPage=${p.isFirstPage}`),Qa()&&p.isFirstPage&&"webview"===d()){var t=p.appLaunchInfo.path,r=t.replace(/\.html$/,"").replace(/^\//,"");r=Xa(r),v.info(`[WebviewInjectFirstPage] entryPath=${t}, pageId=${e}, rootCompPath=${r}`);var n=ks.get(e).compManager;setTimeout((()=>{r=Xa(r),n.setInitialSubPackage(r),n.injectComponentsRecursively([r],(()=>{xo[e].on("inject",(()=>{Za(r),Ya(r)}))}),!0)}))}"skyline"===d()&&u().procGenPolyfilled(void 0!==j)})),xo[e]=Z(["inject"]),xo[e].on("inject",(()=>{"webview"===d()&&es(e)})),p.onReady((()=>{Qa()&&B()?ka(e,(()=>{"skyline"===d()?r.injectComponentsRecursively([A],(()=>{u().onPageReady(e,(()=>{var r="autoReLaunch"===t.openType||"reLaunch"===t.openType;t.isTabPage&&(D(t.path)?(es(e,r),F()):W()),xo[e].notify("inject")}))})):r.injectComponentsRecursively([A],(()=>{xo[e].notify("inject")}))})):xo[e].notify("inject")})),"skyline"===d()){var n=Di();__webviewEngine__.styleSheetRuntime.addIndexGroup(""),Object.keys(n).forEach((e=>{var t=`${n[e]}__plugin__/${e}/`;__webviewEngine__.styleSheetRuntime.addIndexGroup(t)})),u().onPageReady(e,(r=>{var n,i,a,o,s,l;(__webviewEngine__.getStyleSheetManager(e).registerBackendContext(r),t.isTabPage)&&(D(t.path)?(Mo(t),null===(n=window)||void 0===n||null===(i=n.__TAB_BAR__)||void 0===i||null===(a=i.__domElement)||void 0===a||a.setStyle("display: flex; pointer-events: none;")):null===(o=window)||void 0===o||null===(s=o.__TAB_BAR__)||void 0===s||null===(l=s.__domElement)||void 0===l||l.setStyle("display: none; pointer-events: none;"))}))}}},Lo=e=>{var t=ks.get(e);if(v.info("[skyline] getDomTreeByPageId tm: ",typeof t),void 0!==t&&void 0!==t.root)return t.root},Bo=e=>{if("webview"!==d()){var t=e.viewId;if(v.info(`[destroyPage] pageId=${t}`),Ia.Element.pretendDetached(e.root),ks.destroy(t),Fo(null),delete qo[t],delete zo[t],delete Go[t],delete xo[t],Se(t),(e=>{delete ce[e],delete ue[e]})(t),Do.delete(t),"skyline"===d()){var r=u();r.markDestroyContext(t),r.removeFromInspecteeRoots(e.root),__webviewEngine__.removeStyleSheetManager(t),h.emit("SKYLINE_DESTROY_PAGE",t)}else"xr-frame"===d()&&(xrFrame.getOrCreateContext(t).destroy(),delete window.__DOMTree__)}},$o=e=>{if("webview"!==d()){v.info(`[CustomTabBar] destroyTabBar pageId=${e}`);var t=ks.get(e);t&&(null!=t&&t.tabRoot&&Ia.Element.pretendDetached(t.tabRoot),ks.destroy(e),delete qo[e],delete zo[e],delete Go[e],delete xo[e],"skyline"===d()&&(__webviewEngine__.removeStyleSheetManager(e),u().removeFromInspecteeRoots(t.root)))}},Fo=e=>{var t;window.__DOMTree__=null!==e?null===(t=ks.get(e))||void 0===t?void 0:t.root:null};"skyline"===d()&&P.subscribe("onAppRouteDone",(e=>{Fo(e.webviewId)}));var jo={String:String,Number:Number,Boolean:Boolean,Object:Object,Array:Array,null:null},Wo=(e,t)=>{for(var r in e.properties){var n=e.properties[r];n.type=jo[n.type],n.optionalTypes&&(n.optionalTypes=n.optionalTypes.map((e=>jo[e])))}var i="";t||(i=Ss.getComponentClassPrefix(e.is));var a=e.options,o=!(!a.writeIdToDOM&&!t);e.options=Oa,e.options.multipleSlots=a.multipleSlots||!1,e.options.writeOnly=a.writeOnly||!1,o||"xr-frame"===d()?e.options.idPrefixGenerator=null:e.options.idPrefixGenerator=Q,e.options.domain=a.domain,e.options.randomizeTagName=!1,e.options.innerDataExclude=(e=>{if(!e)return null;var t=e.lastIndexOf("/"),r=e.slice(1,t),n=e.slice(t+1);return new RegExp(r,n)})(a.innerDataExcludeString),e.options.virtualHost=a.virtualHost;var s=!1;if(a.styleIsolation){var l=a.styleIsolation;"page-"===l.slice(0,5)&&(s=!0,l=l.slice(5)),"isolated"===l?(i=Ss.getComponentClassPrefix(e.is),e.options.addGlobalClass=!1):"strong-isolated"===l?(i=Ss.getComponentClassPrefix(e.is),e.options.addGlobalClass=!1,e.options.randomizeTagName=!0):"apply-shared"===l?(i=Ss.getComponentClassPrefix(e.is),e.options.addGlobalClass=!0):"shared"===l&&"/"===a.domain?(i="",e.options.addGlobalClass=!1):s=!1}else e.options.addGlobalClass=a.addGlobalClass||!1;e.options.classPrefix=i,a.hasObservers&&(e.observers={"**"(){}}),ie()&&(e.observers={...e.observers||{},"**"(e){b.invoke("componentDataChanged",{nodeId:this.__wxTmplId,data:e})}}),window.__customComponentMode__="undefined"!=typeof __wxAppCode__&&__wxAppCode__[e.template];var c=window.__generateFunc__;return"undefined"!=typeof __wxAppCode__&&__wxAppCode__[e.template]?c=__wxAppCode__[e.template]:v.warn(`[componentRegistration] Generate function of ${e.is} not found in view thread`),e.template={path:e.is+".wxml",func:c},Ia.registerElement(e),{disableAppWxss:s,classPrefix:i}},Uo=(e,t)=>{var r=__webviewEngine__.getStyleSheetManager(e,t);t.forEach((e=>{var t="__APP__"===e?"":e;r.setIndex(t+"app.fpiib"),Gi(e,(e=>{e.forEach((e=>{r.setIndex(`${t}__plugin__/${e.provider}/app.fpiib`)}))}))}))},Vo=(e,t,r)=>{var n="xr-frame"===d()?Y(e):e,i=d();t||(window.__forceSaveStates__=Zi,"function"==typeof P.onWebViewWillManuallyTerminate&&P.onWebViewWillManuallyTerminate(Zi));var a,[o,s,c,u]=n,p=ks.get(r);t||(p.rootCompName=c);for(var h=0;h<o.length;h++){var f=o[h];f.options.hasObservers&&(f.observers={"**"(){}}),f.options=Pa,Ia.registerBehavior(f)}"skyline"===i?((a=__webviewEngine__.getStyleSheetManager(r)).preventUpdate(),a.setStyleSheet("app",Ia.getStyleScopeId(""),2)):"webview"===i&&(a=window.__styleSheetManager2__).preventUpdate();for(var g=function(){var e=s[v],r=Mi(e.is);r.startsWith("plugin-private://")&&!p.compManager.__injectedComponents.has(r)&&p.compManager.__injectedComponents.add(r);var n=e.is===c&&!t;"scl"===i&&t&&(n=!0);var{disableAppWxss:o,classPrefix:u}=Wo(e,n);o&&e.is===c&&!t&&("webview"===i?__webviewEngine__.disableStyleElement("app.wxss"):"skyline"===i&&a.disableStyleSheet("app"));var d=e.is+".wxss",h="undefined"==typeof __wxAppCode__?null:__wxAppCode__[d];if("skyline"===i){h&&!a.usePreCompiled&&h("",{allowIllegalSelector:!0});var f=0;"function"==typeof Ia.getStyleScopeId&&(f=Ia.getStyleScopeId(u));var g=e.is===c?1:0;a.setStyleSheet(r,f,g)}else"scl"===i?l.loadStyleBincode(`${r}.fpcssb`):"webview"===i&&(o&&e.is===c&&!t&&__webviewEngine__.disableStyleElement("app.wxss"),h&&((e.is!==c||t)&&h(u&&u+"--",{allowIllegalSelector:!0}),Qn(d,(e=>{e?e(u&&u+"--",{allowIllegalSelector:!0}):window.__styleSheetManager__.setCss("./"+d,""),P.triggerPageReRender()}))))},v=0;v<s.length;v++)g();for(var m in Qn("app.wxss",(e=>{e?e("",{allowIllegalSelector:!0}):window.__styleSheetManager__.setCss("./app.wxss",""),P.triggerPageReRender()})),"webview"!==i&&"skyline"!==i||(a.allowUpdate(),a.requestUpdate()),u)ja.call(Ia.Component._list,u[m])&&(Ia.Component._list[m]=Ia.Component._list[u[m]])};Ie(m.LOAD_COMPONENT_DEF,((e,t,r)=>{var n;v.info(`[loadComponentDef] isFirstPage=${p.isFirstPage}, isLazyLoad=${Qa()}`);var i=e[0];if("//"===(null===(n=Ia.Component._list[i])||void 0===n?void 0:n.options.domain)&&Ya(i,r),Qa()&&("webview"!==d()||!p.isFirstPage)){var a=ks.get(r).compManager;a.setInitialSubPackage(i),ka(r,(()=>{a.injectComponentsRecursively([i],(()=>{xo[r].on("inject",(()=>{Za(i),Ya(i,r)}))}),!0)}))}}));var qo={},zo={},Go={};Ie(m.COMPONENT_DEF,((e,t,r)=>{qo[r]?Vo(e,!1,r):zo[r].push(e),ks.get(r).compManager.setInitialSubPackage(e[2])})),Ie(m.COMPONENT_DEF_TAB,((e,t,r)=>{qo[r]?"webview"!==d()||"scl"===d()?Vo(e,!0,r):xo[r].on("inject",(()=>{Vo(e,!0,r)})):Go[r].push(e)}));var Ho=e=>{qo[e]=!0,"webview"===d()&&es(e),zo[e].forEach((t=>{Vo(t,!1,e)})),zo[e]=[],Go[e].forEach((t=>{xo[e].on("inject",(()=>{Vo(t,!0,e)}))})),Go[e]=[]},Ko=(e,t,r,n,i)=>{w.traceBeginEvent("Framework","doDataThreadInitCreation");var a=[[],[],r=Ri(r),oa],o=Object.create(null);io(a,r,o,"",t);var s=ro(r);J(s).forEach((e=>{io(a,e,o,"",t)})),v.info(`[doDataThreadInitCreation] sending component def to view, viewId=${e}, rootCompName=${r}`),Zn(e),ve(m.COMPONENT_DEF,a,e),(e=>{Ge&&ve(m.BANNING_MAP,[Ge],e)})(e),t.rootCompName=r,t.rootNodeId=Q(),v.info(`[OperationFlow] creating root component on data thread, use different shadowRoot=${void 0!==n}, viewId=${e}`),t.operationFlow.start(),t.operationFlow.push([m.FLOW_INITIAL_CREATION,r,t.rootNodeId,s]);var l=void 0===n?Ia.Component.createWithGenerics("body",Ia.Component._list[r],s,t):n.createComponent("body",Ia.Component._list[r],i,t);return cn(l,t),t.root=l,t.usedDef="skyline"===be(e)?Y(a):a,Ia.Element.getMethodCaller(l).__wxExparserNodeId__=t.nodeId.allocNodeId(l,t.rootNodeId),t.operationFlow.push([m.FLOW_INITIAL_CREATION]),t.nodeId.addNode(l),w.traceEndEvent(),v.info(`[OperationFlow] create root component on data thread ok, viewId=${e}`),l};Ie(m.UPDATE_COMPONENT_DEF,((e,t,r)=>{var[n]=e,i=ks.get(r);Ia.Component._list[n.is]&&Wo(n,i.rootCompName===n.is)}));var Qo=(t,r)=>{we(m.WX_EVENT,(n=>{var i=n[2],a=n[1],o=r.nodeId.getNodeById(n[0]);if(o){var s=Ia.Element.getMethodCaller(o),l=i._userTap;if(i._requireActive&&!L.isFramesetMode()){if(!(e=>{var t=L.getCurrentPagesByDomain("");return t[t.length-1].__wxWebviewId__===e||e===C})(t))return;delete i._requireActive}if(i._relatedInfo&&(L.DisplayReporter.setEventRelatedInfo(i._relatedInfo),delete i._relatedInfo),"function"!=typeof s[a])console.warn('Component "'+o.is+'" does not have a method "'+a+'" to handle event "'+i.type+'".');else if(l)On((()=>{var t=e.startTraceHandler(i);w.setWxInterfaceIsInvokeInTap(i.type),Ia.safeCallback("Event Handler",s[a],s,[i],o),w.unsetWxInterfaceIsInvokeInTap(),e.endTraceHandler(t)}));else{var c=e.startTraceHandler(i);Ia.safeCallback("Event Handler",s[a],s,[i],o),e.endTraceHandler(c)}}}),t),we(m.MODEL_VALUE_CHANGE,((e,t,r)=>{var{data:n,modelValueName:i,nodeId:a}=e[0];Ka(n,i,r,a)}),t)},Jo=(e,t)=>{t.listenerInited||(t.listenerInited=!0,Qo(e,t),we(m.REQUEST_SAVE,(([t])=>{na(e,t)}),e),we(m.CALL_METHOD_FROM_WXS,(t=>{(([e,t,r,n],i)=>{if(r||(r={}),e){var a=ks.get(i);if(!a)return;var o=a.nodeId.getNodeById(e);if(!o)return;var s=Mn.Element.getMethodCaller(o);s&&"function"==typeof s[t]&&(n?On((()=>{s[t](r)})):s[t](r))}else{var l=L.getCurrentPagesByDomain("");if(!l.length)return;var c=l[l.length-1];c&&"function"==typeof c[t]&&(n?On((()=>{c[t](r)})):c[t](r))}})(t,e)}),e),function(e,t){we(m.ANIMATION_TRANSITION_END,(e=>{if(e&&e[0]&&e[0].reqId){var r=t.applyAnimationCbMap[e[0].reqId];"function"==typeof r&&(delete t.applyAnimationCbMap[e[0].reqId],ya.safeCallback("Animation",r,null,[]));var n=JSON.parse(e[0].args);t.operationFlow.push([m.FLOW_SET_NODE_NEXT_ANIMATION_INFO,n])}}),e),we(m.CLEAR_ANIMATION_COMPLETE,(e=>{if(e&&e[0]&&e[0].reqId){var r=t.clearAnimationCbMap[e[0].reqId];"function"==typeof r&&(delete t.clearAnimationCbMap[e[0].reqId],ya.safeCallback("Clear Animation",r,null,[]))}}),e)}(e,t),function(e,t){we(m.APPLY_NODE_ANIMATED_STYLE_END,(e=>{if(e&&e[0]&&e[0].reqId){var r=e[0].styleId,n=t.animatedStyleCbMap[e[0].reqId];"function"==typeof n&&(delete t.animatedStyleCbMap[e[0].reqId],Sa.safeCallback("AnimaedStyle",n,null,[{styleId:r}]))}}),e),we(m.CLEAR_NODE_ANIMATED_STYLE_END,(e=>{if(e&&e[0]&&e[0].reqId){var r=t.animatedStyleCbMap[e[0].reqId];"function"==typeof r&&(delete t.animatedStyleCbMap[e[0].reqId],Sa.safeCallback("Clear AnimaedStyle",r,null,[]))}}),e)}(e,t),function(e,t){we(m.RESPONSE_VIEW_INFO,(([e,r])=>{if(r){var n=t.viewInfoCbMap[r];n&&n(e)}}),e)}(e,t),((e,t)=>{we(m.UPDATE_PERFORMANCE_STAT,(r=>{var[n,i]=r,a=t.nodeId.getNodeById(n);if(a&&a.__updatePerformanceListener__){var o=fi.Element.getMethodCaller(a);fi.safeCallback("Update Performance Listener",a.__updatePerformanceListener__,o,[i],a)}a&&"function"==typeof bi&&bi(i,a,e)}),e)})(e,t),we(m.REQUEST_WORKLET_METHOD,((e,t,r)=>{var n,i,{methodName:a,nodeId:o,reqId:s}=e[0],l=e=>ve(m.RESPONSE_WORKLET_METHOD,{reqId:s,workletId:e},r),c=ks.get(r).nodeId.getNodeById(o),u=null!==(n=null==wo||null===(i=wo[c.is])||void 0===i?void 0:i[a])&&void 0!==n?n:null;if("function"==typeof u){var d=Ia.Element.getMethodCaller(c),p=u.call(d);if("function"==typeof p)return void l(w.workletSDK.registerJsValue(p))}l(null)}),e))},Xo=(e,t)=>{var r=Ri(e.rootCompName),n=Q();e.operationFlow.start(),e.operationFlow.push([m.FLOW_INITIAL_RENDERING_CACHE,r,n]);var i=Ia.createElement("initial-rendering-cache",Ia.Component._list[r],e);return Ia.Element.getMethodCaller(i).__wxExparserNodeId__=e.nodeId.allocNodeId(i,n),e.operationFlow.push([m.FLOW_INITIAL_RENDERING_CACHE]),e.nodeId.addNode(i),i.setData(t),e.operationFlow.push([m.FLOW_INITIAL_RENDERING_CACHE,t]),e.operationFlow.end(),e.nodeId.removeNode(i),i},Yo=e=>{e.operationFlow.start(),e.operationFlow.push([m.FLOW_INITIAL_RENDERING_CACHE,"",null]),e.operationFlow.end()},Zo={},es=(e,t=!1)=>{void 0!==__wxAppCode__[A+".wxml"]?Zo[e]||(Zo[e]=!0,v.info(`[CustomTabBar] sendTabBarCreationRequest pageId=${e}`),ve(m.REQUEST_TAB,[t],e)):v.info(`[CustomTabBar] no ${A} def, ignore requestTab`)};Ie(m.DESTROY_TAB,((e,t,r)=>{v.info(`[CustomTabBar] destroyTabBar pageId=${r}`),ks.get(r).tabDestroyed=!0,W()})),Ie(m.HIDE_TAB,((e,t,r)=>{v.info(`[CustomTabBar] hideTabBar pageId=${r}`),W()})),Ie(m.SHOW_TAB,((e,t,r)=>{v.info(`[CustomTabBar] showTabBar pageId=${r}`),ks.get(r).tabDestroyed=!1,F()}));var ts={},rs=e=>new Promise((t=>{ts[e]=t})),ns=(e,t)=>{var r=(()=>{var e,t,r=B();return ss(A)||(r=!1),"singlePage"===(null===(e=p)||void 0===e||null===(t=e.appLaunchInfo)||void 0===t?void 0:t.mode)&&(r=!1),r})(),n=ls[e];if("string"==typeof n&&Fi(n))v.info(`[CustomTabBar] "${n}" is in independent subPackage, ignore`);else{var i=M(n),a=be(e)||"webview";if("scl"!==i&&a!==i&&(i=a),v.info(`[checkAndExecuteTabbarCreation] viewId=${e}, isGeneratorFunctionReady=${t}, needRenderCustomTabBar=${r}, renderer=${i}`),r&&("scl"!==i||t)){var o=ks.get(e)||ks.create(e);Jo(e,o),o.tabRoot||o.tabDestroyed||(o.compManager.injectComponentsRecursively([A]),((e,t,r,n)=>{if(v.info(`doDataThreadTabbarCreation viewId: ${e}, tabCompName: ${r}, renderer: ${n}`),"webview"!==n){var i,a,o=E();if("skyline"===n)i=C;else{if("scl"!==n)throw Error(`[CustomTabBar] renderer: ${n} not support`);i=I}var s=o.has(i);if(s)a=o.get(i).tm,o.add(e,n,a),t.tabCompName=a.tabCompName,t.tabNodeId=a.tabNodeId,t.tabRoot=a.tabRoot,t.tabUsedDef=a.tabUsedDef;else{_e(i,n);var l=[[],[],r=Ri(r),{}];a=ks.create(i),io(l,r,Object.create(null),"",a),Jo(i,a),ve(m.COMPONENT_DEF_TAB,l,i);var c=Q();t.tabCompName=a.tabCompName=r,t.tabNodeId=a.tabNodeId=c,o.add(i,n,a),o.add(e,n,a),a.operationFlow.start(),a.operationFlow.push([m.FLOW_CREATE_TAB,r,c]);var u=Ia.createElement("tab-bar",Ia.Component._list[r],a);t.tabRoot=a.tabRoot=u,t.tabUsedDef=a.tabUsedDef=l,Ia.Element.getMethodCaller(u).__wxExparserNodeId__=a.nodeId.allocNodeId(u,a.tabNodeId),a.operationFlow.push([m.FLOW_CREATE_TAB]),a.nodeId.addNode(u),Ia.Element.pretendAttached(u)}t.nodeId.addNode(t.tabRoot),!s&&a.operationFlow.end(),"function"==typeof ts[e]&&ts[e]()}else{E().add(e,n,t);var d=[[],[],r=Ri(r),{}];io(d,r,Object.create(null),"",t),ve(m.COMPONENT_DEF_TAB,d,e),t.tabCompName=r,t.tabNodeId=Q(),t.operationFlow.start(),t.operationFlow.push([m.FLOW_CREATE_TAB,r,t.tabNodeId]);var p=Ia.createElement("tab-bar",Ia.Component._list[r],t);t.tabRoot=p,t.tabUsedDef=d,Ia.Element.getMethodCaller(p).__wxExparserNodeId__=t.nodeId.allocNodeId(p,t.tabNodeId),t.operationFlow.push([m.FLOW_CREATE_TAB]),t.nodeId.addNode(p),Ia.Element.pretendAttached(t.tabRoot),t.operationFlow.end()}})(e,o,A,i),t&&ve(m.FLUSH_BLOCKED,[],"skyline"===i?C:"scl"===i?I:e),o.rootCompName&&$(o,o.rootCompName,e))}}},is=!1,as=[],os=[];p.onReady((()=>{os.forEach((e=>{"skyline"!==be(e)&&ns(e,!0)})),os=null})),we(m.REQUEST_TAB,((e,t,r)=>{e[0]&&hs(r,!0),"scl"!==M(ls[r])||is?"skyline"===be(r)?ns(r,!0):null!==os?os.push(r):ns(r,!0):as.push(r)}),"$GLOBAL"),we(m.SCL_CONTEXT_READY,((e,t,r)=>{is=!0,as.forEach((e=>{ns(e,!0)}))}),I),Ie(m.FLUSH_BLOCKED,((e,t,r)=>{v.info(`[flushBlocked] pageId=${r}`),ks.get(r).operationFlow.flushBlocked()}));var ss=e=>(e=Ri(e),ja.call(oa,e)&&(e=oa[e]),Ma[e]),ls={},cs=(e,t)=>{ls[e]=t},us=(e,t,r,n,i)=>{v.info(`[addView] viewId=${e}, rootCompPath=${t}`),w.traceBeginEvent("Framework","addView"),cs(e,t);var a=ks.get(e)||ks.create(e);a.lifetimeListener=r,a.operationFlow.unblock();try{"webview"===be(e)&&ns(e,!1)}catch(e){T.thirdErrorReport({error:e})}a.compManager.setInitialSubPackage(t),$(a,t,e),(e=>{"function"==typeof bi&&e.operationFlow.push([m.ENABLE_GLOBAL_UPDATE_PERFORMANCE_STAT,wi])})(a),Jo(e,a),t=Ri(t);var o=(p.subPackages||[]).filter((e=>!!e.allExtendedComponents));ve(m.LOAD_COMPONENT_DEF,[t,o],e),a.compManager.injectComponentsRecursively([t],null,!0,!0),ss(t)||(v.error(`[addView] viewId=${e} rootCompPath=${t} not found`),t="wx://not-found");var s=Ko(e,a,t,n,i);return w.traceEndEvent(),s},ds=(e,t,r=!0)=>{v.info(`[attachView] viewId=${e}`);var n=ks.get(e);if(n){var i=n.root,a=!1,o={};0===i.is.indexOf("wx://inner-page")?(o=t,a=!0):Object.keys(t).forEach((e=>{Ia.Component.hasProperty(i,e)&&(o[e]=t[e],a=!0)})),a&&n.root.setData(o),Jn()&&(n.initialRootData=t),r&&Ia.Element.pretendAttached(i),n.root.__treeManager__.operationFlow.end()}},ps=(e,t=!0)=>{v.info(`[removeView] viewId=${e}`);var r=ks.get(e);r&&(t&&Ia.Element.pretendDetached(r.root),ks.destroy(e),Se(e),pe.add(e),w.workletSDK.removeRouteContext(e),r.operationFlow.sendInIndividualFlow([m.FLOW_DESTROY_PAGE]))},hs=(e,t=!1)=>{var r=E();if(t&&(r.remove(e),r.remove(C),os=null),r.has(e)){var n=r.getRenderType(e);r.remove(e),"skyline"===n&&r.remove(C),os=null}},fs=e=>{var t=ks.get(e);if(!t)return!1;var r=t.root;return!!r&&Ia.Element.isAttached(r)},gs=new WeakMap,vs={onNegotiation:(e,t,r)=>{var n=r||__wxAppCode__,i=co(e);if(!i.__isXrFrame__)throw new Error("component is not a xr-frame component");var a=(e=>{for(var t=e;;){var r=t.ownerShadowRoot;if(!r)break;if(!(r instanceof Ia.ShadowRoot))return null;var n=r.getHostNode();if(!n)return null;t=n}return t})(i);if("skyline"!==be(a.__treeManager__.viewId))throw new Error("component is not in a skyline page");if(!0!==(n[i.is+".json"]||{}).xrFrameTouchEventBubble)throw new Error('component should set "xrFrameTouchEventBubble" to true in configuration');gs.set(i,t)},negotiate:(e,t,r)=>{var n=gs.get(e);"function"==typeof n?n(t,r):r(!0,!0)}},ms=!1,ys=Object.prototype.hasOwnProperty,_s=()=>"devtools"===p.platform||"devtool"===p.serviceRuntime,bs=()=>"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__,ws=!0;class Ss{constructor(e,t){this.__viewId=e,this.__treeManager=t,this.__loadedSubPackage=new Set,this.__injectedSubPackage=new Set,this.__logPrefix=`[CompMgr] [data] $[${this.__viewId}]`,this.__log=e=>{v.info(`${this.__logPrefix} ${e}`)},this.__ensureComponentNotifier={},this.__placeholderReplacement=null,this.__pendingReplacement=new Map,this.__injectedComponents=new Set([]),this.__restoreInjectNotifier=null}getRestoredData(){return[Array.from(this.__loadedSubPackage),Array.from(this.__injectedSubPackage),Object.fromEntries(Ss.__classPrefixMap),Array.from(this.__injectedComponents),this.__treeManager.rootCompName]}getRestoreInjectNotifier(){return this.__restoreInjectNotifier||(this.__restoreInjectNotifier=Z(["inject"])),this.__restoreInjectNotifier}restore(e){var[t,r,n,i,a]=e,o=()=>{Za(a),Ya(a),this.getRestoreInjectNotifier().notify("inject")};this.setSubPackageLoaded(t),this.batchInjectSubPackages(r,(()=>{Qa()?this.batchInjectComponents(i,o):o()})),Ss.__usedClassPrefix=new Set(Object.values(n)),Ss.__classPrefixMap=new Map(Object.entries(n))}onRestoreInjectDone(e){this.getRestoreInjectNotifier().on("inject",e)}recurseUsingComponents(e){if(!Qa())return e;var t=__wxAppCode__,r="undefined"!=typeof __WXML_DEP__&&__WXML_DEP__||{},n=new Set,i=new Set,a=e=>{if(!n.has(e)){if(n.add(e),ys.call(t,e+".json")){i.add(e);var o=Ua(e,t),s=qa(e,t),l=za(e,t);for(var c of Object.keys(o))ys.call(l,c)?ys.call(o,l[c])&&a(o[l[c]]):a(o[c]);for(var u of Object.keys(s)){var d=s[u];"string"==typeof d.default&&a(d.default)}}(r["./"+e+".wxml"]||[]).forEach((e=>{var t=e.substr(2,e.length-7);a(t)}))}};e.forEach((e=>{a(e);var t=ro(Ri(e));J(t).forEach((e=>{i.add(e)}))}));var o=Array.from(i);return this.__log(`recurseUsingComponents(${JSON.stringify(e)}) => [${o.length} components]`),o}batchLoadSubPackages(e,t){this.__log("loadSubPackages begin: "+e.join(", "));var r=!0;setTimeout((()=>{r&&De({type:"subpackage",errMsg:"loadSubpackage: timeout",subpackage:e})}),Oe);var n=0;Promise.all(e.map((e=>new Promise((t=>{((e,t)=>{var r=Date.now();w.loadSubpackage({name:e,success(){var n=Date.now();t({cost:n-r,res:"ok",pkg:e}),v.info(`[VD] loadSubPackage ${e} success, cost ${n-r}`)},fail(){var n=Date.now();t({cost:n-r,res:"fail",pkg:e}),v.info(`[VD] loadSubPackage ${e} fail, cost ${n-r}`)},complete(t){v.info("[VD] loadSubpackage "+e+": ",t)}})})(e,t)}))))).then((i=>{r=!1;var a=[];i.forEach((e=>{var{res:t,pkg:r,cost:i}=e;"fail"===t?De({type:"subpackage",subpackage:[r],errMsg:"loadSubpackage: fail"}):a.push(r),n+=i})),this.__log(`loadSubPackages end: ${e.join(", ")}, cost: ${n}`),this.setSubPackageLoaded(a),this.__treeManager.operationFlow.sendInIndividualFlow([m.FLOW_SET_SUBPACKAGE_LOADED,a]),t(a)}))}setSubPackageLoaded(e){this.__log("setSubPackageLoaded: "+e.join(", ")),e.forEach((e=>{this.__loadedSubPackage.add(e)}))}batchInjectSubPackages(e,t){this.__log("injectSubPackages: "+e.join(", "));var r=e.filter((e=>!this.__injectedSubPackage.has(e))).map((e=>"__APP__"===e||"/"===e.slice(-1)?e:e+"/"));if(_s()){Te(r),this.setSubPackageInjected(r)}else{var n=[];r.forEach((e=>{n.push(...Hi(e,(t=>{this.__log(`getEntryFile ${e}: ${t}`)})))})),Ee(n),this.setSubPackageInjected(r)}}batchInjectComponents(e,t,r=!1){if(!Qa())return-1;var n=e.map((e=>Mi(e))).filter((e=>!this.__injectedComponents.has(e))).filter((e=>!e.includes("://")));this.__log(`injectComponents: [${n.length} components]`);var i=(()=>{if(_s())return xe(n);var e=[];if(bs()){var t=new Set(n.map((e=>__LAZY_CODE_LOADING_CHUNK_MAP__[e]||e)));Array.from(t).forEach((t=>{e.push(`${t}.common.js`,`${t}.appservice.js`)}))}else n.forEach((t=>{e.push(`${t}.common.js`,`${t}.appservice.js`)}));var{res:i,cost:a}=Ee(e,{isPageInitialScript:r});return"failed"===i&&De({type:"components",components:n,errMsg:"loadComponents: fail"}),a})();return n.forEach((e=>{this.__injectedComponents.add(e)})),i}setSubPackageInjected(e){this.__log("setSubPackageInjected: "+e.join(", ")),e.forEach((e=>{"__APP__"!==e&&0!==e.indexOf("/")&&(e=`/${e}`),Gi(e,(e=>{Object.keys(e).forEach((t=>{var r=(e=>{var t=e.provider,r=wa.Component._list;return Object.keys(r).filter((e=>0===e.indexOf(`plugin-private://${t}/`)))})(e[t]);r.forEach((e=>{var t=Mi(e);this.__injectedComponents.add(t)}))}))}))})),e.forEach((e=>{this.__injectedSubPackage.add(e)}))}setInitialSubPackage(e){var t=[$i(e)];Fi(e)||t.includes("__APP__")||t.push("__APP__"),this.setSubPackageLoaded(t),this.setSubPackageInjected(t),(()=>{if(!ms){ms=!0;var e="disabled";p.isLazyLoad&&(e="undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__?"requiredComponentChunks":"requiredComponents"),v.info(`LazyCodeLoading: ${e}`)}})()}shouldUsePlaceholder(e){var t=Mi(e),r=$i(t),n=this.__loadedSubPackage.has(r);return Qa()&&(n=n&&this.__injectedComponents.has(t)),!n}doLazyLoadReport(e,t){var r=bn(),n=ws;ws=!1;var i=Object.keys(__wxAppCode__).filter((e=>e.endsWith(".json"))).length;r.set("isFirstPage",n),r.set("totalComps",i),r.set("loadedComps",e),r.set("loadTime",t)}injectComponentsRecursively(e,t,r=!1,n=!1){if(Qa()){var i=this.recurseUsingComponents(e),a=this.batchInjectComponents(i,(e=>{0}),n);r&&this.doLazyLoadReport(i.length,a)}}ensureComponents(e,t,r){var n,i=e.map((e=>$i(e)));n=i,(i=Array.from(new Set(n))).some((e=>!Fi(e)))&&!i.includes("__APP__")&&i.unshift("__APP__"),i=i.filter((e=>!this.__loadedSubPackage.has(e))),this.batchLoadSubPackages(i,(n=>{this.__treeManager.operationFlow.sendInIndividualFlow([m.FLOW_INJECT_SUBPACKAGE,t,n]),Qa()&&this.__treeManager.operationFlow.sendInIndividualFlow([m.FLOW_INJECT_COMPONENT,t,e]),this.batchInjectSubPackages(n),this.injectComponentsRecursively(e),r()}))}pendPlaceholderReplacement(e){var t=this.getPlaceholderReplaceData();this.finishPlaceholderReplacement(),this.__pendingReplacement.set(e,t),this.__log(`set [${e}] as pending placeholder replacements (${t.replacers.length} replacers)`)}getAndClearPendingPlaceholderReplacement(e){var t=this.__pendingReplacement.get(e);return this.__pendingReplacement.delete(e),t}getEnsureComponentsNotifier(e){if(!this.__ensureComponentNotifier[e]){var t=["inject","def"];Qa()&&t.push("inject-common"),this.__ensureComponentNotifier[e]=Z(t)}return this.__ensureComponentNotifier[e]}destructEnsureComponentsNotifier(e){this.__ensureComponentNotifier[e]&&delete this.__ensureComponentNotifier[e]}injectSubPackageOnReady(e,t){this.batchInjectSubPackages(t,(()=>{var t=Qa()?"inject-common":"inject";this.getEnsureComponentsNotifier(e).notify(t)}))}injectComponentsOnReady(e,t){Qa()&&this.getEnsureComponentsNotifier(e).on("inject-common",(()=>{this.injectComponentsRecursively(t,(()=>{this.getEnsureComponentsNotifier(e).notify("inject")}))}))}appendComponentDef(e,t){this.getEnsureComponentsNotifier(e).on("inject",(()=>{Vo(t,!1,this.__viewId),this.getEnsureComponentsNotifier(e).notify("def")}))}waitComponentEnsuring(e,t){this.getEnsureComponentsNotifier(e).on("def",(()=>{t((()=>{this.destructEnsureComponentsNotifier(e)}))}))}doPlaceholderReplace(){var e=Q(),t=this.__treeManager,r=this.getPlaceholderReplaceData();this.finishPlaceholderReplacement();var n=Array.from(r.compNames);this.__treeManager.operationFlow.sendInIndividualFlow([m.FLOW_PEND_PLACEHOLDER_REPLACEMENT,e]),this.__log(`doPlaceholderReplace(${e}) for ${r.replacers.length} placeholder replacements`),this.ensureComponents(n,e,(()=>{eo(t,t.rootCompName,r,e)}))}arrangePlaceholderReplace(e,t){null===this.__placeholderReplacement?this.__placeholderReplacement={compNames:new Set,replacers:[]}:clearTimeout(this.__placeholderReplacement.timer),this.__placeholderReplacement.compNames.add(e),this.__placeholderReplacement.replacers.push(t),this.__placeholderReplacement.timer=setTimeout((()=>{this.doPlaceholderReplace()}),50)}getPlaceholderReplaceData(){return this.__placeholderReplacement}finishPlaceholderReplacement(){this.__placeholderReplacement=null}static getComponentClassPrefix(e){if(Ss.__classPrefixMap.has(e))return Ss.__classPrefixMap.get(e);var t=e.split(/[^a-z0-9]+/i),r="",n=0,i=0;do{n<t.length?n+=1:i+=1,r=t.slice(-n).join("-"),i>0&&(r+="-"+i),Number(r[0])>=0&&(r="x-"+r)}while(Ss.__usedClassPrefix.has(r));return Ss.__classPrefixMap.set(e,r),Ss.__usedClassPrefix.add(r),r}}Ss.__classPrefixMap=new Map,Ss.__usedClassPrefix=new Set;var Cs={[m.FLOW_PEND_PLACEHOLDER_REPLACEMENT](e,t){var r=t[0];e.pendPlaceholderReplacement(r)},[m.FLOW_COMPONENT_DEF_ADD](e,t){var r=t[0],n=t[1];e.appendComponentDef(r,n)},[m.FLOW_INJECT_SUBPACKAGE](e,t){var r=t[0],n=t[1];e.injectSubPackageOnReady(r,n)},[m.FLOW_INJECT_COMPONENT](e,t){var r=t[0],n=t[1];e.injectComponentsOnReady(r,n)},[m.FLOW_SET_SUBPACKAGE_LOADED](e,t){var r=t[0];e.setSubPackageLoaded(r)},[m.FLOW_WAIT_COMPONENT](e,t){var r=t[0];e.__treeManager.operationFlow.block(),e.waitComponentEnsuring(r,(t=>{e.__treeManager.operationFlow.unblock(),t()}))}},Is=Object.create(null);class As{constructor(e){this.viewId=e,this.listenerInited=!1,this.root=null,this.tabRoot=null,this.tabDestroyed=!1,this.usedDef=null,this.tabUsedDef=null,this.statesData=null,this.operationFlow=new en(e,this),this.nodeId=new Be,this.compManager=new Ss(e,this),this.rootNodeId="",this.tabNodeId="",this.rootCompName="",this.tabCompName="",this.applyAnimationCbMap={},this.clearAnimationCbMap={},this.animatedStyleCbMap={},this.viewInfoCbMap={},this.initialRootData=null,this.lifetimeListener=null}static create(e){var t=new As(e);return Is[e]=t,t}static destroy(e){delete Is[e]}static get(e){return Is[e]}static listViewId(){var e=[];for(var t of Object.keys(Is))e.push(Is[t].viewId);return e}static list(){var e=[];for(var t of Object.keys(Is))e.push(Is[t]);return e}static getByNode(e){return e.__treeManager__}}const ks=As;var Es=function(e,t){if(null==t){for(var r=ks.list(),n=0;n<r.length;++n)if(void 0!==r[n].nodeId.getNodeById(e))return r[n].nodeId.getNodeById(e);return null}var i=ks.get(t);return i?i.nodeId.getNodeById(e):null},Ts=function(e,t){var r=void 0!==t?ks.get(t):ks.getByNode(e);return r?r.nodeId.getNodeId(e):""},Ps=function(e){var t=ks.get(e);return t?t.root:""},xs=function(e){var t=ks.get(e);return t?t.rootNodeId:""},Os=function(e){var t=ks.get(e);return t?t.rootCompName:""},Rs=function(e){var t=ks.getByNode(e);return t?t.viewId:0};we(m.XR_FRAME_CANVAS_CREATED,function(){var e=Fe()((function*(e,t,r){var n=ks.get(r),i=e[0],a=Date.now(),o=yield w.xrFrame.getCanvasContext(i),s=n.nodeId.getNodeById(e[1]).__xrFrameId__;w.xrFrame.assignCanvasNodeIdToXrFrame(i.nodeId,s),v.info(`[xrFrameCreated] service get xrFrame canvasNodeId=${i.nodeId}, pageId=${r}, xrFrameId=${s}`),ve(m.XR_FRAME_CANVAS_READY,[o,a],s)}));return function(t,r,n){return e.apply(this,arguments)}}(),"$GLOBAL");var Ms=function(){Hn=!0},Ds=function(e,t){var r=Gn[e];if(r)return Kn[e]=t,r(t)},Ns=s(),Ls=e=>e;Ns.addGlobalErrorListener(((t,r)=>{var n=e.getCurrentEventInfo();n&&(n.callErr=t);var i=r.element&&r.element instanceof fo?r.element:null,a=i?to(i):"";return T.thirdErrorReport({source:a,error:t,extend:r.message.replace(/^\[exparser\] \[(error|warning)\] /i,"")}),!1})),Ns.addGlobalWarningListener((e=>{console.warn(e.replace(/^\[exparser\] \[(error|warning)\] /i,""))})),Ns.globalOptions.createFakeDomElement=!1,Ns.globalOptions.inDocument=!1,Ns.globalOptions.documentBackend="none",Ns.updateDefaultComponent(),g.registerBehavior({is:"wx://form-field",properties:{name:{type:String,public:!0},value:{type:null,public:!0}}}),g.registerBehavior({is:"wx://form-field-group"}),g.registerBehavior({is:"wx://form-field-button"}),g.registerBehavior({is:"wx://style-filter"}),g.registerBehavior({is:"wx://request-filter"}),g.registerBehavior({is:"wx://request-sender"}),g.registerBehavior({is:"wx://proxy-swiper"}),g.registerBehavior({is:"wx://proxy-swiper-item"}),g.registerBehavior({is:"wx://proxy-scroll-view"}),g.registerBehavior({is:"wx://component-export",definitionFilter(e){"function"==typeof e.export&&("object"==typeof e.methods?e.methods.__export__=e.export:e.methods={__export__:e.export})}}),(()=>{var e={domain:"//",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1};["not-found","functional-page"].forEach((t=>{yo({options:e,properties:{}},"//",{[`wx://${t}.json`]:{usingComponents:{}}},`wx://${t}.js`)}))})(),N=r})(),w.setVirtualDOM(N),(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};t.r(n),t.d(n,{App:()=>yt,Behavior:()=>zr,Component:()=>qr,DisplayReporter:()=>G,Page:()=>Vr,__createPluginGlobal:()=>Ur,__getCreatePluginGlobal:()=>jr,__setCreatePluginGlobal:()=>Wr,convertComponentAliasToRoute:()=>Dr,createMainCodeSpace:()=>Gr,getApp:()=>_t,getComponentFramework:()=>kt,getCurrentPage:()=>ue,getCurrentPages:()=>We,getCurrentPagesByDomain:()=>je,getCurrentRoute:()=>Zt,getGlobalWebviewIds:()=>Ue,getPageByWebviewId:()=>Ve,getPageMetaByWebviewId:()=>$e,getPageTypeById:()=>Le,getPipPage:()=>Ae,hasPageRoute:()=>Fe,isFramesetMode:()=>Ce,openNewXrFrame:()=>Cr,setComponentFramework:()=>At,setPageTypeById:()=>Ne,setPrivateExtraData:()=>wt,showShareTimelineMenuIfNeeded:()=>ae});var i=()=>{},o=e=>Object.prototype.toString.call(e).split(" ")[1].split("]")[0],s=e=>"Promise"===o(e),c=Object.prototype.toString,u=e=>"[object Object]"===c.call(e),d=(e,t)=>{console.group(`${new Date} ${e}`),console.error(t),console.groupEnd()},f=(e,t)=>{console.group(`${new Date} ${e}`),console.warn(t),console.groupEnd()},g=e=>{var t;null!==(t=p)&&void 0!==t&&t.debug&&console.info(e)},m=(e,t)=>{if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type)throw e;T.errorReport({key:"jsEnginScriptError",error:e,extend:t})}},y=(e,t)=>function(...r){try{return e.apply(e,r)}catch(e){return m(e,t),()=>{}}};class _ extends Error{constructor(e){super(`APP-SERVICE-Engine:${e}`),this.type="AppServiceEngineKnownError"}}var b=(e,t)=>(d(e,t),new _(t));function S(e,...t){var r;T.__route__=this.__route__,T.__method__=e;try{var n=Date.now();r=this[e](...t);var i=Date.now()-n;i>1e3&&T.slowReport({key:"pageInvoke",cost:i,extend:`at ${this.__route__} page ${e} function`})}catch(t){var a=N.getOwnerPluginAppId(this);T.thirdErrorReport({source:a,error:t,extend:`at ${this.__route__} page ${e} function`})}return T.__route__=T.__method__="",r}var C=Object.assign,I=Object.prototype.hasOwnProperty,A=()=>"devtools"===p.platform,k=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0]||"",r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t};function P(){return w}var x=[];function R(e){if(!x)return e(w);x.push(e)}function D(e,t,r,n){return function(...i){try{return w.traceBeginEvent(e,t,n),r(...i)}finally{w.traceEndEvent()}}}h.onLoad((()=>{x&&(x.forEach((e=>e(w))),x=null)}));var B={},$=!0,F=null,j={},W={},U=null,V=null,q=null;function z(e={}){var t=e.clickTimestamp;t&&((t=(t=parseInt(t,10))<1e12?1e3*t:t)&&t>0&&(F=t),$=e.isLaunch)}class G{constructor(e,t){this.showOptions={},this.hideOptions={},this.route=e,this.pageType=t||0,this.query={},this.deferred=[],this.showTimeStamp=null,this.pageReadyTime=null,this.showReferpagepath="",this.isentrance=0,this.isInitialLoading=!0,this.startCostTime=null,this.startType=null}static setOnLaunch(e={}){z(e),(j=Object.assign(j,e)).publicLibVersion=p.SDKVersion,j.hostAppId=p.host&&p.host.appId||"",G._assignForClientOnShow(j,e)}static setOnAppShow(e={}){z(e),j=Object.assign(j,e),G._assignForClientOnShow(j,e)}static setOnAppHide(e={}){W=Object.assign(W,e)}static setEventRelatedInfo(e){U=e}static _assignForClientOnShow(e,t){e.shortLink=t.shortLink||"",e.scene_note=t.scene_note||t.sceneNote||"",e.referpagepath=t.referpagepath||"",e.usedstate=t.usedstate||t.usedState,e.prescene=t.prescene,e.prescene_note=t.prescene_note||t.presceneNote||"",e.clickTimestamp=Date.now()}updatePageType(e){this.pageType=e||0}checkShowOptions(){var e=j,t=this.showOptions;t.scene=e.scene||0,t.scene_note=e.scene_note,t.sessionid=e.sessionid||e.sessionId,t.usedstate=e.usedstate,t.referpagepath=e.referpagepath,t.clickTimestamp=e.clickTimestamp,t.prescene=e.prescene,t.prescene_note=e.prescene_note,t.apptype=T.getAppType(),t.publicLibVersion=e.publicLibVersion,t.hostAppId=e.hostAppId||"",t.shortLink=e.shortLink||"";var r=this.query,n=[];r&&"object"==typeof r&&Object.keys(r).forEach((e=>{n.push(`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)})),t.query=n.join("&")}checkHideOptions(){var e=W,t=this.hideOptions;t.targetAction=e.targetAction||0,t.targetPagePath=e.targetPagePath||"",void 0!==e.usedstate&&(t.usedstate=e.usedstate),void 0!==e.usedState&&(t.usedstate=e.usedState)}static _getNetworkType(){var e=P()._getCurrentNetworkType()||"";return"none"===e&&(e="offline"),e}_checkDeferred(){for(var e=this.deferred;e.length;){e.pop()()}}_reportShowPage(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0),e.reportTime=Date.now();var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText,0,e.startCostTime,e.startType,e.reportTime,0,e.hostAppId,e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");T.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportRealtime(e)}_reportHidePage(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0),e.reportTime=Date.now();var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText,0,e.startCostTime,e.startType,e.reportTime,0,e.hostAppId,e.shortLink].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");T.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportRealtime(e)}_submit(){T.submit(),setTimeout((()=>{T.submit()}),100)}_reportRealtime(e){var t;if(!A()){var r="",n=2;if(p){var i=p.accountInfo,a=p.envVersion;i&&(r=i.appId||""),"release"===a?n=1:"trial"===a&&(n=3)}var o=P().getStableSystemInfo(),s={DeviceModel:o.model||"",DeviceBrand:o.brand||"",OsName:o.platform||"",OsVersion:o.system||"",LanguageVersion:o.language||"",appid:r,appversion:(null===(t=p.appLaunchInfo)||void 0===t?void 0:t.appversion)||0,appstate:n,event_id:e.event_id,scene:e.scene,scene_note:(e.scene_note||"").substr(0,1024),sessionid:e.sessionid,usedstate:e.usedstate,pagepath:e.pagepath,networktype:e.networktype,costtime:e.costtime,staytime:e.staytime,referpagepath:(e.referpagepath||"").substr(0,1024),targetAction:e.targetAction,targetPagePath:(e.targetPagePath||"").substr(0,1024),clickTimestamp:0,publicLibVersion:e.publicLibVersion,prescene:e.prescene,prescene_note:e.prescene_note,isentrance:e.isentrance,query:(e.query||"").substr(0,1024),apptype:e.apptype,pagetype:e.pagetype,anchorTargetText:e.anchorTargetText,clickTime:e.clickTimestamp,anchorTargetRelatedText:e.anchorRelatedText,orientationChangeCount:0,startCostTime:e.startCostTime,startType:e.startType,reportTime:e.reportTime};try{P().operateRealtimeData(1e3,JSON.stringify(s),!0)}catch(e){}try{P().trackWeReportSession(s)}catch(e){}}}setReadyTime(e){this.pageReadyTime=e,this._checkDeferred()}setQuery(e){this.query=e}reportShowPage(){this._checkDeferred(),this.checkShowOptions();var e=Date.now(),t=this.route,r=this.pageType,n=this.showOptions,i=n.referpagepath||"",a=n.clickTimestamp,o=0,s=0,l=0;V&&V!==t&&(i=V+".html",a=e);var c=U;U=null;var u={anchorTargetText:"",anchorRelatedText:""};this.isInitialLoading&&c&&c.anchorTapTime&&a-c.anchorTapTime<1e3&&(u.anchorTargetText=c.anchorTargetText,u.anchorRelatedText=c.anchorRelatedText),V=t,this.showTimeStamp=e,this.showReferpagepath=i,q!==n.sessionid&&(q=n.sessionid,o=1),1===o&&(s=e-F,l=$?1:2,this.startCostTime=s,this.startType=l),this.isInitialLoading=!1,this.isentrance=o;var d=Object.assign({},n,u,{event_id:1,pagepath:t+".html",networktype:G._getNetworkType(),staytime:0,referpagepath:i,targetAction:0,targetPagePath:"",isentrance:o,pagetype:r,clickTimestamp:a,startCostTime:s,startType:l});this.pageReadyTime?this._reportShowPage(d):this.deferred.push((()=>{this._reportShowPage(d)}))}reportHidePage(e,t){this._checkDeferred(),this.checkShowOptions(),this.checkHideOptions();var r=Date.now(),n=this.route,i=this.pageType,a=this.showOptions,o=this.hideOptions,s=this.showReferpagepath||"",l=this.showTimeStamp?r-this.showTimeStamp:0;this.showTimeStamp=null;var c=void 0!==o.usedstate?o.usedstate:a.usedstate,u=o.targetAction,d=o.targetPagePath,p=0,h=0;e&&(u=t?1:2,d=e+".html"),1===this.isentrance&&(p=null!==this.startCostTime?this.startCostTime:p,h=null!==this.startType?this.startType:h,this.startCostTime=null,this.startType=null);var f=Object.assign({},a,{event_id:2,pagepath:n+".html",usedstate:c,networktype:G._getNetworkType(),staytime:l,referpagepath:s,targetAction:u,targetPagePath:d,isentrance:this.isentrance||0,pagetype:i,anchorTargetText:"",anchorRelatedText:"",orientationChangeCount:this.orientationChangeCount||0,startCostTime:p,startType:h});this._reportHidePage(f)}}var K={kbone:0},Q=()=>{var e=[];try{H.getAllModules().forEach((t=>{if(t.indexOf("miniprogram-render/")>=0&&(K.kbone=1),0===t.indexOf("miniprogram_npm/")){var r=t.indexOf("/",16),n=t.substring(16,r);"@"===n[0]&&(r=t.indexOf("/",r+1),n=t.substring(16,r)),e.push(n)}}));for(var t=e.length;t>=0;t--)for(var r=0;r<t;r++)e[r]===e[t]&&e.splice(t,1)}catch(e){}var n=[0,0,0,0,0,0,0,JSON.stringify(K),e.join(";")].map(encodeURIComponent).join(",");T.reportKeyValue({key:"CustomComponent",value:n,force:!0})},J=()=>{var e=O.Component._list,t=Object.keys(e),r=["miniprogram-recycle-view","miniprogram-barrage","wxml-to-canvas","weui-miniprogram","miniprogram-navigation-bar"],n=/^miniprogram_npm\/(.+$)/,i={};t.forEach((t=>{var a=e[t].is,o=n.exec(a);if(o){var s=o[1],l=s.indexOf("/"),c=s.substring(0,l),u=s.substring(l+1);"@"===c[0]&&(l=s.indexOf("/",l+1),c=s.substring(0,l),u=s.substring(l+1)),(r.indexOf(c)>-1||/^@miniprogram-component-plus\//.test(c))&&(i[c]=i[c]||[],i[c].push(u))}})),Object.keys(i).forEach((e=>{T.reportKeyValue({key:"NpmExtendedLib",value:[e,i[e].join(";")].map(encodeURIComponent).join(","),force:!0})}))};var Y,Z={appLaunchTime:0,appFgTime:0,appRouteTime:0,newPageTime:0,pageReadyTime:0},ee={},te=e=>!!/(?:^|\/)__(wx|plugin)__\//.test(e)||!!("undefined"!=typeof __wxAppCode__&&__wxAppCode__[e+".json"]||{}).usingComponents,re=(e,t)=>e.__wxExparserNodeId__&&hasOwnProperty.call(Object.getPrototypeOf(e),t)||hasOwnProperty.call(e,t),ne=e=>{P().shareTimeline(e,{beforeAll:e=>{P().invokeInnerShareCallbacks("shareTimeline",e),P().reportNativeUiEvent("doShareTimeline",e)}})},ie=(e={},t)=>{if(null!=ee[t]){var r=ee[t],n=r.page,i={from:e.fromShareTimeLineButton?"button":"menu",target:e.target},a=re(n,"onShareTimeline")&&S.call(n,"onShareTimeline",i)||{},{title:o,query:s}=a,l={title:o||e.title,path:"string"==typeof s?`${r.route}.html?${s}`:r.rawPath.replace(/^\//,"").replace(/(\?|$)/,".html$1")};P().reportNativeUiEvent("onShareTimeline",l),"string"==typeof a.imageUrl&&a.imageUrl?(/^(http|https|wxfile|cloud):\/\//.test(a.imageUrl)?l.imageUrl=a.imageUrl:l.imageUrl=P()._getRealRoute(a.imageUrl,!1),P().getCloudFileUrl([l.imageUrl],"image",(e=>{l.imageUrl=e.data[0].url,ne(l)}))):ne(l)}},ae=e=>{if(ee[e]){var t=ee[e].page;re(t,"onShareTimeline")&&re(t,"onShareAppMessage")&&P().showShareTimelineMenu()}},oe=(e,t)=>{if(hasOwnProperty.call(ee,t)){var r=ee[t].page;re(r,"onShareTimeline")&&re(r,"onShareAppMessage")?y(ie,"onShareTimeline")({title:"",target:e?e.target:void 0,detail:e?e.detail:void 0,fromShareTimeLineButton:!0},t):f("事件警告","onShareTimeline and onShareAppMessage are both needed")}else f("事件警告",`tapShareButton WebviewId: ${t} not found`)};function se(){return 7===p.appType}var le,ce=e=>{Y=e},ue=()=>Y,de=N.convertComponentAliasToRoute;var pe=(e,t)=>{if(null!=ee[t]){var r=P();r._triggerBeforeShareAppMessage(t);var{chatroomUsername:n,scene:i}=r.getInnerEnterOptionsSync(),{openType:a}=e.detail||{},o=e.origin||"weixin",l=((e,t)=>{var r,n=e,i=ee[t],a=i.page,o=null;if(re(a,"onShareAppMessage")&&(r="onShareAppMessage"),r){g(`Invoke event ${r} in page: ${i.route}`);var l={from:e.fromShareButton?"button":"menu",target:e.target};e.webViewUrl&&(l.webViewUrl=e.webViewUrl);var c=S.call(a,r,l)||{},u=c.promise;delete c.promise,s(u)||(u=Promise.resolve(c));var d=new Promise((e=>setTimeout(e,3e3,c)));o=Promise.race([d,u]).then((t=>(n.title=t.title&&"string"==typeof t.title?t.title:e.title,n.desc=t.desc&&"string"==typeof t.desc?t.desc:e.desc,n.path=t.path&&"string"==typeof t.path?k(de(t.path)):e.path,"string"==typeof t.imageUrl&&(t.imageUrl&&!/^(http|https|wxfile|cloud):\/\//.test(t.imageUrl)?n.imageUrl=P()._getRealRoute(t.imageUrl,!1):n.imageUrl=t.imageUrl),n.toCurrentGroup=t.toCurrentGroup,t.cacheKey&&(n.cacheKey=t.cacheKey),t.webpageUrl&&(n.webpageUrl=t.webpageUrl),"wx60422b707e49ff2e"!==p.accountInfo.appId&&"wxb6d22f922f37b35a"!==p.accountInfo.appId||(t.bizSourceName&&(n.bizSourceName=t.bizSourceName),t.bizSourceIconUrl&&(n.bizSourceIconUrl=t.bizSourceIconUrl)),n.path.length>0&&"/"===n.path[0]&&(n.path=n.path.substr(1)),P().userShareMenuState.isPrivateMessage?n.disableForward=!0:n.disableForward="boolean"==typeof t.disableForward&&t.disableForward,n.success=t.success,n.cancel=t.cancel,n.fail=t.fail,n.complete=t.complete,n.thumbDataHash=t.thumbDataHash,n.signature=t.signature,n)))}else o=Promise.resolve(n);return o.then((e=>(P().hasRelievedBuyFlag(t)&&(e.hasRelievedBuyPlugin=e.path.split("?")[0]===k(i.route),e.hasRelievedBuyPlugin),e)))})(e,t);l.then((s=>{var l,c;if(1158===i&&void 0===s.toCurrentGroup&&(s.toCurrentGroup=!0),!0===e.fromShareButton){if(l="shareAppMessageDirectly",c=2,"shareToChatroom"===a&&s.toCurrentGroup){if(1156!==i||!n)return void console.warn(`shareToChatroom:fail scene ${i}, chatroomUsername ${n}`);s.chatroomUsername=n,s.bizType=1,l="shareAppMessageToSpecificContactForFakeNativeDirectly"}}else l="shareAppMessage",s.to=o,c=1;var u=r.getShareCookieString();u&&(s.messageExtraData=s.messageExtraData||{},s.messageExtraData.cookies=u),1158===i&&s.toCurrentGroup&&(l="shareAppMessageToSpecificContactDirectly",s.chatroomUsername=n);se()&&"wxfe02ecfe70800f46"!==p.accountInfo.appId&&(s.bizType=1,l="shareAppMessageForFakeNative",1156!==i&&1158!==i||!s.toCurrentGroup||(l="shareAppMessageToSpecificContactForFakeNativeDirectly")),s.useDefaultSnapshot=!0,s.webviewId=t,!A()&&r.checkAPIAvailable("share")||(s=C({},s),["success","fail","cancel","complete"].some((e=>"function"==typeof s[e]))&&r.reportRecycledAPI({name:l,strategy:1}),"shareToChatroom"!==a&&(delete s.success,delete s.fail,delete s.cancel,delete s.complete)),P().reportNativeUiEvent("onShareAppMessage",s);var d=()=>{r[l](s,{beforeAll:e=>{var t=ue();try{((e,t,r)=>{var n=e.page.__displayReporter;n.checkShowOptions();var i=n.showOptions,a=n.route+".html",o=t.errMsg,s=0,l=e.updateTitle&&e.updateTitle.trim(),c=(p.global&&p.global.window||{}).navigationBarTitleText||"",u=((p.page[a]||{}).window||{}).navigationBarTitleText||"",d=p.host&&p.host.appId||"";o.indexOf(":ok")>=0?s=1:o.indexOf(":fail")>=0?s=2:o.indexOf(":cancel")>=0&&(s=3);var h=[i.scene,i.scene_note,i.sessionid,a,l||u||c,i.apptype,s,0,i.query,r,0,"","",d].map(encodeURIComponent).join(",");T.reportKeyValue({key:"Share",value:h,force:!0}),T.submit()})(t,e,c)}catch(e){}P().reportNativeUiEvent("doShareAppMessage",e),e.errMsg=e.errMsg.replace(/shareAppMessageDirectly|shareAppMessageToSpecificContactForFakeNativeDirectly|shareAppMessageForFakeNative|shareAppMessageToSpecificContactDirectly/,"shareAppMessage"),r.invokeInnerShareCallbacks("shareAppMessage",e),void 0!==e.shareInfos&&e.shareInfos.length>0&&(e.shareTickets=e.shareInfos.filter((e=>e.shareKey&&e.shareName)).map((e=>(r.showUpdatableMessageSubscribeButton({shareKey:e.shareKey}),function(){if(!le){var e=P();le=e.ShareInfoStorage,delete e.ShareInfoStorage}return le}().set(e.shareKey,e.shareName))))),delete e.shareInfos}})};return"string"==typeof s.imageUrl?r.getCloudFileUrl([s.imageUrl],"image",(e=>{s.imageUrl=e.data[0].url,d()})):d(),null})).catch((e=>{console.warn("onShareAppMessage error ",e)}))}};function he(e,t){if(hasOwnProperty.call(ee,t)){var r=ee[t].page,n=k(r.route);Object.keys(r.options).length>0&&(n+="?"+Object.keys(r.options).map((e=>`${e}=${r.options[e]}`)).join("&")),y(pe,"onShareAppMessage")({path:n,title:"",target:e?e.target:void 0,detail:e?e.detail:void 0,fromShareButton:!0},t)}else f("事件警告",`tapShareButton WebviewId: ${t} not found`)}var fe=(e,t)=>{if(null!==ee[t]){var r=e,n="onAddToFavorites",i=ee[t],a=i.page;if(re(a,n)){g(`Invoke event ${n} in page: ${i.route}`);var o={webViewUrl:r.webViewUrl},s=S.call(a,n,o)||{};if(s.title&&"string"==typeof s.title&&(r.title=s.title),s.query&&"string"==typeof s.query){var l=r.path.split("?")[0];r.path=`${l}?${s.query}`}s.imageUrl&&"string"==typeof s.imageUrl&&(/^(https?|wxfile|cloud):\/\//.test(s.imageUrl)?r.imageUrl=s.imageUrl:r.imageUrl=P()._getRealRoute(s.imageUrl,!1)),r.disableForward=s.disableForward||!1}P().getCloudFileUrl([r.imageUrl],"image",(e=>{r.imageUrl=e.data[0].url,P().addToFavorites(r,{})}))}},ge=N.convertComponentAliasToRoute,ve=(e,t)=>{if(e=e||{},null!==ee[t]){var r=ee[t],n=r.page,i=(e=>{if(null===ee[e])return"";var t=ee[e].page,r=t.options||{},n=k(t.route);return Object.keys(r).length&&(n+="?"+Object.keys(r).map((e=>`${e}=${r[e]}`)).join("&")),n})(t),a={path:i,fromButton:!!e.fromButton};if(re(n,"onHandoff")){g(`Invoke event onHandoff in page: ${r.route}`);var o=S.call(n,"onHandoff")||{};o.path&&"string"==typeof o.path&&(a.path=k(ge(o.path)))}P().startHandoff(a)}};function me(e,t){if(P()._setWxIsInvokeInTapForNavToMiniProgram(),hasOwnProperty.call(ee,t)){var r=ee[t],n=r.page;if(void 0!==p&&p.tabBar&&p.tabBar.list&&p.tabBar.list[e.index]){var i={index:e.index,pagePath:(p.tabBar.list[e.index].pagePath||"").replace(/\.html$/,""),text:p.tabBar.list[e.index].text};if(i.pagePath!==r.route)return;re(n,"onTabItemTap")&&(g(`Invoke event onTabItemTap in page: ${r.route}`),N.wrapTapMark((()=>{S.call(n,"onTabItemTap",i)})))}}}var ye=null,_e=Object.create(null),be=(e,t,r)=>{ye&&ye.triggerLifeTime("route",[{method:e,url:t,args:r}])},we=(e,t,r,n,i,a)=>{if("appLaunch"===a)s=()=>{be("appLaunch",t,{tabBarConfig:p.tabBar,entryPagePath:p.entryPagePath})},l.initScl((e=>{var t,r,n,i=(null===(t=p.framesetPlaceholder)||void 0===t?void 0:t.src)||"frameset/placeholder.png",a=`height:${null===(r=p.framesetPlaceholder)||void 0===r?void 0:r.height};width:${null===(n=p.framesetPlaceholder)||void 0===n?void 0:n.width}`;(ye=e.mainRoot.append("frameset",{placeholderImage:i,externalStyle:a})).setPageLifeTimeCallback(((e,t,...r)=>{var n=_e[e],i=Ve(n);i&&E.surroundThirdByTryCatch((()=>{i.__callPageLifeTime__("on"+t,...r)}),`at ${t} callback function`)()})),s()}));else if("navigateTo"===a)be("navigateTo",t);else if("redirectTo"===a)be("redirectTo",t);else if("switchTab"===a)be("switchTab",t);else if("reLaunch"===a||"autoReLaunch"===a)be("reLaunch",t);else if("navigateBack"===a){"windows"!==p.platform&&"mac"!==p.platform||__refreshEnv(null,"sclEngine");var o=l.getExparserElementByViewId(i);o&&o.triggerEvent("navigateBack")}else"frameLoad"===a?(_e[i]=r,tr(e,t,r,n,{framesetViewId:i})):"frameUnload"===a&&(delete _e[i],ir($e(r),""));var s},Se=!1,Ce=()=>Se,Ie=null,Ae=()=>Ie,ke=e=>{Ie=e},Ee=[],Te={},Pe=[],xe=e=>{Pe=e},Oe=()=>Pe,Re={},Me=Object.prototype.hasOwnProperty,De={},Ne=(e,t)=>{De[e]=t,N.setPageType(e,t)},Le=e=>De[e],Be=e=>-1!==Ee.indexOf(e.route)||-1!==Ee.indexOf(e.route+".html"),$e=e=>Me.call(ee,e)?ee[e]:null,Fe=e=>!!(e=>{for(var t=0;t<p.pages.length;t++)if(p.pages[t]===e)return!0;return!1})(e)||void 0!==Te[e],je=e=>{var t=[];return Oe().forEach((r=>{e&&(e=>{if(/^__wx__\//.test(e=e||""))return"//";var t=e.match(/(?:^|\/)__plugin__\/(.*?)\//);return t?t[1]:"/"})(r.route)!==e?t.push(null):t.push(r.page)})),t},We=()=>je("/"),Ue=()=>Oe().map((e=>e.webviewId)),Ve=e=>Me.call(ee,e)?ee[e].page:null,qe=()=>Re,ze=!1,Ge=function(e){ze=e},He=function(){return ze},Ke=Object.prototype.toString;function Qe(e){var t=Xe(e);return null!==t?t:Je(e)}function Je(e){if("function"==typeof e)return Ge(!0),e;var t=Ke.call(e);if("[object Array]"===t)return[];if("[object Object]"===t){var r;if(e.constructor===Object)return{};var n=Object.getPrototypeOf(e);if(n&&n.constructor!==Object&&"Object"===(null===(r=n.constructor)||void 0===r?void 0:r.name)&&n.hasOwnProperty&&e instanceof Object)return{}}if("[object Date]"===t)return new Date(e.getTime());if("[object RegExp]"===t){Ge(!0);var i=String(e),a=i.lastIndexOf("/");return new RegExp(i.slice(1,a),i.slice(a+1))}return Ge(!0),null}function Xe(e){var t=typeof e;return null!==e&&"object"!==t&&"function"!==t?e:null}function Ye(e){var t=typeof e;return null!==e&&("function"===t||"object"===t)}function Ze(e,t,r){if(null===e)return null;var n=Xe(e);if(null!==n)return n;for(var i=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],a=0,o=i.length;a<o;++a){var s=i[a],l=e[s],c=Ye(l),u=void 0,d=void 0;if(c&&r.has(l))d=r.get(l);else{var p=Qe(l);u=null!==p?p:l,c&&r.set(l,u)}t[s]=d||Ze(l,u,r)}return t}const et=function(e){if(Ge(!1),null===e)return null;var t=Xe(e);if(null!==t)return t;var r=Je(e),n=null!==r?r:e,i=new WeakMap;return i.set(e,n),Ze(e,n,i)};var tt=!1;function rt(e){var t=P().isIsolatedSubpackage(e);!tt&&t?lt():tt&&!t&&st(),tt=t}var nt=[],it=!0,at={};function ot(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function st(e){var t=e?ot(e):at;P().emitIsloatedAppShow(t),nt.forEach((e=>{e.preventOnShow||e.app.onShow(t),e.preventOnShow=!1})),at=t}function lt(e){P().emitIsloatedAppHide(),nt.forEach((t=>{se()?t.app.onHide(e):t.app.onHide()}))}function ct(){!1}function ut(e={}){var t;if(e.isLaunch?(G.setOnLaunch(e),function(){try{Q(),J(),T.submit()}catch(e){}}()):G.setOnAppShow(e),er(e.path),t=e.path,(tt=P().isIsolatedSubpackage(t))||st(e.__public||e,e.isLaunch),it||e.reLaunch)it=!1;else{var r=je("");r.length&&(Ce()?ye&&ye.setGlobalShowStatus(!0):"function"==typeof r[r.length-1].__callPageLifeTime__&&r[r.length-1].__callPageLifeTime__("onShow"))}}function dt(e={}){G.setOnAppHide(e),"hang"===e.mode&&!0;var t=je("");if(t.length){Ce()?ye&&ye.setGlobalShowStatus(!1):"function"==typeof t[t.length-1].__callPageLifeTime__&&t[t.length-1].__callPageLifeTime__("onHide");var r=ue(),n=r.page,i="function"==typeof n.onSaveExitState?S.call(n,"onSaveExitState"):void 0;P().saveExitState(r.route,r.rawPath,i)}tt||lt(e)}R((e=>{e.onAppUnhang(ct),e.onAppShow(ut),e.onAppHide(dt)}));var pt,ht,ft,gt=["onLaunch","onShow","onHide","onUnlaunch"];class vt{constructor(e={}){var t=this,r=P(),n=r.getLogManager();gt.forEach((t=>{this[t]=function(...a){var o=e[t]||i;T.__route__="App",T.__method__=t,g(`App: ${t} have been invoked`),v.info(`[Lifetime] call App.${t}`),r.traceBeginEvent("LifeCycle",`App.${t}`);try{o.apply(this,a),n&&n.logApiInvoke&&n.log(`App ${t} have been invoked`),v.info(`App ${t} have been invoked`)}catch(e){T.thirdErrorReport({error:e,extend:`at App lifeCycleMethod ${t} function`})}r.traceEndEvent(),T.__route__=T.__method__=""}.bind(this)}));var a,o,s,l,c=function(n){(e=>"getCurrentPage"===e)(n)?f("关键字保护",`App's ${n} is write-protected`):(e=>{for(var t=0;t<gt.length;++t)if(gt[t]===e)return!0;return!1})(n)||("function"==typeof e[n]?t[n]=function(...t){var i;T.__route__="App",T.__method__=n,r.traceBeginEvent("User Script",`App.${n}`);try{i=e[n].apply(this,t)}catch(e){T.thirdErrorReport({error:e,extend:`at App ${n} function`})}return r.traceEndEvent(),i}.bind(t):t[n]=e[n])};for(var u in e)c(u);"function"==typeof this.onError&&r.onError(this.onError),"function"==typeof this.onUnhandledRejection&&r.onUnhandledRejection(this.onUnhandledRejection),"function"==typeof this.onPageNotFound&&r.onPageNotFound(this.onPageNotFound),"function"==typeof this.onThemeChange&&r.onThemeChange(this.onThemeChange),a=this,o=P().getLaunchOptionsSync(),s=p.appLaunchInfo&&p.appLaunchInfo.inBackground,l=ot(o.__public),a.onLaunch(l),s||a.onShow(l),nt.push({app:a,...s?{}:{preventOnShow:!0}})}}var mt={},yt=y(((e={})=>{Object.assign(e,mt),mt={},pt=new vt(e)}),"create app instance"),_t=y(((e={})=>e.allowDefault?pt||mt:pt),"get app instance"),bt=()=>ht,wt=e=>{v.info(`[privateExtraData] set to [${JSON.stringify(e)}]`),ht=e},St=()=>ft;function Ct(e){var t=e.referrerInfo&&e.referrerInfo.privateExtraData;if(t){wt(t);var r=(()=>{if(0!==Oe().length)return Oe()[Oe().length-1].webviewId})();t.functionalPage&&r&&P().publishFunctionalPage(t.functionalPage,[r]),t.functionalPage&&"string"==typeof t.functionalPage.callbackId&&t.functionalPage.callbackId.startsWith("RPP")&&P().requestPluginPaymentEmitter.emit(t.functionalPage)}e.referrerInfo&&e.referrerInfo.openapiInvokeData&&(ft=e.referrerInfo.openapiInvokeData)}R((e=>{e.onAppShow(Ct)}));var It={},At=(e,t)=>It[e]=t,kt=e=>It[e],Et=null,Tt=()=>{var e,t;Et=Boolean(null===(e=p.renderer)||void 0===e||null===(t=e.allUsed)||void 0===t?void 0:t.includes("skyline")),v.info(`[AppServiceEngine] shouldRegisterGlassEasel=containsSkyline=${Et}`)};p.onReady((()=>{null===Et&&Tt()}));var Pt=()=>(null===Et&&Tt(),Et),xt=["onLoad","onReady","onShow","onRouteDone","onHide","onUnload","onResize"],Ot=(e,t)=>{for(var r in t)e[r]=et(t[r]),He()&&f("Free data",`Free data with key "${r}" of page "${e.is}" seems not a simple value. Result of deep cloning this value in page instantiation may be unexpected. Consider assigning this value at the beginning of onLoad method.`)};h.onLoad((()=>{M.setPageFreeDataCopier(Ot)}));const Rt=class{static create(t,r,n){var a,o,s,l=P(),c=l.getLogManager();if(v.info(`[PageManager] create new page, route=${r}, componentMode=true`),"exparser"===kt(t))a=N.addView(t,r,(function(e){var t=O.Element.getMethodCaller(this),r=t[e]||i,a=[];return"onLoad"===e?a=[n]:"onShow"===e?this.triggerPageLifeTime("show",a):"onHide"===e?this.triggerPageLifeTime("hide",a):"onResize"===e?this.triggerPageLifeTime("resize",a):"onRouteDone"===e&&this.triggerPageLifeTime("routeDone",a),r.apply(t,a)})),o=O.Element.getMethodCaller(a),s=N.getOwnerPluginAppId(a);else{var u=M.getEnv().getAdapterPage(t);if(void 0===u)throw new Error(`Framework inner error: adapter page with pageId ${t} not exists during creation`);a=u.addView(r),o=a.getMethodCaller(),s="/"}if(o.__wxWebviewId__=t,o.__route__=r,o.route=r,o.__displayReporter=new G(r,2),a.__customConstructor__===N.Page){var d=a.getRootBehavior().methods,p=o.__freeData__;for(var h in d)o[h]=d[h].bind(o);Ot(o,p)}var f=e.getCurrentRoutePath(),m=e.getCurrentFullyRoutePath();o.__callPageLifeTime__=function(t,...r){v.info(`[Lifetime] call Page.${t}, is=${o.is}`);var n=this[t]||i;if(T.__route__=this.__route__,T.__method__=t,"onLoad"===t)o.__displayReporter.setQuery(...r);else if("onShow"===t)o.__hasReportHide__=!1,o.__hasReportExit__=!1,"wx://not-found"===o.is?this.__displayReporter.updatePageType(99):"skyline"===o.renderer&&this.__displayReporter.updatePageType(3),o.__displayReporter.reportShowPage();else if("onReady"===t)o.__displayReporter.setReadyTime(Date.now());else if("onHide"===t||"onUnload"===t){var s=this.__toRoute__,l=this.__isBack__,c=this.__notReportHide__,u=o.__hasReportExit__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,delete o.__hasReportExit__,c||u||(o.__displayReporter.reportHidePage(s,l),o.__hasReportHide__=!0)}"onShow"===t?a.triggerPageLifeTime("show",r):"onHide"===t?a.triggerPageLifeTime("hide",r):"onResize"===t?a.triggerPageLifeTime("resize",r):"onRouteDone"===t?a.triggerPageLifeTime("routeDone",r):"onReady"===t?a.triggerPageLifeTime("ready",r):"onLoad"===t&&a.triggerPageLifeTime("load",r),e.traceLife(t,{path:f,fullyPath:m}),g(`${this.__route__}: ${t} have been invoked`);var d=n.apply(this,r);return T.__route__=T.__method__="",d},xt.forEach((e=>{var r=o[e];o[e]=function(...n){var a,o=r||i;l.traceBeginEvent("LifeCycle",`Page.${e}`,{path:this.__route__,id:t});try{var u=Date.now();a=o.apply(this,n);var d=Date.now()-u;d>1e3&&T.slowReport({key:"pageInvoke",cost:d,extend:`at "${this.__route__}" page lifeCycleMethod ${e} function`,force:void 0}),null!=c&&c.logApiInvoke&&c.log(`page ${this.__route__} ${e} have been invoked`),v.info(`component page ${this.__route__} ${e} have been invoked`)}catch(e){T.thirdErrorReport({source:s,error:e})}return l.traceEndEvent(),a}.bind(o)}));var y="function"==typeof o.onShareAppMessage;y&&l.showShareMenu();var _="function"==typeof o.onShareTimeline;return y&&_&&l.showShareTimelineMenu(),{page:o,node:a}}static destroy(e){"exparser"===kt(e.__wxWebviewId__)?N.removeView(e.__wxWebviewId__):M.getEnv().removeAdapterPage(e.__wxWebviewId__)}};var Mt=e=>{if("String"!==o(e))throw d("数据路径错误","Path must be a string"),new _("Path must be a string");for(var t=e.length,r=[],n="",i=0,a=!1,s=!1,l=0;l<t;l++){var c=e[l];if("\\"===c)l+1<t&&("."===e[l+1]||"["===e[l+1]||"]"===e[l+1])?(n+=e[l+1],l++):n+="\\";else if("."===c)n&&(r.push(n),n="");else if("["===c){if(n&&(r.push(n),n=""),0===r.length)throw d("数据路径错误","Path can not start with []: "+e),new _("Path can not start with []: "+e);s=!0,a=!1}else if("]"===c){if(!a)throw d("数据路径错误","Must have number in []: "+e),new _("Must have number in []: "+e);s=!1,r.push(i),i=0}else if(s){if(c<"0"||c>"9")throw d("数据路径错误","Only number 0-9 could inside []: "+e),new _("Only number 0-9 could inside []: "+e);a=!0,i=10*i+c.charCodeAt(0)-48}else n+=c}if(n&&r.push(n),0===r.length)throw d("数据路径错误","Path can not be empty"),new _("Path can not be empty");return r},Dt=(e,t)=>{for(var r,n={},i=e,a=0;a<t.length;a++)Number(t[a])===t[a]&&t[a]%1==0?Array.isArray(i)||(n[r]=[],i=n[r]):u(i)||(n[r]={},i=n[r]),r=t[a],n=i,i=i[t[a]];return{obj:n,key:r}},Nt=["onLoad","onReady","onShow","onRouteDone","onHide","onUnload","onResize"],Lt=["__wxWebviewId__","__route__"],Bt=["route"];class $t{static create(e,t,r){var n=new $t(e,t,r),i=n.__wxExparserNode__;return delete n.__wxExparserNode__,{page:n,node:i}}static destroy(e){N.removeView(e.__wxWebviewId__)}constructor(t,r,n){var a=this;v.info(`[PageManager] create new page, route=${r}, componentMode=false`);var s={__wxWebviewId__:t,__route__:r};Lt.forEach((e=>{Object.defineProperty(this,e,{set(){f("关键字保护",`should not change the protected attribute ${e}`)},get:()=>s[e]})}));var l=P(),c=l.getLogManager(),p=N.addView(t,r,(function(e){var t=O.Element.getMethodCaller(this),r=t[e]||i,a=[];return"onLoad"===e?a=[n]:"onShow"===e?this.triggerPageLifeTime("show"):"onHide"===e?this.triggerPageLifeTime("hide"):"onResize"===e?this.triggerPageLifeTime("resize"):"onRouteDone"===e&&this.triggerPageLifeTime("routeDone"),r.apply(t,a)})),h=O.Element.getMethodCaller(p),m=N.getOwnerPluginAppId(h);this.__wxExparserNode__=p,this.__wxComponentInst__=h,O.Element.setMethodCaller(p,this);var y=qe(),_={};hasOwnProperty.call(y,r)?_=y[r]:console.info(`Page "${r}" has not been registered yet.`),_.data=_.data||{},u(_.data)||d("Page data error","Page.data must be an object");var b=JSON.stringify(_.data);this.data=JSON.parse(b),this.__viewData__=JSON.parse(b),this.__displayReporter=new G(r,1);var w=e.getCurrentRoutePath(),S=e.getCurrentFullyRoutePath();this.__callPageLifeTime__=function(t,...r){v.info(`[Lifetime] call Page.${t}, is=${h.is}`);var n=(this[t]||i).bind(this);if(T.__route__=this.__route__,T.__method__=t,"onLoad"===t)this.__displayReporter.setQuery(...r);else if("onShow"===t)"wx://not-found"===h.is?this.__displayReporter.updatePageType(99):"skyline"===h.renderer&&this.__displayReporter.updatePageType(3),this.__displayReporter.reportShowPage(),this.__hasReportHide__=!1,this.__hasReportExit__=!1;else if("onReady"===t)this.__displayReporter.setReadyTime(Date.now());else if("onHide"===t||"onUnload"===t){var a=this.__toRoute__,o=this.__isBack__,s=this.__notReportHide__,l=this.__hasReportExit__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,delete this.__hasReportExit__,s||l||(this.__displayReporter.reportHidePage(a,o),this.__hasReportHide__=!0)}e.traceLife(t,{path:w,fullyPath:S}),g(`${this.__route__}: ${t} have been invoked`);var c=n.apply(this,r);return T.__route__=T.__method__="",c},Nt.forEach((e=>{this[e]=function(...r){var n,a=(_[e]||i).bind(this);try{var o=Date.now();l.traceBeginEvent("LifeCycle",`Page.${e}`,{path:this.__route__,id:t}),n=a.apply(this,r),l.traceEndEvent();var s=Date.now()-o;s>1e3&&T.slowReport({key:"pageInvoke",cost:s,extend:`at ${this.__route__} page lifeCycleMethod ${e} function`}),c&&c.logApiInvoke&&c.log(`page ${this.__route__} ${e} have been invoked`),v.info(`page ${this.__route__} ${e} have been invoked`)}catch(t){T.thirdErrorReport({source:m,error:t,extend:`at ${this.__route__} page lifeCycleMethod ${e} function`})}return n}.bind(this)}));var C=function(e){(e=>-1!==Lt.indexOf(e))(e)?f("关键字保护",`Page's ${e} is write-protected`):(e=>{for(var t=0;t<Nt.length;++t)if(Nt[t]===e)return!0;return"data"===e})(e)||("Function"===o(_[e])?a[e]=function(...t){var r;T.__route__=this.__route__,T.__method__=e,l.traceBeginEvent("User Script",`Page.${e}`,{path:this.__route__});try{var n=Date.now();r=_[e].apply(this,t);var i=Date.now()-n;i>1e3&&T.slowReport({key:"pageInvoke",cost:i,extend:`at ${this.__route__} page ${e} function`})}catch(t){T.thirdErrorReport({source:m,error:t,extend:`at ${this.__route__} page ${e} function`})}return l.traceEndEvent(),T.__route__=T.__method__="",r}.bind(a):(a[e]=et(_[e]),He()&&f("Free data",`Free data with key "${e}" of page "${p.is}" seems not a simple value. Result of deep cloning this value in page instantiation may be unexpected. Consider assigning this value at the beginning of onLoad method.`)))};for(var I in _)C(I);var A={route:r};Bt.forEach((e=>{Object.prototype.hasOwnProperty.call(this,e)||(this[e]=A[e])}));var k="function"==typeof _.onShareAppMessage;k&&l.showShareMenu();var E="function"==typeof _.onShareTimeline;k&&E&&l.showShareTimelineMenu()}setData(e,t){var r=P();try{var n=o(e);if("Object"!==n)return void d("类型错误",`setData accepts an Object rather than some ${n}`);r.traceBeginEvent("Framework","setData"),Object.keys(e).forEach((t=>{void 0===e[t]&&d("Page setData warning",'Setting data field "'+t+'" to undefined is invalid.');var r=Mt(t),{obj:n,key:i}=Dt(this.data,r);if(n&&(n[i]=et(e[t])),void 0!==e[t]){var{obj:a,key:o}=Dt(this.__viewData__,r);a&&(a[o]=et(e[t]))}})),this.__wxComponentInst__.setData(JSON.parse(JSON.stringify(e)),t)}catch(e){m(e)}finally{r.traceEndEvent()}}pageScrollTo(e){P().publishPageScrollTo(e,[this.__wxWebviewId__])}}const Ft=$t;const jt=class{static emit(e,t,r){var n=P();n.traceBeginEvent("Framework","sendInitData"),n.invokeWebviewMethod("appDataChange",e,[t],r),n.traceEndEvent()}};var Wt,Ut=e=>{Wt=e},Vt=Date.now(),qt=262144,zt={isInit:!1};R((e=>{e.subscribeSubjectInfo((e=>{zt.isInit=e.isInit}))}));var Gt,Ht=(t,n,i,{statesData:a,isPageReload:o,isPrerender:s,isLaunch:l})=>{var c=P(),u=t.page,d={};return e.shouldStartReport()&&(d.traceActionReportInfo={eventType:e.getReportEvent(),textContentMaxLayer:e.getTextContentMaxLayer(),textContentMaxLength:e.getTextContentMaxLength()}),d.wechatLibVersion=(void 0!==r?r.version:"")||"",d.webviewId=n,d.enablePullUpRefresh=re(u,"onReachBottom"),d.enablePageScroll=re(u,"onPageScroll"),d.onReachBottomDistance=(e=>{try{if("number"==typeof p.page[`${e}.html`].window.onReachBottomDistance)return p.page[`${e}.html`].window.onReachBottomDistance}catch(e){return 50}return 50})(u.__route__),d.statesData=a,d.scene=Wt,d.route=u.__route__,d.query=u.options,d.lastRoute=t.lastRoute,d.lastQuery=t.lastQuery,d.wxConfig={accountInfo:p&&p.accountInfo||{},appContactInfo:p&&p.appContactInfo||{},appLaunchInfo:p&&p.appLaunchInfo||{},plugins:p&&p.plugins||{}},d.windowConfig=p&&p.page&&p.page[u.__route__+".html"]&&p.page[u.__route__+".html"].window||{},d.debug=p&&p.debug,d.appId=p&&p.accountInfo&&p.accountInfo.appId,d.appLaunchTime=Z.appLaunchTime,d.appFgTime=Z.appFgTime,d.isTabBarPage=t.isTabBarPage,d.isMainTabBarPage=t.isMainTabBarPage,d.navigationStyle=p&&p.global&&p.global.window&&p.global.window.navigationStyle,d.packageType=(e=>{if(p&&p.subPackages&&p.subPackages.length){for(var t=0;t<p.subPackages.length;t++){var r=p.subPackages[t];if(0===e.indexOf(r.root))return r.independent?"independent":"normal"}return"main"}return"none"})(u.__route__),d.needGetSubjectInfo=!zt.isInit,d.subPackages=p.subPackages,d.isReload=o,d.adInfo={preloadVideoAdUnitIds:c.getPreloadVideoAdUnitIds(),preloadAdUnitIds:c.getPreloadAdUnitIds()},d.permissionBytes=c.getCachePermissionBytes(),d.fontFaceRecords=c.fontFaceRecords,d.fontSizeSetting=c.getStaticSystemInfoSync().fontSizeSetting,d.prerender=s,d.isLaunch=l,d.extendedLibList=p.extendedLibList,{ext:d,options:{firstRender:!0,timestamp:i,path:u.__route__}}},Kt=D("Framework","publishInitData",y((e=>{g("Update view with init data");var t=e.ext.webviewId;if(v.info(`[publishInitData] publish init data to webview ${t}`),e.ext.statesData){var r=JSON.stringify(e),n=r.length;if(n>qt){for(var i=[],a=0;n>a;)i.push(r.substr(a,qt)),a+=qt;for(var o=++Vt,s=0,l=i.length;s<l;s++)jt.emit({isSplitData:!0,splitInfo:{id:o,index:s+1,total:l,data:i[s]}},t);return}}v.info(`[publishInitData] publish init data to webview ${t}`),jt.emit(e,t)}))),Qt=(e,t,r,{statesData:n,isPageReload:i,isPrerender:a,isLaunch:o})=>{var s=Ht(e,t,r,{statesData:n,isPageReload:i,isPrerender:a,isLaunch:o});Kt(s)},Jt=(e,t,r)=>{T.speedReport({key:e,timeMark:{startTime:t,endTime:r}})},Xt=e=>{Gt=e},Yt="",Zt=()=>Yt,er=e=>{Yt=e},tr=D("Framework","openNewPage",((t,r,n,i,a={})=>{var o=Gt;Xt(void 0);var s=P(),l=kt(n),c=te(t)||"glass-easel"===l;a.isMainTabBarPage&&"reLaunch"===a.openType&&N.destroyCustomTabBarManager(),Z.newPageTime=Date.now(),er(t);var u=c?Rt.create(n,t,i):Ft.create(n,t,i),d=u.page,h=et(i);ce({page:d,webviewId:n,route:t,rawPath:r,lastRoute:ue()?ue().route:"",lastQuery:ue()?ue().page.options:{},node:u.node}),ue().isTabBarPage=Be(ue()),ue().isMainTabBarPage=a.isMainTabBarPage||!1,Oe().push(ue()),s._assignOpenerEventChannelToPage(d),"exparser"===l?d.__exitState__=o:M.setExitState(d,o);var f={};if(Object.keys(h).forEach((e=>{var t=h[e];try{f[e]=decodeURIComponent(t)}catch(r){f[e]=t}})),s.traceBeginEvent("Framework","attachViewService"),"exparser"===l)N.attachView(n,f);else{var g=M.getEnv().getAdapterPage(n);if(void 0===g)throw new Error(`Framework inner error: adapter page with pageId ${n} not exists before attach`);g.attachView(f)}if(s.traceEndEvent(),/^__wx__\//.test(t)){var m={};if(/^__wx__\/open-api-redirecting-page/.test(t))m=f,v.info(`[openNewPage] route ${t} is open api page`),Object.assign(m,St()||{});else if(/^__wx__\/functional-page/.test(t)){v.info(`[openNewPage] route ${t} is functional page`);var y=bt();y&&y.functionalPage&&(m=Object.assign({},y.functionalPage,{accountInfo:p.accountInfo}))}v.info(`[openNewPage] wx special page, setting data [${JSON.stringify(m)}]`),d.setData(m)}else if(/^wx:\/\/inner-page/.test(t)){var _;_=f,v.info(`[openNewPage] route ${t} is inner page`),Object.assign(_,St()||{}),d.setData(_)}d.options=h;var b=Ht(ue(),n,Z.newPageTime,{statesData:void 0,isPageReload:!1,isPrerender:a.prerender||!1,isLaunch:!!a.isLaunch});if("exparser"===l)Kt(b);else{var w=M.getEnv().getAdapterPage(n);if(void 0===w)throw new Error(`Framework inner error: adapter page with pageId ${n} not exists before init`);w.processInitData(b)}A()&&(__wxAppData[t]=d.data,__wxAppData[t].__webviewId__=n,s.publishUpdateAppData()),a.initialRenderingCacheData&&d.setData(a.initialRenderingCacheData),void 0!==e&&e.traceNewRoute(p.page,p.global),d.__callPageLifeTime__("onLoad",i),d.__callPageLifeTime__("onShow"),ee[n]={page:d,route:t,rawPath:r,webviewId:n,statesData:null,framesetViewId:a.framesetViewId,node:c?u.node:void 0},Jt("appRoute2newPage",Z.appRouteTime,Z.newPageTime)})),rr=D("Framework","onAppLaunch",((e,t,r,n,i,a)=>{Z.appLaunchTime=Date.now(),Z.appFgTime=Date.now();var o=P();hasOwnProperty.call(ee,r)?d("Page route 错误(system error)",`appLaunch with an already exist webviewId ${r}`):tr(e,t,r,n,{isMainTabBarPage:Be({route:e}),initialRenderingCacheData:i,prerender:a,isLaunch:!0});var s=o.getLaunchOptionsSync().scene;[1001,1003,1023,1038,1056,1080,1083,1089,1090,1103,1104,1112,1113,1114,1117,1127,1131,1134].indexOf(s)<0||o.loadExitState(((e,t,r)=>{"latestPage"===e?setTimeout((()=>{Xt(r),o.route.redirectTo({url:t})}),0):"homePageAndLatestPage"===e?setTimeout((()=>{Xt(r),o.route.navigateTo({url:t})}),0):Xt(r)}))})),nr=D("Framework","hidePage",((e,t)=>{e.page.__toRoute__=t,Ce()||e.page.__callPageLifeTime__("onHide"),P().uploadUserLogOnHide(e.route)})),ir=D("Framework","unloadPage",((e,t,r,n)=>{P()._triggerBeforeUnloadPage(e.webviewId),e.page.__toRoute__=t,e.page.__isBack__=r,e.page.__notReportHide__=n,e.page.__callPageLifeTime__("onUnload"),e.node&&Rt.destroy(e.page),A()&&(delete __wxAppData[e.route],P().publishUpdateAppData()),delete ee[e.webviewId];for(var i=Oe().length-1;i>=0&&Oe()[i].webviewId!==e.webviewId;i--);if(i>=0&&Oe().splice(i,1),Oe().length){var a=Oe()[Oe().length-1];er(a.route);var o=(e=>{var t=void 0;for(var r in _e)if(_e[r]===e){t=r;break}return t})(a.webviewId);o&&l.setCurrentFrameView(o)}else er("");P().uploadUserLogOnHide(e.route),P().recordUnloadWebviewIdForUserBehaviorAnalytics(e.webviewId)})),ar=D("Framework","onSwitchTab",((e,t,r,n,i)=>{var a=!0,o=!0,s=!0;if(0!==Oe().length){for(;Oe().length>1;){var l=!0;s&&(l=!1,s=!1),Ae()&&Ae().webviewId===Oe()[Oe().length-1].webviewId?(xe(Oe().slice(0,Oe().length-1)),Oe().length?er(Oe()[Oe().length-1].route):er(""),a=!1):(ir(Oe()[Oe().length-1],e,!1,l),a=!1)}if(Oe()[0].webviewId===r)ce(Oe()[0]),a||Ce()||ue().page.__callPageLifeTime__("onShow");else{var c=!0;if(s&&(c=!1,s=!1),Be(Oe()[0])?(o=!1,a&&nr(Oe()[0],e)):Ae()&&Ae().webviewId===Oe()[0].webviewId?(xe(Oe().slice(0,Oe().length-1)),er("")):ir(Oe()[0],e,!1,c),hasOwnProperty.call(ee,r)){var{page:u,node:d}=ee[r];ce({webviewId:r,route:e,page:u,node:d}),xe([ue()]),Ce()||u.__callPageLifeTime__("onShow")}else xe([]),tr(e,t,r,n,{isMainTabBarPage:o,initialRenderingCacheData:i})}}else tr(e,t,r,n,{initialRenderingCacheData:i})})),or=D("Framework","onReLaunch",((e,t,r,n,i,a,o)=>{var s=!1;for("reLaunch"===i&&(s=!0);Oe().length>0;){var l=!0;s&&(l=!1,s=!1),ir(Oe()[Oe().length-1],e,!1,l)}Object.keys(ee).forEach((t=>{ir(ee[t],e,!1,!0)})),rt(e),tr(e,t,r,n,{isMainTabBarPage:Be({route:e}),initialRenderingCacheData:a,prerender:o,openType:i})})),sr=D("Framework","onRedirectTo",((e,t,r,n,i)=>{ue()&&ir(ue(),e),rt(e),hasOwnProperty.call(ee,r)?d("Page route 错误(system error)",`redirectTo with an already exist webviewId ${r}`):tr(e,t,r,n,{initialRenderingCacheData:i})})),lr=D("Framework","onNavigateToPip",((e,t,r,n,i)=>{ue()&&nr(ue(),e),rt(e),"min"===i?(ke(Oe()[Oe().length-1]),hasOwnProperty.call(ee,r)?d("Page route 错误(system error)",`navigateTo with an already exist webviewId ${r}`):tr(e,t,r,n)):"max"===i?Ae()&&(er(e),ce(Ae()),Oe().push(ue()),ue().page.__callPageLifeTime__("onShow"),ke(null)):d("Page route 错误(system error)","navigateTo with unexpected pipMode")})),cr=D("Framework","onNavigateTo",((e,t,r,n,i)=>{ue()&&nr(ue(),e),rt(e),hasOwnProperty.call(ee,r)?d("Page route 错误(system error)",`navigateTo with an already exist webviewId ${r}`):tr(e,t,r,n,{initialRenderingCacheData:i})})),ur=D("Framework","unloadPagePip",(()=>{var e=Ae();e&&(ke(null),Oe().findIndex((t=>t.webviewId===e.webviewId))>=0||(P()._triggerBeforeUnloadPage(e.webviewId),e.page.__callPageLifeTime__("onUnload"),e.node&&Rt.destroy(e.page),A()&&(delete __wxAppData[e.route],P().publishUpdateAppData()),delete ee[e.webviewId],P().uploadUserLogOnHide(e.route)))})),dr=D("Framework","minimizePage",(e=>{nr(e),xe(Oe().slice(0,Oe().length-1)),Oe().length?er(Oe()[Oe().length-1].route):er("")})),pr=D("Framework","onNavigateBack",((e,t=!1)=>{for(var r=!1,n=ee[e]&&ee[e].route,i=Oe().length-1;i>0;i--){var a=Oe()[i];if(a.webviewId===e){r=!0,ce(a);break}!t&&Ae()&&Ae().webviewId===a.webviewId?xe(Oe().slice(0,Oe().length-1)):t&&Ae()&&Ae().webviewId===a.webviewId?dr(a,n,!0):ir(a,n,!0)}if(1===Oe().length&&!r){var o=Oe()[0];if(o.webviewId===e)r=!0,ce(o);else if(Be(o)&&hasOwnProperty.call(ee,e)){r=!0;var{page:s,node:l}=ee[e];ce({webviewId:e,route:n,page:s,node:l})}er(ue().route)}if(rt(n),r){Ce()||(ue().page.__callPageLifeTime__("onShow"),Be(ue().page)&&N.showTabBar(e));var c=bt();wt({}),c&&c.functionalPage&&e&&P().publishFunctionalPage(c.functionalPage,[e]),c&&c.functionalPage&&"string"==typeof c.functionalPage.callbackId&&c.functionalPage.callbackId.startsWith("RPP")&&P().requestPluginPaymentEmitter.emit(c.functionalPage)}else d("Page route 错误(system error)",`navigateBack with an unexist webviewId ${e}`)})),hr=D("Framework","onNavigateBack",((e,t)=>{"min"===t?(ke(Oe()[Oe().length-1]),pr(e,!0)):"max"===t&&(ke(null),pr(e))})),fr=D("Framework","handleAppRoute",((e,t,r,n,i,a,o,s)=>{var l=Object.keys(r).map((e=>encodeURIComponent(e)+"="+r[e])).join("&"),c="/"+e+(l?"?"+l:""),u=kt(t);g(["App route: ",`- path: ${e}`,`- openType: ${n}`,`- renderer: ${o.renderer}`,`- componentFramework: ${u}`].join("\n")),Z.appRouteTime=Date.now(),Ce()?we(e,c,t,r,s,n):"navigateTo"===n?i?lr(e,c,t,r,i):cr(e,c,t,r,a):"redirectTo"===n?sr(e,c,t,r,a):"navigateBack"===n?i?hr(t,i):pr(t):"switchTab"===n?ar(e,c,t,r,a):"appLaunch"===n?rr(e,c,t,r,a,o.prerender):"reLaunch"===n||"autoReLaunch"===n?or(e,c,t,r,n,a,o.prerender):"dismissPip"===n?Ae()&&ur():d("Page route 错误(system error)",`Illegal open type: ${n}`)})),gr=null;function vr(e){var t=e.path,r=e.webviewId,n=e.viewId,i=e.query||{},a=e.openType,o=e.pipMode,s=e.initialRenderingCacheData;if("appLaunch"===a&&e.frameset&&(v.info("[onAppRoute] switching to frameset mode by onAppRoute#appLaunch"),Se=!0),Ne(r,e.renderer),!s&&e.appserviceData)try{s=JSON.parse(e.appserviceData)}catch(e){}gr&&gr(),e.resizing?(v.info("Delayed onAppRoute due to resizing"),gr=y((()=>{gr=null,v.info("Delayed onAppRoute executed"),fr(t,r,i,a,o,s,e,n)}),"onAppRoute")):fr(t,r,i,a,o,s,e,n)}function mr(){gr&&gr()}var yr=D("Framework","handleAppRouteDone",(()=>{ue()&&ue().page.__callPageLifeTime__("onRouteDone")}));function _r(e){e.webviewId===(ue()&&ue().webviewId)?yr():d("Page route 错误(system error)",`routeDone with a webviewId ${e.webviewId} that is not the current page`)}var br=D("Framework","onPageReload",((e,t)=>{if(g(`On page reload: ${e}`),hasOwnProperty.call(ee,t)){var r=te(e),n=ee[t].statesData;ee[t].statesData=void 0,N.restoreView(t),Qt(ee[t],t,Date.now(),{statesData:n||{},isPageReload:!0,isPrerender:!1,isLaunch:!1}),((e,{pageCount:t,pageType:r})=>{var n=B[e]||{},i=[t,r,n.rootCompCount||0,n.rootCustomCompCount||0,n.rootCustomCompRatio||0,n.rootInternalCompCount||0].map(encodeURIComponent).join(",");B[e]={},T.reportKeyValue({key:"WebviewRestore",value:i}),T.submit()})(t,{pageCount:Oe().length,pageType:r?2:1})}else d("Page reload(system error)",`Can not find webviewId ${t}`)}));function wr(e){var t=e.path,r=e.webviewId;br(t,r)}var Sr=(e,t,r,n=!1)=>{var i;r._userTap?(0,(n?M:N).wrapTapMark)((()=>{i=S.call(e,t,r)})):i=S.call(e,t,r);return i},Cr=D("Framework","openNewXrFrame",((e,t,r,n,i)=>{var a=P();Ne(t,"xr-frame");var o=N.addView(t,e,null,n,i),s=O.Element.getMethodCaller(o),l=O.Observer.create((e=>{"attached"===e.status?(a.traceBeginEvent("Framework","attachViewService"),N.attachView(t,{},!1),a.traceEndEvent(),Qt({page:s},t,Z.newPageTime,{statesData:void 0,isReload:!1,prerender:!1,isLaunch:!1})):"detached"===e.status&&(N.removeView(t,!1),l.disconnect())}));return l.observe(o,{attachStatus:!0}),s.__wxWebviewId__=t,s.__route__=e,s.route=e,s.__displayReporter=new G(e,2),o})),Ir="/",Ar=e=>e.endsWith("/0")?e.slice(0,e.length-2):e,kr=(e,t,r)=>{var n=Ar(e);h.onLoad((()=>{M.getEnv().createCodeSpace(n,t,!1,(()=>[r,n===Ir?"":`plugin-private://${n}/`]))}))},Er=e=>{if(void 0===M)throw new Error("CodeSpace creation too early");var t=M.getEnv(),r=Ar(e),n=t.getCodeSpace(r);return{setRuntimeGlobals:n.setRuntimeGlobals.bind(n),batchAddCompiledScripts:n.batchAddCompiledScripts.bind(n),batchAddCompiledTemplate:n.batchAddCompiledTemplate.bind(n),addComponentStaticConfig:n.addComponentStaticConfig.bind(n),addTemplateDependencies:n.addTemplateDependencies.bind(n),enableCodeChunk:n.enableCodeChunk.bind(n),initializeCodeChunk:n.initializeCodeChunk.bind(n),setStyleScope:n.setStyleScope.bind(n),initPolyfill:t.initPolyfill.bind(t),exportComponents(t){if(N.publishDomainComponents(e,t),Pt()){var i=`plugin-private://${r}/`,a=`plugin://${r}/`,o={};Object.keys(t).forEach((e=>{if(!t[e].startsWith(i))throw b("Component 注册错误",`Expected aliased component "${t[e]}" in domain "${r}" but actually not`);if(!e.startsWith(a))throw b("Component 注册错误",`Expected component alias "${e}" in domain "${r}" but actually not`);o[e.slice(a.length)]=t[e].slice(i.length)})),n.exportComponents(o)}},gdc:(e,t,r,i)=>n.runtimeGlobals.gdc(e,t,r,i),createWxsStateObject:n.createWxsStateObject.bind(n),isWxsStateObject:n.isWxsStateObject.bind(n)}};kr(Ir,!0,globalThis);var Tr=N.convertComponentAliasToRoute,Pr=N.convertRouteToComponentAlias,xr=(e,r,n,i,a={})=>{var s=a.__wxRoute||t.g.__wxRoute||(null==i?void 0:i.replace(/\.js$/,""))||"",l=P();if(l.traceBeginEvent("User Script","Page constructor",{path:s}),!a.__wxRouteBegin&&!__wxRouteBegin){if(l.traceEndEvent(),!s)throw b("Page 注册错误",'Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json');throw b("Page 注册错误",`Please do not register multiple Pages in ${s}.js`)}a.__wxRouteBegin?a.__wxRouteBegin=!1:__wxRouteBegin=!1;var c=Pr(s),u=Tr(c),d=te(u);if("Object"!==o(e))throw l.traceEndEvent(),b("Page 注册错误",`Options is not object: ${JSON.stringify(e)} in ${s}.js`);g(`Register: ${c}`);var p=N.Page(e,r,n,d&&i?i:__wxRoute+".js");if(Pt()){var h=i||__wxAppCurrentFile__;if("string"!=typeof h)throw b("Page 注册错误","File path invalid");var f=Ar(r);if(r!==Ir&&!h.startsWith(`plugin-private://${f}/`))throw b("Page 注册错误",`Expected path "${h}" in domain "${f}" but actually not`);var v=h.slice(f!==Ir?36:0,h.length-3),m=M.getEnv().getCodeSpace(f);if(void 0===m)throw b("Page 注册错误",`Unknown code space "${f}"`);m.componentEnv(v,(t=>{t.Page(e)}))}Re[u]=d?O.Component._list[p]:e,Te[u]=!0,l.traceEndEvent()},Or=N.convertComponentAliasToRoute,Rr=(e,t,r,n,i={})=>{P().traceBeginEvent("User Script","Component constructor");var a=!1;(i.__wxRouteBegin||__wxRouteBegin)&&(a=!0),i.__wxRouteBegin?i.__wxRouteBegin=!1:__wxRouteBegin=!1;var o=n||__wxAppCurrentFile__;if("string"!=typeof o)return T.thirdErrorReport({error:new Error("Component constructors should be called while initialization. A constructor call has been ignored."),source:t.split("/",1)[0]}),"";var s,l,c=void 0===e&&Pt();if(s=c?o.slice(0,-3):N.Component(e,t,r,n),Pt()){var u=Ar(t);if(t!==Ir&&!o.startsWith(`plugin-private://${u}/`))throw b("Component 注册错误",`Expected path "${o}" in domain "${u}" but actually not`);var d=o.slice(u!==Ir?36:0,o.length-3),p=M.getEnv().getCodeSpace(u);if(void 0===p)throw b("Component 注册错误",`Unknown code space "${u}"`);l=p.componentEnv(d,(t=>t.Component(e)))}var h=Or(s);return s&&!c&&(Re[h]=O.Component._list[s]),Te[h]=a,P().traceEndEvent({path:h}),c?l:String(s)},Mr=(e,t)=>{var r,n="",i=void 0===e&&Pt();(i||(n=N.Behavior(e)),Pt())&&(r=M.getEnv().getCodeSpace(t).componentEnv(n,(t=>t.Behavior(e))));return i?r:String(n)},Dr=N.convertComponentAliasToRoute;N.convertRouteToComponentAlias;p.onReady((()=>{var e=p.page||{},t=p.global?p.global.window:{};Object.keys(e).forEach((r=>{e[r].window=Object.assign({},t,e[r].window)})),p.tabBar&&p.tabBar.list&&"object"==typeof p.tabBar.list&&"function"==typeof p.tabBar.list.forEach&&p.tabBar.list.forEach((e=>{Ee.push(e.pagePath)})),p.appLaunchInfo&&"string"==typeof p.appLaunchInfo.path&&er(p.appLaunchInfo.path),Ut((p.appLaunchInfo||{}).scene||0)})),R((e=>{e.onAppRoute(y(vr,"onAppRoute")),e.onAppRouteDone(y(_r),"onAppRouteDone"),e.onAppRouteResized(mr),e.onPageReload(y(wr,"onPageReload")),e.onWebviewEvent(y((e=>{var{webviewId:t,eventName:r,data:n,nodeId:i}=e,a=((e,t,r,n)=>{if(hasOwnProperty.call(ee,e)){var i=ee[e],a=i.page;if("__DOMReady"===r)return Z.pageReadyTime=Date.now(),g(`Invoke event onReady in page: ${i.route}`),a.__callPageLifeTime__("onReady"),void Jt("newPage2pageReady",Z.newPageTime,Z.pageReadyTime);if("telecontrol"!==r){if(n._requireActive){var o=Oe(),l=o[o.length-1];if(!l||l.webviewId!==e)return}if(n._relatedInfo&&G.setEventRelatedInfo(n._relatedInfo),t){if("exparser"===kt(e)){var c=N.getNodeById(t,e);if(!c)return;if(c.__isXrFrame__)return void P().dispatchXrFrameEvent(c.__xrFrameId__,n.type,n);var u=O.Element.getMethodCaller(c);return g(`Invoke event ${r} in component: ${c.is}`),re(u,r)?Sr(u,r,n):void f("事件警告",`Do not have ${r} handler in component: ${c.is}. Please make sure that ${r} handler has been defined in ${c.is}.`)}var d,p=null===(d=M.getEnv().getAdapterPage(e))||void 0===d?void 0:d.findNodeById(t);if(!p)return;var h=p.getMethodCaller();return g(`Invoke event ${r} in component: ${p.is}`),h[r]?Sr(h,r,n):void f("事件警告",`Do not have ${r} handler in component: ${p.is}. Please make sure that ${r} handler has been defined in ${p.is}.`)}if(g(`Invoke event ${r} in page: ${i.route}`),re(a,r))return Sr(a,r,n);f("事件警告",`Do not have ${r} handler in current page: ${i.route}. Please make sure that ${r} handler has been defined in ${i.route}, or ${i.route} has been added into app.json`)}else{var v=n.type,m="onTelecontrolSelect";if("start"===v)P().publishTelecontrol({type:v,custom:re(a,m)},[e]);else if("next"===v){if(g(`Invoke event ${m} in page: ${i.route}`),!re(a,m))return void f("事件警告",`Do not have ${m} handler in current page: ${i.route}. Please make sure that ${m} handler has been defined in ${i.route}, or ${i.route} has been added into app.json`);var y=Sr(a,m,{current:n.current,target:n.target,key:n.key});if(s(y)){var _=new Promise((e=>setTimeout(e,1e3,"")));Promise.race([y,_]).then((t=>{P().publishTelecontrol({seqId:n.seqId,type:v,res:t},[e])})).catch((()=>{}))}else P().publishTelecontrol({seqId:n.seqId,type:v,res:y},[e])}}}})(t,i,r,n);return a}),"onWebviewEvent")),e.onAppEnterForeground((e=>{Z.appFgTime=Date.now(),0!==e.scene&&"0"!==e.scene&&Ut(e.scene)})),e.onPullDownRefresh(y(((e,t)=>{(e=>{if(hasOwnProperty.call(ee,e)){var t=ee[e],r=t.page;re(r,"onPullDownRefresh")&&(g(`Invoke event onPullDownRefresh in page: ${t.route}`),S.call(r,"onPullDownRefresh"))}else f("事件警告",`onPullDownRefresh WebviewId: ${e} not found`)})(t)}),"onPullDownRefresh")),e.onShareAppMessage(y(pe,"onShareAppMessage")),e.onShareTimeline(y(ie,"onShareTimeline")),e.subscribeTapShareButton(he),e.subscribeTapShareTimeLineButton(oe),e.onAddToFavorites(y(fe,"onAddToFavorites")),e.onStartHandoff(y(ve,"onStartHandoff")),e.subscribeTapHandoffButton(((e,t)=>{y(ve,"onStartHandoff")({fromButton:!0},t)})),e.subscribeSavePageState(y(((e,t)=>{I.call(ee,t)?ee[t].statesData=e:f("事件警告",`onPageWillManuallyTerminate WebviewId: ${t} not found`)}),"savePageState")),e.subscribeRecycleStatistics(y(((e,t)=>{if(I.call(ee,t)){var r=ee[t];((e,{pageCount:t,pageType:r,rootCompCount:n=0,rootCustomCompCount:i=0,rootCustomCompRatio:a=0,rootInternalCompCount:o=0})=>{var s=[t,r].map(encodeURIComponent).join(",");B[e]={rootCompCount:n,rootCustomCompCount:i,rootCustomCompRatio:a,rootInternalCompCount:o},T.reportKeyValue({key:"WebviewRecycle",value:s}),T.submit()})(t,{pageCount:Oe().length,pageType:te(r.route)?2:1,...e})}}),"recycleStatistics")),e.onTabItemTap(y(me,"tabItemTap")),e.onNavigationBarTitleUpdate((e=>{if(e.errMsg.indexOf(":ok")>=0&&e.title){var t=ue();t&&(t.updateTitle=e.title)}})),e.onExitMiniProgramSuccess((()=>{var e=Oe();if(e.length)if(Ce());else{var t=e[e.length-1].page,r=t.__hasReportHide__,n=t.__hasReportExit__;r||n||(t.__displayReporter.reportHidePage(),t.__hasReportExit__=!0)}}))}));var Nr=null,Lr=()=>(Array.isArray(Nr)||(Nr=[],p.plugins&&Object.keys(p.plugins).forEach((e=>{var t=p.plugins[e];Nr.push({alias:e,plugin:t,prefix:""})})),p.subpackages&&p.subpackages.forEach((e=>{e.plugins&&Object.keys(e.plugins).forEach((t=>{var r=e.plugins[t];Nr.push({alias:t,plugin:r,prefix:e.root})}))}))),Nr),Br=e=>{var t=Lr().filter((t=>t.plugin.provider===e));if(0===t.length)return null;if(1===t.length){var r=t[0].plugin.subpackage||t[0].prefix;return"__APP__"===r&&(r=""),t[0].prefix=r,t[0]}return t.find((e=>""!==e.prefix))||null},$r=new Map,Fr=function(e,t){var r=e+"/"+t,n=Ar(r);if($r.has(r))return $r.get(r);var i={__wxAppCode__:{},__wxAppCurrentFile__:""},a=P();i.wx=a.createPluginWX(e,t),i.console=a.createPluginConsole(),i.WXWebAssembly=a.createPluginWXWebAssembly(e),i.Page=e=>{xr(e,r,i.__wxAppCode__,i.__wxAppCurrentFile__,i)},i.getCurrentPages=()=>je(e),i.Component=e=>Rr(e,r,i.__wxAppCode__,i.__wxAppCurrentFile__,i),i.Behavior=e=>Mr(e,n),kr(r,!1,i),((e,t)=>{var r=Ar(e);if("string"!=typeof t)throw new Error(`Framework inner error: Alias for plugin ${r} not found`);M.getEnv().getCodeSpace(Ir).importPluginSpace(r,t)})(r,(e=>{var t=Br(e);return null==t?void 0:t.alias})(e)),i.__wxCodeSpace__=Er(r),i.publishDomainComponents=e=>{i.__wxCodeSpace__.exportComponents(e)};var o,s=(e=>{var t=Br(e);if(null===t)return null;if(void 0===t.plugin.export)return null;var r=t.prefix||"";return"/"===r[0]&&(r=r.slice(1)),r&&"/"!==r.slice(-1)&&(r+="/"),r+(t.plugin.export||"")})(e);return i.requireMiniProgram=()=>(void 0===o&&(o=null===s?{}:X(s)),o),i.beforeFactory=t=>{var r=a.buildPluginPrivateApi(e);t("__wx__/plugin-private-api",((e,t)=>{t.exports=r}))},$r.set(r,i),i};p.onReady((()=>{var e;(e=new Set,Lr().forEach((t=>{e.add(t.plugin.provider)})),Array.from(e)).forEach((e=>{Fr(e,"0")}))}));var jr=()=>Fr,Wr=e=>Fr=e,Ur=(...e)=>Fr(...e);"function"==typeof logxx&&logxx("app-service-engine start");var Vr=y((e=>{xr(e,Ir)}),"create page instance"),qr=y((e=>Rr(e,Ir)),"create component instance"),zr=y((e=>Mr(e,Ir)),"create behavior instance"),Gr=()=>Er(Ir);L=n})(),w.setAppServiceEngine(L);var B=L.Page,$=L.Component,F=L.Behavior,j=L.createMainCodeSpace(),W=.02,U={delayedGwx:!0},V=L.App,q=L.getApp,z=L.getCurrentPages,G=null,H;Object.assign(n,{Page:B,Component:$,Behavior:F,__webview_engine_version__:W,__vd_version_info__:U,App:V,getApp:q,getCurrentPages:z,__pageComponent:G,__wxCodeSpace__:j}),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>F,definePlugin:()=>_,getAllModules:()=>R,globalRequireBlocker:()=>y,require:()=>q,requireOnce:()=>z,requirePlugin:()=>k});var r={UNLOAD:1,LOADED:2},n=/^plugin:\/\/([A-Za-z0-9_-]+)[/]?(.*)/,i=e=>{var t=e.match(n);if(t&&3===t.length)return{pluginId:t[1],version:"0",modId:t[2].length>=1?t[2]:void 0}},a=e=>`${e.pluginId}/${e.version}`,o={},s=e=>o[e];class l{constructor(e){this._$flags={},this._$global=void 0,this.fileStacks=[],this._$global=e}current(){return{__wxRoute:this._$global.__wxRoute,__wxAppCurrentFile__:this._$global.__wxAppCurrentFile__,__wxRouteBegin:this._$global.__wxRouteBegin}}restore(e){void 0!==e&&(this._$global.__wxRoute=e.__wxRoute,this._$global.__wxAppCurrentFile__=e.__wxAppCurrentFile__,this._$global.__wxRouteBegin=e.__wxRouteBegin)}saveAndClear(e){this._$flags[e]=this.current(),this._$global.__wxRoute="",this._$global.__wxAppCurrentFile__="",this._$global.__wxRouteBegin=""}runWith(e,t){this.restore(this._$flags[e]),this.fileStacks.push(this._$flags[e]);var r,n=!1;try{t()}catch(e){n=!0,r=e}if(this.fileStacks.pop(),this.restore(this.fileStacks[this.fileStacks.length-1]),n)throw r}}var c=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],u=()=>"devtools"===p.platform,d=(e,t)=>{var r="__APP__"===e;r||"/"===e.slice(-1)||(e+="/"),u()?(v.info(`[WxModule] injectSubPackages: ${e}`),b.invoke("injectSubPackages",{subPackages:[e]},t)):(v.info(`[WxModule] loadSubpackage: ${e}`),w.loadSubpackage({name:e,success(){var n=p.subPackages.find((t=>t.root===e||t.root===e.slice(0,-1))),i=Object.assign({},null==n?void 0:n.plugins);r&&Object.assign(i,p.plugins);var a=Object.keys(i||{}).map((e=>{var t=i[e].provider,r="__plugin__/"+t;return{plugin_id:t,prefix_path:c.includes(t)?null:r}}));x.injectEntryFile(r?"":e,a),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){v.error(`[WxModule] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))},h=e=>{for(var t,r,n=null!==(t=null===(r=p)||void 0===r?void 0:r.subPackages)&&void 0!==t?t:[],i=0;i<n.length;++i){var a=n[i].root||"";if(a&&"/"!==a.slice(-1)&&(a+="/"),e.slice(0,a.length)===a)return{subPackage:a,independent:!!n[i].independent}}return{subPackage:"__APP__",independent:!1}},f=e=>{for(var t=[],r=e.split("/"),n=0,i=r.length;n<i;++n){var a=r[n];if(""!==a&&"."!==a)if(".."===a){if(0===t.length){t=[];break}t.pop()}else n+1<i&&".."===r[n+1]?n++:t.push(a)}return t},g=e=>{var t,r=!1;return(...n)=>(r||(t=e(...n),r=!0),t)};class m{constructor(e){this._$requireQueues=null,this._$blockingStatus=0,this._$scope=void 0,this._$err=e=>new Error(`Framework inner error: ${e} (scope: ${this._$scope}, status: ${this._$blockingStatus})`),this._$scope=e}isBlocking(){return 1===this._$blockingStatus}block(){if(!u())if(0===this._$blockingStatus)this._$requireQueues=[],this._$blockingStatus=1;else{if(2!==this._$blockingStatus)throw this._$err("trying to block require at wrong time");this._$blockingStatus=1}}queue(e,t){if(!this.isBlocking())throw this._$err("trying to queue an require when not blocking");this._$requireQueues.push([e,t])}unblock(){if(!u()){if(!this.isBlocking())throw this._$err("trying to unblock require queue when not blocking");this._$blockingStatus=2}}flushQueue(){if(!u()){if(2!==this._$blockingStatus)throw this._$err("require queue flushing must be unblocked");var e=this._$requireQueues;this._$blockingStatus=0,this._$requireQueues=null,e.forEach((e=>{try{e[0].apply(null,e[1])}catch(t){console.error(`Error during evaluating file "${e[1][0]}": `),console.error(t.message),console.error(t.stack)}}))}}}var y=new m("/"),_=(e,t)=>{var n=i(e);if(null==n||!n.pluginId||!n.version)throw new Error('schema must match "plugin://{name}/{version}"');var s,c=a(n),u={status:r.UNLOAD,factory:t,mods:{},getGlobal:g((()=>(e=>{if(void 0===L||"function"!=typeof L.__createPluginGlobal)throw new Error("Create plugin global failed.");if(!p.isReady)throw new Error("Framework inner error: try to create plugin global before config ready.");return L.__createPluginGlobal(e.pluginId,e.version)})(n))),getGlobalFlagsManager:g((()=>new l(u.getGlobal()))),requireBlocker:new m(c)};s=u,o[c]=s},S=(e,t)=>{var r,n,i=s(e),a=f(t+"/index.js").join("/");return null!=i&&null!==(r=i.mods)&&void 0!==r&&r[a]?a:(a=f(t).join("/"),/\.js$/.test(a)||(a+=".js"),null!=i&&null!==(n=i.mods)&&void 0!==n&&n[a]?a:"")},C=(e,t)=>{var r=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return t&&t[1]?t[1]:"./"})(t);return function(t){if("string"!=typeof t)throw new Error("require args must be a string.");var n=f(t.startsWith("/")?t:`${r}/${t}`);if(!n)throw new Error("can't find module : "+t);var i=n.join("/");return i=((e,t,r,n)=>{var i,a=t,o=s(e);if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&null!=o&&null!==(i=o.mods)&&void 0!==i&&i[a])return a;var l=f(r);if(!l)throw new Error(`can't find module : ${n}`);for(var c,u=t.substring(l.join("/").length);l.length;){var d=l.join("/")+"/miniprogram_npm"+u;if(c=S(e,d))break;l.pop()}return c||(u="/"===u[0]?u:"/"+u,c=S(e,"miniprogram_npm"+u)),c||t})(e,i,r,t),I(e,i)}},I=(e,t)=>{(e=>{if("string"!=typeof e)throw new Error("require args must be a string")})(t);var n=s(e);if(void 0===n)throw new Error(`Plugin "${e}" is not defined.`);var i=n.getGlobalFlagsManager();if(n.requireBlocker.isBlocking())return i.saveAndClear(t),void n.requireBlocker.queue(I,[e,t]);var a=n.mods[t];if(void 0===a)throw new Error(`Plugin module "${t}" is not defined.`);if(a.status===r.UNLOAD){var o,l={exports:{}};a.exports=l.exports,a.status=r.LOADED;var c=a.factory;i.runWith(t,(()=>{c&&(o=c(C(e,t),l,l.exports))})),a.exports=void 0!==l.exports?l.exports:o}return a.exports},A=(e,t)=>{var n=t.factory,i=t.getGlobal(),a={exports:{}};if(!n)return a.exports;var o=(e=>function(t,n){var i=s(e);if(void 0===i)throw new Error(`Sorry, plugin "${e}" is not defined.`);i.mods[t]={status:r.UNLOAD,factory:n}})(e),l=(e=>function(t){return I(e,t)})(e),c=i.beforeFactory;delete i.beforeFactory;var u=i.afterFactory;delete i.afterFactory;var d=i.publishDomainComponents;i.publishDomainComponents=e=>{t.requireBlocker.isBlocking()?t.requireBlocker.queue(d,[e]):d(e)},"function"==typeof c&&c.apply(i,[o,l,a]),t.requireBlocker.block();var p=n(o,l,a,a.exports,i,i.wx,void 0,i.Page,i.Component,i.Behavior,void 0,i.getCurrentPages,void 0,i.requireMiniProgram,i.WXWebAssembly,i.__wxCodeSpace__);return t.requireBlocker.unblock(),t.requireBlocker.flushQueue(),"function"==typeof u&&u.apply(i,[o,l,a]),void 0!==a.exports?a.exports:p},k=(e,t)=>{if(y.isBlocking())y.queue(k,[e,t]);else{var n,o,l;(()=>{if(void 0===p||void 0===p.plugins&&void 0===p.gamePlugins)throw new Error("This application has not registered any plugins yet.")})(),(e=>{if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")})(e);var c=i(e),u=void 0===c;if(u||(n=c.pluginId,o=a(c),l=s(o)),void 0===l&&(e=>null!==e.match(/^wx[0-9a-f]{16}$/))(e)&&(n=e,o=a({pluginId:e,version:"0"}),l=s(o)),void 0===l){var h=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],n=t[2],i=(p.plugins||p.gamePlugins)[r];if(void 0===i)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:i.provider,version:"0",path:n}})(e);n=h.pluginId,o=a(h),l=s(o)}if("function"!=typeof t){if(void 0===l)throw new Error(`Plugin "${o}" is not defined.`);return l.status===r.UNLOAD&&(l.exports=A(o,l),l.status=r.LOADED),u?"function"==typeof l.exports?l.exports():void 0:l.exports}if(void 0===l){var f=(e=>{for(var t=p.subPackages||[],r=function(r){if(!t[r].plugins)return"continue";if(Object.keys(t[r].plugins).find((n=>t[r].plugins[n].provider===e))){var n=t[r].root||"";return n&&"/"!==n.slice(-1)&&(n+="/"),{v:n}}},n=0;n<t.length;++n){var i=r(n);if("continue"!==i&&"object"==typeof i)return i.v}return"__APP__"})(n);d(f,(()=>{t(k(e))}))}else setTimeout((()=>{t(k(e))}))}};k.async=function(e){return new Promise(((t,r)=>{try{k(e,(e=>{t(e)}))}catch(e){r(e)}}))};var E={},P=(e,t)=>{E[e]=t},O=e=>E[e],R=()=>Object.keys(E);if(globalThis.wxModuleVersion){var M=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>M}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var D=!1,N=[],B=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var n=e[t];e[t].endsWith("*")&&(n=n.slice(0,-1)),N.push({key:r,value:n})}))};"function"==typeof p.onReady?p.onReady((()=>{"object"==typeof p.resolveAlias&&(D=!!Object.keys(p.resolveAlias).length)&&B(p.resolveAlias)})):"object"==typeof p.resolveAlias&&(D=!!Object.keys(p.resolveAlias).length)&&B(p.resolveAlias);var $={};function F(e,t){if(O(e)&&O(e).factory){var n=O(e),i=t.toString();n.factoryString||(n.factoryString=n.factory.toString()),i!==n.factoryString&&P(e,{status:r.UNLOAD,factory:t,factoryString:i})}else P(e,{status:r.UNLOAD,factory:t})}var j=e=>{if(e&&p.subPackages)for(var t=0,r=p.subPackages.length;t<r;t++)if(0===e.indexOf(p.subPackages[t].root))return p.subPackages[t]},W=e=>{var t=f(e+"/index.js").join("/");return O(t)?t:(t=f(e).join("/"),/\.js$/.test(t)||(t+=".js"),O(t)?t:"")},U=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"})(e),r=function(r,n,i){var a,o=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?a=f(r).join("/"):(D&&(a=(e=>{var t={key:"",value:""},r=!1;if(N.forEach((n=>{e.startsWith(n.key)&&t.key.length<n.key.length&&(t=n,r=!0)})),r){var n=e.replace(t.key,t.value);return"/"===n[0]&&(n=n.slice(1)),n}})(r)),void 0!==a?(o="",a=f(a).join("/")):a=f(o+"/"+r).join("/")),!a)throw new Error(`can not find module : ${a}, require args is ${r}`);try{var s=((e,t,r)=>{var n=e;if(/\.js$/.test(n)||(n+=".js"),"string"==typeof n&&O(n))return n;var i=f(t);if(!i)throw new Error("can not find module : "+r);for(var a,o,s=e.substring(i.join("/").length);i.length&&(o=i.join("/")+"/miniprogram_npm"+s,!(a=W(o)));)i.pop();return a||(s="/"===s[0]?s:"/"+s,a=W(o="miniprogram_npm"+s)),a||e})(a,o,r),l=e=>"functional-pages"===f(e)[0];if(l(s)!==l(e)&&T.thirdErrorReport({error:new Error(`should not require across "functional-pages" folder, at require("${r}") in ${e}`)}),"devtools"===p.platform&&p.subPackages&&void 0===n){var c=j(s),u=j(e);c&&c!==u&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return q(s,void 0,n,r,t,i)}catch(e){throw e}};return r.async=e=>new Promise(((t,n)=>{try{return r(e,t,n)}catch(e){n(e)}})),r},V=new l(globalThis);function q(e,t,n,i="",a,o){if(y.isBlocking())return V.saveAndClear(e),void y.queue(q,[e,t,n,i,a,o]);if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var s=O(e);if(!s){var l=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(l="miniprogram_npm/"+l)||(l+=".js"),s=O(l)}if(e.endsWith(".js")||(e+=".js"),!s&&"devtools"!==p.platform&&void 0!==x&&p.isLazyLoad){var c=e.slice(0,e.length-3),u=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[c]?__LAZY_CODE_LOADING_CHUNK_MAP__[c]:c}.appservice.js`,f=x.loadJsFiles([u],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});s=O(e),null==f||f(!!s)}if("function"!=typeof n){if(!s)throw new Error(`module '${e}' is not defined, require args is '${""===i?e:i}'`);var g={exports:{}},v=s.factory;if(!t||$[e])return delete s.exports,s.status=r.UNLOAD,$[e]=!0,V.runWith(e,(()=>{null==v||v(U(e),g,g.exports)})),g.exports;if(s.status===r.UNLOAD){var m;s.exports=g.exports,s.status=r.LOADED;try{V.runWith(e,(()=>{v&&(m=v(U(e),g,g.exports))}))}catch(e){throw s.status=r.UNLOAD,e}s.exports=void 0!==g.exports?g.exports:m}return s.exports}var _=t=>{var r="async require: fail";"object"==typeof t&&t&&t.message&&(r=t.message),null==o||o({errMsg:r,mod:e})},b=function(...e){try{var t=q(...e);n(t)}catch(e){_(e)}};if(s)setTimeout((()=>b(e)));else{var w="string"==typeof a&&h(a).independent,{subPackage:S,independent:C}=h(e);!C&&w?d("__APP__",(t=>{t&&!1===t.loaded?_(new Error("loadSubPackage: fail, subPackage: __APP__")):"__APP__"!==S?d(S,(t=>{t&&!1===t.loaded?_(new Error(`loadSubPackage: fail, subPackage: ${S}`)):b(e)})):n(b(e))})):d(S,(t=>{t&&!1===t.loaded?_(new Error(`loadSubPackage: fail, subPackage: ${S}`)):b(e)}))}}function z(e){return q(e,!1)}H=t})();var K=H.definePlugin,Q=H.requirePlugin,J=globalThis.define=H.define,X=globalThis.require=H.require;globalThis.requireOnce=H.requireOnce,w.setWxModule(H);var Y=void 0!==H?H:{};if(n.definePlugin=Y.definePlugin,n.requirePlugin=Y.requirePlugin,"function"==typeof __passWAServiceGlobal__){var Z={};if(Z.__appServiceEngine__=L,Z.__appServiceSDK__=w,Z.__virtualDOM__=N,Z.__subContextEngine__=x,Z.__sclEngine__=l,Z.Reporter=T,Z.exparser=O,Z.WeixinJSBridge=b,Z.Foundation=h,Z.Protect=k,"undefined"!=typeof __isAppServiceRemoteDebugMode__)return void __passWAServiceGlobal__({});__passWAServiceGlobal__(Z)}};function R(){var e;"undefined"!=typeof wx&&wx.version&&(e=wx.version);try{O()}catch(e){}e&&void 0!==n&&n.wx&&(n.wx.version=e)}x.isIsolateContext(),x.isIsolateContext()&&"undefined"==typeof __isAppServiceRemoteDebugMode__||R(),x.initAppRelatedContexts(n)})(this);var __WAServiceEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;