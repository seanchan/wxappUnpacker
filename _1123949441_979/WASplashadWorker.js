this.__wxLibrary={fileName:"WASplashadWorker.js",envType:"Worker",contextType:"others",execStart:Date.now(),mayHaveSnapshot:!1};var __WASplashadWorkerStartTime__=this.__wxLibrary.execStart;!function(e){var t=e.WXConfig;Foundation.env.workerType="splashad",Foundation.env.typeStr="splashadWorker",(()=>{var e={405:e=>{e.exports=function(e,t,i,a,n){var r={};return Object.keys(a).forEach((function(e){r[e]=a[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,a){return a(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r},e.exports.__esModule=!0,e.exports.default=e.exports},986:e=>{function t(e,t,i,a,n,r,o){try{var s=e[r](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(a,n)}e.exports=function(e){return function(){var i=this,a=arguments;return new Promise((function(n,r){var o=e.apply(i,a);function s(e){t(o,n,r,s,l,"next",e)}function l(e){t(o,n,r,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},662:e=>{e.exports=function(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})},e.exports.__esModule=!0,e.exports.default=e.exports},669:e=>{e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")},e.exports.__esModule=!0,e.exports.default=e.exports},977:(e,t,i)=>{var a;e=i.nmd(e),function(n){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof i.g&&i.g;r.global!==r&&r.window!==r&&r.self;var o,s=2147483647,l=36,d=1,u=26,c=38,p=700,h=72,f=128,m="-",v=/^xn--/,y=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=l-d,E=Math.floor,C=String.fromCharCode;function b(e){throw RangeError(_[e])}function I(e,t){for(var i=e.length,a=[];i--;)a[i]=t(e[i]);return a}function T(e,t){var i=e.split("@"),a="";return i.length>1&&(a=i[0]+"@",e=i[1]),a+I((e=e.replace(g,".")).split("."),t).join(".")}function w(e){for(var t,i,a=[],n=0,r=e.length;n<r;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<r?56320==(64512&(i=e.charCodeAt(n++)))?a.push(((1023&t)<<10)+(1023&i)+65536):(a.push(t),n--):a.push(t);return a}function k(e){return I(e,(function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,i){var a=0;for(e=i?E(e/p):e>>1,e+=E(e/t);e>A*u>>1;a+=l)e=E(e/A);return E(a+(A+1)*e/(e+c))}function P(e){var t,i,a,n,r,o,c,p,v,y,g,_=[],A=e.length,C=0,I=f,T=h;for((i=e.lastIndexOf(m))<0&&(i=0),a=0;a<i;++a)e.charCodeAt(a)>=128&&b("not-basic"),_.push(e.charCodeAt(a));for(n=i>0?i+1:0;n<A;){for(r=C,o=1,c=l;n>=A&&b("invalid-input"),((p=(g=e.charCodeAt(n++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:l)>=l||p>E((s-C)/o))&&b("overflow"),C+=p*o,!(p<(v=c<=T?d:c>=T+u?u:c-T));c+=l)o>E(s/(y=l-v))&&b("overflow"),o*=y;T=x(C-r,t=_.length+1,0==r),E(C/t)>s-I&&b("overflow"),I+=E(C/t),C%=t,_.splice(C++,0,I)}return k(_)}function D(e){var t,i,a,n,r,o,c,p,v,y,g,_,A,I,T,k=[];for(_=(e=w(e)).length,t=f,i=0,r=h,o=0;o<_;++o)(g=e[o])<128&&k.push(C(g));for(a=n=k.length,n&&k.push(m);a<_;){for(c=s,o=0;o<_;++o)(g=e[o])>=t&&g<c&&(c=g);for(c-t>E((s-i)/(A=a+1))&&b("overflow"),i+=(c-t)*A,t=c,o=0;o<_;++o)if((g=e[o])<t&&++i>s&&b("overflow"),g==t){for(p=i,v=l;!(p<(y=v<=r?d:v>=r+u?u:v-r));v+=l)T=p-y,I=l-y,k.push(C(S(y+T%I,0))),p=E(T/I);k.push(C(S(p,0))),r=x(i,A,a==n),i=0,++a}++i,++t}return k.join("")}o={version:"1.3.2",ucs2:{decode:w,encode:k},decode:P,encode:D,toASCII:function(e){return T(e,(function(e){return y.test(e)?"xn--"+D(e):e}))},toUnicode:function(e){return T(e,(function(e){return v.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return o}.call(t,i,t,e))||(e.exports=a)}(globalThis)},817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,a,n){i=i||"&",a=a||"=";var r={};if("string"!=typeof e||0===e.length)return r;var o=/\+/g;e=e.split(i);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var d=0;d<l;++d){var u,c,p,h,f=e[d].replace(o,"%20"),m=f.indexOf(a);m>=0?(u=f.substr(0,m),c=f.substr(m+1)):(u=f,c=""),p=decodeURIComponent(u),h=decodeURIComponent(c),t(r,p)?Array.isArray(r[p])?r[p].push(h):r[p]=[r[p],h]:r[p]=h}return r}},779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,a,n){return i=i||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var r=encodeURIComponent(t(n))+a;return Array.isArray(e[n])?e[n].map((function(e){return r+encodeURIComponent(t(e))})).join(i):r+encodeURIComponent(t(e[n]))})).join(i):n?encodeURIComponent(t(n))+a+encodeURIComponent(t(e)):""}},935:(e,t,i)=>{"use strict";t.decode=t.parse=i(817),t.encode=t.stringify=i(779)},517:(e,t,i)=>{"use strict";var a=i(977),n=i(417);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=_;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(d),c=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=i(935);function _(e,t,i){if(e&&n.isObject(e)&&e instanceof r)return e;var a=new r;return a.parse(e,t,i),a}r.prototype.parse=function(e,t,i){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=-1!==r&&r<e.indexOf("#")?"?":"#",d=e.split(s);d[0]=d[0].replace(/\\/g,"/");var _=e=d.join(s);if(_=_.trim(),!i&&1===e.split("#").length){var A=l.exec(_);if(A)return this.path=_,this.href=_,this.pathname=A[1],A[2]?(this.search=A[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=o.exec(_);if(E){var C=(E=E[0]).toLowerCase();this.protocol=C,_=_.substr(E.length)}if(i||E||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var b="//"===_.substr(0,2);!b||E&&v[E]||(_=_.substr(2),this.slashes=!0)}if(!v[E]&&(b||E&&!y[E])){for(var I,T,w=-1,k=0;k<p.length;k++){-1!==(S=_.indexOf(p[k]))&&(-1===w||S<w)&&(w=S)}-1!==(T=-1===w?_.lastIndexOf("@"):_.lastIndexOf("@",w))&&(I=_.slice(0,T),_=_.slice(T+1),this.auth=decodeURIComponent(I)),w=-1;for(k=0;k<c.length;k++){var S;-1!==(S=_.indexOf(c[k]))&&(-1===w||S<w)&&(w=S)}-1===w&&(w=_.length),this.host=_.slice(0,w),_=_.slice(w),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),D=(k=0,P.length);k<D;k++){var O=P[k];if(O&&!O.match(h)){for(var R="",M=0,N=O.length;M<N;M++)O.charCodeAt(M)>127?R+="x":R+=O[M];if(!R.match(h)){var L=P.slice(0,k),B=P.slice(k+1),W=O.match(f);W&&(L.push(W[1]),B.unshift(W[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=a.toASCII(this.hostname));var F=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+F,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[C])for(k=0,D=u.length;k<D;k++){var U=u[k];if(-1!==_.indexOf(U)){var H=encodeURIComponent(U);H===U&&(H=escape(U)),_=_.split(U).join(H)}}var j=_.indexOf("#");-1!==j&&(this.hash=_.substr(j),_=_.slice(0,j));var G=_.indexOf("?");if(-1!==G?(this.search=_.substr(G),this.query=_.substr(G+1),t&&(this.query=g.parse(this.query)),_=_.slice(0,G)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+a},r.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(n.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,a=Object.keys(this),o=0;o<a.length;o++){var s=a[o];i[s]=this[s]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),d=0;d<l.length;d++){var u=l[d];"protocol"!==u&&(i[u]=e[u])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!y[e.protocol]){for(var c=Object.keys(e),p=0;p<c.length;p++){var h=c[p];i[h]=e[h]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||v[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",g=i.search||"";i.path=m+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),A=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=A||_||i.host&&e.pathname,C=E,b=i.pathname&&i.pathname.split("/")||[],I=(f=e.pathname&&e.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(I&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),E=E&&(""===f[0]||""===b[0])),A)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),i.search=e.search,i.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(I)i.hostname=i.host=b.shift(),(x=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=x.shift(),i.host=i.hostname=x.shift());return i.search=e.search,i.query=e.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var T=b.slice(-1)[0],w=(i.host||e.host||b.length>1)&&("."===T||".."===T)||""===T,k=0,S=b.length;S>=0;S--)"."===(T=b[S])?b.splice(S,1):".."===T?(b.splice(S,1),k++):k&&(b.splice(S,1),k--);if(!E&&!C)for(;k--;k)b.unshift("..");!E||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var x,P=""===b[0]||b[0]&&"/"===b[0].charAt(0);I&&(i.hostname=i.host=P?"":b.length?b.shift():"",(x=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=x.shift(),i.host=i.hostname=x.shift()));return(E=E||i.host&&b.length)&&!P&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:i()}}();function t(){if(n(/^<\?xml\s*/)){for(var e={attributes:{}};!r()&&!o("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return n(/\?>\s*/),e}}function i(){var e=n(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(r()||o(">")||o("?>")||o("/>"));){var l=a();if(!l)return s;s.attributes[l.name]=l.value}if(n(/^\s*\/>\s*/))return s;for(n(/\??>\s*/),s.content=function(){var e=n(/^([^<]*)/);return e?e[1]:""}();t=i();)s.children.push(t);return n(/^<\/[\w-:.]+>\s*/),s}}function a(){var e,t=n(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function n(t){var i=e.match(t);if(i)return e=e.slice(i[0].length),i}function r(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},342:(e,i,a)=>{"use strict";a.d(i,{default:()=>r});var n=(()=>(t.onReady((()=>{n!==t&&void 0!==n&&Object.assign(n,t)})),t))();const r=n},445:(e,t,i)=>{"use strict";i.d(t,{Ae:()=>u,DD:()=>c,KU:()=>m,LU:()=>g,Mq:()=>d,RF:()=>v,aI:()=>f,cj:()=>s,er:()=>h,gm:()=>r,iw:()=>n,jP:()=>p,qB:()=>l,tK:()=>_,wZ:()=>o});var a=i(342),n=(()=>a.default.platform)(),r=(()=>"devtools"===n)(),o=(()=>"android"===n)(),s=(()=>"ios"===n)(),l=(()=>"windows"===n)(),d=(()=>"mac"===n)(),u=(()=>"mina"===n)(),c=(()=>l||d)();var p=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function h(){var e=a.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function f(){return!1}var m=(()=>!1)();function v(){return 0===a.default.appType}var y=[0,1,2,3,5,6,8,9,10,11,12,13];function g(){return y.includes(a.default.appType)}function _(){return 7===a.default.appType}},591:(e,t,i)=>{"use strict";i.d(t,{i:()=>n,l:()=>a});class a extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class n extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}},661:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=20;function r(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:n,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=n}function s(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,o.call(this,e)}l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,i){return this._many(e,1,t,i),this},l.prototype.many=function(e,t,i){return this._many(e,t,i,!1)},l.prototype.prependMany=function(e,t,i){return this._many(e,t,i,!0)},l.prototype._many=function(e,t,i,a){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&n.off(e,r),i.apply(this,arguments)}return r._origin=i,this._on(e,r,a),n},l.prototype.emit=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,i,a,n,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,s){case 1:o[a].call(this,e);break;case 2:o[a].call(this,e,arguments[1]);break;case 3:o[a].call(this,e,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,s){case 1:o[a].call(this);break;case 2:o[a].call(this,arguments[1]);break;case 3:o[a].call(this,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||r.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,a,n,o,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),n=1;n<l;n++)t[n]=arguments[n];for(a=0,i=this._all.length;a<i;a++)switch(this.event=e,l){case 1:s.push(this._all[a].call(this,e));break;case 2:s.push(this._all[a].call(this,e,arguments[1]));break;case 3:s.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[a].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,l){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),l>3)for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,l){case 1:s.push(o[a].call(this));break;case 2:s.push(o[a].call(this,arguments[1]));break;case 3:s.push(o[a].call(this,arguments[1],arguments[2]));break;default:s.push(o[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||r.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,n=[];if(!this._events[e])return this;i=this._events[e],n.push({_listeners:i});for(var r=0;r<n.length;r++){if(i=n[r]._listeners,a(i)){for(var o=-1,s=0,l=i.length;s<l;s++)if(i[s]===t||i[s].listener&&i[s].listener===t||i[s]._origin&&i[s]._origin===t){o=s;break}if(o<0)continue;return this._events[e].splice(o,1),0===i.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var i=Object.keys(t);for(var a in i){var n=i[a],r=t[n];r instanceof Function||"object"!=typeof r||null===r||(Object.keys(r).length>0&&e(t[n]),0===Object.keys(r).length&&delete t[n])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,i=0,a=0;if(e&&this._all&&this._all.length>0){for(i=0,a=(t=this._all).length;i<a;i++)if(e===t[i])return t.splice(i,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(i=0,a=t.length;i<a;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||r.call(this),this):(this._events&&delete this._events[e],this)},l.prototype.listeners=function(e){return this._events||r.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]};const d=l},916:(e,i,a)=>{"use strict";a.d(i,{Z:()=>Au});var n={};a.r(n),a.d(n,{appRouteInfo:()=>yl,deviceInfo:()=>vl,deviceInfoLoaded:()=>Ol,getDeviceOrientation:()=>wl,getGameTouchStatus:()=>Ml,getIndentityInfo:()=>Tl,loadDeviceInfoByManual:()=>Rl,proxyReady:()=>Sl,stopTouchHanlder:()=>Bl});const r={query:{},scene:0,sceneNote:""};var o=a(661),s=(()=>new o.Z({maxListeners:20,newListener:!1}))(),l=(()=>new o.Z({maxListeners:30,newListener:!1}))();var d={};function u(e){if(e=e[0].toUpperCase()+e.slice(1),!d[e]){var t=new WeakMap;d[e]={getGlobalListeners:()=>s.listeners(e),getInternalListeners:()=>l.listeners(e),emit:(...t)=>{l.emit(e,...t),s.emit(e,...t)},emitGlobal:(...t)=>{s.emit(e,...t)},emitInternal:(...t)=>{l.emit(e,...t)},internalOnMethod:(t,i={})=>{"function"==typeof t&&(i.prepend?i.once?l.prependOnceListener(e,t):l.prependListener(e,t):i.once?l.once(e,t):l.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&l.off(e,t)},onMethod:i=>{var a=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):__errorTracer__.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,i);if(a){if(t.has(i)){var n=t.get(i);n.push(a),t.set(i,n)}else t.set(i,[a]);s.on(e,a)}},offMethod:i=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,i))if(i){if(t.has(i)){t.get(i).forEach((t=>s.off(e,t))),t.delete(i)}}else t=new WeakMap,s.removeAllListeners(e)}}}return d[e]}var c,p=u("LifeCycle:Show"),h=(p.emitInternal.bind(p),p.emitGlobal.bind(p),p.onMethod,p.offMethod,p.internalOnMethod),f=p.internalOffMethod,m=u("LifeCycle:beforeHide"),v=u("LifeCycle:Hide"),y=u("LifeCycle:afterHide"),g=(v.emitInternal.bind(v),v.emitGlobal.bind(v),m.emitInternal.bind(m),y.emitInternal.bind(y),v.onMethod,v.offMethod,m.internalOnMethod),_=m.internalOffMethod,A=v.internalOnMethod,E=v.internalOffMethod,C=y.internalOnMethod,b=y.internalOffMethod;const I={get invoke(){return c},set invoke(e){c=e}};var T=a(342);const w={openAddress:62,setNavigationBarRightButton:238,requestVirtualPayment:285,navigateToDevMiniProgram:351,insertLivePusher:360,updateLivePusher:361,removeLivePusher:362,operateLivePusher:363,insertLivePlayer:364,updateLivePlayer:365,removeLivePlayer:366,operateLivePlayer:367,openOfflinePayView:403,setCookies:502,getCookies:503,joinVoIPChat:516,exitVoIPChat:517,onVoIPChatMembersChanged:518,onVoIPChatSpeakersChanged:519,onVoIPChatInterrupted:520,updateVoIPChatMuteConfig:521,insertXWebLivePlayer:561,updateXWebLivePlayer:562,removeXWebLivePlayer:563,insertXWebLivePusher:564,updateXWebLivePusher:565,removeXWebLivePusher:566,operateXWebLivePlayer:567,operateXWebLivePusher:568,UDP:606,launchApplicationDirectly:620,insertVoIPView:623,updateVoIPView:624,removeVoIPView:625,chooseShareGroup:627,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,operateMediaContainer:686,operateMediaTrack:687,launchApp:692,sendBizRedPacketForOpen:694,openVideoEditor:705,operateMediaRecorder:712,onMediaRecorderStateChange:713,openWxappLimit5:720,shareCallback:740,operateCanvasPlayer:741,onCanvasPlayerStateChange:742,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,subscribeVoIPMembers:780,onVoIPVideoMembersChanged:781,requestSubscribeWhatsNew:782,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneCalendar:912,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,requestLivePlayerPictureInPicture:930,handoff:931,private_chooseInvoiceTitleDirectly:932,insertXWebVoIPView:934,updateXWebVoIPView:935,removeXWebVoIPView:936,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingDownload:972,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,openChannelsCreateContact:985,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,showSalesDrivingMenu:1003,onSalesDrivingMessage:1004,plugin_launchApplicationDirectly_operateDirectly:1009,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,reportRequestError:1069,traceUAReport:1079,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,setFileSpaceStatistics:1168,setFileSpaceStatisticsSwitch:1174,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,setupUserBehaviorAnalytics:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235};var k=null,S=[],x=e=>{null!==k?e():S.push(e)},P=e=>{k=e.data.pluginPermissionBytes,S.forEach((e=>e())),S=[]};WeixinJSBridge.subscribe("batchGetPluginPermissionBytes",P),Foundation.onLibraryEnd((()=>{"undefined"!=typeof __subContextEngine__&&"function"==typeof __subContextEngine__.onSubContextMessage&&__subContextEngine__.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&P(e)}))})),WeixinJSBridge.subscribe("getPluginPermissionBytesByJsApi",(e=>{R(e.data.pluginId,e.data.apiName,(t=>{WeixinJSBridge.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var D=e=>e.split("/",1)[0],O=(e,t)=>{var i,a,n=null===(i=k)||void 0===i||null===(a=i[e])||void 0===a?void 0:a[t];return null==n?n=[0,0,0]:"object"!=typeof n&&(n=[n,n,n]),n};function R(e,i,a){e=D(e),t.supportInvokeWithAppId?WeixinJSBridge.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[w[i]]}]},(t=>{var i=t.pluginPermissionMap[e][0];a([i,i,i])})):x((()=>{var t=O(e,i);a(t)}))}var M=Object.create(null);function N(e,t){return function(...i){try{return e(...i)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function L(e,t){!function(e,t){M[e]instanceof Array?M[e].push(t):(M[e]=null,WeixinJSBridge.on(e,t))}(e,N(t,`at api ${e} callback function`))}var B={},W=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE"],F=(e,t)=>{var i=u(`WeixinJSBridge-${e}`);B[e]||(L(e,((...t)=>{i.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!W.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:i}=__appServiceSDK__;i(e,...t)}})(e,...t)})),B[e]=!0),i.internalOnMethod(t)},V=a(445);var U,H,j,G,z=new o.Z,$=z.on.bind(z,"__virtualDOM__"),Q=(z.on.bind(z,"__subContextEngineSub__"),z.on.bind(z,"__wxModule__"),z.on.bind(z,"__cloudSDK__"),{}),q=!1,Y=e=>Q[e]||H.getPageTypeById(e),Z=(e,t)=>{"context"===t?Q[e]=t:H.setPageTypeById(e,t),q=q||"webview"!==t},K=e=>"webview"===e?e:"context";null===(G=WeixinJSBridge.clientManager)||void 0===G||G.on("clientConnected",(e=>{Z(e,"webview")}));var X=(e,t={},i)=>{q&&(Array.isArray(i)?i.forEach((i=>{__subContextEngine__.postMessageToSubContext({event:e,params:{params:t,pageId:i}},i)})):__subContextEngine__.postMessageToSubContext({event:e,params:{params:t}},i))};function J(e,t,i){!function(e,t,i){WeixinJSBridge.publish(e,t,i)}(e,{data:t,options:{timestamp:Date.now()}},i)}var ee=V.KU?(e,t,i)=>{if(null==i)J(e,t,i),X(e,t,i);else{var a=(e=>{if(void 0===e||0===e.length)return{};var t=K(Y(e[0]));if(1===e.length)return{[t]:e};var i={};return e.forEach((e=>{var t=K(Y(e));void 0!==i[t]?i[t].push(e):i[t]=[e]})),i})(i);void 0!==a.webview&&J(e,t,a.webview),void 0!==a.context&&X(e,t,a.context)}}:J;function te(e,t){}var ie=V.KU?new Foundation.EventEmitter:null;V.KU&&Foundation.onLibraryEnd((()=>{__subContextEngine__.onSubContextMessage((e=>{ie.emit(e.event,e.params)}))}));var ae=V.KU?(e,t)=>{((e,t)=>{ie.on(e,(e=>{void 0===Y(e.pageId)&&Z(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:te,ne="",re=(e={})=>{try{ne=e.transitExtraData.adUxInfo}catch(e){ne=""}};T.default.onReady((()=>{re(T.default.appLaunchInfo)})),F("onAppEnterForeground",(e=>{re(e)})),F("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(ne="")})),ae("getAdUxInfo",((e,t)=>{ee("adUxInfoGot",{adUxInfo:ne,callbackId:e.callbackId},[t])}));var oe=()=>ne;function se(e,t,i,a={}){"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||oe());var n=a.appId;return"splashad"===Foundation.env.workerType||T.default.supportInvokeWithAppId||void 0===n||"undefined"!=typeof Foundation&&Foundation.env.isGame||4===T.default.appType?WeixinJSBridge.invoke(e,t,i,a):x((()=>{var r=function(e,t,i){t=D(t),delete i.permissionBytes;var a=O(t,e);return i.permissionBytes=a,i}(e,n,t);WeixinJSBridge.invoke(e,r,i,a)}))}var le={},de={},ue={},ce=0,pe=(e,t)=>Object.keys(t).map((i=>Object.keys(t[i]).map((a=>({func:i,result:e,errMsg:a,count:t[i][a]}))))),he=()=>{var e=pe(1,le),t=pe(2,de),i=pe(3,ue),a=[].concat(e,t,i);0!==a.length&&et("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:a,appType:Reporter.getAppType()})}),le={},de={},ue={}},fe=(e,t,i,a,n)=>{var r;(r=t?le:i?de:ue)[e]=r[e]||{},r[e][n]=(r[e][n]||0)+1,Date.now()-ce>=6e4&&(ce=Date.now(),setTimeout(he,6e4))},me=a(142),ve=null,ye=void 0;const ge={lastRoute:"",lastOpenType:"",scene:-1,sceneNote:"",query:{},runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",routeType:"",openingInnerPage:!1,get currentWebviewId(){return ye},set currentWebviewId(e){ye=e,ve&&(ve(null),ve=null)},currentWebviewIdPromise:new Promise((e=>{ve=e})),getWebviewIds:()=>H.getGlobalWebviewIds()};var _e={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},Ae={OK:1,BLOCK:2,NO_BLOCK:3},Ee={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},Ce="该功能暂时无法使用",be=wxNativeConsole.createLogger("BanForPage"),Ie=!1,Te=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),we=[];function ke(e,t,i){var a=function(e,t,i){for(var a=-1,n=0;n<we.length;n++){var r=we[n];if((!(0,me.HD)(r.path_rule)||!r.path_rule||new RegExp(r.path_rule).test(t))&&(!(0,me.HD)(r.title_rule)||!r.title_rule||new RegExp(r.title_rule).test(i))){a=n;break}}return be.log(`[getBanRuleIndexForPage] banRuleIndex=${a}`),a}(0,t,i);return-1===a?(Se(e,Ae.OK,Ee.API,e),!0):function(e,t){var i,a,n=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!n)return be.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(be.log("[checkAPIAvailableForPageByRule], found APIItem:",n),n.state===_e.OK)i=!1;else if(n.state===_e.BLOCK)i=!0;else if(n.state===_e.BLOCK_WITH_TOAST&&(i=!0,1===e.is_valid)){var r=n.toast_wording||Ce;nt("showToast",{title:r,icon:"none"})}return a=i?e.is_valid?Ae.BLOCK:Ae.NO_BLOCK:Ae.OK,Se(t,a,Ee.API,t),1!==e.is_valid||!i}(we[a],e)}function Se(e,t,i,a="",n=""){if(be.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${i}, extraInfo=${a}, needReport=${Ie}`),Ie){var{appLaunchInfo:r}=T.default,o=Object.keys(ge.query).map((e=>`${e}=${ge.query[e]}`)).join("&"),s={session_id:r.sessionid||r.sessionId,cur_path:ge.lastRoute+(o?`?${o}`:""),title:ge.navigationBarTitleMap[ge.lastRoute],check_scene:i,block_status:t,extra_info:a,launch_scene:r.scene,launch_path:r.path,target_path:n};be.log("[reportAPIBanForPage], reqData:",s),Ct({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){be.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}T.default.onReady((()=>{if(!V.gm)try{var{do_report:e,navigate_ban_rule_list:t}=T.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;we=t,Ie=1===e,Te=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),Te))}catch(e){be.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var xe=Function.prototype.call.bind(Array.prototype.push),Pe=(Function.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),De=[],Oe={appRoute:!1,appRouteDone:!1},Re="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",Me="undefined"!=typeof __libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";"string"==typeof Re&&(Re=Re.replace(" ","")),"string"==typeof Me&&(Me=Me.replace(" ","-"));var Ne=()=>Re,Le=()=>Me;var Be,We=(()=>Object.create)(),Fe=(()=>Object.assign)(),Ve=(()=>Object.keys)(),Ue=(()=>Array.prototype.reduce)(),He=Array.prototype.includes.bind(Pe),je=Function.prototype.call.bind(Ue),Ge=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function ze(e,t){return je(Ve(e),((i,a)=>("function"==typeof e[a]&&(i[a]=__errorTracer__.surroundThirdByTryCatch(e[a],`at api ${t} ${a} callback function`),delete e[a]),i)),{})}function $e(e,t,i,a,n){e.errMsg=e.errMsg||`${t}:ok`;var r=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof a.beforeAll&&a.beforeAll(e),r?function(e,t,i,a,n){var r=function(){"function"==typeof e.success&&e.success(i),"function"==typeof a.afterSuccess&&a.afterSuccess(i)};"function"==typeof a.beforeSuccess?2===a.beforeSuccess._argumentsLength?a.beforeSuccess(i,r):(a.beforeSuccess(i),r()):r(),"function"==typeof Be&&Be(t,n)}(i,t,e,a,n):o?function(e,t,i,a){var n=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(n,`${t}:fail cancel`),"function"==typeof i.fail&&i.fail(e),"function"==typeof a.beforeCancel&&a.beforeCancel(e),"function"==typeof i.cancel&&i.cancel(e),"function"==typeof a.afterCancel&&a.afterCancel(e)}(e,t,i,a):s&&function(e,t,i,a){"function"==typeof e.beforeFail&&e.beforeFail(i),"function"==typeof a.fail&&a.fail(i),"function"==typeof e.afterFail&&e.afterFail(i),(0,me.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(i)||Reporter.reportIDKey({key:`${t}_fail`})}(a,t,e,i),"function"==typeof i.complete&&i.complete(e),"function"==typeof a.afterAll&&a.afterAll(e),fe(t,r,s,o,e.errMsg)}var Qe=(()=>String.prototype.split)(),qe=(()=>String.prototype.startsWith)(),Ye=Function.prototype.call.bind(Qe),Ze=Function.prototype.call.bind(qe);function Ke(e){return function(t,i={},a={},n="/"){var r=a.notPack;(0,me.Kn)(i)||(i={}),"operateWXData"===t&&(i._isFromBaseOperateWXData,delete i._isFromBaseOperateWXData),a=function(e,t){return je(Ve(e),((i,a)=>("function"==typeof e[a]&&(i[a]=N(e[a],`at api ${t} ${a} callback function`),i[a]._argumentsLength=e[a].length),i)),{})}(a,t);var o=function(e,t,i,a){var n;return n=i.isThird?ze(i,t):ze(e,t),function(e){$e(e,t,n,i,a)}}(i=Fe(We(null),i),t,a,n);Reporter.reportIDKey({key:t});var s,l,d,u={keepOriginalParams:(s=t,V.jP||V.wZ&&Ge.includes(s))};if(!e&&"splashad"!==Foundation.env.workerType){if((0,V.LU)()&&Te.has(t)&&(l=t,d=Object.keys(ge.query).reduce(((e,t)=>[...e,`${t}=${ge.query[t]}`]),[]).join("&"),!ke(l,ge.lastRoute+(d?`?${d}`:""),ge.navigationBarTitleMap[ge.lastRoute]||"")))return void o({errMsg:`${t}:fail API has been banned`});if(delete i.pluginId,delete i.permissionBytes,"string"==typeof n&&Ze(n,"wx")){var c=(e=>Ye(e,"/",1)[0])(n);u.appId=c}}r&&(u.notPack=!0),se(t,i,o,u)}}var Xe,Je=Ke(!1),et=(e,t,i)=>{He(e)?((e,t,i)=>{var{appRoute:a,appRouteDone:n}=Oe;!a&&n?Je(e,t,i):xe(De,{name:e,args:t,option:i})})(e,t,i):Je(e,t,i)},tt={},it=(e,t,i)=>{var a,n=i.notPack,r={pureInvoke:!0,highPerformance:tt,keepOriginalParams:V.jP};a=Xe||(()=>{if(Xe)return Xe;var e=(e,t)=>{var i=tt[t];if(i){e.errMsg=e.errMsg||`${i.__jsapi_name__}:ok`;var a=0===e.errMsg.indexOf(`${i.__jsapi_name__}:ok`),n=new RegExp(`${i.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),r=0===e.errMsg.indexOf(`${i.__jsapi_name__}:fail`);try{a&&i.success?i.success(e):n&&i.cancel?i.cancel():r&&i.fail(e),i.complete&&i.complete(e)}catch(e){}fe(i.__jsapi_name__,a,r,n,e.errMsg),delete tt[t]}};return Xe=e,e})(),n&&(r.notPack=!0),t.__jsapi_name__=e,WeixinJSBridge.pureInvoke(e,t,a,r)},at=Ke(!0),nt=(e,t,i)=>{at(e,t,i)};I.invoke=et;var rt=600009;function ot(e,t,i){var a=(0,me.x7)(t,i);return!a||(lt({name:e,args:t,errno:1001,errMsg:`parameter error: ${a}`,success:!1}),!1)}function st(e,t={},i,a){var n=(0,me.hj)(i);lt({name:e,args:t,errno:n?i:void 0,errMsg:n?void 0:i,errCode:n?void 0:a,success:!1})}function lt({name:e,args:t={},success:i=!0,errno:a,errMsg:n="",errCode:r,res:o={},exception:s}){t=t||{};var l=__errorTracer__.surroundThirdByTryCatch((i?t.success:t.fail)||me.ZT,`at api ${e} ${i?"success":"fail"} callback function`),d=__errorTracer__.surroundThirdByTryCatch(t.complete||me.ZT,`at api ${e} complete callback function`);(0,me.hj)(a)?(o.errno=a,o.errMsg=`${e}:fail${n&&":"!==n[0]?" ":""}${n||""}`):(o.errMsg=i?`${e}:ok`:`${e}:fail ${n}`,(0,me.hj)(r)&&(o.errCode=r)),s&&(o.exception=s),l(o),d(o)}var dt=({success:e,fail:t,complete:i}={},a)=>{var n=e=>{"function"==typeof t&&(a?__errorTracer__.surroundThirdByTryCatch(t,`at api ${a} fail callback function`)(e):t(e)),"function"==typeof i&&(a?__errorTracer__.surroundThirdByTryCatch(i,`at api ${a} complete callback function`)(e):i(e))};return{success:t=>{void 0===t.errMsg&&a&&(t.errMsg=`${a}:ok`),"function"==typeof e&&(a?__errorTracer__.surroundThirdByTryCatch(e,`at api ${a} success callback function`)(t):e(t)),"function"==typeof i&&(a?__errorTracer__.surroundThirdByTryCatch(i,`at api ${a} complete callback function`)(t):i(t))},fail:n,failWithMsg:({code:e,msg:t,errno:i,name:r}={})=>{var o={};"number"==typeof i&&i>0?(o.errno=i,o.errMsg=`${r||a}:fail`):(o.errMsg=`${r||a}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),n(o)}}};function ut(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function ct(e,t=!0){var i=(0,me.Em)(e);switch(i){case"Number":case"Boolean":return e;case"String":return ut(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${ct(e.message)}|${ct(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${ct(t)}=${ct(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${i}]`;case"Array":var a=[];return t?(e.forEach((e=>a.push(ct(e,"Array"!==(0,me.Em)(e))))),a.join(";")):`[${i}]`;default:return`[${i}]`}}function pt({WXDataApiName:e,argument:t,isSuccess:i,invokeTime:a,costTime:n,result:r,errMsg:o,isConfirm:s,queueLength:l,wxdataQueueTimestamp:d,wxdataDequeueTimestamp:u,beginCGITimestamp:c,CGICallbackTimestamp:p,beginCGITimestampAfterConfirm:h,CGICallbackTimestampAfterConfirm:f,wxlibCallbackTimestamp:m,requestInQueue:v,requestingCount:y,cost1:g,cost2:_,cost3:A,cost4:E,cost5:C,cost6:b}){Math.random()<.05&&setTimeout((()=>{var I=ge.currentNetworkType,w=T.default.appType+1e3,k=T.default.appLaunchInfo&&void 0!==T.default.appLaunchInfo.scene?T.default.appLaunchInfo.scene:0,S=[e,ct(JSON.stringify(t)),i?1:0,a,n,I,ct(r),w,k,Ne(),Le(),o&&ct(o)||"",s?1:0,l,g,_,A,E,C,b,0,v?1:0,y,a,d,u,c,p,h,f,m].map(ut(1024)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:S})}),0)}var ht=0,ft=["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"],mt=["webapi_getuserinfo","webapi_getuserallappauth","webapi_getadvert","webapi_getshareinfo","webapi_getuserprofile","webapi_getiapbuyinfo","jsapi_querysettlementmark","webapi_createiapbuygamecoinorder","wxaapi_midascouponsrollback","webapi_closeiapbuyorder","webapi_createiapbuygameitemorder","wxaapi_midasgetcoupons","webapi_queryiapcoupons","webapi_createmidascoinorder","webapi_getiapinfocreateitemorder","webapi_getiapinfocreatecoinorder","webapi_getopencommconf"],vt=["qbase_commapi","webapi_botdemo"];function yt(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}var gt=(()=>Object.assign)();function _t(e){return(t={})=>new Promise(((i,a)=>{e(gt(t,{success:i,fail:a}))}))}var At=(()=>JSON.parse)(),Et=e=>({keepAlive:t,apiName:i,reqData:a,sdkApiName:n,pluginId:r,success:o,fail:s,complete:l,fromComponent:d=!1,withCredentials:u=!1,showConfirm:c=!1,timeout:p=18e4}={})=>{if(ot("operateWXData",{apiName:i,success:o,fail:s,complete:l},{apiName:""})){var h={success:o,fail:s,complete:l};n=n||"operateWXData";var f={api_name:i,data:a||{},operate_directly:e};"string"==typeof r&&(f.plugin_appid=r),!0===d&&(f.from_component=!0),!0===u&&(f.with_credentials=!0),!0===c&&(f.show_confirm=!0),((e={},t={},...i)=>{var a=Object.assign({},e);a._isFromBaseOperateWXData=!0;var n=t.beforeAll,r=t.beforeSuccess,o=t.beforeFail,s=a.data&&a.data.api_name;ft.includes(s)?(a.requestInQueue=!0,delete a.timeout):a.requestInQueue=!1,mt.includes(s)?a.isImportant=!0:a.isImportant=!1,vt.includes(a.data&&a.data.api_name)&&(a.keepAlive=!0);var l={isSuccess:void 0,WXDataApiName:s,argument:a,invokeTime:Date.now(),requestInQueue:a.requestInQueue,requestingCount:++ht};et("operateWXData",a,{beforeAll(e){var i=Date.now();ht--,l.costTime=i-l.invokeTime;try{if(e&&e.data&&e.data.data?l.result=JSON.stringify(e.data):l.result=e.data,e.clientInfo&&"object"==typeof e.clientInfo){var a=e.clientInfo;delete e.clientInfo,Object.keys(a).forEach((e=>{l[e]=a[e]})),l.cost1=a.wxdataQueueTimestamp-l.invokeTime,l.cost2=a.wxdataDequeueTimestamp-a.wxdataQueueTimestamp,l.cost3=a.beginCGITimestamp-a.wxdataDequeueTimestamp,l.cost4=a.CGICallbackTimestamp-a.beginCGITimestamp,l.cost5=a.wxlibCallbackTimestamp-a.CGICallbackTimestamp,l.cost6=i-a.wxlibCallbackTimestamp}}catch(e){wxNativeConsole.error(e)}"function"==typeof n&&n.call(t,e)},beforeSuccess(e){l.isSuccess=!0,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof r&&r.call(t,e),pt(l)},beforeFail(e){l.isSuccess=!1,l.errMsg=e.errMsg,a.data.data&&a.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=l),"function"==typeof o&&o.call(t,e),pt(l)}},...i)})({keepAlive:t,data:f,timeout:p,success(t){if("string"==typeof t.data)try{t.data=At(t.data)}catch(e){return void st(n,h,`json parse error, json="${t.data}"`)}var{data:i}=t;delete t.data;var{data:a,encryptedData:r,iv:s,cloud_id:d,err_no:u,signature:c}=i;if(e)void 0!==a&&(t.rawData=a),t.respData=i;else if("string"==typeof a)try{t.data=At(a)}catch(e){return void st(n,h,`json parse error, json="${a}"`)}else t.data={};c&&(t.signature=c),r&&(t.encryptedData=r,t.iv=s,d&&(t.cloudID=d)),"number"==typeof u&&0!==u?st(n,h,u):("function"==typeof o&&o(t),"function"==typeof l&&l(t))},fail(e){"function"==typeof s&&s(e),"function"==typeof l&&l(e)}},{beforeAll(e){"operateWXData"!==n&&(e.errMsg=e.errMsg.replace("operateWXData",n))}})}},Ct=Et(!1),bt=_t(Ct),It=Et(!0),Tt=(()=>Object.assign)();function wt(e,t,i=(()=>{}),a=(()=>{})){return(n={})=>{var{success:r,fail:o}=dt(n,e);Ct({apiName:t,reqData:i(n)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,Tt(e,e.rawDataObject),a(e),delete e.rawDataObject,r(e)},fail:o,complete:void 0})}}var kt=null,St=new Proxy({},{get(e,t,i){if(!kt)throw new Error("NativeGlobal not ready");return Reflect.get(kt,t,i)},set(e,t,i,a){if(!kt)throw new Error("NativeGlobal not ready");return Reflect.set(kt,t,i,a)}});function xt(e){Foundation.onLoad((()=>{e(St)}))}Foundation.onLoad((()=>{kt="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const Pt=St;var Dt=(e={})=>{if("[object Object]"===Object.prototype.toString.call(T.default.expt)){var t=T.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}et("getABTestConfig",e)},Ot={};T.default.onReady((()=>{var e=Object.keys(w).map((e=>w[e]));et("getPermissionBytes",{indexes:e,success(t){if(t.permissionBytes)for(var i=0;i<t.permissionBytes.length;i++){var a=e[i];Ot[a]=1===t.permissionBytes[i]}},fail(e){}})}));var Rt=e=>{var t=w[e];if("number"!=typeof t)return!1;if(!(0,me.o8)(Ot[t]))return Ot[t];var i=!1;return et("getPermissionBytes",{indexes:[t],success(e){e.permissionBytes&&(i=1===e.permissionBytes[0],Ot[t]=i)}}),i},Mt=(JSON.parse,JSON.stringify,""),Nt=!1,Lt=u("networkstatusChange"),Bt=u("networkWeakChange"),Wt=u("networkTypeReady"),Ft=e=>{et("getNetworkType",e)},Vt=Lt.onMethod,Ut=(Lt.offMethod,Bt.onMethod),Ht=(Bt.offMethod,()=>Mt),jt=(Wt.onMethod,()=>Nt);"undefined"!=typeof IS_SDK_PACKAGE||(L("onNetworkStatusChange",((e={})=>{Mt=e.networkType,e.signalStrength,ge.currentNetworkType=Mt,Lt.emit(e),ee("onNetworkStatusChange",e)})),L("onNetworkWeakChange",((e={})=>{Bt.emit(e)}))),T.default.onReady((()=>{T.default.networkType&&(Mt=T.default.networkType),Ft({success(e){Mt=e.networkType,e.signalStrength,ge.currentNetworkType=Mt,Nt=e.hasSystemProxy,Wt.emit(Mt)}})}));var Gt,zt=0,$t=[],Qt=Math.random;T.default.onReady((()=>{Gt=Date.now()}));var qt=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:$t,appType:Reporter.getAppType()},null,2);et("reportRealtimeAction",{actionData:e}),$t=[]},Yt=e=>{var t="";return Object.keys(e).forEach(((i,a)=>{try{var n=`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`;0!==a&&(t+="&"),t+=n}catch(e){}})),t},Zt=(e,t,i,a,n,o,s,l=0,d=0,u={},c=0,p={},h,f=!0,m=void 0,v=0)=>{var y;t.length>1024&&(t=t.substring(0,1024));var g="",_="",A=0,E="";if((0,V.aI)()?(_=Yt(r.query),A=r.scene,E=r.sceneNote):(A=ge.scene,E=ge.sceneNote),void 0!==H){var C=H.getCurrentPages();if(C&&C.length>0){var b=C[C.length-1];b&&(g=b.route,_=b.__displayReporter&&b.__displayReporter.showOptions&&b.__displayReporter.showOptions.query)}}!m&&n&&/超时|timeout/.test(n)&&(m=5);var I=JSON.stringify(p),w=[e,t,i,a,n,Reporter.getAppType(),o,l,Ht(),g,_,d,Yt(u),A,E,h,m,c,I,null===(y=T.default.wxAppInfo)||void 0===y?void 0:y.maxRequestConcurrent,Date.now()-Gt,v].map(encodeURIComponent).join(","),k=!1;if(a<5e3&&1==i?Qt()<.01&&(k=!0):k=!0,f||(k=!1),k){var S,x=[e,t,i,a,n,Reporter.getAppType(),o,l,Ht(),g,_,d,Yt(u),A,E,m,c,I,null===(S=T.default.wxAppInfo)||void 0===S?void 0:S.maxRequestConcurrent,Date.now()-Gt,v].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI2",value:x})}Reporter.reportKeyValue({key:"NetworkAPI",value:w}),Reporter.reportIDKey({key:`${e}_${1===i?"ok":"fail"}`}),$t.push([e,t,i,o||"",a,n,Ht(),s?"1":"0",Reporter.getAppType(),l].map((e=>{var t;try{t=encodeURIComponent(e)}catch(i){t=e}return t})).join(",")),Date.now()-zt>=6e4&&(zt=Date.now(),setTimeout(qt,6e4))};class Kt{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,me.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var i=this.eventMap.get(e);"function"!=typeof t?null==i||i.clear():null==i||i.delete(t)}emit(e,...t){var i=[...this.eventMap.get(e)||[]],a=`at ${this.type}${e} callback function`;i.forEach((e=>this.surround?((e,t,...i)=>{if("undefined"!=typeof __errorTracer__)__errorTracer__.surroundThirdByTryCatch(e,t)(...i);else if("undefined"!=typeof __subContextEngine__)__subContextEngine__.surroundThirdByTryCatch(e,t)(...i);else try{e(...i)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,a,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}class Xt{constructor({mode:e,size:t,lastAccessedTime:i,lastModifiedTime:a}){this.mode=e,this.size=t,this.lastAccessedTime=i,this.lastModifiedTime=a}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var Jt=(e,t)=>{var i=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{i=i&&void 0!==e[t]})),i)e.stats=new Xt(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Xt(e.stats[""]);else{var a=[],n=e.stats;V.wZ&&(n=e,a.push({path:"/",stats:ti(t)})),Object.keys(n).forEach((e=>{if("errMsg"!==e){var t=n[e];""===e&&(e="/"),a.push({path:e,stats:new Xt(t)}),delete n[e]}})),e.stats=a}},ei=(e={})=>{ot("stat",e,{path:""})&&et("stat",e,{beforeSuccess:t=>{Jt(t,e.path)}})},ti=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var i,a,n;if(et("statSync",{path:e,recursive:t,success(t){Jt(t,e),i=t.stats},fail(e){a=e.errMsg,n=e.errno}}),a){var r=new Error(a);throw r.errno=n,r}return i};class ii{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new ii((t=>t(e)))}static reject(e){return new ii((()=>{throw e}))}}var ai=!1;T.default.onReady((()=>{V.cj&&1===Number(T.default.expt.clicfg_appbrand_ios_enable_async_create_request_task)&&(ai=!0)}));var ni=_t(ei),ri=0,oi=new WeakMap,si=new WeakMap,li=new WeakMap,di=new WeakMap,ui=new WeakMap,ci=new WeakMap,pi=new WeakMap,hi=new WeakMap,fi=new WeakMap,mi=new WeakMap,vi=new WeakMap,yi={},gi=new Kt("Network",!0),_i=wxNativeConsole.createLogger("NetworkTask"),Ai=new WeakMap,Ei={},Ci=new WeakMap;class bi{constructor(e,{taskType:t,beforeSend:i,beforeSuccess:a,beforeFail:n}){var r=ri++;this.uniqueId=1e4*Date.now()+Math.round(9999*Math.random()),oi.set(this,r),li.set(this,"waiting"),di.set(this,e),ui.set(this,t),hi.set(this,i),fi.set(this,a),(0,me.mf)(n)&&mi.set(this,n);var o,s,l=!1;((e=>{if(V.jP)return!0;if(V.wZ)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!V.cj)return!1;if("Request"===e&&1===Number(T.default.expt.clicfg_appbrand_ios_enable_async_create_request_task))return!0}})(t)||(V.cj||V.wZ)&&e.forceCellularNetwork)&&(l=!0),vi.set(this,l);var d=new ii(((e,t)=>{o=e,s=t}));Ai.set(this,{promise:d,resolve:o,reject:s});var u=()=>{Pi.call(this)?(pi.set(this,[Date.now()]),yi[t].taskQueue.push({id:r,item:this})):Ti.call(this)};(0,me.mf)(e.customCheck)?e.customCheck(e,(i=>{i?Ii(t,e,i):u()})):u()}abort(){if(_i.info(`[${ui.get(this)}][${oi.get(this)}]abort()`),"waiting"===li.get(this)){_i.info(`[${ui.get(this)}][${oi.get(this)}] waiting=true`);var e=yi[ui.get(this)].taskQueue.findIndex((e=>e.id===oi.get(this)));e>-1&&(yi[ui.get(this)].taskQueue.splice(e,1),st(yi[ui.get(this)].functionName,di.get(this),"abort")),li.set(this,"done")}else{Ai.get(this).promise.then((()=>{et(`operate${ui.get(this)}Task`,{[`${ui.get(this).toLowerCase()}TaskId`]:si.get(this),operationType:"abort"})}))}}onProgressUpdate(e){Ai.get(this).promise.then((()=>{gi.on(`${ui.get(this)}${si.get(this)}progressUpdate`,e)}))}offProgressUpdate(e){Ai.get(this).promise.then((()=>{gi.off(`${ui.get(this)}${si.get(this)}progressUpdate`,e)}))}onHeadersReceived(e){Ai.get(this).promise.then((()=>{gi.on(`${ui.get(this)}${si.get(this)}headersReceived`,e)}))}offHeadersReceived(e){Ai.get(this).promise.then((()=>{gi.off(`${ui.get(this)}${si.get(this)}headersReceived`,e)}))}onChunkReceived(e){Ai.get(this).promise.then((()=>{gi.on(`${ui.get(this)}${si.get(this)}chunked`,e)}))}offChunkReceived(e){Ai.get(this).promise.then((()=>{gi.off(`${ui.get(this)}${si.get(this)}chunked`,e)}))}}function Ii(e,t,i){lt({name:yi[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:i})}function Ti(){var e=di.get(this),t=ui.get(this),i=vi.get(this);li.set(this,"sending"),ci.set(this,Date.now());var a=wi.call(this);i?Ai.get(this).promise.then((()=>{ki.call(this)})).catch((i=>{Ii(t,e,i)})):a?Ii(t,e,a):si.get(this)?ki.call(this):Ai.get(this).promise.then((()=>{ki.call(this)}));setTimeout((()=>{Zt(yi[t].functionName,e.url,null,0,null,null,e.__skipDomainCheck__,null,null,{},null,{},this.uniqueId,!1)}),0)}function wi(){var e,t=ui.get(this),i=di.get(this);yi[t].currentTaskCount++;var a={data:i.data,url:i.url,header:i.header,method:i.method,timeout:"number"==typeof i.timeout?i.timeout:0,enableHttp2:!0===i.enableHttp2,enableQuic:!0===i.enableQuic,enableCache:!0===i.enableCache,enableProfile:!1!==i.enableProfile,ip:i.ip,port:i.port,forbidReuse:!0===i.forbidReuse,host:i.host,enableChunked:i.enableChunked,__skipDomainCheck__:i.__skipDomainCheck__,forceCellular:i.forceCellularNetwork,success:e=>{var i=e[`${t.toLowerCase()}TaskId`];si.set(this,i),yi[t].taskIdMap[i]=this;var a=Ai.get(this).resolve,n=Ai.get(this).promise;a(),n.then((()=>{Ei[i]&&"wait"===Ei[i].status?Ei[i].handlers.forEach((e=>e())):Ei[i]={status:"normal"}}))},fail:a=>{yi[t].currentTaskCount--;var n=a[`${t.toLowerCase()}TaskId`];e=a.errMsg,Si.call(this,{taskType:t,options:i,errMsg:e,success:!1}),(0,Ai.get(this).reject)(e),_i.error(`[${t}][createTask][Fail] taskId=${n}`),Ei[n]&&"wait"===Ei[n].status&&delete Ei[n]},complete:()=>{li.set(this,"done")}},n=vi.get(this),r=`create${t}Task${n?"Async":""}`;(V.cj||V.wZ)&&i.forceCellularNetwork&&(r="createCellularNetworkRequestTaskAsync");var o={};"[object ArrayBuffer]"!==Object.prototype.toString.call(i.data)&&(o.notPack=!0);var s=hi.get(this)(a);return"createRequestTaskAsync"===r&&V.cj&&ai&&(r="createRequestTaskRealAsync"),"Request"!==t||V.gm||V.DD?et(r,s):it(r,s,o),e}function ki(){var e=si.get(this),t=di.get(this),i=ui.get(this),a=yi[i].functionName;gi.on(`${i}${e}success`,(e=>{fi.get(this).call(this,e),lt({name:a,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),gi.on(`${i}${e}fail`,(e=>{var i=mi.get(this),n=i&&i.call(this,e);if(null!=n&&n.__retry__)wxNativeConsole.info(`httpDns we retry url: ${t.url}`);else{n&&n.__changeError__&&(e=n.__changeError__);var r={name:a,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(r.errno=e.errno),e.exception&&(r.exception=e.exception),lt(r)}}))}function Si({taskType:e,options:t,errMsg:i,success:a=!0,dataLength:n=0,statusCode:r="",responseDataLength:o=0,profile:s={},queueTime:l,uniqueId:d,errno:u,queueLength:c}){var p=t.url,h=a?1:2,f=Date.now()-ci.get(this),m=t.__skipDomainCheck__;f>=6e4&&_i.error(`reportTask costTime too long: ${f}ms, taskId=${si.get(this)}`),Zt(yi[e].functionName,p,h,f,i,r,m,n,o,s,l,{},d,!0,u,c)}function xi(e,t){var i,a=`${t.toLowerCase()}TaskId`,n=e[a],{state:r,header:o}=e;delete e.state,delete e[a],"chunked"!==r&&(e.cookies=o&&(i=o["Set-Cookie"]||o["set-cookie"])?Array.isArray(i)?i:i.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var s=0;o&&(s=parseInt(o["Content-Length"]||o["content-length"]||"0",10));var l,d,u=()=>{if(gi.emit(`${t}${n}${r}`,e),"success"===r||"fail"===r){var i=yi[t].taskIdMap[n],a=di.get(i);if(!i)return;yi[t].currentTaskCount-=1;var o=yi[t].taskQueue.length;if(yi[t].taskQueue.length>0){var l=yi[t].taskQueue.shift().item,d=pi.get(l);if(d&&d[0]){var u=d[0];if(u>0){var c=Date.now()-u;pi.set(l,[u,c,o])}}Ti.call(l)}var p=Promise.resolve(yt(a.data));if("Upload"===t){var h=0;"object"==typeof a.formData&&null!==a.formData&&(h=JSON.stringify(a.formData).length),p=ni({path:a.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve(yt(e.data,s));if("Download"===t){var m=e.dataLength;f="number"==typeof m?Promise.resolve(m):ni({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([n,o])=>{var s=pi.get(i);Si.call(i,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===r,dataLength:n,responseDataLength:o,profile:e.profile,queueTime:s&&s[1],uniqueId:i.uniqueId,errno:e.errno,queueLength:s&&s[2]}),pi.delete(i)})),Ci.set(yi[t].taskIdMap[n],!0),Di.call(i)}};ai&&"Request"===t?"normal"===(null===(l=Ei[n])||void 0===l?void 0:l.status)?u():"wait"===(null===(d=Ei[n])||void 0===d?void 0:d.status)||(Ei[n]={status:"wait",handlers:[u]}):u()}function Pi(){var e=ui.get(this);return yi[e].currentTaskCount>=yi[e].maxTaskCount}function Di(){var e=ui.get(this),t=si.get(this);delete yi[e].taskIdMap[t],delete Ei[t],gi.removeAllListeners(`${e}${t}success`),gi.removeAllListeners(`${e}${t}fail`),gi.removeAllListeners(`${e}${t}complete`),gi.removeAllListeners(`${e}${t}progressUpdate`),gi.removeAllListeners(`${e}${t}headersReceived`),gi.removeAllListeners(`${e}${t}chunked`)}function Oi(e,t){var i=yi[e]?yi[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};L(`on${e}TaskStateChange`,(t=>{xi.call(this,t,e)})),yi[e]=Object.assign(i,t)}Oi("Download",{maxTaskCount:10,functionName:"downloadFile"}),T.default.onReady((()=>{try{"number"==typeof T.default.wxAppInfo.maxDownloadConcurrent&&Oi("Download",{maxTaskCount:T.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));const Ri=class extends bi{constructor(e){super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>(delete e.timeInterval,e)})}};var Mi=({api:e,url:t})=>(V.gm?T.default.urlCheck:!0!==T.default.debug)?new Promise(((i,a)=>{et("checkNetworkAPIURL",{api:e,url:t,success:i,fail:a})})):Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}),Ni=new WeakMap,Li=new WeakMap,Bi=new WeakMap,Wi=[],Fi=0,Vi=10;function Ui(e=!1){for(e&&(Ni.delete(e),Li.delete(e),Bi.delete(e),Fi--);Wi.length>0&&Fi<Vi;){var t=Wi.shift(),i=Ni.get(t),a=Li.get(t);i&&a&&(i.start(a),Fi++)}}T.default.onReady((()=>{T.default.wxAppInfo&&T.default.wxAppInfo.maxDownloadConcurrent&&(Vi=T.default.wxAppInfo.maxDownloadConcurrent)}));class Hi{constructor(e){var t=Pt.Download,i=e.workerId?new t(e.workerId):new t;delete e.workerId;var a,n=new o.Z;Ni.set(this,i),Bi.set(this,n),Li.set(this,(a=e,["url","header","filePath","enableProfile","timeout"].reduce(((e,t)=>((0,me.o8)(a[t])||(e[t]=a[t]),e)),{}))),i.onfail=t=>{st("downloadFile",e,t),Ui(!0)},i.onsuccess=t=>{lt({name:"downloadFile",args:e,res:t}),Ui(!0)},i.onheader=e=>n.emit("header",{header:e}),i.onprogress=(e,t,i)=>n.emit("progress",{progress:e,totalBytesWritten:t,totalBytesExpectedToWrite:i}),Mi({api:"downloadFile",url:e.url}).then((t=>{e.__skipDomainCheck__||t.isInDomainList||t.isInLAN&&!t.isLocalHost?(Wi.push(this),Ui()):st("downloadFile",e,"invalid url")})).catch((()=>{st("downloadFile",e,"url validate error")}))}abort(){var e=Ni.get(this);e&&e.abort()}onHeadersReceived(e){var t=Bi.get(this);t&&t.on("header",e)}onProgressUpdate(e){var t=Bi.get(this);t&&t.on("progress",e)}offHeadersReceived(e){var t=Bi.get(this);t&&t.off("header",e)}offProgressUpdate(e){var t=Bi.get(this);t&&t.off("progress",e)}}var ji=[{match:/^connectSocket/,version:1},{match:/^request/,version:V.wZ?3:1},{match:/^downloadFile/,version:V.wZ?3:1}];function Gi(e,t){ji.push({match:e,version:t})}var zi=!1;function $i(e){return zi?new Hi(e):new Ri(e)}a.g.__isAppServiceRemoteDebugMode__||xt((e=>{e.Download&&T.default.onReady((()=>{var e=!1,t=V.cj?"clicfg_appbrand_ios_native_download_new":"clicfg_appbrand_native_download";Dt({experimentId:t,experimentType:"Expt",success:t=>{t&&1===Number(t.testConfig)&&(e=!0,Gi(/^downloadFile/,2))},fail(e){}});var i=Rt("bindingDownload");zi=e||i,wxNativeConsole.info(`${zi?"binding":"jsapi"} download, abtest: ${e}, permission: ${i}`)}))}));var Qi=a(591),qi=a(347),Yi=/^[-+a-zA-Z0-9]+:\/\//;function Zi(e,t,i=!0){if(wxNativeConsole.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${i}`),i&&(t=(0,qi.Pp)(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Zi(e,t.substr(2),!1);var a,n,r=t.split("/");for(a=0,n=r.length;a<n&&".."===r[a];a++);r.splice(0,a);var o=e.length>0?e.split("/"):[];o.splice(o.length-a-1,a+1);var s=o.concat(r).join("/");return wxNativeConsole.info(`[getRealRoute] finalRoute=${s}`),s}function Ki(e){var t=e.match(Yi);if(!t)return e;var i=t[0];if("plugin://"===i){var a=i.length,n=e.indexOf("/",a);if(n>=0){var r=e.slice(a,n),o=T.default.plugins&&T.default.plugins[r]?T.default.plugins[r].provider:r;e=e.slice(0,a)+o+e.slice(n)}var s=e.indexOf("?");s<0&&(s=e.length);var l=e.slice(0,s),d=j.Component._list[l];if(!d)throw new Qi.l(`Page "${l}" is not found`);e=d.is+e.slice(s)}else if("plugin-private://"===i){var u=e.indexOf("?");u<0&&(u=e.length);var c=e.slice(0,u);e="/"+H.convertComponentAliasToRoute(c)+e.slice(u)}else if("wx://"===i)e="/__wx__/"+e.slice(5);else{if("wxpage://"!==i)throw new Qi.l(`Unknown URL protocol "${i}"`);e="/"+e}return e}Foundation.onLoad((()=>{a.g.WeixinArrayBuffer,!0}));var Xi=!1;T.default.onReady((()=>{var e=Pt.fs;if(e&&e.FileReader){var t=!1,i=V.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Dt({experimentId:i,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Gi(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var a=Rt("bindingReadFile");Xi=t||a,wxNativeConsole.info(`${Xi?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${a}`)}}));var Ji=(e={})=>{if(ot("readFile",e,{filePath:""}))if((0,me.o8)(e.encoding)||(0,me.HD)(e.encoding))if((0,me.o8)(e.position)||(0,me.hj)(e.position))if((0,me.o8)(e.length)||(0,me.hj)(e.length))if(Xi){var t,i=Pt.fs;(t=e.workerId?new i.FileReader(e.workerId):new i.FileReader).onerror=t=>st("readFile",e,t),t.onread=t=>lt({name:"readFile",args:e,res:{data:t}});var a={};Object.keys(e).forEach((t=>{var i=e[t];["success","fail","complete"].includes(t)||(a[t]=i)})),t.read(a)}else et("readFile",e);else st("readFile",e,`invalid length: ${e.length}`);else st("readFile",e,`invalid position: ${e.position}`);else st("readFile",e,`invalid encoding: ${e.encoding}`)},ea=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],ta=(e={})=>{ot("writeFile",e,{filePath:""})&&(e.encoding&&-1===ea.indexOf(e.encoding)?st("writeFile",e,`invalid encoding "${e.encoding}"`):et("writeFile",e,{}))},ia=(e={})=>{ot("access",e,{path:""})&&et("access",e)},aa=(e={})=>{ot("unlink",e,{filePath:""})&&et("unlink",e)},na="";T.default.onReady((()=>{try{na=T.default.env.USER_DATA_PATH,T.default.env.OPEN_DATA_PATH,delete T.default.env.OPEN_DATA_PATH,na+"/__plugins__",V.gm?("http://__wxprivate__","http://sdk","http://ad"):("wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]);var ra=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(ot("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new $i(t)}catch(e){return void st("downloadFile",t,e.message)}}}),oa=(ra(),ra({__skipDomainCheck__:!0})),sa=new o.Z;var la=new Kt("touch",!0),da=new Kt("touch",!0),ua={};Foundation.env.isGame&&["start","move","end","cancel"].forEach((e=>{xt((t=>{if("start"===e){t.EventHandler[`ontouch${e}`]=t=>{sa.emit("beforeTouchStart",t),sa.emit("setLastTapTime",Date.now()),"tap"==="tap",la.emit(e,t),da.emit(e,t)}}else if("end"===e){t.EventHandler[`ontouch${e}`]=t=>{sa.emit("beforeTouchEnd"),la.emit(e,t),da.emit(e,t),sa.emit("afterTouchEnd")}}else t.EventHandler[`ontouch${e}`]=t=>{la.emit(e,t),da.emit(e,t)}})),ua[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=(t,i)=>{(0,me.Kn)(i)&&(Pt.EventHandler[`ontouch${e}Dst`]=i),la.on(e,t)},ua[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{la.off(e,t)}}));const ca=ua;var pa,ha,fa,ma,va=JSON.parse,ya=JSON.stringify,ga=T.default.SDKVersion,_a=e=>{var t=V.iw;V.cj&&(e.brand="iPhone"),V.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=ga,e.enableDebug=Boolean(T.default.debug),T.default.devicePixelRatio&&(e.devicePixelRatio=T.default.devicePixelRatio),T.default.theme&&(e.theme=T.default.theme),T.default.host&&(e.host=T.default.host),T.default.appLaunchInfo&&T.default.appLaunchInfo.mode&&(e.mode=T.default.appLaunchInfo.mode),V.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),T.default.appLaunchInfo&&"singlePage"===T.default.appLaunchInfo.mode&&!(0,V.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),V.jP&&(e.renderer="h5")},Aa=(pa="getSystemInfo",ha=e=>{T.default.isReady||(new Error).stack,et("getSystemInfo",e,{beforeSuccess:e=>{_a(e),ba(e)}})},(e={})=>{var{success:t,fail:i}=dt(e,pa);if(fa){var a={};try{a=va(fa)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncApi parse error",e.message)}t(a)}else ha(Object.assign({},e,{success(e){try{fa=ya(e)}catch(e){wxNativeConsole.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{fa=void 0})),t(e)},fail(e){fa=void 0,i(e)},complete:void 0}))}),Ea=()=>{var e={};return Aa({success(t){delete t.errMsg,e=t}}),e},Ca=()=>ma||(ma=Object.assign({},Ea())),ba=e=>{delete(ma=Object.assign({},e)).errMsg},Ia=null,Ta=0,wa=0,ka=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];T.default.onReady((()=>{Ia={};for(var e=0;e<ka.length;e++){if(!(ka[e]in T.default)){Ia=Ca();break}Ia[ka[e]]=T.default[ka[e]]}if(T.default.screenHeight&&T.default.screenWidth)Ta=T.default.screenWidth,wa=T.default.screenHeight;else{var t=Ca();Ta=t.screenWidth,wa=t.screenHeight}}));var Sa=()=>T.default.isReady?Object.assign({},Ia):((new Error).stack,{}),xa=()=>T.default.isReady?{screenWidth:Ta,screenHeight:wa,deviceOrientation:Ta>wa?"landscape":"portrait"}:((new Error).stack,{}),Pa=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(Ia)return Ia;e=Ea()}else e=Ea();return e}})(),Da=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],Oa=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],Ra=a(369),Ma=(e,t)=>{((e,t,i)=>{i&&F(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)},Na={uuid:32768,increase(){return this.uuid++}},La=new o.Z({maxListeners:2e5}),Ba="portrait",Wa="";T.default.onReady((()=>{Ba=T.default.deviceOrientation||Ba,Wa=Sa().model||""}));var Fa=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class Va{constructor({parentId:e=0,id:t=Na.increase(),style:i={},props:a={},name:n=""}={}){var r=T.default.platform;this.parentId=e,this.dest=0,this.id=t,this.name=n,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),i=Object.assign({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0},i),Object.assign(i,i[Ba]);var o=/iphone x/.test(Wa.toLowerCase())?"iphone x":r;Object.assign(i,i[o]),Object.assign(i,i[`${o}-${Ba}`]),this.style={},this.computedStyle=Object.assign({},i),this.lastComputedStyle=Object.assign({},i),this.layoutBox=null,Object.keys(i).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>i[e],set:t=>{if(t!==i[e]&&void 0!==t){if(i[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==Da.indexOf(e)&&this.style.scale){var a=t*this.style.scale;this.computedStyle[e]=a,this.lastComputedStyle[e]=a}"scale"===e&&Da.forEach((e=>{i[e]&&(this.computedStyle[e]=i[e]*t,this.lastComputedStyle[e]=i[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,Ra.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),Oa.forEach((e=>{this.computedStyle[e]=0}))):((0,Ra.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),Oa.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),Da.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),i.hidden&&Oa.forEach((e=>{this.computedStyle[e]=0})),Object.keys(a).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>a[e],set:t=>{t!==a[e]&&(a[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var i=0,a=0;try{i=this.layoutBox.left,a=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var n=Object.assign({},t);n.x+=i,n.y+=a,this.parent.emit(e,n)}else{var r=t.map((e=>({x:e.x+i,y:e.y+a})));this.parent.emit(e,r)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:i}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:i+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){La.emit(Fa(e,this.id),t)}on(e,t){La.on(Fa(e,this.id),t)}once(e,t){La.once(Fa(e,this.id),t)}off(e,t){La.off(Fa(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=Fa(e,this.id);La.removeAllListeners(t)}))}}var Ua=e=>{var{id:t}=JSON.parse(e.data);La.emit(Fa("click",t))};Ma("onTextViewClick",Ua),Ma("onImageViewClick",Ua),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();Ma(e,(e=>{try{if(e.data){var{id:i}=JSON.parse(e.data);La.emit(Fa(t,i),e.touch||e.touches)}else La.emit(Fa(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var Ha=["game.weixin.qq.com"],ja=new Map,Ga=new WeakMap;function za({htmlId:e}){var t=ja.get(e);t&&t.onload&&setTimeout(t.onload)}function $a({htmlId:e,errcodeCode:t,description:i,src:a}){var n=ja.get(e);n&&n.onerror&&setTimeout(n.onerror({errcodeCode:t,description:i,src:a}))}function Qa({name:e,arg:t,htmlId:i}){"postMessage"===e?ja.forEach((({onmessage:e},a)=>{i&&i!==a||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||ja.forEach(((a,n)=>{var r;if(!i||i===n){var o=ja.get(n),s=null===(r=Ga.get(o))||void 0===r?void 0:r.urlObj;if(s&&Ha.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];wxNativeConsole[l](t)}else"reportKeyValue"===e&&Reporter.reportKeyValue(t)}}))}T.default.onReady((()=>{(0,V.aI)()&&(F("onWebViewError",$a),F("onWebviewFinishLoad",za),F("onWebInvokeAppService",Qa),F("WEB_INVOKE_APPSERVICE",Qa))}));var qa={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},Ya={sampleEventList:[]},Za=new Map;function Ka(e,t){var i=function(e){return Ya.sampleEventList.find((t=>e===t.event))}(e);if(i){var a=Date.now(),n=Za.get(i);if(i.sample_interval_seconds,(a-n)/1e3<i.sample_interval_seconds)return;et("reportCanvasData",{eventInfo:JSON.stringify(i),viewId:t>0?t:0,success(){Za.set(i,a)},fail({errMsg:e}){}})}}var Xa=a(805),Ja=0,en=1,tn={minigamelive:Ja,ad:Ja,cloud:Ja,protobuf:Ja,ga:Ja,kanata:Ja,midas:Ja,pixi:Ja,sclengine:Ja,minigamePlatform:Ja},an={},nn=e=>{if(!an[e]){var t={},i={},a={},n={on:(i,n)=>{t[i]&&console.warn(`基础库分包 ${e} on event: ${i} has subscribe listener`),t[i]=n,a[i]&&(a[i].forEach((e=>{n(e)})),delete a[i])},subscribe:(n,r)=>{t[n]&&console.warn(`基础库分包 ${e} subscribe event: ${n} has on listener`),i[n]||(i[n]=[]),i[n].push(r),a[n]&&(a[n].forEach((e=>{r(e)})),delete a[n])},publish:(e,a)=>{var n,r;return(n=t[e])?(n(a),!0):!!(r=i[e])&&(r.forEach((e=>e(a))),!0)},advancePublish:(e,t)=>{rn(e,t)||a[e]||(a[e]=[]),a[e].push(t)}};return an[e]=n,n}console.warn(`已经存在分包EM ${e}`)},rn=(e,t,i,a)=>{var n=an[e];n&&(a?n.advancePublish(t,i):n.publish(t,i))},on=nn("sclEngine"),sn=!1,ln=()=>{sn||(sn=!0,tn["sclengine"]===en?on.publish("initReady"):on.advancePublish("initReady"))},dn=u("tapAnyWhere");ae("tapAnyWhere",dn.emitInternal);var un=dn.internalOnMethod,cn=(dn.internalOffMethod,!1);un((()=>{ln(),cn||(cn=!0,pn.forEach((e=>e())),pn=[])}));var pn=[],hn=u("AppEnterBackground"),fn=hn.internalOnMethod;F("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:%2Fpackages%2Fphone-numbers%2Fpages%2FgetUserPhoneNumberForWXLib%2FgetUserPhoneNumberForWXLib")||(hn.emit(e),ee("onAppEnterBackground",e))}));un((e=>{e.timeStamp,!0})),fn((()=>{0,!1}));var mn=()=>{Date.now(),!0},vn=a(986),yn=a.n(vn);Foundation.onLoad((()=>{Foundation.globalShare.reusableWorkerId&&gn(Foundation.globalShare.reusableWorkerId)}));var gn=e=>{e};const _n={emitter:new o.Z,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var An=new WeakMap,En=e=>{for(var t in _n.puidToPluginWX)if(_n.puidToPluginWX[t]===e)return t},Cn=e=>{if((0,V.aI)()){var t=(i=e,An.get(i));return t&&t.provider?t.provider:void 0}return _n.pluginIDs[En(e)];var i};Object.keys,new WeakMap,new WeakMap;_t(Ji),_t((e=>{ot("saveFile",e,{tempFilePath:""})&&et("saveFile",e)})),_t(ta),_t(ia),_t(aa),_t(((e={})=>{ot("mkdir",e,{dirPath:""})&&et("mkdir",e)})),_t(oa),_t(Ji);var bn=.002;function In({isSuccess:e,invokeTime:t,costTime:i,wxdataQueueTimestamp:a,wxdataDequeueTimestamp:n,beginCGITimestamp:r,CGICallbackTimestamp:o,wxlibCallbackTimestamp:s,requestingCount:l,cost1:d,cost2:u,cost3:c,cost4:p,cost5:h,cost6:f,JSApiType:m}){Math.random()<bn&&setTimeout((()=>{var v,y=ge.currentNetworkType,g=T.default.appType+1e3,_=T.default.appLaunchInfo&&void 0!==T.default.appLaunchInfo.scene?T.default.appLaunchInfo.scene:0,A=["","",e?1:0,t,i,y,"",g,_,Ne(),Le(),"",0,0,d,u,c,p,h,f,0,0,l,t,a,n,r,o,0,0,s,m].map((v=1024,e=>(0,me.HD)(e)&&e.length>v?e.substr(0,v):e)).join(",");Reporter.reportKeyValue({key:"WeAppOperateWXData",value:A})}),0)}var Tn=({url:e,result:t,cost:i,pointCacheType:a,errMsg:n,errno:r,host:o,fullCost:s})=>{var l=[e,t,i,a,n?encodeURIComponent(n):n,r,o,s].join(",");Reporter.reportKeyValue({key:"WeFreeHttpDns",value:l})},wn={},kn={},Sn={},xn=(e,t,i)=>{if(Sn[e])return Sn[e];var a,n=e&&e.indexOf(":");a=(a=-1!==n?e.slice(0,n):e).toLowerCase();var r=i?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:a}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:a,service_id:t}};return Sn[e]=bt(r).then((t=>{delete Sn[e];var a,{wxa_state:n,ttl:r,hit_cache:o,ip_list:s=[],ip:l}=t.data;a=null!=s&&s.length?s[0]:l;var d=s.slice(1);if(0===n)return wn[e]={ip:a,expireTime:1e3*r+Date.now(),candidateIps:d},i?{...wn[e],hitCache:o}:wn[e];throw new Error(n)})).catch((t=>{if(!i&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete Sn[e],t})),Sn[e]},Pn=e=>{var t=wn[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null};Vt((()=>{wn={},kn={},Sn={}}));var Dn,On=new RegExp("name_not_resolved","i"),Rn=(e,t,i)=>!jt()&&(!(!Rt("useFreeHttpDns")||!(e=>On.test(e.errMsg))(e))&&(Ar(t,i),!0)),Mn=(e={})=>{((e={})=>{et("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var i={};if(i.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var a=e.subscriptionsSetting.templatesInfo;i.itemSettings=a.reduce(((e,t)=>{var i={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],a={"-1":"ban",0:"reject",1:"accept"};return i?e[i]=a[t.status]:(e[t.templateId]=a[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=i}}})})(e)},Nn=!1,Ln=void 0,Bn=void 0,Wn=void 0,Fn="group_forcecelluarnetwork",Vn=e=>Ln=e,Un=()=>{var e,t,{language:i}=Pa();switch(i){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!Nn&&(Nn=!0,1)&&(t=()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{Mn({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&Vn(!1)}})}))}))},cn?t():pn.push(t))},Hn=function(){var e=yn()((function*(){var e;if(void 0!==Ln)return Ln;try{Bn||(Bn=bt({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[Fn]}})),e=yield Bn}catch(e){return!1}var t,{auth_item_list:i}=e.data;if(-1!==(t=i.findIndex((e=>e.scope===Fn)))){var a=i[t];if(0===a.state){yield(Wn||(Wn=bt({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:Fn,state:1}]}})),Wn).then((e=>{Vn(!0)})).catch((e=>{}))}else 2===a.state?Vn(!1):1===a.state&&Vn(!0)}return Ln}));return function(){return e.apply(this,arguments)}}(),jn=0,Gn=/custom ip is invalid/;Oi("Request",{maxTaskCount:10,functionName:"request"}),T.default.onReady((()=>{try{"number"==typeof T.default.wxAppInfo.maxRequestConcurrent&&Oi("Request",{maxTaskCount:T.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));function zn(e,t,i){var a=Date.now();if(jn--,t.costTime=a-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;t.wxdataQueueTimestamp=n.invokeTime,t.wxdataDequeueTimestamp=n.invokeTime,t.beginCGITimestamp=n.beginCGITimestamp,t.CGICallbackTimestamp=n.CGICallbackTimestamp,t.wxlibCallbackTimestamp=n.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=a-t.wxlibCallbackTimestamp,i&&i.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo,In(t)}}const $n=class extends bi{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,i=null==e?void 0:e.__wx_inner_invokeTime__,a=null==e?void 0:e.__wx_inner_request_network_type__,n=null==e?void 0:e.__wx_request_route_path__,r=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++jn};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(r||e.exception){var l=r||e.exception;s.exception={reasons:l},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}var d,u;!Ln||Dn||(0,V.tK)()||(Dn=!0,Un()),e.host&&e.ip&&(d=e.host,u=e.ip,kn[d]=u),o.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(s),function(e){e.statusCode=parseInt(e.statusCode,10)}(s),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,i)=>(Array.isArray(e.header[i])?t[i]=e.header[i].join(","):"string"==typeof e.header[i]&&(t[i]=e.header[i]),t)),{}))}(s);try{Ir(e,s,{uuid:t,invokeTime:i,dataType:e.dataType,networkType:a,routePath:n})}catch(e){wxNativeConsole.error("checkAndReportError error:",e)}if("json"===e.dataType&&function(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}(s,e._jsonParse),e.__retryHttpDNS__){var c=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-c,Tn({url:e.lastUrl,result:0,fullCost:Date.now()-i,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}return zn(s,o,e),s},beforeFail(s){var l,d=!1;if(o.isSuccess=!1,zn(s,o,e),s.errMsg&&Gn.test(s.errMsg)){var u=!0,c=Date.now()-e.startTimestamp,p="number"==typeof e.timeout?e.timeout:6e4;if(c>p&&(u=!1),u){var h,f=e.__retryHttpDNS__;if(null!==(h=e.candicateIps)&&void 0!==h&&h.length){var m=e.exception;m||(m=[]),m.push({errno:600001,errmsg:s.errMsg});var v=e.candicateIps[0],y=e.candicateIps.slice(1);return Er(e.originArgs,{__innerRequestOptions__:{ip:v,candicateIps:y,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-c,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:m,__retryHttpDNS__:f},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var g=e.exception;return g||(g=[]),g.push({errno:600001,errmsg:s.errMsg}),Er(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-c,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:g,__polyfill_ldns__:!0,__retryHttpDNS__:f}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.__retryHttpDNS__){var _;Tn({url:e.lastUrl,result:1,fullCost:Date.now()-i,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(_=e.weHttpDNSCoast)&&void 0!==_?_:-1}),d=e.lastErrorResponse}else{var A,E=e.exception;if(Rn(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(A=e.retryCount)&&void 0!==A?A:0,exception:E}))return{__retry__:!0,__freehttpdns__:!0}}try{Ir(e,s,{uuid:t,invokeTime:i,networkType:a,routePath:n})}catch(e){wxNativeConsole.error("checkAndReportError error:",e)}(r||e.exception)&&(l={reasons:r||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return d?{__changeError__:{...d,exception:l}}:s}})}};var Qn=new WeakMap;class qn{constructor(){var e,t=new Promise((t=>{e=t}));Qn.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=Qn.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=Qn.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=Qn.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=Qn.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=Qn.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=Qn.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=Qn.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}function Yn(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:i,lastRequestStartTime:a,lastUrl:n,lastHost:r,lastErrorResponse:o,__innerRequestOptions__:s,__polyfill_ldns__:l,retryCount:d,exception:u}={}}){var c,p;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(p=(0,me.Em)(e.header),e.header=function(e){return Object.keys(e).reduce(((t,i)=>("string"==typeof e[i]?t[i]=e[i]:"number"==typeof e[i]?t[i]=e[i]+"":t[i]=Object.prototype.toString.apply(e[i]),t)),{})}(e.header)):(c=!0,p="Undefined",e.header={}),"Undefined"!==p&&"Object"!==p&&(console.warn("wx.request: header must be an object"),e.header={}),c||(e.header=Object.keys(e.header).reduce(((t,i)=>{var a=i.toLowerCase();return"content-type"===a?t[a]=e.header[i]:t[i]=e.header[i],t}),{}));var h="text";e.responseType&&(h=e.responseType.toLowerCase());var f,m=e.header,v="GET";if("string"==typeof e.method&&(v=e.method.toUpperCase()),e.dataType=e.dataType||"json",i||(m["content-type"]=m["content-type"]||"application/json"),f=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,me.Em)(e.data)?m["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,qi.HR)(e.data,!0):m["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):f.toString():e.data,"GET"===v&&e.data){var y=(0,qi.cE)(e.url,e.data);e.url=y}var g=null!=s&&s.timeout?s.timeout:e.timeout,_=null!=s&&s.retryCount?s.retryCount:0;_||(_=null!=d?d:0);var A=null!=s&&s.exception?s.exception:null;A||(A=u);var E=(null==s?void 0:s.__polyfill_ldns__)||l;return{header:m,method:v,responseType:h,dataStr:f,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:a,lastHost:r,lastUrl:n,__retryHttpDNS__:t,lastErrorResponse:o,startTimestamp:Date.now(),timeout:g,retryCount:_,exception:A,__polyfill_ldns__:E}}}var Zn=Symbol("skipDNS");function Kn({args:e={},host:t,skipDNS:i,banHttpDNS:a,options:n}){var r,o;if(i!==Zn&&!a){var s,l,{enableHttpDNS:d,httpDNSServiceId:u}=e;if(null!==(r=n.__innerRequestOptions__)&&void 0!==r&&r.ip)return{host:t,ip:n.__innerRequestOptions__.ip,candicateIps:null===(l=n.__innerRequestOptions__)||void 0===l?void 0:l.candicateIps};if(null===(null===(o=n.__innerRequestOptions__)||void 0===o?void 0:o.ip))return{};if(!jt()){if(!0===d&&(0,me.HD)(u)){var c=Pn(t);return c&&!1===c.expired?(s=c.ip,{host:t,ip:s}):xn(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:n.retryCount?n.retryCount+1:1};var i=e.candidateIps;return{host:t,ip:s,candicateIps:i}}))}return!0===d?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function Xn({host:e,ip:t,compatUrls:i}){var a=((e,t)=>{var i=kn[e];return t?!(i&&i===t||(delete kn[e],0)):(delete kn[e],!1)})(e,t);return t?{port:i.port,host:i.host,url:i.url,forbidReuse:a}:{forbidReuse:a}}var Jn,er=a(517),tr=Symbol("pre"),ir=Symbol("next"),ar=Symbol("key");class nr{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[tr],i=e[ir];t&&i?(t[ir]=i,i[tr]=t,this.cacheTail[ir]=e,e[tr]=this.cacheTail,e[ir]=null,this.cacheTail=e):t||i&&(i[tr]=null,this.cacheHead=i,this.cacheTail[ir]=e,e[tr]=this.cacheTail,e[ir]=null,this.cacheTail=e)}insertCache(e,t){if(t[ar]=e,this.cacheTail?(t[ir]=null,t[tr]=this.cacheTail,this.cacheTail[ir]=t,this.cacheTail=t):(this.cacheTail=t,t[ir]=null,this.cacheHead=t,t[tr]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[ar]];var i=this.cacheHead[ir];i[tr]=null,this.cacheHead[ir]=null,this.cacheHead[tr]=null,this.cacheHead=i}else this.cacheLength++}}var rr={},or={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188},sr=(e,t)=>{var i=or[t];return void 0===i?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):rr[e]?rr[e][i]:((e=>{if(rr[e])return rr[e];var t={},i=Object.values(or);et("getPluginPermissionBytes",{pluginList:[{indexes:i,pluginId:e}],success(a){var n=a.pluginPermissionMap;if(n&&n[e]){for(var r=0;r<n[e].length;r++){var o=i[r];t[o]=1===n[e][r]}rr[e]=t}},fail(e){}})})(e),rr[e]&&rr[e][i])},lr=function({args:e={}}){var{ip:t}=e;if(t){var i=Cn(this);return i&&sr(i,"skipDNSRequest")?{skipDNS:Zn,ip:e.ip}:{}}},dr={},ur=!1;function cr({args:{url:e,__wx_inner_invokeTime__:t},host:i,options:{__retryHttpDNS__:a,lastErrorResponse:n}}){var r,o;if(a)if((null===(r=dr[e])||void 0===r?void 0:r.count)>=4)Tn({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:i});else if(!jt()){if(ur){var s=Pn(i);if(s&&!1===s.expired)return o=s.ip,{host:i,ip:o,hitCache:1}}var l=Date.now();return xn(i,void 0,!0).then((e=>{o=e.ip;var t=e.hitCache?2:0,a=Date.now()-l;return{host:i,ip:o,banHttpDNS:!0,weHttpDNSCoast:a,hitCache:t}})).catch((a=>{dr[e]?dr[e].count++:dr[e]={count:1};var r=setTimeout((()=>{delete dr[e]}),3e4);throw dr[e].cf&&clearTimeout(dr[e].cf),dr[e].cf=r,Tn({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:a.errMsg||a.message||a.msg,errno:a.errno,host:i}),n}))}}T.default.onReady((()=>{var e=V.cj?"clicfg_appbrand_ios_free_httpdns_sdk_cache":"clicfg_appbrand_android_free_httpdns_sdk_cache";Dt({experimentId:e,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(ur=!0)}})}));var pr=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):Hn().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function hr({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,i,a=0;a<e.length;a++){if(i=e[a],"."===t&&"."===i)return!0;t=i}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}class fr{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var i=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(i)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new qn;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:i}=Qn.get(e);i(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:lt({name:"request",args:e,errno:101,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:i,header:a,method:n,port:r,responseType:o,dataStr:s,options:l,forbidReuse:d,currentRequestStartTime:u,lastRequestStartTime:c,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:m,__retryHttpDNS__:v,lastErrorResponse:y,candicateIps:g,startTimestamp:_,timeout:A,protocol:E,compatUrls:C,rawHttpDnsError:b,retryCount:I,exception:T,__polyfill_ldns__:w}=this.innerParams;try{return new $n(Object.assign({},e,{header:a,method:n,responseType:o,data:s,ip:i,host:t,port:r,forbidReuse:d,currentRequestStartTime:u,lastRequestStartTime:c,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:m,__retryHttpDNS__:v,lastErrorResponse:y,__skipDomainCheck__:l.__skipDomainCheck__,candicateIps:g,startTimestamp:_,timeout:A,protocol:E,compatUrls:C,rawHttpDnsError:b,retryCount:I,exception:T,__polyfill_ldns__:w}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var mr=(e={})=>(t={},i={})=>vr(Object.assign({},e,i))(t),vr=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1},e),function(t={}){var i;if(t.url){try{i=function(e){Jn||(Jn=new nr(50));var t,i=Jn.getCache(e);return i?(Jn.updateCache(i),i):((t="function"==typeof URL?new URL(e):(0,er.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),Jn.insertCache(e,t),t)}(t.url)}catch(e){return void lt({name:"request",args:t,errno:rt,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===i.protocol||"https:"===i.protocol)if("function"!=typeof t.data){var a=new fr({args:t,options:e});if(a.catch((e=>{st("request",t,e.message||e.errMsg,e.errno)})).use(Yn()).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:i.host,protocol:i.protocol,compatUrls:{port:i.port||("http:"===i.protocol?80:443),host:i.hostname,url:`${i.hostname||""}${i.pathname||""}${i.search||""}${i.hash||""}`}})).use(hr).use(lr.bind(this)).use(cr).use(Kn).use(pr).useAfterAsyncTasks(Xn),a.catchFn)return a.execute(t)}else lt({name:"request",args:t,errno:600010,errMsg:"data should not be Function",success:!1});else lt({name:"request",args:t,errno:rt,errMsg:`invalid url "${t.url}"`,success:!1})}else lt({name:"request",args:t,errno:1001,errMsg:`invalid url "${t.url}"`,success:!1})}),yr=vr({__skipDomainCheck__:!1}),gr=vr({__skipDomainCheck__:!0}),_r=vr({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),Ar=mr({__retryHttpDNS__:!0}),Er=mr();Foundation.onLoad((()=>{_t(yr)}));a.g.eval,a(190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__&&__libVersionInfo__.version;new Promise((e=>e));var Cr=[];ae("callbackWebviewMethod",(({res:e,callbackId:t})=>{var i=Cr[t];delete Cr[t],i&&i(e)}));new Promise((e=>{e}));T.default.onReady((()=>{Rt("reportRequestErrorByAI")}));Math.random,"undefined"!=typeof __libVersionInfo__&&__libVersionInfo__&&__libVersionInfo__.version;var br={};T.default.onReady((()=>{Object.assign(br,T.default.appLaunchInfo),T.default.appLaunchInfo.sessionid||T.default.appLaunchInfo.sessionId,F("onAppEnterForeground",(e=>{Object.assign(br,e),e&&(e.sessionid||e.sessionId)&&(e.sessionid||e.sessionId)}))}));function Ir(e,t,{uuid:i,invokeTime:a,dataType:n,networkType:r,routePath:o}={}){}var Tr=[];function wr(e,t){try{Tr.forEach((i=>i(e,t)))}catch(e){}}var kr=(e={},i=!1)=>{var a={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==t.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==t.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:""};if(ot("showModal",a=(0,Xa.l7)(a,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var n=!1;if(e.__sdk_inner_allowShowMoreLength__&&(n=!0),!n&&a.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)st("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!n&&a.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)st("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{__userActionTracer__.getCurrentRoutePath(),Ht();wr("showModal",a),et("showModal",a,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),V.cj?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),wr("closeModal",e),mn()},beforeAll(){!0},afterAll(){!1,a.content,a.title}})}}},Sr=1,xr=!1,Pr=(e={})=>((e={},t=!1)=>{if(!xr||t){var i={duration:1500,title:"",icon:"success",mask:!1};i=(0,Xa.l7)(i,e),e.image&&(i.image=Zi(ge.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(i.icon)<0&&(i.icon="success"),"none"===i.icon&&(i.icon=""),ot("showToast",i,{duration:1,title:"",icon:""})&&(Sr++,setTimeout((()=>{!1,t&&(xr=!1)}),i.duration),i.maskAll=!1,wr("showToast",i),et("showToast",i),"success"!==i.icon&&setTimeout((()=>{i.title,Ht(),__userActionTracer__.getCurrentRoutePath()})))}})(e),Dr=!1,Or=null;T.default.onReady((()=>{(0,V.aI)()&&setTimeout((()=>{Ct({apiName:"webapi_getadcardbalance",success({data:e}){Dr=!e.errCode}})}),3e3)}));var Rr=u("lifeCycle:AppRoute"),Mr=Rr.internalOnMethod,Nr=(Rr.internalOffMethod,Rr.emit.bind(Rr),e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status})),Lr=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},Br=wt("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:i,startTime:a,endTime:n})=>{var r={jsapi:i,export_id:e,finder_username:t};return"number"==typeof a&&"number"==typeof n&&(r.start_time=a,r.end_time=n),r}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[i,...a]=e.live_info;Object.assign(e,Nr(i)),e.otherInfos=a.map(Nr)}delete e.live_info})),Wr="getChannelsLiveInfo";var Fr=u("lifeCycle:AppRouteDone"),Vr=Fr.internalOnMethod,Ur=(Fr.internalOffMethod,Fr.emit.bind(Fr),[]),Hr=null,jr=null,Gr=!1,zr=[],$r=!1,Qr="",qr=0,Yr=0,Zr=e=>{Hr=e;var t=!1,i=!0;e.deviceOrientation!==Qr&&(t=!0),e.size.windowWidth!==qr&&(t=!0),e.size.windowHeight!==Yr&&(t=!0),(e=>{e.deviceOrientation&&(Qr=e.deviceOrientation),qr=e.size.windowWidth,Yr=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&($r=!0),"auto"===e.pageOrientation.originalPageOrientation||$r||(t=!1,i=!1)),void 0!==H&&H.isFramesetMode()&&(i=!1),t&&(Gr=!0);var a=e.changedWebviewIds;i&&a&&a.forEach((e=>{zr.indexOf(e)<0&&zr.push(e)})),jr||(jr=setTimeout((()=>{jr=null;var e=Gr;Gr=!1;var t=zr;zr=[];var i={deviceOrientation:Hr.deviceOrientation,size:Hr.size};e&&Ur.forEach((e=>{__errorTracer__.surroundThirdByTryCatch(e,"at onWindowResize callback function")(i)})),t.forEach((e=>{var t=void 0!==H?H.getPageByWebviewId(e):null;t&&__errorTracer__.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",i)}),"at Resize callback function")()}))}),16))};F("onViewDidResize",(e=>{Zr(e)}));var Kr=u("AudioInterruptionBegin"),Xr=(Kr.onMethod,Kr.offMethod,u("AudioInterruptionEnd")),Jr=(Xr.onMethod,Xr.offMethod,Xr.internalOnMethod,Xr.internalOffMethod,void 0),eo=!1;function to(){return new Jr}Foundation.onLoad((()=>{Jr=Pt&&Pt.WXAUDIO?Pt.WXAUDIO:Pt&&Pt.AudioContext?Pt.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,eo=!0}));var io=function(e,t){return wt(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))}("getCloudFileUrl","qbase_commapi");var ao=function(e,t,i){ro({fileIds:e,type:t,success:i})},no=new Map,ro=function(e){var{fileIds:t,type:i,success:a}=e,n=new Map,r=[],o=!1;if(t.forEach((e=>{var t=no.get(e);if(t){if(Date.now()<t.expireTime)return void(n.has(e)||(n.set(e,t.data),o||(o=!0)));no.delete(e)}/^(cloud):\/\//.test(e)&&r.push(e)})),0!==r.length){var s=0,l=function(e,t){for(var i=[],a=Math.ceil(e.length/t),n=0;n<a;n++)i.push(e.slice(n*t,(n+1)*t));return i}(t,50);Promise.all(l.map((e=>new Promise((t=>{io({data:{fileid_list:e,type:i},requestInQueue:!1,success(i){var a=i;if(a.baseresponse&&0===a.baseresponse.errcode?a.download_list.forEach((e=>{n.set(e.fileid,e),!no.has(e.fileid)&&e.max_age&&no.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):a.baseresponse?e.forEach((e=>{n.set(e,{download_url:e,service_errcode:a.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+a.baseresponse.errcode}),no.has(e)&&no.delete(e)})):e.forEach((e=>{n.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),no.has(e)&&no.delete(e)})),a.baseresponse&&a.baseresponse.stat&&a.baseresponse.stat.qbase_cost_time){var r=a.baseresponse.stat.qbase_cost_time;r>s&&(s=r)}t()},fail(){t()},complete(e){}})}))))).then((()=>{oo(t,n,s,a)})).catch((e=>{"function"==typeof a&&a({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?oo(t,n,0,a):"function"==typeof a&&a({data:t.map((e=>({url:e})))})};function oo(e,t,i,a){var n=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var i=t.get(e);i?0===i.service_errcode?n.push({url:i.download_url}):n.push({url:e,code:i.service_errcode,msg:i.errmsg}):n.push({url:e,code:-1,msg:"NO_RESULT"})}else n.push({url:e})})),"function"==typeof a&&a({data:n,cost:i})}class so{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var i=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===i&&void 0!==t?t:i}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,i=!1){return!(!this._internal.get(e)&&!i)&&(this._internal.set(e,t),!0)}}const lo=(()=>new so)();var uo=()=>{!0};var co,po=0,ho=0,fo=0,mo=new WeakMap,vo=new WeakMap,yo=new WeakMap,go=new WeakMap,_o=new WeakMap,Ao=new WeakMap,Eo=new WeakMap,Co=new WeakMap,bo=new WeakMap,Io=new WeakMap,To=new WeakMap,wo=new Map,ko={},So=52428800,xo=0,Po=0,Do=()=>{Object.keys(ko).sort(((e,t)=>ko[e].index-ko[t].index)).some((e=>{var t=ko[e];if(t.audioBuffer){var i=t.audioBufferSize;if(delete t.audioBuffer,delete t.audioBufferSize,delete ko[e],(xo-=i)<=So)return!0}return!1}))},Oo=e=>{e.index=++Po},Ro=(e,t,i)=>{var a=ko[e];if(a&&a.audioBuffer)Oo(a),t(a.audioBuffer,{sync:!0});else if(a&&a.loading)Oo(a),a.successCallbacks.push(t),a.failCallbacks.push(i);else{ko[e]={loading:!0,successCallbacks:[t],failCallbacks:[i]},(/^(http|https):\/\//.test(e)?No(e):/^(cloud):\/\//.test(e)?Lo(e):/^(wxblob:\/\/)/.test(e)?Bo(e):Mo(e)).then((t=>{co.decodeAudioData(t,(t=>{var i,a=ko[e];Oo(a),i=a.audioBuffer?a.audioBuffer:((e,t)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(xo+=e.audioBufferSize)>So&&Do(),e.audioBuffer))(a,t);try{a.successCallbacks&&a.successCallbacks.forEach((e=>{e(i,{sync:!1})}))}catch(e){console.error(e),wxNativeConsole.error("loadAudio invoke successCallback fail",e.message),a.failCallbacks&&a.failCallbacks.forEach((t=>{t(e)}))}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}),(t=>{try{var i=ko[e];i&&i.failCallbacks&&i.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),wxNativeConsole.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}))})).catch((t=>{try{var i=ko[e];i&&i.failCallbacks&&i.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),wxNativeConsole.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}))}},Mo=e=>{return(t={filePath:e},new ii(((e,i)=>{Ji({...t,success:e,fail:i})}))).then((e=>e.data));var t},No=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new ii(((e,i)=>{_r({...t,success:e,fail:i})}))).then((e=>e.data));var t},Lo=e=>new ii(((t,i)=>{ao([e],"audio",(e=>{No(e.data[0].url).then((e=>t(e))).catch((e=>{i(e)}))}))})),Bo=e=>new ii((t=>{t(lo.get(e))})),Wo=function(e){mo.set(this,Object.assign(mo.get(this),e))},Fo=function(e){return mo.get(this)[e]},Vo=function(){return mo.get(this)},Uo=function(){this.stop(!0),Wo.call(this,{_source:null});var e=yo.get(this);e&&e()},Ho=function(e){var t=++fo,i=co.createBufferSource(t),{currentPlayBackTime:a,state:n}=jo.call(this,e),{loop:r,playbackRate:o,_buffer:s,_gainNode:l,_instanceId:d,src:u,withReport:c}=n,p=Uo.bind(this);i.onended=p,i.buffer=s,i.loop=r,i.playbackRate.value=o,l&&i.connect(l),i.start(0,a),co.resume(),Wo.call(this,{_isPlaying:!0,paused:!1,_source:i,_played:!0,_playbackTime:0,_lastCurrentTime:a,_startedAt:co.currentTime,_endedHandler:p,_bufferSourceId:t}),(V.cj||V.wZ)&&c&&wo.set(t,{_instanceId:d,src:u})},jo=function(e){e=e||Vo.call(this);var t,{_startedAt:i,_playbackTime:a,_isPlaying:n,playbackRate:r,_lastCurrentTime:o,duration:s}=e;return(t=n?o+(co.currentTime-i)*r:a)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Go=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=Vo.call(this);e&&e.disconnect(),Wo.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,vo.delete(this),yo.delete(this),go.delete(this),_o.delete(this),Eo.delete(this),Ao.delete(this),Co.delete(this),bo.delete(this),To.delete(this),clearInterval(Io.get(this)),Io.delete(this)},zo=function(){this.stop(!0),Wo.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},$o=function(e){var t,i;zo.call(this);var a=new ii(((e,a)=>{t=e,i=a}));Wo.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:a,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:i})},Qo={},qo=(e,t)=>e+"-"+t,Yo=function(e,t){var i=qo(t,e);Qo[i]?Qo[i]++:Qo[i]=1};class Zo{constructor({withReport:e}={}){co||("function"==typeof(co=to()).create&&co.create(-1,!0),(V.cj||V.wZ)&&(co.onmessage=e=>{var{message:t,node_id:i}=e;if("real_play"===t){var a=wo.get(i);if(wo.delete(i),a){var{_instanceId:n,src:r}=a,o=qo(n,r);Qo[o]&&(Qo[o]--,this.ignoreReport||Date.now())}}}));var t=co.createGain();t.connect(co.destination);var i={withReport:e},a=new ii(((e,t)=>{i._audioLoadPromiseResolve=e,i._audioLoadPromiseReject=t}));mo.set(this,Object.assign(i,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:a,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++ho}))}get src(){return Fo.call(this,"src")}set src(e){var{src:t,_gainNode:i}=Vo.call(this);i&&"string"==typeof e&&e.length>0&&t!==e&&(t&&$o.call(this,e),Wo.call(this,{src:e}),Ro(e,((t,{sync:i})=>{var{src:a,_gainNode:n,_isPlaying:r,autoplay:o,_audioLoadPromiseResolve:s}=Vo.call(this);if(n){if(a===e){if(Wo.call(this,{_ready:!0,_buffer:t,duration:t.duration}),i)setTimeout((()=>{var e=vo.get(this);e&&e()}),0);else{var l=vo.get(this);l&&l()}return!o||r||zs()||this.play(),s(!1),null}s(!0)}}),(t=>{var i=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),wxNativeConsole.error("loadAudioFail ",t);var a=Vo.call(this),{_audioLoadPromiseReject:n}=a,r=go.get(this);r&&r({type:"error",errMsg:i,errno:t.errno}),n(t)})))}get startTime(){return Fo.call(this,"startTime")}set startTime(e){var{_played:t,startTime:i,_gainNode:a}=Vo.call(this);a&&e!==i&&"number"==typeof e&&e>=0&&(Wo.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return Fo.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:i}=Vo.call(this);i&&!!e!==t&&(e&&(this.ignoreReport=!0,uo()),Wo.call(this,{autoplay:!!e}))}get loop(){return Fo.call(this,"loop")}set loop(e){var{_source:t,_gainNode:i}=Vo.call(this);i&&(Wo.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,uo()),t&&(t.loop=e))}get volume(){return Fo.call(this,"volume")}set volume(e){var{volume:t,_gainNode:i}=Vo.call(this);i&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(Wo.call(this,{volume:e}),i&&i.gain&&(i.gain.value=e))}get playbackRate(){return Fo.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:i,_gainNode:a}=Vo.call(this);a&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(Wo.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:co.currentTime}),i&&(i.playbackRate.value=e))}get duration(){return Fo.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=jo.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:i}=Vo.call(this);if(!i)return;var a=Co.get(this),n=bo.get(this),r=vo.get(this);n&&n(),this.ignoreReport=!0,uo(),t?(this.stop(!0),Wo.call(this,{_playbackTime:e}),this.play(!0)):Wo.call(this,{_playbackTime:e}),a&&a(),r&&r()}}get paused(){return Fo.call(this,"paused")}get buffered(){var{duration:e}=Vo.call(this);return e>0?e:0}play(e=!1){var t=Vo.call(this),{_isPlaying:i,_ready:a,_loadPromise:n,_gainNode:r,_playPendingIdMap:o,withReport:s,src:l,_instanceId:d}=t;if(r){var u=this.lastPlayTime,c=Date.now();if(this.lastPlayTime=c,u&&c-u<1e3&&(this.ignoreReport=!0,uo()),!i||e||!s||this.ignoreReport){!e&&s&&this.ignoreReport;var p=()=>{if(!e){var t=_o.get(this);t&&t()}};if(a){var h;try{Ho.call(this,t)}catch(t){h=t;var f=go.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}h||(!e&&s&&Yo(l,d),p())}else{var m=++po;o[m]=!0,n.then((u=>{var c=!1===o[m];if(delete o[m],u)return i=null,a=null,n=null,r=null,t=null,void(p=null);if(!c){var h,f=Vo.call(this),{_isPlaying:v}=f;if(!v){try{Ho.call(this,f)}catch(t){h=t;var y=go.get(this);y&&y({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}return h||(!e&&s&&Yo(l,d),p()),null}}})).catch((e=>{s&&(e.errMsg||e.message)}))}}else Date.now()}}pause(){var e=Vo.call(this),{_isPlaying:t,_source:i,_gainNode:a,_playPendingIdMap:n}=e;if(a)if(i&&t){var r=Ao.get(this);i.stop(0),i.disconnect(),i.onended=null,Wo.call(this,{_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),r&&r()}else Object.keys(n).forEach((e=>{n[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:i,_isPlaying:a,_playPendingIdMap:n}=Vo.call(this);if(i){if(t)try{var r=Eo.get(this);t.stop(0),t.disconnect(),t.onended=null,Wo.call(this,{_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&r&&r()}catch(e){}a||Object.keys(n).forEach((e=>{n[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:i}=Vo.call(this);if(!i)return;var a=Co.get(this),n=bo.get(this),r=vo.get(this);n&&n(),this.ignoreReport=!0,uo(),t?(this.stop(!0),Wo.call(this,{_playbackTime:e}),this.play(!0)):Wo.call(this,{_playbackTime:e}),a&&a(),r&&r()}}destroy(){var{_gainNode:e}=Vo.call(this);e&&Go.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;vo.set(this,e)}else vo.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;yo.set(this,e)}else yo.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;go.set(this,e)}else go.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;_o.set(this,e)}else _o.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;Ao.set(this,e)}else Ao.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;Eo.set(this,e)}else Eo.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;Co.set(this,e)}else Co.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;bo.set(this,e)}else bo.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;var i=Io.get(this);clearInterval(i);var a=setInterval((()=>{var{_isPlaying:t}=Vo.call(this);t&&e()}),350);Io.set(this,a)}else Io.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=Vo.call(this);if(!t)return;To.set(this,e)}else To.delete(this)}}var Ko=()=>function(){if(!eo)throw new Error("detect WebAudioContext too early");return!!Jr}()&&!0,Xo={};var Jo=new Set([1177,1184,1200,1228]),es=new Set([0,1,2,7]),ts=()=>{var{scene:e}=Xo;return Jo.has(e)&&es.has(T.default.appType)},is=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],as=["startTime","duration","currentTime"],ns=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],rs=new Set,os=new WeakMap,ss=new WeakMap,ls=new WeakMap,ds=new WeakMap;class us{constructor(e,t=1e3,i){var a=new o.Z;os.set(this,e),rs.add(this),ds.set(this,{conversion:t,type:i}),is.forEach((i=>Object.defineProperty(this,i,{get:()=>as.includes(i)?e[i]/t:e[i],set(a){ts()||(as.includes(i)?e[i]=t*a:e[i]=a)}}))),ns.forEach((t=>{this["on"+t]=e=>{var i=__errorTracer__.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);ss.set(e,i),ls.set(i,e),a.on(t,i)},this["off"+t]=e=>{if((0,me.mf)(e)){var i=ss.get(e);(0,me.mf)(i)&&(a.off(t,i),ss.delete(e),ls.delete(i))}else a.listeners(t).forEach((e=>{var t=ls.get(e);ss.delete(t),ls.delete(e)})),a.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,i)=>{e?(0,me.Kn)(e)?a.emit(t,e):a.emit(t,{errCode:e,errMsg:i}):a.emit(t)}}))}play(){var e;ts()||zs()&&"inner"!==ds.get(this).type||null===(e=os.get(this))||void 0===e||e.play()}stop(){var e;null===(e=os.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=os.get(this))||void 0===e||e.pause()}seek(e){var t,i;if(!ts()){var{conversion:a}=null!==(t=ds.get(this))&&void 0!==t?t:{};null===(i=os.get(this))||void 0===i||i.seek(a*e)}}destroy(){var e=os.get(this);e.destroy&&e.destroy(),ns.forEach((e=>{this["off"+e]()})),rs.delete(this),os.delete(this)}static pauseAllAudio(){rs.forEach((e=>{if("inner"!==ds.get(e).type){var t=os.get(e);t&&t.pause()}}))}}class cs extends us{constructor({type:e}){super(new Pt.Audio,1e3,e)}}class ps extends us{constructor({withReport:e,type:t}={}){super(new Zo({withReport:e}),1,t)}}var hs=new WeakMap,fs=new WeakMap,ms=new WeakMap,vs=new WeakMap,ys=new WeakMap,gs=new WeakMap,_s=new WeakMap,As=new WeakMap,Es=new Map,Cs=new Map,bs=new Map,Is=wxNativeConsole.createLogger("InnerAudio"),Ts=function(e,t){fs.set(this,Object.assign(fs.get(this),{[e]:t})),"src"===e&&fs.set(this,Object.assign(fs.get(this),{paused:!0})),vs.get(this)&&(setTimeout((()=>{var i=Object.assign({},fs.get(this),ys.get(this),{timestamp:Date.now(),audioId:hs.get(this),success:()=>{fs.set(this,Object.assign(fs.get(this),{[e]:t}))},fail:()=>{ks.call(this)}});zs()&&(i.autoplay=!1),et("setAudioState",i),vs.set(this,!0)}),0),vs.set(this,!1)),ys.set(this,Object.assign(ys.get(this),{[e]:t}))},ws=function(e,t){_s.get(this).then((()=>{Ts.call(this,e,t)}))},ks=function(e,t){var i=fs.get(this)[e];return et("getAudioState",{audioId:hs.get(this),success:a=>{delete a.errMsg,fs.set(this,Object.assign(fs.get(this),a)),i=a[e],"function"==typeof t&&t(i)}}),i},Ss=function(e){var t=hs.get(this);et("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:i})=>{Is.error(`operateAudio fail: errMsg="${i}"`,e.operationType,t),Ns.call(this,"error",{errMsg:i,errCode:-1});var a=fs.get(this);null!=a&&a.withReport&&(null==a||a.implementType)}},e))},xs=function(e){return _s.get(this).then((()=>{if("play"===e.operationType){var t=fs.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){hs.get(this);null==t||t.src,null==t||t.implementType}}setTimeout((()=>{Ss.call(this,e)}),0)}))},Ps=new o.Z;"undefined"!=typeof IS_SDK_PACKAGE||L("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=Es.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&(null==t||t.src,e.audioId,Date.now(),null==t||t.implementType,null==t||t.size)}else{e.state=e.state.toLowerCase();var{state:i,audioId:a,errMsg:n}=e;delete e.audioId,delete e.state;var r="play"!==i,o=Es.get(a);o&&(o.paused=r),"error"===i&&null!=o&&o.withReport&&(null==o||o.src,null==o||o.implementType);var s=bs.get(a);if(!s||!(i in s))return;Ps.emit(`${a}_onAudioStateChange_${i}`,e)}}));var Ds=function(e,t){var i=`${hs.get(this)}_onAudioStateChange_${e}`,a=i=>{__errorTracer__.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(i)};gs.set(t,a),Ps.on(i,a)},Os=function(e,t){_s.get(this).then((()=>{Ds.call(this,e,t)}))},Rs=function(e,t){var i=`${hs.get(this)}_onAudioStateChange_${e}`;if((0,me.mf)(t)){var a=gs.get(t);(0,me.mf)(a)&&Ps.off(i,a)}else Ps.removeAllListeners(i)},Ms=function(e,t){_s.get(this).then((()=>{Rs.call(this,e,t)}))},Ns=function(e,t){Ps.emit(`${hs.get(this)}_onAudioStateChange_${e}`,t)},Ls=0,Bs=!1;const Ws=class{constructor({pluginId:e,withReport:t,type:i,size:a}={}){var n,r;fs.set(this,{}),ys.set(this,{}),ms.set(this,void 0),vs.set(this,!0),"string"==typeof e&&As.set(this,e.split("/",1)[0]),_s.set(this,new ii(((e,t)=>{n=e,r=t})));var o={},s=0===a?"jsapiRemote-1.0":"jsapiLocal-1.0";et(V.wZ||V.jP||V.Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var r={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:i,size:a,implementType:s};if(bs.set(e.audioId,o),Es.set(e.audioId,r),hs.set(this,e.audioId),fs.set(this,r),Pt.BindingObject){var l=new Pt.BindingObject;this.__bindingObject=l,Cs[l.__id]=e.audioId}(Ls+=1)>=1024&&!Bs&&V.cj&&(Bs=!0,Reporter.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),Ls>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(n,0)},fail:e=>{t&&e.errMsg,r(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var i=e.toLowerCase();o[i]=1,Os.call(this,i,t)},this[`off${e}`]=t=>{var i=e.toLowerCase();delete o[i],Ms.call(this,i,t)}}))}get src(){return this.cloudId?this.cloudId:ks.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t,i=As.get(this);"string"==typeof i&&null===((t=e.match(Yi))?t[0]:null)&&(e=function(e,t=""){return t=t.replace(/^\//,""),(0,V.aI)()?`__plugin__/${e}/${t}`:Ki(`plugin-private://${e}/${t}`)}(i,e)),ao([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,ws.call(this,"src",e)}))}else Ns.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return ks.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?ws.call(this,"startTime",1e3*e):Ns("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!ts()){if(!0===e){var t=hs.get(this),i=Es.get(t);i&&(i.ignoreReport=!0,uo())}ws.call(this,"autoplay",e)}}get autoplay(){return ks.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=hs.get(this),i=Es.get(t);i&&(i.ignoreReport=!0,uo())}ws.call(this,"loop",e)}}get loop(){return ks.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&ws.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return ks.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||ws.call(this,"volume",e)}get volume(){return ks.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||ws.call(this,"playbackRate",e)}get playbackRate(){return ks.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&ws.call(this,"referrerPolicy",e)}get referrerPolicy(){return ks.call(this,"referrerPolicy")}get paused(){return ks.call(this,"paused")}get duration(){return ks.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)Ns("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=hs.get(this),i=Es.get(t);i&&(i.ignoreReport=!0,uo()),xs.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return ks.call(this,"currentTime")/1e3}get buffered(){return ks.call(this,"buffered")/1e3}play(){if(!(ts()||zs()&&"inner"!==fs.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var i=hs.get(this),a=Es.get(i);a&&(a.ignoreReport=!0,uo())}xs.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){xs.call(this,{operationType:"pause"})}stop(){xs.call(this,{operationType:"stop"})}seek(e){if(!ts())if("number"!=typeof e||e<0)Ns("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=hs.get(this),i=Es.get(t);i&&(i.ignoreReport=!0,uo()),xs.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){_s.get(this).then((()=>{var e=hs.get(this);Es.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var i=`${e}_onAudioStateChange_${t}`;Ps.removeAllListeners(i)})),bs.delete(e),Es.delete(e),Ls-=1,setTimeout((()=>{et("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){_s.get(this).then((()=>{var t=`${hs.get(this)}_onAudioStateChange_timeupdate`;void 0===ms.get(this)&&ms.set(this,setInterval((()=>{if("active"===ge.runningStatus&&!0!==fs.get(this).paused&&1!==fs.get(this).paused){var e=fs.get(this).currentTime;ks.call(this,"currentTime",(i=>{i!==e&&Ps.emit(t)}))}}),250)),Ps.removeAllListeners(t);var i=t=>{__errorTracer__.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};gs.set(e,i),Ps.on(t,i)}))}offTimeUpdate(e){_s.get(this).then((()=>{Ms.call(this,"timeupdate",e)}))}static pauseAllAudio(){Es.forEach(((e,t)=>{"inner"!==e.type&&et("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var Fs=a(551),Vs=new Set;class Us{static pauseAllAudio(){Vs.forEach((e=>{e.suspend()}))}}var Hs=()=>{Ws.pauseAllAudio(),cs.pauseAllAudio(),ps.pauseAllAudio(),Us.pauseAllAudio()},js=!1,Gs=!1;"undefined"!=typeof IS_SDK_PACKAGE||L("onAudioInterruptionBegin",(e=>{js=!0,!1===Gs&&Kr.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||L("onAudioInterruptionEnd",(e=>{js=!1,!1===Gs&&Xr.emit(e)}));var zs=()=>Gs,$s=e=>(t={})=>{(e?Ct:It)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},Qs=($s(!1),$s(!0)),qs=a(648),Ys=a(206),Zs="",Ks="",Xs="{}",Js="",el="",tl="{}";var il=()=>{var e=xa();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":T.default.deviceOrientation&&/^landscape/.test(T.default.deviceOrientation)?"landscape":T.default.deviceOrientation||"portrait"},al=a(803),nl="",rl=V.iw,ol="",sl="",ll="",dl="",ul="",cl="",pl=!0,hl="";T.default.onReady((()=>{nl=il()||"";var e=Sa();ol=e.system,sl=e.version,ll=e.SDKVersion,ul=e.model,cl=e.brand,pl=(0,V.aI)();try{hl=T.default.accountInfo.appId,dl=__libVersionInfo__.updateTime}catch(e){}}));var fl=(e,t)=>{var i=(0,al.x)(e);if(i&&0!==i.length)return t=Object.assign({publisher_appid:hl,appid:hl,orig_weapp_id:"",network_type:"",wechat_version:sl,platform:rl,system_version:ol,device_orientation:nl,wxapp_lib_version:ll,wxapp_lib_time:dl,machine_type:ul,ad_platform:pl?1:0},t),t=Object.assign({DeviceModel:ul,DeviceBrand:cl,OsName:rl,OsVersion:ol},t),i=i.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),bt({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:i})}}).catch((e=>{}))},ml=(e,t,i)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),Reporter.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:i,reportData:a})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),a=a||{},i&&"string"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=i.toString()}fl(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:a.ad_pos_type||0,source_url:a.source_url||"",expand_feild:a.reportAdData||"",expand_feild2:i,aid:a.aid||0,traceid:a.traceid||"",ad_unit_id:a.ad_unit_id})})({key:e,extInfo:t,reportData:i})},vl={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:V.iw,isWaGame:!0,isApp:!1,isIOS:V.cj,isAndroid:V.wZ,isWindows:V.qB,isMac:V.Mq,isPC:V.DD,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},yl={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""};Foundation.onLoad((()=>{vl.startTime=new Date,yl.enterForegroundTime=new Date}));var gl,_l,Al,El,Cl,bl,Il,Tl=()=>(0,qs.ei)(vl,["oaid","imei","idfa","common_device_id"]),wl=()=>{var e=Ea();return vl.screenWidth=e.screenWidth,vl.screenHeight=e.screenHeight,vl.deviceOrientation=vl.screenWidth>vl.screenHeight?"landscape":"portrait",vl.deviceOrientation},kl=()=>{},Sl=()=>kl(),xl=()=>new Promise((e=>{kl=e})),Pl=()=>new Promise((e=>{var t;t=t=>{vl.oaid=t,e()},Zs?t&&t(Zs):V.wZ&&T.default.clientVersion<654315827?et("getOAID",{success(e){/:ok/.test(e.errMsg)?(Zs=e.result||"",t&&t(Zs)):t&&t("")},fail(){t&&t("")}}):t&&t("")})),Dl=()=>new Promise((e=>{(function(e=""){return new Promise(((t,i)=>{V.wZ&&T.default.clientVersion>=654315827||V.cj&&T.default.clientVersion>=385879808?et("getDeviceInfo",{waidPkg:e,success(e){Zs=e.oaid||"",Ks=e.imei||"",el=e.waid||"",Js=e.ua||"",tl=e.devIdInfo||"{}";try{Xs=JSON.stringify({...JSON.parse(tl),...Js?{ua:Js}:{}})}catch(e){i(e)}t({oaid:Zs,imei:Ks,commonid:Xs,waid:el})},fail(e){i(e)}}):t({oaid:Zs,imei:Ks,commonid:Xs,waid:el})}))})().then((({imei:t,oaid:i,commonid:a})=>{V.cj?vl.idfa=t:V.wZ&&(vl.oaid=i,vl.imei=t),vl.common_device_id=a||"{}",e(),xl().then((()=>{ml(Ys.Rfd)}))})).catch((t=>{e(),xl().then((()=>{ml(Ys.HA$,t)}))}))})),Ol=new Promise((e=>{T.default.onReady((()=>{var t;vl.safeArea=T.default.safeArea||{},vl.startTime=new Date,vl.deviceOrientation=il()||"",vl.envVersion=T.default.envVersion;var i=Sa(),a=xa();vl.screenWidth=a.screenWidth||0,vl.screenHeight=a.screenHeight||0,vl.systemVersion=i.system,vl.wechatVersion=i.version,vl.SDKVersion=i.SDKVersion,vl.brand=i.brand,vl.model=i.model,vl.isIPad=null===(t=i.model)||void 0===t?void 0:t.includes("iPad"),vl.isWaGame=(0,V.aI)(),vl.isApp=(0,V.RF)();try{vl.gameAppId=T.default.accountInfo.appId,vl.SDKVersionTime=__libVersionInfo__.updateTime}catch(e){}Promise.all([Pl(),Dl()]).then((()=>e(vl)))}))})),Rl=e=>{var t=Object.keys(e);for(var i of t)vl[i]=e[i]};try{Mr((({webviewId:e,openType:t,path:i})=>{vl.isWaGame||(yl.lastWebviewId=yl.currentWebviewId,yl.currentWebviewId=e||0,yl.currentOpenType=t,yl.weappPath=i)}))}catch{}var Ml=()=>({gameTouchStartPosX:gl,gameTouchStartPosY:_l,gameTouchEndPosX:Al,gameTouchEndPosY:El,gameTouchInterval:Cl,gameTouchStartTime:bl,gameTouchEndTime:Il}),Nl=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(gl=Math.round(e.changedTouches[0].clientX),_l=Math.round(e.changedTouches[0].clientY),Al=0,El=0,Cl=0,bl=+new Date)},Ll=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&(Al=Math.round(e.changedTouches[0].clientX),El=Math.round(e.changedTouches[0].clientY),Cl=+new Date-bl,Il=+new Date)},Bl=()=>{ca.offTouchStart(Nl),ca.offTouchEnd(Ll)};h((({scene:e})=>{yl.enterForegroundTime=new Date,yl.currentScene=e})),A((()=>{yl.gameDuration+=Date.now()-yl.enterForegroundTime.getTime()}));var Wl=function(){var e,t="inherit",i="ltr",a="rtl",n="row",r="row-reverse",o="column",s="column-reverse",l="flex-start",d="center",u="flex-end",c="space-between",p="space-around",h="flex-start",f="center",m="flex-end",v="stretch",y="relative",g="absolute",_={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},A={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},E={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},C={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function b(e){return void 0===e}function I(e){return e===n||e===r}function T(e,t){if(void 0!==e.style.marginStart&&I(t))return e.style.marginStart;var i=null;switch(t){case"row":i=e.style.marginLeft;break;case"row-reverse":i=e.style.marginRight;break;case"column":i=e.style.marginTop;break;case"column-reverse":i=e.style.marginBottom}return void 0!==i?i:void 0!==e.style.margin?e.style.margin:0}function w(e,t){if(void 0!==e.style.marginEnd&&I(t))return e.style.marginEnd;var i=null;switch(t){case"row":i=e.style.marginRight;break;case"row-reverse":i=e.style.marginLeft;break;case"column":i=e.style.marginBottom;break;case"column-reverse":i=e.style.marginTop}return null!=i?i:void 0!==e.style.margin?e.style.margin:0}function k(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&I(t))return e.style.borderStartWidth;var i=null;switch(t){case"row":i=e.style.borderLeftWidth;break;case"row-reverse":i=e.style.borderRightWidth;break;case"column":i=e.style.borderTopWidth;break;case"column-reverse":i=e.style.borderBottomWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function S(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&I(t))return e.style.borderEndWidth;var i=null;switch(t){case"row":i=e.style.borderRightWidth;break;case"row-reverse":i=e.style.borderLeftWidth;break;case"column":i=e.style.borderBottomWidth;break;case"column-reverse":i=e.style.borderTopWidth}return null!=i&&i>=0?i:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function x(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&I(t))return e.style.paddingStart;var i=null;switch(t){case"row":i=e.style.paddingLeft;break;case"row-reverse":i=e.style.paddingRight;break;case"column":i=e.style.paddingTop;break;case"column-reverse":i=e.style.paddingBottom}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+k(e,t)}function P(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&I(t))return e.style.paddingEnd;var i=null;switch(t){case"row":i=e.style.paddingRight;break;case"row-reverse":i=e.style.paddingLeft;break;case"column":i=e.style.paddingBottom;break;case"column-reverse":i=e.style.paddingTop}return null!=i&&i>=0?i:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+S(e,t)}function D(e,t){return k(e,t)+S(e,t)}function O(e,t){return T(e,t)+w(e,t)}function R(e,t){return x(e,t)+P(e,t)}function M(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function N(e,t){if(t===a){if(e===n)return r;if(e===r)return n}return e}function L(e,t){return function(e){return e===o||e===s}(e)?N(n,t):o}function B(e){return e.style.position?e.style.position:"relative"}function W(e){return B(e)===y&&e.style.flex>0}function F(e,t){return e.layout[C[t]]+O(e,t)}function V(e,t){return void 0!==e.style[C[t]]&&e.style[C[t]]>=0}function U(e,t){return void 0!==e.style[t]}function H(e,t){return void 0!==e.style[t]?e.style[t]:0}function j(e,t,i){var a={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],n={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],r=i;return void 0!==n&&n>=0&&r>n&&(r=n),void 0!==a&&a>=0&&r<a&&(r=a),r}function G(e,t){return e>t?e:t}function z(e,t){void 0===e.layout[C[t]]&&V(e,t)&&(e.layout[C[t]]=G(j(e,t,e.style[C[t]]),R(e,t)))}function $(e,t,i){t.layout[A[i]]=e.layout[C[i]]-t.layout[C[i]]-t.layout[E[i]]}function Q(e,t){return void 0!==e.style[_[t]]?H(e,_[t]):-H(e,A[t])}function q(a,S,q){var Z=function(e,a){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===a?i:a),n}(a,q),K=N(function(e){return e.style.flexDirection?e.style.flexDirection:o}(a),Z),X=L(K,Z),J=N(n,Z);z(a,K),z(a,X),a.layout.direction=Z,a.layout[_[K]]+=T(a,K)+Q(a,K),a.layout[A[K]]+=w(a,K)+Q(a,K),a.layout[_[X]]+=T(a,X)+Q(a,X),a.layout[A[X]]+=w(a,X)+Q(a,X);var ee=a.children.length,te=R(a,J);if(function(e){return void 0!==e.style.measure}(a)){var ie=!b(a.layout[C[J]]),ae=e;ae=V(a,J)?a.style.width:ie?a.layout[C[J]]:S-O(a,J),ae-=te;var ne=!V(a,J)&&!ie,re=!V(a,o)&&b(a.layout[C[o]]);if(ne||re){var oe=a.style.measure(ae);ne&&(a.layout.width=oe.width+te),re&&(a.layout.height=oe.height+R(a,o))}if(0===ee)return}var se,le,de,ue,ce=function(e){return"wrap"===e.style.flexWrap}(a),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(a),he=x(a,K),fe=x(a,X),me=R(a,K),ve=R(a,X),ye=!b(a.layout[C[K]]),ge=!b(a.layout[C[X]]),_e=I(K),Ae=null,Ee=null,Ce=e;ye&&(Ce=a.layout[C[K]]-me);for(var be=0,Ie=0,Te=0,we=0,ke=0,Se=0;Ie<ee;){var xe,Pe=0,De=0,Oe=0,Re=0,Me=ye&&pe===l||!ye&&pe!==d,Ne=Me?ee:be,Le=!0,Be=ee,We=null,Fe=null,Ve=he,Ue=0;for(se=be;se<ee;++se){if((de=a.children[se]).lineIndex=Se,de.nextAbsoluteChild=null,de.nextFlexChild=null,(Ze=M(a,de))===v&&B(de)===y&&ge&&!V(de,X))de.layout[C[X]]=G(j(de,X,a.layout[C[X]]-ve-O(de,X)),R(de,X));else if(B(de)===g)for(null===Ae&&(Ae=de),null!==Ee&&(Ee.nextAbsoluteChild=de),Ee=de,le=0;le<2;le++)ue=0!==le?n:o,!b(a.layout[C[ue]])&&!V(de,ue)&&U(de,_[ue])&&U(de,A[ue])&&(de.layout[C[ue]]=G(j(de,ue,a.layout[C[ue]]-R(a,ue)-O(de,ue)-H(de,_[ue])-H(de,A[ue])),R(de,ue)));var He=0;if(ye&&W(de)?(De++,Oe+=de.style.flex,null===We&&(We=de),null!==Fe&&(Fe.nextFlexChild=de),Fe=de,He=R(de,K)+O(de,K)):(xe=e,_e||(xe=V(a,J)?a.layout[C[J]]-te:S-O(a,J)-te),0===Te&&Y(de,xe,Z),B(de)===y&&(Re++,He=F(de,K))),ce&&ye&&Pe+He>Ce&&se!==be){Re--,Te=1;break}Me&&(B(de)!==y||W(de))&&(Me=!1,Ne=se),Le&&(B(de)!==y||Ze!==v&&Ze!==h||b(de.layout[C[X]]))&&(Le=!1,Be=se),Me&&(de.layout[E[K]]+=Ve,ye&&$(a,de,K),Ve+=F(de,K),Ue=G(Ue,j(de,X,F(de,X)))),Le&&(de.layout[E[X]]+=we+fe,ge&&$(a,de,X)),Te=0,Pe+=He,Ie=se+1}var je=0,Ge=0,ze=0;if(ze=ye?Ce-Pe:G(Pe,0)-Pe,0!==De){var $e,Qe,qe=ze/Oe;for(Fe=We;null!==Fe;)($e=qe*Fe.style.flex+R(Fe,K))!==(Qe=j(Fe,K,$e))&&(ze-=Qe,Oe-=Fe.style.flex),Fe=Fe.nextFlexChild;for((qe=ze/Oe)<0&&(qe=0),Fe=We;null!==Fe;)Fe.layout[C[K]]=j(Fe,K,qe*Fe.style.flex+R(Fe,K)),xe=e,V(a,J)?xe=a.layout[C[J]]-te:_e||(xe=S-O(a,J)-te),Y(Fe,xe,Z),de=Fe,Fe=Fe.nextFlexChild,de.nextFlexChild=null}else pe!==l&&(pe===d?je=ze/2:pe===u?je=ze:pe===c?(ze=G(ze,0),Ge=De+Re-1!=0?ze/(De+Re-1):0):pe===p&&(je=(Ge=ze/(De+Re))/2));for(Ve+=je,se=Ne;se<Ie;++se)B(de=a.children[se])===g&&U(de,_[K])?de.layout[E[K]]=H(de,_[K])+k(a,K)+T(de,K):(de.layout[E[K]]+=Ve,ye&&$(a,de,K),B(de)===y&&(Ve+=Ge+F(de,K),Ue=G(Ue,j(de,X,F(de,X)))));var Ye=a.layout[C[X]];for(ge||(Ye=G(j(a,X,Ue+ve),ve)),se=Be;se<Ie;++se)if(B(de=a.children[se])===g&&U(de,_[X]))de.layout[E[X]]=H(de,_[X])+k(a,X)+T(de,X);else{var Ze,Ke=fe;if(B(de)===y)if((Ze=M(a,de))===v)b(de.layout[C[X]])&&(de.layout[C[X]]=G(j(de,X,Ye-ve-O(de,X)),R(de,X)));else if(Ze!==h){var Xe=Ye-ve-F(de,X);Ke+=Ze===f?Xe/2:Xe}de.layout[E[X]]+=we+Ke,ge&&$(a,de,X)}we+=Ue,ke=G(ke,Ve),Se+=1,be=Ie}if(Se>1&&ge){var Je=a.layout[C[X]]-ve,et=Je-we,tt=0,it=fe,at=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(a);at===m?it+=et:at===f?it+=et/2:at===v&&Je>we&&(tt=et/Se);var nt=0;for(se=0;se<Se;++se){var rt=nt,ot=0;for(le=rt;le<ee;++le)if(B(de=a.children[le])===y){if(de.lineIndex!==se)break;b(de.layout[C[X]])||(ot=G(ot,de.layout[C[X]]+O(de,X)))}for(nt=le,ot+=tt,le=rt;le<nt;++le)if(B(de=a.children[le])===y){var st=M(a,de);if(st===h)de.layout[E[X]]=it+T(de,X);else if(st===m)de.layout[E[X]]=it+ot-w(de,X)-de.layout[C[X]];else if(st===f){var lt=de.layout[C[X]];de.layout[E[X]]=it+(ot-lt)/2}else st===v&&(de.layout[E[X]]=it+T(de,X))}it+=ot}}var dt=!1,ut=!1;if(ye||(a.layout[C[K]]=G(j(a,K,ke+P(a,K)),me),K!==r&&K!==s||(dt=!0)),ge||(a.layout[C[X]]=G(j(a,X,we+ve),ve),X!==r&&X!==s||(ut=!0)),dt||ut)for(se=0;se<ee;++se)de=a.children[se],dt&&$(a,de,K),ut&&$(a,de,X);for(Ee=Ae;null!==Ee;){for(le=0;le<2;le++)ue=0!==le?n:o,!b(a.layout[C[ue]])&&!V(Ee,ue)&&U(Ee,_[ue])&&U(Ee,A[ue])&&(Ee.layout[C[ue]]=G(j(Ee,ue,a.layout[C[ue]]-D(a,ue)-O(Ee,ue)-H(Ee,_[ue])-H(Ee,A[ue])),R(Ee,ue))),U(Ee,A[ue])&&!U(Ee,_[ue])&&(Ee.layout[_[ue]]=a.layout[C[ue]]-Ee.layout[C[ue]]-H(Ee,A[ue]));de=Ee,Ee=Ee.nextAbsoluteChild,de.nextAbsoluteChild=null}}function Y(e,t,a){e.shouldUpdate=!0;var n=e.style.direction||i;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),q(e,t,a),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:q,computeLayout:Y,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var Fl=(e,t)=>{var i=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((a=>{i=i||t.layoutBox[a]!==e.layout[a],t.layoutBox[a]=e.layout[a]})),t.shouldUpdate=t.shouldUpdate||i,e.children.forEach((e=>{var i=t.children[e.id];i&&Fl(e,i)}))},Vl=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var i=e.children[t];return Vl(i)})))))},Ul=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var i=e.children[t];return Ul(i)}))};class Hl extends Va{constructor({style:e,name:t,auto:i=!0}={}){super({style:e,id:0,name:t});var a=null;this.auto=i,this.on("layout",(()=>{this.auto&&(clearTimeout(a),a=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t,i={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return t=i,Wl.fillNodes(t),Wl.computeLayout(t),Fl(i,this),e?Vl(this).then((()=>this.emit("update-done"))):(Ul(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var jl=new Hl({name:"webview-layout"});jl.dest=0;var Gl=new Hl({name:"nativeview-layout",auto:!1});Gl.onebyone=!1,Gl.dest=1;class zl extends Va{constructor({id:e,parentId:t,style:i,props:a={},type:n="text",name:r="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:d=!1,independent:u=!1,dest:c=0}={}){super({id:e,style:i,props:Object.assign(a,{fullscreen:!1}),name:r,parentId:t}),this.type="text"===n?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=d,this.independent=u,this.dest=c,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new zl({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{l&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),h=e}));var f=e=>{l&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var i={x:0,y:0};Array.isArray(e)?i=e.pop():e.x&&e.y&&(i=e);var a={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+i.x,absoluteEndY:t.top+i.y,relativeEndX:i.x,relativeEndY:i.y,pressInterval:Date.now()-p};this.emit("click",a)};this.on("touchend",f),this.on("touchcancel",f),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,Ra.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,Ra.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var i={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(i={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(i.width=0,i.height=0),this.mask&&(this.mask.style.width=i.width,this.mask.style.height=i.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:i,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,i)=>{et(`insert${this.type}`,Object.assign(e,{success:e=>{(0,Ra.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:i}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,i)=>{et(`update${this.type}`,Object.assign(e,{success:t,fail:i}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,i)=>{et(`remove${this.type}`,Object.assign(e,{success:t,fail:i}))}))}animate({left:e,top:t,opacity:i,scaleWidth:a,scaleHeight:n,rotate:r=0,duration:o=500,easing:s}={}){var l={dest:this.dest,viewId:this.id,easing:s||"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:i,rotate:r,scaleX:a,scaleY:n},independent:this.independent};return new Promise(((e,t)=>{et("animateCoverView",Object.assign(l,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==a&&(this.style.scaleWidth=a),void 0!==n&&(this.style.scaleHeight=n),void 0!==i&&(this.style.opacity=i),void 0!==r&&(this.style.rotate=r),o))).catch((e=>{wxNativeConsole.error("animateCoverView fail",e)}))}}class $l extends zl{constructor({id:e,style:t,value:i="",name:a="",autoInsert:n=!1,eventType:r,bubbleEvent:o,clickState:s,independent:l=!1,dest:d=0}={}){super({id:e,style:t,props:{value:i},type:"text",name:a,autoInsert:n,eventType:r,bubbleEvent:o,clickState:s,independent:l,dest:d})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}class Ql extends zl{constructor({id:e,style:t,src:i="",name:a="",autoInsert:n=!1,eventType:r,bubbleEvent:o,clickState:s,independent:l=!1,dest:d=0}={}){super({id:e,style:t,props:{src:i},type:"image",name:a,autoInsert:n,eventType:r,bubbleEvent:o,clickState:s,independent:l,dest:d})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,qi.Uj)(this.src)})}}var ql=a(584),Yl={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},Zl=0,Kl={};T.default.onReady((()=>{Zl=T.default.appType+1e3,Kl=T.default.appLaunchInfo}));var Xl={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},Jl={},ed=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress"];V.wZ&&ed.push("onVideoFullScreenChange");var td=(e,t,i)=>{"ad"!==e.scene&&(({component:e,eventName:t,eventData:i,src:a=""}={})=>{var n=Ht(),r=T.default.SDKVersion||"",o=Object.keys(Kl.query||{}).map((e=>`${e}=${Kl.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[i.duration,i.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[i.position,i.buffered].join(";");break;case"onError":s=i.errMsg.replace(","," ");break;case"onFullScreenChange":s=i.fullScreen?2:1;break;case"onImageLoad":s=[i.isLazyLoad?2:1,i.size,i.loadTime,i.width,i.height,i.originalWidth,i.originalHeight].join(";");break;case"onImageError":s=[i.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),Kl.scene,"",Kl.sessionid||Kl.sessionId,Kl.path,o,n,r,Yl[e],Xl[t],s,encodeURIComponent(a.substring(0,1024)).substring(0,1024),Zl].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:l})})({component:"video",eventName:t,eventData:i,src:e.src})};class id extends Va{constructor({style:e={},name:t,x:i=0,y:a=0,width:n=300,height:r=200,hide:o=!1,src:s,poster:l,referrerPolicy:d="no-referrer",initialTime:u=0,playbackRate:c=1,live:p=!1,objectFit:h="contain",controls:f=!0,showProgress:m=!0,showProgressInControlMode:v=m,autoplay:y=!1,muted:g=!1,loop:_=!1,customCache:A=!1,enableProgressGesture:E=!0,enablePlayGesture:C=!1,showCenterPlayBtn:b=!0,autoInsert:I=!0,scene:T="default",preLoad:w=!1,obeyMuteSwitch:k=!1,underGameView:S=!1,backgroundColor:x="#000000",playerHint:P="",zIndex:D,autoPauseIfNavigate:O=!0,autoPauseIfOpenNative:R=!0,independent:M=!1,dest:N=0}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=I,this.playerHint=P,this.scene=T,this.preLoad=w,this.underGameView=S,this.zIndex=D,this.autoPauseIfOpenNative=R,this.autoPauseIfNavigate=O,this.customCache=A,this.independent=M,this.dest=N,Jl[this.id]=this;var L=null;this.emitter=new ql.Z,this.deferred=[],this._buffered=0,this._position=0;var B={x:i,y:a,width:n,height:r,hide:o,src:s,poster:l,initialTime:u,playbackRate:c,live:p,objectFit:h,controls:f,showProgress:m,showProgressInControlMode:v,backgroundColor:x,autoplay:y,muted:g,loop:_,enableProgressGesture:E,enablePlayGesture:C,showCenterPlayBtn:b,obeyMuteSwitch:k,referrerPolicy:d};Object.keys(B).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>B[e],set:t=>{"src"!==e&&B[e]===t||(B[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(L),L=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),ed.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,td(this,"onSrcSet",{}),new Promise(((e,t)=>{et("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,qi.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return new Promise(((e,t)=>{V.cj?setTimeout((()=>{et("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):et("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),ed.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete Jl[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent};return this.isSrcChanged&&(t.filePath=(0,qi.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,qi.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&td(this,"onSrcSet",{}),new Promise(((t,i)=>{et("updateVideoPlayer",Object.assign({},e,{success:t,fail:i}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((i,a)=>{et("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,success:i,fail:a})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}ed.forEach((e=>{var t=e.replace("Video","");id.prototype[t]=function(t){this.emitter.on(e,t)};var i=t.replace("on","off");id.prototype[i]=function(t){this.emitter.off(e,t)}})),ed.forEach((e=>{F(e,(t=>{var i=t.videoPlayerId||JSON.parse(t.data||"{}").id,a=Jl[i];if(a)if(a.emitter.emit(e,t),"onVideoProgress"!==e){var n=t;"onVideoTimeUpdate"===e?(a._position=t.position,n={position:t.position,buffered:a._buffered}):"onVideoWaiting"===e&&(n={position:a._position,buffered:a._buffered}),td(a,e.replace("Video",""),n)}else a._buffered=t.buffered}))}));var ad={};class nd extends Va{constructor({style:e={},name:t,x:i=0,y:a=0,width:n=300,height:r=200,url:o="",urls:s=[],scale:l=1,autoInsert:d=!0,hide:u=!1,zIndex:c=0}={}){if(super({style:e,name:t}),this.x=i,this.y=a,this.width=n,this.height=r,this.scale=+l,this.hide=u,this.autoInsert=d,this.url=o,this.zIndex=c,this.emitter=new Kt("ImagePreviewer",!0),ad[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return et("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{et("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{et("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete ad[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}F("onImagePreviewerLoadFail",(e=>{ad[e.viewId].emitter.emit("onImageLoadFail",e)}));var rd=new WeakMap,od=Function.prototype.call.bind(WeakMap.prototype.get),sd=Function.prototype.call.bind(WeakMap.prototype.set),ld=Function.prototype.call.bind(WeakMap.prototype.delete),dd=e=>od(rd,e),ud=function(e){var t=dd(this),i={view:zl,text:$l,image:Ql,video:id,"image-previewer":nd}[e.name],a="";e.attributes.id?a=(0,Ra.um)(e.attributes.id):wxNativeConsole.error(`${e.name} 缺少id`);var n=Object.keys(e.attributes).reduce(((i,n)=>{var r=e.attributes[n],o=(0,Ra.um)(n);return"id"===n?(i.style=Object.assign(i.style||{},t.style[a]),i):"class"===n?(i.style=r.split(/\s+/).reduce(((e,i)=>Object.assign(e,t.style[i])),i.style||{}),i):(/\{\{.+\}\}/.test(r)||(i[o]=""===r||"true"===r||"false"!==r&&r),i)}),{});n.name=a;var r=new i(n);return t[a]=r,e.children.forEach((e=>{var t=ud.call(this,e);r.add(t)})),r};var cd=[];Date.now();Foundation.onLoad((()=>{~~(Date.now()/1e3)}));L("onRealtimeDataResponse",(e=>{cd.forEach((t=>t(e)))}));var pd,hd=u("UpdateWXConfig"),fd=hd.onMethod;hd.offMethod;L("onUpdateWXConfig",(e=>{wxNativeConsole.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{T.default[t]=e[t]})),hd.emit(e)}));var md=!1,vd={},yd=JSON.parse;function gd(){if("string"==typeof T.default.opConfig){var e;try{e=yd(T.default.opConfig)}catch(e){}return e&&e.expt_info}return T.default.opConfig&&T.default.opConfig.expt_info}function _d(){var e,t=gd();return t&&md?(e=1,pd=t,Reporter.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,pd=t,Reporter.reportIDKey({key:"useLaunchExptInfo"}),Reporter.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,Reporter.reportIDKey({key:"useContactExptInfo"})),{exptInfo:pd,jsDataType:e}}F("onAppEnterForeground",(e=>{Object.assign(vd,e),vd.sessionid||vd.sessionId})),fd((e=>{gd()&&(md=!0)})),T.default.onReady((()=>{Object.assign(vd,T.default.appLaunchInfo);var e=gd();e?pd=e:T.default.appContactInfo&&T.default.appContactInfo.passThroughInfo&&(pd=T.default.appContactInfo.passThroughInfo.expt_info)}));wt("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));var Ad=null,Ed=!1;function Cd(e,t){var i,a={};return et("measureText",{text:e,fontSize:null!==(i=null==t?void 0:t.fontSize)&&void 0!==i?i:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){a={width:e.width||0}}}),a}function bd(e,t){var i={};if(Ed)i=Cd(e,t);else if(Ad||(Ad=function(){var e=null;if((0,V.aI)()){var t=new Pt.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else(V.gm||V.DD)&&(e=(V.DD?new Pt.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d"));return e}()),Ad){var a=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;a&&(Ad.font=a),i=Ad.measureText(e)}else Ed=!0,i=Cd(e,t);return i.width||0}var Id={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625};const Td=new class{constructor(){}getCharWidth(e,t){return(Id[e]?Id[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return V.wZ?this.getTextWidthInAndroid(e,t):Math.ceil(bd(e,t?{fontSize:t,fontFamily:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var i=0;return e.forEach((e=>{var a=this.getCharWidth(e,t);i+=a})),i}getMaxWordLength(e,t,i,a=!0){e=(e=String(e)).split("");var n=0,r=0;a&&(i-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(n+l>i)break;r++,n+=l}return r}textMetrics(e,t){for(var{fontSize:i,maxWidth:a,maxLines:n=1}=t,r=[],o=0,s=e.substring(0,e.length);o<n;){var l=this.getMaxWordLength(s,i,a,!(o!==n-1)),d=o===n-1?this.limitString(s,l):s.substring(0,l);d&&r.push({text:d,width:this.getTextWidth(d,i)}),o++,s=s.substring(l,s.length)}return r}};var wd=[];var kd=new o.Z;L("onPageReload",((e={},t=0)=>{e.webviewId=t,kd.emit("onPageReload",e)}));var Sd={},xd=0,Pd=u("userCaptureScreen"),Dd=Pd.onMethod,Od=(Pd.offMethod,null);F("onUserCaptureScreen",(e=>{"function"==typeof Od&&Od(e),Pd.emit(e)}));T.default.onReady((()=>{var e,t,i,a=1092===(null===(e=T.default.appLaunchInfo)||void 0===e?void 0:e.scene),n=null===(t=T.default.appLaunchInfo)||void 0===t||null===(i=t.referrerInfo)||void 0===i?void 0:i.extraData;F("onAppEnterForeground",(e=>{var t;a=1092===e.scene,n=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),F("onUserCaptureScreen",(()=>{var e,t,i=ge.lastRoute||"",r=ge.query||{};"object"==typeof r&&(r=Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&")),Reporter.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[i,r].join(",")}),a&&(null===(e=n)||void 0===e?void 0:e.csSessionId)&&Ct({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=n)||void 0===t?void 0:t.csSessionId}})}))}));var Rd=new Kt("playableads",!1);L("onPlayableStatusChange",(e=>{Rd.emit("playableStatusChange",e)}));var Md=[],Nd=null;function Ld(){var e=Md;Md=[],Nd=null;for(var t=0,i=e.length;t<i;t++){var a=e[t];a&&(a=__errorTracer__.surroundThirdByTryCatch(a,"at api nextTick callback function")),a&&a()}}var Bd=e=>{e&&"function"==typeof e&&(Md.push(e),Nd||(Nd=setTimeout(Ld,0)))},Wd=new Kt("InnerPage",!1),Fd={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&Bd((()=>{Wd.emit(`${e.pageType}-unload`,e)}))},ready(){var e=this.options;null!=e&&e.pageType&&Bd((()=>{Wd.emit(`${e.pageType}-load`,e)}))}},pageLifetimes:{hide(){}}};$((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};U.Component(Fd,"//",t,`${e}.js`)}));new class{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return wxNativeConsole.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);wxNativeConsole.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){wxNativeConsole.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}};var Vd,Ud,Hd="payCompletedPage",jd={},Gd={};Vd=Hd,Ud=e=>{if(e.payCompletedPageArgs){var t=Date.now();e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var i=JSON.parse(e.payCompletedPageArgs),a=i.payCompletedPageId,n=i.payCompletedDataObj?"goldPlan":"normal";Gd[a]={startTime:t},jd[a]&&(jd[a].timeD=t),Qd("exposePaymentCompletedPage","",a,n)}},Wd.on(`${Vd}-load`,Ud),((e,t)=>{Wd.on(`${e}-unload`,t)})(Hd,(e=>{if(e.payCompletedPageArgs){e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,"")));var t=JSON.parse(e.payCompletedPageArgs),i=t.payCompletedPageId,a=t.payCompletedDataObj?"goldPlan":"normal";if(Gd[i]){var n=Gd[i].startTime,r=Date.now()-n;Qd("stayDuration",r,i,a),delete Gd[i]}Qd("exitPage","",i,a)}}));new Map,new Map;var zd,$d=e=>{e},Qd=(e,t,i,a)=>{var n=(null==H?void 0:H.getCurrentRoute())||"",r=Ne()+" "+Le();Reporter.reportKeyValue({key:"PayCompletedPage",value:[0,n,e,encodeURIComponent(t),i,a,r].join(",")})};T.default.onReady((()=>{$d((({withCoupon:e,mchExtId:t})=>ADSDK.loadPayAd({hasWxPayCustomCard:!!e,mchExtId:t})))}));var qd,Yd=new WeakMap,Zd=new WeakMap,Kd=function(){return Zd.get(this)},Xd={},Jd=(e,t)=>e+"-"+t,eu=()=>(zd||"function"==typeof(zd=to()).create&&zd.create(),zd),tu=0,iu=new Map;class au{constructor({size:e}){var t=eu(),i=t.createHTMLAudioElement(),a=t.createMediaElementSource(i),n=t.createGain();a.connect(n),n.connect(t.destination),Yd.set(this,i);var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));Zd.set(this,{startTime:0,source:a,gain:n,_instanceId:r,size:e}),i.addEventListener("error",(e=>{var t,i=(null===(t=Yd.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(i,e.message)})),i.addEventListener("inner",(e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var i=iu.get(t);if(iu.delete(t),i){var{_instanceId:a,src:n,size:r}=i,o=Jd(a,n);Xd[o]&&(Xd[o]--,this.reportSuccessPlay(n,a,Date.now(),r))}}}}))}get src(){var e;return this.cloudId?this.cloudId:null===(e=Yd.get(this))||void 0===e?void 0:e.src}set src(e){Yd.get(this)&&ao([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Yd.get(this).src=e}))}get startTime(){var e;return null===(e=Zd.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:i}=Kd.call(this);e!==i&&"number"==typeof e&&e>=0&&Zd.get(this)&&(Zd.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){Yd.get(this)&&(e&&(this.ignoreReport=!0,uo()),Yd.get(this).autoplay=e)}get loop(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.loop}set loop(e){Yd.get(this)&&(e&&(this.ignoreReport=!0,uo()),Yd.get(this).loop=e)}get volume(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.volume}set volume(e){Yd.get(this)&&(Yd.get(this).volume=e)}get playbackRate(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){Yd.get(this)&&(Yd.get(this).playbackRate=e)}get duration(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){Yd.get(this)&&(this.ignoreReport=!0,uo(),Yd.get(this).currentTime=e)}get paused(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=Yd.get(this))||void 0===e?void 0:e.buffered}play(){var e,t,i,a,n=null===(e=Yd.get(this))||void 0===e?void 0:e.src,r=null===(t=Zd.get(this))||void 0===t?void 0:t._instanceId,o=null===(i=Zd.get(this))||void 0===i?void 0:i.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,uo()),r&&this.reportBeginPlay(n,r);var d=++tu;(V.cj||V.wZ)&&iu.set(d,{_instanceId:r,src:n,size:o}),function(e,t){var i=Jd(t,e);Xd[i]?Xd[i]++:Xd[i]=1}(n,r),null===(a=Yd.get(this))||void 0===a||a.play(d)}pause(){var e;null===(e=Yd.get(this))||void 0===e||e.pause()}stop(){var e=Yd.get(this);e&&(e.pause(),e.currentTime=0)}seek(e){Yd.get(this)&&(this.ignoreReport=!0,uo(),Yd.get(this).currentTime=e)}destroy(){var e,t,i=Zd.get(this);i&&(null===(e=i.gain)||void 0===e||e.disconnect(),null===(t=i.source)||void 0===t||t.disconnect());Yd.delete(this),Zd.delete(this)}onCanplay(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("canplay",e)}offCanplay(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("canplay",e)}onPlay(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("play",e)}offPlay(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("play",e)}onPause(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("pause",e)}offPause(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("pause",e)}onStop(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("stop",e)}offStop(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("stop",e)}onEnded(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("ended",e)}offEnded(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("ended",e)}onTimeUpdate(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("timeupdate",e)}offTimeUpdate(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("timeupdate",e)}onError(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("error",e)}offError(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("error",e)}onWaiting(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("waiting",e)}offWaiting(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("waiting",e)}onSeeking(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("seeking",e)}offSeeking(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("seeking",e)}onSeeked(e){var t;null===(t=Yd.get(this))||void 0===t||t.addEventListener("seeked",e)}offSeeked(e){var t;null===(t=Yd.get(this))||void 0===t||t.removeEventListener("seeked",e)}}var nu=new WeakMap,ru=function(e){return nu.get(e)||{}},ou=function(e,t){var i;return null===(i=nu.get(e))||void 0===i?void 0:i[t]},su=new Map,lu=_t(ei),du=function(e,t){var{bufferedOperations:i,staticOperations:a}=e;e.audioInstance=t,Object.keys(a).forEach((e=>{var i=a[e];(0,me.DM)(i)?i.forEach((i=>{t["on"+e](i)})):t[e]=i})),i.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},uu=function(e,t,i){var a;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=i,e.audioInstance&&(e.audioInstance[t]=i)):e.audioInstance?e.audioInstance[t]=i:null==e||null===(a=e.bufferedOperations)||void 0===a||a.push({type:"set",value:i,key:t})},cu=function(e,t,i,a){var n;a?("on"===a?e.staticOperations&&e.staticOperations[t].add(i):"off"===a&&e.staticOperations&&e.staticOperations[t].delete(i),e.audioInstance&&e.audioInstance[a+t]&&e.audioInstance[a+t](i)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](i):null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"method",value:i,key:t})},pu=(e,t)=>{var i=!1;if(Ko()){var a=eu();if(a&&"function"==typeof a.createHTMLAudioElement){var n,r,o="";if(V.cj)o=null===(r=T.default.expt)||void 0===r?void 0:r.clicfg_appbrand_ios_inneraudio2webaudio_stream;else if(V.wZ){var s;o=null===(s=T.default.expt)||void 0===s?void 0:s.clicfg_appbrand_android_inneraudio2webaudio_stream}try{o=o.replace(/;/g,","),n=JSON.parse(o)}catch(e){}if(n){var{open:l,blacklist:d,whitelist:u}=n;i=d?!d.includes(T.default.accountInfo.appId)&&1===l:u?!!u.includes(T.default.accountInfo.appId)&&1===l:1===l}}}var c=e=>{var{stats:a}=e;a.size<102400?(()=>{if(void 0===qd){var e=V.cj?"clicfg_appbrand_ios_inneraudio2webaudio_usewebaudio":"clicfg_appbrand_android_inneraudio2webaudio_usewebaudio";qd=1===Number(T.default.expt&&T.default.expt[e])}return qd})()?t("NativeWebAudio",!1):t("AudioJsApi",!1,a.size):t(i?"HTMLAudioElement":"AudioJsApi",!0,a.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(i?"HTMLAudioElement":"AudioJsApi",!0,0);else{var p=(e=>su.has(e)?su.get(e):lu({path:e}).then((t=>(su.set(e,t),t))))(e);(0,me.tI)(p)?p.then((e=>{c(e)})).catch((e=>{console.error(e),wxNativeConsole.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):c(p)}},hu=function(e,t){var i;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var a=new ii((e=>{i=e}));t.src=e,t._ready=!1,t._statPromise=a,t._statPromiseResolve=i};class fu{constructor({pluginId:e,type:t}={}){var i={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};i._statPromise=new ii((e=>{i._statPromiseResolve=e})),nu.set(this,i)}get src(){return ou(this,"src")}set src(e){var t=ru(this),{src:i,audioInstance:a,audioInstanceType:n,pluginId:r}=t;"string"==typeof e&&e.length>0&&i!==e&&(i&&hu.call(this,e,t),t.src=e,pu(e,a?(i,o,s)=>{var l=ru(this);if(l.src===e){var{_statPromiseResolve:d}=l;t._ready=!0,t.audioInstanceType=i,i===n?a.src=e:(a.destroy(),t.audioInstance=null,"AudioJsApi"===i?(uu(t,"src",e),du(t,new Ws({pluginId:r,withReport:o,type:nu.get(this).type,size:s}))):"NativeWebAudio"===i?(uu(t,"src",e),du(t,new ps({withReport:o,type:nu.get(this).type}))):"HTMLAudioElement"===i&&(uu(t,"src",e),du(t,new au({withReport:o,size:s})))),d&&d()}}:(i,a,n)=>{var o=ru(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=i,"AudioJsApi"===i?(uu(t,"src",e),du(t,new Ws({pluginId:r,withReport:a,type:nu.get(this).type,size:n}))):"NativeWebAudio"===i?(uu(t,"src",e),du(t,new ps({withReport:a,type:nu.get(this).type}))):"HTMLAudioElement"===i&&(uu(t,"src",e),du(t,new au({withReport:a,size:n}))),s&&s()}}))}get startTime(){var e=ou(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=ru(this),{startTime:i}=t;e!==i&&"number"==typeof e&&e>=0&&(t.startTime=e,uu(t,"startTime",e))}get autoplay(){var e=ou(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=ru(this),{autoplay:i,_statPromise:a}=t;(e=!!e)!==i&&(t.autoplay=e,e?a&&a.then((()=>{uu(t,"autoplay",e)})):uu(t,"autoplay",e))}get loop(){var e=ou(this,"loop");return void 0!==e&&e}set loop(e){var t=ru(this),{loop:i}=t;(e=!!e)!==i&&(t.loop=e,uu(t,"loop",e))}get volume(){var e=ou(this,"volume");return void 0!==e?e:1}set volume(e){var t=ru(this),{volume:i}=t;"number"==typeof e&&e>=0&&e<=1&&e!==i&&(t.volume=e,uu(t,"volume",e))}get playbackRate(){var e=ou(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=ru(this),{playbackRate:i}=t;"number"==typeof e&&i!==e&&e>=.5&&e<=2&&(t.playbackRate=e,uu(t,"playbackRate",e))}get duration(){var{audioInstance:e}=ru(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=ru(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=ru(this);t.currentTime=e,uu(t,"currentTime",e)}}get paused(){var{audioInstance:e}=ru(this);return!e||e.paused}get buffered(){var{audioInstance:e}=ru(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return ou(this,"referrerPolicy")||""}set referrerPolicy(e){var t=ru(this),{referrerPolicy:i}=t;"string"==typeof e&&e.length>0&&i!==e&&(t.referrerPolicy=e,uu(t,"referrerPolicy",e))}play(){var e=ru(this),{_statPromise:t,_ready:i}=e;i?cu(e,"play"):t&&t.then((()=>{cu(e,"play")}))}pause(){var e=ru(this);cu(e,"pause")}stop(){var e=ru(this);cu(e,"stop")}seek(e){var t=ru(this);cu(t,"seek",e)}destroy(){var e=ru(this);cu(e,"destroy"),nu.delete(this)}onTimeUpdate(e){var t=ru(this);cu(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=ru(this);cu(t,"TimeUpdate",e,"off")}onCanplay(e){var t=ru(this);cu(t,"Canplay",e,"on")}offCanplay(e){var t=ru(this);cu(t,"Canplay",e,"off")}onPlay(e){var t=ru(this);cu(t,"Play",e,"on")}offPlay(e){var t=ru(this);cu(t,"Play",e,"off")}onPause(e){var t=ru(this);cu(t,"Pause",e,"on")}offPause(e){var t=ru(this);cu(t,"Pause",e,"off")}onStop(e){var t=ru(this);cu(t,"Stop",e,"on")}offStop(e){var t=ru(this);cu(t,"Stop",e,"off")}onEnded(e){var t=ru(this);cu(t,"Ended",e,"on")}offEnded(e){var t=ru(this);cu(t,"Ended",e,"off")}onError(e){var t=ru(this);cu(t,"Error",e,"on")}offError(e){var t=ru(this);cu(t,"Error",e,"off")}onWaiting(e){var t=ru(this);cu(t,"Waiting",e,"on")}offWaiting(e){var t=ru(this);cu(t,"Waiting",e,"off")}onSeeking(e){var t=ru(this);cu(t,"Seeking",e,"on")}offSeeking(e){var t=ru(this);cu(t,"Seeking",e,"off")}onSeeked(e){var t=ru(this);cu(t,"Seeked",e,"on")}offSeeked(e){var t=ru(this);cu(t,"Seeked",e,"off")}}var mu=!1;(V.cj||V.wZ)&&T.default.onReady((()=>{var e;e=V.cj?"clicfg_appbrand_ios_inneraudio2webaudio":"clicfg_appbrand_android_inneraudio2webaudio",1===Number(T.default.expt&&T.default.expt[e])&&Rt("forceUseAudioDynamic")?(wxNativeConsole.info("开启 forceUseAudioDynamic"),mu=!0):wxNativeConsole.info("关闭 forceUseAudioDynamic")}));var vu=wxNativeConsole.createLogger("InnerAudioContext"),yu=function(e={},t="outer"){var i=!0;if(V.wZ){var{system:a}=Sa();-1===(0,Fs.cv)(a,"6.0.0")&&(i=!1)}V.jP&&(i=!1);var n=Cn(this),{useWebAudioImplement:r}=e;return(V.DD||V.Ae)&&Pt.Audio?(vu.info("using NativeAudio"),new cs({type:t})):r&&Ko()&&i?(vu.info("using WebAudio"),new ps({type:t})):Ko()&&i&&(0,V.aI)()&&mu?(vu.info("using AudioDynamic"),new fu({pluginId:n,type:t})):(vu.info("using AudioJsApi"),new Ws({pluginId:n,type:t}))},gu=nn("ad"),_u={GameGlobal:r,_onShow:h,_onHide:A,_offShow:f,_offHide:E,onBeforeHide:g,onAfterHide:C,offBeforeHide:_,offAfterHide:b,_downloadFileSkipCheckDomain:oa,touch:ca,reportCanvasData:Ka,ReportCanvasDataEventType:qa,checkAndUseAdSkipCard:function(){return new Promise(((e,t)=>{Dr||t(),Dr&&(Or=setTimeout(t,3e3)),Dr&&Ct({apiName:"webapi_getadcardbalance",success({data:i}){var{errCode:a,balance:n}=i;!a&&n?(Or&&clearTimeout(Or),kr({title:"是否使用广告跳过卡",content:`当前还有${n}张`,confirmText:"使用",cancelText:"继续看",success({confirm:i}){i?Ct({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:i}){var{errCode:a}=i;a?(Pr({title:"使用广告卡失败",icon:"error"}),t()):(Pr({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))},_requestSkipCheckDomain:gr,onAppRoute:Mr,showToast:Pr,_getNetworkType:Ft,getChannelsLiveInfo:function(e){var t,i,a={...e,jsapi:Wr};if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(a.startTime=Lr(null!==(t=e.startTime)&&void 0!==t?t:0),a.endTime=Lr(null!==(i=e.endTime)&&void 0!==i?i:Date.now()),a.startTime>=a.endTime))return void st(Wr,e,"invalid time range");Br(a)},_showModal:kr,getInitScreenSize:xa,getSystemInfoSync:Ea,onAppRouteDone:Vr,onWindowResize:e=>{Ur.push(e)},beginAudioInterruption:()=>{!1===js&&!1===Gs&&(Hs(),Gs=!0,Kr.emit({}))},endAudioInterruption:()=>{!1===js&&!0===Gs&&(Gs=!1,Xr.emit({}))},__wxConfig:T.default,onNativeEvent:F,offNativeEvent:(e,t)=>{u(`WeixinJSBridge-${e}`).internalOffMethod(t)},onNetworkWeakChange:Ut,getExptInfoSync:function(e){var t={},{exptInfo:i,jsDataType:a}=_d();return i&&Array.isArray(i.expt_param_list)&&(Array.isArray(e)||(e=i.expt_param_list.map((e=>e.param_name))),i.expt_param_list.forEach((i=>{-1!==e.indexOf(i.param_name)&&(t[i.param_name]=i.param_value,i.expt_id&&function(e,t,i){Reporter.reportKeyValue({key:"ExptHit",value:[Ne(),Le(),e,encodeURIComponent(JSON.stringify(t)),0,"",i].join(",")})}(i.expt_group_id,i,a),void 0!==i.expt_id&&function(e,t,i,a,n){var r=["","","getExptInfo","undefined"!=typeof __userActionTracer__?__userActionTracer__.getCurrentRoutePath():"",null,JSON.stringify({groupId:e,exptId:t,paramName:i,paramValue:a,jsDataType:n})].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"SdkInnerApiInvoke",value:r})}(i.expt_group_id,i.expt_id,i.param_name,i.param_value,a))}))),t},addInnerShareCallbacks:function(e){wd.push(e)},onBeforeUnloadPage:function(e,t,i){var a=i;a||(a=xd++),((e,t)=>(Sd[e]=Sd[e]||{},!!Sd[e][t]||(Sd[e][t]=!0,!1)))(e,a)||kd.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},_onUserCaptureScreen:Dd,getAdUxInfo:oe,getStableSystemInfo:Sa,vibrateShort:(e={})=>{var t=Object.assign({},e);t.style=t.type,et("vibrateShort",t,{})},vibrateLong:(e={})=>{et("vibrateLong",e,{})},_gameTransfer:Qs,...n,webviewLayout:jl,nativeviewLayout:Gl,View:zl,Text:$l,Image:Ql,Video:id,Component:class{constructor(){sd(rd,this,{})}},initComponent:function(e,t,i){var a=dd(this);a.xom=e,a.style=t,a.state=i,ud.call(this,e)},createComponent:ud,getPrivateThis:dd,removePrivateThis:e=>{ld(rd,e)},invoke:se,invokeMethod:et,beforeInvoke:ot,onMethod:L,publish:ee,subscribe:ae,invokeOperateWXDataPromise:bt,_invokeMethod:nt,gametext:Td,packageChannel:gu,getGameTouchStatus:Ml,onPlayableStatusChange:function(e){Rd.on("playableStatusChange",e)},offPlayableStatusChange:function(e){Rd.off("playableStatusChange",e)},_getABTestConfig:Dt,readdir:(e={})=>{(V.DD||"wxfile://"!==e.dirPath)&&(!V.DD||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?ot("readdir",e,{dirPath:""})&&et("readdir",e):st("readdir",e,"path permission denied")},stat:ei,unlink:aa,writeFile:ta,readFileSync:(e,t,i,a,n)=>{if(!e||!(0,me.HD)(e))throw new Qi.i(`invalid filePath: ${e}`);if(!(0,me.o8)(t)&&!(0,me.HD)(t))throw new Qi.i(`invalid encoding: ${t}`);if(!(0,me.o8)(i)&&!(0,me.hj)(i))throw new Qi.i(`invalid position: ${i}`);if(!(0,me.o8)(a)&&!(0,me.hj)(a))throw new Qi.i(`invalid length: ${a}`);if(Xi){var r=Pt.fs;try{return n?r.readFileSync(e,t,n):r.readFileSync(e,t)}catch(s){throw new Error(s)}}var o,s,l;if(et("readFileSync",{filePath:e,encoding:t,position:i,length:a,success(e){o=e.data},fail(e){s=e.errMsg,l=e.errno}}),s){var d=new Error(s);throw d.errno=l,d}return o},readFile:Ji,access:ia,accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,i;if(et("accessSync",{path:e,fail(e){t=e.errMsg,i=e.errno}}),t){var a=new Error(t);throw a.errno=i,a}},wxNativeConsole:wxNativeConsole,wxConsole:wxConsole,console:console,_createInnerAudioContext:yu,onPaymentCompletedPagePreload:$d,invokeOperateWXData:Ct};const Au=_u},142:(e,t,i)=>{"use strict";i.d(t,{DM:()=>c,Em:()=>r,HD:()=>o,Kn:()=>d,ZT:()=>f,hj:()=>s,mf:()=>u,o8:()=>l,tI:()=>p,x7:()=>h});var a=(()=>Object.prototype.toString)(),n=Function.prototype.call.bind(a);function r(e){return n(e).slice(8,-1)}var o=e=>"String"===r(e),s=e=>"Number"===r(e),l=e=>void 0===e,d=e=>"Object"===r(e),u=e=>"function"==typeof e,c=e=>"Set"===r(e),p=e=>"Promise"===r(e);function h(e,t,i="parameter"){var a=r(t),n=r(e);if(n!==a)return`${i} should be ${a} instead of ${n};`;var o="";switch(a){case"Object":Object.keys(t).forEach((a=>{o+=h(e[a],t[a],`${i}.${a}`)}));break;case"Array":if(e.length<t.length)return`${i} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)o+=h(e[s],t[s],`${i}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${i} should be not empty string`}return o}function f(){}},190:(e,t,i)=>{"use strict";i.d(t,{RG:()=>l,sM:()=>s});var a=i(591),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,i,r=String(e),o="",s=0,l=n;r.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&t>>8-s%1*8)){if((i=r.charCodeAt(s+=3/4))>255)throw new a.l("btoa failed");t=t<<8|i}return o}function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),i="";if(t.length%4==1)throw new a.l(`atob failed: invalid string length ${t.length}`);for(var r,o,s=0,l=0;o=t.charAt(l++);~o&&(r=s%4?64*r+o:o,s++%4)?i+=String.fromCharCode(255&r>>(-2*s&6)):0)o=n.indexOf(o);return i}function s(e){for(var t,i="",a=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,n=0;n<a;n++)i+=String.fromCharCode(t[n]);return r(i)}function l(e){for(var t=o(e),i=t.length,a=new Uint8Array(i),n=0;n<i;n++)a[n]=t.charCodeAt(n);return a.buffer}},805:(e,t,i)=>{"use strict";function a(...e){return e.reduce(((e,t)=>{for(var i in t)e[i]=t[i];return e}),{})}function n(e,t){for(var i in t)e[i]=t[i];return e}i.d(t,{f0:()=>a,l7:()=>n,nr:()=>o});var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}},347:(e,t,i)=>{"use strict";i.d(t,{HR:()=>s,Pp:()=>r,Uj:()=>d,cE:()=>l,wK:()=>o});var a=i(445),n=i(805);function r(e){if("string"!=typeof e)return e;var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?`${t}?${i}`:t}var o=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function s(e,t=!1){if("object"!=typeof e)return e;var i="";for(var a in e)if((0,n.nr)(e,a))if(t)try{i+=`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}&`}catch(t){i+=`${a}=${e[a]}&`}else i+=`${a}=${e[a]}&`;return i&&(i=i.slice(0,-1)),i}function l(e,t){var i=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&i.length>0){var a=e.split("?"),r=a[0],o=(a[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var i=t.split("="),a=i[0],n=i[1];e[a]=n}return e}),{}),l=i.reduce(((e,i)=>("object"==typeof t[i]?e[encodeURIComponent(i)]=encodeURIComponent(JSON.stringify(t[i])):e[encodeURIComponent(i)]=encodeURIComponent(t[i]),e)),{});return r+"?"+s((0,n.f0)(o,l))}return e}function d(e){if(!a.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),i=t[1]||"",n=i.length>0?"&":"";e=`${t[0]}?${i}${n}devtools_ignore=true`}return e}},551:(e,t,i)=>{"use strict";i.d(t,{cv:()=>r,yC:()=>a});"undefined"==typeof __libVersionInfo__||__libVersionInfo__;function a(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var r=0;r<n;r++){var o=parseInt(i[r],10),s=parseInt(a[r],10);if(o>s)return 1;if(o<s)return-1}return 0}function n(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,i=0;i<e.length;i++)if(!Number.isNaN(parseInt(e[i],10))){t=i;break}return e.slice(t)}function r(e,t){return e||t?e?t?a(n(e),n(t)):1:-1:0}},803:(e,t,i)=>{"use strict";i.d(t,{U:()=>n,x:()=>r});var a={20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"orig_weapp_id",value:""}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}]},n=e=>[20267].includes(Number(e)),r=e=>{var t=a[e.toString()];return t?t.concat([]):[]}},426:(e,t,i)=>{"use strict";i.d(t,{O:()=>a,h:()=>n});var a={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},n=(e,t)=>({idKey:e,idKeyGroup:t})},206:(e,t,i)=>{"use strict";i.d(t,{$7M:()=>v,$7v:()=>s,Ay2:()=>_,D7b:()=>q,FIb:()=>se,GqW:()=>d,HA$:()=>w,HoH:()=>J,Hx8:()=>X,L6h:()=>de,LEp:()=>L,Lh3:()=>N,Lko:()=>V,M2X:()=>G,McH:()=>ce,Myp:()=>x,O4Y:()=>l,OMo:()=>A,OZH:()=>T,Psu:()=>p,QFQ:()=>C,Rfd:()=>S,T8M:()=>$,W1Y:()=>Z,WGO:()=>ie,_2d:()=>O,_vJ:()=>pe,cYQ:()=>U,dNr:()=>h,e75:()=>P,eiL:()=>I,fn9:()=>ae,fvN:()=>K,g0o:()=>o,iTY:()=>f,i_3:()=>B,kgB:()=>R,kqm:()=>b,lSJ:()=>ue,llv:()=>u,mLi:()=>ee,mlb:()=>Y,mmD:()=>m,n8g:()=>oe,oG6:()=>y,p_g:()=>M,qUK:()=>j,qa9:()=>H,qg0:()=>Q,qkx:()=>E,rh6:()=>c,sEh:()=>re,tRL:()=>z,tts:()=>g,uks:()=>k,xIe:()=>W,xJ3:()=>le,y5M:()=>te,yKb:()=>ne,z$c:()=>D,zYu:()=>F});var a=i(426),n=e=>(0,a.h)(e,a.O.COMMON),r=e=>(0,a.h)(e,a.O.COMMON2),o=n(5),s=n(10),l=(n(11),n(12),n(13),n(14),n(21)),d=n(22),u=n(23),c=n(24),p=(n(25),n(26),n(28)),h=n(32),f=n(33),m=n(34),v=(n(35),n(36),n(37)),y=n(38),g=n(39),_=(n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(49),n(50),n(86)),A=n(87),E=(n(88),n(89),n(90),n(96)),C=n(97),b=(n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(106),n(105),n(107),n(108),n(109),n(110),n(112),n(113),n(114),n(115),n(116),n(119)),I=n(120),T=(n(121),n(123),n(124),n(125),n(126),n(127)),w=(n(128),n(129)),k=n(130),S=n(131),x=n(132),P=n(133),D=n(134),O=n(135),R=(n(136),n(137),n(138)),M=n(139),N=(n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148)),L=n(149),B=n(150),W=n(151),F=(n(152),n(153),n(154),n(156)),V=n(157),U=n(158),H=n(159),j=n(160),G=n(161),z=(n(162),n(163),n(164)),$=n(165),Q=n(166),q=n(167),Y=(n(168),n(169)),Z=n(170),K=(n(171),n(173)),X=(n(178),n(179),n(180)),J=n(181),ee=n(182),te=(n(183),n(188),n(189)),ie=n(190),ae=n(191),ne=n(192),re=n(193),oe=n(194),se=n(195),le=(n(196),n(197),n(198),n(199),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(223),n(224),n(225),n(226)),de=(n(227),n(228),n(229),n(230),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243)),ue=(n(244),n(246),n(247),n(250),n(251),n(252),n(253),n(254),r(1)),ce=r(2),pe=r(3)},648:(e,t,i)=>{"use strict";i.d(t,{Ee:()=>o,U2:()=>l,Xh:()=>u,YB:()=>p,Zw:()=>s,ei:()=>n,fm:()=>c,hj:()=>a,xH:()=>d});var a=e=>Number(e).toString()===e,n=(e,t)=>t.reduce(((t,i)=>(t[i]=e[i],t)),{}),r=e=>e&&"object"==typeof e&&!Array.isArray(e);function o(e,...t){if(!t.length)return e;var i=t.shift();if(r(e)&&r(i))for(var a of Object.keys(i))r(i[a])?(e[a]||Object.assign(e,{[a]:{}}),o(e[a],i[a])):Object.assign(e,{[a]:i[a]});return o(e,...t)}var s=e=>{for(var t=new Set,i=e;i;){for(var a of Object.getOwnPropertyNames(i))t.add(a);i=Object.getPrototypeOf(i)}return[...t]},l=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,r=0;n&&r<a.length;)n=n[a[r]],r+=1;return n||i},d=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...d(t)):e.push(t),e)),[]),u=e=>JSON.parse(JSON.stringify(e)),c="TIMEOUT_REJECT",p=(e,t)=>Promise.race([e,new Promise(((e,i)=>{setTimeout((()=>{i(c)}),t)}))])},584:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var a=i(661);class n{constructor(){this.emitter=new a.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);"function"==typeof i&&(this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},369:(e,t,i)=>{"use strict";i.d(t,{$v:()=>d,Fr:()=>l,Vs:()=>a,_u:()=>n,cM:()=>r,um:()=>o});var a=(e=0)=>new Promise((t=>{setTimeout(t,e)})),n=()=>{},r=()=>{},o=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),s=Object.assign,l=e=>(t={})=>new Promise(((i,a)=>{e(s(t,{success:i,fail:a}))})),d=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e}}},i={};function a(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={id:t,loaded:!1,exports:{}};return e[t](r,r.exports,a),r.loaded=!0,r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=a(661);class t{constructor(t={maxListeners:2e3}){this.emitter=new e.Z(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=__errorTracer__.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}const i=a(916).Z;var{onMethod:n}=i,r=new t;var o=a(986),s=a.n(o),l=a(469),d=a.n(l),u=a(405),c=a.n(u),p=a(342),h=a(445);function f(e=""){return new Promise(((t,a)=>{var n="",r="";h.wZ&&p.default.clientVersion>=654316032?i.invokeMethod("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",r=e.imei||"",t({waid:n,imei:r})},fail(e){a(e)}}):t({waid:n,imei:r})}))}var m=a(369),{invokeMethod:v}=i,y=e=>e&&"object"==typeof e&&!Array.isArray(e),g=(e,...t)=>{if(!t.length)return e;var i=t.shift();if(y(e)&&y(i))for(var a in i)y(i[a])?(e[a]||Object.assign(e,{[a]:{}}),g(e[a],i[a])):Object.assign(e,{[a]:i[a]});return g(e,...t)},_=()=>{var e=new Date,t=e.getMonth()+1,i=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(i>9?"":"0")+i].join("")},A=e=>{if(e)return e.wx_game_video&&e.wx_game_video.short_video?e.wx_game_video.short_video.viewid:void 0},E=a(347),{invokeMethod:C,beforeInvoke:b}=i,{invokeMethod:I,invokeOperateWXDataPromise:T,_invokeMethod:w,_gameTransfer:k}=i,S=(0,m.Fr)((({url:e,adInfo:t,adUxInfo:i,success:a,fail:n,complete:r})=>{var o={url:e,adInfo:t,scene:85,success:a,fail:n,complete:r};i&&(o.adUxInfo=i),I("private_openUrl",o)})),x=(0,m.Fr)((({canvasInfo:e,posType:t,success:i,fail:a,complete:n})=>{var r,o,s,l;I("openADCanvas",{canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t,env:null===p.default||void 0===p.default||null===(r=p.default.host)||void 0===r?void 0:r.env,app_appid:null===p.default||void 0===p.default||null===(o=p.default.host)||void 0===o?void 0:o.appId,host_version:null===p.default||void 0===p.default||null===(s=p.default.host)||void 0===s?void 0:s.version}),...e.canvas_dynamic_info&&{canvasDynamicInfo:e.canvas_dynamic_info},adInfoXml:(l=e.ad_info_xml,0===(l=l||"").length?"":l.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:i,fail:a,complete:n})})),P=(0,m.Fr)((({appId:e,path:t,traceid:i,aid:a,adInfo:n,adUxInfo:r,privateExtraData:o,success:s,fail:l,complete:d})=>{var u=`${i}:${a}`,c={appId:e,path:(0,E.Pp)(t).trim(),scene:1095,sourcetype:1,sceneNote:u,adInfo:n,privateExtraData:o,success:s,fail:l,complete:d};r&&(c.adUxInfo=r),I("navigateToMiniProgram",c)})),D=(0,m.Fr)(((e=!0,t,i=!1)=>(a={})=>{if(b("adOperateWXData",a,{apiName:""})){var n={data:{api_name:a.apiName,data:a.reqData||{},operate_directly:e},isImportant:!0===i,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};C("adOperateWXData",Object.assign({},n,a),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){h.wZ&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data?e.data=JSON.parse(e.data.data):e.data={}}})}})(!1,"adOperateWXDataForAd")),O=(e={})=>T(Object.assign({},e,{sdkApiName:"operateWXDataForAd"}));(0,m.Fr)(k);function R(e){w("showSplashAd",e)}function M(e){w("splashAdFirstStepViewLayoutStateChange",e)}function N(e){w("splashAdAllViewLayoutStateChange",e)}var{readdir:L,stat:B,unlink:W,writeFile:F,readFileSync:V,access:U,accessSync:H}=i,j=a(648),G="hideAd",z="setStyle",$="reportIdKey",Q="triggerEvent",q="setExprVar",Y="videoToggleMuted",Z="videoPlay",K="videoPause",X="videoStop",J="buttonSetText",ee="reloadAd",te="reportMMData",ie="endPageHide",ae="imageSetSrc",ne="textSetText",re="animate",oe="triggerBtnClick",se="changeMultiShow",le="landAd",de="splashSkipAd",ue="addChildren",ce="reportAdMonitorData",pe="rewardedVideoDynamic",he="evaluateExpr",fe="checkLiveStatus",me="slide",ve="animationend",ye="appEnterForeground",ge="appEnterBackground",_e="containerTap",Ae="splashAdFirstRender",Ee="splashAdMenuView",Ce="liveStatusChange",be="buttonTap",Ie="relationFetched",Te="videoEnded",we="videoPause",ke="videoPlay",Se="videoTimeUpdate",xe="mutedChange",Pe="feedbackBtnTap",De="tagTap",Oe="dislikeTap",Re="dislikeReasonTap",Me="replay",Ne="show",Le="hide",Be="videodislike",We="showChange",Fe="unitTap",Ve={SHOWFEEDBACK:"showFeedback",ADSHOWHALF:"adShowHalf",ADHIDEHALF:"adHideHalf",TRIGGEREVENT:"triggerEvent",REPORTVIDEOPLAY:"reportVideoPlay",APPENTERBACKGROUND:"appEnterBackground",ADVIDEOPAUSE:"adVideoPause",ADVIDEOPLAY:"adVideoPlay",FEEDBACKBTNTAP:"feedbackBtnTap",FEEDBACKREPORT:"feedbackReport",BTNTAP:"btnTap",CHANGEADBTNTEXT:"changedAdBtnText",ENDPAGEINIT:"endPageInit",SHOWENDPAGE:"showEndPage",REPORTENDPAGE:"reportEndPage",APPENTERFOREGROUND:"appEnterForeground",ENDPAGEHIDE:"endPageHide",ENDPAGESHOW:"endPageShow",REPORTMMDATA:"reportMMData",HIDEAD:"hideAd",REPORTTIMEPOINT:"reportTimePoint",CHANGEMULTISHOW:"changeMultiShow",CHECKEXPOSURE:"checkExposure",LANDAD:"landAd",CHANGECOUNTDOWN:"changeCountdown",SPLASHSKIPAD:"splashSkipAd",REPORTADMONITORDATA:"reportAdMonitorData",REWARDEDVIDEODYNAMIC:"rewardedVideoDynamic",ADVIDEOLOADFAILED:"adVideoLoadFailed"},Ue=1,He=2,je=3,Ge=1,ze=2,$e=3,Qe=1,qe=2,Ye=3,Ze=4,Ke=1,Xe=2,Je=1,et=2,tt=1,it=2,at=0,nt=1,rt=2,ot=1,st=2,lt=a(206),dt=a(426),ut=e=>(0,dt.h)(e,dt.O.SPLASHAD),ct=ut(0),pt=ut(1),ht=ut(2),ft=ut(3),mt=ut(4),vt=(ut(5),ut(6),ut(7),ut(8),ut(9),ut(10),ut(11),ut(12),ut(13),ut(14),ut(15),ut(16),ut(17),ut(18),ut(19),ut(20),ut(21),ut(22),ut(23)),yt=(ut(24),ut(25),ut(26),ut(27),ut(28),ut(29),ut(30),ut(31),ut(32),ut(33),ut(34),ut(35),ut(36),ut(37),ut(38),ut(39),ut(40)),gt=ut(41),_t=(ut(52),ut(53),ut(54),ut(55),ut(56),ut(57),ut(58),e=>(0,dt.h)(e,dt.O.CUSTOMAD)),At=_t(1),Et=(_t(2),_t(3),_t(4),_t(5),_t(6)),Ct=_t(7),bt=(_t(8),_t(9),_t(10)),It=(_t(11),_t(12),_t(13)),Tt=(_t(14),_t(15),_t(16),_t(17),_t(18),_t(19),_t(20)),wt=(_t(21),_t(22),_t(23),e=>(0,dt.h)(e,dt.O.CPSSHOPAD)),kt=(wt(1),wt(2),wt(3),wt(4),wt(5),wt(6),wt(7),wt(8),wt(9),wt(10),e=>(0,dt.h)(e,dt.O.REWARDEDVIDEO)),St=(kt(0),kt(1),kt(2),kt(3),kt(4),kt(5),kt(6),kt(7),kt(8),kt(9),kt(10),2002),xt=2003,Pt=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],Dt={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397"},Ot={banner:3,rewardedVideoAd:1,interstitialAd:4,grid:7,splashAd:8,customAd:9},Rt={banner:"showed",rewardedVideoAd:"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},Mt={rewardedVideoAd:3,banner:4,interstitialAd:5,grid:6,customAd:7},Nt={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_reward_use_gauss_blur_android_system_version",109766:"widget_gray_reward_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips",110562:"widget_gray_interstitial_template",112296:"widget_gray_banner_exposure_toggle",113524:"widget_gray_rewarded_video_effect_guide",116004:"widget_gray_rewarded_video_effect_guide_level2",116070:"widget_gray_land_after_addContact",118004:"widget_gray_splash_wait_fetch",118010:"widget_gray_wxapp_code_preload",118518:"widget_gray_splash_outed_date_setting",119760:"widget_gray_splash_local_outed_date_setting",119762:"widget_gray_splash_use_local",120808:"widget_gray_check_fetch_catch",121264:"widget_gray_splash_local_black",121318:"widget_gray_splash_timeout",121377:"widget_gray_splash_offline_ad",121449:"widget_gray_splash_new_timeout",121750:"widget_gray_splash_new_checkad",122280:"widget_gray_splash_optimizationV1",122314:"widget_gray_splash_optimizationV1_timeout",122633:"widget_gray_splash_optimizationV1_jsapi",122657:"widget_gray_splash_optimizationV1_ios_timeout",123883:"widget_gray_splash_online_optimization",122157:"widget_gray_rewarded_video_feed_time",118408:"widget_gray_rewarded_video_slide_duration",118476:"widget_gray_rewarded_video_feed_max_fail_count",118478:"widget_gray_rewarded_video_feed_request_count",118504:"widget_gray_rewarded_video_feed_min_count",118914:"widget_gray_rewarded_video_feed_end_immediately",119186:"widget_gray_rewarded_video_feed_min_duration",119298:"widget_gray_rewarded_video_feed_probability",120834:"widget_gray_rewarded_video_feed_new_style",120138:"widget_gray_rewarded_video_feed_animate_start_time",118796:"widget_gray_custom_exposure_area_detect",119904:"widget_gray_ranking_score",120410:"widget_gray_interstitial_video_disable_preload",120409:"widget_gray_rewarded_video_disable_preload",121145:"widget_gray_rewarded_video_animation_page",121146:"widget_gray_rewarded_video_animation_page_video_duration",121147:"widget_gray_rewarded_video_animation_page_show_time",121148:"widget_gray_rewarded_video_animation_page_video_loop",121614:"widget_gray_interstitial_cross_page_android",122177:"widget_gray_rewarded_video_ios_use_wxplayer",122178:"widget_gray_rewarded_video_android_use_wxplayer",122305:"widget_gray_interstitial_cross_page_ios",122306:"widget_gray_interstitial_wxplayer_ios",122348:"widget_gray_weapp_feedback_close",122763:"widget_gray_rewarded_video_faster_play",122764:"widget_gray_rewarded_video_play_fail_refetch",123060:"widget_gray_rewarded_video_show_loading_duration",123077:"widget_gray_video_exposure_new_strategy"},Lt={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},Bt="wxfile://ad",Wt=`${Bt}/adinfos.txt`,Ft={splashAd:1288,customAd:1390},Vt={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,LANDING_COUNTDOWN_FAIL:44,EXPOSURE_SHOWAD_SUCCESS:45,EXPOSURE_SHOWAD_FAIL:46,EXPOSURE_SHOWAD_UNKNOWN:47,CLOSE_SHOWAD_SUCCESS:48,CLOSE_SHOWAD_FAIL:49,CLOSE_SHOWAD_UNKNOWN:50,CLOSE_COUNTDOWN_FAIL:51,LOCAL_SELECT_BEGIN:54,LOCAL_SELECT_OUTDATE:55,LOCAL_SELECT_NO_AID:56,LOCAL_SELECT_NO_FILE:57,LOCAL_SELECT_SUCCESS:58,EXP_NOT_SHOW:59,EXP_SHOW:60,SHOW_SPLASH_FAIL:10,SHOW_AD_BY_ONLINE:61,SHOW_AD_BY_CHECK_AD:62,SHOW_AD_BY_LOCAL_SELECT:63,NOT_SHOW_ONLINE_NO_FILE:64,CHECK_AD_BEGIN:65,ONLINE_AD_BEGIN:66,CHECK_AD_SUCCESS:67,CHECK_AD_RESULT_SUCCESS:68,ONLINE_AD_SUCCESS:69,ONLINE_AD_RESULT_SUCCESS:70,LOCAL_AD_SUCCESS:71,CHECK_AD_FAIL:72,ONLINE_AD_FAIL:73,USE_ONLINE:74,USE_CHECK_AD:75,NO_MATERIAL_BEFORE_SHOW:76,GET_ADMSG_SUCCESS:77,GET_ADMSG_FAIL:78,OFFLINE_AD:79,CHECK_AD_TIMEOUT:80,ONLINE_AD_TIMEOUT:81,GET_WETEST_CONFIG_SUCCESS:82,GET_WETEST_CONFIG_FAIL:83,FETCH_BEGIN:84,FETCH_SUCCESS:85,LOCAL_SELECT_BLACK_LIST:86,LOCAL_SELECT_TIME_OUT:87,SHOW_AD_BY_PRELOAD:88,SHOW_AD_BY_PRELOAD_FAIL:89,NEW_TIMEOUT_CLOSE_AD:90,HOT_START_START:91,HOT_START_SUCCESS:92,HOT_START_FAIL:93,PATH_NOT_SHOW:94,VIDEO_LOAD_ERROR:95,SCENE_CACHE_PRELOAD_READ_SUCCESS:96,SCENE_CACHE_PRELOAD_READ_FAIL:97,SCENE_CACHE_WRITE_SUCCESS:98,SCENE_CACHE_WRITE_FAIL:99,SCENE_CACHE_NOT_SHOW:100,SCENE_CACHE_READ_SUCCESS:101,SCENE_CACHE_READ_FAIL:102},Ut={banner:5,rewardedVideoAd:6,interstitialAd:8,customAd:9,cpsShopAd:11,grid:13,splashAd:14},Ht={click:1,exposure:0},jt={showed:0,viewable:1,incentiveVideoCard:2},Gt={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007,MATERIAL_RETRY_FAIL:2008,LOCAL_SELECT_NO_FILE:2009,LOCAL_SELECT_OUTDATE:2010,EXP_NOT_SHOW:2011,PATH_NOT_SHOW:2012},zt={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"},$t=e=>{var t=e,i={};try{var a=JSON.parse(t);for(var n of a)Object.hasOwnProperty.call(n,"exp_para")&&n.exp_para.forEach((e=>{(0,j.hj)(e.value)?i[e.name]=Number(e.value):i[e.name]=e.value}));for(var r of Object.keys(i))Nt[r]&&(i[Nt[r]]=i[r]);return i}catch(e){return{}}},Qt=a(803),qt="",Yt=h.iw,Zt="",Kt="",Xt="",Jt="",ei="",ti="",ii=!0,ai="";p.default.onReady((()=>{var e;e=i.getInitScreenSize(),qt=(e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":p.default.deviceOrientation&&/^landscape/.test(p.default.deviceOrientation)?"landscape":p.default.deviceOrientation||"portrait")||"";var t=i.getStableSystemInfo();Zt=t.system,Kt=t.version,Xt=t.SDKVersion,ei=t.model,ti=t.brand,ii=(0,h.aI)();try{ai=p.default.accountInfo.appId,Jt=__libVersionInfo__.updateTime}catch(e){}}));var ni=(e,t)=>{var a=t,n=(0,Qt.x)(e);if(n&&0!==n.length)return a=Object.assign({publisher_appid:ai,appid:ai,orig_weapp_id:"",network_type:"",wechat_version:Kt,platform:Yt,system_version:Zt,device_orientation:qt,wxapp_lib_version:Xt,wxapp_lib_time:Jt,machine_type:ei,ad_platform:ii?1:0},a),a=Object.assign({DeviceModel:ei,DeviceBrand:ti,OsName:Yt,OsVersion:Zt},a),n=n.map((e=>({type:e.type,value:(a[e.key]||e.value).toString()}))),i.invokeOperateWXDataPromise({sdkApiName:"advert_report",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:n})}}).catch((e=>{}))},ri=e=>ni(19213,e),oi=(e,t=!1)=>{var i=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return i+=`<${e.name}>`,e.children.length>0?i+=(e=>e.children&&e.children.length>0?e.children.map((e=>oi(e))).join(""):"")(e):i+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,i+=`</${e.name}>`},si=e=>oi(e,!0),{_downloadFileSkipCheckDomain:li}=i,di=["adinfos.txt","/adinfos.txt","/"],ui=0,ci=(e="")=>{if(e)return new Promise(((t,i)=>{W({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||i(e)}})}))},pi=(e="")=>e?((e="")=>{if(e)return new Promise(((t,i)=>{B({path:e,recursive:!0,success:t,fail:i})}))})(e).then((e=>{var t=0,i=[],a=[],n=e.stats||[],r=+new Date;for(var o of n){t+=o.stats.size||0,di.includes(o.path)||i.push(o.path),r-1e3*o.stats.lastAccessedTime>=6048e5&&!di.includes(o.path)&&a.push(o.path)}return{totalSize:t,fileList:i,outedDateFileList:a}})):{totalSize:0,fileList:[],outedDateFileList:[]},hi=(e={},t="")=>t?(0,h.er)()?Promise.resolve():h.wZ||h.cj?new Promise(((i,a)=>{F({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:i,fail:a})})):Promise.resolve():Promise.resolve(),fi=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,i)=>{L({dirPath:e,success:t,fail:i})}))})(Bt).then((t=>{var i=t.files;e&&e.map((e=>{var{url:t,filePath:a,fileName:n}=e;return i.includes(n)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((i,a)=>{li({url:e,filePath:t,success:i,fail:a})}))})(t,a)}))})):Promise.reject({errMsg:"无数据"}),mi=e=>{if(e&&"object"==typeof e&&!(ui>0)&&(ui+=1,!(0,h.er)()&&(h.wZ||h.cj)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{B({path:Wt,success:e=>{var i;Date.now()-1e3*(null==e||null===(i=e.stats)||void 0===i?void 0:i.lastModifiedTime)>=t&&r.emit("_onEmitSplashAdFetch")},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&hi({},Wt)}})}catch(e){}}},{publish:vi,subscribe:yi,invokeOperateWXDataPromise:gi,_onUserCaptureScreen:_i,onAppRoute:Ai,onBeforeUnloadPage:Ei,addInnerShareCallbacks:Ci,getAdUxInfo:bi}=i,Ii="",Ti=0,wi="index.html",ki=new t,Si="_onWxAdUserCaptureScreen",xi={shareAppMessage:0,shareTimeline:3};p.default.onReady((()=>{Ii=bi()}));var Pi={};try{Ai((e=>{Ti=e.webviewId,Pi[Ti]||(Pi[Ti]=!0,wi=e.path,Ei(Ti,(e=>{Oi(e)})))}))}catch(e){}_i((()=>{var e=+new Date;Ii&&ri({eventTimeStamp:e,scene:7,uxinfo:Ii,url:wi}),Ti&&vi(Si,{eventTimeStamp:e,path:wi},[Ti]),ki.emit(Si,{eventTimeStamp:e,webviewId:Ti,path:wi})}));Ci(((e,t)=>{if(Ii){var i="",a=xi[e]?xi[e]:0;"shareAppMessage"===e&&t.shareInfos&&(a=t.shareInfos.length>0?2:1,i=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===a&&"shareAppMessage"===e&&t.shareTickets&&(a=t.shareTickets.length>0?2:1),n={eventTimeStamp:+new Date,shareType:a,tousername:i,uxinfo:Ii,url:wi},ni(19214,n)}var n}));var Di={};yi("wxAdDelayReport",((e,t)=>{Di[t]||(Di[t]={}),e.key&&e.value&&(Di[t][e.key]=e.value)}));var Oi=e=>{if(Di[e]){for(var t in Di[e]){var i=Di[e][t];gi({sdkApiName:"advertReport",apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:i}}).catch((e=>{}))}delete Di[e]}};yi("checkWxAdFetchLog",(e=>{mi(e)})),yi("weappTouchEvent",(e=>{ki.emit("_onWeappTouchEvent",e)}));yi("wxAdTakeWelfare",((e={},t)=>{var{id:i}=e;vi("onWxAdTakeWelfareEvent",{id:i},Object.keys(Pi))}));var Ri=Symbol("signExport"),Mi=()=>(e,t)=>{e[Ri]=e[Ri]||new Set,e[Ri].add(t)},Ni=(e,t)=>{var i=Array.isArray(t)?t:[t];for(var a of i)if(!(a in e)||"function"!=typeof e[a])throw new Error(`${a} is not the function method of the class`);return i.map((t=>e[t]))},Li=(e,t=!1)=>(i,a,n)=>{var r=n.value,o=Ni(i,e);n.value=t?s()((function*(...e){var t=yield r.call(this,...e);for(var i of o)yield i.call(this,t);return t})):function(...e){var t=r.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(var t of o)t.call(this,e);return e}));for(var i of o)i.call(this,t);return t}},Bi=(e,t=!1)=>(i,a,n)=>{var r=n.value,o=Ni(i,e);n.value=t?s()((function*(...e){try{return yield r.call(this,...e)}catch(e){for(var t of o)yield t.call(this,e);throw e}})):function(...e){try{var t=r.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(var t of o)t.call(this,e)})),t}catch(e){for(var i of o)i.call(this,e);throw e}}},Wi=e=>{for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==$a&&t.parent.referComponent;)t=t.parent;return t};class Fi{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var i=this;this._stateQueue=this._stateQueue||{};var a=!1;for(var n of Object.keys(e)){e[n]!==this.state[n]&&(a=!0)}a?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(s()((function*(){i._setStateTimer=null;var e=!1;for(var a of Object.keys(i._stateQueue)){var n=i._stateQueue[a];i.state[a]!==n&&(e=!0)}e&&(ha(i,"updateState",{...i.state,...i._stateQueue}),Object.assign(i.state,i._stateQueue),pa(i),Oa(Wi(i._rootElement)),yield $a.nextLayout(),null==t||t(i.state,i.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(var e of this._subComponents)e._unmountComponent();ha(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){for(var e=this;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var i=this;return s()((function*(){var a=i.getElementById(e),n=i._manualStyle;e&&t&&(a&&Object.assign(a.style,t),n[e]=n[e]||{},Object.assign(n[e],t)),yield Promise.resolve();var r=i.getRootComponent();yield r.requestLayout()}))()}requestLayout(){var e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,Oa(Wi(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),(0,m.Vs)(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,i){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(i),i}_unbindEvent(e,t,i){var a,n;return!(null===(a=this._eventHandler[e])||void 0===a||null===(n=a[t])||void 0===n||!n.has(i))&&(this._eventHandler[e][t].delete(i),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}Fi.isComponent=!0,Fi.subComponents={};var Vi=function(e){return e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullscreenChange="fullscreenChange",e.loadedMetaData="loadedMetaData",e}({});class Ui extends Fi{render(){var{props:{children:e}}=this;return e}}Ui.isFragment=!0;var{View:Hi,Text:ji,Image:Gi,Video:zi}=i,$i="Fragment",Qi={view:Hi,text:ji,image:Gi,video:zi},qi=e=>e.name[0]>="A"&&e.name[0]<="Z",Yi=e=>Object.keys(e.children).map((t=>e.children[t])),Zi=new WeakMap,Ki=(e,t)=>{var{referComponent:i}=t,a={children:t.children},n="getSubComponentProps",r=[];if(e.getProps){var[o,...s]=e.getProps.split(":");n=o,r=s}for(var l of(Object.assign(a,ha(i,n,t.name,...r)||{}),Object.keys(e))){var d=e[l];["getProps","children"].includes(l)||(a[l]=d)}return a.children=t.children,a},Xi=(e,t,i)=>{if(!i.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return ca(i,Ki(t,e),!1,e.referComponent)},Ji=(e,t=ea(e))=>{var{referComponent:i}=e,{id:a}=t,n=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),r={...t};a&&(r.name=a),delete r.id,r.style=Ha({classList:n,name:a,referComponent:i});var o=null!=r.bubbleEvent,s=new(0,Qi[e.name])(r);if(s.isBubbleEventSet=o,Object.assign(s,{classList:n,referComponent:i,key:t.key||null}),a&&i&&i.getEventHandler(a))for(var l of Object.keys(i.getEventHandler(a))){var d=i.getEventHandler(a)[l];if(l in Vi){if("video"===e.name)for(var u of d){var c=s[`on${l[0].toUpperCase()}${l.slice(1)}`];null==c||c.call(s,u)}}else for(var p of d)s.on(l,p)}return null!=a&&(i._elementMap[a]=s),s},ea=e=>{var t={};for(var i of Object.keys(e.attributes)){var a=e.attributes[i],n=(0,m.um)(i);t[n]=a,/\{\{.+\}\}/.test(a)||("true"===a?t[n]=!0:"false"===a?t[n]=!1:"id"===n?t.id=(0,m.um)(a):t[n]=a)}return t},ta=e=>{var t=e.constructor.subComponents||[];return{..."function"==typeof t?t():t,[$i]:Ui}},ia=e=>{if(Array.isArray(e)){var t=e.map((e=>ia(e))),i={element:null,subComponents:[]};for(var{element:a,subComponents:n}of t)for(var r of(a&&(null===i.element&&(i.element=[]),Array.isArray(a)?i.element.push(...(0,j.xH)(a)):i.element.push(a)),n))i.subComponents.includes(r)||i.subComponents.push(r);return i}if(!e)return{element:null,subComponents:[]};var o,s=ta(e.referComponent),l=[],d=ea(e);if(qi(e)){if(!s[e.name])throw new Error(`component name ${e.name} does not exists`);var u=Xi(e,d,s[e.name]);if(!(o=u.getRootElements()))return{element:null,subComponents:[]};l.push(u)}else{var c=Ji(e,d);e.children.forEach((e=>{var{element:t,subComponents:i}=ia(e);if(t)if(l.push(...i),Array.isArray(t))for(var a of t)c.add(a);else c.add(t)})),o=c}return{element:o,subComponents:l}},aa=(e,t)=>{var i=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],a=!1;for(var n of i)void 0===t[n]&&(t[n]=void 0);for(var r of Object.keys(t)){var o=t[r];i.includes(r)&&e[r]!==o&&(e[r]=o,a=!0)}return a},na=(e,t,i=null)=>{var a=i;if(e!==t){if(!a){if(null==e||!e.parent)throw new Error("can not find element tree without parent");a=e.parent}if(e&&a.remove(e),t)if(Array.isArray(t))for(var n of t)a.add(n);else a.add(t)}},ra=(e,t)=>Qi[t.name]&&e?e.constructor===Qi[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name,oa=(e,t)=>{var i=ea(t),a=t.referComponent,n=ta(a),r=e&&ra(e,t);if(!qi(t)){if(!t.children||0===t.children.length)return e&&r?(aa(e,i),e):Ji(t,i);if(e&&r)return aa(e,i),la(Yi(e),t.children),e;var{element:o,subComponents:s}=ia(t);return a.getSubComponents().push(...s),o}var l=null==e?void 0:e.referComponent,d=null==l?void 0:l.constructor;if(l&&d===n[t.name])return Object.assign(l.props,Ki(i,t)),pa(l);var u=a.getSubComponents().indexOf(l);return u>-1&&a.getSubComponents().splice(u,1),l&&ha(l,"destroy"),null==e||e.remove(),Xi(t,i,n[t.name]).getRootElements()},sa=e=>e.reduce(((e,t)=>(t.name===$i?e.push(...sa(t.children)):e.push(t),e)),[]),la=(e,t)=>{var i=[],a={};for(var n of e)n.key?a[n.key]=n:i.push(n);for(var r of sa(t)){var{key:o}=r,s=null;if(o)a[o]&&(s=a[o],delete a[o]);else for(var l of Object.keys(i)){var d=i[+l];if(d&&ra(d,r)){s=d,i.splice(Number(l),1);break}}s||(s=i.shift()||null),e.length&&e[0].parent&&na(s,oa(s,r),e[0].parent)}var u=Object.keys(a).reduce(((e,t)=>(e.push(a[t]),e)),[]);for(var c of[...i,...u])null==c||c.remove()},da=(e,t)=>{Array.isArray(e)?e.forEach((e=>da(e,t))):(t(e),e.children.forEach((e=>da(e,t))))},ua=(e,t)=>{da(e,(e=>{e.referComponent||(e.referComponent=t)}))},ca=(e,t,i=!0,a=null)=>{var n=new e(t);n.parent=a;var r=n.render(),o="string"==typeof r?d()(r).root:r;ua(o,n);var{element:s,subComponents:l}=ia(o);return n._subComponents=l,s&&(n._rootElement=s,Array.isArray(s)?s.forEach((e=>{e.isRootElementOfComponent=!0})):s.isRootElementOfComponent=!0),ha(n,"ready",s,l),i&&(s&&(Array.isArray(s)?s.forEach((e=>{$a.add(e),Oa(e)})):($a.add(s),Oa(s))),Zi.set(e,n)),n},pa=(e,t)=>{t&&Object.assign(e.props,t);var i=e.getRootElements(),a=e.render(),n="string"==typeof a?d()(a).root:a;return ua(n,e),Array.isArray(i)&&Array.isArray(n)?la(i,n):Array.isArray(i)&&!Array.isArray(n)?la(i,[n]):!Array.isArray(i)&&Array.isArray(n)?la([i],n):Array.isArray(i)||Array.isArray(n)||na(i,oa(i,n)),ha(e,"updatedProps"),i},ha=(e,t,...i)=>"function"==typeof e[t]?e[t](...i):null,{getInitScreenSize:fa}=i,ma={},{gametext:va,Text:ya}=i,ga=["width","height"],_a=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),Aa=(e,t)=>Math.max(e,t),Ea=(e,t)=>e+t,Ca=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),ba=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),Ia=(e,t,i)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+i:parseFloat(e.slice(0,-1))/100*t+i,Ta=(e,t,i,a,n,r)=>{var o,s=e.parent,l=a[i],d=ba(e)[i],u=t,c=null,p=!1;if(!n&&r>0&&(null==u||r>u)&&(u=r),a.position&&"absolute"===a.position[1]&&null!=u&&(u+=r),l||null==u)l&&"percent"===l[0]&&null!=u?(c=u*l[1]-d,p=!0):l&&"digit"===l[0]&&(c=l[1]-d,p=!0);else if("auto"!==e.style[i])if("absolute"===(null===(o=a.position)||void 0===o?void 0:o[1])){var h=0,f=!1;for(var m of"width"===i?["left","right"]:["top","bottom"])null!=a[m]?"digit"===a[m][0]?h+=Number(a[m][1])||0:"percent"===a[m][0]&&(h+=(Number(a[m][1])||0)*u):f=!0;c=f?null:u-h}else if(n&&_a(s.style.flexDirection,i)&&e.style.flex>0)c=null;else{var v=_a(e.style.flexDirection,i);(e=>Ya(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&v&&(p=!0),c=u-d}return null!=c&&(e.autoFitSize[i].size=c),p},wa=(e,t)=>e.parent&&e.parent!==$a?e.parent.style[t]:"width"===t?ma.screenWidth:ma.screenHeight,ka=e=>{var t=Qa(e),i=ba(e);e.autoFitSize={width:{size:null,margin:0,padding:i.width},height:{size:null,margin:0,padding:i.height}};var a=e.parent;if(t||a.autoFitSize){var n=Ga(Ha(e)),r={width:!1,height:!1},o={width:null,height:null};for(var s of ga){var l=n[s],d=t?wa(e,s):a.autoFitSize[s].size,u=t?0:a.autoFitSize[s].padding;!l&&t&&"height"===s&&(d=null),r[s]=Ta(e,d,s,n,!0,u)}Pa(e,n);var c=ba(e),p="wrap"===e.style.flexWrap,h=[];for(var f of Ya(e)){ka(f);var m=Ca(f);if("absolute"!==f.style.position)for(var v of ga){var y=_a(e.style.flexDirection,v);if(p){if(y){var g="width"===v?"height":"width";h.push([(f.autoFitSize[v].size||0)+f.autoFitSize[v].padding+m[v],(f.autoFitSize[g].size||0)+f.autoFitSize[g].padding+m[g]])}}else{var _=y?Ea:Aa;null==f.autoFitSize[v].size&&f.autoFitSize[v].padding<=0&&_===Ea&&(r[v]=!0),o[v]=_((f.autoFitSize[v].size||0)+f.autoFitSize[v].padding+m[v],o[v]||0)}}}if(p){var A=0,E=0,C=0,b=0,I=_a(e.style.flexDirection,"width")?"width":"height",T="width"===I?"height":"width";for(var[w,k]of(b=r[I]&&null!=e.style[I]?e.style[I]:h.reduce(((e,[t])=>e+t),0),h))C=Math.max(C,k),w+A>b?(E+=C,C=k,A=w):A+=w;E+=C,o[I]=A,o[T]=E}if(e instanceof ya){var S=!1;if("ellipsis"===e.style.textOverflow&&Number(e.style.lineClamp)>=1){var x=Sa(e);null!=!e.autoFitSize.height.size&&r.height||(S=!0,x>1&&e.style.textAlignMultiline&&(e.style.textAlign=e.style.textAlignMultiline),Object.assign(e.autoFitSize.height,{size:(e.style.lineHeight||e.style.fontSize||0)*x,padding:c.height}))}null!=e.autoFitSize.height.size&&(r.height||S)||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:c.height}),null!=e.autoFitSize.width.size&&r.width||Object.assign(e.autoFitSize.width,{size:va.getTextWidth(e.value,e.style.fontSize||14)+3,padding:c.width})}for(var P of ga)r[P]||null===o[P]?c[P]>0&&(e.autoFitSize[P].padding=c[P]):Object.assign(e.autoFitSize[P],{size:null!=o[P]?o[P]:null,padding:c[P]})}},Sa=e=>{for(var{width:t}=e.style,i=Number(e.style.lineClamp),a=Number(e.style.fontSize),n=e.value||"",r=va.getTextWidth("...",a),o=[""],s=0,l=0;s<i&&l<n.length;){var d=s+1===i,u=d?t-r:t;va.getTextWidth(o[s]+n[l],a)+a<=u?o[s]+=n[l]:d?(o[s]+="...",s+=1):(s+=1,o.push(n[l])),l+=1}return e._hasEllipsis||(e._hasEllipsis=!0,e.value=o.join("")),o.length},xa=e=>{var t=Ya(e);for(var i of ga){var a=_a(e.style.flexDirection,i),{size:n}=e.autoFitSize[i],{padding:r}=e.autoFitSize[i];if(null!=n||r){n=n||0;var o=0,s=0;for(var l of t){var{size:d,margin:u,padding:c}=l.autoFitSize[i];"absolute"!==l.style.position&&(null!=d?o+=d+c+u:l.style.flex&&l.style.flex>0&&(s+=Number(l.style.flex)))}for(var p of t){var h,f=Ga(Ha(p)),m=null;a?m=p.style.flex?(n-o)/Aa(s,1)*p.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(m=n),null==p.autoFitSize[i].size&&m?Ta(p,m,i,f,!1,r):"absolute"===(null===(h=f.position)||void 0===h?void 0:h[1])&&Ta(p,n,i,f,!1,r)}}}for(var v of t)xa(v);for(var y of ga){var{size:g,padding:_}=e.autoFitSize[y];null!=g&&e.style[y]!==g+_&&(e.style[y]=g+_)}e instanceof ya&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},Pa=(e,t)=>{var i=e.autoFitSize.width.size,a=e.autoFitSize.height.size;for(var n of Object.keys(t)){var r=t[n];"percent"===r[0]?"horizontal"===Ra[n]&&null!=i?e.style[n]=r[1]*i:"vertical"===Ra[n]&&null!=a&&(e.style[n]=r[1]*a):"normal"===r[0]&&(e.style[n]=r[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=Ia(t.transform[1][0],i||0,e.style.left||0),e.style.top=Ia(t.transform[1][1],a||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},Da=e=>{var t=[["width","left"],["height","top"]];for(var i of Ya(e))for(var[a,n]of(Da(i),t)){var r;if((i.style.position||null!==(r=i.expandAbsoluteSize)&&void 0!==r&&r.has(a))&&"hidden"!==e.style.overflow){var o=(i.style[a]||0)+(i.style[n]||0);o>(e.style[a]||0)&&(e.style[a]=o,e.expandAbsoluteSize||(e.expandAbsoluteSize=new Set),e.expandAbsoluteSize.add(a))}}},Oa=e=>{ka(e),xa(e),Da(e),(e=>{for(var t=[["width","left"],["height","top"]],i=e;i&&i!==$a&&i.parent!==$a;){var a=i.parent;if(i.style.hidden)break;for(var[n,r]of t){var o;if((i.style.position||null!==(o=i.expandAbsoluteSize)&&void 0!==o&&o.has(n))&&"hidden"!==e.style.overflow){var s=(i.style[n]||0)+(i.style[r]||0);s>(a.style[n]||0)&&(a.style[n]=s,a.expandAbsoluteSize||(a.expandAbsoluteSize=new Set),a.expandAbsoluteSize.add(n))}}i=a}})(e)},Ra={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizontal",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},Ma=/^\s*#[0-9a-fA-F]{3}\s*$/,Na=/^\s*#[0-9a-fA-F]{3,6}\s*$/,La=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,Ba=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,Wa=/px$/,Fa=e=>"number"==typeof e?e:Wa.test(e)?Number(e.replace(Wa,""))||0:(0,j.hj)(e)?parseInt(e,10):e,Va=e=>{if("string"==typeof e&&Ma.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},Ua=(e={})=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(["padding","margin"].includes(i)){var n=Array.isArray(a)?a:(null==a?"":a).toString().split(/\s+/),r=null,o=null,s=null,l=null;switch(n.length){case 0:default:continue;case 1:[r]=n,[o]=n,[s]=n,[l]=n;break;case 2:[r,o]=n,[s,l]=n;break;case 3:[r,o,s]=n,l=o;break;case 4:[r,l,s,o]=n}Object.assign(t,{[`${i}Top`]:Fa(r),[`${i}Left`]:Fa(o),[`${i}Bottom`]:Fa(s),[`${i}Right`]:Fa(l)})}else if("border"===i){var d=(a||"").toString().split(/\s+/);switch(d.length){case 0:default:continue;case 1:t.borderColor=Va(d[0]);continue;case 2:t.borderWidth=Fa(d[0]),t.borderColor=Va(d[1]);continue;case 3:t.borderWidth=Fa(d[0]),t.borderColor=Va(d[2]);continue}}else if("background"===i&&Na.test(e[i]))t.backgroundColor=Va(e[i]);else if("background"===i&&(La.test(e[i])||Ba.test(e[i])))t.backgroundColor=e[i];else if("background"===i&&e[i].includes("linear-gradient"))t.backgroundColor=e[i];else if("color"===i&&"string"==typeof a&&Ba.test(a)){var[u,c,p,h]=Ba.exec(a).slice(1,5).map((e=>Number(e))),f=e=>e.toString(16);t.color=`#${f(u)}${f(c)}${f(p)}`,null==e.opacity&&(t.opacity=Number(h))}else if("display"===i)t.hidden="none"===e[i];else if("rotate"===i){var m=e[i];t.rotate="string"==typeof m?Number(m.replace("deg",""))||0:m}else t[i]=Va(Fa(e[i]))}return t},Ha=e=>{if(e._isTemplate)return e._manualStyle||e.style;var t=e.referComponent;if(!t)return Object.assign({},e.style||{});var i={},a=t.style||{};for(var n of e.classList||[])Object.assign(i,Ua(a[n])),Object.assign(i,Ua(a[`.${n}`]));return a[e.name]&&Object.assign(i,Ua(a[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(i,Ua(t._manualStyle[e.name])),i},ja={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},Ga=e=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(null!=a){var n=a.toString().trim();if((Ra[i]||["width","height"].includes(i))&&ja.percent.test(n)){var r=parseFloat(n.slice(0,-1))/100;t[i]=["percent",r]}else if((0,j.hj)(n))t[i]=["digit",Number(n)];else if("transform"===i&&n.includes("translate")){var o=ja.translate.exec(n);o&&(t[i]=["transform",o.slice(1,3)])}else t[i]="string"==typeof a?["normal",n]:["normal",a]}}return t},{webviewLayout:za}=i,$a=za,Qa=e=>{var t,i;return e.parent===$a||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)&&!(null!==(i=e.parent)&&void 0!==i&&i._isTemplate)||e._isTemplateRoot},qa=e=>Object.keys(e.children).map((t=>e.children[t])),Ya=e=>qa(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),Za=(e,t,i="downward")=>{for(var a of("downward"===i&&t(e),qa(e)))Za(a,t,i);"upward"===i&&t(e)},Ka=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var r=a||(i?(0,j.U2)(e,i):"");if(r)return r}return null},Xa=63,Ja=e=>{var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},en=e=>{if(!e)return"";var t=String(e),i=[],a=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var n of t)if(n.match(a)){var r=n.codePointAt?n.codePointAt(0):n.charCodeAt(0);r<128?i.push(Ja(r)):r<2048?i.push([Ja(192+(r>>6)),Ja(128+(r&Xa))].join("")):r<65536?i.push([Ja(224+(r>>12)),Ja(128+(r>>6&Xa)),Ja(128+(r&Xa))].join("")):r<2097152&&i.push([Ja(240+(r>>18)),Ja(128+(r>>12&Xa)),Ja(128+(r>>6&Xa)),Ja(128+(r&Xa))].join(""))}else i.push(n);return i.join("")},tn=e=>{if(!e)return"";for(var t=e=>{if(!e)throw new Error("invalid text")},i=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),a=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16)))),n=0,r="";n<a.length;){var o=a.charCodeAt(n);if(o<128)r+=i(o),n+=1;else if(o>=192&&o<224){t(n+1<a.length),r+=i((31&o)<<6|a.charCodeAt(n+1)&Xa),n+=2}else if(o<240){t(n+2<a.length);var s=a.charCodeAt(n+1),l=a.charCodeAt(n+2);r+=i((15&o)<<12|(s&Xa)<<6|l&Xa),n+=3}else{t(n+3<a.length);var d=a.charCodeAt(n+1),u=a.charCodeAt(n+2),c=a.charCodeAt(n+3);r+=i([(7&o)<<18,(d&Xa)<<12,(u&Xa)<<6,c&Xa].reduce(((e,t)=>e|t),0)),n+=4}}return r},an=e=>{var t={};if(e.indexOf("?")>-1){var i=e.indexOf("?")+1,a=e.substring(i);a.indexOf("#")>-1&&(a=a.substring(0,a.indexOf("#")));var n=a.split("&");for(var r of n){var[o,s]=r.split("=");t[o]=tn(s)}}return t},nn=Object.keys,rn=Function.prototype.call.bind(String.prototype.split),on=Function.prototype.call.bind(String.prototype.indexOf),sn=Function.prototype.call.bind(String.prototype.concat),ln=Function.prototype.call.bind(String.prototype.substring),dn=(e,t)=>{if(!e)return"";if(!t)return e;var i=rn(e,"#"),a=on(i[0],"?")>-1?"&":"?",n="",r=nn(t);if(r.length>0){for(var o of r)n=sn(n,`${o}=${en(t[o])}&`);return n.length>0&&(n=ln(n,0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},un=e=>e===On.LIVE,cn=(e,t)=>un(e)&&t===Rn.ROOM,pn=(e,t)=>un(e)&&t===Rn.RESERVATION,hn=1,fn=2,mn=3,vn=6,yn=9,gn=101,_n=102,An=103,En={CRT_SIZE_WX_APPLICATION:532,APP_VIDEO:538,PIC_TIME5:555,CRT_SIZE_WX_APPLICATION_CARD:556,CRT_SIZE_WX_APPLICATION_X:567,CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_WX_APPLICATION_NEW:608,CRT_SIZE_PIC_MOMENT:666,CRT_SIZE_TABLE_SCREEN_IMAGE:701,CRT_SIZE_AMS_PIC_169:711,CRT_SIZE_AMS_PIC_916:712,CRT_SIZE_AMS_VIDEO_169:720,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_VIDEO_TIME6:888,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_INSERT_VIDEO:913,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT:928,CRT_SIZE_MULTI_POS_VEDIO:929,CRT_SIZE_MULTI_POS_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_VERTICAL_VIDEO:1064,CRT_SIZE_VERTICAL_VIDEO_916:1480,VIDEO_TIME15:1515,CRT_SIZE_CARD_COMPT_IMAGE:1707,CRT_SIZE_CARD_COMPT_VIDEO:1708},Cn={ANDROID:12,IOS:19,WE_CHAT:23,MINI_GAME:46,WE_CHAT_CARD:36,WE_CHAT_SHOP:30,PRODUCTTYPE_WECHAT_PAY_COUPON:47,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31,WE_CHAT_APP:38,LBS:37,LEAD_AD:43,JD_URL:25},bn={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},In={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},Tn=[En.CRT_SIZE_WX_APPLICATION,En.CRT_SIZE_WX_APPLICATION_NEW,En.CRT_SIZE_WX_APPLICATION_X,En.CRT_SIZE_WX_APPLICATION_CARD,En.CRT_SIZE_REWARD_VEDIO169,En.CRT_SIZE_REWARD_VEDIO916,En.CRT_SIZE_TABLE_SCREEN_IMAGE,En.CRT_SIZE_AMS_PIC_169,En.CRT_SIZE_AMS_PIC_916,En.CRT_SIZE_AMS_VIDEO_169,En.CRT_SIZE_REWARD_LANDINGPAGE,En.CRT_SIZE_INSERT_VIDEO,En.CRT_SIZE_MULTI_POS_NEW_PIC,En.CRT_SIZE_MULTI_POS_VEDIO,En.CRT_SIZE_MULTI_POS_GRID,En.CRT_SIZE_BIG_PIC,En.CRT_SIZE_SPLASH_AD,En.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,En.CRT_SIZE_VERTICAL_VIDEO_NEW_916,En.APP_VIDEO,En.CRT_SIZE_PIC_MOMENT,En.CRT_SIZE_VIDEO_TIME6,En.CRT_SIZE_VERTICAL_VIDEO,En.CRT_SIZE_VERTICAL_VIDEO_916,En.CRT_SIZE_CARD_COMPT_IMAGE,En.CRT_SIZE_CARD_COMPT_VIDEO],wn=2008,kn=2009,Sn=2010,xn=2011,Pn=2012,Dn=2013,On={DEFAULT:0,VIDEO:1,LIVE:2},Rn={DEFAULT:0,ROOM:1,RESERVATION:2},Mn={NONE:1,ON_AIR:2,ENDED:3,IN_PREPARE:4},Nn=3,Ln=4,Bn=(e,t)=>!!t&&(e=>{var t={multiImage:[En.CRT_SIZE_PIC_MOMENT],gauss:[En.CRT_SIZE_REWARD_VEDIO169,En.CRT_SIZE_REWARD_VEDIO916],native:[En.CRT_SIZE_REWARD_VEDIO169,En.CRT_SIZE_REWARD_VEDIO916,En.CRT_SIZE_VERTICAL_VIDEO_NEW_916,En.CRT_SIZE_AMS_VIDEO_169],landpage:[En.CRT_SIZE_REWARD_LANDINGPAGE],sns:[En.APP_VIDEO,En.CRT_SIZE_VIDEO_TIME6,En.CRT_SIZE_VERTICAL_VIDEO,En.CRT_SIZE_VERTICAL_VIDEO_916,En.CRT_SIZE_CARD_COMPT_VIDEO],portrait:[En.APP_VIDEO,En.CRT_SIZE_REWARD_VEDIO916,En.CRT_SIZE_VERTICAL_VIDEO_NEW_916,En.CRT_SIZE_VERTICAL_VIDEO,En.CRT_SIZE_VERTICAL_VIDEO_916],landscape:[En.CRT_SIZE_REWARD_VEDIO169,En.CRT_SIZE_VIDEO_TIME6,En.CRT_SIZE_CARD_COMPT_VIDEO,En.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"multiImage":case"gauss":case"native":case"landpage":case"portrait":case"landscape":case"sns":return t[e];case"video":return[...t.native,...t.sns];default:return[...t.native,...t.landpage,...t.sns]}})(e).includes(Number(t)),Wn=a(551),{deviceInfo:Fn}=i,Vn=e=>{var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},Un=function(e){var t,i,a=Hn(e),n="portrait"===Fn.deviceOrientation,r=Bn("portrait",e.crt_size);if(Fn.isAndroid){var o,s,l=Vn((null===(o=e.condition)||void 0===o?void 0:o.widget_gray_reward_use_gauss_blur_android_system_version)||""),d=Vn((null===(s=e.condition)||void 0===s?void 0:s.widget_gray_reward_use_gauss_blur_android_wechat_version)||""),u=Vn(Fn.systemVersion),c=Vn(Fn.wechatVersion);if(l&&u&&(0,Wn.yC)(u,l)<0)return!1;if(d&&c&&(0,Wn.yC)(c,d)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(i=e.gaussVideo)||void 0===i?void 0:i.src)&&n!==r&&Bn("gauss",e.crt_size)&&(a||n))},Hn=function(e){var{flooringPage:t}=e,i="portrait"===Fn.deviceOrientation,a=Bn("portrait",e.crt_size);return Boolean(i!==a&&Bn("video",e.crt_size)&&!(Bn("sns",e.crt_size)&&Bn("landscape",e.crt_size))&&!Fn.isIPad&&![2,3,4].includes((null==t?void 0:t.landpage_type)||0))};var jn,Gn,zn,$n,Qn,qn,Yn,Zn,Kn,Xn,Jn,er,tr,ir,ar,nr,rr,or,sr,lr,dr,ur,cr,pr,hr,fr,mr,vr,yr,gr,_r,Ar,Er,Cr,br,Ir,Tr,wr,kr,Sr,xr,Pr,Dr,Or,Rr,Mr,Nr,Lr,Br,Wr,Fr,Vr,Ur,Hr,jr,Gr,zr,$r,Qr,qr,Yr,Zr,Kr,Xr,Jr,eo,to,io=new class{constructor(){this.path=`${Bt}/timePointCache.txt`,this.cacheMap={},this.needUpdate=!1,this.cacheTimeout=null,this.cachePromise=null,this.loadCache()}loadCache(){try{var e;null===(e=i.deviceInfoLoaded)||void 0===e||e.then((()=>{i.readFile({filePath:this.path,encoding:"utf8",success:e=>{try{this.cacheMap=JSON.parse(e.data)}catch{}}})}))}catch{this.cacheMap={}}}writeCache(){var e=this;this.needUpdate&&(this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=null),this.cacheTimeout=setTimeout(s()((function*(){e.cacheTimeout=null,e.cachePromise&&(yield e.cachePromise,e.cachePromise=null),e.cachePromise=new Promise(((t,a)=>{try{var n=JSON.stringify(e.cacheMap);i.writeFile({filePath:e.path,data:n,encoding:"utf8",success:()=>{e.needUpdate=!1,t()},fail:e=>{a(e)}})}catch{a(new Error("write cache failed"))}}))})),100))}setCache(e,t){try{this.cacheMap[e]=JSON.stringify(t),this.needUpdate=!0}catch{}this.writeCache()}getCache(e){if(!this.cacheMap[e])return null;try{return JSON.parse(this.cacheMap[e])}catch{return null}}getAllCaches(){return Object.keys(this.cacheMap).map((e=>[e,this.getCache(e)]))}clearCache(e){delete this.cacheMap[e],this.needUpdate=!0,this.writeCache()}},{deviceInfo:ao,appRouteInfo:no}=i,ro=(jn=Mi(),Gn=Mi(),zn=Mi(),$n=Mi(),Qn=Mi(),qn=Mi(),Yn=Mi(),Zn=Mi(),Kn=Mi(),Xn=Mi(),Jn=Mi(),er=Mi(),tr=Mi(),ir=Mi(),ar=Mi(),nr=Mi(),rr=Mi(),or=Mi(),sr=Mi(),lr=Mi(),dr=Mi(),ur=Mi(),cr=Mi(),pr=Mi(),hr=Mi(),fr=Mi(),mr=Mi(),vr=Mi(),yr=Mi(),gr=Mi(),_r=Mi(),Ar=Mi(),Er=Mi(),Cr=Mi(),br=Mi(),Ir=class{constructor(e){this.adProxy=e,this.timePoints={},this.analyseBranchInfo=null,this.detectCacheTimePoints()}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}setTimePoint(e,t={}){if("splashAd"!==this.adType){["p2","p12"].includes(e)&&(this.timePoints={p1:this.timePoints.p1||0});var{time:i}=t;this.timePoints[e]=i||Date.now()}else this.timePoints[e]=Date.now()}detectCacheTimePoints(){var e=this,t=io.getAllCaches(),i=function(t){io.clearCache(a);var i=(0,Qt.x)(19837);if(t&&Array.isArray(t)&&t.length===i.length)try{var n=i.map(((e,i)=>({type:e.type,value:(t[i]||e.value).toString()})));e.operateReportMMData(19837,n)}catch{}};for(var[a,n]of t)i(n)}cacheTimePoints(e){if(this.data){e.extInfo={...e.extInfo,fromCache:!0};var t=this.getTimePointsData(e);t&&io.setCache(this.data.traceid,t.map((e=>e.value)))}}clearTimePoints(){this.data&&io.clearCache(this.data.traceid)}getTimePointsData({splash_instance_id:e="",scene:t=0,errCode:i=0,extInfo:a={}}){var n,r,o,s;if(!["customAd","rewardedVideoAd","splashAd","interstitialAd"].includes(this.adType))return null;return this.formatMMData(19837,{slotid:this.adProxy.getPosId(),costtype:null!==(n=this.data)&&void 0!==n&&n.is_cpm?1:2,ext_info:JSON.stringify(Object.assign({},a,{adUnitId:this.adUnitId,is_game:!0})),instance_id:e,scene:t,crt_size:(null===(r=this.data)||void 0===r?void 0:r.crt_size)||0,error_code:i,crt_exp_tid:(null===(o=this.data)||void 0===o?void 0:o.crt_exp_tid)||0,template_id:(null===(s=this.data)||void 0===s?void 0:s.templId)||0,...this.timePoints})}reportTimePoints({splash_instance_id:e="",scene:t=0,errCode:i=0,extInfo:a={}}){var n,r,o,s;null!==(n=this.datas)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.condition&&(a.exp_tids=this.adProxy.getExpTidForReport(null===(o=this.datas)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.condition));var l=this.getTimePointsData({splash_instance_id:e,scene:t,errCode:i,extInfo:a});if(l){this.operateReportMMData(19837,l)}}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var i,a=(0,Qt.x)(e);if(!a||0===a.length)return null;var n=this.data||{aid:0,traceid:"",crt_size:0};return Object.assign(t,{aid:n.aid,traceid:n.traceid,crt_size:n.crt_size,slotid:Dt[this.adType],report_time:Date.now(),ad_pos_type:null!==(i=Ot[this.adType])&&void 0!==i?i:0,publisher_appid:this.pluginAppid?this.pluginAppid:ao.gameAppId,appid:this.pluginAppid?this.pluginAppid:ao.gameAppId,orig_weapp_id:this.pluginAppid?ao.gameAppId:"",network_type:ao.adNetworkType,wechat_version:ao.wechatVersion,platform:ao.platform,system_version:ao.systemVersion,device_orientation:ao.deviceOrientation,wxapp_lib_version:ao.SDKVersion,wxapp_lib_time:ao.SDKVersionTime,machine_type:ao.model,machine_brand:ao.brand,screen_width:ao.screenWidth,screen_height:ao.screenHeight,ad_platform:ao.isWaGame?1:0,ad_unit_id:this.adUnitId}),a.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){var i=this.formatMMData(e,t);i&&this.operateReportMMData(e,i)}operateReportMMData(e,t){return(0,Qt.U)(e)?Reporter.reportKeyValue({key:e,value:this.formatMMDataStr(t),number:!0,immediately:!0}):O({apiName:"advert_report",reqData:{report_action:"comm_mmdata_report",report_data_json:JSON.stringify({logid:e,items:t})}})}formatMMDataStr(e){return e.map((e=>String(e.value).replace(/,/g,";"))).join(",")}reportAbnormalDetect(e){var t={adunit_id:this.adUnitId,appid:ao.gameAppId};if(Object.assign(e,t),"object"==typeof e)return this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var i,a=t,n=e;"object"==typeof n&&(!a&&(a=n.idKeyGroup),n=n.idKey),a||(a=null!==(i=Ft[this.adType])&&void 0!==i?i:924),0===n&&(n="0"),Reporter.reportIDKeyDirectly({id:a,key:n})}processStackMsg(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),i=e.toString();return t.indexOf(i)<0&&(t=`${i}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:i=""}){var a,n,r,o,s=e,l=t,d=i;"object"==typeof s&&(!l&&(l=s.idKeyGroup),s=s.idKey),0===s&&(s="0");var u="",c="";try{var p,h;if(this.data){var f,m,v={crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,url:this.data.url,exp_tids:this.adProxy.getExpTidForReport(null===(f=this.datas)||void 0===f||null===(m=f[0])||void 0===m?void 0:m.condition)};if(this.adProxy.adDataIndex>0&&(v.data_index=this.adProxy.adDataIndex),this.adProxy.datas.length>1&&(v.data_count=this.adProxy.datas.length),Bn("native",this.data.crt_size)){var y,g=this.convertedAdData;if(g)v.is_gauss_blur=Un(g),v.is_expand_style=Hn(g),c=v.is_gauss_blur?g.gaussVideo.src:(null==g||null===(y=g.shortVideo)||void 0===y?void 0:y.src)||""}else this.adProxy.isBannerAd()&&(c=this.data.image_url);if(this.adProxy.isSplashAd()){var _;if(!v.exp_tids)v.exp_tids=this.adProxy.getExpTidForReport(null===(_=this.adProxy)||void 0===_?void 0:_.splashExpCondition);v.showInfo=this.adProxy.showInfo}u=JSON.stringify(v)}if("cpsShopAd"===this.adType&&null!==(p=this.data)&&void 0!==p&&null!==(h=p.extBackComm)&&void 0!==h&&h.cpsProduct&&(u=JSON.stringify({trace_id:this.data.extBackComm.cpsProduct.trace_id,product_id:this.data.extBackComm.cpsProduct.product_id})),d&&"string"!=typeof d)try{d instanceof Error&&(d=this.processStackMsg(d)),d=JSON.stringify(d)}catch(e){d=d.toString()}}catch(e){var A;e instanceof Error&&(d=this.processStackMsg(e)),c="",u=null===(A=this.data)||void 0===A?void 0:A.crt_size}return this.reportMMData(16295,{id_key:s,id_key_group:null!==(a=null!==(n=l)&&void 0!==n?n:Ft[this.adType])&&void 0!==a?a:924,report_time:+new Date,source_url:c,expand_feild:u,expand_feild2:d,scene:this.adProxy.scene||0,crt_exp_tid:(null===(r=this.data)||void 0===r?void 0:r.crt_exp_tid)||0,template_id:(null===(o=this.data)||void 0===o?void 0:o.templId)||0})}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:i=0,posType:a,ace_type:n,exposure_duration:r=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:i,pos_type:a,ace_type:n,exposure_duration:r})}reportAdFeedbackData(e){var t,i;return this.reportMMData(17045,{appid:ao.gameAppId,weapp_path:no.weappPath,ad_unit_id:this.adUnitId,device_type:ao.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:ao.screenHeight,screen_width:ao.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:Dt[this.adType],service_type:ao.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(i=e.clickAdTimeMs)&&void 0!==i?i:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify({})})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:i,preloadVideoSuccess:a,videoFirstPlay:n,cardFirstShow:r,clickCard:o,pressInterval:s,currentPlayUrl:l,lastFetchUrl:d,isEnded:u,videoDuration:c}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:i,preload_video_success:a,video_first_play_ts:n,card_first_show_ts:r,click_card_ts:o,press_interval:s,current_play_url:l,last_fetch_url:d,is_ended:u?1:0,video_duration:c})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:i=0,preloadVideo:a=0,preloadVideoSuccess:n=0,reportType:r=0}){var o=t-i-e;return o>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:i,load_cost_time:o,preload_video:a,preload_video_success:n,report_type:r}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:i,lastClkPeriod:a,retCode:n,costTime:r,pageStayTime:o,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:i,currenttime:+new Date,lastclkperiod:a,retcode:n,costtime:r,pagestaytime:o,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:i,closeTime:a,stayTime:n,jsapiName:r,clickTime:o,clkCnt:s,retCode:l,costTime:d,actTypeInt:u,actTypeStr:c}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:o,opentime:i,closetime:a,staytime:n,jsapiname:r,clkcnt:s,retcode:l,costtime:d,act_type_int:u,act_type_str:c})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:i,touchEndY:a,touchDuration:n,screenWidth:r,screenHeight:o,clkTime:s,playTime:l,isShield:d}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:i,touch_end_y:a,touch_duration:n,screenwidth:r,screenheight:o,clk_timems:s,play_timems:l,is_shield:d})}reportBannerLastClick({lastClickArr:e,top:t,left:i,width:a,height:n,expMs:r,clickMs:o,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:d}){return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:i,banner_width:a,banner_height:n,exp_ms:r,clk_ms:o,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:d,slotid:Dt[this.adType]})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:i}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:i,show_delay_duration:0===t?0:i-t,fetch_duration:i-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:Dt[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){var i=[e,t].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"GameADFunnelModel",value:i,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){var t=Rt[this.adType]||"viewable";if(ao.isWaGame&&e===t){var i=this.analyseBranchInfo;i&&("release"!==ao.envVersion&&this.adProxy.reportAnalyseDebugInfo(i),this.reportMMData(20317,{branch_id:i.branchId,branch_dim:i.branchDim}))}}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:i,gaussVideoUrl:a,expUseGaussVideo:n,expUseExpandStyle:r}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:i,gauss_video_url:a,use_expand_style:t?1:0,exp_use_gauss_video:n,exp_use_expand_style:r})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:i,adExpTime:a,adClkX:n,adClkY:r,adWidth:o,adHeight:s,isGame:l,costtype:d}){this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:i,ad_exp_time:a,ad_clk_x:n,ad_clk_y:r,ad_width:o,ad_height:s,is_game:l,costtype:d})}reportBannerShowAction({slotid:e,costtype:t,isGame:i,type:a,TimeMs:n,PageX:r,PageY:o,screenX:s,screenY:l,adWidth:d,adHeight:u,ScreenWidth:c,ScreenHeight:p}){this.reportMMData(25534,{slotid:e,costtype:t,is_game:i,adunitid:this.adUnitId,weapp_path:no.weappPath,type:a,time_ms:n,pagex:r,pagey:o,screenx:s,screeny:l,adwidth:d,adheight:u,screenwidth:c,screenheight:p})}reportShareBehavior({operation:e,currentShow:t,inviteUser:i,inviteUserAdunit:a,strategy:n,shareValue:r,rewardValue:o,depositAmount:s}){this.reportMMData(26227,{adunitid:this.adUnitId,operation:e,cur_show:t,strategy:n,invite_user_openid:i,invite_user_adunit:a,expand_field:JSON.stringify({shareValue:r,rewardValue:o,depositAmount:s})})}reportDestroyBehavior({costType:e,isGame:t,videoDuration:i,destroyTime:a,playStartTime:n,playDuration:r,isEnded:o,isAdClk:s,adClkTime:l,isAdLandPage:d,adLandpageTime:u,isShowStatus:c,isVisible:p,isOnLandpage:h}){this.reportMMData(26640,{adunitid:this.adUnitId,weapppath:no.weappPath,costtype:e,is_game:t,video_duration:i,destroy_timems:a,play_start_timems:n,play_duration_ms:r,is_ended:o,is_ad_clk:s,ad_clk_timems:l,is_ad_landpage:d,ad_landpage_timems:u,is_show_status:c,is_visible:p,is_on_landpage:h})}reportGameCenterGift({actionId:e,giftId:t}){this.reportMMData(20267,{SceneID:67,UIArea:6702,PositionID:1,SSID:30,ActionID:e,ExternInfo:JSON.stringify({gifttype:1,giftid:t,advertisetype:1,game_name:this.data.weapp_info.appid})})}},c()(Ir.prototype,"getTimePoint",[jn],Object.getOwnPropertyDescriptor(Ir.prototype,"getTimePoint"),Ir.prototype),c()(Ir.prototype,"setTimePoint",[Gn],Object.getOwnPropertyDescriptor(Ir.prototype,"setTimePoint"),Ir.prototype),c()(Ir.prototype,"cacheTimePoints",[zn],Object.getOwnPropertyDescriptor(Ir.prototype,"cacheTimePoints"),Ir.prototype),c()(Ir.prototype,"clearTimePoints",[$n],Object.getOwnPropertyDescriptor(Ir.prototype,"clearTimePoints"),Ir.prototype),c()(Ir.prototype,"reportTimePoints",[Qn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportTimePoints"),Ir.prototype),c()(Ir.prototype,"reportCloseAction",[qn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportCloseAction"),Ir.prototype),c()(Ir.prototype,"reportAdEntranceExposure",[Yn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAdEntranceExposure"),Ir.prototype),c()(Ir.prototype,"reportTouchClick",[Zn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportTouchClick"),Ir.prototype),c()(Ir.prototype,"reportCancelRewardPlayablePage",[Kn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportCancelRewardPlayablePage"),Ir.prototype),c()(Ir.prototype,"reportMMData",[Xn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportMMData"),Ir.prototype),c()(Ir.prototype,"reportAbnormalDetect",[Jn],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAbnormalDetect"),Ir.prototype),c()(Ir.prototype,"reportAdIDKey",[er],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAdIDKey"),Ir.prototype),c()(Ir.prototype,"processStackMsg",[tr],Object.getOwnPropertyDescriptor(Ir.prototype,"processStackMsg"),Ir.prototype),c()(Ir.prototype,"reportAdIDKeyErrorData",[ir],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAdIDKeyErrorData"),Ir.prototype),c()(Ir.prototype,"reportAdMonitorData",[ar],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAdMonitorData"),Ir.prototype),c()(Ir.prototype,"reportEndPage",[nr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportEndPage"),Ir.prototype),c()(Ir.prototype,"reportAdFeedbackData",[rr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAdFeedbackData"),Ir.prototype),c()(Ir.prototype,"reportBehaviorButton",[or],Object.getOwnPropertyDescriptor(Ir.prototype,"reportBehaviorButton"),Ir.prototype),c()(Ir.prototype,"reportVideoLoadTime",[sr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportVideoLoadTime"),Ir.prototype),c()(Ir.prototype,"reportRepeatClick",[lr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportRepeatClick"),Ir.prototype),c()(Ir.prototype,"reportLandingTime",[dr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportLandingTime"),Ir.prototype),c()(Ir.prototype,"reportVideoLastClick",[ur],Object.getOwnPropertyDescriptor(Ir.prototype,"reportVideoLastClick"),Ir.prototype),c()(Ir.prototype,"reportBannerLastClick",[cr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportBannerLastClick"),Ir.prototype),c()(Ir.prototype,"reportRelationFetchDuration",[pr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportRelationFetchDuration"),Ir.prototype),c()(Ir.prototype,"reportMMClickPos",[hr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportMMClickPos"),Ir.prototype),c()(Ir.prototype,"reportADFunnelModel",[fr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportADFunnelModel"),Ir.prototype),c()(Ir.prototype,"recordAnalyseBranchInfo",[mr],Object.getOwnPropertyDescriptor(Ir.prototype,"recordAnalyseBranchInfo"),Ir.prototype),c()(Ir.prototype,"resetAnalyseBranchInfo",[vr],Object.getOwnPropertyDescriptor(Ir.prototype,"resetAnalyseBranchInfo"),Ir.prototype),c()(Ir.prototype,"reportAnalyseInfo",[yr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportAnalyseInfo"),Ir.prototype),c()(Ir.prototype,"reportRewardGaussVideo",[gr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportRewardGaussVideo"),Ir.prototype),c()(Ir.prototype,"reportPopupClickAction",[_r],Object.getOwnPropertyDescriptor(Ir.prototype,"reportPopupClickAction"),Ir.prototype),c()(Ir.prototype,"reportBannerShowAction",[Ar],Object.getOwnPropertyDescriptor(Ir.prototype,"reportBannerShowAction"),Ir.prototype),c()(Ir.prototype,"reportShareBehavior",[Er],Object.getOwnPropertyDescriptor(Ir.prototype,"reportShareBehavior"),Ir.prototype),c()(Ir.prototype,"reportDestroyBehavior",[Cr],Object.getOwnPropertyDescriptor(Ir.prototype,"reportDestroyBehavior"),Ir.prototype),c()(Ir.prototype,"reportGameCenterGift",[br],Object.getOwnPropertyDescriptor(Ir.prototype,"reportGameCenterGift"),Ir.prototype),Ir),{_requestSkipCheckDomain:oo,deviceInfo:so,appRouteInfo:lo,getIndentityInfo:uo,invokeMethod:co}=i,po=1,ho=new Set,fo=(Tr=Mi(),wr=Mi(),kr=Mi(),Sr=Mi(),xr=Mi(),Pr=Mi(),Dr=Mi(),Or=Mi(),Rr=Mi(),Mr=Mi(),Nr=Mi(),Lr=Mi(),Br=Mi(),Wr=Mi(),Fr=Mi(),Vr=Mi(),Ur=Mi(),Hr=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=po,po+=1,ho.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){var t=5;return this.adProxy.isRewardedVideoAd()?t=6:[En.CRT_SIZE_TABLE_SCREEN_IMAGE,En.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),O({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(lt.mmD,e),e}))}getExtraExpOrClkData(e){var t,i=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?i=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(i=[{idx:0,waid:this.data.waid}]);var a,n,r={...uo(),weapp_enter_scene:(null===p.default||void 0===p.default||null===(t=p.default.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(i)},o={...r},s={...r};if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var l,d={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(l=e.multiList)||void 0===l||l.forEach((e=>{var t=this.datas[e];t.extBackComm&&d.viewid.push(t.extBackComm.viewid),d.s_pt.push(t.pt),d.s_aid.push(t.aid),d.s_trace_id.push(t.traceid)})),o.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:d.viewid}),s_trace_id:JSON.stringify(d.s_trace_id),s_aid:JSON.stringify(d.s_aid),s_pt:JSON.stringify(d.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var u,c=this.adProxy.adDataIndex;s.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(u=this.data.extBackComm)||void 0===u?void 0:u.viewid,box_index:c}}if("customAd"===this.adType){var h,f=null===(h=this.data.extBackComm)||void 0===h?void 0:h.sub_templ_id;f&&(o.sub_templ_id=f,s.sub_templ_id=f)}("rewardedVideoAd"===this.adType&&this.data.isPlayable&&(o.is_playable=1,s.is_playable=1),"splashAd"===this.adType)&&(s.weapp_display_mode=null===(a=this.adProxy.showInfo)||void 0===a?void 0:a.displayMode,o.weapp_display_mode=null===(n=this.adProxy.showInfo)||void 0===n?void 0:n.displayMode);if(["interstitialAd","rewardedVideoAd","customAd"].includes(this.adType)&&e.videoData){var{currentTime:m,duration:v}=e.videoData;(m||v)&&(s.video_play_time=m,s.video_duration=v)}return"exposure"===e.reportType&&e.extExposureComm&&(o={...o,...e.extExposureComm}),"click"===e.reportType&&e.extClickComm&&(s={...s,...e.extClickComm}),{extExposureComm:o,extClickComm:s}}reportExpOrClk(e){var t=3;if("exposure"===e.reportType?(t={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var i=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),co("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})})})),this.adProxy.setCurrentData(i)}else co("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t})});var{extExposureComm:a,extClickComm:n}=this.getExtraExpOrClkData(e),r=this.getExpOrClkCommonArgs(e),o="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:0,ext_click_comm:JSON.stringify(n)}:{exposure_type:jt[e.exposureType],ext_exposure_comm:JSON.stringify(a)};return O({apiName:"advert_report",reqData:{...r,...o,report_type:Ht[e.reportType],weapp_extra_data:JSON.stringify(r.weapp_extra_data),ad_group_id:r.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:r.weapp_gh_id}})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:Dt[this.adType],pos_type:Ut[this.adType],sdk_version:so.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:so.startTime.valueOf(),wegame_enter_ts:lo.enterForegroundTime.valueOf(),wegame_user_duration:lo.gameDuration+(Date.now()-lo.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:{...this.getWeappExtraData(),...e.weappExtraData||{}}}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk({reportType:"click",...e}).catch((e=>{throw this.reportAdMonitorData(lt.dNr,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk({reportType:"exposure",...e}).catch((e=>{throw this.reportAdMonitorData(lt.iTY,e),e}))}reportFlooringPage(e,t){var i={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:so.gameAppId,orig_weapp_id:this.pluginAppid?so.gameAppId:""},a=null==t?void 0:t.map((e=>({...i,...e}))),n={};return 1===e?n.rewared_video_ending_page_a=a:2===e&&(n.rewared_video_ending_page_b=a),O({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(n)}})}reportAntifraud(e){var t={...e,aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:so.gameAppId,orig_weapp_id:this.pluginAppid?so.gameAppId:"",network_type:so.adNetworkType,wechat_version:so.wechatVersion,platform:so.platform,system_version:so.systemVersion,device_orientation:so.deviceOrientation,wxapp_lib_version:so.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:so.brand||"",machine_type:so.model||"",clientimptime:this.lastAdReqTs},i={};return i.antifraud_table_screen_report=[t],O({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(i)}})}reportVideo({playType:e,conditionType:t,muted:i,playDuration:a,videoDuration:n,rewardedTime:r,isRewarded:o,index:s=0}){var l;if(null===(l=this.datas)||void 0===l||!l[s])return Promise.resolve();var d="0",u=decodeURIComponent(this.datas[s].apurl);/viewid=([^&]+)/.test(u)&&(d=/viewid=([^&]+)/.exec(u)[1]);var c=O({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.datas[s].aid,10),traceid:this.datas[s].traceid,trace_id:this.datas[s].traceid,viewid:d,video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:a,video_duration:n,auto_play:!0,muted:i,rewarded_time:r&&Math.min(r,n),is_rewarded:o},report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5}[t]}});return this.lastVideoReportTime=a,c}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:po-1,ad_unit_number:ho.size,ad_index:this.index,page_enter_time:lo.enterForegroundTime.valueOf(),phone_screen_width:so.screenWidth,phone_screen_height:so.screenHeight}}getWeappExtraData(){var e,t,i,a;return{weixin_version:so.wechatVersion,os_version:so.systemVersion,machine_brand:so.brand||"",machine_type:so.model,network_type:so.adNetworkType,start_ts:so.startTime.valueOf(),enter_ts:lo.enterForegroundTime.valueOf(),user_duration:lo.gameDuration+(Date.now()-lo.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=p.default.host)||void 0===e?void 0:e.env,app_appid:null===(t=p.default.host)||void 0===t?void 0:t.appId,host_version:null===(i=p.default.host)||void 0===i?void 0:i.version,local_wechat_version:null===(a=p.default.host)||void 0===a?void 0:a.localWeChatVersion,data_index:this.adProxy.adDataIndex,data_count:this.adProxy.datas.length}}composeExposureCommonInfo({top:e=0,left:t=0,width:i=0,height:a=0,adType:n="rewardedVideoAd",inputWeappExtraData:r={}}){var o;try{o=this.data.weapp_info.original_id}catch(e){}var s={...uo()},l={...this.getWeappExtraData(),...r||{}},d=this.getWxaReportDetail({top:e,left:t}),u={report_type:0,pos_id:Dt[this.adType],sdk_version:so.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:o,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:i,ad_h:a,from_game:1,from_h5:0,wegame_start_ts:so.startTime.valueOf(),wegame_enter_ts:lo.enterForegroundTime.valueOf(),wegame_user_duration:lo.gameDuration+(Date.now()-lo.enterForegroundTime.getTime()),pos_type:Ut[n],wxa_report_detail:d,weapp_extra_data:JSON.stringify(l),ext_exposure_comm:JSON.stringify(s)};return JSON.stringify(u)}reportInstallFollow(e){var{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&O({apiName:"advert_report",reqData:{report_action:"comm_real_report",report_data_json:JSON.stringify(e)}})}reportAnalyseDebugInfo(e){var t=Mt[this.adType];return t||this.reportAdMonitorData(lt.p_g,new Error(`invalid reportType ${this.adType}`)),O({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(lt.p_g,e)}))}reportIPV4(){setTimeout((()=>{try{var e,t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&oo({url:(0,E.Uj)(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},c()(Hr.prototype,"getLastClickTime",[Tr],Object.getOwnPropertyDescriptor(Hr.prototype,"getLastClickTime"),Hr.prototype),c()(Hr.prototype,"getLastAdReqTs",[wr],Object.getOwnPropertyDescriptor(Hr.prototype,"getLastAdReqTs"),Hr.prototype),c()(Hr.prototype,"setLastExposureTime",[kr],Object.getOwnPropertyDescriptor(Hr.prototype,"setLastExposureTime"),Hr.prototype),c()(Hr.prototype,"setLastClickTime",[Sr],Object.getOwnPropertyDescriptor(Hr.prototype,"setLastClickTime"),Hr.prototype),c()(Hr.prototype,"setLastAdReqTs",[xr],Object.getOwnPropertyDescriptor(Hr.prototype,"setLastAdReqTs"),Hr.prototype),c()(Hr.prototype,"reportFollow",[Pr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportFollow"),Hr.prototype),c()(Hr.prototype,"getExpOrClkCommonArgs",[Dr],Object.getOwnPropertyDescriptor(Hr.prototype,"getExpOrClkCommonArgs"),Hr.prototype),c()(Hr.prototype,"reportClick",[Or],Object.getOwnPropertyDescriptor(Hr.prototype,"reportClick"),Hr.prototype),c()(Hr.prototype,"reportExposure",[Rr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportExposure"),Hr.prototype),c()(Hr.prototype,"reportFlooringPage",[Mr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportFlooringPage"),Hr.prototype),c()(Hr.prototype,"reportAntifraud",[Nr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportAntifraud"),Hr.prototype),c()(Hr.prototype,"reportVideo",[Lr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportVideo"),Hr.prototype),c()(Hr.prototype,"getWxaReportDetail",[Br],Object.getOwnPropertyDescriptor(Hr.prototype,"getWxaReportDetail"),Hr.prototype),c()(Hr.prototype,"composeExposureCommonInfo",[Wr],Object.getOwnPropertyDescriptor(Hr.prototype,"composeExposureCommonInfo"),Hr.prototype),c()(Hr.prototype,"reportInstallFollow",[Fr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportInstallFollow"),Hr.prototype),c()(Hr.prototype,"reportAnalyseDebugInfo",[Vr],Object.getOwnPropertyDescriptor(Hr.prototype,"reportAnalyseDebugInfo"),Hr.prototype),c()(Hr.prototype,"reportIPV4",[Ur],Object.getOwnPropertyDescriptor(Hr.prototype,"reportIPV4"),Hr.prototype),Hr);var mo,vo,yo,go,_o,Ao,Eo,Co,bo,Io,To,wo,ko,So,xo,Po,Do,Oo,Ro,Mo,No,Lo,Bo,Wo,Fo,Vo,Uo,Ho,jo,Go,zo,$o,Qo,qo,Yo,Zo,Ko,Xo,Jo,es,ts,is,as,ns,rs,os,ss,ls,ds,us,cs,ps,hs,fs,ms,vs,ys,gs,_s,As,Es,Cs,bs,Is,Ts,ws,ks,Ss,xs,Ps,Ds,Os,Rs,Ms,Ns,Ls,Bs,{showToast:Ws,deviceInfo:Fs,invokeMethod:Vs}=i,Us=(jr=Mi(),Gr=Mi(),zr=Mi(),$r=Mi(),Qr=Mi(),qr=Mi(),Yr=Mi(),Zr=Mi(),Kr=Mi(),Xr=Mi(),Jr=Mi(),eo=Mi(),to=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get data(){return this.adProxy.data}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}getFullRl(){var{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){var i={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:Fs.isWaGame?147:140};return dn(t,i)}getSkAdItem(){var e,t=null,i=this.data;if(null!=i&&null!==(e=i.extBackComm)&&void 0!==e&&e.sk_ad_items)try{[t]=JSON.parse(i.extBackComm.sk_ad_items)}catch(e){}return t}isPrefetch(e){var t,i,a,n,r,o,s,l,d={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(i=t[0])||void 0===i||null===(a=i.wxgame_video_card)||void 0===a||null===(n=a.flooring_page)||void 0===n?void 0:n.page_url}[e],u={url:this.data.dest_type===hn,jump_url:(null===(r=this.data.button_action)||void 0===r?void 0:r.jump_type)===hn,playable_url:!0}[e];return d&&u&&Boolean(null===(o=this.data)||void 0===o||null===(s=o.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){var t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1,isAddContact:t=!1,extraUrlParam:i}={}){var a=this;return s()((function*(){var{dest_type:n,product_type:r,url:o,extInfo:s}=a.data,l={isButton:e,extraUrlParam:i};try{var d;null!=s&&null!==(d=s.app_gift_pack_code)&&void 0!==d&&d.code&&(yield a.adProxy.setClipboardData({data:s.app_gift_pack_code.code}),Ws({duration:1500,title:"礼包码复制成功",icon:"success",mask:!1}),a.adProxy.reportAdMonitorData(lt.y5M))}catch(e){a.adProxy.reportAdMonitorData(lt.WGO)}if(!e){if(a.isPrefetch("url")&&a.adProxy.reportAdMonitorData(lt.tRL),[12,19].indexOf(r)>-1){var u,c,{app_info:{url_scheme:p}}=a.data;if(Fs.isIOS)u=JSON.stringify({aid:a.data.aid,ad_uid:null===(c=a.data.extBackComm)||void 0===c?void 0:c.uid,scene_id:4001});var h=a.getSkAdItem();if(p&&p.trim().length>0){if(Fs.isAndroid&&!a.isAppInstalled){try{return yield a.openMachineMarket()}catch(e){}return a.landPage(n,o,l)}return a.adProxy.launchApplication({schemeUrl:p,isIosDirect:Fs.isIOS,appInfo:a.data.app_info,extraData:u,skAdItem:h},a.data).catch((e=>(null!==h&&a.reportAdMonitorData(lt.HoH,e),a.landPage(n,o,l))))}try{return yield a.openMachineMarket()}catch(e){}return a.landPage(n,o,l)}if(r===Cn.WE_CHAT_SHOP){try{return yield a.openShopScheme()}catch(e){}return a.landPage(n,o,l)}return a.landPage(n,o,l)}a.isPrefetch("jump_url")&&a.adProxy.reportAdMonitorData(lt.T8M);var{button_action:{jump_type:f,jump_url:m}}=a.data;if(r===Cn.IOS)return a.openAppStore(f,m,l);if(r!==Cn.WE_CHAT||!t){if(r===Cn.WE_CHAT_SHOP){try{return yield a.openShopScheme()}catch(e){}return a.landPage(f,m,l)}try{return yield a.openMachineMarket()}catch(e){}return a.landPage(f,m,l)}var v,{biz_info:{user_name:y,is_subscribed:g}}=a.data;if(g)return 10===f?a.landPage(f,o,l):S({url:a.getFollowPageUrl(a.data,m),adInfo:a.getTransmissionChainData({logtype:3}),adUxInfo:null===(v=a.data)||void 0===v?void 0:v.uxinfo});try{var _,A=yield a.adProxy.addContact({username:y,isWaGame:Fs.isWaGame}),{ext_info:E,uxinfo:C}=a.data;try{_=JSON.parse(E)}catch(e){}if(/ok|added/.test(A.errMsg)&&_&&_.guide_group_id&&C)try{yield(({guide_group_id:e,uxinfo:t})=>O({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>{if("ok"===e.msg)return e;throw e})))({guide_group_id:_.guide_group_id,uxinfo:C}),a.adProxy.reportAdIDKey({key:lt.kqm})}catch(e){a.reportAdMonitorData(lt.eiL,e)}return A}catch(e){if(/cancel/.test(e.errMsg))return e;throw a.reportAdMonitorData(lt.rh6,e),e}}))()}landPage(e,t,i){var a={},n={};if(i.extraUrlParam)for(var r of Object.keys(i.extraUrlParam)){var o=i.extraUrlParam[r];Array.isArray(o)&&"private"===o[1]&&null!=o[0]?[a[r]]=o:Array.isArray(o)?[n[r]]=o:n[r]=o}var s,l=dn(t,i.extraUrlParam);if(e===fn&&Fs.isIOS){var d,{app_info:{appinfo_url:u}}=this.data,c=JSON.stringify({aid:this.data.aid,ad_uid:null===(d=this.data.extBackComm)||void 0===d?void 0:d.uid,scene_id:4001}),p=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:u,extraData:c,skAdItem:p},this.data).catch((e=>{var t;return null!==p&&this.reportAdMonitorData(lt.HoH,e),S({url:u,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(lt.O4Y,e),e}))}))}if(e===mn)return S({url:this.getFollowPageUrl(this.data,l),adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(s=this.data)||void 0===s?void 0:s.uxinfo}).catch((e=>{throw this.reportAdMonitorData(lt.O4Y,e),e}));if(e===vn){var{weapp_info:{appid:h},traceid:f,aid:m,uxinfo:v}=this.data;return P({appId:h,path:l,privateExtraData:a,traceid:f,aid:m,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:v}).catch((e=>{throw this.reportAdMonitorData(lt.GqW,e),e}))}if(e===yn){var{canvas_info:y,pos_type:g}=this.data;return x({canvasInfo:y,posType:g}).catch((e=>{throw this.reportAdMonitorData(lt.llv,e),e}))}if(10===e){var{biz_info:{user_name:_}}=this.data;return this.adProxy.openProfile({username:_}).catch((e=>{throw e}))}return e===gn?this.jumpChannels("activity",i):e===_n?this.jumpChannels("live",i):e===An?this.jumpChannels("userProfile",i):S({url:l,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(lt.O4Y,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}validateChannelsInfo(e,t){return t?["live","activity"].includes(e)&&!t.id||!t.nonce_id?"channelsInfo.id 或 channelsInfo.nonce_id 不可为空":t.username?null:"channelsInfo.username 不可为空":"channelsInfo 不可为空"}jumpChannels(e,{isButton:t}){var i=this;return s()((function*(){var a,n,r,o,s={activity:lt.zYu,live:lt.cYQ,userProfile:lt.qUK}[e],l={activity:lt.Lko,live:lt.qa9,userProfile:lt.M2X}[e],d=null===(a=i.data)||void 0===a?void 0:a.extBackComm.channels_info,u=i.validateChannelsInfo(e,d);if(u)i.reportAdMonitorData(l,{message:u,channelsInfo:d});else{var{crt_size:c,apurl:p,rl:h,crtInfo:f}=i.data,m=null==f||null===(n=f[0])||void 0===n||null===(r=n.card_info)||void 0===r||null===(o=r.tag_button_info)||void 0===o?void 0:o.tag_desc,v={feedId:d.id,nonceId:d.nonce_id,finderUserName:d.username,reportExtraInfo:i.getChannelsExtraInfo(t?Ln:Nn)};if("live"===e&&c===En.CRT_SIZE_REWARD_LANDINGPAGE&&i.adProxy.getChannelsLiveStatusWithRpc().then((e=>{"onlive"!==e&&i.reportAdMonitorData(lt.L6h,{status:e})})),d){if("activity"===e&&c===En.CRT_SIZE_REWARD_LANDINGPAGE)try{var y=yield i.adProxy.openChannelsRewardedVideoAd({...v,expReportLink:p,clkReportLink:h,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:Fs.screenWidth,height:Fs.screenHeight}),clickPosMap:{follow:wn,like:kn,comment:Sn,headimage:xn,nickname:Pn,forward:Dn},marketingWord:m,feedbackUrl:i.getFeedbackUrl(Fs.isWaGame?1003:1005)});return i.reportAdMonitorData(s),y}catch(y){i.reportAdMonitorData(l,y)}else if("live"===e&&c===En.CRT_SIZE_REWARD_LANDINGPAGE)try{var g=yield i.adProxy.openChannelsLive({...v,expReportLink:p,clkReportLink:h,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:Fs.screenWidth,height:Fs.screenHeight}),feedbackUrl:i.getFeedbackUrl(Fs.isWaGame?1003:1005),adJSAPIType:1});return i.reportAdMonitorData(s,{closeType:(null==g?void 0:g.closeType)||0}),g}catch(y){i.reportAdMonitorData(l,y)}try{var _;switch(e){case"activity":_=yield i.adProxy.openChannelsRewardedVideoAd({...v,adJSAPIType:1});break;case"live":_=yield i.adProxy.openChannelsLive(v);break;case"userProfile":_=yield i.adProxy.openChannelsUserProfile(v)}return i.reportAdMonitorData(s),_}catch(e){i.reportAdMonitorData(l,e)}}i.reportAdMonitorData(l,new Error("channelsInfo is empty"))}}))()}openAppStore(e,t,i){var a,{app_info:{appinfo_url:n,url_scheme:r},extBackComm:o}=this.data,s=JSON.stringify({aid:this.data.aid,ad_uid:null===(a=this.data.extBackComm)||void 0===a?void 0:a.uid,scene_id:4001}),l=this.getSkAdItem();return r&&r.trim().length>0?this.adProxy.launchApplication({schemeUrl:r,isIosDirect:!0,appInfo:this.data.app_info,extraData:s,skAdItem:l},this.data).catch((()=>this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((e=>{var t;return null!==l&&this.reportAdMonitorData(lt.HoH,e),S({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(lt.O4Y,e),e}))})))):o.is_from_snsadinfo?this.landPage(e,t,i):this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((()=>{var e;return S({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(e=this.data)||void 0===e?void 0:e.uxinfo}).catch((e=>{throw this.reportAdMonitorData(lt.O4Y,e),e}))}))}preloadLanding(){try{if(6===this.data.dest_type){var e;e=[this.data.weapp_info.appid],[].push({appId:(i=this.data).weapp_info&&i.weapp_info.appid,appType:46==i.product_type?1004:1e3,path:i.url,openRate:i.extBackComm&&i.extBackComm.pctr||0}),Vs("batchGetContact",{appIds:e});var t="app";this.data.product_type===Cn.MINI_GAME&&(t="game"),(Fs.isAndroid||"app"===t)&&Vs("preloadMiniProgramEnv",{type:t,success:e=>{this.reportAdMonitorData(lt.Ay2,e)},fail:e=>{this.reportAdMonitorData(lt.OMo,e)}});Vs("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:5,success:e=>{this.reportAdMonitorData(lt.qkx,e)},fail:e=>{this.reportAdMonitorData(lt.QFQ,e)}})}}catch(e){}var i}checkFollow(e){return s()((function*(){var{data:t}=yield O({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===t.is_subscribed}))()}getFeedbackUrl(e){var t=this.data.material_id_list||[],i=encodeURIComponent(`[${t.toString()}]`)||"";return dn("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:i||"",machine_type:Fs.model,publisher_appid:Fs.gameAppId})}openFeedbackUrl(e){var t=this.getFeedbackUrl(e);return S({url:t})}checkPreloadH5Page(){var e=this;return s()((function*(){var t,i,a,n,r,o=new Set,{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,d=null===(i=e.data.crtInfo)||void 0===i||null===(a=i[0])||void 0===a||null===(n=a.wxgame_video_card)||void 0===n||null===(r=n.flooring_page)||void 0===r?void 0:r.page_url;e.isPrefetch("url")&&("1"!==an(s).prefetch&&(s=dn(s,{prefetch:1}),e.data.url=s),o.add(s)),e.isPrefetch("jump_url")&&("1"!==an(l).prefetch&&(l=dn(l,{prefetch:1}),e.data.button_action.jump_url=l),o.add(l)),e.isPrefetch("playable_url")&&("1"!==an(d).prefetch&&(d=dn(d,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=d),o.add(d));var u=[...o].map((e=>({url:e,bizScene:20002})));if(u.length)try{yield e.adProxy.preloadH5Page({urlList:u}),e.reportAdMonitorData(lt.qg0)}catch(t){e.reportAdMonitorData(lt.D7b,t)}}))()}openShopScheme(){var e=this;return s()((function*(){var{app_info:{url_scheme:t},product_type:i}=e.data;if(!t||i!==Cn.WE_CHAT_SHOP||!Fs.isIOS&&!Fs.isAndroid)throw"openShopScheme: fail no need";try{var a={schemeUrl:t};Fs.isIOS&&(a.messageExt=t),e.data.uxinfo&&(a.bizInfo=e.data.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:3}}));var n=yield e.adProxy.launchApplicationOrigin(a);return e.reportAdMonitorData(lt.sEh),n}catch(t){throw e.reportAdMonitorData(lt.n8g,t),t}}))()}shouldOpenMachineMarket(){var{product_type:e,extBackComm:t}=this.data;return!this.adProxy.isSplashAd()&&Fs.isAndroid&&e===Cn.ANDROID&&!this.isAppInstalled&&(null==t?void 0:t.market_scheme)}openMachineMarket(){var e=this;return s()((function*(){var{extBackComm:t}=e.data;if(!e.shouldOpenMachineMarket())throw"openMachineMarket: fail no need";try{var i={schemeUrl:t.market_scheme};e.data.uxinfo&&(i.bizInfo=e.data.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:4}}));var a=yield e.adProxy.launchApplicationOrigin(i);return e.reportAdMonitorData(lt.fn9),a}catch(t){throw e.reportAdMonitorData(lt.yKb,t),t}}))()}},c()(to.prototype,"isPrefetch",[jr],Object.getOwnPropertyDescriptor(to.prototype,"isPrefetch"),to.prototype),c()(to.prototype,"getTransmissionChainData",[Gr],Object.getOwnPropertyDescriptor(to.prototype,"getTransmissionChainData"),to.prototype),c()(to.prototype,"setAppInstallState",[zr],Object.getOwnPropertyDescriptor(to.prototype,"setAppInstallState"),to.prototype),c()(to.prototype,"land",[$r],Object.getOwnPropertyDescriptor(to.prototype,"land"),to.prototype),c()(to.prototype,"landPage",[Qr],Object.getOwnPropertyDescriptor(to.prototype,"landPage"),to.prototype),c()(to.prototype,"getChannelsExtraInfo",[qr],Object.getOwnPropertyDescriptor(to.prototype,"getChannelsExtraInfo"),to.prototype),c()(to.prototype,"openAppStore",[Yr],Object.getOwnPropertyDescriptor(to.prototype,"openAppStore"),to.prototype),c()(to.prototype,"preloadLanding",[Zr],Object.getOwnPropertyDescriptor(to.prototype,"preloadLanding"),to.prototype),c()(to.prototype,"checkFollow",[Kr],Object.getOwnPropertyDescriptor(to.prototype,"checkFollow"),to.prototype),c()(to.prototype,"getFeedbackUrl",[Xr],Object.getOwnPropertyDescriptor(to.prototype,"getFeedbackUrl"),to.prototype),c()(to.prototype,"openFeedbackUrl",[Jr],Object.getOwnPropertyDescriptor(to.prototype,"openFeedbackUrl"),to.prototype),c()(to.prototype,"checkPreloadH5Page",[eo],Object.getOwnPropertyDescriptor(to.prototype,"checkPreloadH5Page"),to.prototype),to),Hs=a(662),js=a.n(Hs),{getChannelsLiveInfo:Gs,_getNetworkType:zs,invokeMethod:$s,invoke:Qs,vibrateShort:qs,vibrateLong:Ys}=(a(669),i),Zs=["private_openUrl","navigateToMiniProgram","openADCanvas","openChannelsRewardedVideoAd","openChannelsUserProfile","openChannelsLive","launchApplication"],Ks=e=>t=>new Promise(((i,a)=>{e(Object.assign({},t,{success:i,fail:a}))})),Xs=(e,t,i)=>{var a;e.errMsg=e.errMsg||`${t}:ok`;var n,r=0===e.errMsg.indexOf(`${t}:ok`),o=0===e.errMsg.indexOf(`${t}:fail`);if(r)null==i||null===(n=i.success)||void 0===n||n.call(i,e);else if(o){var s;null==i||null===(s=i.fail)||void 0===s||s.call(i,e)}null==i||null===(a=i.complete)||void 0===a||a.call(i,e)},Js=({username:e,success:t,fail:i,complete:a})=>{$s("profile",{username:e,scene:75,success:t,fail:i,complete:a})},el=({username:e,isWaGame:t,success:i,fail:a,complete:n})=>{$s("private_addContact",{username:e,scene:t?146:139,webtype:1,success:i,fail:a,complete:n})},tl=({schemeUrl:e,isIosDirect:t,appInfo:i,extraData:a,skAdItem:n,bizInfo:r,sourceInfo:o,success:s,fail:l,complete:d})=>{var u={};t&&(u.appId=i.app_id,u.installSchemeUrl=i.appinfo_url,null!==n?(u.installAction=1,u.skAdItem=n):u.installAction=0),a&&(u.extraData=a),r&&(u.bizInfo=r),o&&(u.sourceInfo=o),$s("launchApplication",Object.assign(u,{schemeUrl:e,operateDirectly:1,success:s,fail:l,complete:d}))},il=({schemeUrl:e,messageExt:t,bizInfo:i,sourceInfo:a,success:n,fail:r,complete:o})=>{var s={};t&&(s.messageExt=t),i&&(s.bizInfo=i),a&&(s.sourceInfo=a),$s("launchApplication",Object.assign(s,{schemeUrl:e,operateDirectly:1,success:n,fail:r,complete:o}))},al=({appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,success:r,fail:o,complete:s})=>{$s("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,operateDirectly:1,success:r,fail:o,complete:s})},nl=({packageName:e,success:t,fail:i,complete:a})=>{$s("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},rl=({downloadId:e,success:t,fail:i,complete:a})=>{$s("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},ol=({downloadId:e,success:t,fail:i,complete:a})=>{$s("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},sl=({downloadId:e,success:t,fail:i,complete:a})=>{$s("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},ll=({downloadId:e,success:t,fail:i,complete:a})=>{$s("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},dl=({isHide:e,success:t,fail:i,complete:a})=>{$s("setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},ul=({isHide:e,success:t,fail:i,complete:a})=>{$s("private_setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},cl=({resources:e,success:t,fail:i,complete:a})=>{$s("loadVideoResource",{resources:e,success:t,fail:i,complete:a})},pl=({orientation:e,success:t,fail:i,complete:a})=>{$s("private_setPageOrientation",{orientation:e,success:t,fail:i,complete:a})},hl=({value:e,success:t,fail:i,complete:a})=>{$s("setDeviceOrientation",{value:e,success:t,fail:i,complete:a})},fl=({success:e,fail:t,complete:i}={})=>{$s("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},ml=({success:e,fail:t,complete:i}={})=>{$s("showVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},vl=({success:e,fail:t,complete:i}={})=>{$s("showStatusBar",{success:e,fail:t,complete:i})},yl=({success:e,fail:t,complete:i}={})=>{$s("hideStatusBar",{success:e,fail:t,complete:i})},gl=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o})=>{Qs("openChannelsActivity",{feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o,permissionBytes:[1,1,1]},(a=>{Xs(a,"openChannelsActivity",{success:e,fail:t,complete:i})}))},_l=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,feedbackUrl:c})=>{Qs("private_openChannelsLive",{feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o,permissionBytes:[1,1,1],bizId:332,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,feedbackUrl:c},(a=>{Xs(a,"private_openChannelsLive",{success:e,fail:t,complete:i})}))},Al=({success:e,fail:t,complete:i,finderUserName:a,reportExtraInfo:n})=>{Qs("openChannelsUserProfile",{finderUserName:a,reportExtraInfo:n,permissionBytes:[1,1,1]},(a=>{Xs(a,"openChannelsUserProfile",{success:e,fail:t,complete:i})}))},El=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,clickPosMap:c,feedbackUrl:p,marketingWord:h})=>{$s("openChannelsRewardedVideoAd",{feedId:a,nonceId:n,finderUserName:r,reportExtraInfo:o,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:u,clickPosMap:c,feedbackUrl:p,marketingWord:h,success:e,fail:t,complete:i})},Cl=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:i,fail:a,complete:n})=>{$s("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:i,fail:a,complete:n})},bl=({urlList:e,success:t,fail:i,complete:a})=>{$s("private_onWebPageUrlExposed",{urlList:e,success:t,fail:i,complete:a})},Il=({data:e,success:t,fail:i,complete:a})=>{$s("setClipboardData",{data:e,success:t,fail:i,complete:a})},Tl=({appid:e,path:t,moduleName:i,preloadCodeScene:a=5,success:n,fail:r,complete:o})=>{$s("predownloadMiniProgramPackage",{appId:e,path:t,moduleName:i,scene:a,success:n,fail:r,complete:o})},wl=({slotid:e,success:t,fail:i,complete:a})=>{$s("getAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},kl=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:r,style:o,zIndex:s,fixed:l,success:d,fail:u,complete:c})=>{$s("insertMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:r,style:o,fixed:l,success:d,fail:u,complete:c})},Sl=({appid:e,moduleName:t,versionType:i,resume:a,mute:n,parentId:r,viewId:o,position:s,style:l,zIndex:d,fixed:u,forceEnd:c,success:p,fail:h,complete:f})=>{$s("updateMiniProgramPlayableView",{appId:e,moduleName:t,resume:a,mute:n,versionType:i,dest:0,parentId:r,viewId:o,zIndex:d,position:s,style:l,fixed:u,forceEnd:c,success:p,fail:h,complete:f})},xl=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:r,style:o,zIndex:s,fixed:l,success:d,fail:u,complete:c})=>{$s("removeMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:r,style:o,fixed:l,success:d,fail:u,complete:c})},Pl=({slotid:e,success:t,fail:i,complete:a})=>{$s("clearAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},Dl=Ks((({taskName:e,taskUrl:t,fileMd5:i,extInfo:a,success:n,fail:r,complete:o})=>{$s("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:i,extInfo:a,permissionBytes:[1,1,1],success:n,fail:r,complete:o})})),Ol=(mo=Mi(),vo=Mi(),yo=Mi(),go=Mi(),_o=Mi(),Ao=Mi(),Eo=Mi(),Co=Mi(),bo=Mi(),Io=Mi(),To=Mi(),wo=Mi(),ko=Mi(),So=Mi(),xo=Mi(),Po=Mi(),Do=Mi(),Oo=Mi(),Ro=Mi(),Mo=Mi(),No=Mi(),Lo=Mi(),Bo=Mi(),Wo=Mi(),Fo=Mi(),Vo=Mi(),Uo=Mi(),Ho=Mi(),jo=Mi(),Go=Mi(),zo=Mi(),$o=Mi(),Qo=Mi(),qo=Mi(),Yo=Mi(),Zo=Mi(),Ko=Mi(),Xo=Mi(),Jo=class{constructor(){js()(this,"setNavigationBarRightButton",es,this),js()(this,"setMiniProgramNavigationBarRightButton",ts,this),js()(this,"hideVirtualBottomNavigationBar",is,this),js()(this,"showVirtualBottomNavigationBar",as,this),js()(this,"showStatusBar",ns,this),js()(this,"hideStatusBar",rs,this),js()(this,"openProfile",os,this),js()(this,"addContact",ss,this),js()(this,"downloadAppInternal",ls,this),js()(this,"openChannelsActivity",ds,this),js()(this,"openChannelsRewardedVideoAd",us,this),js()(this,"openChannelsLive",cs,this),js()(this,"openChannelsUserProfile",ps,this),js()(this,"setClipboardData",hs,this),js()(this,"getChannelsLiveInfo",fs,this),js()(this,"getAdPushMsg",ms,this),js()(this,"clearAdPushMsg",vs,this),js()(this,"getNetworkType",ys,this),js()(this,"preloadH5Page",gs,this),this.innerPreloadVideo=Ks(cl),js()(this,"preloadVideo",_s,this),js()(this,"launchApplicationOrigin",As,this),this.innerLaunchApplication=Ks(tl),js()(this,"isLandingPageApi",Es,this),js()(this,"launchApplication",Cs,this),this.innerGetInstallState=Ks(nl),js()(this,"getInstallState",bs,this),this.innerQueryDownloadTask=Ks(rl),js()(this,"queryDownloadTask",Is,this),this.innerPauseDownloadTask=Ks(ol),js()(this,"pauseDownloadTask",Ts,this),this.innerResumeDownloadTask=Ks(sl),js()(this,"resumeDownloadTask",ws,this),this.innerInstallDownloadTask=Ks(ll),js()(this,"installDownloadTask",ks,this),this.innerSetPageOrientation=Ks(pl),js()(this,"setPageOrientation",Ss,this),this.innerSetDeviceOrientation=Ks(hl),js()(this,"setDeviceOrientation",xs,this),this.innerSetInnerAudioOption=Ks(Cl),js()(this,"setInnerAudioOption",Ps,this),js()(this,"vibrateShort",Ds,this),this.innerVibrateShort=Ks(qs),js()(this,"vibrateLong",Os,this),this.innerVibrateLong=Ks(Ys),js()(this,"vibrate",Rs,this),js()(this,"predownloadMiniProgramPackage",Ms,this),js()(this,"insertPlayableView",Ns,this),js()(this,"updatePlayableView",Ls,this),js()(this,"removePlayableView",Bs,this)}},es=c()(Jo.prototype,"setNavigationBarRightButton",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(dl)}}),ts=c()(Jo.prototype,"setMiniProgramNavigationBarRightButton",[vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(ul)}}),is=c()(Jo.prototype,"hideVirtualBottomNavigationBar",[yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(fl)}}),as=c()(Jo.prototype,"showVirtualBottomNavigationBar",[go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(ml)}}),ns=c()(Jo.prototype,"showStatusBar",[_o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(vl)}}),rs=c()(Jo.prototype,"hideStatusBar",[Ao],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(yl)}}),os=c()(Jo.prototype,"openProfile",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Js)}}),ss=c()(Jo.prototype,"addContact",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(el)}}),ls=c()(Jo.prototype,"downloadAppInternal",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(al)}}),ds=c()(Jo.prototype,"openChannelsActivity",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(gl)}}),us=c()(Jo.prototype,"openChannelsRewardedVideoAd",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(El)}}),cs=c()(Jo.prototype,"openChannelsLive",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(_l)}}),ps=c()(Jo.prototype,"openChannelsUserProfile",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Al)}}),hs=c()(Jo.prototype,"setClipboardData",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Il)}}),fs=c()(Jo.prototype,"getChannelsLiveInfo",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Gs)}}),ms=c()(Jo.prototype,"getAdPushMsg",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(wl)}}),vs=c()(Jo.prototype,"clearAdPushMsg",[Do],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Pl)}}),ys=c()(Jo.prototype,"getNetworkType",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(zs)}}),gs=c()(Jo.prototype,"preloadH5Page",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(bl)}}),_s=c()(Jo.prototype,"preloadVideo",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),As=c()(Jo.prototype,"launchApplicationOrigin",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(il)}}),Es=c()(Jo.prototype,"isLandingPageApi",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>Zs.indexOf(e)>-1}}),Cs=c()(Jo.prototype,"launchApplication",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var i="string"==typeof e?{schemeUrl:e}:e;try{null!=t&&t.uxinfo&&(i.bizInfo=t.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:1}}))}catch(e){}return!h.cj||null!=i&&i.isIosDirect||null===(null==i?void 0:i.skAdItem)?this.innerLaunchApplication(i):this.downloadAppInternal({appUrl:i.schemeUrl,extraData:null==i?void 0:i.extraData,skAdItem:null==i?void 0:i.skAdItem,bizInfo:(null==i?void 0:i.bizInfo)||"",sourceInfo:(null==i?void 0:i.sourceInfo)||""})}}}),bs=c()(Jo.prototype,"getInstallState",[Wo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),Is=c()(Jo.prototype,"queryDownloadTask",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),Ts=c()(Jo.prototype,"pauseDownloadTask",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),ws=c()(Jo.prototype,"resumeDownloadTask",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),ks=c()(Jo.prototype,"installDownloadTask",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),Ss=c()(Jo.prototype,"setPageOrientation",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),xs=c()(Jo.prototype,"setDeviceOrientation",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetDeviceOrientation({value:e})}}),Ps=c()(Jo.prototype,"setInnerAudioOption",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),Ds=c()(Jo.prototype,"vibrateShort",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerVibrateShort({type:e})}}),Os=c()(Jo.prototype,"vibrateLong",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.innerVibrateLong()}}),Rs=c()(Jo.prototype,"vibrate",[qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return s()((function*(t=1,i=200){for(var a=0;a<t;a+=1)yield e.vibrateLong(),a<t-1&&(yield(0,m.Vs)(400+i))}))}}),Ms=c()(Jo.prototype,"predownloadMiniProgramPackage",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Tl)}}),Ns=c()(Jo.prototype,"insertPlayableView",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(kl)}}),Ls=c()(Jo.prototype,"updatePlayableView",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(Sl)}}),Bs=c()(Jo.prototype,"removePlayableView",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ks(xl)}}),Jo),Rl=(e,t)=>!!t&&(e=>{var t={native:[En.CRT_SIZE_TABLE_SCREEN_IMAGE,En.CRT_SIZE_INSERT_VIDEO],sns:[En.APP_VIDEO,En.CRT_SIZE_PIC_MOMENT,En.CRT_SIZE_VIDEO_TIME6,En.CRT_SIZE_CARD_COMPT_IMAGE,En.CRT_SIZE_CARD_COMPT_VIDEO],image:[En.CRT_SIZE_TABLE_SCREEN_IMAGE,En.CRT_SIZE_PIC_MOMENT,En.CRT_SIZE_CARD_COMPT_IMAGE,En.CRT_SIZE_AMS_PIC_169],video:[En.CRT_SIZE_INSERT_VIDEO,En.APP_VIDEO,En.CRT_SIZE_VIDEO_TIME6,En.CRT_SIZE_CARD_COMPT_VIDEO,En.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"native":case"sns":case"video":case"image":return t[e];default:return[...t.image,...t.video]}})(e).includes(Number(t)),Ml=Object.create,Nl=Object.defineProperty,Ll=Object.getPrototypeOf,Bl=Object.prototype.hasOwnProperty,Wl=Object.getOwnPropertyNames,Fl=Object.getOwnPropertyDescriptor,Vl=Object.getOwnPropertySymbols,Ul=Object.prototype.propertyIsEnumerable,Hl=(e,t,i)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,jl=(e,t)=>{for(var i in t||(t={}))Bl.call(t,i)&&Hl(e,i,t[i]);if(Vl)for(var i of Vl(t))Ul.call(t,i)&&Hl(e,i,t[i]);return e},Gl=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zl=e=>{return((e,t,i)=>{if(t&&"object"==typeof t||"function"==typeof t){var a=function(a){Bl.call(e,a)||"default"===a||Nl(e,a,{get:()=>t[a],enumerable:!(i=Fl(t,a))||i.enumerable})};for(var n of Wl(t))a(n)}return e})((t=Nl(null!=e?Ml(Ll(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),Nl(t,"__esModule",{value:!0})),e);var t},$l=(e,t,i,a)=>{for(var n,r=a>1?void 0:a?Fl(t,i):t,o=e.length-1;o>=0;o--)(n=e[o])&&(r=(a?n(t,i,r):n(r))||r);return a&&r&&Nl(t,i,r),r},Ql=(e,t,i)=>new Promise(((a,n)=>{var r=e=>{try{s(i.next(e))}catch(e){n(e)}},o=e=>{try{s(i.throw(e))}catch(e){n(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,o);s((i=i.apply(e,t)).next())})),ql=Gl(((e,t)=>{var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var d in r=Object(arguments[l]))a.call(r,d)&&(s[d]=r[d]);if(i){o=i(r);for(var u=0;u<o.length;u++)n.call(r,o[u])&&(s[o[u]]=r[o[u]])}}return s}})),Yl=Gl((e=>{var t=ql(),i=60103,a=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var n=60109,r=60110,o=60112;e.Suspense=60113;var s,l=60115,d=60116;"function"==typeof Symbol&&Symbol.for&&(s=Symbol.for,i=s("react.element"),a=s("react.portal"),e.Fragment=s("react.fragment"),e.StrictMode=s("react.strict_mode"),e.Profiler=s("react.profiler"),n=s("react.provider"),r=s("react.context"),o=s("react.forward_ref"),e.Suspense=s("react.suspense"),l=s("react.memo"),d=s("react.lazy"));var u="function"==typeof Symbol&&Symbol.iterator;function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function f(e,t,i){this.props=e,this.context=t,this.refs=h,this.updater=i||p}function m(){}function v(e,t,i){this.props=e,this.context=t,this.refs=h,this.updater=i||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(c(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=f.prototype;var y=v.prototype=new m;y.constructor=v,t(y,f.prototype),y.isPureReactComponent=!0;var g={current:null},_=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,a){var n,r={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,n)&&!A.hasOwnProperty(n)&&(r[n]=t[n]);var l=arguments.length-2;if(1===l)r.children=a;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];r.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:i,type:e,key:o,ref:s,props:r,_owner:g.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var b=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+I(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(b,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(b,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var d=0;d<e.length;d++){var p=r+I(s=e[d],d);l+=T(s,t,n,p,o)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),d=0;!(s=e.next()).done;)l+=T(s=s.value,t,n,p=r+I(s,d++),o);else if("object"===s)throw t=""+e,Error(c(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function w(e,t,i){if(null==e)return e;var a=[],n=0;return T(e,a,"","",(function(e){return t.call(i,e,n++)})),a}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var S={current:null};function x(){var e=S.current;if(null===e)throw Error(c(321));return e}var P={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:g,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:w,forEach:function(e,t,i){w(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return w(e,(function(){t++})),t},toArray:function(e){return w(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(c(143));return e}},e.Component=f,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(e,a,n){if(null==e)throw Error(c(267,e));var r=t({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=a){if(void 0!==a.ref&&(s=a.ref,l=g.current),void 0!==a.key&&(o=""+a.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in a)_.call(a,u)&&!A.hasOwnProperty(u)&&(r[u]=void 0===a[u]&&void 0!==d?d[u]:a[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){d=Array(u);for(var p=0;p<u;p++)d[p]=arguments[p+2];r.children=d}return{$$typeof:i,type:e.type,key:o,ref:s,props:r,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:r,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},e.createElement=E,e.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:o,render:e}},e.isValidElement=C,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:k}},e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return x().useCallback(e,t)},e.useContext=function(e,t){return x().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return x().useEffect(e,t)},e.useImperativeHandle=function(e,t,i){return x().useImperativeHandle(e,t,i)},e.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},e.useMemo=function(e,t){return x().useMemo(e,t)},e.useReducer=function(e,t,i){return x().useReducer(e,t,i)},e.useRef=function(e){return x().useRef(e)},e.useState=function(e){return x().useState(e)},e.version="17.0.2"})),Zl=Gl(((e,t)=>{t.exports=Yl()})),Kl=Gl((e=>{var t,i,a,n,r,o,s,l,d,u,c,p,h,f,m,v,y,g,_,A;function E(e,t){var i=e.length;e.push(t);e:for(;;){var a=i-1>>>1,n=e[a];if(!(void 0!==n&&0<I(n,t)))break e;e[a]=t,e[i]=n,i=a}}function C(e){return void 0===(e=e[0])?null:e}function b(e){var t=e[0];if(void 0!==t){var i=e.pop();if(i!==t){e[0]=i;e:for(var a=0,n=e.length;a<n;){var r=2*(a+1)-1,o=e[r],s=r+1,l=e[s];if(void 0!==o&&0>I(o,i))void 0!==l&&0>I(l,o)?(e[a]=l,e[s]=i,a=s):(e[a]=o,e[r]=i,a=r);else{if(!(void 0!==l&&0>I(l,i)))break e;e[a]=l,e[s]=i,a=s}}}return t}return null}function I(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(r=performance,e.unstable_now=function(){return r.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s}),"undefined"==typeof window||"function"!=typeof MessageChannel?(l=null,d=null,u=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(u,0),e}},t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(u,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},e.unstable_shouldYield=function(){return!1},n=e.unstable_forceFrameRate=function(){}):(c=window.setTimeout,p=window.clearTimeout,"undefined"!=typeof console&&(h=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),f=!1,m=null,v=-1,y=5,g=0,e.unstable_shouldYield=function(){return e.unstable_now()>=g},n=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5},_=new MessageChannel,A=_.port2,_.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();g=t+y;try{m(!0,t)?A.postMessage(null):(f=!1,m=null)}catch(e){throw A.postMessage(null),e}}else f=!1},t=function(e){m=e,f||(f=!0,A.postMessage(null))},i=function(t,i){v=c((function(){t(e.unstable_now())}),i)},a=function(){p(v),v=-1});var T=[],w=[],k=1,S=null,x=3,P=!1,D=!1,O=!1;function R(e){for(var t=C(w);null!==t;){if(null===t.callback)b(w);else{if(!(t.startTime<=e))break;b(w),t.sortIndex=t.expirationTime,E(T,t)}t=C(w)}}function M(e){if(O=!1,R(e),!D)if(null!==C(T))D=!0,t(N);else{var a=C(w);null!==a&&i(M,a.startTime-e)}}function N(t,n){D=!1,O&&(O=!1,a()),P=!0;var r=x;try{for(R(n),S=C(T);null!==S&&(!(S.expirationTime>n)||t&&!e.unstable_shouldYield());){var o=S.callback;if("function"==typeof o){S.callback=null,x=S.priorityLevel;var s=o(S.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?S.callback=s:S===C(T)&&b(T),R(n)}else b(T);S=C(T)}if(null!==S)var l=!0;else{var d=C(w);null!==d&&i(M,d.startTime-n),l=!1}return l}finally{S=null,x=r,P=!1}}var L=n;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){D||P||(D=!0,t(N))},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return C(T)},e.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var i=x;x=t;try{return e()}finally{x=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=L,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=x;x=e;try{return t()}finally{x=i}},e.unstable_scheduleCallback=function(n,r,o){var s=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,n){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return n={id:k++,callback:r,priorityLevel:n,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(n.sortIndex=o,E(w,n),null===C(T)&&n===C(w)&&(O?a():O=!0,i(M,o-s))):(n.sortIndex=l,E(T,n),D||P||(D=!0,t(N))),n},e.unstable_wrapCallback=function(e){var t=x;return function(){var i=x;x=t;try{return e.apply(this,arguments)}finally{x=i}}}})),Xl=Gl(((e,t)=>{t.exports=Kl()})),Jl=Gl(((e,t)=>{t.exports=function(e){var i={},a=ql(),n=Zl(),r=Xl();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,d=60106,u=60107,c=60108,p=60114,h=60109,f=60110,m=60112,v=60113,y=60120,g=60115,_=60116,A=60121,E=60129,C=60130,b=60131;if("function"==typeof Symbol&&Symbol.for){var I=Symbol.for;l=I("react.element"),d=I("react.portal"),u=I("react.fragment"),c=I("react.strict_mode"),p=I("react.profiler"),h=I("react.provider"),f=I("react.context"),m=I("react.forward_ref"),v=I("react.suspense"),y=I("react.suspense_list"),g=I("react.memo"),_=I("react.lazy"),A=I("react.block"),I("react.scope"),E=I("react.debug_trace_mode"),C=I("react.offscreen"),b=I("react.legacy_hidden")}var T="function"==typeof Symbol&&Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}function k(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case d:return"Portal";case p:return"Profiler";case c:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return k(e.type);case A:return k(e._render);case _:t=e._payload,e=e._init;try{return k(e(t))}catch(e){}}return null}function S(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function x(e){if(S(e)!==e)throw Error(o(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=S(e)))throw Error(o(188));return t!==e?null:e}for(var i=e,a=t;;){var n=i.return;if(null===n)break;var r=n.alternate;if(null===r){if(null!==(a=n.return)){i=a;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===i)return x(n),e;if(r===a)return x(n),t;r=r.sibling}throw Error(o(188))}if(i.return!==a.return)i=n,a=r;else{for(var s=!1,l=n.child;l;){if(l===i){s=!0,i=n,a=r;break}if(l===a){s=!0,a=n,i=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===i){s=!0,i=r,a=n;break}if(l===a){s=!0,a=r,i=n;break}l=l.sibling}if(!s)throw Error(o(189))}}if(i.alternate!==a)throw Error(o(190))}if(3!==i.tag)throw Error(o(188));return i.stateNode.current===i?e:t}function D(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function O(e,t){for(var i=e.alternate;null!==t;){if(t===e||t===i)return!0;t=t.return}return!1}var R,M=e.getPublicInstance,N=e.getRootHostContext,L=e.getChildHostContext,B=e.prepareForCommit,W=e.resetAfterCommit,F=e.createInstance,V=e.appendInitialChild,U=e.finalizeInitialChildren,H=e.prepareUpdate,j=e.shouldSetTextContent,G=e.createTextInstance,z=e.scheduleTimeout,$=e.cancelTimeout,Q=e.noTimeout,q=e.isPrimaryRenderer,Y=e.supportsMutation,Z=e.supportsPersistence,K=e.supportsHydration,X=e.getInstanceFromNode,J=e.makeOpaqueHydratingObject,ee=e.makeClientId,te=e.beforeActiveInstanceBlur,ie=e.afterActiveInstanceBlur,ae=e.preparePortalMount,ne=e.supportsTestSelectors,re=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,le=e.isHiddenSubtree,de=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,pe=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,me=e.commitMount,ve=e.commitUpdate,ye=e.insertBefore,ge=e.insertInContainerBefore,_e=e.removeChild,Ae=e.removeChildFromContainer,Ee=e.resetTextContent,Ce=e.hideInstance,be=e.hideTextInstance,Ie=e.unhideInstance,Te=e.unhideTextInstance,we=e.clearContainer,ke=e.cloneInstance,Se=e.createContainerChildSet,xe=e.appendChildToContainerChildSet,Pe=e.finalizeContainerChildren,De=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Me=e.canHydrateInstance,Ne=e.canHydrateTextInstance,Le=e.isSuspenseInstancePending,Be=e.isSuspenseInstanceFallback,We=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Ve=e.hydrateInstance,Ue=e.hydrateTextInstance,He=e.getNextHydratableInstanceAfterSuspenseInstance,je=e.commitHydratedContainer,Ge=e.commitHydratedSuspenseInstance;function ze(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var $e=!1;function Qe(e,t){if(!e||$e)return"";$e=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(e){if(e&&a&&"string"==typeof e.stack){for(var n=e.stack.split("\n"),r=a.stack.split("\n"),o=n.length-1,s=r.length-1;1<=o&&0<=s&&n[o]!==r[s];)s--;for(;1<=o&&0<=s;o--,s--)if(n[o]!==r[s]){if(1!==o||1!==s)do{if(o--,0>--s||n[o]!==r[s])return"\n"+n[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{$e=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ze(e):""}var qe=[],Ye=-1;function Ze(e){return{current:e}}function Ke(e){0>Ye||(e.current=qe[Ye],qe[Ye]=null,Ye--)}function Xe(e,t){Ye++,qe[Ye]=e.current,e.current=t}var Je={},et=Ze(Je),tt=Ze(!1),it=Je;function at(e,t){var i=e.type.contextTypes;if(!i)return Je;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,r={};for(n in i)r[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function nt(e){return null!=(e=e.childContextTypes)}function rt(){Ke(tt),Ke(et)}function ot(e,t,i){if(et.current!==Je)throw Error(o(168));Xe(et,t),Xe(tt,i)}function st(e,t,i){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in e))throw Error(o(108,k(t)||"Unknown",r));return a({},i,n)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Je,it=et.current,Xe(et,e),Xe(tt,tt.current),!0}function dt(e,t,i){var a=e.stateNode;if(!a)throw Error(o(169));i?(e=st(e,t,it),a.__reactInternalMemoizedMergedChildContext=e,Ke(tt),Ke(et),Xe(et,e)):Ke(tt),Xe(tt,i)}var ut=null,ct=null;(0,r.unstable_now)();var pt=0,ht=8;function ft(e){if(0!=(1&e))return ht=15,1;if(0!=(2&e))return ht=14,2;if(0!=(4&e))return ht=13,4;var t=24&e;return 0!==t?(ht=12,t):0!=(32&e)?(ht=11,32):0!==(t=192&e)?(ht=10,t):0!=(256&e)?(ht=9,256):0!==(t=3584&e)?(ht=8,t):0!=(4096&e)?(ht=7,4096):0!==(t=4186112&e)?(ht=6,t):0!==(t=62914560&e)?(ht=5,t):67108864&e?(ht=4,67108864):0!=(134217728&e)?(ht=3,134217728):0!==(t=805306368&e)?(ht=2,t):0!=(1073741824&e)?(ht=1,1073741824):(ht=8,e)}function mt(e,t){var i=e.pendingLanes;if(0===i)return ht=0;var a=0,n=0,r=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==r)a=r,n=ht=15;else if(0!==(r=134217727&i)){var l=r&~o;0!==l?(a=ft(l),n=ht):0!==(s&=r)&&(a=ft(s),n=ht)}else 0!==(r=i&~o)?(a=ft(r),n=ht):0!==s&&(a=ft(s),n=ht);if(0===a)return 0;if(a=i&((0>(a=31-Et(a))?0:1<<a)<<1)-1,0!==t&&t!==a&&0==(t&o)){if(ft(t),n<=ht)return t;ht=n}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(i=31-Et(t)),a|=e[i],t&=~n;return a}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=gt(24&~t))?yt(10,t):e;case 10:return 0===(e=gt(192&~t))?yt(8,t):e;case 8:return 0===(e=gt(3584&~t))&&(0===(e=gt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=gt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function gt(e){return e&-e}function _t(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function At(e,t,i){e.pendingLanes|=t;var a=t-1;e.suspendedLanes&=a,e.pingedLanes&=a,(e=e.eventTimes)[t=31-Et(t)]=i}var Et=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ct(e)/bt|0)|0},Ct=Math.log,bt=Math.LN2;var It=r.unstable_runWithPriority,Tt=r.unstable_scheduleCallback,wt=r.unstable_cancelCallback,kt=r.unstable_shouldYield,St=r.unstable_requestPaint,xt=r.unstable_now,Pt=r.unstable_getCurrentPriorityLevel,Dt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Rt=r.unstable_NormalPriority,Mt=r.unstable_LowPriority,Nt=r.unstable_IdlePriority,Lt={},Bt=void 0!==St?St:function(){},Wt=null,Ft=null,Vt=!1,Ut=xt(),Ht=1e4>Ut?xt:function(){return xt()-Ut};function jt(){switch(Pt()){case Dt:return 99;case Ot:return 98;case Rt:return 97;case Mt:return 96;case Nt:return 95;default:throw Error(o(332))}}function Gt(e){switch(e){case 99:return Dt;case 98:return Ot;case 97:return Rt;case 96:return Mt;case 95:return Nt;default:throw Error(o(332))}}function zt(e,t){return e=Gt(e),It(e,t)}function $t(e,t,i){return e=Gt(e),Tt(e,t,i)}function Qt(){if(null!==Ft){var e=Ft;Ft=null,wt(e)}qt()}function qt(){if(!Vt&&null!==Wt){Vt=!0;var e=0;try{var t=Wt;zt(99,(function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}})),Wt=null}catch(t){throw null!==Wt&&(Wt=Wt.slice(e+1)),Tt(Dt,Qt),t}finally{Vt=!1}}}var Yt=s.ReactCurrentBatchConfig;var Zt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Kt=Object.prototype.hasOwnProperty;function Xt(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++)if(!Kt.call(t,i[a])||!Zt(e[i[a]],t[i[a]]))return!1;return!0}function Jt(e){switch(e.tag){case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return ze("Suspense");case 19:return ze("SuspenseList");case 0:case 2:case 15:return e=Qe(e.type,!1);case 11:return e=Qe(e.type.render,!1);case 22:return e=Qe(e.type._render,!1);case 1:return e=Qe(e.type,!0);default:return""}}function ei(e,t){if(e&&e.defaultProps){for(var i in t=a({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var ti=Ze(null),ii=null,ai=null,ni=null;function ri(){ni=ai=ii=null}function oi(e,t){e=e.type._context,q?(Xe(ti,e._currentValue),e._currentValue=t):(Xe(ti,e._currentValue2),e._currentValue2=t)}function si(e){var t=ti.current;Ke(ti),e=e.type._context,q?e._currentValue=t:e._currentValue2=t}function li(e,t){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)===t){if(null===i||(i.childLanes&t)===t)break;i.childLanes|=t}else e.childLanes|=t,null!==i&&(i.childLanes|=t);e=e.return}}function di(e,t){ii=e,ni=ai=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Va=!0),e.firstContext=null)}function ui(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ai){if(null===ii)throw Error(o(308));ai=t,ii.dependencies={lanes:0,firstContext:t,responders:null}}else ai=ai.next=t;return q?e._currentValue:e._currentValue2}var ci=!1;function pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t){if(null!==(e=e.updateQueue)){var i=(e=e.shared).pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}}function vi(e,t){var i=e.updateQueue,a=e.alternate;if(null!==a&&i===(a=a.updateQueue)){var n=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?n=r=o:r=r.next=o,i=i.next}while(null!==i);null===r?n=r=t:r=r.next=t}else n=r=t;return i={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function yi(e,t,i,n){var r=e.updateQueue;ci=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var d=l,u=d.next;d.next=null,null===s?o=u:s.next=u,s=d;var c=e.alternate;if(null!==c){var p=(c=c.updateQueue).lastBaseUpdate;p!==s&&(null===p?c.firstBaseUpdate=u:p.next=u,c.lastBaseUpdate=d)}}if(null!==o){for(p=r.baseState,s=0,c=u=d=null;;){l=o.lane;var h=o.eventTime;if((n&l)===l){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(l=t,h=i,m.tag){case 1:if("function"==typeof(f=m.payload)){p=f.call(h,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(h,p,l):f))break e;p=a({},p,l);break e;case 2:ci=!0}}null!==o.callback&&(e.flags|=32,null===(l=r.effects)?r.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,d=p):c=c.next=h,s|=l;if(null===(o=o.next)){if(null===(l=r.shared.pending))break;o=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===c&&(d=p),r.baseState=d,r.firstBaseUpdate=u,r.lastBaseUpdate=c,ur|=s,e.lanes=s,e.memoizedState=p}}function gi(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=i,"function"!=typeof n)throw Error(o(191,n));n.call(a)}}}var _i=(new n.Component).refs;function Ai(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:a({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return!!(e=e._reactInternals)&&S(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Nr(),n=Lr(e),r=fi(a,n);r.payload=t,null!=i&&(r.callback=i),mi(e,r),Br(e,n,a)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Nr(),n=Lr(e),r=fi(a,n);r.tag=1,r.payload=t,null!=i&&(r.callback=i),mi(e,r),Br(e,n,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Nr(),a=Lr(e),n=fi(i,a);n.tag=2,null!=t&&(n.callback=t),mi(e,n),Br(e,a,i)}};function Ci(e,t,i,a,n,r,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!Xt(i,a)||!Xt(n,r))}function bi(e,t,i){var a=!1,n=Je,r=t.contextType;return"object"==typeof r&&null!==r?r=ui(r):(n=nt(t)?it:et.current,r=(a=null!=(a=t.contextTypes))?at(e,n):Je),t=new t(i,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=r),t}function Ii(e,t,i,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function Ti(e,t,i,a){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=_i,pi(e);var r=t.contextType;"object"==typeof r&&null!==r?n.context=ui(r):(r=nt(t)?it:et.current,n.context=at(e,r)),yi(e,i,n,a),n.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(Ai(e,t,r,i),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&Ei.enqueueReplaceState(n,n.state,null),yi(e,i,n,a),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4)}var wi=Array.isArray;function ki(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(o(309));var a=i.stateNode}if(!a)throw Error(o(147,e));var n=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===n?t.ref:((t=function(e){var t=a.refs;t===_i&&(t=a.refs={}),null===e?delete t[n]:t[n]=e})._stringRef=n,t)}if("string"!=typeof e)throw Error(o(284));if(!i._owner)throw Error(o(290,e))}return e}function Si(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xi(e){function t(t,i){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,a){if(!e)return null;for(;null!==a;)t(i,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=bo(e,t)).index=0,e.sibling=null,e}function r(t,i,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<i?(t.flags=2,i):a:(t.flags=2,i):i}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,i,a){return null===t||6!==t.tag?((t=ko(i,e.mode,a)).return=e,t):((t=n(t,i)).return=e,t)}function p(e,t,i,a){return null!==t&&t.elementType===i.type?((a=n(t,i.props)).ref=ki(e,t,i),a.return=e,a):((a=Io(i.type,i.key,i.props,null,e.mode,a)).ref=ki(e,t,i),a.return=e,a)}function h(e,t,i,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=So(i,e.mode,a)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function f(e,t,i,a,r){return null===t||7!==t.tag?((t=To(i,e.mode,a,r)).return=e,t):((t=n(t,i)).return=e,t)}function m(e,t,i){if("string"==typeof t||"number"==typeof t)return(t=ko(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(i=Io(t.type,t.key,t.props,null,e.mode,i)).ref=ki(e,null,t),i.return=e,i;case d:return(t=So(t,e.mode,i)).return=e,t}if(wi(t)||w(t))return(t=To(t,e.mode,i,null)).return=e,t;Si(e,t)}return null}function v(e,t,i,a){var n=null!==t?t.key:null;if("string"==typeof i||"number"==typeof i)return null!==n?null:c(e,t,""+i,a);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return i.key===n?i.type===u?f(e,t,i.props.children,a,n):p(e,t,i,a):null;case d:return i.key===n?h(e,t,i,a):null}if(wi(i)||w(i))return null!==n?null:f(e,t,i,a,null);Si(e,i)}return null}function y(e,t,i,a,n){if("string"==typeof a||"number"==typeof a)return c(t,e=e.get(i)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case l:return e=e.get(null===a.key?i:a.key)||null,a.type===u?f(t,e,a.props.children,n,a.key):p(t,e,a,n);case d:return h(t,e=e.get(null===a.key?i:a.key)||null,a,n)}if(wi(a)||w(a))return f(t,e=e.get(i)||null,a,n,null);Si(t,a)}return null}return function(c,p,h,f){var g="object"==typeof h&&null!==h&&h.type===u&&null===h.key;g&&(h=h.props.children);var _="object"==typeof h&&null!==h;if(_)switch(h.$$typeof){case l:e:{for(_=h.key,g=p;null!==g;){if(g.key===_){if(7===g.tag){if(h.type===u){i(c,g.sibling),(p=n(g,h.props.children)).return=c,c=p;break e}}else if(g.elementType===h.type){i(c,g.sibling),(p=n(g,h.props)).ref=ki(c,g,h),p.return=c,c=p;break e}i(c,g);break}t(c,g),g=g.sibling}h.type===u?((p=To(h.props.children,c.mode,f,h.key)).return=c,c=p):((f=Io(h.type,h.key,h.props,null,c.mode,f)).ref=ki(c,p,h),f.return=c,c=f)}return s(c);case d:e:{for(g=h.key;null!==p;){if(p.key===g){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){i(c,p.sibling),(p=n(p,h.children||[])).return=c,c=p;break e}i(c,p);break}t(c,p),p=p.sibling}(p=So(h,c.mode,f)).return=c,c=p}return s(c)}if("string"==typeof h||"number"==typeof h)return h=""+h,null!==p&&6===p.tag?(i(c,p.sibling),(p=n(p,h)).return=c,c=p):(i(c,p),(p=ko(h,c.mode,f)).return=c,c=p),s(c);if(wi(h))return function(n,o,s,l){for(var d=null,u=null,c=o,p=o=0,h=null;null!==c&&p<s.length;p++){c.index>p?(h=c,c=null):h=c.sibling;var f=v(n,c,s[p],l);if(null===f){null===c&&(c=h);break}e&&c&&null===f.alternate&&t(n,c),o=r(f,o,p),null===u?d=f:u.sibling=f,u=f,c=h}if(p===s.length)return i(n,c),d;if(null===c){for(;p<s.length;p++)null!==(c=m(n,s[p],l))&&(o=r(c,o,p),null===u?d=c:u.sibling=c,u=c);return d}for(c=a(n,c);p<s.length;p++)null!==(h=y(c,n,p,s[p],l))&&(e&&null!==h.alternate&&c.delete(null===h.key?p:h.key),o=r(h,o,p),null===u?d=h:u.sibling=h,u=h);return e&&c.forEach((function(e){return t(n,e)})),d}(c,p,h,f);if(w(h))return function(n,s,l,d){var u=w(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var c=u=null,p=s,h=s=0,f=null,g=l.next();null!==p&&!g.done;h++,g=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var _=v(n,p,g.value,d);if(null===_){null===p&&(p=f);break}e&&p&&null===_.alternate&&t(n,p),s=r(_,s,h),null===c?u=_:c.sibling=_,c=_,p=f}if(g.done)return i(n,p),u;if(null===p){for(;!g.done;h++,g=l.next())null!==(g=m(n,g.value,d))&&(s=r(g,s,h),null===c?u=g:c.sibling=g,c=g);return u}for(p=a(n,p);!g.done;h++,g=l.next())null!==(g=y(p,n,h,g.value,d))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),s=r(g,s,h),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(n,e)})),u}(c,p,h,f);if(_&&Si(c,h),void 0===h&&!g)switch(c.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,k(c.type)||"Component"))}return i(c,p)}}var Pi=xi(!0),Di=xi(!1),Oi={},Ri=Ze(Oi),Mi=Ze(Oi),Ni=Ze(Oi);function Li(e){if(e===Oi)throw Error(o(174));return e}function Bi(e,t){Xe(Ni,t),Xe(Mi,e),Xe(Ri,Oi),e=N(t),Ke(Ri),Xe(Ri,e)}function Wi(){Ke(Ri),Ke(Mi),Ke(Ni)}function Fi(e){var t=Li(Ni.current),i=Li(Ri.current);i!==(t=L(i,e.type,t))&&(Xe(Mi,e),Xe(Ri,t))}function Vi(e){Mi.current===e&&(Ke(Ri),Ke(Mi))}var Ui=Ze(0);function Hi(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||Le(i)||Be(i)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ji=null,Gi=null,zi=!1;function $i(e,t){var i=Eo(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function Qi(e,t){switch(e.tag){case 5:return null!==(t=Me(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function qi(e){if(zi){var t=Gi;if(t){var i=t;if(!Qi(e,t)){if(!(t=We(i))||!Qi(e,t))return e.flags=-1025&e.flags|2,zi=!1,void(ji=e);$i(ji,i)}ji=e,Gi=Fe(t)}else e.flags=-1025&e.flags|2,zi=!1,ji=e}}function Yi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ji=e}function Zi(e){if(!K||e!==ji)return!1;if(!zi)return Yi(e),zi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!j(t,e.memoizedProps))for(t=Gi;t;)$i(e,t),t=We(t);if(Yi(e),13===e.tag){if(!K)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Gi=He(e)}else Gi=ji?We(e.stateNode):null;return!0}function Ki(){K&&(Gi=ji=null,zi=!1)}var Xi=[];function Ji(){for(var e=0;e<Xi.length;e++){var t=Xi[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Xi.length=0}var ea=s.ReactCurrentDispatcher,ta=s.ReactCurrentBatchConfig,ia=0,aa=null,na=null,ra=null,oa=!1,sa=!1;function la(){throw Error(o(321))}function da(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Zt(e[i],t[i]))return!1;return!0}function ua(e,t,i,a,n,r){if(ia=r,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ea.current=null===e||null===e.memoizedState?La:Ba,e=i(a,n),sa){r=0;do{if(sa=!1,!(25>r))throw Error(o(301));r+=1,ra=na=null,t.updateQueue=null,ea.current=Wa,e=i(a,n)}while(sa)}if(ea.current=Na,t=null!==na&&null!==na.next,ia=0,ra=na=aa=null,oa=!1,t)throw Error(o(300));return e}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?aa.memoizedState=ra=e:ra=ra.next=e,ra}function pa(){if(null===na){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=na.next;var t=null===ra?aa.memoizedState:ra.next;if(null!==t)ra=t,na=e;else{if(null===e)throw Error(o(310));e={memoizedState:(na=e).memoizedState,baseState:na.baseState,baseQueue:na.baseQueue,queue:na.queue,next:null},null===ra?aa.memoizedState=ra=e:ra=ra.next=e}return ra}function ha(e,t){return"function"==typeof t?t(e):t}function fa(e){var t=pa(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var a=na,n=a.baseQueue,r=i.pending;if(null!==r){if(null!==n){var s=n.next;n.next=r.next,r.next=s}a.baseQueue=n=r,i.pending=null}if(null!==n){n=n.next,a=a.baseState;var l=s=r=null,d=n;do{var u=d.lane;if((ia&u)===u)null!==l&&(l=l.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),a=d.eagerReducer===e?d.eagerState:e(a,d.action);else{var c={lane:u,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};null===l?(s=l=c,r=a):l=l.next=c,aa.lanes|=u,ur|=u}d=d.next}while(null!==d&&d!==n);null===l?r=a:l.next=s,Zt(a,t.memoizedState)||(Va=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=l,i.lastRenderedState=a}return[t.memoizedState,i.dispatch]}function ma(e){var t=pa(),i=t.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=e;var a=i.dispatch,n=i.pending,r=t.memoizedState;if(null!==n){i.pending=null;var s=n=n.next;do{r=e(r,s.action),s=s.next}while(s!==n);Zt(r,t.memoizedState)||(Va=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),i.lastRenderedState=r}return[r,a]}function va(e,t,i){var a=t._getVersion;a=a(t._source);var n=q?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==n?e=n===a:(e=e.mutableReadLanes,(e=(ia&e)===e)&&(q?t._workInProgressVersionPrimary=a:t._workInProgressVersionSecondary=a,Xi.push(t))),e)return i(t._source);throw Xi.push(t),Error(o(350))}function ya(e,t,i,a){var n=ir;if(null===n)throw Error(o(349));var r=t._getVersion,s=r(t._source),l=ea.current,d=l.useState((function(){return va(n,t,i)})),u=d[1],c=d[0];d=ra;var p=e.memoizedState,h=p.refs,f=h.getSnapshot,m=p.source;p=p.subscribe;var v=aa;return e.memoizedState={refs:h,source:t,subscribe:a},l.useEffect((function(){h.getSnapshot=i,h.setSnapshot=u;var e=r(t._source);if(!Zt(s,e)){e=i(t._source),Zt(c,e)||(u(e),e=Lr(v),n.mutableReadLanes|=e&n.pendingLanes),e=n.mutableReadLanes,n.entangledLanes|=e;for(var a=n.entanglements,o=e;0<o;){var l=31-Et(o),d=1<<l;a[l]|=e,o&=~d}}}),[i,t,a]),l.useEffect((function(){return a(t._source,(function(){var e=h.getSnapshot,i=h.setSnapshot;try{i(e(t._source));var a=Lr(v);n.mutableReadLanes|=a&n.pendingLanes}catch(e){i((function(){throw e}))}}))}),[t,a]),Zt(f,i)&&Zt(m,t)&&Zt(p,a)||((e={pending:null,dispatch:null,lastRenderedReducer:ha,lastRenderedState:c}).dispatch=u=Ma.bind(null,aa,e),d.queue=e,d.baseQueue=null,c=va(n,t,i),d.memoizedState=d.baseState=c),c}function ga(e,t,i){return ya(pa(),e,t,i)}function _a(e){var t=ca();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e}).dispatch=Ma.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Ea(e){return e={current:e},ca().memoizedState=e}function Ca(){return pa().memoizedState}function ba(e,t,i,a){var n=ca();aa.flags|=e,n.memoizedState=Aa(1|t,i,void 0,void 0===a?null:a)}function Ia(e,t,i,a){var n=pa();a=void 0===a?null:a;var r=void 0;if(null!==na){var o=na.memoizedState;if(r=o.destroy,null!==a&&da(a,o.deps))return void Aa(t,i,r,a)}aa.flags|=e,n.memoizedState=Aa(1|t,i,r,a)}function Ta(e,t){return ba(516,4,e,t)}function wa(e,t){return Ia(516,4,e,t)}function ka(e,t){return Ia(4,2,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,i){return i=null!=i?i.concat([e]):null,Ia(4,2,Sa.bind(null,t,e),i)}function Pa(){}function Da(e,t){var i=pa();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&da(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Oa(e,t){var i=pa();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&da(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Ra(e,t){var i=jt();zt(98>i?98:i,(function(){e(!0)})),zt(97<i?97:i,(function(){var i=ta.transition;ta.transition=1;try{e(!1),t()}finally{ta.transition=i}}))}function Ma(e,t,i){var a=Nr(),n=Lr(e),r={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===aa||null!==o&&o===aa)sa=oa=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,i);if(r.eagerReducer=o,r.eagerState=l,Zt(l,s))return}catch(e){}Br(e,n,a)}}var Na={readContext:ui,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useDeferredValue:la,useTransition:la,useMutableSource:la,useOpaqueIdentifier:la,unstable_isNewReconciler:!1},La={readContext:ui,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:ui,useEffect:Ta,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,ba(4,2,Sa.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var i=ca();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=ca();return t=void 0!==i?i(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ma.bind(null,aa,e),[a.memoizedState,e]},useRef:Ea,useState:_a,useDebugValue:Pa,useDeferredValue:function(e){var t=_a(e),i=t[0],a=t[1];return Ta((function(){var t=ta.transition;ta.transition=1;try{a(e)}finally{ta.transition=t}}),[e]),i},useTransition:function(){var e=_a(!1),t=e[0];return Ea(e=Ra.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,i){var a=ca();return a.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:i},ya(a,e,t,i)},useOpaqueIdentifier:function(){if(zi){var e=!1,t=J((function(){throw e||(e=!0,i(ee())),Error(o(355))})),i=_a(t)[1];return 0==(2&aa.mode)&&(aa.flags|=516,Aa(5,(function(){i(ee())}),void 0,null)),t}return _a(t=ee()),t},unstable_isNewReconciler:!1},Ba={readContext:ui,useCallback:Da,useContext:ui,useEffect:wa,useImperativeHandle:xa,useLayoutEffect:ka,useMemo:Oa,useReducer:fa,useRef:Ca,useState:function(){return fa(ha)},useDebugValue:Pa,useDeferredValue:function(e){var t=fa(ha),i=t[0],a=t[1];return wa((function(){var t=ta.transition;ta.transition=1;try{a(e)}finally{ta.transition=t}}),[e]),i},useTransition:function(){var e=fa(ha)[0];return[Ca().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(ha)[0]},unstable_isNewReconciler:!1},Wa={readContext:ui,useCallback:Da,useContext:ui,useEffect:wa,useImperativeHandle:xa,useLayoutEffect:ka,useMemo:Oa,useReducer:ma,useRef:Ca,useState:function(){return ma(ha)},useDebugValue:Pa,useDeferredValue:function(e){var t=ma(ha),i=t[0],a=t[1];return wa((function(){var t=ta.transition;ta.transition=1;try{a(e)}finally{ta.transition=t}}),[e]),i},useTransition:function(){var e=ma(ha)[0];return[Ca().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return ma(ha)[0]},unstable_isNewReconciler:!1},Fa=s.ReactCurrentOwner,Va=!1;function Ua(e,t,i,a){t.child=null===e?Di(t,null,i,a):Pi(t,e.child,i,a)}function Ha(e,t,i,a,n){i=i.render;var r=t.ref;return di(t,n),a=ua(e,t,i,a,r,n),null===e||Va?(t.flags|=1,Ua(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,un(e,t,n))}function ja(e,t,i,a,n,r){if(null===e){var o=i.type;return"function"!=typeof o||Co(o)||void 0!==o.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Io(i.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ga(e,t,o,a,n,r))}return o=e.child,0==(n&r)&&(n=o.memoizedProps,(i=null!==(i=i.compare)?i:Xt)(n,a)&&e.ref===t.ref)?un(e,t,r):(t.flags|=1,(e=bo(o,a)).ref=t.ref,e.return=t,t.child=e)}function Ga(e,t,i,a,n,r){if(null!==e&&Xt(e.memoizedProps,a)&&e.ref===t.ref){if(Va=!1,0==(r&n))return t.lanes=e.lanes,un(e,t,r);0!=(16384&e.flags)&&(Va=!0)}return Qa(e,t,i,a,r)}function za(e,t,i){var a=t.pendingProps,n=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode||"unstable-defer-without-hiding"===a.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},zr(t,i);else{if(0==(1073741824&i))return e=null!==r?r.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},zr(t,e),null;t.memoizedState={baseLanes:0},zr(t,null!==r?r.baseLanes:i)}else null!==r?(a=r.baseLanes|i,t.memoizedState=null):a=i,zr(t,a);return Ua(e,t,n,i),t.child}function $a(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=128)}function Qa(e,t,i,a,n){var r=nt(i)?it:et.current;return r=at(t,r),di(t,n),i=ua(e,t,i,a,r,n),null===e||Va?(t.flags|=1,Ua(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,un(e,t,n))}function qa(e,t,i,a,n){if(nt(i)){var r=!0;lt(t)}else r=!1;if(di(t,n),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bi(t,i,a),Ti(t,i,a,n),a=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,d=i.contextType;"object"==typeof d&&null!==d?d=ui(d):d=at(t,d=nt(i)?it:et.current);var u=i.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==a||l!==d)&&Ii(t,o,a,d),ci=!1;var p=t.memoizedState;o.state=p,yi(t,a,o,n),l=t.memoizedState,s!==a||p!==l||tt.current||ci?("function"==typeof u&&(Ai(t,i,u,a),l=t.memoizedState),(s=ci||Ci(t,i,s,a,p,l,d))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=a,t.memoizedState=l),o.props=a,o.state=l,o.context=d,a=s):("function"==typeof o.componentDidMount&&(t.flags|=4),a=!1)}else{o=t.stateNode,hi(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:ei(t.type,s),o.props=d,c=t.pendingProps,p=o.context,"object"==typeof(l=i.contextType)&&null!==l?l=ui(l):l=at(t,l=nt(i)?it:et.current);var h=i.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==c||p!==l)&&Ii(t,o,a,l),ci=!1,p=t.memoizedState,o.state=p,yi(t,a,o,n);var f=t.memoizedState;s!==c||p!==f||tt.current||ci?("function"==typeof h&&(Ai(t,i,h,a),f=t.memoizedState),(d=ci||Ci(t,i,d,a,p,f,l))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(a,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=a,t.memoizedState=f),o.props=a,o.state=f,o.context=l,a=d):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),a=!1)}return Ya(e,t,i,a,r,n)}function Ya(e,t,i,a,n,r){$a(e,t);var o=0!=(64&t.flags);if(!a&&!o)return n&&dt(t,i,!1),un(e,t,r);a=t.stateNode,Fa.current=t;var s=o&&"function"!=typeof i.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&o?(t.child=Pi(t,e.child,null,r),t.child=Pi(t,null,s,r)):Ua(e,t,s,r),t.memoizedState=a.state,n&&dt(t,i,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?ot(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ot(0,t.context,!1),Bi(e,t.containerInfo)}var Ka,Xa,Ja,en,tn={dehydrated:null,retryLane:0};function an(e,t,i){var a,n=t.pendingProps,r=Ui.current,o=!1;return(a=0!=(64&t.flags))||(a=(null===e||null!==e.memoizedState)&&0!=(2&r)),a?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(r|=1),Xe(Ui,1&r),null===e?(void 0!==n.fallback&&qi(t),e=n.children,r=n.fallback,o?(e=nn(t,e,r,i),t.child.memoizedState={baseLanes:i},t.memoizedState=tn,e):"number"==typeof n.unstable_expectedLoadTime?(e=nn(t,e,r,i),t.child.memoizedState={baseLanes:i},t.memoizedState=tn,t.lanes=33554432,e):((i=wo({mode:"visible",children:e},t.mode,i,null)).return=t,t.child=i)):(e.memoizedState,o?(n=on(e,t,n.children,n.fallback,i),o=t.child,r=e.child.memoizedState,o.memoizedState=null===r?{baseLanes:i}:{baseLanes:r.baseLanes|i},o.childLanes=e.childLanes&~i,t.memoizedState=tn,n):(i=rn(e,t,n.children,i),t.memoizedState=null,i))}function nn(e,t,i,a){var n=e.mode,r=e.child;return t={mode:"hidden",children:t},0==(2&n)&&null!==r?(r.childLanes=0,r.pendingProps=t):r=wo(t,n,0,null),i=To(i,n,a,null),r.return=e,i.return=e,r.sibling=i,e.child=r,i}function rn(e,t,i,a){var n=e.child;return e=n.sibling,i=bo(n,{mode:"visible",children:i}),0==(2&t.mode)&&(i.lanes=a),i.return=t,i.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=i}function on(e,t,i,a,n){var r=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:i};return 0==(2&r)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=s,null!==(o=i.lastEffect)?(t.firstEffect=i.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):i=bo(o,s),null!==e?a=bo(e,a):(a=To(a,r,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,a}function sn(e,t){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),li(e.return,t)}function ln(e,t,i,a,n,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:n,lastEffect:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=i,o.tailMode=n,o.lastEffect=r)}function dn(e,t,i){var a=t.pendingProps,n=a.revealOrder,r=a.tail;if(Ua(e,t,a.children,i),0!=(2&(a=Ui.current)))a=1&a|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sn(e,i);else if(19===e.tag)sn(e,i);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Xe(Ui,a),0==(2&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===Hi(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),ln(t,!1,n,i,r,t.lastEffect);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Hi(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}ln(t,!0,i,null,r,t.lastEffect);break;case"together":ln(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function un(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),ur|=t.lanes,0!=(i&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(i=bo(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=bo(e,e.pendingProps)).return=t;i.sibling=null}return t.child}return null}function cn(e){e.flags|=4}if(Y)Ka=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)V(e,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xa=function(){},Ja=function(e,t,i,a,n){if((e=e.memoizedProps)!==a){var r=t.stateNode,o=Li(Ri.current);i=H(r,i,e,a,n,o),(t.updateQueue=i)&&cn(t)}},en=function(e,t,i,a){i!==a&&cn(t)};else if(Z){Ka=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var r=n.stateNode;i&&a&&(r=Oe(r,n.type,n.memoizedProps,n)),V(e,r)}else if(6===n.tag)r=n.stateNode,i&&a&&(r=Re(r,n.memoizedProps,n)),V(e,r);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(r=null!==n.memoizedState)){var o=n.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Ka(e,o,!0,r)),null!==(r=o.sibling))){r.return=n,n=r;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};var pn=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var r=n.stateNode;i&&a&&(r=Oe(r,n.type,n.memoizedProps,n)),xe(e,r)}else if(6===n.tag)r=n.stateNode,i&&a&&(r=Re(r,n.memoizedProps,n)),xe(e,r);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(r=null!==n.memoizedState)){var o=n.child;if(null!==o&&(null!==o.child&&(o.child.return=o,pn(e,o,!0,r)),null!==(r=o.sibling))){r.return=n,n=r;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(e){var t=e.stateNode;if(null!==e.firstEffect){var i=t.containerInfo,a=Se(i);pn(a,e,!1,!1),t.pendingChildren=a,cn(e),Pe(i,a)}},Ja=function(e,t,i,a,n){var r=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===a)t.stateNode=r;else{var s=t.stateNode,l=Li(Ri.current),d=null;o!==a&&(d=H(s,i,o,a,n,l)),e&&null===d?t.stateNode=r:(r=ke(r,d,i,o,a,t,e,s),U(r,i,a,n,l)&&cn(t),t.stateNode=r,e?cn(t):Ka(r,t,!1,!1))}},en=function(e,t,i,a){i!==a?(e=Li(Ni.current),i=Li(Ri.current),t.stateNode=G(a,e,i,t),cn(t)):t.stateNode=e.stateNode}}else Xa=function(){},Ja=function(){},en=function(){};function hn(e,t){if(!zi)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fn(e,t,i){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return nt(t.type)&&rt(),null;case 3:return Wi(),Ke(tt),Ke(et),Ji(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Zi(t)?cn(t):a.hydrate||(t.flags|=256)),Xa(t),null;case 5:Vi(t);var n=Li(Ni.current);if(i=t.type,null!==e&&null!=t.stateNode)Ja(e,t,i,a,n),e.ref!==t.ref&&(t.flags|=128);else{if(!a){if(null===t.stateNode)throw Error(o(166));return null}if(e=Li(Ri.current),Zi(t)){if(!K)throw Error(o(175));e=Ve(t.stateNode,t.type,t.memoizedProps,n,e,t),t.updateQueue=e,null!==e&&cn(t)}else{var r=F(i,a,n,e,t);Ka(r,t,!1,!1),t.stateNode=r,U(r,i,a,n,e)&&cn(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)en(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(o(166));if(e=Li(Ni.current),n=Li(Ri.current),Zi(t)){if(!K)throw Error(o(176));Ue(t.stateNode,t.memoizedProps,t)&&cn(t)}else t.stateNode=G(a,e,n,t)}return null;case 13:return Ke(Ui),a=t.memoizedState,0!=(64&t.flags)?(t.lanes=i,t):(a=null!==a,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Zi(t):n=null!==e.memoizedState,a&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ui.current)?0===sr&&(sr=3):(0!==sr&&3!==sr||(sr=4),null===ir||0==(134217727&ur)&&0==(134217727&cr)||Ur(ir,nr))),Z&&a&&(t.flags|=4),Y&&(a||n)&&(t.flags|=4),null);case 4:return Wi(),Xa(t),null===e&&ae(t.stateNode.containerInfo),null;case 10:return si(t),null;case 19:if(Ke(Ui),null===(a=t.memoizedState))return null;if(n=0!=(64&t.flags),null===(r=a.rendering))if(n)hn(a,!1);else{if(0!==sr||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(r=Hi(e))){for(t.flags|=64,hn(a,!1),null!==(e=r.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,e=i,a=t.child;null!==a;)i=e,(n=a).flags&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(r=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return Xe(Ui,1&Ui.current|2),t.child}e=e.sibling}null!==a.tail&&Ht()>mr&&(t.flags|=64,n=!0,hn(a,!1),t.lanes=33554432)}else{if(!n)if(null!==(e=Hi(r))){if(t.flags|=64,n=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),hn(a,!0),null===a.tail&&"hidden"===a.tailMode&&!r.alternate&&!zi)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Ht()-a.renderingStartTime>mr&&1073741824!==i&&(t.flags|=64,n=!0,hn(a,!1),t.lanes=33554432);a.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=a.last)?e.sibling=r:t.child=r,a.last=r)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Ht(),e.sibling=null,t=Ui.current,Xe(Ui,n?1&t|2:1&t),e):null;case 23:case 24:return $r(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function mn(e){switch(e.tag){case 1:nt(e.type)&&rt();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Wi(),Ke(tt),Ke(et),Ji(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Vi(e),null;case 13:return Ke(Ui),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ke(Ui),null;case 4:return Wi(),null;case 10:return si(e),null;case 23:case 24:return $r(),null;default:return null}}function vn(e,t){try{var i="",a=t;do{i+=Jt(a),a=a.return}while(a);var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:n}}function yn(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var gn="function"==typeof WeakMap?WeakMap:Map;function _n(e,t,i){(i=fi(-1,i)).tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){_r||(_r=!0,Ar=a),yn(0,t)},i}function An(e,t,i){(i=fi(-1,i)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var n=t.value;i.payload=function(){return yn(0,t),a(n)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(i.callback=function(){"function"!=typeof a&&(null===Er?Er=new Set([this]):Er.add(this),yn(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}var En="function"==typeof WeakSet?WeakSet:Set;function Cn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){uo(e,t)}else t.current=null}function bn(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var i=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:ei(t.type,i),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(Y&&256&t.flags&&we(t.stateNode.containerInfo))}throw Error(o(163))}function In(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&a()}i=i.next}while(i!==t)}}function Tn(e,t,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var a=e.create;e.destroy=a()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var n=e;a=n.next,0!=(4&(n=n.tag))&&0!=(1&n)&&(oo(i,e),ro(i,e)),e=a}while(e!==t)}return;case 1:return e=i.stateNode,4&i.flags&&(null===t?e.componentDidMount():(a=i.elementType===i.type?t.memoizedProps:ei(i.type,t.memoizedProps),e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=i.updateQueue)&&gi(i,t,e));case 3:if(null!==(t=i.updateQueue)){if(e=null,null!==i.child)switch(i.child.tag){case 5:e=M(i.child.stateNode);break;case 1:e=i.child.stateNode}gi(i,t,e)}return;case 5:return e=i.stateNode,void(null===t&&4&i.flags&&me(e,i.type,i.memoizedProps,i));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(K&&null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&Ge(i)))))}throw Error(o(163))}function wn(e,t){if(Y)for(var i=e;;){if(5===i.tag){var a=i.stateNode;t?Ce(a):Ie(i.stateNode,i.memoizedProps)}else if(6===i.tag)a=i.stateNode,t?be(a):Te(a,i.memoizedProps);else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===e)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function kn(e,t){if(ct&&"function"==typeof ct.onCommitFiberUnmount)try{ct.onCommitFiberUnmount(ut,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var a=i,n=a.destroy;if(a=a.tag,void 0!==n)if(0!=(4&a))oo(t,i);else{a=t;try{n()}catch(e){uo(a,e)}}i=i.next}while(i!==e)}break;case 1:if(Cn(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){uo(t,e)}break;case 5:Cn(t);break;case 4:Y?Mn(e,t):Z&&Z&&(t=t.stateNode.containerInfo,e=Se(t),De(t,e))}}function Sn(e,t){for(var i=t;;)if(kn(e,i),null===i.child||Y&&4===i.tag){if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i.child.return=i,i=i.child}function xn(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Pn(e){return 5===e.tag||3===e.tag||4===e.tag}function Dn(e){if(Y){e:{for(var t=e.return;null!==t;){if(Pn(t))break e;t=t.return}throw Error(o(160))}var i=t;switch(t=i.stateNode,i.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(o(161))}16&i.flags&&(Ee(t),i.flags&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||Pn(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break e}}a?On(e,i,t):Rn(e,i,t)}}function On(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?ge(i,e,t):he(i,e);else if(4!==a&&null!==(e=e.child))for(On(e,t,i),e=e.sibling;null!==e;)On(e,t,i),e=e.sibling}function Rn(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?ye(i,e,t):pe(i,e);else if(4!==a&&null!==(e=e.child))for(Rn(e,t,i),e=e.sibling;null!==e;)Rn(e,t,i),e=e.sibling}function Mn(e,t){for(var i,a,n=t,r=!1;;){if(!r){r=n.return;e:for(;;){if(null===r)throw Error(o(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)Sn(e,n),a?Ae(i,n.stateNode):_e(i,n.stateNode);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(kn(e,n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Nn(e,t){if(Y){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void In(3,t);case 1:case 12:case 17:return;case 5:var i=t.stateNode;if(null!=i){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var n=t.type,r=t.updateQueue;t.updateQueue=null,null!==r&&ve(i,r,n,e,a,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return i=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:i,i);case 3:return void(K&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,je(t.containerInfo))));case 13:return Ln(t),void Bn(t);case 19:return void Bn(t);case 23:case 24:return void wn(t,null!==t.memoizedState)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void In(3,t);case 12:case 23:case 24:return;case 13:return Ln(t),void Bn(t);case 19:return void Bn(t);case 3:K&&((i=t.stateNode).hydrate&&(i.hydrate=!1,je(i.containerInfo)))}e:if(Z){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,De(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ln(e){null!==e.memoizedState&&(fr=Ht(),Y&&wn(e.child,!0))}function Bn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new En),t.forEach((function(t){var a=po.bind(null,e,t);i.has(t)||(i.add(t),t.then(a,a))}))}}function Wn(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Fn=0,Vn=1,Un=2,Hn=3,jn=4;if("function"==typeof Symbol&&Symbol.for){var Gn=Symbol.for;Fn=Gn("selector.component"),Vn=Gn("selector.has_pseudo_class"),Un=Gn("selector.role"),Hn=Gn("selector.test_id"),jn=Gn("selector.text")}function zn(e){var t=X(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=re(e)))throw Error(o(362));return e.stateNode.current}function $n(e,t){switch(t.$$typeof){case Fn:if(e.type===t.value)return!0;break;case Vn:e:{t=t.value,e=[e,0];for(var i=0;i<e.length;){var a=e[i++],n=e[i++],r=t[n];if(5!==a.tag||!le(a)){for(;null!=r&&$n(a,r);)r=t[++n];if(n===t.length){t=!0;break e}for(a=a.child;null!==a;)e.push(a,n),a=a.sibling}}t=!1}return t;case Un:if(5===e.tag&&de(e.stateNode,t.value))return!0;break;case jn:if((5===e.tag||6===e.tag)&&null!==(e=se(e))&&0<=e.indexOf(t.value))return!0;break;case Hn:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365,t))}return!1}function Qn(e){switch(e.$$typeof){case Fn:return"<"+(k(e.value)||"Unknown")+">";case Vn:return":has("+(Qn(e)||"")+")";case Un:return'[role="'+e.value+'"]';case jn:return'"'+e.value+'"';case Hn:return'[data-testname="'+e.value+'"]';default:throw Error(o(365,e))}}function qn(e,t){var i=[];e=[e,0];for(var a=0;a<e.length;){var n=e[a++],r=e[a++],o=t[r];if(5!==n.tag||!le(n)){for(;null!=o&&$n(n,o);)o=t[++r];if(r===t.length)i.push(n);else for(n=n.child;null!==n;)e.push(n,r),n=n.sibling}}return i}function Yn(e,t){if(!ne)throw Error(o(363));e=qn(e=zn(e),t),t=[],e=Array.from(e);for(var i=0;i<e.length;){var a=e[i++];if(5===a.tag)le(a)||t.push(a.stateNode);else for(a=a.child;null!==a;)e.push(a),a=a.sibling}return t}var Zn=null;var Kn=Math.ceil,Xn=s.ReactCurrentDispatcher,Jn=s.ReactCurrentOwner,er=s.IsSomeRendererActing,tr=0,ir=null,ar=null,nr=0,rr=0,or=Ze(0),sr=0,lr=null,dr=0,ur=0,cr=0,pr=0,hr=null,fr=0,mr=1/0;function vr(){mr=Ht()+500}var yr,gr=null,_r=!1,Ar=null,Er=null,Cr=!1,br=null,Ir=90,Tr=[],wr=[],kr=null,Sr=0,xr=null,Pr=-1,Dr=0,Or=0,Rr=null,Mr=!1;function Nr(){return 0!=(48&tr)?Ht():-1!==Pr?Pr:Pr=Ht()}function Lr(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===jt()?1:2;if(0===Dr&&(Dr=dr),0!==Yt.transition){0!==Or&&(Or=null!==hr?hr.pendingLanes:0),e=Dr;var t=4186112&~Or;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=jt(),0!=(4&tr)&&98===e?e=yt(12,Dr):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Dr),e}function Br(e,t,i){if(50<Sr)throw Sr=0,xr=null,Error(o(185));if(null===(e=Wr(e,t)))return null;At(e,t,i),e===ir&&(cr|=t,4===sr&&Ur(e,nr));var a=jt();1===t?0!=(8&tr)&&0==(48&tr)?Hr(e):(Fr(e,i),0===tr&&(vr(),Qt())):(0==(4&tr)||98!==a&&99!==a||(null===kr?kr=new Set([e]):kr.add(e)),Fr(e,i)),hr=e}function Wr(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Fr(e,t){for(var i=e.callbackNode,a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Et(s),d=1<<l,u=r[l];if(-1===u){if(0==(d&a)||0!=(d&n)){u=t,ft(d);var c=ht;r[l]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=d);s&=~d}if(a=mt(e,e===ir?nr:0),t=ht,0===a)null!==i&&(i!==Lt&&wt(i),e.callbackNode=null,e.callbackPriority=0);else{if(null!==i){if(e.callbackPriority===t)return;i!==Lt&&wt(i)}15===t?(i=Hr.bind(null,e),null===Wt?(Wt=[i],Ft=Tt(Dt,qt)):Wt.push(i),i=Lt):14===t?i=$t(99,Hr.bind(null,e)):(i=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),i=$t(i,Vr.bind(null,e))),e.callbackPriority=t,e.callbackNode=i}}function Vr(e){if(Pr=-1,Or=Dr=0,0!=(48&tr))throw Error(o(327));var t=e.callbackNode;if(no()&&e.callbackNode!==t)return null;var i=mt(e,e===ir?nr:0);if(0===i)return null;var a=i,n=tr;tr|=16;var r=Yr();for(ir===e&&nr===a||(vr(),Qr(e,a));;)try{Xr();break}catch(t){qr(e,t)}if(ri(),Xn.current=r,tr=n,null!==ar?a=0:(ir=null,nr=0,a=sr),0!=(dr&cr))Qr(e,0);else if(0!==a){if(2===a&&(tr|=64,e.hydrate&&(e.hydrate=!1,we(e.containerInfo)),0!==(i=vt(e))&&(a=Zr(e,i))),1===a)throw t=lr,Qr(e,0),Ur(e,i),Fr(e,Ht()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,a){case 0:case 1:throw Error(o(345));case 2:case 5:to(e);break;case 3:if(Ur(e,i),(62914560&i)===i&&10<(a=fr+500-Ht())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&i)!==i){Nr(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=z(to.bind(null,e),a);break}to(e);break;case 4:if(Ur(e,i),(4186112&i)===i)break;for(a=e.eventTimes,n=-1;0<i;){var s=31-Et(i);r=1<<s,(s=a[s])>n&&(n=s),i&=~r}if(i=n,10<(i=(120>(i=Ht()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Kn(i/1960))-i)){e.timeoutHandle=z(to.bind(null,e),i);break}to(e);break;default:throw Error(o(329))}}return Fr(e,Ht()),e.callbackNode===t?Vr.bind(null,e):null}function Ur(e,t){for(t&=~pr,t&=~cr,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Et(t),a=1<<i;e[i]=-1,t&=~a}}function Hr(e){if(0!=(48&tr))throw Error(o(327));if(no(),e===ir&&0!=(e.expiredLanes&nr)){var t=nr,i=Zr(e,t);0!=(dr&cr)&&(i=Zr(e,t=mt(e,t)))}else i=Zr(e,t=mt(e,0));if(0!==e.tag&&2===i&&(tr|=64,e.hydrate&&(e.hydrate=!1,we(e.containerInfo)),0!==(t=vt(e))&&(i=Zr(e,t))),1===i)throw i=lr,Qr(e,0),Ur(e,t),Fr(e,Ht()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e),Fr(e,Ht()),null}function jr(e,t){var i=tr;tr|=1;try{return e(t)}finally{0===(tr=i)&&(vr(),Qt())}}function Gr(e,t){var i=tr;if(0!=(48&i))return e(t);tr|=1;try{if(e)return zt(99,e.bind(null,t))}finally{tr=i,Qt()}}function zr(e,t){Xe(or,rr),rr|=t,dr|=t}function $r(){rr=or.current,Ke(or)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==Q&&(e.timeoutHandle=Q,$(i)),null!==ar)for(i=ar.return;null!==i;){var a=i;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&rt();break;case 3:Wi(),Ke(tt),Ke(et),Ji();break;case 5:Vi(a);break;case 4:Wi();break;case 13:case 19:Ke(Ui);break;case 10:si(a);break;case 23:case 24:$r()}i=i.return}ir=e,ar=bo(e.current,null),nr=rr=dr=t,sr=0,lr=null,pr=cr=ur=0}function qr(e,t){for(;;){var i=ar;try{if(ri(),ea.current=Na,oa){for(var a=aa.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}oa=!1}if(ia=0,ra=na=aa=null,sa=!1,Jn.current=null,null===i||null===i.return){sr=1,lr=t,ar=null;break}e:{var r=e,o=i.return,s=i,l=t;if(t=nr,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=0!=(1&Ui.current),p=o;do{var h;if(h=13===p.tag){var f=p.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var m=p.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!c)}}if(h){var v=p.updateQueue;if(null===v){var y=new Set;y.add(d),p.updateQueue=y}else v.add(d);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=fi(-1,1);g.tag=2,mi(s,g)}s.lanes|=1;break e}l=void 0,s=t;var _=r.pingCache;if(null===_?(_=r.pingCache=new gn,l=new Set,_.set(d,l)):void 0===(l=_.get(d))&&(l=new Set,_.set(d,l)),!l.has(s)){l.add(s);var A=co.bind(null,r,d,s);d.then(A,A)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((k(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sr&&(sr=2),l=vn(l,s),p=o;do{switch(p.tag){case 3:r=l,p.flags|=4096,t&=-t,p.lanes|=t,vi(p,_n(0,r,t));break e;case 1:r=l;var E=p.type,C=p.stateNode;if(0==(64&p.flags)&&("function"==typeof E.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===Er||!Er.has(C)))){p.flags|=4096,t&=-t,p.lanes|=t,vi(p,An(p,r,t));break e}}p=p.return}while(null!==p)}eo(i)}catch(e){t=e,ar===i&&null!==i&&(ar=i=i.return);continue}break}}function Yr(){var e=Xn.current;return Xn.current=Na,null===e?Na:e}function Zr(e,t){var i=tr;tr|=16;var a=Yr();for(ir===e&&nr===t||Qr(e,t);;)try{Kr();break}catch(t){qr(e,t)}if(ri(),tr=i,Xn.current=a,null!==ar)throw Error(o(261));return ir=null,nr=0,sr}function Kr(){for(;null!==ar;)Jr(ar)}function Xr(){for(;null!==ar&&!kt();)Jr(ar)}function Jr(e){var t=yr(e.alternate,e,rr);e.memoizedProps=e.pendingProps,null===t?eo(e):ar=t,Jn.current=null}function eo(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(i=fn(i,t,rr)))return void(ar=i);if(24!==(i=t).tag&&23!==i.tag||null===i.memoizedState||0!=(1073741824&rr)||0==(4&i.mode)){for(var a=0,n=i.child;null!==n;)a|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=a}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(i=mn(t)))return i.flags&=2047,void(ar=i);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ar=t);ar=t=e}while(null!==t);0===sr&&(sr=5)}function to(e){var t=jt();return zt(99,io.bind(null,e,t)),null}function io(e,t){do{no()}while(null!==br);if(0!=(48&tr))throw Error(o(327));var i=e.finishedWork;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(o(177));e.callbackNode=null;var a=i.lanes|i.childLanes,n=a,r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<r;){var d=31-Et(r),u=1<<d;n[d]=0,s[d]=-1,l[d]=-1,r&=~u}if(null!==kr&&0==(24&a)&&kr.has(e)&&kr.delete(e),e===ir&&(ar=ir=null,nr=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,a=i.firstEffect):a=i:a=i.firstEffect,null!==a){n=tr,tr|=32,Jn.current=null,Rr=B(e.containerInfo),Mr=!1,gr=a;do{try{ao()}catch(e){if(null===gr)throw Error(o(330));uo(gr,e),gr=gr.nextEffect}}while(null!==gr);Rr=null,gr=a;do{try{for(s=e;null!==gr;){var c=gr.flags;if(16&c&&Y&&Ee(gr.stateNode),128&c){var p=gr.alternate;if(null!==p){var h=p.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&c){case 2:Dn(gr),gr.flags&=-3;break;case 6:Dn(gr),gr.flags&=-3,Nn(gr.alternate,gr);break;case 1024:gr.flags&=-1025;break;case 1028:gr.flags&=-1025,Nn(gr.alternate,gr);break;case 4:Nn(gr.alternate,gr);break;case 8:l=s,r=gr,Y?Mn(l,r):Sn(l,r);var f=r.alternate;xn(r),null!==f&&xn(f)}gr=gr.nextEffect}}catch(e){if(null===gr)throw Error(o(330));uo(gr,e),gr=gr.nextEffect}}while(null!==gr);Mr&&ie(),W(e.containerInfo),e.current=i,gr=a;do{try{for(c=e;null!==gr;){var m=gr.flags;if(36&m&&Tn(c,gr.alternate,gr),128&m){p=void 0;var v=gr.ref;if(null!==v){var y=gr.stateNode;if(5===gr.tag)p=M(y);else p=y;"function"==typeof v?v(p):v.current=p}}gr=gr.nextEffect}}catch(e){if(null===gr)throw Error(o(330));uo(gr,e),gr=gr.nextEffect}}while(null!==gr);gr=null,Bt(),tr=n}else e.current=i;if(Cr)Cr=!1,br=e,Ir=t;else for(gr=a;null!==gr;)t=gr.nextEffect,gr.nextEffect=null,8&gr.flags&&((m=gr).sibling=null,m.stateNode=null),gr=t;if(0===(a=e.pendingLanes)&&(Er=null),1===a?e===xr?Sr++:(Sr=0,xr=e):Sr=0,i=i.stateNode,ct&&"function"==typeof ct.onCommitFiberRoot)try{ct.onCommitFiberRoot(ut,i,void 0,64==(64&i.current.flags))}catch(e){}if(Fr(e,Ht()),_r)throw _r=!1,e=Ar,Ar=null,e;return 0!=(8&tr)||Qt(),null}function ao(){for(;null!==gr;){var e=gr.alternate;Mr||null===Rr||(0!=(8&gr.flags)?O(gr,Rr)&&(Mr=!0,te()):13===gr.tag&&Wn(e,gr)&&O(gr,Rr)&&(Mr=!0,te()));var t=gr.flags;0!=(256&t)&&bn(e,gr),0==(512&t)||Cr||(Cr=!0,$t(97,(function(){return no(),null}))),gr=gr.nextEffect}}function no(){if(90!==Ir){var e=97<Ir?97:Ir;return Ir=90,zt(e,so)}return!1}function ro(e,t){Tr.push(t,e),Cr||(Cr=!0,$t(97,(function(){return no(),null})))}function oo(e,t){wr.push(t,e),Cr||(Cr=!0,$t(97,(function(){return no(),null})))}function so(){if(null===br)return!1;var e=br;if(br=null,0!=(48&tr))throw Error(o(331));var t=tr;tr|=32;var i=wr;wr=[];for(var a=0;a<i.length;a+=2){var n=i[a],r=i[a+1],s=n.destroy;if(n.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===r)throw Error(o(330));uo(r,e)}}for(i=Tr,Tr=[],a=0;a<i.length;a+=2){n=i[a],r=i[a+1];try{var l=n.create;n.destroy=l()}catch(e){if(null===r)throw Error(o(330));uo(r,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return tr=t,Qt(),!0}function lo(e,t,i){mi(e,t=_n(0,t=vn(i,t),1)),t=Nr(),null!==(e=Wr(e,1))&&(At(e,1,t),Fr(e,t))}function uo(e,t){if(3===e.tag)lo(e,e,t);else for(var i=e.return;null!==i;){if(3===i.tag){lo(i,e,t);break}if(1===i.tag){var a=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Er||!Er.has(a))){var n=An(i,e=vn(t,e),1);if(mi(i,n),n=Nr(),null!==(i=Wr(i,1)))At(i,1,n),Fr(i,n);else if("function"==typeof a.componentDidCatch&&(null===Er||!Er.has(a)))try{a.componentDidCatch(t,e)}catch(e){}break}}i=i.return}}function co(e,t,i){var a=e.pingCache;null!==a&&a.delete(t),t=Nr(),e.pingedLanes|=e.suspendedLanes&i,ir===e&&(nr&i)===i&&(4===sr||3===sr&&(62914560&nr)===nr&&500>Ht()-fr?Qr(e,0):pr|=i),Fr(e,t)}function po(e,t){var i=e.stateNode;null!==i&&i.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===jt()?1:2:(0===Dr&&(Dr=dr),0===(t=gt(62914560&~Dr))&&(t=4194304))),i=Nr(),null!==(e=Wr(e,t))&&(At(e,t,i),Fr(e,i))}yr=function(e,t,i){var a=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||tt.current)Va=!0;else{if(0==(i&a)){switch(Va=!1,t.tag){case 3:Za(t),Ki();break;case 5:Fi(t);break;case 1:nt(t.type)&&lt(t);break;case 4:Bi(t,t.stateNode.containerInfo);break;case 10:oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(i&t.child.childLanes)?an(e,t,i):(Xe(Ui,1&Ui.current),null!==(t=un(e,t,i))?t.sibling:null);Xe(Ui,1&Ui.current);break;case 19:if(a=0!=(i&t.childLanes),0!=(64&e.flags)){if(a)return dn(e,t,i);t.flags|=64}var n=t.memoizedState;if(null!==n&&(n.rendering=null,n.tail=null,n.lastEffect=null),Xe(Ui,Ui.current),a)break;return null;case 23:case 24:return t.lanes=0,za(e,t,i)}return un(e,t,i)}Va=0!=(16384&e.flags)}else Va=!1;switch(t.lanes=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=at(t,et.current),di(t,i),n=ua(null,t,a,e,n,i),t.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(a)){var r=!0;lt(t)}else r=!1;t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,pi(t);var s=a.getDerivedStateFromProps;"function"==typeof s&&Ai(t,a,s,e),n.updater=Ei,t.stateNode=n,n._reactInternals=t,Ti(t,a,e,i),t=Ya(null,t,a,!0,r,i)}else t.tag=0,Ua(null,t,n,i),t=t.child;return t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"==typeof e)return Co(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===g)return 14}return 2}(n),e=ei(n,e),r){case 0:t=Qa(null,t,n,e,i);break e;case 1:t=qa(null,t,n,e,i);break e;case 11:t=Ha(null,t,n,e,i);break e;case 14:t=ja(null,t,n,ei(n.type,e),a,i);break e}throw Error(o(306,n,""))}return t;case 0:return a=t.type,n=t.pendingProps,Qa(e,t,a,n=t.elementType===a?n:ei(a,n),i);case 1:return a=t.type,n=t.pendingProps,qa(e,t,a,n=t.elementType===a?n:ei(a,n),i);case 3:if(Za(t),a=t.updateQueue,null===e||null===a)throw Error(o(282));if(a=t.pendingProps,n=null!==(n=t.memoizedState)?n.element:null,hi(e,t),yi(t,a,null,i),(a=t.memoizedState.element)===n)Ki(),t=un(e,t,i);else{if((r=(n=t.stateNode).hydrate)&&(K?(Gi=Fe(t.stateNode.containerInfo),ji=t,r=zi=!0):r=!1),r){if(K&&null!=(e=n.mutableSourceEagerHydrationData))for(n=0;n<e.length;n+=2)r=e[n],s=e[n+1],q?r._workInProgressVersionPrimary=s:r._workInProgressVersionSecondary=s,Xi.push(r);for(i=Di(t,null,a,i),t.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Ua(e,t,a,i),Ki();t=t.child}return t;case 5:return Fi(t),null===e&&qi(t),a=t.type,n=t.pendingProps,r=null!==e?e.memoizedProps:null,s=n.children,j(a,n)?s=null:null!==r&&j(a,r)&&(t.flags|=16),$a(e,t),Ua(e,t,s,i),t.child;case 6:return null===e&&qi(t),null;case 13:return an(e,t,i);case 4:return Bi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Pi(t,null,a,i):Ua(e,t,a,i),t.child;case 11:return a=t.type,n=t.pendingProps,Ha(e,t,a,n=t.elementType===a?n:ei(a,n),i);case 7:return Ua(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,s=t.memoizedProps,oi(t,r=n.value),null!==s){var l=s.value;if(0===(r=Zt(l,r)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(l,r):1073741823))){if(s.children===n.children&&!tt.current){t=un(e,t,i);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var d=l.dependencies;if(null!==d){s=l.child;for(var u=d.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&r)){1===l.tag&&((u=fi(-1,i&-i)).tag=2,mi(l,u)),l.lanes|=i,null!==(u=l.alternate)&&(u.lanes|=i),li(l.return,i),d.lanes|=i;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ua(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,a=(r=t.pendingProps).children,di(t,i),a=a(n=ui(n,r.unstable_observedBits)),t.flags|=1,Ua(e,t,a,i),t.child;case 14:return r=ei(n=t.type,t.pendingProps),ja(e,t,n,r=ei(n.type,r),a,i);case 15:return Ga(e,t,t.type,t.pendingProps,a,i);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:ei(a,n),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,nt(a)?(e=!0,lt(t)):e=!1,di(t,i),bi(t,a,n),Ti(t,a,n,i),Ya(null,t,a,!0,e,i);case 19:return dn(e,t,i);case 23:case 24:return za(e,t,i)}throw Error(o(156,t.tag))};var ho={current:!1},fo=r.unstable_flushAllWithoutAsserting,mo="function"==typeof fo;function vo(){if(void 0!==fo)return fo();for(var e=!1;no();)e=!0;return e}function yo(e){try{vo(),function(e){if(null===Zn)try{var i=("require"+Math.random()).slice(0,7);Zn=(t&&t[i]).call(t,"timers").setImmediate}catch(e){Zn=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Zn(e)}((function(){vo()?yo(e):e()}))}catch(t){e(t)}}var go=0,_o=!1;function Ao(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(e,t,i,a){return new Ao(e,t,i,a)}function Co(e){return!(!(e=e.prototype)||!e.isReactComponent)}function bo(e,t){var i=e.alternate;return null===i?((i=Eo(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Io(e,t,i,a,n,r){var s=2;if(a=e,"function"==typeof e)Co(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case u:return To(i.children,n,r,t);case E:s=8,n|=16;break;case c:s=8,n|=1;break;case p:return(e=Eo(12,i,t,8|n)).elementType=p,e.type=p,e.lanes=r,e;case v:return(e=Eo(13,i,t,n)).type=v,e.elementType=v,e.lanes=r,e;case y:return(e=Eo(19,i,t,n)).elementType=y,e.lanes=r,e;case C:return wo(i,n,r,t);case b:return(e=Eo(24,i,t,n)).elementType=b,e.lanes=r,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case f:s=9;break e;case m:s=11;break e;case g:s=14;break e;case _:s=16,a=null;break e;case A:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Eo(s,i,t,n)).elementType=e,t.type=a,t.lanes=r,t}function To(e,t,i,a){return(e=Eo(7,e,a,t)).lanes=i,e}function wo(e,t,i,a){return(e=Eo(23,e,a,t)).elementType=C,e.lanes=i,e}function ko(e,t,i){return(e=Eo(6,e,null,t)).lanes=i,e}function So(e,t,i){return(t=Eo(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xo(e,t,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),K&&(this.mutableSourceEagerHydrationData=null)}function Po(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=D(t))?null:e.stateNode}function Do(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Oo(e,t){Do(e,t),(e=e.alternate)&&Do(e,t)}function Ro(e){return null===(e=D(e))?null:e.stateNode}function Mo(){return null}return i.IsThisRendererActing=ho,i.act=function(e){function t(){go--,er.current=i,ho.current=a}!1===_o&&(_o=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),go++;var i=er.current,a=ho.current;er.current=!0,ho.current=!0;try{var n=jr(e)}catch(e){throw t(),e}if(null!==n&&"object"==typeof n&&"function"==typeof n.then)return{then:function(e,a){n.then((function(){1<go||!0===mo&&!0===i?(t(),e()):yo((function(i){t(),i?a(i):e()}))}),(function(e){t(),a(e)}))}};try{1!==go||!1!==mo&&!1!==i||vo(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},i.attemptContinuousHydration=function(e){13===e.tag&&(Br(e,67108864,Nr()),Oo(e,67108864))},i.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Nr(),i=Lr(e);Br(e,i,t),Oo(e,i)}},i.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var i=ft(t.pendingLanes);t.expiredLanes|=i&t.pendingLanes,Fr(t,Ht()),0==(48&tr)&&(vr(),Qt())}break;case 13:var a=Nr();Gr((function(){return Br(e,1,a)})),Oo(e,4)}},i.attemptUserBlockingHydration=function(e){13===e.tag&&(Br(e,4,Nr()),Oo(e,4))},i.batchedEventUpdates=function(e,t){var i=tr;tr|=2;try{return e(t)}finally{0===(tr=i)&&(vr(),Qt())}},i.batchedUpdates=jr,i.createComponentSelector=function(e){return{$$typeof:Fn,value:e}},i.createContainer=function(e,t,i){return e=new xo(e,t,i),t=Eo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pi(t),e},i.createHasPsuedoClassSelector=function(e){return{$$typeof:Vn,value:e}},i.createPortal=function(e,t,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:d,key:null==a?null:""+a,children:e,containerInfo:t,implementation:i}},i.createRoleSelector=function(e){return{$$typeof:Un,value:e}},i.createTestNameSelector=function(e){return{$$typeof:Hn,value:e}},i.createTextSelector=function(e){return{$$typeof:jn,value:e}},i.deferredUpdates=function(e){return zt(97,e)},i.discreteUpdates=function(e,t,i,a,n){var r=tr;tr|=4;try{return zt(98,e.bind(null,t,i,a,n))}finally{0===(tr=r)&&(vr(),Qt())}},i.findAllNodes=Yn,i.findBoundingRects=function(e,t){if(!ne)throw Error(o(363));t=Yn(e,t),e=[];for(var i=0;i<t.length;i++)e.push(oe(t[i]));for(t=e.length-1;0<t;t--)for(var a=(i=e[t]).x,n=a+i.width,r=i.y,s=r+i.height,l=t-1;0<=l;l--)if(t!==l){var d=e[l],u=d.x,c=u+d.width,p=d.y,h=p+d.height;if(a>=u&&r>=p&&n<=c&&s<=h){e.splice(t,1);break}if(!(a!==u||i.width!==d.width||h<r||p>s)){p>r&&(d.height+=p-r,d.y=r),h<s&&(d.height=s-p),e.splice(t,1);break}if(!(r!==p||i.height!==d.height||c<a||u>n)){u>a&&(d.width+=u-a,d.x=a),c<n&&(d.width=n-u),e.splice(t,1);break}}return e},i.findHostInstance=Po,i.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=P(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},i.findHostInstanceWithWarning=function(e){return Po(e)},i.flushControlled=function(e){var t=tr;tr|=1;try{zt(99,e)}finally{0===(tr=t)&&(vr(),Qt())}},i.flushDiscreteUpdates=function(){0==(49&tr)&&(function(){if(null!==kr){var e=kr;kr=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Fr(e,Ht())}))}Qt()}(),no())},i.flushPassiveEffects=no,i.flushSync=Gr,i.focusWithin=function(e,t){if(!ne)throw Error(o(363));for(t=qn(e=zn(e),t),t=Array.from(t),e=0;e<t.length;){var i=t[e++];if(!le(i)){if(5===i.tag&&ue(i.stateNode))return!0;for(i=i.child;null!==i;)t.push(i),i=i.sibling}}return!1},i.getCurrentUpdateLanePriority=function(){return pt},i.getFindAllNodesFailureDescription=function(e,t){if(!ne)throw Error(o(363));var i=0,a=[];e=[zn(e),0];for(var n=0;n<e.length;){var r=e[n++],s=e[n++],l=t[s];if((5!==r.tag||!le(r))&&($n(r,l)&&(a.push(Qn(l)),++s>i&&(i=s)),s<t.length))for(r=r.child;null!==r;)e.push(r,s),r=r.sibling}if(i<t.length){for(e=[];i<t.length;i++)e.push(Qn(t[i]));return"findAllNodes was able to match part of the selector:\n  "+a.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},i.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?M(e.child.stateNode):e.child.stateNode:null},i.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Ro,findFiberByHostInstance:e.findFiberByHostInstance||Mo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ut=t.inject(e),ct=t}catch(e){}e=!0}return e},i.observeVisibleRects=function(e,t,i,a){if(!ne)throw Error(o(363));e=Yn(e,t);var n=ce(e,i,a).disconnect;return{disconnect:function(){n()}}},i.registerMutableSourceForHydration=function(e,t){var i=t._getVersion;i=i(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)},i.runWithPriority=function(e,t){var i=pt;try{return pt=e,t()}finally{pt=i}},i.shouldSuspend=function(){return!1},i.unbatchedUpdates=function(e,t){var i=tr;tr&=-2,tr|=8;try{return e(t)}finally{0===(tr=i)&&(vr(),Qt())}},i.updateContainer=function(e,t,i,a){var n=t.current,r=Nr(),s=Lr(n);e:if(i){t:{if(S(i=i._reactInternals)!==i||1!==i.tag)throw Error(o(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(nt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===i.tag){var d=i.type;if(nt(d)){i=st(i,d,l);break e}}i=l}else i=Je;return null===t.context?t.context=i:t.pendingContext=i,(t=fi(r,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),mi(n,t),Br(n,s,r),s},i}})),ed=Gl(((e,t)=>{t.exports=Jl()})),td=zl(Zl()),id=zl(ed()),ad=/([+-]?\d+(?:\.\d+)?)apx/g,nd=/^\s*#[0-9a-fA-F]{3}\s*$/,rd=/^\s*#[0-9a-fA-F]{3,6}\s*$/,od=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,sd=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,ld=/px$/,dd=(e,t)=>{return!1===t||"number"==typeof e?e:ld.test(e)?Number(e.replace(ld,""))||0:(i=e,Number(i).toString()===i?parseInt(e,10):e);var i},ud=e=>{if("string"==typeof e&&nd.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},cd=(e,t,i,a)=>{if("string"!=typeof i||!sd.test(i))return!1;var[n,r,o,s]=sd.exec(i).slice(1,5).map((e=>Number(e))),l=e=>e.toString(16);return e.color=`#${l(n)}${l(r)}${l(o)}`,null==a.opacity&&(e.opacity=Number(s)),!0},pd=(e,t,i,a,n)=>["padding","margin"].includes(t)?((e,t,i,a)=>{var n=Array.isArray(i)?i:(null==i?"":i).toString().split(/\s+/),r=null,o=null,s=null,l=null;switch(n.length){case 1:[r]=n,[o]=n,[s]=n,[l]=n;break;case 2:[r,o]=n,[s,l]=n;break;case 3:[r,o,s]=n,l=o;break;case 4:[r,l,s,o]=n;break;default:return!0}return Object.assign(e,{[`${t}Top`]:dd(r,a),[`${t}Left`]:dd(o,a),[`${t}Bottom`]:dd(s,a),[`${t}Right`]:dd(l,a)}),!0})(e,t,i,a):"border"===t?((e,t,i,a)=>{var n=(i||"").toString().split(/\s+/);switch(n.length){case 1:return e.borderColor=ud(n[0]),!0;case 2:return e.borderWidth=dd(n[0],a),e.borderColor=ud(n[1]),!0;case 3:return e.borderWidth=dd(n[0],a),e.borderColor=ud(n[2]),!0;default:return!0}})(e,0,i,a):"background"===t&&(rd.test(n[t])?e.backgroundColor=ud(n[t]):(od.test(n[t])||sd.test(n[t])||n[t].includes("linear-gradient"))&&(e.backgroundColor=n[t]),!0),hd=(e={},{removePx:t,splitShorthand:i=!1,convertRgbaColor:a=!1,convertDisplayName:n=!1,convertRotate:r=!0,ignorePositionStatic:o=!1}={})=>{var s={};for(var l of Object.keys(e)){var d=e[l],u=!1;if(a&&"color"===l?u=cd(s,0,d,e):i&&(u=pd(s,l,d,t,e)),n&&"display"===l)s.hidden="none"===e[l];else if(r&&"rotate"===l){var c=e[l];s.rotate="string"==typeof c?Number(c.replace("deg",""))||0:c}else o&&"position"===l&&"static"===e[l]||u||(s[l]=ud(dd(e[l],t)))}return s},fd=e=>{if(!(null==e?void 0:e.dataset))return{templateId:"",id:"",preventMask:!1};return["templateId","id","preventMask"].reduce(((t,i)=>(e.dataset[i]&&(t[i]=e.dataset[i]),t)),{})};function md(e){for(var t,i,a=(t=[],i=[],vd.forEach((e=>{t.push(e.img),i.push(e.text)})),{nameList:i,imgList:t}),n=/\[.*?\]/g,r=n.exec(e),o=0,s=[];r;){var l=r[0],d=r.index,u=a.nameList.indexOf(l);if(d>o)e.substr(o,d-o).split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));if(u>-1&&a.imgList[u])s.push({type:"img",props:{src:`https://wxa.wxs.qq.com/wxad-design/emojis/${a.imgList[u]}.png`}});else l.split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));o=d+l.length,r=n.exec(e)}return e.substr(o).split("").forEach((e=>{s.push({type:"text",props:{value:e}})})),s}var vd=[{img:"smiley_0",text:"[微笑]"},{img:"smiley_1",text:"[撇嘴]"},{img:"smiley_2",text:"[色]"},{img:"smiley_3",text:"[发呆]"},{img:"smiley_5",text:"[流泪]"},{img:"smiley_6",text:"[害羞]"},{img:"smiley_8",text:"[睡]"},{img:"smiley_9",text:"[大哭]"},{img:"smiley_10",text:"[尴尬]"},{img:"smiley_11",text:"[发怒]"},{img:"smiley_12",text:"[调皮]"},{img:"smiley_13",text:"[呲牙]"},{img:"smiley_14",text:"[惊讶]"},{img:"smiley_15",text:"[难过]"},{img:"smiley_17",text:"[冷汗]"},{img:"smiley_18",text:"[抓狂]"},{img:"smiley_20",text:"[偷笑]"},{img:"smiley_21",text:"[愉快]"},{img:"smiley_22",text:"[白眼]"},{img:"smiley_23",text:"[傲慢]"},{img:"smiley_26",text:"[惊恐]"},{img:"smiley_27",text:"[流汗]"},{img:"smiley_28",text:"[憨笑]"},{img:"smiley_30",text:"[奋斗]"},{img:"smiley_32",text:"[疑问]"},{img:"smiley_34",text:"[晕]"},{img:"smiley_36",text:"[衰]"},{img:"smiley_38",text:"[敲打]"},{img:"smiley_39",text:"[再见]"},{img:"smiley_40",text:"[擦汗]"},{img:"smiley_42",text:"[鼓掌]"},{img:"smiley_44",text:"[坏笑]"},{img:"smiley_45",text:"[左哼哼]"},{img:"smiley_46",text:"[右哼哼]"},{img:"smiley_47",text:"[哈欠]"},{img:"smiley_49",text:"[委屈]"},{img:"smiley_50",text:"[快哭了]"},{img:"smiley_51",text:"[阴险]"},{img:"smiley_52",text:"[亲亲]"},{img:"smiley_54",text:"[可怜]"},{img:"smiley_56",text:"[西瓜]"},{img:"smiley_60",text:"[咖啡]"},{img:"smiley_62",text:"[猪头]"},{img:"smiley_63",text:"[玫瑰]"},{img:"smiley_65",text:"[嘴唇]"},{img:"smiley_66",text:"[爱心]"},{img:"smiley_68",text:"[蛋糕]"},{img:"smiley_75",text:"[月亮]"},{img:"smiley_76",text:"[太阳]"},{img:"smiley_78",text:"[拥抱]"},{img:"smiley_79",text:"[强]"},{img:"smiley_81",text:"[握手]"},{img:"smiley_82",text:"[胜利]"},{img:"smiley_83",text:"[抱拳]"},{img:"smiley_84",text:"[勾引]"},{img:"smiley_85",text:"[拳头]"},{img:"smiley_89",text:"[OK]"},{img:"smiley_92",text:"[跳跳]"},{img:"smiley_93",text:"[发抖]"},{img:"smiley_94",text:"[怄火]"},{img:"smiley_95",text:"[转圈]"},{img:"2_04",text:"[嘿哈]"},{img:"2_05",text:"[捂脸]"},{img:"2_02",text:"[奸笑]"},{img:"2_06",text:"[机智]"},{img:"2_12",text:"[皱眉]"},{img:"2_11",text:"[耶]"},{img:"2_20",text:"[加油]"},{img:"2_21",text:"[汗]"},{img:"2_22",text:"[天啊]"},{img:"2_23",text:"[社会社会]"},{img:"2_24",text:"[旺柴]"},{img:"2_25",text:"[好的]"},{img:"2_26",text:"[加油加油]"},{img:"2_27",text:"[哇]"},{img:"2_09",text:"[红包]"},{img:"2_16",text:"[發]"},{img:"2_15",text:"[福]"}];var yd={type:"EOF"},gd=e=>{for(var t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",yd),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(yd)}},i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},_d=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,Ad=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Ed=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),Cd=e=>{var t;t="string"==typeof e?gd(e):e;for(var i=[_d({type:"ROOT"})],a=e=>{for(var t=e.priority;Ad(i[i.length-1])&&Ed(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=_d(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(Ad(n))return;Ed(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?Ad(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},r=0,o=t.length;r<o;r++)n(t[r]);return i},bd=({type:e,children:t,operator:i},a,n={})=>{var r=e=>bd(t[e],a,n);if("COMPARE"===e){var o=i&&{">":()=>r(0)>r(1),"<":()=>r(0)<r(1),">=":()=>r(0)>=r(1),"<=":()=>r(0)<=r(1),"==":()=>r(0)==r(1),"!=":()=>r(0)!=r(1),"===":()=>r(0)===r(1)}[i];return o?o():null}if("LOGIC"===e){var s=i&&{"&&":()=>r(0)&&r(1),"||":()=>r(0)||r(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>r(0)?r(1):r(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),r=e.substring(a+1,e.length-1);if(!i[n])return null;for(var o=gd(r),s=[],l=[],d=0,u=o.length;d<u;d++){var c=o[d];"COMMA"===c.type||"EOF"===c.type?(s.push(l),l=[]):l.push(c)}var p=[];return s.forEach((e=>{p.push(Td(e,t,i))})),i[n].apply(null,p)})(t[0],a,n)},d=l[e]||null;return d?d():null},Id=e=>({"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toArray":(...e)=>e,"#toString":e=>String(e),"#toRegExp":e=>new RegExp(e),"#test":(e,t)=>new RegExp(e).test(t),"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#join":(e,t)=>null==e?void 0:e.join(t),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":Ru,"#slice":(e,t,i)=>e.slice(t,i),"#map":(t,i)=>t.map((t=>e.run(i,{$item:t}))),"#reduce":(t,i,a)=>t.reduce(((t,a)=>e.run(i,{$item1:t,$item2:a})),a),"#rand":()=>Math.random(),"#compareVersion":(e,t)=>function(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var r=0;r<n;r++){var o=parseInt(i[r],10),s=parseInt(a[r],10);if(o>s)return 1;if(o<s)return-1}return 0}(e,t),"#fn":(e,...t)=>e(...t),"#hexToRgb":(e,t)=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,i,a)=>`${t}${t}${i}${i}${a}${a}`));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?Number.isNaN(t)?`rgb(${parseInt(i[1],16)}, ${parseInt(i[2],16)}, ${parseInt(i[3],16)})`:`rgba(${parseInt(i[1],16)}, ${parseInt(i[2],16)}, ${parseInt(i[3],16)}, ${t})`:""},"#parseInt":(e,t=10)=>parseInt(e,t)}),Td=(e,t,i)=>{try{var a=Cd(e);return bd(a[1],t,jl(jl({},Id({run:(e,a={})=>Td(e,jl(jl({},t),a),i)})),i))}catch(e){}return null},wd=class extends e.Z{},kd=e=>e&&"object"==typeof e&&!Array.isArray(e);function Sd(e,...t){if(!t.length)return e;var i=t.shift();if(kd(e)&&kd(i))for(var a of Object.keys(i))kd(i[a])?(e[a]||Object.assign(e,{[a]:{}}),Sd(e[a],i[a])):Object.assign(e,{[a]:i[a]});return Sd(e,...t)}var xd,Pd,Dd,Od,Rd,Md,Nd,Ld,Bd,Wd,Fd,Vd,Ud,Hd,jd,Gd,zd,$d,Qd,qd,Yd,Zd,Kd,Xd,Jd,eu,tu,iu,au,nu,ru,ou,su,lu,du,uu,cu,pu,hu,fu,mu,vu,yu,gu,_u,Au,Eu,Cu,bu,Iu,Tu,wu,ku,Su,xu,Pu,Du,Ou,Ru=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,r=0;n&&r<a.length;)n=n[a[r]],r+=1;return r<a.length?null:null!=n?n:i},Mu=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var r=a||(i?Ru(e,i):"");if(r)return r}return null},Nu=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join("");(Pd=xd||(xd={})).HIDEAD="hideAd",Pd.SETSTYLE="setStyle",Pd.REPORTIDKEY="reportIdKey",Pd.TRIGGEREVENT="triggerEvent",Pd.SETEXPRVARS="setExprVar",Pd.BATCHSETEXPRVARS="batchSetExprVar",Pd.VIDEOTOGGLEMUTED="videoToggleMuted",Pd.VIDEOPLAY="videoPlay",Pd.VIDEOPAUSE="videoPause",Pd.VIDEOSTOP="videoStop",Pd.BUTTONSETTEXT="buttonSetText",Pd.RELOADAD="reloadAd",Pd.REPORTMMDATA="reportMMData",Pd.ENDPAGEHIDE="endPageHide",Pd.IMAGESETSRC="imageSetSrc",Pd.TEXTSETTEXT="textSetText",Pd.ANIMATE="animate",Pd.TRIGGERBTNCLICK="triggerBtnClick",Pd.CHANGEMULTISHOW="changeMultiShow",Pd.LANDAD="landAd",Pd.EMITCUSTOMMESSAGE="emitCustomMessage",Pd.SPLASHSKIPAD="splashSkipAd",Pd.ADDCHILDREN="addChildren",Pd.REPORTADMONITORDATA="reportAdMonitorData",Pd.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",Pd.REPORTENDPAGE="reportEndPage",Pd.SHOWANIMATEDONE="showAnimateDone",Pd.HIDEANIMATEDONE="hideAnimateDone",Pd.FORCEREBUILD="forceRebuild",Pd.CHANGEIFRAMESIZE="changeIframeSize",Pd.CHANGEADAREASTYLE="changeAdAreaStyle",Pd.TRIGGERCOMPONENTEVENT="triggerComponentEvent",Pd.ADDCLASS="addClass",Pd.REMOVECLASS="removeClass",(Od=Dd||(Dd={})).TAP="tap",Od.ANIMATIONEND="animationend",Od.HOSTMESSAGE="hostMessage",Od.TEMPLATEWILLUPDATE="templateWillUpdate",(Md=Rd||(Rd={})).APPENTERFOREGROUND="appEnterForeground",Md.APPENTERBACKGROUND="appEnterBackground",Md.CONTAINERTAP="containerTap",Md.ADBUTTONTAP="adButtonTap",Md.VIEWABLEEXPOSURE="viewableExposure",Md.EXPOSURE="exposure",Md.SHOWEDGE="showEdge",Md.HIDEEDGE="hideEdge",Md.SHOWHALF="showhalf",Md.HIDEHALF="hidehalf",Md.SHOWANIMATE="showAnimate",Md.HIDEANIMATE="hideAnimate",Md.SPLASHADFIRSTRENDER="splashAdFirstRender",Md.SPLASHADMENUVIEW="splashAdMenuView",Md.INITIALTEMPLATE="initialTemplate",(Nd||(Nd={})).BUTTONTAP="buttonTap",(Bd=Ld||(Ld={})).RELATIONFETCHED="relationFetched",Bd.RELATIONTEXTCHANGED="relationTextChanged",(Fd=Wd||(Wd={})).VIDEOENDED="videoEnded",Fd.VIDEOPAUSE="videoPause",Fd.VIDEOPLAY="videoPlay",Fd.VIDEOTIMEUPDATE="videoTimeUpdate",Fd.MUTEDCHANGE="mutedChange",Fd.VIDEOLOADEDMETADATA="videoLoadedMetaData",(Ud=Vd||(Vd={})).FEEDBACKBTNTAP="feedbackBtnTap",Ud.TAGTAP="tagTap",Ud.DISLIKETAP="dislikeTap",Ud.DISLIKEREASONTAP="dislikeReasonTap",(jd=Hd||(Hd={})).REPLAY="replay",jd.SHOW="show",jd.HIDE="hide",jd.VIDEODISLIKE="videodislike",(zd=Gd||(Gd={})).SHOWCHANGE="showChange",zd.UNITTAP="unitTap",(Qd=$d||($d={})).REWARDEDVIDEOPLAY="rewardedVideoPlay",Qd.REWARDEDVIDEOEND="rewardedVideoEnd",Qd.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",Qd.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",Qd.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone",(Yd=qd||(qd={})).IMGERROR="imgError",Yd.IMGLOAD="imgLoad",(Kd=Zd||(Zd={})).IMGERROR="imgError",Kd.IMGLOAD="imgLoad",Xd||(Xd={}),(eu=Jd||(Jd={})).FEEDBACKBTNTAP="feedbackBtnTap",eu.FEEDBACKREPORT="feedbackReport",eu.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",eu.SHOWFEEDBACK="showFeedback",eu.CONTAINERTAP="containerTap",eu.CHECKEXPOSURE="checkExposure",eu.APPENTERBACKGROUND="appEnterBackground",eu.APPENTERFOREGROUND="appEnterForeground",eu.CHANGEIFRAMESIZE="changeIframeSize",eu.CHANGEADAREASTYLE="changeAdAreaStyle",eu.BTNTAP="btnTap",eu.REPORTVIDEOPLAY="reportVideoPlay",eu.ADVIDEOPAUSE="adVideoPause",eu.ADVIDEOPLAY="adVideoPlay",eu.ADVIDEOMUTECHANGE="adVideoMuteChange",eu.ADVIDEOLOADFAILED="adVideoLoadFailed",eu.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",eu.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",eu.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",eu.ADVIDEOENDED="adVideoEnded",eu.FETCHRELATIONTEXT="fetchRelationText",eu.RELATIONTEXTCHANGED="relationTextChanged",eu.ENDPAGEINIT="endPageInit",eu.ENDPAGEHIDE="endPageHide",eu.ENDPAGESHOW="endPageShow",eu.SHOWENDPAGE="showEndPage",eu.REPORTENDPAGE="reportEndPage",eu.IMGLOAD="imgLoad",eu.MULTIMGLOAD="multImgLoad",eu.HIDEAD="hideAd",eu.REPORTTIMEPOINT="reportTimePoint",eu.FEEDBACKHIDE="feedbackHide",eu.TRIGGEREVENT="triggerEvent",eu.LANDAD="landAd",eu.CHANGEMULTISHOW="changeMultiShow",eu.REPORTMMDATA="reportMMData",eu.REPORTADMONITORDATA="reportAdMonitorData",eu.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",eu.TEMPLATEMESSAGE="templateMessage",eu.REPORTIDKEY="reportIdKey",eu.CHANGEADBTNTEXT="changedAdBtnText",eu.CHANGERELATIONTEXT="changeRelationText",eu.ADSHOWEDGE="adShowEdge",eu.ADHIDEEDGE="adHideEdge",eu.ADSHOWHALF="adShowHalf",eu.ADHIDEHALF="adHideHalf",eu.SETSTYLE="setStyle",eu.SETDARKMODE="setDarkMode",eu.OPERATEADVIDEO="operateAdVideo",eu.CHANGECOUNTDOWN="changeCountdown",eu.SPLASHSKIPAD="splashSkipAd",eu.EXPOSURE="exposure",eu.VIEWABLEEXPOSURE="viewableExposure",eu.HOSTMESSAGE="hostMessage",eu.UPDATECHANNELSTATUS="updateChannelStatus",eu.CHANGEVIDEOMUTE="changeVideoMute",(iu=tu||(tu={}))[iu.COMMON=1]="COMMON",iu[iu.FULLSCREEN=2]="FULLSCREEN",(nu=au||(au={}))[nu.COMMON=1]="COMMON",nu[nu.ROW=2]="ROW",nu[nu.COLUMN=3]="COLUMN",nu[nu.PROPORTION=4]="PROPORTION",(ou=ru||(ru={}))[ou.COMMON=1]="COMMON",ou[ou.ICON=2]="ICON",ou[ou.AD=3]="AD",(lu=su||(su={}))[lu.COMMON=1]="COMMON",lu[lu.AD=2]="AD",(uu=du||(du={}))[uu.COMMON=1]="COMMON",uu[uu.NICKNAME=2]="NICKNAME",uu[uu.DESC=3]="DESC",uu[uu.RELATION=4]="RELATION",(pu=cu||(cu={}))[pu.COMMON=1]="COMMON",pu[pu.LOGICCOMMON=2]="LOGICCOMMON",(fu=hu||(hu={}))[fu.COMMON=1]="COMMON",fu[fu.AD=2]="AD",(vu=mu||(mu={}))[vu.COMMON=1]="COMMON",vu[vu.SIMPLE=2]="SIMPLE",vu[vu.SINGLETAG=3]="SINGLETAG",(gu=yu||(yu={}))[gu.COMMON=1]="COMMON",(Au=_u||(_u={}))[Au.COMMON=1]="COMMON",(Cu=Eu||(Eu={}))[Cu.NONE=0]="NONE",Cu[Cu.COMMON=1]="COMMON",Cu[Cu.ADS=2]="ADS",(Iu=bu||(bu={}))[Iu.NONE=0]="NONE",Iu[Iu.ROWLOOP=1]="ROWLOOP",Iu[Iu.COLUMNLOOP=2]="COLUMNLOOP",(wu=Tu||(Tu={}))[wu.NONE=0]="NONE",wu[wu.COMMOM=1]="COMMOM",(Su=ku||(ku={}))[Su.NONE=0]="NONE",Su[Su.COMMOM=1]="COMMOM",(Pu=xu||(xu={}))[Pu.NONE=0]="NONE",Pu[Pu.COMMOM=1]="COMMOM",(Ou=Du||(Du={})).BASE="base",Ou.COMPONENT="component",Ou.HOC="hoc";var Lu,Bu,Wu,Fu,Vu,Uu,Hu,ju,Gu,zu,$u,Qu,qu,Yu,Zu,Ku,Xu,Ju,ec,tc,ic,ac,nc,rc,oc,sc,lc,dc,uc,cc,pc,hc,fc,mc,vc,yc,gc,_c,Ac,Ec,Cc,bc,Ic,Tc,wc=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"];function kc(e){var t=[bc.IOS,bc.ANDROID].includes(e.product_type),i=[bc.CHANNELS].includes(e.product_type),a=e.crt_size===Cc.CRT_SIZE_MULTI_POS_GRID,n=[bc.WE_CHAT_SHOP,bc.JD_URL].includes(e.product_type),r=[bc.MINI_GAME].includes(e.product_type),o=[Cc.CRT_SIZE_REWARD_VEDIO169,Cc.CRT_SIZE_REWARD_VEDIO916,Cc.CRT_SIZE_VERTICAL_VIDEO_NEW_916].includes(e.crt_size);return Mu(e,[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:a},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:o},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","card_info","thumb"],condition:i},{path:["game_info","head_img"],condition:r},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{path:["crtInfo","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:n},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}])}function Sc(e){var t=[bc.IOS,bc.ANDROID].includes(null==e?void 0:e.product_type),i=[bc.CHANNELS].includes(null==e?void 0:e.product_type),a=e.crt_size===Cc.CRT_SIZE_MULTI_POS_GRID,n=[bc.WE_CHAT_ARTICLE,bc.GDT_WE_CHAT_ARTICLE].includes(null==e?void 0:e.product_type),r=[bc.WE_CHAT_SHOP,bc.JD_URL].includes(null==e?void 0:e.product_type),o=[bc.MINI_GAME].includes(null==e?void 0:e.product_type),s=[Cc.CRT_SIZE_REWARD_VEDIO169,Cc.CRT_SIZE_REWARD_VEDIO916,Cc.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Cc.CRT_SIZE_MULTI_POS_VEDIO].includes(null==e?void 0:e.crt_size);return Mu(e,[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:a},{path:["crtInfo","0","wxgame_video_card","title"],condition:s},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["game_info","nick_name"],condition:o},{path:["app_info","app_name"],condition:t},{path:["crtInfo","card_info","title"],condition:i},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{path:["crtInfo","card_info","title"]},{value:"品牌推广",condition:n},{value:"电商推广",condition:r},{value:"活动推广"}])}(Bu=Lu||(Lu={})).INNERSTYLE="innerStyle",Bu.STYLE="style",(Fu=Wu||(Wu={}))[Fu.kUnknown=0]="kUnknown",Fu[Fu.kVideo=1]="kVideo",Fu[Fu.kArticle=2]="kArticle",(Uu=Vu||(Vu={}))[Uu.EXPOSE=1]="EXPOSE",Uu[Uu.CLICK=2]="CLICK",(ju=Hu||(Hu={}))[ju.kDeviceUnknow=0]="kDeviceUnknow",ju[ju.kDeviceAndroid=1]="kDeviceAndroid",ju[ju.kDeviceIphone=2]="kDeviceIphone",ju[ju.kDeviceIpad=3]="kDeviceIpad",ju[ju.kDeviceTv=4]="kDeviceTv",(zu=Gu||(Gu={}))[zu.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",zu[zu.AppServiceType_GAME=2]="AppServiceType_GAME",(Qu=$u||($u={}))[Qu.AllOS=0]="AllOS",Qu[Qu.Ios=1]="Ios",Qu[Qu.Android=2]="Android",Qu[Qu.Winphone=3]="Winphone",Qu[Qu.JAVA=4]="JAVA",Qu[Qu.OS_UNKNOWN=5]="OS_UNKNOWN",Qu[Qu.SYMBIAN=6]="SYMBIAN",Qu[Qu.S40asha=7]="S40asha",Qu[Qu.Webwx=8]="Webwx",Qu[Qu.Blackberry=9]="Blackberry",Qu[Qu.Windows=10]="Windows",(Yu=qu||(qu={}))[Yu.kUnknownNetwork=0]="kUnknownNetwork",Yu[Yu.kWIFI=1]="kWIFI",Yu[Yu.k2G=2]="k2G",Yu[Yu.k3G=3]="k3G",Yu[Yu.k4G=4]="k4G",Yu[Yu.k5G=5]="k5G",Yu[Yu.kAll=10]="kAll",(Ku=Zu||(Zu={}))[Ku.kUnknownCarrier=0]="kUnknownCarrier",Ku[Ku.kCMCC=1]="kCMCC",Ku[Ku.kCUCC=2]="kCUCC",Ku[Ku.kCTCC=3]="kCTCC",(Ju=Xu||(Xu={}))[Ju.UNKNOWN=0]="UNKNOWN",Ju[Ju.CMNET=1]="CMNET",Ju[Ju.CMWAP=2]="CMWAP",Ju[Ju.THREEGNET=3]="THREEGNET",Ju[Ju.THREEGWAP=4]="THREEGWAP",Ju[Ju.UNINET=5]="UNINET",Ju[Ju.UNIWAP=6]="UNIWAP",Ju[Ju.WIFI=7]="WIFI",Ju[Ju.CTWAP=8]="CTWAP",Ju[Ju.CTNET=9]="CTNET",Ju[Ju.THREEGNET_UNINET=10]="THREEGNET_UNINET",Ju[Ju.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",Ju[Ju.CTNET_CTWAP=12]="CTNET_CTWAP",Ju[Ju.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",Ju[Ju.WIMAX=14]="WIMAX",(tc=ec||(ec={}))[tc.Default_Source=0]="Default_Source",tc[tc.MediaPlatform=1]="MediaPlatform",tc[tc.WeApp=2]="WeApp",tc[tc.Moments=3]="Moments",tc[tc.BizTimeLine=4]="BizTimeLine",(ac=ic||(ic={}))[ac.JSON=0]="JSON",ac[ac.XML=1]="XML",(rc=nc||(nc={}))[rc.Unknown_sys=-1]="Unknown_sys",rc[rc.Windows=0]="Windows",rc[rc.Ios=1]="Ios",rc[rc.Android=2]="Android",(sc=oc||(oc={}))[sc.Unknown_type=0]="Unknown_type",sc[sc.Wifi=1]="Wifi",sc[sc.TwoG=2]="TwoG",sc[sc.TreeG=3]="TreeG",sc[sc.FourG=4]="FourG",sc[sc.FiveG=5]="FiveG",sc[sc.Ethernet=6]="Ethernet",(dc=lc||(lc={}))[dc.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",dc[dc.SOURCE_MP=1]="SOURCE_MP",dc[dc.SOURCE_OSS=2]="SOURCE_OSS",dc[dc.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",dc[dc.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",dc[dc.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",dc[dc.SOURCE_WEPAY=6]="SOURCE_WEPAY",dc[dc.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",dc[dc.SOURCE_WEAPP=8]="SOURCE_WEAPP",dc[dc.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS",(cc=uc||(uc={}))[cc.NORMAL_AD=0]="NORMAL_AD",cc[cc.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD",(hc=pc||(pc={}))[hc.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",hc[hc.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",hc[hc.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",hc[hc.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",hc[hc.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",hc[hc.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",hc[hc.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",hc[hc.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",hc[hc.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",hc[hc.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",hc[hc.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",hc[hc.POS_TYPE_BOX=11]="POS_TYPE_BOX",hc[hc.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",hc[hc.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",hc[hc.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",hc[hc.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",hc[hc.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",hc[hc.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",hc[hc.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",hc[hc.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",hc[hc.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED",(mc=fc||(fc={}))[mc.DEST_TYPE_AD=0]="DEST_TYPE_AD",mc[mc.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",mc[mc.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",mc[mc.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",mc[mc.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",mc[mc.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",mc[mc.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",mc[mc.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",(yc=vc||(vc={}))[yc.RT_SIZE_WORD=91]="RT_SIZE_WORD",yc[yc.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",yc[yc.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",yc[yc.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",yc[yc.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",yc[yc.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",yc[yc.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",yc[yc.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",yc[yc.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",yc[yc.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",yc[yc.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",yc[yc.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",yc[yc.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",yc[yc.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",yc[yc.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",yc[yc.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",yc[yc.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",yc[yc.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",yc[yc.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",yc[yc.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",yc[yc.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",yc[yc.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",yc[yc.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",yc[yc.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",yc[yc.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",yc[yc.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",yc[yc.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",yc[yc.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",yc[yc.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",yc[yc.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",yc[yc.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",yc[yc.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",yc[yc.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",yc[yc.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",yc[yc.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",yc[yc.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",yc[yc.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",yc[yc.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",yc[yc.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",yc[yc.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",yc[yc.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",yc[yc.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",yc[yc.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",yc[yc.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",yc[yc.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",yc[yc.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",yc[yc.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",yc[yc.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",yc[yc.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",yc[yc.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",yc[yc.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",yc[yc.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",yc[yc.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",yc[yc.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",yc[yc.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",yc[yc.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",yc[yc.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",yc[yc.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",yc[yc.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",yc[yc.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",yc[yc.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",yc[yc.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",yc[yc.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",yc[yc.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",yc[yc.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",yc[yc.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",yc[yc.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",yc[yc.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",yc[yc.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",(_c=gc||(gc={}))[_c.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",_c[_c.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",_c[_c.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",_c[_c.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",_c[_c.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",_c[_c.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",_c[_c.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",_c[_c.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",_c[_c.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",_c[_c.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",_c[_c.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",_c[_c.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",_c[_c.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",_c[_c.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",_c[_c.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",_c[_c.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",_c[_c.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",_c[_c.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",_c[_c.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",_c[_c.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",_c[_c.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",_c[_c.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",_c[_c.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",_c[_c.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",_c[_c.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",_c[_c.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",_c[_c.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",_c[_c.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",_c[_c.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",_c[_c.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",_c[_c.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",_c[_c.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",_c[_c.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",_c[_c.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",_c[_c.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",_c[_c.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",_c[_c.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",_c[_c.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",_c[_c.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",_c[_c.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",_c[_c.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",_c[_c.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",_c[_c.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",_c[_c.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX",(Ec=Ac||(Ac={}))[Ec.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",Ec[Ec.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",Ec[Ec.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",Ec[Ec.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",Ec[Ec.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",Ec[Ec.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",Ec[Ec.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",Ec[Ec.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",Ec[Ec.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",Ec[Ec.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",Ec[Ec.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",Ec[Ec.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",Ec[Ec.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",Ec[Ec.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",Ec[Ec.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",Ec[Ec.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",Ec[Ec.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT",function(e){e[e.PIC_TIME5=555]="PIC_TIME5",e[e.VIDEO_TIME15=1515]="VIDEO_TIME15",e[e.APP_VIDEO=538]="APP_VIDEO",e[e.CRT_SIZE_WX_APPLICATION=532]="CRT_SIZE_WX_APPLICATION",e[e.CRT_SIZE_WX_APPLICATION_X=567]="CRT_SIZE_WX_APPLICATION_X",e[e.CRT_SIZE_WX_APPLICATION_NEW=608]="CRT_SIZE_WX_APPLICATION_NEW",e[e.CRT_SIZE_WX_APPLICATION_CARD=556]="CRT_SIZE_WX_APPLICATION_CARD",e[e.CRT_SIZE_REWARD_VEDIO169=559]="CRT_SIZE_REWARD_VEDIO169",e[e.CRT_SIZE_REWARD_VEDIO916=560]="CRT_SIZE_REWARD_VEDIO916",e[e.CRT_SIZE_IN_TEXT_DESC_CARD=841]="CRT_SIZE_IN_TEXT_DESC_CARD",e[e.CRT_SIZE_REWARD_LANDINGPAGE=910]="CRT_SIZE_REWARD_LANDINGPAGE",e[e.CRT_SIZE_TABLE_SCREEN_IMAGE=701]="CRT_SIZE_TABLE_SCREEN_IMAGE",e[e.CRT_SIZE_INSERT_VIDEO=913]="CRT_SIZE_INSERT_VIDEO",e[e.CRT_SIZE_MULTI_POS_NEW_PIC=927]="CRT_SIZE_MULTI_POS_NEW_PIC",e[e.CRT_SIZE_MULTI_POS_VEDIO=929]="CRT_SIZE_MULTI_POS_VEDIO",e[e.CRT_SIZE_MULTI_POS_GRID=972]="CRT_SIZE_MULTI_POS_GRID",e[e.CRT_SIZE_COVER_AD=1003]="CRT_SIZE_COVER_AD",e[e.CRT_SIZE_CPM_PIC=998]="CRT_SIZE_CPM_PIC",e[e.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT=928]="CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT",e[e.CRT_SIZE_VERTICAL_VIDEO_NEW_916=721]="CRT_SIZE_VERTICAL_VIDEO_NEW_916"}(Cc||(Cc={})),function(e){e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.CHANNELS=51]="CHANNELS",e[e.JD_URL=25]="JD_URL"}(bc||(bc={})),(Tc=Ic||(Ic={}))[Tc.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",Tc[Tc.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",Tc[Tc.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",Tc[Tc.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",Tc[Tc.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",Tc[Tc.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",Tc[Tc.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",Tc[Tc.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",Tc[Tc.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",Tc[Tc.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY";var xc=zl(Zl()),Pc=zl(Zl()),Dc=zl(Zl()),Oc={},Rc=class extends Dc.Component{constructor(e,t){super(e),this.style={},this.darkModeStyle={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.classListMap={},this.handleStyleType=[Lu.INNERSTYLE],this.componentBehavior=Du.COMPONENT,this.state={},this.handleAdCustomAction=e=>{var t,i;e.targetidReg?(null==(i=(t=e.targetidReg).test)?void 0:i.call(t,this.id))&&this.doCommonAction(e):e.targetid&&e.targetid===this.id&&this.doCommonAction(e)},this.bindStyle=e=>{[this.templateStyle,this.dynamicStyle].forEach((t=>{e.forEach((({originId:e,originKey:i,destRules:a})=>{t[e]||(t[e]={}),Object.defineProperty(t[e],i,{configurable:!0,enumerable:!0,get:()=>t[e][`_${i}`],set(n){n!==t[e][`_${i}`]&&(t[e][`_${i}`]=n,a.forEach((a=>{var r,{destClassName:o,handleFn:s}=a,{destKey:l}=a;l||(l=i);var d=s?s(n,t[e]):n;t[r=`.bind-${o}`]||(t[r]={}),t[`.bind-${o}`][l]=d})))}})}))}))},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||Eu.NONE,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,(null==t?void 0:t.componentBehavior)&&(this.componentBehavior=t.componentBehavior);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.innerClassStyles=a.innerClassStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent,this.classStyles=e.classStyles||{},this.classListMap=this.getClassList(a.classList||{});var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,[Du.COMPONENT].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onInit")}componentWillUnmount(){[Du.COMPONENT].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){[Du.COMPONENT,Du.BASE].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),this.componentBehavior===Du.COMPONENT&&this.addAdCustomListener((e=>{if(e.action===Jd.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i===this.id&&this.setStyle(t,a,{isDynamic:!0,force:!0})}else e.action===Jd.HOSTMESSAGE&&this.emitComponentEvent(Dd.HOSTMESSAGE,e.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope,classStyles:this.classStyles}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return this.forType===Eu.ADS&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){var t=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))};this.adCustomListeners.add(t),this.emitter.on("adCustomEvent",t)}removeAdCustomListener(){for(var e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];(null==i?void 0:i.length)&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];(null==i?void 0:i.length)&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)if(i.force&&!i.targetid)this.doCommonAction({args:t,payload:i});else{var a=this.getDataValue("targetid",i),n=this.getDataValue("targetidReg",i),r=null;try{n&&(r=new RegExp(n))}catch(e){r=null}this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a?`${this.adCustomId}-${a}`:this.id,targetidReg:r,args:t,payload:i})}}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=null,expr:n}=t,r=()=>{var a,r,o;if(!n||this.run(n,i))if(this.componentBehavior!==Du.BASE)switch(t.action){case xd.SETSTYLE:var{value:s}=t;if(s.styleExpr)for(var l of Object.keys(s.styleExpr))s.style[l]=this.run(s.styleExpr[l],i);var d=null==(a=s.force)||a;s.forceExpr&&(d=null==(r=this.run(s.forceExpr,i))||r),this.setStyle(s.id,s.style,{isDynamic:!0,force:d});break;case xd.SETEXPRVARS:var{key:u}=t.value,c=this.getDataValue("value",t.value,{args:i});this.getExprInnerVars()[u]=c;break;case xd.REPORTIDKEY:var{id:p,key:h}=t.value;this.emitAdCustomEvent(Jd.REPORTIDKEY,{id:p,key:h});break;case xd.BATCHSETEXPRVARS:var{list:f}=t.value;for(var m of f){var{key:v}=m,y=this.getDataValue("value",m);this.getExprInnerVars()[v]=y}break;case xd.TRIGGEREVENT:var{detail:g={},eventName:_}=t.value;try{if((null==i?void 0:i.event)&&(g.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var A of Object.keys(t.value.detailExpr)){var E=t.value.detailExpr[A];g[A]=this.run(E,i)}}catch(e){}this.emitAdCustomEvent(Jd.TRIGGEREVENT,{eventName:_,detail:g});break;case xd.REPORTMMDATA:var{data:C,dataExpr:b,id:I}=t.value;if(b)for(var T of Object.keys(b)){var w=b[T];C[T]=this.run(w,i)}this.emitAdCustomEvent(Jd.REPORTMMDATA,{id:I,data:C});break;case xd.ANIMATE:var{id:k,animation:S}=t.value;this.doAnimation({id:k,animationName:S});break;case xd.TRIGGERBTNCLICK:var x=null==i?void 0:i.event;x&&this.emitAdCustomEvent(Jd.BTNTAP,{event:x});break;case xd.LANDAD:var P=null==i?void 0:i.event;P&&this.emitAdCustomEvent(Jd.LANDAD,{index:this.getDataValueWithDefault("index",0,t.value,{args:i}),event:P});break;case xd.SPLASHSKIPAD:var D=null==i?void 0:i.event;D&&this.emitAdCustomEvent(Jd.SPLASHSKIPAD,{event:D});break;case xd.REPORTADMONITORDATA:var{id:O,key:R,extInfo:M}=t.value;this.emitAdCustomEvent(Jd.REPORTADMONITORDATA,{id:O,key:R,extInfo:this.getObjExpr(M)});break;case xd.REWARDEDVIDEODYNAMIC:var{list:N}=t.value;this.emitAdCustomEvent(Jd.REWARDEDVIDEODYNAMIC,{list:N});break;case xd.EMITCUSTOMMESSAGE:var{message:L,args:B}=t.value;L&&this.emitAdCustomEvent(Jd.TEMPLATEMESSAGE,{message:L,args:this.getObjExpr(B),actionArgs:i});break;case xd.REPORTENDPAGE:var{data:W}=t.value;this.emitAdCustomEvent(Jd.REPORTENDPAGE,{data:W});break;case xd.CHANGEIFRAMESIZE:"value"in t?this.emitAdCustomEvent(Jd.CHANGEIFRAMESIZE,{data:null==(o=t.value)?void 0:o.data}):this.emitAdCustomEvent(Jd.CHANGEIFRAMESIZE);break;case xd.CHANGEADAREASTYLE:var{data:F}=t.value;if(t.value.dataExpr)for(var V of Object.keys(t.value.dataExpr)){var U=t.value.dataExpr[V];F[V]=this.run(U,i)}this.emitAdCustomEvent(Jd.CHANGEADAREASTYLE,{data:F});break;case xd.TRIGGERCOMPONENTEVENT:var{eventName:H,args:j}=t.value;this.emitComponentEvent(H,jl(jl({},i),j));break;case xd.ADDCLASS:var{id:G,className:z}=t.value;if(Object.keys(this.classListMap).includes(G))this.classListMap[G].includes(z)||(this.classListMap[G]=this.classListMap[G].concat(z),this.forceUpdate());else this.classListMap[G]=[z],this.forceUpdate();break;case xd.REMOVECLASS:var{id:$,className:Q}=t.value;if(Object.keys(this.classListMap).includes($)){var q=this.classListMap[$];if(q.includes(Q)){var Y=q.indexOf(Q);q.splice(Y,1),this.classListMap[$]=q,this.forceUpdate()}}break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}else"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)};null!=a?setTimeout(r,a):r()}getObjExpr(e){if(!e||"object"!=typeof e)return e;var t={};for(var i of Object.keys(e)){var a="Expr";if(i.indexOf(a)>-1&&i.indexOf(a)===i.length-4){var n=i.slice(0,-4);t[n]=this.getDataValue(n,e)}else t[i]=e[i]}return t}run(e,t){var i=this.getInnerFunction(),a=jl(jl({},this.getScope()),i);return Td(e,t?jl({$args:t},a):a,i)}getElementById(e){var t,{renderContext:{hostContainer:i,getRootElement:a,isFlattenLayer:n},hostContext:{getPropertyOfElement:r}}=this,o=a(this);if(!o)return null;if("$$"===e||!e&&n())return o;if(!e){var s=null!=(t=r(o,"parent"))?t:null;return s===i?o:s}return this.travelAndFindElementById(e,o)}travelAndFindElementById(e,t){var{getPropertyOfElement:i}=this.hostContext,a=fd(t);if(a.templateId!==this.id)return null;if(a.id===e)return t;var n=i(t,"children");for(var r of n){var o=this.travelAndFindElementById(e,r);if(o)return o}return null}travelAndFindElementByIdDeeply(e,t,i){if(!i)return null;var{getPropertyOfElement:a}=this.hostContext,n=fd(i);if(`${this.adCustomId}-${this.idPrefix}${e}`===n.templateId&&(!t||n.id===t))return i;var r=a(i,"children");for(var o of r){var s=this.travelAndFindElementByIdDeeply(e,t,o);if(s)return s}return null}doAnimation(e){return Ql(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:i,animation:a}){var{animate:n}=this.hostContext,r=!a&&i?this.animations[i]:a,o=this.getElementById(e);if(r&&o){var{keys:s,duration:l,easing:d}=r;if(!(((null==s?void 0:s.length)||0)<2)){var u=0;for(var c of Object.keys(s)){var p=s[+c],h=this.getDataValue("offset",p),f=this.getDataValue("opacity",p),m=this.getDataValue("left",p),v=this.getDataValue("top",p),y=this.getDataValue("rotate",p),g=this.getDataValue("scaleX",p),_=this.getDataValue("scaleY",p),A=this.getDataValue("translateX",p),E=this.getDataValue("translateY",p),C=l*h,b={opacity:f,left:m,top:v,rotate:y,scaleWidth:g,scaleHeight:_,background:this.getDataValue("background",p),color:this.getDataValue("color",p),width:this.getDataValue("width",p),height:this.getDataValue("height",p),translateX:A,translateY:E};if(C<=0)this.setStyle(e,b,{isDynamic:!0,force:!0});else{var I=jl(jl({},b),{easing:d,duration:C-u});I.left=b.left,I.top=b.top,yield null==n?void 0:n(o,I),u=C,this.setStyle(e,b,{isDynamic:!0,force:!0})}}i&&t&&(yield this.emitComponentEvent(Dd.ANIMATIONEND,{animation:i}))}}}))}updateInnerStyle(){var e;if(this.innerStyles)for(var t of Object.keys(this.innerStyles)){var i=this.innerStyles[t];if(!i.expr||this.run(i.expr)){var a=jl({},i.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(a,i.darkModeStyle||{}),this.updateStyle(a,t)}}}updateInnerClassStyle(){var e;if(this.innerClassStyles)for(var t of Object.keys(this.innerClassStyles)){var i=this.innerClassStyles[t];if(!i.expr||this.run(i.expr)){var a=jl({},i.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(a,i.darkModeStyle||{}),this.updateStyle(a,`.${t}`)}}}updateOuterStyle(){var e,t=jl({},this.template.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(t,this.template.darkModeStyle||{}),this.updateStyle(t,"container")}updateClassStyle(){var e,{classStyles:t}=this;if(t)for(var i of Object.keys(t)){var a=t[i];if(!a.expr||this.run(a.expr)){var n=jl({},a.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(n,a.darkModeStyle||{}),this.updateStyle(n,`.${i}`)}}}updateComponentStyle(){var e,{style:t,darkModeStyle:i}=this;for(var a of Object.keys(i))(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(t[a],i[a]||{})}getClassList(e){var t={};return Object.keys(e).forEach((i=>{var a=e[i];Object.keys(a).forEach((e=>{t[i]=e.includes("Expr")?this.run(a.listExpr):a.list}))})),t}setStyle(e,t,{isDynamic:i,force:a}={isDynamic:!1,force:!1}){var n=i?this.dynamicStyle:this.templateStyle,r=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:o}=this.renderContext,s=e,l=!1;if("$$"===s){var d=o(this);if(!d)return;s=fd(d).id}if(r){for(var u of Object.keys(r))r[u]=this.convertApxStyle(r[u]);if(s)for(var c of(n[s]||(n[s]={}),Object.keys(r)))null!=r[c]?(r[c]!==n[s][c]&&(l=!0),n[s][c]=r[c]):delete n[s][c]}this.mounted&&l&&i&&a&&this.forceUpdate()}convertApxStyle(e){var{renderContext:{ratio:t}}=this;return((e,t)=>(null==e?void 0:e.replace)?e.replace(ad,((e,i)=>`${Number(i*t)}px`)):e)(e,t)}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var r=i.split("Expr");2===r.length&&([a]=r,n=this.run(n))}this.setStyle(t,{[a]:n})}}getScope(){var e,t,{ratio:i}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:i,time:Date.now(),undefined:void 0},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===Oc[this.adCustomId]&&(Oc[this.adCustomId]={}),Oc[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":t=>e[t],"#measureText":(e,i)=>"function"==typeof t.getTextWidth?t.getTextWidth(e,i):0,"#getIconSrc":kc,"#getNickName":Sc}}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t,{ratio:i}=this.renderContext,a=/(\d+)px/g,n={};for(var r of Object.keys(e))if(null==(t=wc)?void 0:t.includes(r)){var o=e[r],s=o;"number"==typeof o?s=o*i:"string"==typeof o?s=o.replace(a,((e,t)=>{var a=Number(t);return Number.isNaN(a)?e:a*i+"px"})):Array.isArray(o)&&(null==o?void 0:o.every((e=>"number"==typeof e)))&&(s=o.map((e=>e*i))),n[r]=s}else n[r]=e[r];return n}getTemplateStyle(e){return this.templateStyle[e]}},Mc=Rc,Nc=zl(Zl()),Lc=(e,t,i)=>{var a,n,r,o,s,l,d,u;if(!t)return t;var c={},p=null;if(null==(a=null==t?void 0:t.props)?void 0:a.className){var h=t.props.className.split(/\s+/).filter(Boolean);for(var f of h)e[`.bind-${f}`]&&Object.assign(c,e[`.bind-${f}`]),e[`.${f}`]&&Object.assign(c,e[`.${f}`])}if(Object.keys(i.classListMap).forEach((a=>{var n,r;a===((null==(n=null==t?void 0:t.props)?void 0:n.id)&&Nu(null==(r=null==t?void 0:t.props)?void 0:r.id))&&i.classListMap[a].forEach((t=>{Object.assign(c,e[`.${t}`])}))})),null==(n=null==t?void 0:t.props)?void 0:n.className){var m=t.props.className.split(/\s+/).filter(Boolean);for(var v of m){var y=Nu(v);e[`.${y}`]&&Object.assign(c,e[`.${y}`])}}if((null==(r=null==t?void 0:t.props)?void 0:r.style)&&Object.assign(c,t.props.style),null==(o=null==t?void 0:t.props)?void 0:o.id){var g=Nu(t.props.id);p=g,e[g]&&Object.assign(c,e[g])}var _=null!=(l=null==(s=t.props)?void 0:s.children)?l:null;null!=_&&"string"!=typeof _&&(_=Nc.default.Children.map(_,(t=>Lc(e,t,i))));var A,E=jl({style:hd(c,i.styleOptions)},p?{id:p,uniqueId:`${i.templateInfo.templateId}${i.isItem?"__item":""}-${p}`}:{}),C=jl(jl({},i.templateInfo),{preventMask:String(null!=(u=null==(d=t.props)?void 0:d.preventMask)&&u),id:p||""});for(var b of Object.keys(C))E[`data-${A=b,A.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`]=C[b];i.useTextTag||"text"!==t.type||null==t.props.value||null!==_||(_=t.props.value);var I=Array.isArray(_)?_:[_];return null==_?Nc.default.cloneElement(t,E):Nc.default.cloneElement(t,E,I)},Bc=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){this.emitComponentEvent(Dd.TEMPLATEWILLUPDATE);var e=t.call(this);this.updateComponentStyle(),this.updateClassStyle(),this.updateInnerClassStyle(),this.handleStyleType.includes(Lu.STYLE)&&this.updateOuterStyle(),this.handleStyleType.includes(Lu.INNERSTYLE)&&this.updateInnerStyle();var{style:i,templateStyle:a,dynamicStyle:n,renderContext:{styleOptions:r,useTextTag:o}}=this,s=Lc((e=>{var t={};for(var i of e)for(var a of Object.keys(i))t[a]||(t[a]={}),Object.assign(t[a],i[a]||{});return t})([i,a,n]),e,{styleOptions:r,isItem:this.componentBehavior===Du.BASE,useTextTag:o,templateInfo:{templateId:this.id},classListMap:this.classListMap});return s}}return e},Wc=class extends Mc{constructor(e){var t;if(super(e,{componentBehavior:Du.BASE}),this.style={blank:{width:0,height:0},container:{position:"relative",WebkitTapHighlightColor:"transparent"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=[Lu.STYLE],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:""},this.handleCommonClick=e=>{!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.doActions(this.events.tap,{event:e})},this.isShow=this.getDataValueWithDefault("_isShow",!0),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&(null==(t=this.template.style)?void 0:t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===Jd.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){e.payload.action===xd.FORCEREBUILD&&this.setState({randomKey:this.getRandomKey()})}render(){var{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:i}=this.state,a=jl({},this.getCommonSubComponentProps());if(a.randomKey=i,"for"===t.type)return Pc.default.createElement(Cp,jl({},a));var n={layout:Pc.default.createElement(qc,jl({},a)),image:Pc.default.createElement(tp,jl({},a)),text:Pc.default.createElement(Kc,jl({},a)),feedback:Pc.default.createElement(up,jl({},a)),button:Pc.default.createElement(np,jl({},a)),video:Pc.default.createElement(sp,jl({},a)),end:Pc.default.createElement(_p,jl({},a)),carousel:Pc.default.createElement(Tp,jl({},a)),countdown:Pc.default.createElement(vp,jl({},a)),livetag:Pc.default.createElement(Mp,jl({},a)),multimage:Pc.default.createElement(Bp,jl({},a)),score:Pc.default.createElement(zp,jl({},a)),rank:Pc.default.createElement(mh,jl({},a))}[t.type]||null;if(!this.isShow||null===n)return Pc.default.createElement("div",{id:"blank"});var r=this.isLinearGradient?Pc.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(n&&e()){var o=Array.isArray(n.props.children)?n.props.children:[n.props.children];return(0,Pc.cloneElement)(n,{handleCommonClick:this.handleCommonClick},...o)}return Pc.default.createElement("div",{id:"container",onClick:this.handleCommonClick},r,n)}},Fc=Wc=$l([Bc()],Wc),Vc=class extends Mc{constructor(e){var t,i,a,n,r;super(e),this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",background:"#ffffff",borderRadius:"7px"},".full-card-container-row":{flexDirection:"row"},".full-card-container-column":{flexDirection:"column"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px"},".no-interest-logo-row":{marginRight:"8px"},".no-interest-logo-column":{marginBottom:"24px"},".full-card-feedback-container-column":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e"},".full-card-feedback-title-row":{marginBottom:"5px"},".full-card-feedback-title-column":{marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=[Lu.STYLE,Lu.INNERSTYLE],this.handleAdCustomEvent=e=>{switch(e.action){case Jd.SETDARKMODE:var{darkMode:t}=e.value;this.state.darkMode!==t&&this.setState({darkMode:t});break;case Jd.HIDEAD:this.hide();break;case Jd.ADSHOWHALF:this.emitComponentEvent(Rd.SHOWHALF);break;case Jd.ADHIDEHALF:this.emitComponentEvent(Rd.HIDEHALF);break;case Jd.ADSHOWEDGE:this.emitComponentEvent(Rd.SHOWEDGE);break;case Jd.ADHIDEEDGE:this.emitComponentEvent(Rd.HIDEEDGE);break;case Jd.BTNTAP:this.emitComponentEvent(Rd.ADBUTTONTAP);break;case Jd.EXPOSURE:"value"in e?this.emitComponentEvent(Rd.EXPOSURE,e.value):this.emitComponentEvent(Rd.EXPOSURE);break;case Jd.VIEWABLEEXPOSURE:"value"in e?this.emitComponentEvent(Rd.VIEWABLEEXPOSURE,e.value):this.emitComponentEvent(Rd.VIEWABLEEXPOSURE);break;case Jd.SHOWFEEDBACK:this.showFeedback()}},this.show=e=>new Promise((t=>{this.useAnimate&&!e?this.setState({hidden:!1},(()=>{this.emitComponentEvent(Rd.SHOWANIMATE),t()})):this.useAnimate&&e?(this.emitAdCustomEvent(Jd.CHECKEXPOSURE),t()):this.setState({hidden:!1},(()=>{this.emitAdCustomEvent(Jd.CHECKEXPOSURE),t()}))})),this.hide=e=>new Promise((t=>{this.useAnimate&&!e?(this.emitComponentEvent(Rd.HIDEANIMATE),t()):this.setState({hidden:!0},(()=>{this.emitAdCustomEvent(Jd.CHECKEXPOSURE),t()}))})),this.showFeedback=()=>{var{useDefaultFeedback:e,useFullAreaFeedBack:t}=this;e&&(this.setState({showFeedback:!0}),setTimeout((()=>{this.setState({showFeedback:!1})}),3e3)),t&&this.setState({showFeedback:!0})},this.handleEnterForeground=()=>{this.emitComponentEvent(Rd.APPENTERFOREGROUND),this.emitAdCustomEvent(Jd.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(Rd.APPENTERBACKGROUND),this.emitAdCustomEvent(Jd.APPENTERBACKGROUND)},this.handleContainerClick=e=>{this.props.isMulti||this.disableContainerTap||(null==e||e.stopPropagation(),this.emitComponentEvent(Rd.CONTAINERTAP),this.emitAdCustomEvent(Jd.CONTAINERTAP,{event:e}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(i=null==(t=this.template.tplConfig)?void 0:t.isMulti)&&i,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(a=this.props.darkMode)&&a,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.fullAreaFeedBackType=this.getDataValueWithDefault("fullAreaFeedBackType","column"),this.classStyles=(null==(r=null==(n=this.template)?void 0:n.options)?void 0:r.classStyles)||{},this.bindEvents(),this.emitComponentEvent(Rd.INITIALTEMPLATE)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){var{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){var{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var i,a;e.action===xd.HIDEAD?(this.hide(),"value"in e&&e.value.preventClose):e.action===xd.CHANGEMULTISHOW?(null==(i=e.value)?void 0:i.listExpr)?this.emitAdCustomEvent(Jd.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):(null==(a=e.value)?void 0:a.list)?this.emitAdCustomEvent(Jd.CHANGEMULTISHOW,{list:e.value.list}):(null==t?void 0:t.list)&&this.emitAdCustomEvent(Jd.CHANGEMULTISHOW,{list:t.list}):e.action===xd.SHOWANIMATEDONE?this.show(!0):e.action===xd.HIDEANIMATEDONE&&this.hide(!0)}isShow(){return!this.state.hidden}render(){var e,{props:{template:t,adPosition:i,systemInfo:a},state:{hidden:n,showFeedback:r,darkMode:o}}=this,s={display:n?"none":""},l=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&l.push("fixed"),this.isWidthRequired&&l.push("width"),this.isFullScreen?Object.assign(s,{width:a.screenWidth,height:a.screenHeight}):Object.assign(s,(e=i||{},l.reduce(((t,i)=>(t[i]=e[i],t)),{}))),n&&!this.useStyleHidden?xc.default.createElement("div",null):xc.default.createElement("div",{id:"body",style:s,className:this.isFullScreen?"full-size":""},t&&xc.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick},t.children.map((e=>xc.default.createElement(Fc,jl(jl({key:e.id},this.getCommonSubComponentProps()),{template:e,darkMode:o}))))),this.useFullAreaFeedBack&&r&&xc.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container "+("row"===this.fullAreaFeedBackType?"full-card-container-row":"full-card-container-column")},xc.default.createElement("div",{className:"no-interest-logo "+("row"===this.fullAreaFeedBackType?"no-interest-logo-row":"no-interest-logo-column")}),xc.default.createElement("div",{id:"full-card-feedback-container",className:""+("row"===this.fullAreaFeedBackType?"":"full-card-feedback-container-column")},xc.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title "+("row"===this.fullAreaFeedBackType?"full-card-feedback-title-row":"full-card-feedback-title-column")},"感谢你的反馈"),xc.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告"))),this.useDefaultFeedback&&r&&xc.default.createElement("div",{id:"tip-container",className:"tip-container"},xc.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})))}},Uc=Vc=$l([Bc()],Vc),Hc=zl(Zl()),jc=zl(Zl());function Gc(e){class t extends Mc{constructor(e){super(e,{componentBehavior:Du.HOC}),this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,jc.createRef)(),this.handleTouchStart=e=>{var{getPropertyOfElement:t}=this.hostContext;if(!e._isHandleMaskClick&&this.useMask&&this.containerRef.current){for(var i=e.target,a=this.containerRef.current;i&&i!==a;){var{preventMask:n}=fd(i);if("true"===n)return;i=t(i,"parent")}this.setState({showMask:!0}),e._isHandleMaskClick=!0}},this.handleTouchEnd=()=>{this.setState({showMask:!1})},this.eventDelegator=this.renderContext.globalEventDelegator,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){this.addAdCustomListener((e=>{if(e.action===Jd.SETSTYLE){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){var{showMask:e}=this.state,{darkMode:t}=this.props,{getMaskStyle:i}=this.hostContext,{maskStyle:a,darkModeMaskStyle:n}=(null==i?void 0:i())||{},r=jl({},this.getDataValueWithDefault("_maskStyle",{})),o=a||{};return t&&(r=Object.assign(r,this.getDataValueWithDefault("_darkModeMaskStyle",{})),o=Object.assign(o,n)),Object.assign(Object.keys(o).length?o:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},r,{display:this.useMask&&e?"":"none"})}render(){var{props:t}=this,{forwardedRef:i}=t,a={};return this.useMask&&Object.assign(a,{maskContainerRef:this.containerRef,renderMask:()=>jc.default.createElement("div",{id:"mask",style:this.getMaskStyle()})}),jc.default.createElement(e,jl(jl(jl({},t),a),{ref:i}))}}return(0,jc.forwardRef)(((e,i)=>jc.default.createElement(t,jl(jl({},e),{forwardedRef:i}))))}var zc,$c,Qc=class extends Mc{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||au.COMMON,this.baseType===au.ROW?this.classRow=!0:this.baseType===au.COLUMN?this.classColumn=!0:(this.baseType,au.PROPORTION),this.state.children=this.template.children||[]}doAction({payload:e}){if(e.action===xd.ADDCHILDREN){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}render(){var{children:e}=this.state,{renderMask:t,maskContainerRef:i,handleCommonClick:a,randomKey:n}=this.props,r=["layout"];return this.classRow&&r.push("layout-row"),this.classColumn&&r.push("layout-column"),Hc.default.createElement("div",jl(jl({id:"container",className:r.join(" "),ref:i},a?{onClick:a}:{}),{style:this.containerStyle,key:n||""}),e.map((e=>Hc.default.createElement(Fc,jl(jl({key:e.id},this.getCommonSubComponentProps()),{template:e})))),null==t?void 0:t())}},qc=Gc(Qc=$l([Bc()],Qc)),Yc=zl(Zl()),Zc=class extends Mc{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"},".emoji-container":{position:"relative",width:"100%",overflow:"hidden",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},".emoji-text":{display:"flex"}},this.state={text:"",renderType:"text",renderText:null},this.classEllipsis=!1,this.emojiContainerRef=Yc.default.createRef(),this.emojiStyleStatus=!1,this.searchReplaceNode=()=>Ql(this,null,(function*(){var e,t=this.emojiContainerRef.current,i=t.childNodes,a=yield this.getBoundingClientRect(t),n=parseInt(null==(e=this.getTemplateStyle("text"))?void 0:e.fontSize,10),r=yield this.upperBound(i,a);if(r<i.length-1)for(var o=r;o>0;o--){var s=yield this.getBoundingClientRect(i[r]);if(!(a.width-(s.left-a.left)<=n))break;r-=1}else r=-1;return r})),this.upperBound=(e,t)=>Ql(this,null,(function*(){for(var i=0,a=e.length;i<a;){var n=i+Math.floor((a-i)/2);(yield this.isHidden(e[n],t))?a=n:i=n+1}return i-1})),this.isHidden=(e,t)=>Ql(this,null,(function*(){var i=yield this.getBoundingClientRect(e),{top:a,left:n,width:r}=i,{top:o,height:s,left:l,width:d}=t;return!(!(Math.round(a-o)>=Math.round(s))&&!(n-l+r>=d+.001))}));var t=this.options.baseType||du.NICKNAME;t===du.COMMON?this.initCommonComponent():t===du.NICKNAME?this.initNickNameComponent():t===du.DESC?this.initDescComponent():t===du.RELATION&&this.initRelationComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.setText(this.state.text)}componentDidMount(){super.componentDidMount(),this.options.baseType===du.RELATION&&this.emitAdCustomEvent(Jd.FETCHRELATIONTEXT,{targetid:this.id}),this.calcEmojiOverflow()}componentDidUpdate(e,t){super.componentDidUpdate&&super.componentDidUpdate(e,t),"emoji"===this.state.renderType&&t.text!==this.state.text&&this.calcEmojiOverflow()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){this.state.text="",this.addAdCustomListener((e=>{if(e.action===Jd.CHANGERELATIONTEXT){var{targetid:t,text:i}=e.value;t===this.id&&(this.setText(i),this.emitComponentEvent(Ld.RELATIONTEXTCHANGED,{text:i}),this.emitAdCustomEvent(Jd.RELATIONTEXTCHANGED,{text:i}))}}))}initNickNameComponent(){var e=this.getAdData();this.state.text=Sc(e)}initDescComponent(){var e=this.getAdData(),t=[bc.IOS,bc.ANDROID].includes(e.product_type),i=[Cc.CRT_SIZE_REWARD_VEDIO169,Cc.CRT_SIZE_REWARD_VEDIO916,Cc.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Cc.CRT_SIZE_MULTI_POS_VEDIO].includes(e.crt_size),a=e.product_type===bc.MINI_GAME,n=e.product_type===bc.WE_CHAT,r=[bc.WE_CHAT_ARTICLE,bc.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[bc.WE_CHAT_SHOP,bc.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[Cc.CRT_SIZE_MULTI_POS_NEW_PIC,Cc.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:r},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=Mu(e,s)}doAction({payload:e}){if(e.action===xd.TEXTSETTEXT){var t=this.getDataValue("text",e.value);this.setText(t)}}setText(e){var{text:t,renderText:i,renderType:a}=this.prepareRenderText(e);this.mounted?this.setState({text:t,renderText:i,renderType:a}):(this.state.text=t,this.state.renderType=a,this.state.renderText=i)}hasEmoji(e){return/\[.*?\]/g.test(e)}prepareRenderText(e){var t=this.hasEmoji(e),i=null,a=t?"emoji":"text";return t&&(!this.emojiStyleStatus&&this.initEmojiTextStyle(),i=this.getEmojiTextJsx(e)),{text:e,renderType:a,renderText:i}}getEmojiTextJsx(e){var t=md(e)||[];return t.length?Yc.default.createElement(Yc.default.Fragment,null,t.map((e=>{var t,i,a;return!e.props&&(e.props={}),"img"===e.type?((null==(t=e.props)?void 0:t.className)?e.props.className+=" emoji-img":e.props.className="emoji-img",a={type:"div",props:{className:"emoji-img-wrap"},children:Yc.default.createElement(e.type,e.props,null)}):(null==(i=(a=Object.assign({},e)).props)?void 0:i.className)?a.props.className+=" emoji-text":a.props.className="emoji-text",Yc.default.createElement(a.type,a.props,a.children)}))):null}initEmojiTextStyle(){var e,t,i;(null==(i=null==(t=null==(e=this.template)?void 0:e.options)?void 0:t.innerStyles)?void 0:i.text)&&(this.bindStyle([{originId:"text",originKey:"maxHeight",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"maxWidth",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"width",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"textAlign",destRules:[{destClassName:"emoji-container",handleFn:e=>"left"===e?"flex-start":"right"===e?"flex-end":e,destKey:"justifyContent"}]},{originId:"text",originKey:"height",destRules:[{destClassName:"emoji-container"},{destClassName:"emoji-text",handleFn:(e,t)=>t.lineHeight||e}]},{originId:"text",originKey:"WebkitBoxOrient",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"marginTop",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"color",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontSize",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img",destKey:"width"},{destClassName:"emoji-img",destKey:"height"},{destClassName:"emoji-img-wrap",destKey:"width"},{destClassName:"emoji-img-wrap",destKey:"height"},{destClassName:"emoji-overflow",destKey:"width"}]},{originId:"text",originKey:"lineHeight",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img"},{destClassName:"emoji-text",destKey:"height",handleFn:(e,t)=>e||t.height}]},{originId:"text",originKey:"fontWeight",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontFamily",destRules:[{destClassName:"emoji-text"}]}]),this.emojiStyleStatus=!0)}getBoundingClientRect(e){var{getBoundingClientRect:t}=this.hostContext;return t?t(e):{}}calcEmojiOverflow(){return Ql(this,null,(function*(){var{renderType:e,renderText:t}=this.state;if("text"!==e&&t){var i=[...t.props.children],a=yield this.searchReplaceNode();-1!==a&&("div"===i[a].type?i.splice(a,1,Yc.default.createElement("text",{className:"emoji-text emoji-overflow",value:"..."})):(i[a].props.className+=" emoji-overflow",i[a].props.value="..."),i=i.slice(0,a+1),t.props.children=i,this.setState({renderText:Object.assign({},t)}))}}))}render(){var{classEllipsis:e,emojiContainerRef:t}=this,{renderMask:i,maskContainerRef:a,randomKey:n}=this.props,{renderText:r,renderType:o}=this.state,{text:s}=this.state;return"text"===o&&this.classEllipsis&&null!==this.maxLen&&s&&(s=((e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e})(s,2*this.maxLen)),Yc.default.createElement("div",{id:"container",ref:a,onClick:this.props.handleCommonClick,key:n||""},"emoji"===o?Yc.default.createElement("div",{ref:t,id:"emoji-container",className:"emoji-container"},r):Yc.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:s}),null==i?void 0:i())}},Kc=Gc(Zc=$l([Bc()],Zc)),Xc=zl(Zl()),Jc=(e,t)=>{if(!e)return"";if(!t)return e;var i=e.split("#"),a=i[0].indexOf("?")>-1?"&":"?",n="",r=Object.keys(t);if(r.length>0){for(var o of r)n=n.concat(`${o}=${t[o]}&`);return n.length>0&&(n=n.substring(0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},ep=class extends Mc{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.retry=0,this.exposureLoadRetry=0,this.loadError=!1,this.orginImgUrl="",this.handleAdCustomEvent=e=>{if(e.action===Jd.ADSHOWEDGE&&this.loadError){var t=Number(this.getDataValueWithDefault("attachRetryTimes",5));if(this.exposureLoadRetry<t){this.exposureLoadRetry+=1;var i=Jc(this.state.imgUrl,{exposureLoadRetry:this.exposureLoadRetry});this.setState({imgUrl:i})}}},this.handleImgLoad=()=>{this.loadError=!1,this.emitComponentEvent(qd.IMGLOAD),this.emitAdCustomEvent(Jd.IMGLOAD,{baseType:this.baseType})},this.handleImgError=()=>{this.loadError=!0;var e=Number(this.getDataValue("retryTimes"));if(e)if(this.orginImgUrl||(this.orginImgUrl=this.state.imgUrl),this.retry<e){this.retry+=1;var t=Jc(this.orginImgUrl,{retry:this.retry});this.setState({imgUrl:t})}else this.emitComponentEvent(qd.IMGERROR)},this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||ru.ICON;switch(this.baseType=t,t){case ru.COMMON:this.initCommonComponent();break;case ru.AD:this.initADComponent();break;case ru.ICON:this.initIconComponent()}this.addAdCustomListener(this.handleAdCustomEvent),this.useBgMode}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData();[bc.IOS,bc.ANDROID].includes(e.product_type)?this.classAppIcon=!0:this.classIcon=!0,this.state.imgUrl=kc(e)}initADComponent(){var e,t=this.getAdData(),i=t.image_url;if(!i.startsWith("http"))try{i=(null==(e=t.crtInfo[0])?void 0:e.image_url)||t.crtInfo.image_url||i}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||i}doAction({payload:e}){e.action===xd.IMAGESETSRC&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,{renderMask:i,maskContainerRef:a,randomKey:n}=this.props,r=this.baseType===ru.AD,{imgUrl:o}=this.state,s=["image-img"];return e&&s.push("image-img-appicon"),t&&s.push("image-img-icon"),Xc.default.createElement("div",{id:"container",className:"image",ref:a,onClick:this.props.handleCommonClick,key:n||""},Xc.default.createElement("img",jl(jl({id:"img"},r?{"bubble-event":!1}:{}),{className:s.join(" "),src:o,onLoad:this.handleImgLoad,onError:this.handleImgError})),null==i?void 0:i())}},tp=Gc(ep=$l([Bc()],ep)),ip=zl(Zl()),ap=class extends Mc{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=e=>{e.action===Jd.CHANGEADBTNTEXT&&e.value.text&&this.setState({buttonText:e.value.text})},this.handleButtonClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(Jd.BTNTAP,{event:e}),this.emitComponentEvent(Nd.BUTTONTAP,{event:e})};var t=this.options.baseType||cu.LOGICCOMMON;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),t===cu.COMMON?this.initCommonComponent():t===cu.LOGICCOMMON&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e,t=this.getAdData(),i=this.getDataValue("buttonText");i?this.state.buttonText=i:t.product_type===bc.WE_CHAT?this.state.buttonText=(null==(e=null==t?void 0:t.biz_info)?void 0:e.is_subscribed)?"查看":t.button_action.button_text:this.state.buttonText=t.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){var t=this.getDataValue("value",e);e.action===xd.BUTTONSETTEXT&&this.setText(t)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props;return ip.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:i||""},this.isShowIcon&&ip.default.createElement("div",{id:"button-icon",className:"button-icon"}),ip.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},np=Gc(ap=$l([Bc()],ap)),rp=zl(Zl()),op=class extends Mc{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px 8px 0px 0px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoRef=rp.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.preload="auto",this.toggleMuted=e=>{var t=!this.state.muted;null==e||e.stopPropagation(),this.setState({muted:t}),this.emitComponentEvent(Wd.MUTEDCHANGE,{muted:t}),this.emitAdCustomEvent(Jd.ADVIDEOMUTECHANGE,{muted:t})},this.handleCustomEvent=e=>{var t;switch(e.action){case Jd.APPENTERBACKGROUND:var i=Math.min(this.currentTime,this.videoDuration);"value"in e&&(null==(t=e.value)?void 0:t.inAdDetail)?this.reportVideoPlay("partial","app_exit",i):this.reportVideoPlay("partial","exit",i);break;case Jd.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case Jd.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case Jd.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case Jd.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration);break;case Jd.OPERATEADVIDEO:var{type:a}=e.value;["play","pause","stop"].includes(a)&&this.operateVideoPlay(a);break;case Jd.CHANGEVIDEOMUTE:var{muted:n}=e.value;this.setState({muted:n}),this.emitComponentEvent(Wd.MUTEDCHANGE,{muted:n})}},this.handleError=e=>{this.useResumeBtn&&this.setState({isShowResumeBtn:!0}),this.emitAdCustomEvent(Jd.ADVIDEOLOADFAILED,e)},this.handleTimeUpdate=e=>{var t,i,a=e.duration||(null==(t=e.target)?void 0:t.duration),n=e.position||(null==(i=e.target)?void 0:i.currentTime);if(null!=a&&null!=n){var r=Math.min(1,n/a);this.setStyle("videoProgressPlayed",{width:100*r+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(a-n)}s`}),this.emitComponentEvent(Wd.VIDEOTIMEUPDATE,{event:e,rate:r}),this.emitAdCustomEvent(Jd.ADVIDEOTIMEUPDATE,{duration:a,position:n}),this.currentTime=1e3*n,this.videoDuration||(this.videoDuration=1e3*a)}},this.handleEnded=e=>{this.emitComponentEvent(Wd.VIDEOENDED,{event:e}),this.emitAdCustomEvent(Jd.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.emitAdCustomEvent(Jd.ADVIDEOENDED),this.reportVideoPlay("complete","end",this.videoDuration),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(Jd.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(Wd.VIDEOPLAY,{event:e}),this.emitAdCustomEvent(Jd.ADVIDEOPLAY,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(Wd.VIDEOPAUSE,{event:e}),this.emitAdCustomEvent(Jd.ADVIDEOPAUSE,{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.handleLoadedMetaData=e=>{this.emitAdCustomEvent(Jd.ADVIDEOLOADEDMETADATA),this.emitComponentEvent(Wd.VIDEOLOADEDMETADATA,{event:e,time:Date.now()})},this.handleResume=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(Jd.ADVIDEORESUMEBTNCLICK)},this.baseType=this.options.baseType||hu.AD,this.baseType===hu.COMMON?this.initCommonComponent():this.baseType===hu.AD&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.state.autoplay=this.getDataValueWithDefault("autoplay",!1),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.preload=this.getDataValueWithDefault("preload","auto"),setTimeout((()=>{this.emitComponentEvent(Wd.MUTEDCHANGE,{muted:this.state.muted})}),0)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e=this.getAdData();this.src=this.getDataValue("src")||Mu(e,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.poster=this.getDataValue("poster")||Mu(e,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*Mu(e,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]),this.addAdCustomListener(this.handleCustomEvent),this.emitAdCustomEvent(Jd.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case xd.VIDEOTOGGLEMUTED:this.toggleMuted();break;case xd.VIDEOPLAY:this.operateVideoPlay("play");break;case xd.VIDEOPAUSE:this.operateVideoPlay("pause");break;case xd.VIDEOSTOP:this.operateVideoPlay("stop")}}operateVideoPlay(e){var{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,i=0){this.baseType===hu.AD&&this.emitAdCustomEvent(Jd.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:i,mutedIconSrc:a,voiceIconSrc:n,voicePlacement:r,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:d,playsInline:u,useResumeBtn:c,useClickMask:p,preload:h}=this,{muted:f,loop:m,autoplay:v,countDownNumber:y,isEndPageShowing:g,isShowResumeBtn:_}=this.state,{renderMask:A,maskContainerRef:E,randomKey:C}=this.props,b=["video-voice-box"],I=["video-count-down"];return b.push(`video-voice-box-${r}`),I.push(`video-count-down-${o}`),rp.default.createElement("div",{id:"container",className:"video",ref:E,onClick:this.props.handleCommonClick,key:C||""},rp.default.createElement("video",{id:"video",className:"video-context",ref:this.videoRef,src:e,poster:t,controls:!1,muted:f,loop:m,autoPlay:v,autoplay:v,autoInsert:!1,playsInline:u,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:d,preload:h,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData},p&&rp.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),c&&_&&rp.default.createElement("div",{className:"video-resume-container",id:"video-resume-container"},rp.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn",onClick:this.handleResume},rp.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!g&&i&&rp.default.createElement("div",{id:"videovoicebox",className:b.join(" "),onClick:this.toggleMuted,preventMask:!0},rp.default.createElement("img",{src:f?a:n,id:"video-voice-img",className:"video-voice-icon"})),s&&rp.default.createElement("div",{id:"video-progress",className:"video-progress"},rp.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!g&&l&&y&&rp.default.createElement("text",{id:"video-count-down",className:I.join(" "),value:y}),null==A?void 0:A())}},sp=Gc(op=$l([Bc()],op)),lp=zl(Zl()),dp=class extends Mc{constructor(e){super(e),this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleCloseClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.emitComponentEvent(Vd.TAGTAP,{event:e}),this.emitAdCustomEvent(Jd.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})},this.handleTagClick=e=>{if(null==e||e.stopPropagation(),this.baseType===mu.SIMPLE)return this.handleSimpleTagClick(e);if(this.baseType===mu.SINGLETAG)return this.handleSingleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?(this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitAdCustomEvent(Jd.FEEDBACKHIDE)):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标",event:e}),this.emitComponentEvent(Vd.TAGTAP,{event:e}))},this.handleDislikeClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(Vd.DISLIKETAP,{event:e}),this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Vd.FEEDBACKBTNTAP,{event:e}),this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.emitAdCustomEvent(Jd.FEEDBACKBTNTAP)},this.handleAdCustomEvent=e=>{e.action===Jd.FEEDBACKHIDE&&this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.checkUseApx(),this.baseType=this.options.baseType||mu.COMMON,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.isShowCloseTag=this.getDataValueWithDefault("isShowCloseTag",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.tagContainerPreventMask=this.getDataValueWithDefault("tagContainerPreventMask",!0),this.addAdCustomListener(this.handleAdCustomEvent)}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.getDataValue("preventHide")||this.emitAdCustomEvent(Jd.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)}),this.emitComponentEvent(Vd.TAGTAP,{event:e})}handleSingleTagClick(e){this.emitAdCustomEvent(Jd.FEEDBACKSINGLETAGTAP,{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Vd.DISLIKEREASONTAP,{event:t}),this.emitAdCustomEvent(Jd.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e,event:t});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(Jd.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(Jd.HIDEAD,{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,{useStyleHidden:a,tagContainerPreventMask:n}=this,{renderMask:r,maskContainerRef:o,randomKey:s}=this.props,l=["feedback-list"],d=["feedback-list"];i&&(l.push(`feedback-list-${i.toLowerCase()}`),d.push(`feedback-list-${i.toLowerCase()}`)),a&&(l.push(e?"show":"hide"),d.push(t?"show":"hide"));var u=this.getDataValue("feedbackIcon")||(this.baseType===mu.SIMPLE?this.closeIconSrc:this.feedbackIconSrc),c=this.baseType===mu.SIMPLE?"close-icon":"feedback-icon",p=this.getDataValueWithDefault("feedbackTagText","广告");return lp.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:o,onClick:this.props.handleCommonClick,key:s||""},lp.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:n},lp.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),lp.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:p}),lp.default.createElement("img",{id:"feedback-icon",className:c,src:u})),(e||a)&&lp.default.createElement("div",{id:"menu1",key:"menu1",className:l.join(" ")},this.isShowFeedbackTitle&&lp.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),this.isShowCloseTag&&lp.default.createElement(lp.default.Fragment,null,lp.default.createElement("div",{className:"feedback-line"}),lp.default.createElement("text",{id:"close-btn",className:"feedback-btn",onClick:this.handleCloseClick,value:"关闭此广告",preventMask:!0})),lp.default.createElement("div",{className:"feedback-line"}),lp.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),lp.default.createElement("div",{className:"feedback-line"}),lp.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||a)&&lp.default.createElement("div",{id:"menu2",key:"menu2",className:d.join(" ")},lp.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),lp.default.createElement("div",{className:"feedback-line"}),lp.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),lp.default.createElement("div",{className:"feedback-line"}),lp.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==r?void 0:r())}},up=Gc(dp=$l([Bc()],dp)),cp=zl(Zl());($c=zc||(zc={})).CHILDREN="CHILDREN",$c.COUNTDOWN="COUNTDOWN",$c.SPLITLINE="SPLITLINE";var pp,hp,fp=[zc.SPLITLINE,zc.COUNTDOWN],mp=class extends Mc{constructor(e){super(e),this.style={".countdown":{position:"relative"},".backgroundContainer":{display:"flex",position:"relative",flexDirection:"row",height:"32px",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:"0.5px",borderRadius:"16px"},".countdown-container":{height:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"14px",color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"11px",color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:"0.5px",height:"18.5px",marginRight:"9px",position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)",marginLeft:"50px"}},this.state={countdownValue:"5"},this.children=[],this.useCountdownText=!0,this.useFeedback=!0,this.componentOrders=fp,this.feedback={type:"feedback",id:"Countdown-Feedback",options:{innerStyles:{container:{style:{position:"absolute",height:"32px",display:"flex",zIndex:1111999,left:"12px",padding:"0px"}},feedbackTag:{style:{fontSize:"14px",width:"28px",height:"20px",lineHeight:"20px"}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:"0px",padding:"0px",height:"32px",top:"0px",left:"0px",display:"flex"}},feedbackIcon:{style:{marginLeft:"4.5px",width:"9px",height:"6px",marginTop:"4px"}},menu1:{style:{top:"40px",left:"0px"}},menu2:{style:{top:"40px",left:"0px"}}},data:{}}},this.defaultChildren={},this.handleAdCustomEvent=e=>{if(e.action===Jd.CHANGECOUNTDOWN){var t=2===e.value.value.toString().length?18:11;this.setStyle("countdownvalue",{width:t}),this.setState({countdownValue:e.value.value})}},this.defaultChildren.feedback=this.feedback,this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent),this.useCountdownText=this.getDataValueWithDefault("useCountdownText",!0),this.useFeedback=this.getDataValueWithDefault("useFeedback",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",fp)}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getDataValue("childrenConf");if(t)for(var i of Object.keys(t))this.defaultChildren[i]&&Sd(this.defaultChildren[i],t[i]);var a=[];return a=[this.defaultChildren.feedBack],3===e?a.concat(this.template.children||[]):a}render(){var{children:e,state:{countdownValue:t},useCountdownText:i,componentOrders:a,useFeedback:n}=this,{renderMask:r,maskContainerRef:o,randomKey:s}=this.props,l=e=>cp.default.createElement("div",{id:"countdown-container",className:"countdown-container",key:e},cp.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:t}),i&&cp.default.createElement("text",{className:"countdown-text",value:"秒"})),d=e=>cp.default.createElement("div",{id:"split-line",className:"split-line",key:e}),u=t=>e.map((e=>cp.default.createElement(Fc,jl(jl({},this.getCommonSubComponentProps()),{template:e,key:t}))));return cp.default.createElement("div",{id:"container",className:"countdown",ref:o,onClick:this.props.handleCommonClick,key:s||""},n&&(()=>cp.default.createElement(Fc,jl(jl({},this.getCommonSubComponentProps()),{template:this.feedback})))(),cp.default.createElement("div",{className:"backgroundContainer"},a.map((e=>{return t=e,{[zc.CHILDREN]:u(t),[zc.SPLITLINE]:d(t),[zc.COUNTDOWN]:l(t)}[t];var t}))),null==r?void 0:r())}},vp=Gc(mp=$l([Bc()],mp)),yp=zl(Zl()),gp=class extends Mc{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=e=>Ql(this,[e],(function*({action:e}){switch(e){case Jd.SHOWENDPAGE:yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(Jd.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(Hd.SHOW);break;case Jd.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case Jd.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case Jd.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case Jd.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}})),this.handleReplay=e=>{null==e||e.stopPropagation(),this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Jd.ENDPAGEHIDE),this.emitComponentEvent(Hd.HIDE),this.reportEndPage({act_type:1003}),this.emitComponentEvent(Hd.REPLAY)},this.handleContainerClick=e=>{var t,i;this.reportEndPage({act_type:1002}),null==(i=(t=this.props).handleCommonClick)||i.call(t,e)};var t=this.getAdData();this.cardInfo=Ru(t,["crtInfo",0,"card_info"],"")||Ru(t,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);var{end_page_type:i}=this.cardInfo;(i||this.getDataValueWithDefault("forceEnabled",!1))&&(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((()=>{this.emitAdCustomEvent(Jd.ENDPAGEINIT)}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(Jd.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===xd.ENDPAGEHIDE&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Jd.ENDPAGEHIDE),this.emitComponentEvent(Hd.HIDE))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id,{renderContext:{isFlattenLayer:r}}=this;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:xd.REPORTMMDATA,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:xd.TRIGGEREVENT,value:{eventName:Hd.VIDEODISLIKE}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:'#like($const.systemInfo.osVersion, "Android") ? "1px" : "0"'}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:xd.REPORTENDPAGE,value:{data:{act_type:1001}}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var s of Object.keys(o))a[s]&&Sd(a[s],o[s]);var l=[];if(this.useEndDefaultFeedback&&l.push(a.feedBack),l=2===this.cardInfo.end_page_type?l.concat([a.layoutSmall,a.descBig,a.button]):l.concat([a.iconBig,a.nickBig,a.descSmall,a.button]),3===e)return l.concat(this.template.children||[]);if(r()&&l){var d=e=>{e.forEach((e=>{var t;e.style&&((e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,r=0;n&&r<a.length-1;)n[a[r]]||(n[a[r]]={}),n=n[a[r]],r+=1;n[a[r]]=i})(e,"options.innerStyles.container.style",Sd({},e.style,Ru(e,"options.innerStyles.container.style",{}))),(null==(t=null==e?void 0:e.children)?void 0:t.length)&&d(e.children)}))};d(l)}return l}render(){var{backgroundImage:e,children:t,refreshIconSrc:i,showFreshIcon:a,state:{isShowEndPage:n}}=this,{renderMask:r,maskContainerRef:o,randomKey:s}=this.props;return yp.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:o,key:s||"",style:{display:n?"flex":"none"}},e&&yp.default.createElement("img",{id:"backgroundImage",src:e}),t.map((e=>yp.default.createElement(Fc,jl(jl({key:e.id},this.getCommonSubComponentProps()),{template:e})))),a&&yp.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},yp.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:i}),yp.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==r?void 0:r())}},_p=gp=$l([Bc()],gp),Ap=zl(Zl()),Ep=class extends Mc{constructor(e){super(e),this.forType=this.options.baseType||Eu.COMMON,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===Eu.ADS&&(this.forArr=this.getAdDatas())}render(){var{template:e}=this.props,t=this.forArr.map(((t,i)=>e.children.map((a=>Ap.default.createElement(Fc,jl(jl({},this.getCommonSubComponentProps()),{key:`${a.id}-${i}`,idPrefix:this.idPrefix+(e.id||"")+i.toString(),forType:this.forType,forItem:t,template:a,forIndex:i})))))).reduce(((e,t)=>[...e,...t]),[]);return Ap.default.createElement(Ap.default.Fragment,null,t)}},Cp=Ep=$l([Bc()],Ep),bp=zl(Zl()),Ip=class extends Mc{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=e=>{null==e||e.stopPropagation();var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a=(this.isCol?e.pageY:e.pageX)-t,n=Math.floor(a/this.size);this.emitComponentEvent(Gd.UNITTAP,{index:n,event:e})},this.handleAdCustomEvent=({action:e})=>{[Jd.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[Jd.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||bu.ROWLOOP,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===bu.COLUMNLOOP,this.baseType===bu.ROWLOOP?this.initCarousel("width"):this.baseType===bu.COLUMNLOOP&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){return Ql(this,null,(function*(){var e=this;if(this.isViewable&&!this.isPlaying){var t=this.baseType===bu.ROWLOOP?"left":"top";if(this.disabled)this.emitComponentEvent(Gd.SHOWCHANGE,{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent(Gd.SHOWCHANGE,{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(var i=function*(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(Gd.SHOWCHANGE,{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<this.animateCount;a+=1)yield*i(a);this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[t]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(e){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;var n=setTimeout((()=>{this.timerSet.delete(n),this.autoplay()}),this.duration/4);this.timerSet.add(n)}}}))}render(){var{template:{children:e}}=this.props,{renderMask:t,maskContainerRef:i,randomKey:a}=this.props,{baseType:n,allCount:r,showCount:o}=this;if(!(e&&e.length&&r&&o))return bp.default.createElement("div",{id:"blank"});var s=["carousel-list",n===bu.ROWLOOP?"carousel-row":"carousel-col"];return bp.default.createElement("div",{id:"container",className:"carousel",ref:i,onClick:this.props.handleCommonClick,key:a||""},bp.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),bp.default.createElement("div",{id:"list",className:s.join(" ")},e.map((e=>bp.default.createElement(Fc,jl(jl({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==t?void 0:t())}},Tp=Gc(Ip=$l([Bc()],Ip)),wp=zl(Zl()),kp=()=>wp.default.createElement("div",null),Sp=zl(Zl()),xp="none",Pp="onlive",Dp="end",Op="reserve",Rp=class extends Mc{constructor(e){super(e),this.style={".livetag":{position:"relative",zIndex:1000010},".livetag-hidden":{display:"none"},".ad-channels-live":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-live-icon":{width:"10px",height:"10px",marginRight:"3px"},".ad-channels-live-text":{height:"14px",color:"#ffffff",fontSize:"10px",lineHeight:"15px"},".ad-channels-end":{display:"flex",backgroundColor:"#959FC1",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-reserve":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 6px"}},this.state={status:xp},this.handleAdCustomEvent=e=>{e.action===Jd.UPDATECHANNELSTATUS&&this.setState({status:e.value.status},(()=>{this.updateInnerStyle()}))},this.addAdCustomListener(this.handleAdCustomEvent)}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,{status:a}=this.state;return a===xp&&["livetag"].push("livetag-hidden"),Sp.default.createElement("div",{id:"container",className:"livetag",ref:t,key:i||""},a===Pp&&Sp.default.createElement("div",{id:"ad-channels-live",className:"ad-channels-live"},Sp.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Sp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播中"})),a===Dp&&Sp.default.createElement("div",{id:"ad-channels-end",className:"ad-channels-end"},Sp.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Sp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播结束"})),a===Op&&Sp.default.createElement("div",{id:"ad-channels-reserve",className:"ad-channels-reserve"},Sp.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播预约"})),null==e?void 0:e())}},Mp=Gc(Rp=$l([Bc()],Rp)),Np=zl(Zl()),Lp=class extends Mc{constructor(e){super(e),this.style={".mult-image":{display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},".img-row-container":{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",overflow:"hidden",flex:"1 1 auto",alignItems:"stretch"},".img-container":{display:"flex",flex:"1",overflow:"hidden"},".img-item":{width:"100%",height:"100%",borderRadius:"4px"},".img-container-column-space-right":{marginRight:"2px"},".img-container-column-space-left":{marginLeft:"2px"},".img-container-row-space-bottom":{marginBottom:"2px"},".img-container-row-space-top":{marginTop:"2px"}},this.state={imgUrlArr:[],imgUrlPlacement:[],row:0,column:0},this.retry=[],this.exposureLoadRetry=[],this.loadError=[],this.initADComponent=()=>{var e=this.getAdData(),t=[];Array.isArray(e.crtInfo)&&e.crtInfo.length>1?t=e.crtInfo:Array.isArray(e.crtInfos)&&e.crtInfos.length>1&&(t=e.crtInfos),t=null==t?void 0:t.map((e=>e.image_url)),this.setImgUrlPlacement(t)},this.initCommonComponent=()=>{var e=this.getDataValueWithDefault("imgUrlArr",[]);this.setImgUrlPlacement(e)},this.setImgUrlPlacement=e=>{this.state.imgUrlArr=e,this.state.imgUrlPlacement=this.getImgUrlPlacement(e)},this.getImgUrlPlacement=e=>{for(var{row:t,column:i}=this.state,a=[],n=0;n<e.length;n++){var r=Math.floor(n/i),o=e[n];a[r]?a[r].push(o):a[r]=[o]}return a.splice(t,a.length-t),a},this.handleAdCustomEvent=e=>{if(e.action===Jd.ADSHOWEDGE&&-1!==this.loadError.indexOf(!0)){var{imgUrlArr:t}=this.state,i=Number(this.getDataValueWithDefault("attachRetryTimes",5));this.loadError.forEach(((e,a)=>{var n;if((n=this.exposureLoadRetry)[a]||(n[a]=0),e&&this.exposureLoadRetry[a]<i){this.exposureLoadRetry[a]+=1;var r=t[a],o=Jc(r,{exposureLoadRetry:this.exposureLoadRetry[a]});t.splice(a,1,o)}})),this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}},this.handleImgLoad=e=>()=>{this.loadError[e]=!1,this.emitComponentEvent(Zd.IMGLOAD,{index:e}),this.emitAdCustomEvent(Jd.MULTIMGLOAD,{index:e})},this.handleImgError=e=>()=>{var t;this.loadError[e]=!0;var i=Number(this.getDataValue("retryTimes"));if(i)if((t=this.retry)[e]||(t[e]=0),this.retry[e]<=i){var{imgUrlArr:a}=this.state,n=a[e];this.retry[e]+=1;var r=Jc(n,{retry:this.retry[e]});a.splice(e,1,r),this.setState({imgUrlArr:a,imgUrlPlacement:this.getImgUrlPlacement(a)})}else this.emitComponentEvent(Zd.IMGERROR,{index:e})};var t=this.options.baseType||su.AD,i=this.getDataValueWithDefault("row",0),a=this.getDataValueWithDefault("column",0);switch(this.baseType=t,this.state.row=+i,this.state.column=+a,t){case su.COMMON:this.initCommonComponent();break;case su.AD:this.initADComponent()}this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){if(e.action===xd.IMAGESETSRC){var t=this.getDataValue("imgUrlArr",e.value);this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}}render(){var{renderMask:e,randomKey:t,maskContainerRef:i}=this.props,a=this.baseType===su.AD,{row:n,column:r,imgUrlPlacement:o}=this.state;return Np.default.createElement("div",{id:"container",className:"mult-image",ref:i,onClick:this.props.handleCommonClick,key:t||""},o.map(((e,t)=>Np.default.createElement("div",{className:`img-row-container img-row-container-${t} \n                ${t<n-1?"img-container-row-space-bottom":""} \n                ${t>0?"img-container-row-space-top":""}`},null==e?void 0:e.map(((e,i)=>Np.default.createElement("div",{className:`img-container\n                      ${i<r-1?"img-container-column-space-right":""} \n                      ${i>0?"img-container-column-space-left":""}`},this.loadError[t*r+i]?Np.default.createElement("div",{className:"img-item img-item-placeholder"}):Np.default.createElement("img",jl(jl({},a?{"bubble-event":!1}:{}),{className:"img-item",src:e,onLoad:this.handleImgLoad(t*n+i),onError:this.handleImgError(t*n+i)})))))))),null==e?void 0:e())}},Bp=Gc(Lp=$l([Bc()],Lp)),Wp=zl(Zl()),Fp=["https://wxa.wxs.qq.com/images/factory/star_full_lm.png","https://wxa.wxs.qq.com/images/factory/star_half_lm.png","https://wxa.wxs.qq.com/images/factory/star_empty_lm.png"],Vp=["https://wxa.wxs.qq.com/images/factory/star_full_dm.png","https://wxa.wxs.qq.com/images/factory/star_half_dm.png","https://wxa.wxs.qq.com/images/factory/star_empty_dm.png"];(hp=pp||(pp={})).TEXT="TEXT",hp.SCORE="SCORE",hp.STARS="STARS";var Up,Hp,jp=[pp.TEXT,pp.STARS,pp.SCORE],Gp=class extends Mc{constructor(e){super(e),this.isNormal=!1,this.textStyle={fontWeight:600,fontSize:"14px",lineHeight:"24px",height:"24px"},this.style={".score":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".score-title":jl({color:"#10AEFF"},this.textStyle),".score-img-wrapper":{marginLeft:"12px",display:"flex",flexDirection:"row",alignItems:"center",height:this.textStyle.height},".score-img":{height:"13px",width:"13px",marginLeft:"1px"},".score-num":jl({marginLeft:"8px",color:"#10AEFF"},this.textStyle),".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.useScoreText=!0,this.componentOrders=jp,this.starIcons=Fp,this.starIconsDark=Vp,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.getScoreInfo=()=>{var e,t=this.getAdData();return[bc.IOS,bc.ANDROID].includes(t.product_type)&&(null==(e=null==t?void 0:t.app_info)?void 0:e.app_rating)&&!isNaN(t.app_info.app_rating)&&t.app_info.app_rating>=3?Number(t.app_info.app_rating.toFixed(1)):0},this.scoreInfo=()=>{var e=this.getAdData(),[t,i,a]=this.props.darkMode?this.starIconsDark:this.starIcons,n=this.getScoreInfo.call(this),r=`${n}`,o=e.product_type;if(n){var s,l=new Array(5).fill(null).map((()=>t));return o===bc.IOS?s="App Store评分":o===bc.ANDROID&&(s="应用宝评分"),3===n?(l[3]=a,l[4]=a):n<=3.5?(l[3]=i,l[4]=a):n<=4?l[4]=a:n<=4.5&&(l[4]=i),/\./.test(r)||(r=`${n}.0`),{scoreTitle:s,scoreImage:l,score:`${r}${this.useScoreText?"分":""}`}}return null},this.useScoreText=!!this.getDataValueWithDefault("useScoreText",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",jp),this.starIcons=this.getDataValueWithDefault("starIcons",Fp),this.starIconsDark=this.getDataValueWithDefault("starIconsDark",Vp)||this.starIcons,this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1)}render(){var e=this.scoreInfo();if(!e)return null;var{scoreTitle:t,scoreImage:i,score:a}=e,{renderMask:n,maskContainerRef:r,randomKey:o}=this.props,{componentOrders:s,useLeftSplitLine:l,useRightSplitLine:d}=this,u=e=>Wp.default.createElement("text",{key:e,id:"scoreTitle",className:"score-title score-text",value:t}),c=e=>Wp.default.createElement("text",{key:e,id:"scoreNum",className:"score-num score-text",value:a}),p=e=>Wp.default.createElement("div",{id:"scoreImgWrapper",className:"score-img-wrapper",key:e},i.map(((e,t)=>Wp.default.createElement("img",{key:t,id:`scoreImg${t+1}`,className:"score-img",src:e}))));return Wp.default.createElement("div",{id:"container",className:"score",ref:r,key:o||""},l&&Wp.default.createElement("div",{className:"split-line split-line-left"}),s.map((e=>{return t=e,{[pp.TEXT]:u(t),[pp.SCORE]:c(t),[pp.STARS]:p(t)}[t];var t})),d&&Wp.default.createElement("div",{className:"split-line split-line-right"}),null==n?void 0:n())}},zp=Gc(Gp=$l([Bc()],Gp)),$p=zl(Zl()),Qp="https://wxa.wxs.qq.com/images/factory/rankIcon.png";(Hp=Up||(Up={}))[Hp.DATA_TYPE_POPULARITY_GAME_LIST=2]="DATA_TYPE_POPULARITY_GAME_LIST",Hp[Hp.DATA_TYPE_BEST_SELLING_GAME_LIST=3]="DATA_TYPE_BEST_SELLING_GAME_LIST",Hp[Hp.DATA_TYPE_NEW_GAME_LIST=4]="DATA_TYPE_NEW_GAME_LIST";var qp,Yp,Zp,Kp,Xp,Jp,eh,th,ih,ah,nh,rh,oh,sh,lh,dh,uh,ch,ph,hh,fh=class extends Mc{constructor(e){super(e),this.style={".ranking":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".ranking-img":{width:"16px",height:"16px"},".ranking-info":{marginLeft:"8px",color:"#FA9D3B",fontWeight:600,fontSize:"12px",lineHeight:"16px",height:"16px"},".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.iconUrl=Qp,this.useIcon=!1,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.useRankSpace=!1,this.getRankingType=()=>{var e,t=this.getAdData();switch(null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_type){case 2:return"人气榜";case 3:return"畅销榜";case 4:return"新游榜"}return""},this.getRankingInfo=()=>{var e,t=this.getAdData(),i=null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_no;if(!isNaN(i)){var a=+i+1;return a<=5?a:a<=30?a-a%5+5:50}return 0},this.getValue=()=>{var e=this.getRankingType.call(this);if(e){var t=this.getRankingInfo.call(this);return`小游戏${e} TOP${this.useRankSpace?" ":""}${t}`}return null},this.iconUrl=this.getDataValueWithDefault("iconUrl",Qp),this.useIcon=this.getDataValueWithDefault("useIcon",!0),this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1),this.useRankSpace=this.getDataValueWithDefault("useRankSpace",!1)}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,a=this.getValue();if(!a)return null;var{useIcon:n,iconUrl:r,useLeftSplitLine:o,useRightSplitLine:s}=this;return $p.default.createElement("div",{id:"container",className:"ranking",ref:t,key:i||""},o&&$p.default.createElement("div",{className:"split-line split-line-left"}),n&&$p.default.createElement("img",{id:"rankingImg",className:"ranking-img",src:r}),$p.default.createElement("text",{id:"rankingInfo",className:"ranking-info",value:a}),s&&$p.default.createElement("div",{className:"split-line split-line-right"}),null==e?void 0:e())}},mh=Gc(fh=$l([Bc()],fh));(Yp=qp||(qp={})).opacity="opacity",Yp.left="left",Yp.top="top",(Kp=Zp||(Zp={})).rotate="rotate",Kp.scaleX="scaleX",Kp.scaleY="scaleY";var vh,{GameGlobal:yh,deviceInfo:gh,deviceInfoLoaded:_h,appRouteInfo:Ah,getDeviceOrientation:Eh,proxyReady:Ch,getIndentityInfo:bh,loadDeviceInfoByManual:Ih}=i,Th=!1,wh=(Xp=Li("handleAdDataDone"),Jp=Bi("handleAdDataError"),eh=Li("handleAdDataDone"),th=Bi("handleAdDataError"),ih=Li("handleAdDataDone"),ah=Bi("handleAdDataError"),nh=Li("handleAdDataDone"),rh=Bi("handleAdDataError"),oh=Li("handleAdDataDone"),sh=Bi("handleAdDataError"),lh=Li("handleAdDataDone"),dh=Bi("handleAdDataError"),uh=Li("handleAdDataDone"),ch=Bi("handleAdDataError"),ph=(e,t,i)=>{var a=i.value;i.value=function(...e){var t=e=>{vh&&vh in this&&"function"==typeof this[vh]&&this[vh](e)};try{var i=a.call(this,...e);return i instanceof Promise?i.catch((e=>t(e))):i}catch(e){t(e)}}},hh=class{constructor({adUnitId:e,adType:t,pluginAppid:i=""}){var a;this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.cacheCount=0,this.cacheRawDatas=[],this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.additionFetchPromise=null,this.webviewId=Ah.currentWebviewId,this.fetchRetryCount=0,this.additionFetchRetryCount=0,this.isCanvasXmlHook=!1,this.rawAdInfoXml="",this.handledInNewFetch=!1,this.nativeMethodInvoker=new Ol,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.datas=[],this.data={},this.convertedAdData=null,this.convertedAdDatas=[],this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,this.isDuplicateRecommendedAds=!1,this.instanceId="",this.splashExpCondition={},this.showInfo={},"splashAd"!==t&&Ch(),this.adUnitId=e,this.adType=t,this.pluginAppid=gh.isWaGame?"":i,this.mmReporter=new ro(this),this.cgiReporter=new fo(this),this.lander=new Us(this),this.bindProxyMethods(),this.setTimePoint("p1"),"function"==typeof(a=e=>{if(e.webviewId===Ah.currentWebviewId&&this.data&&this.isViewable){var{uxinfo:t}=this.data;ri({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}})&&ki.on("_onWxAdUserCaptureScreen",a)}bindProxyMethods(){var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],i=function(t){var i=(0,j.Zw)(t),a=function(i){var a,n,r;n=i,(null===(r=(a=t)&&a[Ri])||void 0===r?void 0:r.has(n))&&(e[i]=(...e)=>t[i](...e))};for(var n of i)a(n)};for(var a of t)i(a)}isLimitRequest(){return!this.isSplashAd()&&(0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime)}convertTestAdData(e){try{var t,i=(0,j.Xh)(e),a=JSON.parse(i.crt_exp_info);if(i.crtExpInfo=a,1002===a.exp_type){if(null!==(t=i.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var n=JSON.parse(a.exp_data);i.wx_game_video.wxgame_video_card.flooring_page=n}}else if(1001===a.exp_type){i.profile_exp=!0;var r=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;i.dest_type=r.dest_type;var o={};if(i.button_action)try{o=JSON.parse(e.button_action)}catch(e){}o.jump_type=r.jump_type,i.button_action=JSON.stringify(o)}else if(105===a.exp_type)i.ad_style_data=a.exp_data;else if(106===a.exp_type){var s=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;(0,j.Ee)(i,s),i.common_exp=!0}else if(a.exp_type&&[108,109,2001].includes(a.exp_type))i.ad_dynamic_list=a.exp_data;else if(a.crt_size&&[En.CRT_SIZE_WX_APPLICATION_NEW,En.CRT_SIZE_WX_APPLICATION_X].includes(a.crt_size)){if(i.crt_size=a.crt_size,i.ad_width=a.width,i.material_width=a.width,i.ad_height=a.height,i.material_height=a.height,i.image_url=a.image_url,a.dest_url&&i.url&&[1,3,6].includes(i.dest_type)){var l=an(i.url),d={};l.weixinadkey&&(d.weixinadkey=l.weixinadkey),l.ticket&&(d.ticket=l.ticket),l.gdt_vid&&(d.gdt_vid=l.gdt_vid),l.weixinadinfo&&(d.weixinadinfo=l.weixinadinfo),i.url=dn(a.dest_url,d)}i.watermark_text=a.watermark||""}else if(a.landpage_type){var u;null!==(u=i.wx_game_video)&&void 0!==u&&u.wxgame_video_card&&(i.wx_game_video.wxgame_video_card.flooring_page=a)}return i}catch(t){return e}}getPosId(){return Dt[this.adType]}getFetchArgs({isAdInterval:e},t){var i,a,n,r,o={scene_type:Ah.currentScene,ad_unit_id:this.adUnitId,appid:this.pluginAppid?this.pluginAppid:gh.gameAppId,orig_weapp_id:this.pluginAppid?gh.gameAppId:"",weapp_path:Ah.weappPath,pos_id:"",network_type:gh.adNetworkType,orientation:{landscape:1,portrait:2}[gh.deviceOrientation],sdk_version:gh.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:gh.startTime.valueOf(),wxa_enter_ts:Ah.enterForegroundTime.valueOf(),weixin_version:gh.wechatVersion,os_version:gh.systemVersion,machine_type:gh.model,is_ad_interval:!!e,env:null===(i=p.default.host)||void 0===i?void 0:i.env,app_appid:null===(a=p.default.host)||void 0===a?void 0:a.appId,host_version:null===(n=p.default.host)||void 0===n?void 0:n.version,local_wechat_version:null===(r=p.default.host)||void 0===r?void 0:r.localWeChatVersion,wxa_fetch_ads_ts:Date.now()})};o.pos_id=this.getPosId();var s={};if("splashAd"===this.adType){s.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,s.request_type=(null==t?void 0:t.requestType)||1,s.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],s.weapp_expt_ctx=(null==t?void 0:t.weappExptCtx)||[];var l=2===(null==t?void 0:t.requestType)?1:5;s.splash_ad={count:String(l)},delete o.appid}else"customAd"===this.adType?s={is_adunit_tmpl:!0}:"rewardedVideoAd"===this.adType?null!=t&&t.requestType&&(s.request_type=t.requestType):"cpsShopAd"===this.adType&&(s.cps_shop_req_info=t.cpsShopReqInfo||{},s.is_adunit_tmpl=t.isAdunitTmpl||!1);if((0,h.er)()&&(s.in_3rd_app=1),s.machine_brand=gh.brand||(null===p.default||void 0===p.default?void 0:p.default.brand),Object.assign(s,bh()),gh.isWaGame)try{var{query:d}=yh;d.ad_free_param&&(s.ad_free_param=tn(d.ad_free_param))}catch(e){}return o.ext_slot_custom_comm=JSON.stringify(s),o}validateFetchEnv(){if((0,h.er)()&&this.reportAdMonitorData(lt.uks),"splashAd"!==this.adType&&!this.adUnitId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){var{crt_size:t}=e;if(!Tn.includes(t)&&!this.isCpsShopAd())throw{errMsg:`unexpected advertisement crt_size ${t}`}}handleAdDataDone(){this.reportAdMonitorData(lt._2d),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(lt.mLi,e)}handleWaidForList(e=[]){var t={};if(e.length<1)return Promise.resolve(t);var i=[];return null==e||e.forEach((e=>{i.push(f(e.apkName).then((t=>({...t,aid:e.aid}))))})),Promise.race([Promise.all(i).then((e=>(e.forEach((({waid:e,aid:i=""})=>{e&&i&&(t[i]=e)})),t))).catch((e=>(this.reportAdMonitorData(lt.z$c,e),t))),(0,m.Vs)(2e3).then((()=>t))])}handleBulkSaveMaterials(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?fi(t):Promise.resolve()}getSplashAdMaterialList(e){var t,i,a,n,r=[],o=(null==e?void 0:e.crtInfo[0])||{},s=e.rerankingExtInfo.material_hash||"",l=(null==o?void 0:o.image_url)||"",d=(null==o||null===(t=o.card_info)||void 0===t?void 0:t.pure_color_url)||"",u=(null==o||null===(i=o.card_info)||void 0===i?void 0:i.material_blur_url)||"",c=`${Bt}/${e.aid}_${s}.png`;s&&l&&r.push({url:l,fileName:`${e.aid}_${s}.png`,filePath:c});var p=(null==o||null===(a=o.short_video)||void 0===a?void 0:a.video_url)||"",h=(null==o||null===(n=o.short_video)||void 0===n?void 0:n.thumb_url)||"";if(p){var f=`${Bt}/${e.aid}_${s}.mp4`;r.push({url:p,fileName:`${e.aid}_${s}.mp4`,filePath:f})}if(h){var m=`${Bt}/${e.aid}_${s}_thumb.png`;r.push({url:h,fileName:`${e.aid}_${s}_thumb.png`,filePath:m})}if(Array.isArray(null==e?void 0:e.crtInfo)&&(null==e?void 0:e.crtInfo.length)>1&&e.crtInfo.forEach(((t,i)=>{var a=(null==t?void 0:t.image_url)||"",n=`${e.aid}_${s}_${i}.png`,o=`${Bt}/${n}`;s&&r.push({url:a,fileName:n,filePath:o})})),d){var v=`${Bt}/${e.aid}_${s}_pure_color.png`;s&&r.push({url:d,fileName:`${e.aid}_${s}_pure_color.png`,filePath:v})}if(u){var y=`${Bt}/${e.aid}_${s}_blur.png`;s&&r.push({url:u,fileName:`${e.aid}_${s}_blur.png`,filePath:y})}if(null!=e&&e.adDynamicList||null!=e&&e.template)try{var g=null==e?void 0:e.adDynamicList;null!=e&&e.template&&(g=e.template);var{tplConfig:_}=g,A=null==_?void 0:_.cacheFile;if(A&&Object.keys(A).length>0)for(var E of Object.keys(A)){var C=`${Bt}/${e.aid}_${s}_${E}.png`;r.push({url:A[E],fileName:`${e.aid}_${s}_${E}.png`,filePath:C})}}catch(e){this.reportAdMonitorData({idKey:34,idKeyGroup:1646},e)}return r}handleAdInfosIndexCache(e,t,i){var a=this;return s()((function*(){var n;try{n=yield a.handleWaidForList(e)}catch{}t.deviceInfo=bh(),t.waidMap=n,a.reportAdMonitorData(lt.kgB,{adInfos:t}),t.lastSaveTime=Date.now();try{return yield hi(t,i),a.reportAdMonitorData(yt,{adInfos:t})}catch(e){var r=e instanceof Error?a.processStackMsg(e):e;return a.reportAdMonitorData(gt,{adInfos:t,errMsg:r})}}))()}handleAppidCoverSceneCache(e,t){var i=this;return s()((function*(){var a={},n=`${Bt}/adSceneCache.txt`;try{var r=V(n,"utf-8");a=JSON.parse(r),i.reportAdMonitorData(Vt.SCENE_CACHE_PRELOAD_READ_SUCCESS,{adScene:a})}catch(e){i.reportAdMonitorData(Vt.SCENE_CACHE_PRELOAD_READ_FAIL,{error:e})}a[e]={scene:t,lastSaveTime:Date.now()},Object.keys(a).length>20&&function(e){var t="",i=1/0;for(var a of Object.keys(e)){var n=e[a];n.lastSaveTime<i&&(t=a,i=n.lastSaveTime)}delete e[t]}(a);try{return yield hi(a,n),i.reportAdMonitorData(Vt.SCENE_CACHE_WRITE_SUCCESS,{adScene:a})}catch(e){var o=e instanceof Error?i.processStackMsg(e):e;return i.reportAdMonitorData(Vt.SCENE_CACHE_WRITE_FAIL,{errMsg:o})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t,i=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(i)?"checkAd":"fetch",i}handleSplashAd(e,t){var i=this;return s()((function*(){if(i.isCheckAdIsOnlineRequest(e))return i.handleCheckAdIsOnlineResp(e);var a=2===t.requestType;i.reportAdMonitorData(ct);var n=0,r=[],o=[],s=[],l=`${_()}_exposure_times`,d=`${Bt}/adinfos.txt`,u={slot_id:Dt[i.adType],ads:[],crtSizeMap:{},crtSize:{},materialHashMap:{},total_exposure_times:0,[l]:0,requestInQueue:"true",totalSizeUsed:0,localBlacklistExtBackComm:[],expCondition:{},appidCoverScene:{}},c=yield pi(Bt);u.totalSizeUsed=c.totalSize;var p=c.outedDateFileList||[];p=p.length<21&&c.totalSize>20971520?c.fileList:p;try{yield((e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();var i=[];for(var a of t){var n=`${e}/${a}`;i.push(ci(n))}return Promise.all(i)})(Bt,p)}catch(e){i.reportAdMonitorData(vt,e)}try{var h=e.advertisement_info.length>0&&e.advertisement_info.map(((e,t)=>{var d,c,p,h,f,m,v,y,g,_,A,E,C,b,I,T,w,k,S=i.handleAdData(e),x=S.rerankingExtInfo.material_hash||"",P={material_hash:S.rerankingExtInfo.material_hash||"",tid:S.rerankingExtInfo.tid.toString()||"",aid:S.aid,trace_id:S.traceid};u.ads.push(P),u.total_exposure_times=S.rerankingExtInfo.total_exposure_times||0,u[l]=S.rerankingExtInfo[l]||0;var D=null===(d=S.condition)||void 0===d?void 0:d.widget_gray_splash_data_channel_parallel;u.requestInQueue=D?"false":"true",u.isCheckAndFetch=(null===(c=S.condition)||void 0===c?void 0:c.widget_gray_splash_check_and_fetch)||0,u.outedDateIntervals=(null===(p=S.condition)||void 0===p?void 0:p.widget_gray_splash_outed_date_setting)||7,u.useLocalSelect=(null===(h=S.condition)||void 0===h?void 0:h.widget_gray_splash_use_local)||0,u.localBlackList=(null===(f=S.condition)||void 0===f?void 0:f.widget_gray_splash_local_black)||"",u.localSelectExpire=null!==(m=null===(v=S.condition)||void 0===v?void 0:v.widget_gray_splash_local_outed_date_setting)&&void 0!==m?m:1,u.isWaittingFetch=(null===(y=S.condition)||void 0===y?void 0:y.widget_gray_splash_wait_fetch)||0,u.materialHashMap[S.aid]=x,u.checkAndFetchUseCatch=(null==S||null===(g=S.condition)||void 0===g?void 0:g.widget_gray_check_fetch_catch)||0,u.onlineFetchTimeout=(null==S||null===(_=S.condition)||void 0===_?void 0:_.widget_gray_splash_timeout)||0,u.useOfflineAd=(null==S||null===(A=S.condition)||void 0===A?void 0:A.widget_gray_splash_offline_ad)||0,u.newTimeout=(null==S||null===(E=S.condition)||void 0===E?void 0:E.widget_gray_splash_new_timeout)||0,u.newCheckAd=(null==S||null===(C=S.condition)||void 0===C?void 0:C.widget_gray_splash_new_checkad)||0,u.expCondition=null==S?void 0:S.condition,u.optimizationV1=(null==S||null===(b=S.condition)||void 0===b?void 0:b.widget_gray_splash_optimizationV1)||0,u.optimizationV1Timeout=(null==S||null===(I=S.condition)||void 0===I?void 0:I.widget_gray_splash_optimizationV1_timeout)||0,u.optimizationV1JSAPI=(null==S||null===(T=S.condition)||void 0===T?void 0:T.widget_gray_splash_optimizationV1_jsapi)||0,u.optimizationV1IOSTimeout=(null==S||null===(w=S.condition)||void 0===w?void 0:w.widget_gray_splash_optimizationV1_ios_timeout)||850;var O=S.crtInfo[0]||{};if(S.crtInfo){u.crtSizeMap[S.aid]=O.width>=O.height?"landscape":"portrait",u.crtSize[S.aid]=S.crt_size;var{extBackComm:R}=S,{card_info:M}=O;R.is_from_snsadinfo&&S.ad_desc&&!M.description&&(M.description=S.ad_desc),u.localBlacklistExtBackComm=null==R?void 0:R.splash_localselect_blacklist,i.handleAppidCoverSceneCache(gh.gameAppId,(null==R?void 0:R.appid_cover_scene_list)||[])}var N=i.getSplashAdMaterialList(S);o=o.concat(N),n+=0===t?N.length:0;var L=!(null==S||null===(k=S.condition)||void 0===k||!k.widget_gray_splash_online_optimization)&&a,B=`${Bt}/${S.aid}.txt`;if(!L&&r.push(hi(S,B)),S.product_type===Cn.ANDROID){var W,F=null===(W=S.appInfo)||void 0===W?void 0:W.apkName;s.push({apkName:F,aid:S.aid})}return S}));i.datas=h}catch(e){throw i.reportAdMonitorData(mt,e),e}var f=o.slice(0,n);return yield fi(f),r.push(fi(o)),r.push(i.handleAdInfosIndexCache(s,u,d)),Promise.all(r).then((()=>i.reportAdMonitorData(ht))).catch((e=>{throw i.reportAdMonitorData(ft,e),e})),i.datas[0]}))()}handleCustomAd(e){var t=e.advertisement_info.map(((e,t)=>{var i,a,n,r,o=e=>{if(0===t)throw e},s=null,l=this.handleAdData(e),{crtInfo:d,button_action:u,product_type:c,dest_type:p,crt_size:h}=l;if(l.reranking_ext_info&&l.reranking_ext_info.refresh_time)r=l.reranking_ext_info.refresh_time;else if(l.reranking_ext_info&&"string"==typeof l.reranking_ext_info)try{var f=JSON.parse(l.reranking_ext_info);f.refresh_time&&(r=f.refresh_time)}catch{}if(null!=l&&null!==(i=l.extBackComm)&&void 0!==i&&i.tmpl_info)try{var m,v=JSON.parse(l.extBackComm.tmpl_info);s=JSON.parse(v.tmpl_content),a=Number(l.extBackComm.sub_templ_id),n=Number(null===(m=l.extBackComm)||void 0===m?void 0:m.templ_id)||0}catch{this.reportAdMonitorData(Et),o({errMsg:"custom template error",errCode:xt})}else this.reportAdMonitorData(Ct),o({errMsg:"no custom template",errCode:St});return{...e,crtInfo:d,button_action:u,product_type:c,dest_type:p,crt_size:h,condition:l.condition,template:s,subTemplId:a,templId:n,refreshTime:r,aid:l.aid,app:l.app,appInfo:l.appInfo,extBackComm:l.extBackComm,wording:l.hint_txt,card_info:l.card_info,video_info:l.video_info,image_url:l.image_url,weapp_info:l.weapp_info,wx_game_video:l.wx_game_video}}));return this.reportAdMonitorData(Tt),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleCpsShopAd(e){var t=e.advertisement_info.map((e=>{var t=this.handleAdData(e);return{...t,extBackComm:{...t.extBackComm,cpsProduct:t.extBackComm.cps_weapp_shop_ad_info}}}));return this.datas||(this.datas=[]),this.datas=this.datas.concat(t),this.setCurrentData(0),t}handleInterstitialAd(e){var t,{crtInfo:i,extBackComm:a}=e;if(!i[0])throw{errMsg:"unexpected addata"};(t=i[0]).card_info||(t.card_info={});var n={...i[0],...(0,j.ei)(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm","template","poi","rerankingExtInfo"]),useTemplate:!!e.template},r=i[0].card_info;if(a.is_from_snsadinfo){if(!r)throw this.reportAdMonitorData(lt.Hx8),{errMsg:"unexpected adData"};r.head_bg_img&&(r.bg_img=r.head_bg_img)}return e.ad_desc&&!r.description&&(r.description=e.ad_desc),null!=r&&r.desc&&null!=r&&r.description&&(r.description=""),n}handleMultiRewardedVideoAd(e){return this.datas=[],this.convertedAdDatas=[],e.advertisement_info.forEach((e=>{var t=this.handleAdData(e);this.datas.push(t);var i=this.handleRewardedVideoAd(t);this.convertedAdDatas.push(i)})),this.setCurrentData(0),this.convertedAdDatas}getRewardedVideoData(e){var t=e.crtInfo&&Array.isArray(e.crtInfo)?e.crtInfo:[],{extBackComm:i,canvas_info:a,ad_desc:n}=e;if(i.is_from_snsadinfo){var r,o,s=null==t||null===(r=t[0])||void 0===r?void 0:r.card_info,l=null==t||null===(o=t[0])||void 0===o?void 0:o.short_video;if(l&&l.video_duration<1e3&&(l.video_duration*=1e3),!s)throw this.reportAdMonitorData(lt.fvN),{errMsg:"unexpected adData"};var{head_bg_img:d,thumb:u="",title:c=""}=s;return{crtInfo:t,headBgImg:d,mpTagType:0,gaussVideo:null,shortVideo:l,showTime:0,icon:u,name:c,wording:n.replace(/\n/g," "),flooringPage:null}}0===t.length&&t.push({wxgame_video_card:{}});var[{short_video:p,wxgame_video_card:{head_bg_img:h,mp_tag_type:f,playable_appid:m,playable_path:v,playable_orientation:y,endpage_cover:g,show_time:_,thumb:A,title:E,desc:C,flooring_page:b},wxgame_gauss_video:I}]=t,{antifraud_popup:T}=i;return{crtInfo:t,headBgImg:h,mpTagType:f,gaussVideo:I,canvasInfo:a,shortVideo:p,showTime:_,icon:A,name:E,wording:C,playableAppid:m,playablePath:v,endpageCover:g,flooringPage:b,playableInfo:{appid:m,moduleName:v,orientation:2===y?"landscape":"portrait",coverUrl:null==g?void 0:g.image_url},antifraudPopup:T||!1}}handleRewardedVideoAd(e){var t,i,a,n;e.crt_size===En.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var{crtInfo:r,headBgImg:o,mpTagType:s,gaussVideo:l,canvasInfo:d,shortVideo:u,showTime:c,icon:p,name:h,wording:f,playableInfo:m,flooringPage:v,antifraudPopup:y}=this.getRewardedVideoData(e),g=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)g=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var _=JSON.parse(e.reranking_ext_info);_.rewarded_time&&(g=_.rewarded_time)}catch{}g=Math.floor(1e3*g),v&&[3,4].indexOf(v.landpage_type)>-1&&(e.isPlayable=!0);var A={crtInfo:r[0],crtInfos:r,canvas_info:d,type:bn[e.pt],shortVideo:u?this.mapRewardVideoFields(u):null,gaussVideo:l?this.mapRewardVideoFields({...l,video_duration:l.video_duration_ms}):null,rewardedTime:g,card:{icon:p,name:h,wording:f,headBgImg:o,mpTagType:s,showTime:c},playableInfo:m,flooringPage:v,...(0,j.ei)(e,["crt_size","product_type","dest_type","button_action","condition","app","appInfo","extBackComm","template"]),useTemplate:!!e.template,antifraudPopup:y},E=Un(A),C=Hn(A);return this.reportRewardGaussVideo({useGaussVideo:E,useExpandStyle:C,expUseGaussVideo:null!==(t=null===(i=e.condition)||void 0===i?void 0:i.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(a=null==u?void 0:u.video_url)&&void 0!==a?a:"",gaussVideoUrl:null!==(n=null==l?void 0:l.video_url)&&void 0!==n?n:""}),null!=l&&l.video_url&&this.reportAdMonitorData(lt.Lh3),E&&C?this.reportAdMonitorData(lt.xIe):E?this.reportAdMonitorData(lt.LEp):C&&this.reportAdMonitorData(lt.i_3),A}mapRewardVideoFields(e){var{thumb_url:t,video_url:i,video_duration:a,video_duration_ms:n,thumb_width:r,thumb_height:o}=e;return{poster:t,src:i,duration:n||1e3*a,width:r,height:o}}handleRewardedLandingPage(e){var t,i=gh.isAndroid&&p.default.clientVersion>=654315008||gh.isIOS&&p.default.clientVersion>=385879552;if((null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&i)try{var{canvas_info:a}=e,{root:n}=d()(a.ad_info_xml),r=A(e),o=this.composeExposureCommonInfo({top:0,left:0,width:gh.screenWidth,height:gh.screenHeight});n.children.push({name:"viewid",children:[],attributes:{},content:r},{name:"commInfo",children:[],attributes:{},content:o});var s=si(n);this.rawAdInfoXml=e.canvas_info.ad_info_xml,e.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}UpdateRewardedLandingPageData(e){try{if(this.checkCanvasXmlState()&&this.rawAdInfoXml){var{root:t}=d()(this.rawAdInfoXml),i=A(this.data),a=this.composeExposureCommonInfo({top:0,left:0,width:gh.screenWidth,height:gh.screenHeight,inputWeappExtraData:e.weappExtraData||{}});t.children.push({name:"viewid",children:[],attributes:{},content:i},{name:"commInfo",children:[],attributes:{},content:a});var n=si(t);this.data.canvas_info.ad_info_xml=n}}catch(e){this.reportAdMonitorData(lt.FIb,e)}}handleBannerAd(e){var t,{extBackComm:i,crtInfo:a,pt:n,crt_size:r,image_url:o,material_width:s,material_height:l,ad_width:d,ad_height:u,use_style_data:c,hint_txt:p,watermark_type:h}=e,{antifraud_popup:f}=i;void 0===f&&(f=!1);var m,v,y=bn[n];c?(m=d,v=u):[En.CRT_SIZE_WX_APPLICATION,En.CRT_SIZE_WX_APPLICATION_NEW,En.CRT_SIZE_WX_APPLICATION_X].includes(r)?(m=(d||s)/2,v=(u||l)/2):r===En.CRT_SIZE_WX_APPLICATION_CARD&&(m=d,v=u);var g={antifraudPopup:f,type:y,crt_size:r,useStyleData:c,watermark:In[h],width:m,height:v,image:{src:o,width:s,height:l},wording:p,...(0,j.ei)(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo","crtInfo","template"]),useTemplate:!!e.template||e.crt_size===En.CRT_SIZE_CARD_COMPT_IMAGE},_=(null==a||null===(t=a[0])||void 0===t?void 0:t.card_info)||{};if(i.is_from_snsadinfo&&!_)throw{errMsg:"unexpected adData"};return i.is_from_snsadinfo&&e.ad_desc&&!_.description&&(_.description=e.ad_desc),null!=_&&_.desc&&null!=_&&_.description&&(_.description=""),this.convertedAdData=g,g}extractJson(e,t,i,a){var n=null!=i?i:t;if(e[n]&&"string"==typeof e[n])try{e[t]=JSON.parse(e[n])}catch{e[t]=null!=a?a:{}}else null!=a&&(e[t]=a)}buildWechatInfo(e){if(e.product_type===Cn.WE_CHAT){var{biz_appid:t,biz_info:{nick_name:i,is_subscribed:a,head_img:n,biz_uin:r}}=e;return{icon:n,nickname:i,uin:r,isFollowed:a,biz_appid:t}}return{}}buildAppInfo(e){var t=e.product_type;if([Cn.ANDROID,Cn.IOS].includes(t)){var{app_info:{app_name:i,apk_name:a,apk_url:n,app_md5:r,app_rating:o,icon_url:s,url_scheme:l,version_code:d,channel_id:u,desc:c}}=e;return{appName:i,apkName:a,apkUrl:n,appMd5:r,appRating:o,iconUrl:s,urlScheme:l,versionCode:d,channelId:u,desc:c}}return{}}handleAdData(e){var t,i,a,n,r,o;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var s,l,d,u=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):(0,j.Xh)(e),c=u;(u.crt_size&&(c.crt_size=Number(u.crt_size)),this.extractJson(c,"crtInfo","crt_info"),this.extractJson(c,"extBackComm","ext_back_comm"),this.extractJson(c,"button_action","button_action",{}),this.extractJson(c,"adStyleData","ad_style_data",""),this.extractJson(c,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(c,"extInfo","ext_info"),this.extractJson(c,"adDynamicList","ad_dynamic_list"),null!==(t=c.crtInfo)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(a=i.card_info)&&void 0!==a&&a.sns_to_mp_supplementary)&&Object.assign(c.crtInfo[0].card_info,null===(s=c.crtInfo)||void 0===s||null===(l=s[0])||void 0===l||null===(d=l.card_info)||void 0===d?void 0:d.sns_to_mp_supplementary);if(u.flow_exp_info)try{c.condition=$t(u.flow_exp_info),this.isSplashAd()||this.handleSplashAdFetchLog(c.condition)}catch{}if(c.adStyleData&&Bn("native",c.crt_size)){c.use_style_data=!0;var{adStyleData:p}=c;u.ad_width=p.width,u.ad_height=p.height,p.widgets.forEach((e=>{var t=u.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(c);var h=u.button_action;if(h.button_text=h.button_text||"查看",u.watermark_text=u.watermark_text||"去逛逛",18001===(null==c||null===(n=c.extInfo)||void 0===n?void 0:n.page_type)){var m={gdt_vid:u.traceid||"",uxinfo:u.uxinfo||"",ad_token:u.ad_token||"",rl:u.rl||""};u.url=dn(u.url,m)}if(null!=c&&null!==(r=c.extBackComm)&&void 0!==r&&r.ad_template_info)try{c.template=JSON.parse(c.extBackComm.ad_template_info)}catch{c.template=null}null!=c&&null!==(o=c.extBackComm)&&void 0!==o&&o.templ_id&&(c.templId=Number(c.extBackComm.templ_id)||0);var v=this.buildWechatInfo(c),y=this.buildAppInfo(c);return u.product_type===Cn.ANDROID&&f(y.apkName).then((({waid:e})=>{c.waid=e,this.reportAdMonitorData(lt.Myp)})).catch((e=>{this.reportAdMonitorData(lt.e75,e)})),{...c,app:v,appInfo:y}}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,mi(e))}handleOperateWXData(e){var t={apiName:"webapi_getadvert",reqData:e,requestInQueue:!1};return this.isSplashAd()?D(t):O(t)}handleFetch(e,t,i){var a=this;return s()((function*(){if(a.validateFetchEnv(),Object.keys(t).length>0)Ih(t);else{gh.deviceOrientation=Eh();try{var{networkType:n}=yield a.getNetworkType();gh.adNetworkType=n}catch(e){if(!a.isSplashAd()||!gh.adNetworkType)throw e}}if(!a.isSplashAd()){a.setTimePoint("p34");var r=a.isRewardedVideoAd()?200:100;yield Promise.race([(0,m.Vs)(r),_h,(0,m.Vs)(r)]),a.setTimePoint("p35")}var o=a.getFetchArgs({isAdInterval:e},i);a.setLastAdReqTs(+new Date),a.setLastExposureTime(0),a.setLastClickTime(0),a.setTimePoint("p2");var s=yield a.handleOperateWXData(o);return a.fetchPromise=null,a.fetchRetryCount=0,a.handledInNewFetch=!1,a.setTimePoint("p3"),s}))()}handleFetchWithCache(e,t,i){var a=this;return s()((function*(){return a.cacheCount>0&&a.cacheRawDatas.length>0?(a.reportAdMonitorData(lt._vJ),a.cacheRawDatas.shift()):yield a.handleFetch(e,t,i)}))()}prefetchAdData(e=!1,t={},i={}){var a=this;return s()((function*(){if(a.cacheRawDatas.length<a.cacheCount)try{var n=yield a.handleFetch(e,t,i);a.cacheRawDatas.push(n),a.reportAdMonitorData(lt.lSJ)}catch(e){a.reportAdMonitorData(lt.McH,e)}}))()}processFetch(e,t,i){var a=this;return s()((function*(){try{var{data:n}=yield a.handleFetchWithCache(e,t,i);if(a.validateFetchRes(n),a.isSplashAd())return a.handleSplashAd(n,i);if(a.isCustomAd())return a.handleCustomAd(n);if(a.isCpsShopAd())return a.handleCpsShopAd(n);if(a.isRewardedVideoAd())return a.handleMultiRewardedVideoAd(n);var r=a.handleAdData(n.advertisement_info[0]);return a.data=r,a.datas=[r],a.setCurrentData(0),a.checkDuplicateRecommendedAds(r.product_type,r.app,r.appInfo),a.isInterstitialAd(r)?a.convertedAdData=a.handleInterstitialAd(r):a.isBannerAd(r)&&(a.convertedAdData=a.handleBannerAd(r)),a.convertedAdDatas=[a.convertedAdData],a.convertedAdData}catch(t){var o="";try{"string"==typeof t&&(o=JSON.parse(t).errMsg)}catch(e){}if(a.fetchPromise=null,0===o.indexOf("getAdData:fail")&&a.fetchRetryCount<1)return a.fetchRetryCount+=1,a.fetch(e);throw a.isBannerAd()?a.reportAdMonitorData(lt.g0o,t):a.isRewardedVideoAd()?a.reportAdMonitorData(lt.$7v,t):a.isInterstitialAd()?a.reportAdMonitorData(lt.tts,t):a.isCustomAd()?a.reportAdMonitorData(At,t):a.isSplashAd()&&a.reportAdMonitorData(pt,t),t}}))()}processAdditionFetch(e,t,i){var a=this;return s()((function*(){if(a.validateFetchEnv(),Object.keys(t).length>0)Ih(t);else{gh.deviceOrientation=Eh();var{networkType:n}=yield a.getNetworkType();gh.adNetworkType=n}var r=a.getFetchArgs({isAdInterval:e},i);a.setLastAdReqTs(+new Date);try{var o=yield a.handleOperateWXData(r);a.additionFetchPromise=null,a.additionFetchRetryCount=0,a.handledInNewFetch=!1,o=o.data,a.validateFetchRes(o);var s=a.handleAdData(o.advertisement_info[0]);a.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),a.datas.push(s);var l=null;return a.isInterstitialAd(s)?l=a.handleInterstitialAd(s):a.isBannerAd(s)&&(l=a.handleBannerAd(s)),l&&a.convertedAdDatas.push(l),l}catch(t){var d="";try{"string"==typeof t&&(d=JSON.parse(t).errMsg)}catch(e){}if(a.fetchPromise=null,0===d.indexOf("getAdData:fail")&&a.additionFetchRetryCount<1)return a.additionFetchRetryCount+=1,a.additionFetch(e);throw a.isBannerAd()?a.reportAdMonitorData(lt.g0o,t):a.isRewardedVideoAd()?a.reportAdMonitorData(lt.$7v,t):a.isInterstitialAd()?a.reportAdMonitorData(lt.tts,t):a.isCustomAd()?a.reportAdMonitorData(At,t):a.isSplashAd()&&a.reportAdMonitorData(pt,t),t}}))()}checkDuplicateRecommendedAds(e,t,i){var a=this;return s()((function*(){var n=[],r="0",o=decodeURIComponent(a.data.apurl);/viewid=([^&]+)/.test(o)&&(r=RegExp.$1);var s={conv_status:n},l={},{imei:d,idfa:u}=yield _h,c={viewid:r,app_status:0,follow_status:0,imei:d,idfa:u};if(a.isDuplicateRecommendedAds=!1,e===Cn.WE_CHAT){if(l.ad_type=1,l.ad_id=t.biz_appid,c.follow_status=t.isFollowed?2:1,t.isFollowed)return a.isDuplicateRecommendedAds=!0,a.reportAdMonitorData(lt.$7M,{adInfo:l})}else if(e===Cn.ANDROID){var{apkName:p,versionCode:h}=i;try{var f=yield a.getInstallState(p),m=f.isInstalled&&(void 0===f.versionCode||f.versionCode>=h);l.ad_type=2,l.ad_id=p,c.app_status=m?2:1,a.isDuplicateRecommendedAds=Boolean(m),m&&a.reportAdMonitorData(lt.oG6,{adInfo:l})}catch{c.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})}}n.push(c),a.reportInstallFollow(s)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getDeviceInfo(){return gh}isBannerAd(e){return"banner"===this.adType}isRewardedVideoAd(e){return"rewardedVideoAd"===this.adType&&(!e||Bn("all",e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||Rl("all",e.crt_size))}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}isCpsShopAd(){return"cpsShopAd"===this.adType}getProgramStartTime(){return gh.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:Ah.lastWebviewId,currentWebviewId:Ah.currentWebviewId,openType:Ah.currentOpenType}}getExpTidForReport(e){if(!e)return"";var t=[];for(var i of Object.keys(e))Nt[Number(i)]&&t.push(`${i}:${e[i]}`);return t.join(";").slice(0,500)}reset(){this.adDataIndex=0,this.datas=[],this.convertedAdDatas=[],this.cgiReporter.reset(),this.rawAdInfoXml=""}fetch(e=!1,t={},i={}){return this.fetchPromise&&!this.isSplashAd()||(this.fetchPromise=this.processFetch(e,t,i)),this.fetchPromise}additionFetch(e=!1,t={},i={}){return this.additionFetchPromise||(this.additionFetchPromise=this.processAdditionFetch(e,t,i)),this.additionFetchPromise}setRightButtonHide(e){var t=()=>gh.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((i=>(this.reportAdMonitorData(lt.OZH,{retryCount:0,isHide:e,message:this.processStackMsg(i)}),t().catch((t=>{throw this.reportAdMonitorData(lt.OZH,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,i,a){return Dl({taskName:e,taskUrl:t,fileMd5:i,extInfo:a}).catch((e=>(this.reportAdMonitorData(lt.Psu,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return gh.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!gh.isWaGame&&gh.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){var t=e.absoluteX,i=e.absoluteY,a=e.absoluteEndX,n=e.absoluteEndY,r=e.pressInterval,o=!1;return Math.abs(n-i)<30&&Math.abs(a-t)<30&&r<300&&(o=!0),o}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t,i;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e]),null!==(i=this.convertedAdDatas)&&void 0!==i&&i[e]&&(this.convertedAdData=this.convertedAdDatas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var i,a,n,r=null==this||null===(i=this.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.uid,o={};4===t?o.xj_scene=6:(o.gdt_vid=this.data.traceid||"",o.uxinfo=this.data.uxinfo||"",o.reward=1),o.rl=this.data.rl||"",o.ad_token=this.data.ad_token||"",gh.isIOS&&(o.uid=r||"");var s=dn(e,o);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(lt.T8M),S({url:s,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(n=this.data)||void 0===n?void 0:n.uxinfo})}setDeviceInfo(e){Object.assign(gh,e)}setSplashAdShowStatus(){Th=!0}getSplashAdShowStatus(){return Th}getChannelsLiveStatusWithRpc(){var e=this;return s()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(cn(a,n)&&t===_n){var{id:r,username:o}=i;if(!r||!o)return"none";try{var{data:s}=yield O({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_finder_live_info",live_id:r})}}),{result:l}=s||"",{live_status:d}=JSON.parse(l);if([Mn.NONE,Mn.IN_PREPARE].includes(d))return"none";if(d===Mn.ON_AIR)return"onlive";if(d===Mn.ENDED)return"end";e.reportAdIDKey({key:lt.mlb})}catch(t){e.reportAdMonitorData(lt.W1Y,{id:r,username:o,errMsg:t})}}else if(pn(a,n)&&t===yn)return"reserve";return"none"}))()}getChannelsLiveStatus(){var e=this;return s()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(cn(a,n)&&t===_n){var{id:r,username:o}=i;if(!r||!o)return"none";try{var{status:s}=yield e.getChannelsLiveInfo({feedId:r,finderUserName:o});if([Mn.NONE,Mn.IN_PREPARE].includes(s))return"none";if(s===Mn.ON_AIR)return"onlive";if(s===Mn.ENDED)return"end";e.reportAdIDKey({key:lt.mlb})}catch(t){e.reportAdMonitorData(lt.W1Y,{id:r,username:o,errMsg:t})}}else if(pn(a,n)&&t===yn)return"reserve";return"none"}))()}handleAdTemplateEvent(e){switch(e.action){case Jd.FEEDBACKBTNTAP:return this.openFeedbackUrl(gh.isWaGame?1003:1005),!0;case Jd.REPORTTIMEPOINT:return e.value.key&&this.setTimePoint(e.value.key),!0;case Jd.REPORTMMDATA:return e.value.id&&e.value.data&&this.reportMMData(parseInt(e.value.id,10),e.value.data),!0;case Jd.REPORTADMONITORDATA:var{id:t,key:i,extInfo:a}=e.value,n=t?{idKeyGroup:t,idKey:i}:i;return this.reportAdMonitorData(n,a),!0}return!1}isOriginExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e;return i+n>=1&&i<=gh.screenHeight-1&&t+a>=1&&t<=gh.screenWidth-1}isViewableExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e,r=t+a<=gh.screenWidth?t+a:gh.screenWidth-t,o=i+n<=gh.screenHeight?i+n:gh.screenHeight-i;return(r=r>a?a:r)*(o=o>n?n:o)/(a*n)>=.5}},c()(hh.prototype,"handleCheckAdIsOnlineResp",[Xp,Jp],Object.getOwnPropertyDescriptor(hh.prototype,"handleCheckAdIsOnlineResp"),hh.prototype),c()(hh.prototype,"handleSplashAd",[eh,th],Object.getOwnPropertyDescriptor(hh.prototype,"handleSplashAd"),hh.prototype),c()(hh.prototype,"handleCustomAd",[ih,ah],Object.getOwnPropertyDescriptor(hh.prototype,"handleCustomAd"),hh.prototype),c()(hh.prototype,"handleCpsShopAd",[nh,rh],Object.getOwnPropertyDescriptor(hh.prototype,"handleCpsShopAd"),hh.prototype),c()(hh.prototype,"handleInterstitialAd",[oh,sh],Object.getOwnPropertyDescriptor(hh.prototype,"handleInterstitialAd"),hh.prototype),c()(hh.prototype,"handleMultiRewardedVideoAd",[lh,dh],Object.getOwnPropertyDescriptor(hh.prototype,"handleMultiRewardedVideoAd"),hh.prototype),c()(hh.prototype,"handleBannerAd",[uh,ch],Object.getOwnPropertyDescriptor(hh.prototype,"handleBannerAd"),hh.prototype),c()(hh.prototype,"checkDuplicateRecommendedAds",[ph],Object.getOwnPropertyDescriptor(hh.prototype,"checkDuplicateRecommendedAds"),hh.prototype),hh),{initComponent:kh}=i,Sh=function(e,t,i){return kh.call(this,e,(e=>{var t={};for(var i of Object.keys(e||{}))e[i]&&(t[i]=Object.assign({},e[i]),e[i].landscape&&!e[i].landscapeLeft&&(t[i].landscapeLeft=Object.assign({},e[i].landscape)),e[i].landscape&&!e[i].landscapeRight&&(t[i].landscapeRight=Object.assign({},e[i].landscape)));return t})(t),i)},xh={type:"EOF"};class Ph{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",xh),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(xh)}}var Dh=e=>{for(var t=new Ph,i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},Oh=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,Rh=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Mh=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),Nh=e=>{var t;t="string"==typeof e?Dh(e):e;for(var i=[Oh({type:"ROOT"})],a=e=>{for(var t=e.priority;Rh(i[i.length-1])&&Mh(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=Oh(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(Rh(n))return;Mh(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?Rh(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},r=0,o=t.length;r<o;r++)n(t[r]);return i},Lh=({type:e,children:t,operator:i},a,n={})=>{var r=e=>Lh(t[e],a,n);if("COMPARE"===e){var o=i&&{">":()=>r(0)>r(1),"<":()=>r(0)<r(1),">=":()=>r(0)>=r(1),"<=":()=>r(0)<=r(1),"==":()=>r(0)==r(1),"!=":()=>r(0)!=r(1),"===":()=>r(0)===r(1)}[i];return o?o():null}if("LOGIC"===e){var s=i&&{"&&":()=>r(0)&&r(1),"||":()=>r(0)||r(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>r(0)?r(1):r(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),r=e.substring(a+1,e.length-1);if(!i[n])return null;for(var o=Dh(r),s=[],l=[],d=0,u=o.length;d<u;d++){var c=o[d];"COMMA"===c.type||"EOF"===c.type?(s.push(l),l=[]):l.push(c)}var p=[];return s.forEach((e=>{p.push(Wh(e,t,i))})),i[n].apply(null,p)})(t[0],a,n)},d=l[e]||null;return d?d():null},Bh={"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":j.U2,"#slice":(e,t,i)=>e.slice(t,i),"#compareVersion":(e,t)=>(0,Wn.yC)(e,t)},Wh=(e,t,i)=>{try{var a=Nh(e);return Lh(a[1],t,Object.assign({},Bh,i))}catch(e){}return null},{deviceInfo:Fh,invokeMethod:Vh,gametext:Uh}=i,Hh={},jh=h.iw;class Gh extends Fi{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.touchInfo=null,this.handleCommonTouchStart=e=>{this.touchInfo=e},this.handleCommonTouchEnd=e=>{if(this.touchInfo){var t=Math.abs(e.x-this.touchInfo.x),i=Math.abs(e.y-this.touchInfo.y),a="none";(t>=20||i>=20)&&(t>=i&&e.x>this.touchInfo.x?a="right":t>=i&&e.x<this.touchInfo.x?a="left":i>=t&&e.y>this.touchInfo.y?a="bottom":i>=t&&e.y<this.touchInfo.y&&(a="top")),this.emitComponentEvent(me,{direction:a,startEvent:this.touchInfo,endEvent:e})}this.touchInfo=null},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||at,this.forItem=e.forItem,this.forIndex=e.forIndex,this.checkSize(),e.ratio&&(this.ratio=e.ratio);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent;var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.offTouchstart("container",this.handleCommonTouchStart),this.offTouchend("container",this.handleCommonTouchEnd),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.onTouchstart("container",this.handleCommonTouchStart),this.onTouchend("container",this.handleCommonTouchEnd),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope,innerFunctions:this.props.innerFunctions}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return this.forType===rt&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t,{template:i}=this;if(!i||"root"===i.type){this.tplConfig=(null==i?void 0:i.tplConfig)||{};var a=this.props.adPosition||{};if(this.tplConfig){var n,r,{tplConfig:o}=this,{width:s}=this.props.adPosition||{};if(null==s)s=(null===(n=this.props)||void 0===n||null===(r=n.systemInfo)||void 0===r?void 0:r.screenWidth)||Fh.screenWidth;s=Number(s);var l=o.minWidth||0,d=o.maxWidth||0,u=o.baseWidth||375,c=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||Fh.screenWidth,Math.max(l,s));d&&(c=Math.min(c,d)),0===c&&this.setRatio(u/u),a.width=c,this.setRatio(c/u)}}}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];null!=i&&i.length&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];null!=i&&i.length&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)i.force&&!i.targetid?this.doCommonAction({args:t,payload:i}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i.targetid?`${this.adCustomId}-${i.targetid}`:this.id,args:t,payload:i})}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=0,expr:n}=t,r=()=>{if(!n||this.run(n,i))switch(t.action){case z:var{value:a}=t;if(a.styleExpr)for(var r of Object.keys(a.styleExpr))a.style[r]=this.run(a.styleExpr[r],i);this.setStyle(a.id,a.style);break;case q:var{key:o}=t.value,s=this.getDataValue("value",t.value);this.getExprInnerVars()[o]=s;break;case $:break;case Q:var{detail:l={},eventName:d}=t.value;try{if(null!=i&&i.event&&(l.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var u of Object.keys(t.value.detailExpr)){var c=t.value.detailExpr[u];l[u]=this.run(c,i)}}catch(e){}this.emitAdCustomEvent(Ve.TRIGGEREVENT,{eventName:d,detail:l});break;case te:var{data:p,dataExpr:h,id:f}=t.value;if(h)for(var m of Object.keys(h)){var v=h[m];p[m]=this.run(v,i)}this.emitAdCustomEvent(Ve.REPORTMMDATA,{id:f,data:p});break;case re:var{id:y,animation:g}=t.value;this.doAnimation({id:y,animationName:g});break;case oe:var _,A=null==i?void 0:i.event;if(A)this.emitAdCustomEvent(Ve.BTNTAP,{event:A,isHandleDownload:(null===(_=t.value)||void 0===_?void 0:_.isHandleDownload)||!1});break;case le:var E=null==i?void 0:i.event,{isButton:C}=(null==t?void 0:t.value)||{};"value"in t&&(E=this.getDataValue("event",t.value,{args:i||{}})||E),this.emitAdCustomEvent(Ve.LANDAD,{index:"value"in t?this.getDataValueWithDefault("index",0,t.value,{args:i}):0,event:E,isButton:C});break;case de:var b=null==i?void 0:i.event;b&&this.emitAdCustomEvent(Ve.SPLASHSKIPAD,{event:b});break;case ce:var{id:I,key:T}=t.value,w=this.getDataValue("extInfo",t.value,{args:i});this.emitAdCustomEvent(Ve.REPORTADMONITORDATA,{id:I,key:T,extInfo:w});break;case pe:var{list:k}=t.value;this.emitAdCustomEvent(Ve.REWARDEDVIDEODYNAMIC,{list:k});break;case he:var{expr:S}=t.value;S&&this.run(S);break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};a?setTimeout(r,a):r()}run(e,t){var i=this.getInnerFunction(),a={...this.getScope(),...i};return Wh(e,t?{$args:t,...a}:a,i)}getElementById(e){if(!e){var t,i,a=null!==(t=null===(i=this.getRootElement())||void 0===i?void 0:i.parent)&&void 0!==t?t:null;return a===$a?this.getRootElement():a}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){var{left:i,top:a,scaleWidth:n,scaleHeight:r,opacity:o,rotate:s=0,easing:l="ease-in",duration:d=500}=t,u=new Promise(((t,u)=>{Vh("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:d,finalStyle:{left:i,top:a,opacity:o,rotate:s,scaleX:n,scaleY:r},success:t,fail:u})}));return"devtools"===jh&&(u=Promise.all([u,(0,m.Vs)(d)])),u}doAnimation({id:e,emitEvent:t=!0,animationName:i,animation:a}){var n=this;return s()((function*(){var r=!a&&i?n.animations[i]:a,o=n.getElementById(e);if(r&&o){var{keys:s,duration:l,easing:d,setInitialStyle:u=!0}=r;if(!(((null==s?void 0:s.length)||0)<2)){var c=0;for(var p of Object.keys(s)){var h=s[+p],f=n.getDataValue("offset",h),m=n.getDataValue("opacity",h),v=n.getDataValue("left",h),y=n.getDataValue("top",h),g=n.getDataValue("rotate",h),_=n.getDataValue("scaleX",h),A=n.getDataValue("scaleY",h),E=l*f,C=Ua({opacity:m,left:v,top:y,rotate:g,scaleWidth:_,scaleHeight:A});if(E<=0)u&&(yield n.setStyle(e,C));else{var b={...C,easing:d,duration:E-c};b.left=C.left,b.top=C.top,yield Gh.animate(o,b),c=E}}i&&t&&(yield n.emitComponentEvent(ve,{animation:i}))}}}))()}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var i=()=>super.setStyle,a=this;return s()((function*(){var n,r=a.getDataValue("_useApx")?a.convertToApxRatio(t):t,o=e;"$$"===o&&(o=null===(n=a.getRootElement())||void 0===n?void 0:n.name);if(r){for(var s of Object.keys(r))r[s]=a.convertApxStyle(r[s]);var l;if(o)yield i().call(a,o,r);else null===(l=a.parent)||void 0===l||l.setStyle("container",r)}}))()}convertApxStyle(e){return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var r=i.split("Expr");2===r.length&&([a]=r,n=this.run(n))}this.setStyle(t,{[a]:n})}}removeInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(var i of Object.keys(e))this.setStyle(t,{[i]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===Hh[this.adCustomId]&&(Hh[this.adCustomId]={}),Hh[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars();return{"#getVar":t=>e[t],"#measureText":(e,t)=>Uh.getTextWidth(e,t),...this.props.innerFunctions||{}}}updateBubbleEvent(){var e=this.getRootElement();e&&Za(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:i=!0,handleClickLimit:a=!0,isReport:n=!1,clickType:r=0}={}){var o=e=>{null!==this.reporter&&(i&&!this.reporter.judgeTriggerClick(e,n)||a&&this.reporter.isClickLimit(e,r))||t(e)};return this.clickCallbackMap.set(t,o),super.onClick(e,o)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var{ratio:t}=this,i=/(\d+)px/g,a={};for(var n of Object.keys(e))if(null!=Pt&&Pt.includes(n)){var r=e[n],o=r;"number"==typeof r?o=r*t:"string"==typeof r?o=r.replace(i,((e,i)=>{var a=Number(i);return Number.isNaN(a)?e:a*t+"px"})):Array.isArray(r)&&null!=r&&r.every((e=>"number"==typeof e))&&(o=r.map((e=>e*t))),a[n]=o}else a[n]=e[n];return a}}class zh extends Gh{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}}render(){var{template:e}=this.props,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}zh.subComponents=()=>({CustomLayout:Xh,CustomText:Jh,CustomImage:ef,CustomButton:tf,CustomVideo:rf,CustomFeedback:of,CustomEnd:sf,CustomFor:lf,CustomCarousel:hf,CustomCountdown:ff});var{_onShow:$h,_onHide:Qh,_offShow:qh,_offHide:Yh,deviceInfo:Zh}=i;class Kh extends Gh{constructor(e){var t,i,a;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.setStyle("body",{hidden:!1,opacity:1}),this.emitAdCustomEvent(Ve.CHECKEXPOSURE)},this.hide=()=>{this.setStyle("body",{hidden:!0,opacity:0}),this.emitAdCustomEvent(Ve.CHECKEXPOSURE)},this.showFeedback=()=>{var{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(ye),this.emitAdCustomEvent(Ve.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(ge),this.emitAdCustomEvent(Ve.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,i;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(_e),null===(i=this.reporter)||void 0===i||i.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(i=this.template)||void 0===i||null===(a=i.tplConfig)||void 0===a?void 0:a.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");var n,r=["left","top"];!Zh.isWaGame&&r.push("fixed"),this.isWidthRequired&&r.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",(n=e.adPosition,r.reduce(((e,t)=>(e[t]=n[t],e)),{})))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}bindEvent(){$h(this.handleEnterForeground),Qh(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){qh(this.handleEnterForeground),Yh(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var i,a;if(e.action===G)"value"in e&&e.value.preventClose?null===(i=this.manager)||void 0===i||i.hide(!0):null===(a=this.manager)||void 0===a||a.hide();else if(e.action===ee){var n;null===(n=this.manager)||void 0===n||n.reload()}else if(e.action===se)e.value.listExpr?this.emitAdCustomEvent(Ve.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(Ve.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(Ve.CHANGEMULTISHOW,{list:t.list});else if(e.action===fe){var r=this.getDataValue("reload",e.value,{args:t});this.checkLiveStatus(r)}}isShow(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}checkLiveStatus(e){var t=this;return s()((function*(){var i;if(t.isShow()){var a,n=yield null===(i=t.manager)||void 0===i?void 0:i.adProxy.getChannelsLiveStatusWithRpc();if(t.emitComponentEvent(Ce,{status:n||""}),"end"===n&&e)null===(a=t.manager)||void 0===a||a.refetch()}}))()}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:i}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${i?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}Kh.subComponents={CustomItem:zh};class Xh extends Gh{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||Ue,this.baseType===He?this.classRow=!0:this.baseType===je?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===ue){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var i=Math.round(t.height*e);this.setStyle("container",{width:i,left:(t.width-i)/2,top:0})}else{var a=Math.round(t.width/e);this.setStyle("container",{height:a,top:(t.height-a)/2,left:0})}}}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.state.children[parseInt(t,10)]}}render(){var{children:e}=this.state,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}Xh.subComponents=()=>({CustomItem:zh});class Jh extends Gh{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;var t=this.options.baseType||qe;this.baseType=t,t===Qe?this.initCommonComponent():t===qe?this.initNickNameComponent():t===Ye&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===Ze&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){var e=this.getAdData(),t=[Lt.APPLE_APP_STORE,Lt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Bn("video",e.crt_size),a=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:e.crt_size===En.CRT_SIZE_MULTI_POS_GRID},{path:["crtInfo","0","wxgame_video_card","title"],condition:i},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:[Lt.WE_CHAT_ARTICLE,Lt.GDT_WE_CHAT_ARTICLE].includes(e.product_type)},{value:"电商推广",condition:[Lt.WE_CHAT_SHOP,Lt.JD_URL].includes(e.product_type)},{value:"活动推广"}];this.state.text=Ka(e,a)}initDescComponent(){var e=this.getAdData(),t=[Lt.APPLE_APP_STORE,Lt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Bn("video",e.crt_size),a=e.product_type===Lt.MINI_GAME,n=e.product_type===Lt.WECHAT,r=[Lt.WE_CHAT_ARTICLE,Lt.GDT_WE_CHAT_ARTICLE].includes(e.product_type),o=[Lt.WE_CHAT_SHOP,Lt.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[En.CRT_SIZE_MULTI_POS_NEW_PIC,En.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:r},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=Ka(e,s)}initRelationComponent(){var e=this;return s()((function*(){var t=e.getAdData();if(8===(0,j.U2)(t,["crtInfo","0","card_info","mp_tag_type"])){var{aid:i}=t,a=Date.now(),n=(0,j.U2)(t,["button_action","button_text"],"");try{var r,o=yield(({aid:e,buttonText:t=""})=>O({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t})}}).then((e=>{if(!e.data)throw new Error("get_ad_metric no result");try{var{data:t}=e,i=JSON.parse(t.result),{ad_metric_count:a,desc_text:n}=i||{};return null==a||null==n||a<50?null:{count:(r=a,r<1e4?r.toString():`${(r/1e4).toFixed(1)}万`),descText:n}}catch(e){throw new Error("get_ad_metric invalid result")}var r})).catch((()=>{throw new Error("get_ad_metric request failed")})))({aid:i,buttonText:n}),s=Date.now();e.adProxy.reportRelationFetchDuration({startTime:a,endTime:s,showTime:(null===(r=e.manager)||void 0===r?void 0:r.showDetailTime)||0});var l="";if(o){var{count:d,descText:u}=o;l=e.getDataValueWithDefault("text","",void 0,{args:{count:d,descText:u}}),e.emitComponentEvent(Ie,{count:d,descText:u})}e.setState({text:l})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(bt,t)}}}))()}doAction({payload:e}){e.action===ne&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=((e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e})(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class ef extends Gh{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||ze;switch(this.baseType=t,t){case Ge:this.initCommonComponent();break;case $e:this.initADComponent();break;case ze:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[Lt.APPLE_APP_STORE,Lt.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=e.crt_size===En.CRT_SIZE_MULTI_POS_GRID,a=[Lt.WE_CHAT_SHOP,Lt.JD_URL].includes(e.product_type),n=Bn("video",e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var r=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:n},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:a},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=Ka(e,r)}initADComponent(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===ae&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,i=this.baseType===$e,{imgUrl:a}=this.state,n=["image-img"];return e&&n.push("image-img-appicon"),t&&n.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          ${i?'bubble-event="false"':""}\n          class="${n.join(" ")}"\n          src="${a}"\n        >\n      </view>\n    `}}class tf extends Gh{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===Ve.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(Ve.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(be,{event:e})};var t=this.options.baseType||Xe;t===Ke?this.initCommonComponent():t===Xe&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Cn.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===J&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}var af={videoDataMap:{}},nf=(e,t={})=>{e&&(af.videoDataMap[e]=t)};class rf extends Gh{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(xe,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case Ve.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case Ve.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case Ve.APPENTERBACKGROUND:var i=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",i):this.reportVideoPlay("partial","app_exit",i);break;case Ve.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case Ve.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case Ve.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case Ve.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(It,e)},this.handleTimeUpdate=e=>{var t,{duration:i,position:a}=e;if(null!=i&&null!=a){var n=Math.min(1,a/i);this.setStyle("videoProgressPlayed",{width:100*n+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(i-a)}s`}),this.emitComponentEvent(Se,{event:e,rate:n}),this.currentTime=1e3*a,this.videoDuration||(this.videoDuration=1e3*i);var r={currentTime:this.currentTime,duration:this.videoDuration},o=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;nf(o,r)}},this.handleEnded=e=>{var t;this.emitComponentEvent(Te,{event:e}),this.emitAdCustomEvent(Ve.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),h.cj&&this.reportVideoPlay("partial","start");var i={currentTime:this.videoDuration,duration:this.videoDuration},a=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;nf(a,i),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(Ve.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(ke,{event:e}),this.emitAdCustomEvent(Ve.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(we,{event:e}),this.emitAdCustomEvent(Ve.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||et,this.baseType===Je?this.initCommonComponent():this.baseType===et&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(xe,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e,t=this.getAdData();this.src=this.getDataValue("src")||(0,j.U2)(t,["video_info","videoUrl"])||(0,j.U2)(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||(0,j.U2)(t,["video_info","thumbUrl"])||(0,j.U2)(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=(0,j.U2)(t,["wx_game_video","short_video","video_duration"])||(0,j.U2)(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var i={currentTime:0,duration:this.videoDuration},a=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;nf(a,i),this.emitAdCustomEvent(Ve.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case Y:this.toggleMuted();break;case Z:this.operateVideoPlay("play");break;case K:this.operateVideoPlay("pause");break;case X:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,i=0){this.baseType===et&&this.emitAdCustomEvent(Ve.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:i,mutedIconSrc:a,voiceIconSrc:n,voicePlacement:r,countDownPlacement:o,isShowProgress:s,isShowCountDown:l,objectFit:d}=this,{muted:u,loop:c,autoplay:p,countDownNumber:h,isEndPageShowing:f}=this.state,m=["video-voice-box"],v=["video-count-down"];return m.push(`video-voice-box-${r}`),v.push(`video-count-down-${o}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${u}"\n          loop="${c}"\n          autoplay="${p}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${d}"\n        >\n          ${!f&&i?`\n            <view id="videovoicebox" bubble-event="false" class="${m.join(" ")}">\n              <image\n                src="${u?a:n}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!f&&l&&h?`\n            <text id="video-count-down" class="${v.join(" ")}" value="${h}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class of extends Gh{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===it)return this.handleSimpleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(Ve.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(De,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(Oe,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Pe,{event:e}),this.emitAdCustomEvent(Ve.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(Ve.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||tt,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){for(var e of(this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick),Object.keys(this.dislikeReasonHandlers))){var t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(Ve.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(Ve.HIDEAD),this.emitComponentEvent(De,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(Re,{event:t}),this.emitAdCustomEvent(Ve.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(Ve.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(Ve.HIDEAD)}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,a=["feedback-list"],n=["feedback-list"];i&&(a.push(`feedback-list-${i.toLowerCase()}`),n.push(`feedback-list-${i.toLowerCase()}`));var r=this.baseType===it?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===it?"close-icon":"feedback-icon"}" src="${r}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${a.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${n.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class sf extends Gh{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case Ve.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(Ve.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(Ne);break;case Ve.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case Ve.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case Ve.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case Ve.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Ve.ENDPAGEHIDE),this.emitComponentEvent(Le),this.reportEndPage({act_type:1003}),this.emitComponentEvent(Me)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};var t=this.getAdData();this.cardInfo=((e,t,i)=>{"string"==typeof t&&(t=t.split("."));for(var a=e,n=0;a&&n<t.length;)a=a[t[n]],n+=1;return a||i})(t,["crtInfo",0,"card_info"],{});var{end_page_type:i}=this.cardInfo;i&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(Ve.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(Ve.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===ie&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Ve.ENDPAGEHIDE),this.emitComponentEvent(Le))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:te,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Q,value:{eventName:Be}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:te,value:{id:"19002",data:Object.assign({act_type:1001},i)}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var r=this.getDataValue("childrenConf");if(r)for(var o of Object.keys(r))a[o]&&g(a[o],r[o]);var s=[];return s=2===this.cardInfo.end_page_type?[a.feedBack,a.layoutSmall,a.descBig,a.button]:[a.feedBack,a.iconBig,a.nickBig,a.descSmall,a.button],3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:i}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${i}></image>\n        </view>\n      </view>\n    `}}sf.subComponents=()=>({CustomItem:zh});class lf extends Gh{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||nt,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===nt?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===rt&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,i){var{template:a,forArr:n}=this;return{...this.getCommonSubComponentProps(),idPrefix:this.idPrefix+(a.id||"")+t,forType:this.forType,forItem:n[Number(t)],template:a.children[Number(i)],forIndex:Number(t)}}render(){var{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,i)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${i}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}lf.subComponents=()=>({CustomItem:zh});var df=1,uf=/([+-]?\d+(?:\.\d+)?)apx/g,cf=/([+-]?\d+(?:\.\d+)?)rpx/g,pf=e=>null!=e&&e.replace?e.replace(cf,((e,t)=>`${(e=>{if(0===e)return 0;var{screenWidth:t}=ma,i=e/750*t;return i<0&&(i=-i),i=Math.floor(i+1e-4),e<0?-i:i})(Number(t))}px`)):e;class hf extends Gh{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a,n=(this.isCol?e.relativeY:e.relativeX)-t,r=Math.floor(n/this.size);(r<0||r>=20)&&(null===(a=this.manager)||void 0===a||a.adProxy.reportAdMonitorData(lt.xJ3,{currentTime:Date.now(),moveTime:this.moveTime,duration:this.duration,size:this.size,animated:this.animated,animateCount:this.animateCount,posX:e.relativeX,posY:e.relativeY,offset:i,relativeOffset:n}),r=0);this.emitComponentEvent(Fe,{index:r,event:e})},this.handleAdCustomEvent=({action:e})=>{[Ve.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[Ve.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||ot,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{var i=t?pf(e):e;return i&&"string"==typeof i?i.replace(uf,((e,t)=>`${Number(t*df)}px`)):i})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===st,this.onClick("mask",this.handleMaskClick),this.baseType===ot?this.initCarousel("width"):this.baseType===st&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return s()((function*(){if(e.isViewable&&!e.isPlaying){var t=e.baseType===ot?"left":"top";if(e.disabled)e.emitComponentEvent(We,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(We,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(var i=function*(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(We,{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<e.animateCount;a+=1)yield*i(a);e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;var n=setTimeout((()=>{e.timerSet.delete(n),e.autoplay()}),e.duration/4);e.timerSet.add(n)}}}))()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}render(){var{template:{children:e}}=this.props,{baseType:t,allCount:i,showCount:a}=this;return e&&e.length&&i&&a?`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===ot?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `:"<view></view>"}}hf.subComponents=()=>({CustomItem:zh});class ff extends Gh{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===Ve.CHANGECOUNTDOWN){var i=this.getElementById("countdownvalue"),a=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:a}),i&&(i.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={};a.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:te,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:Q,value:{eventName:Be}}]},data:{}}};var n=this.getDataValue("childrenConf");if(n)for(var r of Object.keys(n))a[r]&&g(a[r],n[r]);var o=[];return o=[a.feedBack],3===e?o.concat(this.template.children||[]):o}render(){var{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}ff.subComponents=()=>({CustomItem:zh});var mf=(e,t)=>{var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var n of i)if("render"!==n){if("children"!==n&&e[n]!==t[n]){if("object"==typeof e[n]&&"object"==typeof t[n]&&mf(e[n],t[n]))continue;return!1}if("children"===n&&("string"==typeof e[n]||"string"==typeof t[n]))return e[n]===t[n]}else if(!e[n]!=!t[n])return!1;return!0};var vf,yf,{View:gf,Text:_f,Image:Af,Video:Ef}=i,Cf={view:"view",div:"view",span:"view",text:"text",image:"image",img:"image",video:"video"},bf={view:gf,text:_f,image:Af,video:Ef},If={text:["value"],image:["src"],view:[],video:["src","poster","referrerPolicy","referrer","initialTime","playbackRate","live","objectFit","controls","showProgress","showProgressInControlMode","autoplay","muted","loop","enableProgressGesture","enablePlayGesture","showCenterPlayBtn","autoInsert","scene","preLoad","obeyMuteSwitch","underGameView","playerHint","autoPauseIfOpenNative","autoPauseIfNavigate","customCache"],common:["autoInsert","eventType","bubbleEvent","clickState","independent"]},Tf={eventType:"touch",clickState:!1,bubbleEvent:!1,autoInsert:!1},wf=["click","touchstart","touchmove","touchend"],kf=e=>[...If[e]||[],...If.common],Sf=e=>{var t=[];for(var i of Object.keys(e))e[i]&&0===i.indexOf("on")&&t.push(i);return t},xf=(e,t)=>{var i=Cf[e]||"view",a=bf[i],n=(0,j.ei)({...Tf,...t},kf(i));t.id&&(n.name=t.id),t.style&&(n.style=t.style);var r=new a(n);for(var o of(r._sourceHandlers=new Map,r._handlers=new Map,r._type=i,r._isTemplate=!0,r.dataset={},Sf(t))){var s,l=o[2].toLowerCase()+o.slice(3);if(l in Vi){if("video"===i)null===(s=r[o])||void 0===s||s.call(r,t[o])}else r._handlers.set(l,t[o])}for(var d of wf){var u=Pf(r,d);r._sourceHandlers.has(d)||(r._sourceHandlers.set(d,u),r.on(d,u))}for(var c of(t.uniqueId&&(r.adId=t.uniqueId),r._manualStyle=t.style,Object.keys(t)))if(0===c.indexOf("data-")){var p=(0,m.um)(c.slice(5));r.dataset[p]=t[c]}return r},Pf=function(e,t){return i=>{for(var a=!1,n={...i,target:e,currentTarget:e,stopPropagation:()=>{a=!0}},r=e;!a&&r&&r!==$a;){var o,s=null===(o=r._handlers)||void 0===o?void 0:o.get(t);null==s||s.call(e,n),r=r.parent}}},Df=(e,t)=>{var i=!1;for(var a of Object.keys(t))t[a]!==e[a]&&(e[a]=t[a],i=!0);return i},Of=e=>{for(var[t,i]of(e._handlers.clear(),e._sourceHandlers))e.off(t,i);e._sourceHandlers.clear()},Rf=({getExtraProps:e}={})=>({createInstance:(t,i)=>xf(t,{...i,...null==e?void 0:e(t)}),createTextInstance:e=>xf("text",{value:e}),appendInitialChild(e,t){e.add(t)},finalizeInitialChildren:(e,t,i,a)=>(e._rootContainer=a,!0),prepareUpdate:(t,i,a,n)=>!mf({...a,...null==e?void 0:e(i)},{...n,...null==e?void 0:e(i)}),appendChild(e,t){e.add(t),Mf(e)},appendChildToContainer(e,t){e.add(t),Mf(e)},insertBefore(e,t,i){e.add(t),Mf(e)},insertInContainerBefore(e,t,i){e.add(t),Mf(e)},removeChild(e,t){e.remove(t),Of(t),Mf(e)},removeChildFromContainer(e,t){e.remove(t),Of(t),Mf(e)},resetTextContent(e){e.value=""},commitTextUpdate(e,t,i){e.value=i},commitMount(e){},commitUpdate(t,i,a,n,r){((e,t,i)=>{var a=(0,j.ei)({...Tf,...i},kf(e._type)),n=(0,j.ei)({...Tf,...t},kf(e._type)),r=i.style,o=t.style,s=Sf(i),l=Sf(t),d=!1;for(var u of Object.keys(o))u in r||(r[u]=null);var c=Df(e.style,r);for(var p of(d||(d=c),e._manualStyle=r,Object.keys(n)))p in a||(e[p]=null);for(var h of(c=Df(e,a),d||(d=c),l)){var f,m=h[2].toLowerCase()+h.slice(3);s.includes(h)||(m in Vi?"video"===e._type&&(null===(f=e[h.replace(/^on/,"off")])||void 0===f||f.call(e,t[h])):e._handlers.delete(h))}for(var v of s){var y;v[2].toLowerCase()+v.slice(3)in Vi?"video"===e._type&&(null===(y=e[v])||void 0===y||y.call(e,i[v]),d=!0):(e._handlers.has(v)&&e._handlers.delete(v),e._handlers.set(v,i[v]),d=!0)}r.fontSize===o.fontSize&&a.value===n.value||(e._hasEllipsis=!1),d&&Mf(e)})(t,{...n,...null==e?void 0:e(a)},{...r,...null==e?void 0:e(a)})},hideInstance(e){e.style.hidden=!0},hideTextInstance(e){e.style.hidden=!0},unhideInstance(e){e.style.hidden=!1},unhideTextInstance(e){e.style.hidden=!1},clearContainer(e){Object.keys(e.children).forEach((t=>{var i=e.children[t];e.remove(i)}))}}),Mf=(vf=new Set,yf=null,e=>{vf.add(e),yf&&clearTimeout(yf),yf=setTimeout((()=>{var e=[];for(var t of vf){for(var i=t.parent,a=!0;i;)vf.has(i)&&(a=!1),i=i.parent;a&&e.push(t)}for(var n of e)Oa(n);vf.clear()}),0)}),Nf=a(584);class Lf extends Nf.Z{}var Bf,Wf={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},Ff=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),Vf={card:'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},{SDKVersion:Uf}=p.default,{getSystemInfoSync:Hf,Component:jf,getPrivateThis:Gf,createComponent:zf,getExptInfoSync:$f,nativeviewLayout:Qf,_getABTestConfig:qf,gametext:Yf,_onShow:Zf,_onHide:Kf,_offShow:Xf,_offHide:Jf}=i,em=(...e)=>(0,m._u)(...e),tm=0,im=0,am=0,nm=0,rm=0,om=0,sm=0,lm=0,dm=!1,um=!1,cm=!1,pm="",hm="",fm="",mm="",vm="",ym="",gm={},_m=[],Am=!0,Em="wx_wxapp_expt_launad",Cm=`${Bt}/adinfos.txt`,bm=h.wZ?200:400,Im=2e3,Tm="CHECK_AD",wm="ONLINE",km="LOCAL_SELECT",Sm=[km],xm={[Tm]:Vt.SHOW_AD_BY_CHECK_AD,[wm]:Vt.SHOW_AD_BY_ONLINE,[km]:Vt.SHOW_AD_BY_LOCAL_SELECT},Pm={[Tm]:7e4,[wm]:8e4,[km]:9e4},Dm=[720,721],Om="NO_ADINFOS",Rm="ADINFOS",Mm=function(e,t=!0){var i=Gf(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&Lm.call(this,e,a),i},Nm=function(){var e=Gf(this);return h.cj&&p.default.clientVersion<402660384||h.wZ&&p.default.clientVersion<671095808?[]:e.adProxy.getAdPushMsg({slotid:Dt.splashAd}).then((t=>(p.default.onReady((()=>{e.adProxy.reportAdMonitorData(Vt.GET_ADMSG_SUCCESS,t)})),Array.isArray(t.msgData)?t.msgData.map((e=>e.aid)):[]))).catch((t=>{throw p.default.onReady((()=>{e.adProxy.reportAdMonitorData(Vt.GET_ADMSG_FAIL,t)})),t}))},Lm=function(e,t=0){var i,a,n=Gf(this);if(null!==(i=n.container)&&void 0!==i&&i.layoutBox){var{width:r,height:o}=n.container.layoutBox,s=0;[0,2,3].includes(t)&&(n.clickCount+=1,s=n.clickCount);var l={slotid:Dt[n.adType],costtype:null!==(a=n.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,click_time:Date.now(),click_cnt:s,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(r,10)||0,ad_height:parseInt(o,10)||0,press_interval:e.pressInterval,block_click:t};return n.adProxy.reportTouchClick(l)}},Bm=function(){var e=Gf(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},Wm=function(e,t){var i,a=Gf(this),{width:n,height:r}=a.container.style,o={click_button:e,cost_type:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,slotid:Dt[a.adType],is_game:dm?1:0,pageentertime:+new Date(a.adProxy.getProgramStartTime()),ad_width:parseInt(n,10)||0,ad_height:parseInt(r,10)||0,clientexptime:a.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:tm,screen_height:im};return a.adProxy.reportAntifraud(o)},Fm=function(e){var t,i=Gf(this),a=+new Date,n={slotid:Dt[i.adType],is_game:dm?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:a-i.startExposureTime-i.hideDuration,start_time:i.startExposureTime,close_time:a};return i.adProxy.reportCloseAction(n)},Vm=function(e){var t,i=Gf(this),a={slotid:Dt[i.adType],is_game:dm?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return i.adProxy.reportAdEntranceExposure(a)},Um=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){var r=Gf(this);e&&!i&&(r.clickFirstGradeTime=+new Date),r.adProxy.reportAdFeedbackData({adWidth:tm,adHeight:im,adPosX:0,adPosY:0,expTime:r.startExposureTime,slotId:Dt[r.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?r.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})},Hm=function(e=!1){var t=Gf(this);if(!t.isShowed)return Promise.resolve();if(!t.data||!t.container.layoutBox)return(0,m.Vs)(100).then((()=>Hm.call(this,e)));var{left:i,top:a,width:n,height:r}=t.container.layoutBox;if(!t.isShowedExposureReported){var o;if(t.isShowedExposureReported=!0,t.startExposureTime=+new Date,t.adProxy.setTimePoint("p6"),h.wZ&&p.default.clientVersion>=671092224&&p.default.clientVersion<=671092533){o=t.adProxy.reportExposure({left:i,top:a,width:n,height:r,exposureType:"showed",source:t.source,displayMode:t.showInfo.displayMode});var s="launch"===t.source?Vt.firstShowSuccess:Vt.secondShowSuccess;t.adProxy.reportAdMonitorData(s,{fetchSource:t.fetchSource,fetchType:t.fetchType,newTimeout:t.adInfos.newTimeout,localSelect:t.localSelectSuccess}),t.adProxy.setSplashAdShowStatus()}else o=p.default.onReady((()=>{t.adProxy.reportExposure({left:i,top:a,width:n,height:r,exposureType:"showed",source:t.source,displayMode:t.showInfo.displayMode});var e="launch"===t.source?Vt.firstShowSuccess:Vt.secondShowSuccess;t.adProxy.reportAdMonitorData(e,{fetchSource:t.fetchSource,fetchType:t.fetchType,newTimeout:t.adInfos.newTimeout,localSelect:t.localSelectSuccess}),t.adProxy.setSplashAdShowStatus()}));try{var l=Vt.EXPOSURE_SHOWAD_UNKNOWN;"success"===t.showSplashAdStatus?l=Vt.EXPOSURE_SHOWAD_SUCCESS:"fail"===t.showSplashAdStatus&&(l=Vt.EXPOSURE_SHOWAD_FAIL),"launch"===t.source&&t.adProxy.reportAdMonitorData(l)}catch(e){}em(o,"splashAd","原始")}if(!t.isViewableExposureReported){if(!e)return(0,m.Vs)(1e3).then((()=>Hm.call(this,!0)));t.adProxy.setTimePoint("p7"),t.isViewableExposureReported=!0,t.adProxy.isViewable=!0;var d=t.adProxy.reportExposure({left:i,top:a,width:n,height:r,exposureType:"viewable",source:t.source,displayMode:t.showInfo.displayMode});em(d,"splashAd","可视"),"launch"!==t.source||t.countTimer||Jm.call(this)}return Promise.resolve()},jm=function(e){var t,i=Gf(this);if(null!==(t=i.container)&&void 0!==t&&t.layoutBox){var{left:a,top:n,width:r,height:o}=i.container.layoutBox,s=i.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-a,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,left:a,top:n,width:r,height:o,source:i.source,displayMode:i.showInfo.displayMode});return em(s,"splashAd","点击"),s}},Gm=function(e,t,i=!1){var a=Gf(this),{appInfo:{apkName:n,channelId:r,urlScheme:o},product_type:s,dest_type:l}=a.data;if(12===s&&h.wZ&&4===a.androidAppState&&o&&o.trim().length>0)jm.call(this,e),Wm.call(this,t,e),a.adProxy.launchApplication(o,a.adProxy.data).catch((()=>{})),a.lastJsapiName="launchApplication",a.isLandingPage=!0;else if(12===s&&h.wZ&&a.isYYBInstalled){jm.call(this,e),Wm.call(this,t,e);var{aid:d,traceid:u,apurl:c}=a.adProxy.data,p=["ANDROIDWX.YYB.WX.ADVERTISE",u,d,n.replace(/\./g,"_"),"0",15,c.indexOf("ad.wx.com")>-1?1:0].join("."),f=`tmast://download?oplist=1,2&pname=${n}&channelid=${r}&via=${p}`;a.adProxy.launchApplication(f).catch((()=>{zm.call(this,{isButton:i})})),a.lastJsapiName="launchApplication",a.isLandingPage=!0}else h.cj&&46===s&&6===l?Promise.race([jm.call(this,e),(0,m.Vs)(500)]).then((()=>{Wm.call(this,t,e),zm.call(this,{isButton:i})})).catch((()=>{Wm.call(this,t,e),zm.call(this,{isButton:i})})):(jm.call(this,e),Wm.call(this,t,e),zm.call(this,{isButton:i}))},zm=function(e={}){var t=Gf(this),i=t.adProxy.land(e);try{t.countTimer||t.adProxy.reportAdMonitorData(Vt.LANDING_COUNTDOWN_FAIL)}catch(e){}return i.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(Vt.landingPageFail,{source:t.source,msg:e})})),i},$m=function(e){var t=Gf(this);for(var i of e)t[i]&&clearTimeout(t[i])},Qm=function(){var e,t=Gf(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.showSplashAdStatus="unknown",t.localSelectSuccess=!1,t.fetchType="",t.isClosing=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.source="",t.fetchSource="",t.adFileCheckResult={},$m.call(this,["countTimer"]),t.countTimer=null,p.default.onReady((()=>{var e,i,a;t.adProxy.reportTimePoints({slotid:Dt[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(i=t.showInfo)||void 0===i?void 0:i.instanceId,scene:null===(a=t.showInfo)||void 0===a?void 0:a.scene,extInfo:{adInfos:t.adInfos}})}))},qm=function(e={},t){t&&Fm.call(this,t),function(e){w("closeSplashAd",e)}(e)},Ym=function(){var e=Gf(this);if(e.container){if(e.isDynamic)if(e.tplComponent)(e=>{if(!e.isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((e=>$a.remove(e))):$a.remove(t),e._unmountComponent(),Zi.delete(e.constructor)})(e.tplComponent),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null;else if(e.adTemplateRef){var t,i,a;null==e||null===(t=e.adTemplateRef)||void 0===t||t.offEvent(dv.bind(this)),null==e||null===(i=e.adTemplateRef)||void 0===i||i.hide(),null==e||null===(a=e.adTemplate)||void 0===a||a.unmount({hostContainer:e.container}),e.adTemplate=null}Qf.remove(e.container)}Qm.call(this)},Zm=function(e={},t={}){return Gf(this).adProxy.fetch(!1,e,t)},Km=function(){var e=Gf(this);if((h.wZ||h.cj)&&!cm)try{e.adFetchResult=Zm.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(Vt.OTHER_ADS_EMIT_FETCH)}catch(e){}},Xm=function(){var e,t=Gf(this).data||{},i={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)i=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var a=t.crtInfo?t.crtInfo[0]:{};i=null!=a&&a.card_info?a.card_info:{}}return i},Jm=function(){var e,t,i=Gf(this),a=+new Date-i.startExposureTime-i.hideDuration,n=5e3;(null==i||null===(e=i.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_splashad_show_duration)>=n&&(n=i.data.condition.widget_gray_splashad_show_duration);var r=n-a;if(r>=0){var o=Math.ceil(r/1e3).toString();i.countDown&&(i.countDown.value=o),i.adTemplateRef&&i.adTemplateRef.emitEvent(Ve.CHANGECOUNTDOWN,{value:o}),i.tplComponent&&i.tplComponent.emitAdCustomEvent(Ve.CHANGECOUNTDOWN,{value:o}),i.countTimer&&clearTimeout(i.countTimer),i.countTimer=setTimeout((()=>{Jm.call(this)}),1e3)}else if("launch"===i.source&&i.isShowedExposureReported){var s;if(i.isDynamic)if(i.tplComponent)null===(s=i.tplComponent)||void 0===s||s.hide();else if(i.adTemplateRef){var l;null===(l=i.adTemplateRef)||void 0===l||l.hide()}qm.call(this,{source:i.source,animated:!0},12)}},ev=function(){var e=Gf(this);if("launch"===e.source)e.topBar&&nm&&(e.topBar.style.top=nm,e.adFeedbackMenu.style.top=nm+34,e.adFeedbackList.style.top=nm+34),e.closeContainer&&(e.closeContainer.style.marginTop=rm-68),e.appInfo&&(e.appInfo.style.height=om,e.appInfo.style.width=tm,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=dm?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=tm,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=tm,e.tipsLineOne.style.width=tm,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=im-om,e.adCloseTips.style.width=tm);else if("menu"===e.source){var t;if(!e.data)return;var{data:i}=e,a=Xm.call(this),n=Hf();e.adIcon.src=a.thumb,e.adName.value=a.title,null!==(t=i.button_action)&&void 0!==t&&t.button_text&&(e.button.value=i.button_action.button_text),n.screenTop&&n.screenTop>0?am=n.screenTop:am&&0!==am||(am=88*im/812),e.navigator.style.height=am,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=tm,e.card.style.height=om-am,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=rm-12,e.mediaBottom.style.width=tm,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var r=e.data||{},o=Xm.call(this);if(o&&e.adHeadInfo&&(e.adHeadIcon.src=o.thumb||"",e.adversName.value=o.title||"",e.adHeadInfo.style.width=tm/375*311,e.adversName.style.width=tm/375*311),r.hint_txt&&e.adTitle&&r.crt_size!==En.CRT_SIZE_BIG_PIC?(e.adTitle.value=r.hint_txt,e.adTitle.style.width=tm/375*311):o.description&&e.adTitle?(e.adTitle.value=o.description,e.adTitle.style.width=tm/375*311):e.adTitle&&r.product_type&&zt[r.product_type]&&(e.adTitle.value=`今日${zt[r.product_type]}推荐`,e.adTitle.style.width=tm/375*311),r.button_action&&e.adButtonContainer){e.adButton.value=r.button_action.button_text,e.adButtonContainer.style.width=tm,e.closeContainer&&(e.closeContainer.style.marginTop=rm-132);var s=(e=>{var t=0,i=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{v("measureText",Object.assign({},i,{complete(e){t=e.width||0}}))}catch(e){}return t})({text:r.button_action.button_text,fontSize:17})||80;e.adButton.style.width=s+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},tv=function(){var e=Gf(this);e.adTemplate||(e.adTemplate=new class{constructor(e){var t;this.adCustomIdInc=0,this.containerMap=new WeakMap,"renderer"in e?(((e,t)=>{if(!e)throw new Error("options.renderer achieved uncompletely")})(((e,t)=>{for(var i of t)if(null==(null==e?void 0:e[i]))return!1;return!0})(e.renderer,["render","unmount","findDOMNode"])),this.renderer=e.renderer):this.renderer=new class{constructor(e){this.presetHostConfig={shouldSetTextContent:()=>!1,getRootHostContext:()=>null,getChildHostContext:e=>e,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit:()=>{},preparePortalMount:()=>{},supportsMutation:!0,now:Date.now,scheduleTimeout:(e,t)=>setTimeout(e,t),cancelTimeout:e=>clearTimeout(e),noTimeout:-1,isPrimaryRenderer:!1,commitMount:()=>{}},this.renderer=(0,id.default)(jl(jl({},this.presetHostConfig),e))}render(e,t){return new Promise(((i,a)=>{try{t._rootContainer||(t._rootContainer=this.renderer.createContainer(t,!1,!1)),this.renderer.updateContainer(e,t._rootContainer,null,(()=>i()))}catch(e){a(e)}}))}unmount(e){return new Promise(((t,i)=>{if(e._rootContainer){try{this.renderer.updateContainer(null,e._rootContainer,null,(()=>t()))}catch(e){i(e)}delete e._rootContainer}}))}findDOMNode(e){return null==e?null:this.renderer.findHostInstance(e)}}(e.hostConfig),this.hostContext=e.hostContext,this.useTextTag=null==(t=e.useTextTag)||t,this.globalEventDelegator=new class{constructor(e){this.options=e,this.handlers={},this.sep="<^.^>",this.handleEvent=e=>t=>{if(t.target&&this.options.getPropertyOfElement){for(var i=!1,a=!1,n=jl(jl({},t),{stopPropagation:()=>{i=!0},stopImmediatePropagation:()=>{a=!0}}),r=t.target;r&&!i;){var{templateId:o,id:s}=fd(r),l=`${e}${this.sep}${o}-${s}`;if(this.handlers[l])for(var d of this.handlers[l])a||d(n);r=this.options.getPropertyOfElement(r,"parent")}var u=`${e}${this.sep}__global`;if(this.handlers[u]&&!i)for(var c of this.handlers[u])a||c(n)}},this.handleTouchStart=this.handleEvent("touchstart"),this.handleTouchMove=this.handleEvent("touchmove"),this.handleTouchEnd=this.handleEvent("touchend"),this.handleTouchCancel=this.handleEvent("touchcancel"),this.handleClick=this.handleEvent("click"),e.onGlobalEvent&&e.getPropertyOfElement&&(e.onGlobalEvent("touchstart",this.handleTouchStart),e.onGlobalEvent("touchmove",this.handleTouchMove),e.onGlobalEvent("touchend",this.handleTouchEnd),e.onGlobalEvent("touchcancel",this.handleTouchCancel),e.onGlobalEvent("click",this.handleClick))}on(e,t,i){var a,n=`${e}${this.sep}${t}`;(a=this.handlers)[n]||(a[n]=new Set),this.handlers[n].add(i)}onGlobal(e,t){var i,a=`${e}${this.sep}__global`;(i=this.handlers)[a]||(i[a]=new Set),this.handlers[a].add(t)}off(e,t,i){var a=`${e}${this.sep}${t}`;this.handlers[a]&&this.handlers[a].delete(i)}offGlobal(e,t){var i=`${e}${this.sep}__global`;this.handlers[i]&&this.handlers[i].delete(t)}destroy(){this.options.offGlobalEvent&&(this.options.offGlobalEvent("touchstart",this.handleTouchStart),this.options.offGlobalEvent("touchmove",this.handleTouchMove),this.options.offGlobalEvent("touchend",this.handleTouchEnd),this.options.offGlobalEvent("touchcancel",this.handleTouchCancel),this.options.offGlobalEvent("click",this.handleClick)),this.handlers={}}}({onGlobalEvent:e.hostContext.onGlobalEvent,offGlobalEvent:e.hostContext.offGlobalEvent,getPropertyOfElement:e.hostContext.getPropertyOfElement})}generateCustomId(){return this.adCustomIdInc+=1,`AD_CUSTOM_${this.adCustomIdInc}`}getConvertRatio(e,t=0,i){var{width:a}=i||{};null==a&&(a=t),a=Number(a);var n=e.minWidth||0,r=e.maxWidth||0,o=e.baseWidth||375,s=Math.min(t,Math.max(n,a));return r&&(s=Math.min(s,r)),0===s?{ratio:1,width:null}:{ratio:s/o,width:s}}getTemplateRef(e,{emitter:t,adCustomId:i,rootRef:a,itemRef:n}){var{hostContainer:r}=e,o=t=>!e.isPartial;return{emitEvent:(e,a)=>{t.emit("adCustomEvent",jl({adCustomId:i,action:e},a?{value:a}:{}))},onEvent:e=>(t.on("adCustomEvent",e),e),offEvent:e=>{t.off("adCustomEvent",e)},getCustomId:()=>i,getElementById:(e,t)=>a.current&&a.current.travelAndFindElementByIdDeeply(e,t,this.renderer.findDOMNode(a.current))||null,getRelativeTemplateInfo:(e,t)=>{if(!e||!t||!this.hostContext.getPropertyOfElement)return null;for(var i=e;i;){var a=fd(i);if(t(a))return a;i=this.hostContext.getPropertyOfElement(i,"parent")}return null},update:e=>Ql(this,null,(function*(){var t,i=(t=e,["adData","adDatas","position","systemInfo","isMulti","darkMode","extraScope"].reduce(((e,i)=>(null!=t[i]&&(e[i]=t[i]),e)),{}));n.current&&e.isPartial?yield this.renderer.render(td.default.createElement(Fc,jl({},jl(jl(jl(jl({},n.current.props),{ref:n}),i),e.template?{template:e.template}:{}))),r):a.current&&!e.isPartial&&(yield this.renderer.render(td.default.createElement(Uc,jl({},jl(jl(jl(jl({},a.current.props),{ref:a}),i),e.template?{template:e.template}:{}))),r))})),getRootElement:()=>a.current?this.renderer.findDOMNode(a.current):null,getRootData:e=>{var t;return o()&&(null==(t=a.current)?void 0:t.getRootData(e))},show:()=>Ql(this,null,(function*(){var e;o()&&(yield null==(e=a.current)?void 0:e.show())})),hide:()=>Ql(this,null,(function*(){var e;o()&&(yield null==(e=a.current)?void 0:e.hide())})),isShow:()=>{var e;return o()&&(null==(e=a.current)?void 0:e.isShow())||!1}}}render(e){return Ql(this,null,(function*(){if("isEmpty"in e&&e.isEmpty)return this.renderer.render(td.default.createElement(kp,null),e.hostContainer);var{hostContainer:t,adData:i,template:a,position:n,systemInfo:r,isMulti:o,darkMode:s,adCustomId:l,styleOptions:d,flattenLayer:u,ref:c,extraScope:p}=e,{adDatas:h}=e,{hostContext:f}=this,m=l||this.generateCustomId(),v=new wd({maxListeners:1e3}),y=td.default.createRef(),g=td.default.createRef(),_=this.getConvertRatio(e.isPartial?{}:e.template.tplConfig||{},r.screenWidth,n),{width:A}=_,{ratio:E}=_;h||(h=[i]),(null==d?void 0:d.ratio)&&(E=d.ratio),null!=A&&null!=(null==n?void 0:n.width)&&(n.width=A);var C=this.getTemplateRef(e,{emitter:v,adCustomId:m,rootRef:y,itemRef:g});null==c||c(C),this.containerMap.set(t,{emitter:v});var b={adData:i,adDatas:h,isMulti:o||!1,systemInfo:r,position:n,adCustomId:m,darkMode:s,emitter:v,hostContext:f,extraScope:p,renderContext:{hostContainer:t,ratio:E,useTextTag:this.useTextTag,isFlattenLayer:()=>{var e,t;return null!=u?u:"root"===a.type&&null!=(null==(t=null==(e=null==a?void 0:a.options)?void 0:e.data)?void 0:t.flattenLayer)&&a.options.data.flattenLayer},styleOptions:d||{},getRootElement:e=>this.renderer.findDOMNode(e),globalEventDelegator:this.globalEventDelegator}};e.isPartial?yield this.renderer.render(td.default.createElement(Fc,jl({},jl(jl({},b),{ref:g,template:e.template}))),t):yield this.renderer.render(td.default.createElement(Uc,jl({},jl(jl({},b),{ref:y,template:e.template}))),t)}))}unmount(e){var{hostContainer:t}=e;if(this.containerMap.has(t)){var{emitter:i}=this.containerMap.get(t);return i.removeAllListeners(),this.renderer.unmount(t)}}destroy(){this.globalEventDelegator.destroy()}}({hostConfig:Rf({getExtraProps:Sv}),hostContext:{onAppEnterForeground:Zf,offAppEnterForeground:Xf,onAppEnterBackground:Kf,offAppEnterBackground:Jf,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Yi(e),getBoundingClientRect:e=>e.layoutBox,animate:(e,t)=>Promise.all([e.animate(t),(0,m.Vs)(t.duration)]),getTextWidth:(e,t)=>Yf.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}))},iv=function(e){var t,i,a,n,r,o,s,l=Gf(this),d=null==l||null===(t=l.data)||void 0===t?void 0:t.adDynamicList;if(null!=l&&null!==(i=l.data)&&void 0!==i&&i.template&&(d=l.data.template),null!==(a=d)&&void 0!==a&&null!==(n=a.options)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.flattenLayer)rv.call(this,e,d);else if(l.dynamicElems||(l.dynamicElems={}),l.dynamicEmitter||uv.call(this),!l.dynamicElems.root){gm=null===(o=d)||void 0===o||null===(s=o.tplConfig)||void 0===s?void 0:s.cacheFile;var u={};if(gm&&Object.keys(gm).length>0){var c,p,h,f=(null==l||null===(c=l.data)||void 0===c||null===(p=c.rerankingExtInfo)||void 0===p?void 0:p.material_hash)||"",m=(null===(h=l.data)||void 0===h?void 0:h.aid)||"";Object.keys(gm).forEach((e=>{try{var t=`${Bt}/${m}_${f}_${e}.png`;H(t),u={...u,[e]:t}}catch(e){l.adProxy.reportAdMonitorData({idKey:33,idKeyGroup:1646},e)}}))}var v=ov.call(this,{tpl:d,source:e,cacheLocalFile:u}),y=v.getRootElement();l.dynamicElems.root=y,l.container.add(l.dynamicElems.root),v.show(),l.tplComponent=v,l.tplComponent.emitComponentEvent(Ae)}},av=function(){var e="",t=Gf(this).adProxy.data,i=Xm.call(this);return t.hint_txt&&t.crt_size!==En.CRT_SIZE_BIG_PIC?e=t.hint_txt:i.description?e=i.description:t.product_type&&zt[t.product_type]&&(e=`今日${zt[t.product_type]}推荐`),e},nv=function(){var e="",t=Gf(this).adProxy.data;return t.product_type&&zt[t.product_type]&&(e=`今日${zt[t.product_type]}推荐`),e},rv=function(e,t){var i=Gf(this),a=av.call(this),n=Xm.call(this),r=nv.call(this);i.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:tm,screenHeight:im},hostContainer:i.container,template:t,adData:i.adProxy.data,adCustomId:"SPLASHAD",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ratio:im>tm?tm/375:im/375},extraScope:{private:i,rightButtonTop:nm||40,source:e,screenTop:am||88*im/812,isDarkMode:i.isDarkMode,adTitle:a||"",adSubTitle:r||"",cardInfo:n,materialFile:pm,materialVideo:hm,materialVideoThumb:fm,materialList:_m,materialBgFile:vm,materialBlurFile:ym,appIcon:i.showInfo.appIcon,appName:i.showInfo.appName},ref:e=>{i.adTemplateRef=e,e.onEvent(dv.bind(this))}}).then((()=>{var e;null===(e=i.adTemplateRef)||void 0===e||e.show()}))},ov=function({tpl:e,source:t,cacheLocalFile:i}){var a=Gf(this),n=a.adProxy.data,r=av.call(this),o=Xm.call(this),s=nv.call(this);return ca(Kh,{manager:null,reporter:null,emitter:a.dynamicEmitter,adProxy:a.adProxy,template:e,systemInfo:{screenWidth:tm,screenHeight:im},adData:n,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:nm||40,source:t,screenTop:am||88*im/812,isDarkMode:a.isDarkMode,adTitle:r||"",adSubTitle:s||"",cardInfo:o,materialFile:pm,materialBgFile:vm,materialBlurFile:ym,private:a,appIcon:a.showInfo.appIcon,appName:a.showInfo.appName,cacheLocalFile:i}},!1)},sv=function(){var e=s()((function*(e){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var i of e)try{var[a,n]=yield i;if(a)throw a;if(Sm.includes(null==n?void 0:n.source)&&(2!==t.length||!t.every((e=>e===j.fm))))throw"NOT_USE_LOCAL";if(null==n||!n.aid)throw`${null==n?void 0:n.source}_NO_AID`;return n}catch(e){t.push(e)}throw t}));return function(t){return e.apply(this,arguments)}}(),lv=function(e){var t=Gf(this);Mm.call(this,e,!1)&&(Bm.call(this)||"launch"===t.source&&qm.call(this,{source:t.source,animated:!0},11))},dv=function(e){var t=Gf(this);switch(e.action){case Ve.LANDAD:var{event:i,index:a,isButton:n}=e.value,r=a;if(!Mm.call(this,i,13===r))return;13===r&&Gm.call(this,i,r,n),qm.call(this,{source:t.source,animated:!1},r),16===r&&(t.isLandingPage=!0,(0,m.Vs)(bm).then((()=>Gm.call(this,i,r,n))));break;case Ve.CHECKEXPOSURE:t.dynamicRendered=!0,t.isShowed=!0,t.isShowedExposureReported||Hm.call(this),"launch"!==t.source||t.countTimer||Jm.call(this);break;case Ve.FEEDBACKREPORT:Um.call(this,e.value);break;case Ve.FEEDBACKBTNTAP:"launch"===t.source&&qm.call(this,{source:t.source,animated:!0},17),t.data&&t.adProxy.openFeedbackUrl(1014);break;case Ve.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case Ve.SPLASHSKIPAD:var{event:o}=e.value;lv.call(this,o);break;case Ve.REPORTADMONITORDATA:var s=null==e?void 0:e.value,{id:l,key:d,extInfo:u}=s,c=l?{idKeyGroup:l,idKey:d}:d;t.adProxy.reportAdMonitorData(c,u);break;case Ve.ADVIDEOLOADFAILED:t.adProxy.reportAdMonitorData(Vt.VIDEO_LOAD_ERROR,e.value)}},uv=function(){var e=Gf(this);e.dynamicEmitter=new Lf,e.dynamicEmitter.on("adCustomEvent",(e=>{dv.call(this,e)}))},cv=function(e,t=!1){var i=Gf(this);e.forEach((e=>{var{root:t}=d()(Vf[e.name]),a=zf.call(this,t);i[e.parent].add(a)})),i.componentsRenderred=!0,ev.call(this),t&&pv.call(this)},pv=function(){var e=Gf(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||Um.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,Um.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&qm.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,Um.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Um.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&qm.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Um.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&qm.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{Mm.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,Um.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&qm.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{Mm.call(this,t,!1)&&(Bm.call(this)||"launch"===e.source&&qm.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{hv.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{hv.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{if(Mm.call(this,t,!1))return e.data?(qm.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,(0,m.Vs)(bm).then((()=>Gm.call(this,t,16)))):void 0}));for(var t of["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"])e[t]&&!e.eventsMap[t]&&(e.eventsMap[t]=!0)},hv=function(e,t=""){var i,a,n=Gf(this);if((!((null==n||null===(i=n.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_splash_click_area_switch)||0)||"button"===t)&&Mm.call(this,e,!1))return n.data&&"launch"===n.source?!dm||h.wZ?(Gm.call(this,e,13),(0,m.Vs)(200).then((()=>qm.call(this,{source:n.source,animated:!1},13)))):(qm.call(this,{source:n.source,animated:!1},13),Gm.call(this,e,13)):void 0},fv=function(){var e,t=Gf(this);if(t.data){var i=Xm.call(this);i&&"launch"===t.source&&(e={showMenu:!0,title:i.title,icon:i.thumb,success:()=>{t.adProxy.reportAdMonitorData(Vt.showSplashAdMenuSuccess)},fail:e=>{t.adProxy.reportAdMonitorData(Vt.showSplashAdMenuFail,{msg:e})}},w("showSplashAdMenu",e))}},mv=function(){var e,t,i,a,n,r=Gf(this);if(null!==(e=r.showInfo)&&void 0!==e&&e.hotStartABTestInfo&&0!==(null===(t=r.showInfo)||void 0===t||null===(i=t.hotStartABTestInfo)||void 0===i?void 0:i.value)){var o=(null===(a=r.showInfo)||void 0===a||null===(n=a.hotStartABTestInfo)||void 0===n?void 0:n.value)||18e4;r.adProxy.reportAdMonitorData(Vt.HOT_START_START,o),w("enableSplashAdHotStart",{isShow:!0,intervalThreshold:o,success:e=>{r.adProxy.reportAdMonitorData(Vt.HOT_START_SUCCESS,e)},fail:e=>{r.adProxy.reportAdMonitorData(Vt.HOT_START_FAIL,e)}})}},vv=function(){var e=Gf(this);try{var t,i=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[i])}catch(e){}},yv=function(){var e=Gf(this);if(!e.data||""===e.data||"object"!=typeof e.data){var t=V(mm,"utf-8");try{var i=JSON.parse(t);e.data=i,e.adProxy.data=i}catch(t){p.default.onReady((()=>{e.adProxy.reportAdMonitorData(Vt.readFileDataFail,{source:e.source,msg:t})}))}}},gv=function(){var e=Gf(this);if("launch"===e.source){cv.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},_v=function(){var e=Gf(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(h.wZ||nm>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),cv.call(this,t,!0),N({state:0}),Qf.layout().then((()=>{N({state:1}),Qf.auto=!0})).catch((t=>{p.default.onReady((()=>{e.adProxy.reportAdMonitorData(Vt.secondInsertFail,{source:e.source,msg:t})}))}))}},Av=function(){var e=Gf(this);om=Math.max(160,160*im/812),rm=im-om,e.adMedia.style.width=tm,e.adMedia.style.height=rm;var t=9*im/16;e.adMaterial.style.width=t,e.adMaterial.style.height=im,e.adMaterial.style.left=t>tm?(tm-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=pm:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=tm,e.adMaterial.style.height=rm,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=tm,e.adMaterialContainer.style.height=rm,e.adMaterialBg.style.width=.45*im*16/9,e.adMaterialBg.style.height=.45*im,e.adMaterialBg.style.left=-(.45*im*16/9-tm)/2,e.adMaterialLandscape.style.width=tm/375*311,e.adMaterialLandscape.style.height=tm/375*175,e.adMaterialBg.src=pm,e.adMaterialLandscape.src=pm,e.adCardInfo.style.width=tm/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=im/1920},Ev=function(e){var t,i,a=Gf(this);a.showInfo=e,a.source=e.source,a.isDarkMode=e.isDarkMode||!1,e.isGame&&(dm=e.isGame),h.wZ&&(nm=(null==e?void 0:e.rightButtonTop)||0);var n=Hf();if(tm=e.screenWidth,im=Math.max(n.screenHeight,e.screenHeight),yv.call(this),null!=a&&null!==(t=a.data)&&void 0!==t&&t.adDynamicList||null!=a&&null!==(i=a.data)&&void 0!==i&&i.template){var{root:r}=d()('\n  <view id="container">\n  </view>\n');Sh.call(this,r,Wf),a.isDynamic=!0,Qf.auto=!0,iv.call(this,e.source)}else Sh.call(this,(()=>{if(!Bf){var{root:e}=d()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n');Bf=e}return Bf})(),Ff),Av.call(this);if(a.container.style.width=tm,a.container.style.height=im,a.container.style.backgroundColor=a.isDarkMode?"#191919":"#ffffff",Qf.add(a.container),!a.isDynamic)try{U({path:ym,success:()=>{a.adMaterialBg.src=ym}}),U({path:vm,success:()=>{a.adMaterial.src=vm},fail:()=>{a.adMaterial.style.backgroundColor="#333333"}})}catch(e){}var o=[];"menu"!==a.source||a.isDynamic||(yv.call(this),o=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===a.crtOrientation&&(o=o.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),a.navigator.style.hidden=!1,cv.call(this,o,!0)),M({state:0}),Qf.layout().then((()=>{if(a.firstInserted=!0,a.isShowed=!0,M({state:1}),"launch"!==a.source||a.isDynamic)Qf.auto=!0,a.container.requestLayout();else try{_v.call(this)}catch(e){p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.secondRenderFail,{source:a.source,msg:e})}))}})).catch((e=>{p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.firstInsertFail,{source:a.source,msg:e})}))}))},Cv=function(e,t={},i,a){var n=Gf(this),r=lm+Gt[a],o=Vt[a];return p.default.onReady((()=>{var i;n.adProxy.reportAdMonitorData(o,t),n.adProxy.reportTimePoints({slotid:Dt[n.adType],costtype:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:r,scene:e.scene,extInfo:t})})),n.adInfos.newTimeout&&(p.default.onReady((()=>{n.adProxy.reportAdMonitorData(Vt.NEW_TIMEOUT_CLOSE_AD,a)})),qm.call(this,{source:e.source,animated:!1},50)),R({adCallTime:Date.now(),errCode:r,show:!1,eventReceivedTime:i.startInit,cgiFetchStart:i.startFetchTime||0,cgiFetchCallBack:i.fetchCallbackTime||0})},bv=function(e,t){var i,a,n=Gf(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Uf,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:h.cj,isAndroid:h.wZ,adNetworkType:e.networkType},o={weappEnterScene:e.scene,requestType:6,preloadAds:n.adInfos.ads||[]};null!==(i=n.showInfo)&&void 0!==i&&i.hotStartABTestInfo&&(o.weappExptCtx=[null===(a=n.showInfo)||void 0===a?void 0:a.hotStartABTestInfo]);return n.adProxy.setTimePoint("p15"),n.adProxy.setTimePoint("p20"),p.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Vt.CHECK_AD_BEGIN,{requestType:6,fetchType:n.fetchType,localSelect:n.localSelectSuccess})}),Im)})),Zm.call(this,r,o).then((e=>(p.default.onReady((()=>{setTimeout((()=>{n.adProxy.reportAdMonitorData(Vt.CHECK_AD_SUCCESS,{requestType:6,fetchType:n.fetchType,localSelect:n.localSelectSuccess,...e}),null!=e&&e.aid&&n.adProxy.reportAdMonitorData(Vt.CHECK_AD_STATUS_SUCCESS,{requestType:6,fetchType:n.fetchType,localSelect:n.localSelectSuccess})}),Im)})),n.adProxy.setTimePoint("p16"),n.adProxy.setTimePoint("p21"),null!=e&&e.aid?{aid:e.aid,source:Tm}:{aid:0,isRealtime:!1,source:Tm}))).catch((i=>{if(n.adProxy.reportAdMonitorData(Vt.CHECK_AD_FAIL,{...i,requestType:6}),n.adProxy.setTimePoint("p16"),n.adProxy.setTimePoint("p21"),n.adInfos.checkAndFetchUseCatch)throw i;return Cv.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR")}))},Iv=function(e,t,i=[]){var a,n,r=Gf(this),o={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Uf,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:h.cj,isAndroid:h.wZ,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:i};null!==(a=r.showInfo)&&void 0!==a&&a.hotStartABTestInfo&&(s.weappExptCtx=[null===(n=r.showInfo)||void 0===n?void 0:n.hotStartABTestInfo]);return r.adProxy.setTimePoint("p15"),r.adProxy.setTimePoint("p22"),p.default.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_BEGIN,{fetchType:r.fetchType,localSelect:r.localSelectSuccess}),r.adProxy.reportAdMonitorData(Vt.START_CHECK_AD_STATUS)}),Im)})),Zm.call(this,o,s).then((e=>{if(p.default.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_SUCCESS,{fetchType:r.fetchType,localSelect:r.localSelectSuccess}),r.adProxy.reportAdMonitorData(Vt.CHECK_AD_STATUS_SUCCESS),null!=e&&e.aid&&r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_RESULT_SUCCESS,{fetchType:r.fetchType,localSelect:r.localSelectSuccess})}),Im)})),r.adProxy.setTimePoint("p23"),r.adProxy.setTimePoint("p16"),"fetch"!==r.adProxy.lastAdRespone||null==e||!e.aid)return{aid:0,isRealtime:!1,source:wm};return r.fetchSource||(r.data=e,r.adProxy.data=e),{aid:e.aid,isRealtime:!0,source:wm}})).catch((i=>{if(r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_FAIL,i),r.adProxy.setTimePoint("p23"),r.adProxy.setTimePoint("p16"),r.adInfos.checkAndFetchUseCatch)throw i;return Cv.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR")}))},Tv=function(){var e=s()((function*(e){var t,i,a,n,r=Gf(this);p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.LOCAL_SELECT_BEGIN)}));var o=null===(t=r.adInfos)||void 0===t?void 0:t.localBlacklistExtBackComm,s=`${Bt}/adSceneCache.txt`,l={};try{var d=V(s,"utf-8");l=JSON.parse(d),p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.SCENE_CACHE_READ_SUCCESS,l)}))}catch(e){p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.SCENE_CACHE_READ_FAIL,e)}))}var u=l[r.showInfo.appId];if(u&&Date.now()-u.lastSaveTime<6048e5&&!u.scene.includes(r.showInfo.scene))throw p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.SCENE_CACHE_NOT_SHOW)})),"SCENE_NOT_ALLOW";if(Array.isArray(o)&&o.includes(r.showInfo.appId))throw p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var c=null===(i=r.adInfos)||void 0===i?void 0:i.localBlackList;if(""!==c&&c.includes(r.showInfo.appId))throw p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var h=yield Nm.call(this);h.length>0&&r.adInfos.ads.some((e=>h.includes(Number(null==e?void 0:e.aid))))&&(r.adInfos.ads=r.adInfos.ads.filter((e=>!h.includes(Number(e.aid)))),p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.OFFLINE_AD)})));var f=this.getLocalSelectAid.call(this),m=null!==(a=null===(n=r.adInfos)||void 0===n?void 0:n.localSelectExpire)&&void 0!==a?a:1;if(f&&!kv.call(this,m)){try{this.checkLocalAdFile(f)}catch(e){throw p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.LOCAL_SELECT_NO_FILE,e)})),e}if(p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.LOCAL_SELECT_SUCCESS)})),r.adInfos.newTimeout){lm=6e4;var v={startInit:r.adProxy.getTimePoint("p14")};r.adProxy.setTimePoint("p17"),R({showMenu:!0,show:!0,errCode:sm+lm,adCallTime:r.adProxy.getTimePoint("p17"),eventReceivedTime:v.startInit,success:()=>{r.showSplashAdStatus="success",p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.launchShowSplashAdSuccess),r.adProxy.reportAdMonitorData(Vt.SHOW_AD_BY_PRELOAD)}))},fail:e=>{r.showSplashAdStatus="fail",p.default.onReady((()=>{r.adProxy.reportAdMonitorData(Vt.SHOW_AD_BY_PRELOAD_FAIL,{adInfos:r.adInfos,msg:e})}))}})}return r.localSelectSuccess=!0,{aid:f,source:km}}throw p.default.onReady((()=>{r.adProxy.reportAdMonitorData(f?Vt.LOCAL_SELECT_NO_AID:Vt.LOCAL_SELECT_OUTDATE)})),"NO_AID"}));return function(t){return e.apply(this,arguments)}}(),wv=function(e){var t=Gf(this);for(var i of(t.adDatas={},e))try{var a=`${Bt}/${i.aid}.txt`,n=V(a,"utf-8"),r=JSON.parse(n);t.adDatas[i.aid]=r}catch{}},kv=function(e){var t,i=24*e*3600*1e3,a=(null===(t=Gf(this).adInfos)||void 0===t?void 0:t.lastSaveTime)||0;return!!a&&Date.now()-a>=i},Sv=()=>({dest:1});class xv extends jf{constructor(){super(),this.twoTimeoutRejectPromise=(e,t,i)=>{var a=Gf(this);return Promise.race([e,new Promise(((e,n)=>{setTimeout((()=>{a.localSelectSuccess||n(j.fm)}),t),setTimeout((()=>{a.localSelectSuccess&&n(j.fm)}),i)}))])};var e=Gf(this);e.canShowed=!1,e.today=_(),e.countTimer=null,e.componentsRenderred=!1,e.isShowed=!1,e.firstInserted=!1,e.adFeedbackInserted=!1,e.isDynamic=!1,e.isShowedExposureReported=!1,e.startExposureTime=0,e.isViewableExposureReported=!1,e.clickCount=0,e.lastLandingTime=0,e.lastJsapiName="",e.lastJsapiStatus=0,e.lastJsapiCostTime=0,e.isLandingPage=!1,e.landingPageCostTime=0,e.hideTime=0,e.hideDuration=0,e.showSplashAdStatus="unknown",e.localSelectSuccess=!1,e.fetchType="",e.isClosing=!1,e.isShowCloseTip=!1,e.clickFirstGradeTime=0,e.eventsMap={},e.source="",e.fetchSource="",e.crtOrientation="portrait",e.adType="splashAd",e.adProxy=new wh({adUnitId:"",adType:e.adType}),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null,e.adFileCheckResult={},n("onSplashAdButtonClicked",(t=>{"close"===t.buttonType&&"launch"===t.source?(Fm.call(this,10),$m.call(this,["countTimer"])):"close"===t.buttonType&&"menu"===t.source?Fm.call(this,14):"back"!==t.buttonType||"menu"!==t.source||e.isLandingPage?"menu"===t.buttonType&&Vm.call(this,1):Fm.call(this,15)})),function(e){n("onSplashAdWillLayout",e)}((t=>{if(t.menuViewFrame&&("launch"===t.source?(nm=t.menuViewFrame.y||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&nm&&e.tplComponent.emitComponentEvent(Ee,{countdownTop:nm})):"menu"===t.source&&(am=t.menuViewFrame.height||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&am&&e.tplComponent.emitComponentEvent(Ee,{navHeight:am,menuHeight:172-am})),h.cj&&e.firstInserted&&!e.adFeedbackInserted))try{gv.call(this)}catch(t){p.default.onReady((()=>{e.adProxy.reportAdMonitorData(Vt.iosThirdInsertFail,{source:e.source,msg:t})}))}})),function(e){n("onSplashAdShow",e)}((()=>{e.adProxy.setTimePoint("p5"),"launch"!==e.source||e.isDynamic||(yv.call(this),ev.call(this)),fv.call(this),vv.call(this),e.hideTime>0&&(e.hideDuration=+new Date-e.hideTime),e.isShowedExposureReported||Hm.call(this),"launch"!==e.source||e.countTimer||Jm.call(this),e.isLandingPage&&(e.isLandingPage=!1)})),function(e){n("onSplashAdHide",e)}((()=>{e.hideTime=+new Date,$m.call(this,["countTimer"])})),function(e){n("onSplashAdClose",e)}((()=>{um||(um=!0),h.cj&&e.startExposureTime>0&&+new Date-e.startExposureTime>1e3&&Hm.call(this,!0);try{e.countTimer||e.adProxy.reportAdMonitorData(Vt.CLOSE_COUNTDOWN_FAIL);var t=Vt.CLOSE_SHOWAD_UNKNOWN;"success"===e.showSplashAdStatus?t=Vt.CLOSE_SHOWAD_SUCCESS:"fail"===e.showSplashAdStatus&&(t=Vt.CLOSE_SHOWAD_FAIL),"launch"===e.source&&e.adProxy.reportAdMonitorData(t)}catch(e){}Ym.call(this)}))}otherAdsEmitFetch(){Km.call(this)}show(e){var t=this;return s()((function*(){var i;cm=!0;var a=Gf(t);if("false"===(null==e?void 0:e.isShowSplashAd))return p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.PATH_NOT_SHOW,null==e?void 0:e.isShowSplashAd)})),Cv.call(t,e,{},{},"PATH_NOT_SHOW");if(a.adProxy.instanceId=e.instanceId,a.adProxy.showInfo=e,a.showInfo=e,h.wZ&&(p.default.clientVersion>=671095864&&p.default.clientVersion<=671095903||p.default.clientVersion>=671096064)||h.cj&&p.default.clientVersion>=402660898)try{qf({experimentType:"opConfig",success:e=>{var t,i,n;null==e||null===(t=e.opConfig)||void 0===t||null===(i=t.expt_info)||void 0===i||null===(n=i.expt_param_list)||void 0===n||n.forEach((e=>{(null==e?void 0:e.param_name)===Em&&(p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.GET_WETEST_CONFIG_SUCCESS,null==e?void 0:e.param_value)})),"1"===(null==e?void 0:e.param_value)&&(Am=!0),"0"===(null==e?void 0:e.param_value)&&(Am=!1))}))},fail:e=>{a.adProxy.reportAdMonitorData(Vt.GET_WETEST_CONFIG_FAIL,e)}})}catch(e){a.adProxy.reportAdMonitorData(Vt.GET_WETEST_CONFIG_FAIL,e)}a.adProxy.scene=e.scene,a.adProxy.setTimePoint("p14");var n=a.adProxy.getTimePoint("p14");if(p.default.onReady((()=>{setTimeout((()=>{var t="launch"===e.source?Vt.launchAcceptShouldShow:Vt.menuAcceptShouldShow;a.adProxy.reportAdMonitorData(t)}),Im);var t=$f([Em]);"0"===t[Em]&&(Am=!1),"1"===t[Em]&&a.adProxy.reportAdMonitorData(Vt.EXP_SHOW)})),"launch"!==e.source)return tv.call(t),t.showDetailV2(e);if(h.wZ&&p.default.clientVersion>=671092224&&p.default.clientVersion<=671092533)setTimeout((()=>{a.adFetchResult=Zm.call(t).catch((()=>{}))}),3e3);else{var r,o,s={},l={};if(null!==(r=a.showInfo)&&void 0!==r&&r.hotStartABTestInfo)s.weappExptCtx=[null===(o=a.showInfo)||void 0===o?void 0:o.hotStartABTestInfo];p.default.onReady((()=>{setTimeout((()=>{a.adFetchResult=Zm.call(t,l,s).then((()=>mv.call(t))).catch((()=>{}))}),3e3)}))}var d={};try{var u=V(Cm,"utf-8");d.adInfos=u||{},a.adInfos=JSON.parse(u)}catch(e){a.adInfos={},d.errMsg=a.adProxy.processStackMsg(e),d.fileName=Cm}var c=()=>{var e;if(h.cj)return a.adInfos.optimizationV1IOSTimeout||850;var{envPreloadType:t}=p.default,i=1500;0===t&&h.wZ&&(i=3e3);var{instanceId:n}=a.showInfo,r=null==n||null===(e=n.split("_"))||void 0===e?void 0:e[1];return r?i-(Date.now()-r)-120:i-300},f=(null===(i=a.adInfos)||void 0===i?void 0:i.outedDateIntervals)||7;if(0===Object.keys(a.adInfos).length||kv.call(t,f))lm=1e4,sm=Gt.NO_ADINFOS,a.fetchType=Om,p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.FETCH_BEGIN,{fetchType:a.fetchType})})),t.showAdByRealtimeFetch(e,n),tv.call(t);else{a.adProxy.splashExpCondition=a.adInfos.expCondition,a.fetchType=Rm;var m=a.adInfos.ads||[];2===a.showInfo.displayMode?wv.call(t,m):setTimeout((()=>wv.call(t,m)),50),lm=5e4;var v=h.wZ?1500:1e3,y=h.wZ?1200:900,g=v-(Date.now()-n)-150;a.adInfos.onlineFetchTimeout&&(y=g=v-(Date.now()-n)-a.adInfos.onlineFetchTimeout);var _,A,E=!1,C=c.call(t);g=C,y=C,C<400&&(E=!0),2===a.showInfo.displayMode&&(E=!0),E||(_=Iv.call(t,e,n)),E||(A=bv.call(t,e,n)),p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.FETCH_BEGIN,{fetchType:a.fetchType})}));var b=(0,j.YB)(A,g).catch((e=>{throw e===j.fm&&p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.CHECK_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e})),I=(0,j.YB)(_,y).catch((e=>{throw e===j.fm&&p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.ONLINE_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e}));if(a.adInfos.newTimeout){var T=c.call(t);b=t.twoTimeoutRejectPromise(A,g,T).catch((e=>{throw e===j.fm&&p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.CHECK_AD_TIMEOUT)})),e})),I=t.twoTimeoutRejectPromise(_,g,T).catch((e=>{throw e===j.fm&&p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.ONLINE_AD_TIMEOUT)})),e}))}var w=[];w.push(I),w.push(b);var k,S="none"!==e.networkType;(S||E)&&(k=Tv.call(t,n),w.push(k));var x=sv(w);S&&E&&(x=k),tv.call(t),a.adInfos.ads.forEach((e=>{var{aid:i}=e;try{t.checkLocalAdFile(i,!1),a.adFileCheckResult[i]=!0}catch(e){a.adFileCheckResult[i]=!1}})),yield x.then((i=>{p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.FETCH_SUCCESS,{...i,localSelect:a.localSelectSuccess})})),a.fetchSource=i.source,lm=Pm[i.source],t.showDetailV2(e,i,i.source)})).catch((i=>{var n={startInit:a.adProxy.getTimePoint("p14"),startFetchTime:a.adProxy.getTimePoint("p15"),fetchCallbackTime:a.adProxy.getTimePoint("p16")};return Cv.call(t,e,{adInfos:a.adInfos,checkAdStatus:i},n,"NO_AID")}))}try{var P,D=(null===(P=a.adInfos)||void 0===P?void 0:P.deviceInfo)||{};a.adProxy.setDeviceInfo(D)}catch(e){}}))()}showAdByRealtimeFetch(e,t,i=[]){var a,n,r=Gf(this),o={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:Uf,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:h.cj,isAndroid:h.wZ,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:i};null!==(a=r.showInfo)&&void 0!==a&&a.hotStartABTestInfo&&(s.weappExptCtx=[null===(n=r.showInfo)||void 0===n?void 0:n.hotStartABTestInfo]);return r.adProxy.setTimePoint("p15"),p.default.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_BEGIN,{fetchType:r.fetchType}),r.adProxy.reportAdMonitorData(Vt.START_CHECK_AD_STATUS)}),Im)})),Zm.call(this,o,s).then((t=>{p.default.onReady((()=>{setTimeout((()=>{r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_SUCCESS,{fetchType:r.fetchType}),r.adProxy.reportAdMonitorData(Vt.CHECK_AD_STATUS_SUCCESS),null!=t&&t.aid&&r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_RESULT_SUCCESS,{fetchType:r.fetchType})}),Im)})),r.adProxy.setTimePoint("p16"),"fetch"===r.adProxy.lastAdRespone&&(r.isCheckAdRequest=!1,r.data=t,r.adProxy.data=t,lm=1e4===lm?1e4:3e4),p.default.onReady((()=>{var e=Number(t.aid);0!==e&&r.adProxy.reportAdMonitorData(Vt.FETCH_SUCCESS,{aid:e,source:wm})})),this.showDetailV2(e,{aid:Number(t.aid)},wm)})).catch((i=>(r.adProxy.setTimePoint("p16"),r.adProxy.reportAdMonitorData(Vt.ONLINE_AD_FAIL),Cv.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}getLocalSelectAid(){var e,t,i,a=null===(e=Gf(this).adInfos)||void 0===e||null===(t=e.ads)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.aid;return!(!a||0===Number(a))&&Number(a)}checkLocalAdFile(e,t=!0){var i,a,n,r=Gf(this),o=[],s=e?null==r||null===(i=r.adInfos)||void 0===i?void 0:i.materialHashMap[e]:"",l=`${Bt}/${e}.txt`;if(o.push(l),t)if(Dm.includes(null==r||null===(a=r.adInfos)||void 0===a||null===(n=a.crtSize)||void 0===n?void 0:n[e]))hm=`${Bt}/${e}_${s}.mp4`,fm=`${Bt}/${e}_${s}_thumb.png`,o.push(hm),o.push(fm);else{var d=`${Bt}/${e}_${s}.png`;o.push(d)}o.forEach((e=>{H(e)}))}callShowSplashAd({aid:e,reportTimer:t,source:i}){var a=Gf(this);"pending"!==a.showSplashAdStatus&&(a.showSplashAdStatus="pending",R({showMenu:!0,show:!0,errCode:sm+lm,adCallTime:a.adProxy.getTimePoint("p17"),eventReceivedTime:t.startInit,cgiFetchStart:t.startFetchTime,cgiFetchCallBack:t.fetchCallbackTime,success:()=>{a.showSplashAdStatus="success",a.adProxy.setTimePoint("p18"),p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.launchShowSplashAdSuccess),a.adProxy.reportAdMonitorData(xm[i],{fetchType:a.fetchType})}))},fail:t=>{a.showSplashAdStatus="fail",a.adProxy.setTimePoint("p18"),p.default.onReady((()=>{a.adProxy.reportAdMonitorData(Vt.showSplashAdFail,{adInfos:a.adInfos,checkAdStatus:e,msg:t})})),Ym.call(this)}}))}setMaterialSouce({source:e,aid:t}){var i,a,n,r,o,s,l,d,u,c,p,h,f,m=Gf(this),v=t?null==m||null===(i=m.adInfos)||void 0===i?void 0:i.materialHashMap[t]:"",y=Xm.call(this),g=(null===(a=m.data.crtInfo)||void 0===a?void 0:a.length)||1;switch(e){case Tm:case km:mm=`${Bt}/${t}.txt`,pm=`${Bt}/${t}_${v}.png`,_m=Array.from({length:g},((e,i)=>`${Bt}/${t}_${v}_${i}.png`)),hm=`${Bt}/${t}_${v}.mp4`,fm=`${Bt}/${t}_${v}_thumb.png`,vm=`${Bt}/${t}_${v}_pure_color.png`,ym=`${Bt}/${t}_${v}_blur.png`;break;case wm:pm=null===(n=m.data)||void 0===n||null===(r=n.crtInfo)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.image_url,_m=Array.from({length:g},((e,t)=>{var i,a,n;return null===(i=m.data)||void 0===i||null===(a=i.crtInfo)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.image_url})),vm=y.pure_color_url,hm=null===(s=m.data)||void 0===s||null===(l=s.crtInfo)||void 0===l||null===(d=l[0])||void 0===d||null===(u=d.short_video)||void 0===u?void 0:u.video_url,fm=null===(c=m.data)||void 0===c||null===(p=c.crtInfo)||void 0===p||null===(h=p[0])||void 0===h||null===(f=h.short_video)||void 0===f?void 0:f.thumb_url,ym=y.material_blur_url;break;default:mm=`${Bt}/${t}.txt`,pm=`${Bt}/${t}_${v}.png`,_m=Array.from({length:g},((e,i)=>`${Bt}/${t}_${v}_${i}.png`)),vm=`${Bt}/${t}_${v}_pure_color.png`,ym=`${Bt}/${t}_${v}_blur.png`}}showDetailV2(e,t={aid:0},i){var a,n,r,o=Gf(this),s={startInit:o.adProxy.getTimePoint("p14"),startFetchTime:o.adProxy.getTimePoint("p15"),fetchCallbackTime:o.adProxy.getTimePoint("p16")};if(!Am)return Cv.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"EXP_NOT_SHOW");var{aid:l}=t;if("launch"===e.source&&(!l||0===Number(l)))return Cv.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"NO_AID");switch("success"!==o.showSplashAdStatus&&this.callShowSplashAd({aid:null==t?void 0:t.aid,reportTimer:s,source:i}),"menu"===e.source&&Vm.call(this,2),i){case km:if(!l||null==o||null===(a=o.adDatas)||void 0===a||!a[l])return Cv.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");o.data=o.adDatas[l],o.adProxy.data=o.adDatas[l],this.setMaterialSouce({source:i,aid:l});break;case Tm:if(!(l&&null!=o&&null!==(n=o.adDatas)&&void 0!==n&&n[l]&&null!==(r=o.adFileCheckResult)&&void 0!==r&&r[l]))return Cv.call(this,e,{adInfos:o.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");o.data=o.adDatas[l],o.adProxy.data=o.adDatas[l],this.setMaterialSouce({source:i,aid:l});break;case wm:this.setMaterialSouce({source:i,aid:l})}o.adProxy.setTimePoint("p17");try{o.adProxy.setTimePoint("p4"),Ev.call(this,e)}catch(t){qm.call(this,{source:e.source,animated:!1},19),Qm.call(this),p.default.onReady((()=>{o.adProxy.reportAdMonitorData(Vt.firstRenderFail,{adInfos:o.adInfos,source:e.source,msg:t})}))}}}var Pv,Dv=a(190),Ov=_WebAssembly,Rv=()=>{var e,t=3584,i=4096,a=16,n={L:{C:"t",M:"O",s:"a",P:"b",Q:"q"},H:{C:"v",M:"x",s:"D",P:"b",Q:"q"}},r=new Ov.Memory({initial:1}),o=new Uint8Array(r.buffer),s=new Promise((t=>Ov.instantiate((0,Dv.RG)("AGFzbQEAAAAAEAhkeWxpbmsuMAEFkAQEAAABDwNgA39/fwBgAn9/AGAAAAI7AwNlbnYPX19zdGFja19wb2ludGVyA38BA2Vudg1fX21lbW9yeV9iYXNlA38AA2VudgZtZW1vcnkCAAEDERACAQEAAQEBAAEBAAAAAAAAB0EMEV9fd2FzbV9jYWxsX2N0b3JzAAABcAABAWUAAwFoAAQBdAAFAXYACAFPAAoBeAALAWEADAFEAA0BYgAOAXEADwqKKBADAAELCAAgACABEAILjAMBCX8gACABLQAAOgAAIAAgAS0AAToAASAAIAEtAAI6AAIgACABLQADOgADIAAgAS0ABDoABCAAIAEtAAU6AAUgACABLQAGOgAGIAAgAS0ABzoAByAAIAEtAAg6AAggACABLQAJOgAJIAAgAS0ACjoACiAAIAEtAAs6AAsgACABLQAMOgAMIAAgAS0ADToADSAAIAEtAA46AA4gACABLQAPOgAPQQQhAwNAIANBAnQiBSAAaiICQQFrLQAAIQQgAkECay0AACEHIAJBA2stAAAhBiACQQRrLQAAIQgCfyADQQNxBEAgBCEJIAghCiAHDAELIwEiAUGAAmogA0ECdmotAAAgASAGai0AAHMhCiABIAhqLQAAIQkgASAHai0AACEGIAEgBGotAAALIQQgAiACQRBrLQAAIApzOgAAIAAgBUEBcmogAkEPay0AACAGczoAACAAIAVBAnJqIAJBDmstAAAgBHM6AAAgACAFQQNyaiACQQ1rLQAAIAlzOgAAIANBAWoiA0EsRw0ACwseACAAIAEQAiAAIAIpAAg3ALgBIAAgAikAADcAsAELGAAgACABKQAANwCwASAAIAEpAAg3ALgBCwgAIAEgABAGC70JARt/QQAgACABEAdBASEWA0AgACMBIgIgAC0AAGotAAAiEToAACAAIAIgAC0ABGotAAAiEjoABCAAIAIgAC0ACGotAAAiEzoACCAAIAIgAC0ADGotAAAiFDoADCAALQABIQMgACACIAAtAAVqLQAAIhU6AAEgAC0AAyEQIAAtAAchBCAALQAPIQYgAC0ACyEFIAAtAA4hCSAALQAGIQogAC0ACiELIAAtAAIhDCAALQAJIQ0gAC0ADSEOIAAgAiADai0AACIPOgANIAAgAiAOai0AACIOOgAJIAAgAiANai0AACINOgAFIAAgAiAMai0AACIMOgAKIAAgAiALai0AACILOgACIAAgAiAKai0AACIKOgAOIAAgAiAJai0AACIJOgAGIAAgAiAFai0AACIDOgAPIAAgAiAGai0AACIGOgADIAAgAiAEai0AACIEOgALIAAgAiAQai0AACICOgAHIBZB/wFxIhhBCkZFBEAgACAKIA8gFHMiEHMiGSADIBRzIgVBAXRzIAVBGHRBGHVBB3ZBG3FzOgAPIAAgAyAQcyADIApzIgVBAXRzIAVBGHRBGHVBB3ZBG3FzOgAOIAAgDCAOIBNzIgVzIhogBCATcyIHQQF0cyAHQRh0QRh1QQd2QRtxczoACyAAIAQgBXMgBCAMcyIHQQF0cyAHQRh0QRh1QQd2QRtxczoACiAAIAkgDSAScyIHcyIbIAIgEnMiCEEBdHMgCEEYdEEYdUEHdkEbcXM6AAcgACACIAdzIAIgCXMiCEEBdHMgCEEYdEEYdUEHdkEbcXM6AAYgACALIBEgFXMiCHMiHCAGIBFzIhdBAXRzIBdBGHRBGHVBB3ZBG3FzOgADIAAgBiAIcyAGIAtzIhdBAXRzIBdBGHRBGHVBB3ZBG3FzOgACIAAgAyAZcyIDIA8gCiAPcyIPQQF0cyAPQRh0QRh1QQd2QRtxc3M6AA0gACAQQRh0QRh1QQd2QRtxIBBBAXQgFHNzIANzOgAMIAAgBCAacyIDIAwgDnMiBEEBdCAOcyAEQRh0QRh1QQd2QRtxc3M6AAkgACAFQRh0QRh1QQd2QRtxIAVBAXQgE3NzIANzOgAIIAAgAiAbcyICIAkgDXMiA0EBdCANcyADQRh0QRh1QQd2QRtxc3M6AAUgACAHQRh0QRh1QQd2QRtxIAdBAXQgEnNzIAJzOgAEIAAgBiAccyICIAsgFXMiA0EBdCAVcyADQRh0QRh1QQd2QRtxc3M6AAEgACAIQRh0QRh1QQd2QRtxIAhBAXQgEXNzIAJzOgAAIBggACABEAcgFkEBaiEWDAELCyAAIAEtAKABIBFzOgAAIAAgAS0AoQEgFXM6AAEgACABLQCiASALczoAAiAAIAEtAKMBIAZzOgADIAAgAS0ApAEgEnM6AAQgACABLQClASANczoABSAAIAEtAKYBIAlzOgAGIAAgAS0ApwEgAnM6AAcgACABLQCoASATczoACCAAIAEtAKkBIA5zOgAJIAAgAS0AqgEgDHM6AAogACABLQCrASAEczoACyAAIAEtAKwBIBRzOgAMIAAgAS0ArQEgD3M6AA0gACABLQCuASAKczoADiAAIAEtAK8BIANzOgAPC4oCACABIAEtAAAgAiAAQQR0aiIALQAAczoAACABIAEtAAEgAC0AAXM6AAEgASABLQACIAAtAAJzOgACIAEgAS0AAyAALQADczoAAyABIAEtAAQgAC0ABHM6AAQgASABLQAFIAAtAAVzOgAFIAEgAS0ABiAALQAGczoABiABIAEtAAcgAC0AB3M6AAcgASABLQAIIAAtAAhzOgAIIAEgAS0ACSAALQAJczoACSABIAEtAAogAC0ACnM6AAogASABLQALIAAtAAtzOgALIAEgAS0ADCAALQAMczoADCABIAEtAA0gAC0ADXM6AA0gASABLQAOIAAtAA5zOgAOIAEgAS0ADyAALQAPczoADwsIACABIAAQCQv8BQETf0EKIAAgARAHQQkhDwNAIAAjAUGQAmoiAiAALQAAai0AADoAACAAIAIgAC0ABGotAAA6AAQgACACIAAtAAhqLQAAOgAIIAAtAAchBCAALQALIQUgAC0ADyEGIAAtAAMhByAALQAKIQggAC0ADiEJIAAtAAIhCiAALQAGIQsgAC0ADSEMIAAtAAEhDSAALQAFIQ4gAC0ACSEDIAAgAiAALQAMai0AADoADCAAIAIgA2otAAA6AA0gACACIA5qLQAAOgAJIAAgAiANai0AADoABSAAIAIgDGotAAA6AAEgACACIAtqLQAAOgAOIAAgAiAKai0AADoACiAAIAIgCWotAAA6AAYgACACIAhqLQAAOgACIAAgAiAHai0AADoADyAAIAIgBmotAAA6AAsgACACIAVqLQAAOgAHIAAgAiAEai0AADoAAyAPQf8BcSICIAAgARAHQQAhCCACBEADQCAAIAhBAnRqIgIgAiwAAiIEQQd2QRtxIARBAXRzIgkgAiwAAyIFQQd2QRtxIAVBAXRzIgMgAiwAASIGIAIsAAAiB3NzIhQgBXNzIAdBGXRBGHVBB3ZBG3EgB0EHdkEbcSAHQQF0cyIKQQF0cyIQcyAEQRl0QRh1QQd2QRtxIAlBAXRzIhFzIApBGXRBGHVBB3ZBG3EgEEEBdHMiC3MgBkEHdkEbcSAGQQF0cyIMQRl0QRh1QQd2QRtxIAZBGXRBGHVBB3ZBG3EgDEEBdHMiEkEBdHMiDXMgCUEZdEEYdUEHdkEbcSARQQF0cyIOcyADQRl0QRh1QQd2QRtxIAVBGXRBGHVBB3ZBG3EgA0EBdHMiE0EBdHMiA3M6AAIgAiAFIAQgBnMgCnNzIAxzIBBzIBFzIAtzIA1zIA5zIANzOgAAIAIgBCAUcyAKcyAScyALcyATcyANcyAOcyADczoAAyACIAUgBCAHc3MgDHMgCXMgEnMgC3MgE3MgDXMgDnMgA3M6AAEgCEEBaiIIQQRHDQALIA9BAWshDwwBCwsLzQIBBH8gAEGwAWoiBSEDIAIEQCAFIQQDQCABIgMgAy0AACAELQAAczoAACADIAMtAAEgBC0AAXM6AAEgAyADLQACIAQtAAJzOgACIAMgAy0AAyAELQADczoAAyADIAMtAAQgBC0ABHM6AAQgAyADLQAFIAQtAAVzOgAFIAMgAy0ABiAELQAGczoABiADIAMtAAcgBC0AB3M6AAcgAyADLQAIIAQtAAhzOgAIIAMgAy0ACSAELQAJczoACSADIAMtAAogBC0ACnM6AAogAyADLQALIAQtAAtzOgALIAMgAy0ADCAELQAMczoADCADIAMtAA0gBC0ADXM6AA0gAyADLQAOIAQtAA5zOgAOIAMgAy0ADyAELQAPczoADyADIAAQBiADQRBqIQEgAyEEIAZBEGoiBiACSQ0ACwsgBSADKQAANwAAIAUgAykACDcACAvyAgECfyMAQRBrIgMkACACBEADQCADIAEpAAA3AwAgAyABQQhqKQAANwMIIAEgABAJIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABIAEtAAggAC0AuAFzOgAIIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gACADKQMINwC4ASAAIAMpAwA3ALABIAFBEGohASAEQRBqIgQgAkkNAAsLIANBEGokAAvUAgECfyACBEAgAEGwAWohAwNAIAMgABAGIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABQQhqIAEtAAggAC0AuAFzOgAAIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gAyABKQAINwAIIAMgASkAADcAACABQRBqIQEgBEEQaiIEIAJJDQALCwv4AgEDfyMAQRBrIgMkACACBEAgAEGwAWohBANAIAMgASkAADcDACADIAFBCGopAAA3AwggBCAAEAYgASABLQAAIAAtALABczoAACABIAEtAAEgAC0AsQFzOgABIAEgAS0AAiAALQCyAXM6AAIgASABLQADIAAtALMBczoAAyABIAEtAAQgAC0AtAFzOgAEIAEgAS0ABSAALQC1AXM6AAUgASABLQAGIAAtALYBczoABiABIAEtAAcgAC0AtwFzOgAHIAEgAS0ACCAALQC4AXM6AAggASABLQAJIAAtALkBczoACSABIAEtAAogAC0AugFzOgAKIAEgAS0ACyAALQC7AXM6AAsgASABLQAMIAAtALwBczoADCABIAEtAA0gAC0AvQFzOgANIAEgAS0ADiAALQC+AXM6AA4gASABLQAPIAAtAL8BczoADyAEIAMpAwg3AAggBCADKQMANwAAIAFBEGohASAFQRBqIgUgAkkNAAsLIANBEGokAAu9AgECfyACBEAgAEGwAWohBANAIAQgABAGIAEgAS0AACAALQCwAXM6AAAgASABLQABIAAtALEBczoAASABIAEtAAIgAC0AsgFzOgACIAEgAS0AAyAALQCzAXM6AAMgASABLQAEIAAtALQBczoABCABIAEtAAUgAC0AtQFzOgAFIAEgAS0ABiAALQC2AXM6AAYgASABLQAHIAAtALcBczoAByABIAEtAAggAC0AuAFzOgAIIAEgAS0ACSAALQC5AXM6AAkgASABLQAKIAAtALoBczoACiABIAEtAAsgAC0AuwFzOgALIAEgAS0ADCAALQC8AXM6AAwgASABLQANIAAtAL0BczoADSABIAEtAA4gAC0AvgFzOgAOIAEgAS0ADyAALQC/AXM6AA8gAUEQaiEBIANBEGoiAyACSQ0ACwsLhwUBFH8jAEEQayIFJAAgAgRAIABBsQFqIQcgAEGyAWohCCAAQbMBaiEJIABBtAFqIQogAEG1AWohCyAAQbYBaiEMIABBtwFqIQ0gAEG4AWohDiAAQbkBaiEPIABBugFqIRAgAEG7AWohESAAQbwBaiESIABBvQFqIRMgAEG+AWohFCAAQb8BaiEWIABBsAFqIQZBECEDA0ACQCADQRBHDQAgBSAGKQAANwMAIAUgBikACDcDCCAFIAAQBiAWIQQCQCAALQC/ASIDQf8BRw0AIBZBADoAACAUIQQgFC0AACIDQf8BRw0AIBRBADoAACATIQQgEy0AACIDQf8BRw0AIBNBADoAACASIQQgEi0AACIDQf8BRw0AIBJBADoAACARIQQgES0AACIDQf8BRw0AIBFBADoAACAQIQQgEC0AACIDQf8BRw0AIBBBADoAACAPIQQgDy0AACIDQf8BRw0AIA9BADoAACAOIQQgDi0AACIDQf8BRw0AIA5BADoAACANIQQgDS0AACIDQf8BRw0AIA1BADoAACAMIQQgDC0AACIDQf8BRw0AIAxBADoAACALIQQgCy0AACIDQf8BRw0AIAtBADoAACAKIQQgCi0AACIDQf8BRw0AIApBADoAACAJIQQgCS0AACIDQf8BRw0AIAlBADoAACAIIQQgCC0AACIDQf8BRw0AIAhBADoAACAHIQQgBy0AACIDQf8BRw0AIAdBADoAACAGIQQgBi0AACIDQf8BRw0AQQAhAyAGQQA6AAAMAQsgBCADQQFqOgAAQQAhAwsgASAVaiIEIAMgBWotAAAgBC0AAHM6AAAgA0EBaiEDIBVBAWoiFSACRw0ACwsgBUEQaiQACwuXBAEAIwELkARjfHd78mtvxTABZyv+16t2yoLJffpZR/Ct1KKvnKRywLf9kyY2P/fMNKXl8XHYMRUExyPDGJYFmgcSgOLrJ7J1CYMsGhtuWqBSO9azKeMvhFPRAO0g/LFbasu+OUpMWM/Q76r7Q00zhUX5An9QPJ+oUaNAj5KdOPW8ttohEP/z0s0ME+xfl0QXxKd+PWRdGXNggU/cIiqQiEbuuBTeXgvb4DI6CkkGJFzC06xikZXkeefIN22N1U6pbFb06mV6rgi6eCUuHKa0xujddB9LvYuKcD61ZkgD9g5hNVe5hsEdnuH4mBFp2Y6Umx6H6c5VKN+MoYkNv+ZCaEGZLQ+wVLsWjQECBAgQIECAGzYAAAAAAFIJatUwNqU4v0CjnoHz1/t84zmCmy//hzSOQ0TE3unLVHuUMqbCIz3uTJULQvrDTgguoWYo2SSydluiSW2L0SVy+PZkhmiYFtSkXMxdZbaSbHBIUP3tudpeFUZXp42dhJDYqwCMvNMK9+RYBbizRQbQLB6Pyj8PAsGvvQMBE4prOpERQU9n3OqX8s/O8LTmc5asdCLnrTWF4vk36Bx1325H8RpxHSnFiW+3Yg6qGL4b/FY+S8bSeSCa28D+eM1a9B/dqDOIB8cxsRIQWSeA7F9gUX+pGbVKDS3lep+TyZzvoOA7Ta4q9bDI67s8g1OZYRcrBH66d9Ym4WkUY1UhDH0="),{env:{memory:r,__memory_base:0,__stack_pointer:new Ov.Global({mutable:!0,value:"i32"},3584)}}).then((i=>{e=i.instance.exports,t()}))));class l{constructor(e=null,t=null){this._key=e,this._iv=t}crypt(r,s,l,d=this._key,u=this._iv){if(("C"===s||"M"===s)&&l.length%a)throw new Error("Buffer length must be evenly divisible by 16 in ECB/CBC mode");if(!(s in n[r]))throw new Error("Invalid mode");if(16!==d.length)throw new Error("Key length must be 16");if("C"!==s&&u.length!==a)throw new Error("IV length must be 16");var c=e[n[r][s]];((e,i,a)=>{o.set(i,3776),a&&o.set(a,3760),e(t,3776,3760)})(e["C"===s?"p":"e"],d,u);for(var p=new Uint8Array(l.length),h=0;h<l.length;){var f="C"===s?a:Math.min(l.length-h,61440);o.set(l.subarray(h,h+f),i),c(t,i,f),p.set(o.subarray(i,i+f),h),h+=f}return p}encrypt(e,t,i,a){return this.crypt("L",e,t,i,a)}decrypt(e,t,i,a){return this.crypt("H",e,t,i,a)}}return l.MODE_ECB="C",l.MODE_CBC="M",l.MODE_CFB="s",l.MODE_OFB="P",l.MODE_CTR="Q",s.then((()=>l))},Mv=()=>(Pv||(Pv=Rv()),Pv);function Nv(e,t,i){return e=(e=>{var t=17+~(15&e.length),i=e.length+t,a=new Uint8Array(i);a.set(e,0);for(var n=e.length;n<i;n++)a[n]=t;return a})(e),Mv().then((a=>(new a).encrypt(a.MODE_CBC,e,t,i)))}var Lv=function(e,t){var i=e+"",a=i.length,n=t?+t:0;if(n!=n&&(n=0),!(0>n||n>=a)){var r,o=i.charCodeAt(n);return 55296<=o&&56319>=o&&a>n+1&&(56320<=(r=i.charCodeAt(n+1))&&57343>=r)?1024*(o-55296)+r-56320+65536:o}},Bv=function(){var e,t,i,a=[],n=-1,r=arguments.length;if(!r)return"";for(var o="";++n<r;){if(i=+arguments[n],!isFinite(i)||0>i||1114111<i||Math.floor(i)!=i)throw RangeError("Invalid code point: "+i);65535>=i?a.push(i):(e=55296+((i-=65536)>>10),t=i%1024+56320,a.push(e,t)),(n+1==r||a.length>16384)&&(o+=String.fromCharCode.apply(null,a),a.length=0)}return o};function Wv(e,t=0){var i,a=0,n=t,r=e.length?(e=>{if("string"!=typeof e||0===e.length)return 0;for(var t,i=0,a=0;a<e.length;a++)if(!((t=e.codePointAt(a))>55295&&t<57344))if(t<128)i++;else if(t<2048)i+=2;else if(t<65536)i+=3;else{if(!(t<1114112))throw new Error("Invalid char code");i+=4}return i})(e):0,o=t+r,s=new Uint8Array(o>=0?o:0);if(0===r||-1!==r&&0===s.length)return s;for(;a<e.length;a++)if(!((i=Lv(e,a))>55295&&i<57344||n<0))if(i<128)s[n++]=i;else if(i<2048)s[n++]=i>>6|192,s[n++]=63&i|128;else if(i<65536)s[n++]=i>>12|224,s[n++]=i>>6&63|128,s[n++]=63&i|128;else{if(!(i<1114112))throw new Error("Invalid char code");s[n++]=i>>18|240,s[n++]=i>>12&63|128,s[n++]=i>>6&63|128,s[n++]=63&i|128}return s}var Fv=a(142),Vv=new Map,Uv=(e,t,i)=>{worker.postMessage({cmd:"callback",callbackId:e,data:{result:t,errMsg:i}})};worker.onMessage((e=>{var t,{data:i,callbackId:a,cmd:n}=e;try{var r=Vv.get(n);"function"==typeof r&&(t=r(i))}catch(e){Uv(a,void 0,e.message)}(0,Fv.tI)(t)?t.then((e=>{Uv(a,e)})).catch((e=>{Uv(a,void 0,e.message)})):Uv(a,t)}));var Hv=(e,t)=>{Vv.set(e,t)},jv=e=>e.key?e.key+"."+e.val:"STR_"+e.val,Gv=e=>{var t=e.rules.map((e=>(e=>{var t=jv(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}})(e))),i=e.strRules.map((e=>(e=>{var t;return{key:"userCustom:"+("string"!=typeof e?jv(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}})(e))),a={};return Object.keys(e.priority).forEach((t=>{a["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:i},priorities:a,schemaVersion:"9.9.99"}},zv=.0329,$v="__return_true",Qv=e=>`__return_resolve_${e}`,qv=e=>{if("string"==typeof e){if(e.startsWith("[")||e.startsWith("{"))try{e=JSON.parse(e)}catch(e){}return e}return e},Yv=e=>{try{return e.map((e=>e.join(".")))}catch(e){return[]}};const Zv=class{constructor(e,t){this.prunePointKV=e=>e.map((e=>this.pruneOriginData(e).data)),"string"==typeof e&&(e=JSON.parse(e)),"[object Object]"!==Object.prototype.toString.call(e)&&(e={object:{},string:{}}),this.objectSchema=e.object,this.stringSchema=e.string,this.schema=e,this.preHandleSchema({appId:t}),this.priorities=e.priorities||{}}getSchema(){return this.schema}getSchemaVersion(){return this.schema.schemaVersion}preHandleSchema(e={}){var{appId:t}=e,i=e=>{Array.isArray(e)&&e.forEach(((a,n)=>{if((e=>e.if||e.test)(a)){if(a.specific)if("include"===a.specific.type){if(Array.isArray(a.specific.data)&&!a.specific.data.includes(t))return void delete e[n]}else if("exclude"===a.specific.type&&Array.isArray(a.specific.data)&&a.specific.data.includes(t))return void delete e[n];[a.with,a.withRely,a.someWith,a.someWithRely].forEach((e=>{i(e)}))}}))};i(this.schema.object.conditions),i(this.schema.string.conditions)}_pruneOriginData(e,t,i={}){try{if("number"==typeof e&&(e=String(e)),"string"==typeof e)return"replace"===t.type?t.replace.reduce(((e,t)=>{var a=new RegExp(t.test,t.flag);return e.replace(a,(e=>(Array.isArray(i.point)&&i.point.push(t.tag),"$&"===t.modify?e:t.modify)))}),e):e;if("object"==typeof e&&null!==e)return Object.keys(e).forEach((a=>{if("match"===t.type)return new RegExp(t.test.test,t.test.flag).test(a)?void(t.rely?e[a]=this._pruneOriginData(e[a],t.rely,i):null!=t.replace&&(e[a]=t.replace)):void(t.deep&&(e[a]=this._pruneOriginData(e[a],t,i)));t.deep&&(e[a]=this._pruneOriginData(e[a],t,i))})),e}catch(e){return null}return null}pruneOriginData(e){var t="string"==typeof e?this.stringSchema.prunes:this.objectSchema.prunes,i={point:[]};return t&&t.length&&t.forEach((t=>{"string"==typeof e?e=this._pruneOriginData(e,t,i):this._pruneOriginData(e,t,i)})),{data:e,infos:i}}_resolvePendingCondition(e,t,i,a=[]){if(!i)return!1;if("pending"!==i.status)return"resolve"===i.status;if(a.includes(i.key))return!1;var n=!0,r=!1;for(var o of(a.push(i.key),i.peers)){var s;if(!a.includes(o.key))if("pending"===(null===(s=t[o.key])||void 0===s?void 0:s.status)){var l={...t[o.key],key:o.key},d=this._resolvePendingCondition(e,t,l,a.concat(o.key));o.not&&(d=!d),d||(n=!1)}else{var u,c,p;if(o.not)"resolve"===(null===(u=t[o.key])||void 0===u?void 0:u.status)&&(n=!1);else null!==(c=t[o.key])&&void 0!==c&&c.status&&"reject"!==(null===(p=t[o.key])||void 0===p?void 0:p.status)||(n=!1);o.resolve&&(e.push(i.push.concat(`p_${o.key}`)),r=!0)}}return a.splice(a.findIndex((e=>e===i.key)),1),t[i.key].status=r||n?"resolve":"reject",!(r||!n)&&(e.push(i.push.concat("p_a")),!0)}resolvePendingCondition(e,t){Object.entries(t).forEach((([i,a])=>{a.key=i,this._resolvePendingCondition(e,t,a,[])}))}judgeData(e,t={},i={}){var{exceptionPriorirtyThreshold:a=0}=i;t={...t};var n=[],r=[],o={};try{if((0,Fv.Kn)(e)){var{conditions:s}=this.objectSchema||{};if(!s)return{error:"noObjectCondition",result:!1};Object.keys(e).forEach((i=>{var a=e[i];s.forEach((e=>{var s=e.key,l=[];t.__pointCondition=l,t.__kv=r;var d=this.resolveCondition(e,i,a,t);if(e.not&&(d=!d,s="-"+s),e.resolve){var u=!0;if("reverse"===e.resolve?d=!d:"reverse-true"===e.resolve?d?d=!d:u=!1:"reverse-false"===e.resolve?d?u=!1:d=!d:"true"!==e.resolve||d?"false"===e.resolve&&d&&(u=!1):u=!1,u)throw n.push([s].concat(l)),Qv(d?"true":"false")}if(d){if(!o[s]){if(e.peers)return void(o[s]={status:"pending",peers:e.peers,push:[s].concat(l)});o[s]={status:"resolve"}}e.onlyAsRely||n.push([s].concat(l))}}))}))}else if("string"==typeof e){var{conditions:l}=this.stringSchema||{};if(!l)return{error:"noStringCondition",result:!1};l.forEach((t=>{if("Pat"===t.type){var i=!1;if(new RegExp(t.test.test,t.test.flag).test(e)&&(i=!0,t.not&&(i=!i),t.resolve)){var a=!0;if("reverse"===t.resolve?i=!i:"reverse-true"===t.resolve?i?i=!i:a=!1:"reverse-false"===t.resolve?i?a=!1:i=!i:"true"!==t.resolve||i?"false"===t.resolve&&i&&(a=!1):a=!1,a)throw n.push([t.key]),Qv(i?"true":"false")}i&&n.push([t.key])}}))}}catch(e){if("string"==typeof e){var d=e.match(/__return_resolve_(.*)/);if(d)return(d="false"!==d[1])?{result:!0,point:Yv(n),priority:"resolve",kvResult:this.prunePointKV(r)}:{result:!1,priority:"resolve",point:Yv(n)}}}this.resolvePendingCondition(n,o);var u,c,p,h,f=(u=n,c=this.priorities,p=!1,h=Yv(u).reduce(((e,t)=>{var i,a,n,r=c[(e=>{try{return e.split(".")[0]+".*"}catch(e){return""}})(t)];return(n=void 0!==r?r:"-"===t[0]?null!==(i=c[t])&&void 0!==i?i:-.5:null!==(a=c[t])&&void 0!==a?a:.5)===zv&&(p=!0),e+n}),0),h>0&&p?zv:h);return f>a?{result:!0,point:Yv(n),priority:f,kvResult:this.prunePointKV(r)}:{result:!1,priority:f,point:Yv(n)}}matchCondition(e,t,i={}){var{url:a}=i;if(!e||void 0===t)return null;if(a&&e.url&&!new RegExp(e.url,"i").test(a))return null;if("Pat"===e.type&&e.test)return new RegExp(e.test.test,e.test.flag).test(t);if("If"!==e.type||!e.if)return null;var n=e.if;if(n.pre)switch(n.pre){case"number":t=Number.isNaN(Number(t))&&null!==t?t:Number(t);break;case"string":t=String(t);break;case"boolean":t=!!t}switch(n.compare){case"not":return!t;case"eq":return t==n.right;case"stricteq":return t===n.right;case"gt":return t>n.right;case"gte":return t>=n.right;case"lt":return t<n.right;case"lte":return t<=n.right;case"Type":return Object.prototype.toString.call(t)===`[object ${n.right}]`;default:return!1}}resolveCondition(e,t,i,a={},{deep:n=!1,judgeWith:r=!1,prefix:o=""}={}){var s=a.url,l=a.__pointCondition||[],d=a.__kv;if(a.__pointCondition=[],void 0===t)return!1;try{if((0,Fv.Kn)(t)&&(r||n)){var u=t;return Object.keys(u).forEach((t=>{if(n&&(a.__pointCondition=l),this.resolveCondition(e,t,u[t],a,{deep:n,prefix:o}))throw n||l.push(e.key),$v})),!1}var c=null;if(c=this.matchCondition(e,t,{url:s}),Array.isArray(e.withRelyResponse)&&c&&(e.withRelyResponse.every((e=>this.matchCondition(e.condition,a[e.responseKey])))||(c=!1)),e.not&&null!==c&&(c=!c),c){var p,{with:h,withRely:f,someWith:m,someWithRely:v}=e,y=!(h||f||m||v);return h?(p=h.every((e=>this.resolveCondition(e,t,i,a,{deep:!1,judgeWith:!0}))),p&&l.push("a")&&d.push({[o+`${o?".":""}${t}`]:i})):f?(p=f.every((e=>this.resolveCondition(e,i,null,a))),p&&l.push("b")&&d.push({[o+`${o?".":""}${t}`]:i})):m?p=m.some((e=>{var n=this.resolveCondition(e,t,i,a,{deep:!1,judgeWith:!0});return n&&l.push("c_"+e.key)&&d.push({[o+`${o?".":""}${t}`]:i}),n})):v&&(p=v.some((e=>{var n=this.resolveCondition(e,i,null,a);return n&&l.push("d_"+e.key)&&d.push({[o+`${o?".":""}${t}`]:i}),n}))),p||y?!0:(i=qv(i),!(!e.deep||!(0,Fv.Kn)(i))&&(a.__pointCondition=l,this.resolveCondition(e,i,null,a,{deep:!0,prefix:o+`${o?".":""}${t}`})))}if((e.deep||e.thisDeep)&&(i=qv(e.deep?i:t),(0,Fv.Kn)(i)))return a.__pointCondition=l,this.resolveCondition(e,i,null,a,{deep:!0,prefix:o+`${o?".":""}${e.deep?t:""}`})}catch(e){return e===$v}}};var Kv,Xv,Jv,ey=[],ty=[],iy=[],ay=e=>{ty.push(e)},ny=e=>{iy.push(e)},ry=(e,t)=>{Jv=!!e&&new Zv(e,t),ey.forEach((e=>e(Jv)))},oy=(e,t,i=!1)=>{i?(Xv=new Zv(e,t),iy.forEach((e=>e(Xv)))):(Kv=new Zv(e,t),ty.forEach((e=>e(Kv))))},sy=e=>Array.isArray(e)?[...new Set(e)]:e,ly=e=>!!Jv&&(!!e.data&&Jv.judgeData(e.data,e)),dy=(e,t=!1,i=null,a={})=>{var{exceptionPriorirtyThreshold:n=0,delay:r}=a,o=i||(t?Xv:Kv);return o?!!e.data&&o.judgeData(e.data,e,{exceptionPriorirtyThreshold:n}):!!r&&new Promise((i=>{(t?ny:ay)((()=>{i((t?Xv:Kv).judgeData(e.data,e,{exceptionPriorirtyThreshold:n}))}))}))},uy=(e,t=!1)=>{var i=t?Xv:Kv;return!!i&&i.pruneOriginData(e)},cy=(e=!1,t)=>{var i,a=t?Jv:e?Xv:Kv;return a?null!==(i=a.getSchemaVersion())&&void 0!==i?i:-2:-1},py=(e,t,i=1,a=0)=>e+=t?i+",":a+",",hy=(e,t=!1,i=0)=>{var a,n=1!==i&&(2===i||(null===(a=Kv)||void 0===a?void 0:a.keyPriority)<=e),r=e===zv,o="";return o=py(o,!0,String(e)),o=py(o,t),o=py(o,!0,i?i+1:n?1:0),(o=py(o,!0,r?1:i?2:0)).endsWith(",")&&(o=o.slice(0,o.length-1)),o},fy=(e,t)=>({key:t,type:"Pat",test:{test:".*",flag:"i"},someWithRely:e.map((e=>{var t;return{type:"Pat",test:{test:e.pure,flag:null!==(t=e.flag)&&void 0!==t?t:""},key:e.key,deep:e.deep}}))}),my=(e,t)=>e.map((e=>{var i,a;return{type:"Pat",key:t+e.key,test:{test:e.matchKey,flag:null!==(i=e.flag)&&void 0!==i?i:""},deep:e.deep,withRely:[{type:"Pat",key:"",test:{test:e.pure,flag:null!==(a=e.flag)&&void 0!==a?a:""}}]}})),vy=(e,t)=>({key:t,type:"replace",replace:e.map((e=>{var t;return{tag:e.key,test:(e.prefix||"")+e.pure+(e.suffix||""),flag:null!==(t=e.flag)&&void 0!==t?t:"",modify:e.modify||""}}))}),yy=e=>{var{importantKeyInfo:t=[],sensitiveInfo:i=[],safeSensitiveInfo:a=[]}=e,n=[],r=[],o=[],s=[];i.forEach((e=>{e.matchKey?n.push(e):r.push(e)})),a.forEach((e=>{e.matchKey?o.push(e):s.push(e)}));var l=fy(r,"4000"),d=my(n,"4000.d_"),u=fy(s,"2000"),c=my(o,"2000.d_"),p=((e,t)=>e.map((e=>{var i;return{type:"Pat",key:t,test:{test:e.pure,flag:null!==(i=e.flag)&&void 0!==i?i:""},deep:e.deep}})))(t,"3000"),h=((e,t)=>e.map((e=>{var i;return{key:t,type:"match",test:{test:e.pure,flag:null!==(i=e.flag)&&void 0!==i?i:""},replace:"",deep:e.deep}})))(t,"502"),f=((e,t,i)=>({key:i,type:"match",test:{test:".*",flag:""},rely:{type:"replace",replace:[...e,...t].map((e=>{var t;return{tag:e.key,test:e.pure,flag:null!==(t=e.flag)&&void 0!==t?t:"",modify:e.modify||""}}))}}))(s,r,"501");return{prunes:[...h,f],prefixPrunes:[vy([...a,...i],"500")],conditions:[l,...d,u,...c,...p]}},gy=e=>{try{var t,i,a,n=e.common;if(!n)return;var{conditions:r,prunes:o,prefixPrunes:s}=yy(n);Array.isArray(null==e||null===(t=e.object)||void 0===t?void 0:t.conditions)&&e.object.conditions.unshift(...r),Array.isArray(null==e||null===(i=e.object)||void 0===i?void 0:i.prunes)&&e.object.prunes.push(...o),Array.isArray(null==e||null===(a=e.string)||void 0===a?void 0:a.prunes)&&e.string.prunes.push(...s)}catch(e){}},_y=e=>e&&e.filter((e=>e.startsWith("2000"))),Ay=(e,t,i)=>{var a,n,r=!1;try{try{e.data=JSON.parse(e.data)}catch(e){}if(t.data)try{t.data=JSON.parse(t.data)}catch(e){}var o=dy(e,!0);null!=o&&o.result&&(r=!0,n=o.point)}catch(e){}if(a=r,i)try{if(t.errMsg||t.statusCode>=400)return{hasError:!0,reportBody:t.data,isImportantRequest:a,isWxClientError:!0};var s,l,d,u,c;t.url=e.url,c=ly(t),delete t.url,!c||!c.result&&(null===(s=c.point)||void 0===s||!s.length)||!c.result&&null!==(l=c.point)&&void 0!==l&&l.length&&c.priority>-15?c=dy(t,!1,null,{delay:!0,exceptionPriorirtyThreshold:-(null!==(d=null===(u=c)||void 0===u?void 0:u.priority)&&void 0!==d?d:0)}):c.result&&(c.priority<15?c.hitUserLowPriortyCustom=!0:c.hitUserHighPriorityCustom=!0);var p=i=>{var r,o,s,l,d=(o=null==i?void 0:i.point)&&o.filter((e=>e.startsWith("4000")||e.startsWith("3000")||e.startsWith("2000")));return a=!!(a||null!==(r=d)&&void 0!==r&&r.length),n=sy(_y(n)),d=sy(_y(d)),null!=i&&i.result?{type:"checkResponse",hasError:!0,reportBody:null===(s=uy(t.data))||void 0===s?void 0:s.data,reportArgs:null===(l=uy(e.data))||void 0===l?void 0:l.data,isImportantRequest:a,key:hy(i.priority,a,i.hitUserLowPriortyCustom?1:i.hitUserHighPriorityCustom?2:0),point:sy(i.point),priority:i.priority,schemaVersion:cy(),kvResult:i.kvResult,...a?{sensitiveRequestPoint:n,sensitveResponsePoint:d}:{}}:{type:"checkResponse",isImportantRequest:a,hasError:!1,sensitiveRequestPoint:n,...a?{sensitiveRequestPoint:n,sensitveResponsePoint:d}:{}}};return(0,Fv.tI)(c)?new Promise((e=>{c.then((t=>{e(p(t))}))})):p(c)}catch(e){wxNativeConsole.error("interprete 24247 error:",e)}return{type:"checkRequest",point:n,isImportantRequest:a}},Ey={req:null,res:null},Cy={};Hv("initAesWasm",Mv),Hv("aesEncrypt",(e=>{var t,{data:i,tokenInfo:a,useBinary:n,isArrayData:r}=e;return r?t=new Uint8Array(i):ArrayBuffer.isView(i)||(t=Wv(i)),Nv(t,new Uint8Array(a.encryptKeyBytes),new Uint8Array(a.ivBytes)).then((e=>n?e.buffer:(0,Dv.sM)(e)))})),Hv("aesDecrypt",(e=>{var t,{tokenInfo:i,data:a}=e;return t="string"==typeof a?(0,Dv.RG)(a):new ArrayBuffer(0),function(e,t,i){return Mv().then((a=>{var n=(new a).decrypt(a.MODE_CBC,e,t,i);return n=(e=>e.slice(0,e.length-e[e.length-1]))(n),n}))}(new Uint8Array(t),new Uint8Array(i.encryptKeyBytes),new Uint8Array(i.ivBytes)).then((e=>function(e){for(var t=[],i=0,a=0,n=0;n<e.length;n++)if(i)a|=(63&e[n])<<6*--i,0===i&&t.push(Bv(a));else{if(240==(240&e[n]))i=3;else if(224==(224&e[n]))i=2;else if(192==(192&e[n]))i=1;else if(0==(128&e[n])){t.push(String.fromCharCode(e[n]));continue}a=(e[n]&255>>i+2)<<6*i}return t.join("")}(e)))})),Hv("createWeAppRequestInterpreter",(e=>{var{rules:t,appid:i,userRules:a}=e;try{t=JSON.parse(t)}catch(e){}if(t.exclusive){var{req:n,res:r}=t;return n&&(Ey.req={priorities:{},keyPriority:0,schemaVersion:t.schemaVersion,object:{conditions:n,prunes:null},string:{conditions:[],prunes:null}}),void(r&&(Ey.res={priorities:{},keyPriority:0,schemaVersion:t.schemaVersion,object:{conditions:r,prunes:null},string:{conditions:[],prunes:null}}))}if(Ey.req)oy(Ey.req,i,!0);else{var o=(e=>{if(null!=e&&e.common){var{conditions:t}=yy(e.common);return{priorities:{},keyPriority:0,schemaVersion:e.schemaVersion,object:{conditions:t,prunes:null},string:{conditions:[],prunes:null}}}})(t);oy(o,i,!0)}Ey.res?(Ey.res.object.prunes=t.object.prunes,Ey.res.string.prunes=t.string.prunes,Ey.res.common=t.common,gy(Ey.res)):gy(t),oy(Ey.res||t,i),(a||""===a)&&(e=>{var{userRules:t,appid:i}=e;try{var a;t&&(t=JSON.parse(t),a=Gv(t)),ry(a,i)}catch(e){wxNativeConsole.warn("createUserCustomInterpreter occur error:",e)}})({userRules:a,appid:i})})),Hv("checkRequest",((e={})=>{var{requestData:t,response:i,checkResponse:a=!0,delay:n}=e;return n&&!((e=!1)=>e?Xv:Kv)()?new Promise((e=>{var n=0,r=()=>{e(Ay(t,i,a))};ay((()=>{2===++n&&r()})),(e=>{ey.push(e)})((()=>{2===++n&&r()}))})):Ay(t,i,a)})),Hv("resolveInteractiveApiContent",((e={})=>{var t,i,a,{content:n}=e,r={data:n};return!(a=ly(r))||!a.result&&(null===(t=a.point)||void 0===t||!t.length)||!a.result&&null!==(i=a.point)&&void 0!==i&&i.length&&a.priority>-15?a=dy(r,!1,null):a.result&&(a.priority<15?a.hitUserLowPriortyCustom=!0:a.hitUserHighPriorityCustom=!0),a})),Hv("resolveApiFullRule",((e={})=>{var t=((e={})=>{var{name:t,rules:i,data:a}=e,n=Cy[t];return n||(n=Cy[t]=new Zv(i,e.appid)),dy({data:a},!1,n)})({data:e.data,rules:e.rules,name:"api",appid:e.appid});return t}));try{var by=new xv;n("shouldShowSplashAd",(e=>{by.show(e)}))}catch(e){}})()})()}(this);var __WASplashadWorkerEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;